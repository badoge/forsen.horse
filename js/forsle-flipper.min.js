var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var e=0;return $jscomp.iteratorPrototype(function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,e){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var b=c++;return{value:e(b,a[b]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,e,c,d){if(e){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var b=a[d];b in c||(c[b]={});c=c[b]}a=a[a.length-1];d=c[a];e=e(d);e!=d&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6-impl","es3");
(function(a){var e="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),c=0,d=0,b={FullYear:0,Month:0,Date:0},p={FullYear:{},Month:{},Date:{},classes:["ug-correct","ug-close","ug-far","ug-incorrect"]},q=new Date,g=function(l){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return a('<div class="'+b.join(" ")+'"></div>')},m=function(l){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return a('<button class="'+b.join(" ")+'"></button>')},f={Date:g("flipbox-picker","flipbox-date"),
Month:g("flipbox-picker","flipbox-month"),FullYear:g("flipbox-picker","flipbox-fullyear")},r=function(a){Object.keys(b).forEach(function(l){b[l]=a["get"+l]()})},n={Date:g("flipbox-picker-parent","flipbox-date-parent"),Month:g("flipbox-picker-parent","flipbox-month-parent"),FullYear:g("flipbox-picker-parent","flipbox-fullyear-parent"),global:g("flipbox-container")},k={Date:{up:m("flipbox-arrow","flipbox-arrow-up"),down:m("flipbox-arrow","flipbox-arrow-down")},Month:{up:m("flipbox-arrow","flipbox-arrow-up"),
down:m("flipbox-arrow","flipbox-arrow-down")},FullYear:{up:m("flipbox-arrow","flipbox-arrow-up"),down:m("flipbox-arrow","flipbox-arrow-down")}},h={adjustDate:function(a){a&&(b.Date+=Math.sign(a),a=(new Date(b.FullYear,b.Month+1,0)).getDate(),b.Date>a&&(b.Date=1),1>b.Date&&(b.Date=a),h.updateTexts())},adjustMonth:function(a){a&&(b.Month+=Math.sign(a),11<b.Month&&(b.Month=0),0>b.Month&&(b.Month=11),h.updateTexts(),h.setMaxDays())},adjustFullYear:function(a){a&&(b.FullYear+=Math.sign(a),b.FullYear=Math.max(2010,
Math.min((new Date).getFullYear(),b.FullYear)),h.updateTexts(),h.setMaxDays())},setMaxDays:function(){var a=(new Date(b.FullYear,b.Month+1,0)).getDate();b.Date>a&&(b.Date=a,h.updateTexts())},updateTexts:function(){Object.keys(f).forEach(function(a){switch(a){case "Month":f[a].text(e[b.Month]);break;default:f[a].text(b[a])}p.classes.forEach(function(c,l){f[a].toggleClass(c,p[a][b[a]]===l)})})}};Object.keys(k).forEach(function(a){k[a].up.on("click",function(){return h["adjust"+a](1)});k[a].down.on("click",
function(){return h["adjust"+a](-1)})});Object.keys(f).forEach(function(a){f[a].appendTo(n[a]);k[a].up.text("\u25b2");k[a].up.appendTo(n[a]);k[a].down.text("\u25bc");k[a].down.appendTo(n[a]);n[a].appendTo(n.global);f[a].on("wheel",function(b){b=b.originalEvent;b.preventDefault();c+=b.deltaY;0<c&&0>b.deltaY&&(c=0);0>c&&0<b.deltaY&&(c=0);if(10<c||-10>c)h["adjust"+a](b.deltaY),c=0});f[a].on("touchstart",function(a){d=a.originalEvent.changedTouches[0].pageY});f[a].on("touchmove",function(b){b=b.originalEvent;
b.preventDefault();var c=b.changedTouches[0].pageY-d,e=0;28<c?(e=-1,d=b.changedTouches[0].pageY):-28>c&&(e=1,d=b.changedTouches[0].pageY);h["adjust"+a](e)})});a.fn.forsleFlipper=function(a,c,e){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a||"object"!==typeof a||!a.consts)throw Error("Must provide [app] reference as first argument!");if(!c||"string"!==typeof c)throw Error("Must provide [action] string as second argument!");switch(c){case "init":(d=a.game.tries[a.game.tries.length-
1])&&(q=new Date(d));r(q);h.updateTexts();n.global.appendTo(this);break;case "setDate":if(!(d[0]&&d[0]instanceof Date))throw Error("Action 'setDate' expects a Date argument!");q=new Date(d[0]);r(q);h.updateTexts();break;case "getDate":return b.FullYear+"-"+String(b.Month+1).padStart(2,"0")+"-"+String(b.Date).padStart(2,"0");case "colors":if(!d[0]||"object"!==typeof d[0])throw Error("Action 'colors' expects an Object as a followup argument!");var g=d[0];Object.keys(b).forEach(function(a){if(g.hasOwnProperty(a)){if(!Array.isArray(g[a])||
2>g[a].length)throw Error("Element ["+a+"] of input argument is malformed! Expecting an array of 2 values - date element (number) and class name (string)");p[a][g[a][0]]=p.classes.indexOf(g[a][1])}});h.updateTexts();break;default:throw Error("Unknown action: "+c);}return this}})(jQuery);
