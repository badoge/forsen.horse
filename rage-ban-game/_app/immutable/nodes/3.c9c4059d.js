var Ef=Object.defineProperty;var Cf=(w,v,g)=>v in w?Ef(w,v,{enumerable:!0,configurable:!0,writable:!0,value:g}):w[v]=g;var or=(w,v,g)=>(Cf(w,typeof v!="symbol"?v+"":v,g),g);import{u as jt,A as Va,B as Af,C as wf,D as lr,E as Mf,F as ui,G as fa,s as Te,f as Q,a as lt,l as mt,g as q,h as nt,H as Rt,c as ht,d as k,m as gt,j as Y,I as pe,J as Rs,k as Ht,i as dt,r as V,K as pi,L as ne,M as Ai,N as $e,O as Ii,o as ti,p as Vi,P as Fs,e as Le,n as ee,Q as Ae,q as Gs,R as zr,S as ds,T as zi,U as ho,v as Ve,V as Ur,w as bf,x as Pf,y as Rf,z as Lf,W as Xr,X as Yr,Y as Nh,Z as Ff,_ as uo,$ as Of}from"../chunks/scheduler.42cb3d2e.js";import{n as Vh,l as zh,f as Df,h as If,g as Oe,t as wt,c as De,a as Tt,S as Se,i as Ee,b as Ut,d as Wt,m as Xt,j as Je,e as Yt,k as yi}from"../chunks/index.ee22a225.js";import{w as ii}from"../chunks/paths.a8058b69.js";import{n as oi,F as hr,t as _i,g as da,r as $r,s as Ke,a as Uh,b as te,c as Bf,d as Wr,M as he,e as ai,f as cn,h as za,C as zn,i as js,p as Xh,j as je,k as Zs,l as Gf,m as fo,o as Yh,q as $h,u as Wh,v as ur,w as co,x as Pr,y as vo,z as fr,G as Nf,A as Hh,B as Ua,D as Vf,E as po,H as zf,I as Uf}from"../chunks/GameTitle.123427fb.js";import{v as mo}from"../chunks/environment.59b2fa04.js";const Xf=!1,Yf=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function $f(w,v,g,E){if(!v)return jt;const M=w.getBoundingClientRect();if(v.left===M.left&&v.right===M.right&&v.top===M.top&&v.bottom===M.bottom)return jt;const{delay:P=0,duration:c=300,easing:y=Va,start:t=Vh()+P,end:o=t+c,tick:p=jt,css:s}=g(w,{from:v,to:M},E);let i=!0,n=!1,e;function r(){s&&(e=Df(w,0,1,c,P,y,s)),P||(n=!0)}function l(){s&&If(w,e),i=!1}return zh(a=>{if(!n&&a>=t&&(n=!0),n&&a>=o&&(p(1,0),l()),!i)return!1;if(n){const h=a-t,f=0+1*y(h/c);p(f,1-f)}return!0}),r(),p(0,1),l}function Wf(w){const v=getComputedStyle(w);if(v.position!=="absolute"&&v.position!=="fixed"){const{width:g,height:E}=v,M=w.getBoundingClientRect();w.style.position="absolute",w.style.width=g,w.style.height=E,Hf(w,M)}}function Hf(w,v){const g=w.getBoundingClientRect();if(v.left!==g.left||v.top!==g.top){const E=getComputedStyle(w),M=E.transform==="none"?"":E.transform;w.style.transform=`${M} translate(${v.left-g.left}px, ${v.top-g.top}px)`}}function go(w,v){const g=v.token={};function E(M,P,c,y){if(v.token!==g)return;v.resolved=y;let t=v.ctx;c!==void 0&&(t=t.slice(),t[c]=y);const o=M&&(v.current=M)(t);let p=!1;v.block&&(v.blocks?v.blocks.forEach((s,i)=>{i!==P&&s&&(Oe(),wt(s,1,1,()=>{v.blocks[i]===s&&(v.blocks[i]=null)}),De())}):v.block.d(1),o.c(),Tt(o,1),o.m(v.mount(),v.anchor),p=!0),v.block=o,v.blocks&&(v.blocks[P]=o),p&&Mf()}if(Af(w)){const M=wf();if(w.then(P=>{lr(M),E(v.then,1,v.value,P),lr(null)},P=>{if(lr(M),E(v.catch,2,v.error,P),lr(null),!v.hasCatch)throw P}),v.current!==v.pending)return E(v.pending,0),!0}else{if(v.current!==v.then)return E(v.then,1,v.value,w),!0;v.resolved=w}}function kf(w,v,g){const E=v.slice(),{resolved:M}=w;w.current===w.then&&(E[w.value]=M),w.current===w.catch&&(E[w.error]=M),w.block.p(E,g)}function ke(w){return(w==null?void 0:w.length)!==void 0?w:Array.from(w)}function jf(w,v){w.d(1),v.delete(w.key)}function Kf(w,v){wt(w,1,1,()=>{v.delete(w.key)})}function Zf(w,v){w.f(),Kf(w,v)}function kh(w,v,g,E,M,P,c,y,t,o,p,s){let i=w.length,n=P.length,e=i;const r={};for(;e--;)r[w[e].key]=e;const l=[],a=new Map,h=new Map,f=[];for(e=n;e--;){const x=s(M,P,e),S=g(x);let T=c.get(S);T?E&&f.push(()=>T.p(x,v)):(T=o(S,x),T.c()),a.set(S,l[e]=T),S in r&&h.set(S,Math.abs(e-r[S]))}const u=new Set,d=new Set;function m(x){Tt(x,1),x.m(y,p),c.set(x.key,x),p=x.first,n--}for(;i&&n;){const x=l[n-1],S=w[i-1],T=x.key,C=S.key;x===S?(p=x.first,i--,n--):a.has(C)?!c.has(T)||u.has(T)?m(x):d.has(C)?i--:h.get(T)>h.get(C)?(d.add(T),m(x)):(u.add(C),i--):(t(S,c),i--)}for(;i--;){const x=w[i];a.has(x.key)||t(x,c)}for(;n;)m(l[n-1]);return ui(f),l}const Js=Xf,Jf="auto",gy=Object.freeze(Object.defineProperty({__proto__:null,prerender:Jf},Symbol.toStringTag,{value:"Module"}));function Qf(w){return w<.5?4*w*w*w:.5*Math.pow(2*w-2,3)+1}function vn(w){const v=w-1;return v*v*v+1}function qf(w){return-.5*(Math.cos(Math.PI*w)-1)}function Ns(w,{delay:v=0,duration:g=400,easing:E=Qf,amount:M=5,opacity:P=0}={}){const c=getComputedStyle(w),y=+c.opacity,t=c.filter==="none"?"":c.filter,o=y*(1-P),[p,s]=fa(M);return{delay:v,duration:g,easing:E,css:(i,n)=>`opacity: ${y-o*n}; filter: ${t} blur(${n*p}${s});`}}function Vs(w,{delay:v=0,duration:g=400,easing:E=Va}={}){const M=+getComputedStyle(w).opacity;return{delay:v,duration:g,easing:E,css:P=>`opacity: ${P*M}`}}function Di(w,{delay:v=0,duration:g=400,easing:E=vn,x:M=0,y:P=0,opacity:c=0}={}){const y=getComputedStyle(w),t=+y.opacity,o=y.transform==="none"?"":y.transform,p=t*(1-c),[s,i]=fa(M),[n,e]=fa(P);return{delay:v,duration:g,easing:E,css:(r,l)=>`
			transform: ${o} translate(${(1-r)*s}${i}, ${(1-r)*n}${e});
			opacity: ${t-p*l}`}}function xo(w,{delay:v=0,duration:g=400,easing:E=vn,axis:M="y"}={}){const P=getComputedStyle(w),c=+P.opacity,y=M==="y"?"height":"width",t=parseFloat(P[y]),o=M==="y"?["top","bottom"]:["left","right"],p=o.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),s=parseFloat(P[`padding${p[0]}`]),i=parseFloat(P[`padding${p[1]}`]),n=parseFloat(P[`margin${p[0]}`]),e=parseFloat(P[`margin${p[1]}`]),r=parseFloat(P[`border${p[0]}Width`]),l=parseFloat(P[`border${p[1]}Width`]);return{delay:v,duration:g,easing:E,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*c};${y}: ${a*t}px;padding-${o[0]}: ${a*s}px;padding-${o[1]}: ${a*i}px;margin-${o[0]}: ${a*n}px;margin-${o[1]}: ${a*e}px;border-${o[0]}-width: ${a*r}px;border-${o[1]}-width: ${a*l}px;`}}function $i(w,{delay:v=0,duration:g=400,easing:E=vn,start:M=0,opacity:P=0}={}){const c=getComputedStyle(w),y=+c.opacity,t=c.transform==="none"?"":c.transform,o=1-M,p=y*(1-P);return{delay:v,duration:g,easing:E,css:(s,i)=>`
			transform: ${t} scale(${1-o*i});
			opacity: ${y-p*i}
		`}}const pn=new Set;let Rr=!1;class ri{constructor(v=oi,g=0){pn.add(this),v===oi&&console.warn("Instance of PausableTimeout was created with a dummy function, which was probably not intended.",this),this.callback=v,this.timeout=g,this.startedAt=0,this.remaining=g,this.isPaused=Rr,this.prime()}prime(){if(this._internal)throw new Error("A PausableTimeout cannot be primed twice!");return this.startedAt=Date.now(),this.isPaused=Rr,this.isPaused||(this._internal=setTimeout(()=>this.fire(),this.remaining)),this}fire(){this.callback(),this.clear()}pause(){return this.isPaused?this:(clearTimeout(this._internal),this._internal=null,this.isPaused=!0,this.remaining-=Date.now()-this.startedAt,this)}resume(){return this.isPaused?this.prime(this.remaining):this}clear(){return pn.delete(this),this._internal&&(clearTimeout(this._internal),this._internal=null),this}getRemainingTime(){return this.isPaused?this.remaining:this._internal?this.remaining-(Date.now()-this.startedAt):0}}class Li extends ri{constructor(v,g){super(v,g)}prime(){if(this._internal)throw new Error("A PausableInterval cannot be primed twice!");return this.startedAt=Date.now(),this.isPaused=!1,this._internal=setInterval(()=>this.fire(),this.timeout),this}restart(){return this.isPaused||this.pause().resume(),this}fire(){this.callback()}}function _f(){console.log("Global timer pause invoked. Timers affected: ",pn.size),Rr=!0,pn.forEach(w=>w.pause())}function yo(){console.log("All timers were unpaused. Timers affected: ",pn.size),Rr=!1,pn.forEach(w=>w.resume())}var Fi="top",Wi="bottom",Hi="right",Oi="left",Xa="auto",Kn=[Fi,Wi,Hi,Oi],mn="start",kn="end",td="clippingParents",jh="viewport",Dn="popper",ed="reference",To=Kn.reduce(function(w,v){return w.concat([v+"-"+mn,v+"-"+kn])},[]),Kh=[].concat(Kn,[Xa]).reduce(function(w,v){return w.concat([v,v+"-"+mn,v+"-"+kn])},[]),id="beforeRead",sd="read",nd="afterRead",rd="beforeMain",ad="main",od="afterMain",ld="beforeWrite",hd="write",ud="afterWrite",fd=[id,sd,nd,rd,ad,od,ld,hd,ud];function cs(w){return w?(w.nodeName||"").toLowerCase():null}function Ui(w){if(w==null)return window;if(w.toString()!=="[object Window]"){var v=w.ownerDocument;return v&&v.defaultView||window}return w}function Qs(w){var v=Ui(w).Element;return w instanceof v||w instanceof Element}function Yi(w){var v=Ui(w).HTMLElement;return w instanceof v||w instanceof HTMLElement}function Ya(w){if(typeof ShadowRoot>"u")return!1;var v=Ui(w).ShadowRoot;return w instanceof v||w instanceof ShadowRoot}function dd(w){var v=w.state;Object.keys(v.elements).forEach(function(g){var E=v.styles[g]||{},M=v.attributes[g]||{},P=v.elements[g];!Yi(P)||!cs(P)||(Object.assign(P.style,E),Object.keys(M).forEach(function(c){var y=M[c];y===!1?P.removeAttribute(c):P.setAttribute(c,y===!0?"":y)}))})}function cd(w){var v=w.state,g={popper:{position:v.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(v.elements.popper.style,g.popper),v.styles=g,v.elements.arrow&&Object.assign(v.elements.arrow.style,g.arrow),function(){Object.keys(v.elements).forEach(function(E){var M=v.elements[E],P=v.attributes[E]||{},c=Object.keys(v.styles.hasOwnProperty(E)?v.styles[E]:g[E]),y=c.reduce(function(t,o){return t[o]="",t},{});!Yi(M)||!cs(M)||(Object.assign(M.style,y),Object.keys(P).forEach(function(t){M.removeAttribute(t)}))})}}const Zh={name:"applyStyles",enabled:!0,phase:"write",fn:dd,effect:cd,requires:["computeStyles"]};function fs(w){return w.split("-")[0]}var Ks=Math.max,Lr=Math.min,gn=Math.round;function ca(){var w=navigator.userAgentData;return w!=null&&w.brands&&Array.isArray(w.brands)?w.brands.map(function(v){return v.brand+"/"+v.version}).join(" "):navigator.userAgent}function Jh(){return!/^((?!chrome|android).)*safari/i.test(ca())}function xn(w,v,g){v===void 0&&(v=!1),g===void 0&&(g=!1);var E=w.getBoundingClientRect(),M=1,P=1;v&&Yi(w)&&(M=w.offsetWidth>0&&gn(E.width)/w.offsetWidth||1,P=w.offsetHeight>0&&gn(E.height)/w.offsetHeight||1);var c=Qs(w)?Ui(w):window,y=c.visualViewport,t=!Jh()&&g,o=(E.left+(t&&y?y.offsetLeft:0))/M,p=(E.top+(t&&y?y.offsetTop:0))/P,s=E.width/M,i=E.height/P;return{width:s,height:i,top:p,right:o+s,bottom:p+i,left:o,x:o,y:p}}function $a(w){var v=xn(w),g=w.offsetWidth,E=w.offsetHeight;return Math.abs(v.width-g)<=1&&(g=v.width),Math.abs(v.height-E)<=1&&(E=v.height),{x:w.offsetLeft,y:w.offsetTop,width:g,height:E}}function Qh(w,v){var g=v.getRootNode&&v.getRootNode();if(w.contains(v))return!0;if(g&&Ya(g)){var E=v;do{if(E&&w.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function Es(w){return Ui(w).getComputedStyle(w)}function vd(w){return["table","td","th"].indexOf(cs(w))>=0}function zs(w){return((Qs(w)?w.ownerDocument:w.document)||window.document).documentElement}function Hr(w){return cs(w)==="html"?w:w.assignedSlot||w.parentNode||(Ya(w)?w.host:null)||zs(w)}function So(w){return!Yi(w)||Es(w).position==="fixed"?null:w.offsetParent}function pd(w){var v=/firefox/i.test(ca()),g=/Trident/i.test(ca());if(g&&Yi(w)){var E=Es(w);if(E.position==="fixed")return null}var M=Hr(w);for(Ya(M)&&(M=M.host);Yi(M)&&["html","body"].indexOf(cs(M))<0;){var P=Es(M);if(P.transform!=="none"||P.perspective!=="none"||P.contain==="paint"||["transform","perspective"].indexOf(P.willChange)!==-1||v&&P.willChange==="filter"||v&&P.filter&&P.filter!=="none")return M;M=M.parentNode}return null}function Zn(w){for(var v=Ui(w),g=So(w);g&&vd(g)&&Es(g).position==="static";)g=So(g);return g&&(cs(g)==="html"||cs(g)==="body"&&Es(g).position==="static")?v:g||pd(w)||v}function Wa(w){return["top","bottom"].indexOf(w)>=0?"x":"y"}function Un(w,v,g){return Ks(w,Lr(v,g))}function md(w,v,g){var E=Un(w,v,g);return E>g?g:E}function qh(){return{top:0,right:0,bottom:0,left:0}}function _h(w){return Object.assign({},qh(),w)}function tu(w,v){return v.reduce(function(g,E){return g[E]=w,g},{})}var gd=function(v,g){return v=typeof v=="function"?v(Object.assign({},g.rects,{placement:g.placement})):v,_h(typeof v!="number"?v:tu(v,Kn))};function xd(w){var v,g=w.state,E=w.name,M=w.options,P=g.elements.arrow,c=g.modifiersData.popperOffsets,y=fs(g.placement),t=Wa(y),o=[Oi,Hi].indexOf(y)>=0,p=o?"height":"width";if(!(!P||!c)){var s=gd(M.padding,g),i=$a(P),n=t==="y"?Fi:Oi,e=t==="y"?Wi:Hi,r=g.rects.reference[p]+g.rects.reference[t]-c[t]-g.rects.popper[p],l=c[t]-g.rects.reference[t],a=Zn(P),h=a?t==="y"?a.clientHeight||0:a.clientWidth||0:0,f=r/2-l/2,u=s[n],d=h-i[p]-s[e],m=h/2-i[p]/2+f,x=Un(u,m,d),S=t;g.modifiersData[E]=(v={},v[S]=x,v.centerOffset=x-m,v)}}function yd(w){var v=w.state,g=w.options,E=g.element,M=E===void 0?"[data-popper-arrow]":E;M!=null&&(typeof M=="string"&&(M=v.elements.popper.querySelector(M),!M)||Qh(v.elements.popper,M)&&(v.elements.arrow=M))}const Td={name:"arrow",enabled:!0,phase:"main",fn:xd,effect:yd,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yn(w){return w.split("-")[1]}var Sd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ed(w,v){var g=w.x,E=w.y,M=v.devicePixelRatio||1;return{x:gn(g*M)/M||0,y:gn(E*M)/M||0}}function Eo(w){var v,g=w.popper,E=w.popperRect,M=w.placement,P=w.variation,c=w.offsets,y=w.position,t=w.gpuAcceleration,o=w.adaptive,p=w.roundOffsets,s=w.isFixed,i=c.x,n=i===void 0?0:i,e=c.y,r=e===void 0?0:e,l=typeof p=="function"?p({x:n,y:r}):{x:n,y:r};n=l.x,r=l.y;var a=c.hasOwnProperty("x"),h=c.hasOwnProperty("y"),f=Oi,u=Fi,d=window;if(o){var m=Zn(g),x="clientHeight",S="clientWidth";if(m===Ui(g)&&(m=zs(g),Es(m).position!=="static"&&y==="absolute"&&(x="scrollHeight",S="scrollWidth")),m=m,M===Fi||(M===Oi||M===Hi)&&P===kn){u=Wi;var T=s&&m===d&&d.visualViewport?d.visualViewport.height:m[x];r-=T-E.height,r*=t?1:-1}if(M===Oi||(M===Fi||M===Wi)&&P===kn){f=Hi;var C=s&&m===d&&d.visualViewport?d.visualViewport.width:m[S];n-=C-E.width,n*=t?1:-1}}var A=Object.assign({position:y},o&&Sd),b=p===!0?Ed({x:n,y:r},Ui(g)):{x:n,y:r};if(n=b.x,r=b.y,t){var R;return Object.assign({},A,(R={},R[u]=h?"0":"",R[f]=a?"0":"",R.transform=(d.devicePixelRatio||1)<=1?"translate("+n+"px, "+r+"px)":"translate3d("+n+"px, "+r+"px, 0)",R))}return Object.assign({},A,(v={},v[u]=h?r+"px":"",v[f]=a?n+"px":"",v.transform="",v))}function Cd(w){var v=w.state,g=w.options,E=g.gpuAcceleration,M=E===void 0?!0:E,P=g.adaptive,c=P===void 0?!0:P,y=g.roundOffsets,t=y===void 0?!0:y,o={placement:fs(v.placement),variation:yn(v.placement),popper:v.elements.popper,popperRect:v.rects.popper,gpuAcceleration:M,isFixed:v.options.strategy==="fixed"};v.modifiersData.popperOffsets!=null&&(v.styles.popper=Object.assign({},v.styles.popper,Eo(Object.assign({},o,{offsets:v.modifiersData.popperOffsets,position:v.options.strategy,adaptive:c,roundOffsets:t})))),v.modifiersData.arrow!=null&&(v.styles.arrow=Object.assign({},v.styles.arrow,Eo(Object.assign({},o,{offsets:v.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:t})))),v.attributes.popper=Object.assign({},v.attributes.popper,{"data-popper-placement":v.placement})}const Ad={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cd,data:{}};var dr={passive:!0};function wd(w){var v=w.state,g=w.instance,E=w.options,M=E.scroll,P=M===void 0?!0:M,c=E.resize,y=c===void 0?!0:c,t=Ui(v.elements.popper),o=[].concat(v.scrollParents.reference,v.scrollParents.popper);return P&&o.forEach(function(p){p.addEventListener("scroll",g.update,dr)}),y&&t.addEventListener("resize",g.update,dr),function(){P&&o.forEach(function(p){p.removeEventListener("scroll",g.update,dr)}),y&&t.removeEventListener("resize",g.update,dr)}}const Md={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wd,data:{}};var bd={left:"right",right:"left",bottom:"top",top:"bottom"};function Ar(w){return w.replace(/left|right|bottom|top/g,function(v){return bd[v]})}var Pd={start:"end",end:"start"};function Co(w){return w.replace(/start|end/g,function(v){return Pd[v]})}function Ha(w){var v=Ui(w),g=v.pageXOffset,E=v.pageYOffset;return{scrollLeft:g,scrollTop:E}}function ka(w){return xn(zs(w)).left+Ha(w).scrollLeft}function Rd(w,v){var g=Ui(w),E=zs(w),M=g.visualViewport,P=E.clientWidth,c=E.clientHeight,y=0,t=0;if(M){P=M.width,c=M.height;var o=Jh();(o||!o&&v==="fixed")&&(y=M.offsetLeft,t=M.offsetTop)}return{width:P,height:c,x:y+ka(w),y:t}}function Ld(w){var v,g=zs(w),E=Ha(w),M=(v=w.ownerDocument)==null?void 0:v.body,P=Ks(g.scrollWidth,g.clientWidth,M?M.scrollWidth:0,M?M.clientWidth:0),c=Ks(g.scrollHeight,g.clientHeight,M?M.scrollHeight:0,M?M.clientHeight:0),y=-E.scrollLeft+ka(w),t=-E.scrollTop;return Es(M||g).direction==="rtl"&&(y+=Ks(g.clientWidth,M?M.clientWidth:0)-P),{width:P,height:c,x:y,y:t}}function ja(w){var v=Es(w),g=v.overflow,E=v.overflowX,M=v.overflowY;return/auto|scroll|overlay|hidden/.test(g+M+E)}function eu(w){return["html","body","#document"].indexOf(cs(w))>=0?w.ownerDocument.body:Yi(w)&&ja(w)?w:eu(Hr(w))}function Xn(w,v){var g;v===void 0&&(v=[]);var E=eu(w),M=E===((g=w.ownerDocument)==null?void 0:g.body),P=Ui(E),c=M?[P].concat(P.visualViewport||[],ja(E)?E:[]):E,y=v.concat(c);return M?y:y.concat(Xn(Hr(c)))}function va(w){return Object.assign({},w,{left:w.x,top:w.y,right:w.x+w.width,bottom:w.y+w.height})}function Fd(w,v){var g=xn(w,!1,v==="fixed");return g.top=g.top+w.clientTop,g.left=g.left+w.clientLeft,g.bottom=g.top+w.clientHeight,g.right=g.left+w.clientWidth,g.width=w.clientWidth,g.height=w.clientHeight,g.x=g.left,g.y=g.top,g}function Ao(w,v,g){return v===jh?va(Rd(w,g)):Qs(v)?Fd(v,g):va(Ld(zs(w)))}function Od(w){var v=Xn(Hr(w)),g=["absolute","fixed"].indexOf(Es(w).position)>=0,E=g&&Yi(w)?Zn(w):w;return Qs(E)?v.filter(function(M){return Qs(M)&&Qh(M,E)&&cs(M)!=="body"}):[]}function Dd(w,v,g,E){var M=v==="clippingParents"?Od(w):[].concat(v),P=[].concat(M,[g]),c=P[0],y=P.reduce(function(t,o){var p=Ao(w,o,E);return t.top=Ks(p.top,t.top),t.right=Lr(p.right,t.right),t.bottom=Lr(p.bottom,t.bottom),t.left=Ks(p.left,t.left),t},Ao(w,c,E));return y.width=y.right-y.left,y.height=y.bottom-y.top,y.x=y.left,y.y=y.top,y}function iu(w){var v=w.reference,g=w.element,E=w.placement,M=E?fs(E):null,P=E?yn(E):null,c=v.x+v.width/2-g.width/2,y=v.y+v.height/2-g.height/2,t;switch(M){case Fi:t={x:c,y:v.y-g.height};break;case Wi:t={x:c,y:v.y+v.height};break;case Hi:t={x:v.x+v.width,y};break;case Oi:t={x:v.x-g.width,y};break;default:t={x:v.x,y:v.y}}var o=M?Wa(M):null;if(o!=null){var p=o==="y"?"height":"width";switch(P){case mn:t[o]=t[o]-(v[p]/2-g[p]/2);break;case kn:t[o]=t[o]+(v[p]/2-g[p]/2);break}}return t}function jn(w,v){v===void 0&&(v={});var g=v,E=g.placement,M=E===void 0?w.placement:E,P=g.strategy,c=P===void 0?w.strategy:P,y=g.boundary,t=y===void 0?td:y,o=g.rootBoundary,p=o===void 0?jh:o,s=g.elementContext,i=s===void 0?Dn:s,n=g.altBoundary,e=n===void 0?!1:n,r=g.padding,l=r===void 0?0:r,a=_h(typeof l!="number"?l:tu(l,Kn)),h=i===Dn?ed:Dn,f=w.rects.popper,u=w.elements[e?h:i],d=Dd(Qs(u)?u:u.contextElement||zs(w.elements.popper),t,p,c),m=xn(w.elements.reference),x=iu({reference:m,element:f,strategy:"absolute",placement:M}),S=va(Object.assign({},f,x)),T=i===Dn?S:m,C={top:d.top-T.top+a.top,bottom:T.bottom-d.bottom+a.bottom,left:d.left-T.left+a.left,right:T.right-d.right+a.right},A=w.modifiersData.offset;if(i===Dn&&A){var b=A[M];Object.keys(C).forEach(function(R){var F=[Hi,Wi].indexOf(R)>=0?1:-1,L=[Fi,Wi].indexOf(R)>=0?"y":"x";C[R]+=b[L]*F})}return C}function Id(w,v){v===void 0&&(v={});var g=v,E=g.placement,M=g.boundary,P=g.rootBoundary,c=g.padding,y=g.flipVariations,t=g.allowedAutoPlacements,o=t===void 0?Kh:t,p=yn(E),s=p?y?To:To.filter(function(e){return yn(e)===p}):Kn,i=s.filter(function(e){return o.indexOf(e)>=0});i.length===0&&(i=s);var n=i.reduce(function(e,r){return e[r]=jn(w,{placement:r,boundary:M,rootBoundary:P,padding:c})[fs(r)],e},{});return Object.keys(n).sort(function(e,r){return n[e]-n[r]})}function Bd(w){if(fs(w)===Xa)return[];var v=Ar(w);return[Co(w),v,Co(v)]}function Gd(w){var v=w.state,g=w.options,E=w.name;if(!v.modifiersData[E]._skip){for(var M=g.mainAxis,P=M===void 0?!0:M,c=g.altAxis,y=c===void 0?!0:c,t=g.fallbackPlacements,o=g.padding,p=g.boundary,s=g.rootBoundary,i=g.altBoundary,n=g.flipVariations,e=n===void 0?!0:n,r=g.allowedAutoPlacements,l=v.options.placement,a=fs(l),h=a===l,f=t||(h||!e?[Ar(l)]:Bd(l)),u=[l].concat(f).reduce(function(j,D){return j.concat(fs(D)===Xa?Id(v,{placement:D,boundary:p,rootBoundary:s,padding:o,flipVariations:e,allowedAutoPlacements:r}):D)},[]),d=v.rects.reference,m=v.rects.popper,x=new Map,S=!0,T=u[0],C=0;C<u.length;C++){var A=u[C],b=fs(A),R=yn(A)===mn,F=[Fi,Wi].indexOf(b)>=0,L=F?"width":"height",O=jn(v,{placement:A,boundary:p,rootBoundary:s,altBoundary:i,padding:o}),I=F?R?Hi:Oi:R?Wi:Fi;d[L]>m[L]&&(I=Ar(I));var B=Ar(I),U=[];if(P&&U.push(O[b]<=0),y&&U.push(O[I]<=0,O[B]<=0),U.every(function(j){return j})){T=A,S=!1;break}x.set(A,U)}if(S)for(var H=e?3:1,J=function(D){var z=u.find(function($){var K=x.get($);if(K)return K.slice(0,D).every(function(Z){return Z})});if(z)return T=z,"break"},tt=H;tt>0;tt--){var X=J(tt);if(X==="break")break}v.placement!==T&&(v.modifiersData[E]._skip=!0,v.placement=T,v.reset=!0)}}const Nd={name:"flip",enabled:!0,phase:"main",fn:Gd,requiresIfExists:["offset"],data:{_skip:!1}};function wo(w,v,g){return g===void 0&&(g={x:0,y:0}),{top:w.top-v.height-g.y,right:w.right-v.width+g.x,bottom:w.bottom-v.height+g.y,left:w.left-v.width-g.x}}function Mo(w){return[Fi,Hi,Wi,Oi].some(function(v){return w[v]>=0})}function Vd(w){var v=w.state,g=w.name,E=v.rects.reference,M=v.rects.popper,P=v.modifiersData.preventOverflow,c=jn(v,{elementContext:"reference"}),y=jn(v,{altBoundary:!0}),t=wo(c,E),o=wo(y,M,P),p=Mo(t),s=Mo(o);v.modifiersData[g]={referenceClippingOffsets:t,popperEscapeOffsets:o,isReferenceHidden:p,hasPopperEscaped:s},v.attributes.popper=Object.assign({},v.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":s})}const zd={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vd};function Ud(w,v,g){var E=fs(w),M=[Oi,Fi].indexOf(E)>=0?-1:1,P=typeof g=="function"?g(Object.assign({},v,{placement:w})):g,c=P[0],y=P[1];return c=c||0,y=(y||0)*M,[Oi,Hi].indexOf(E)>=0?{x:y,y:c}:{x:c,y}}function Xd(w){var v=w.state,g=w.options,E=w.name,M=g.offset,P=M===void 0?[0,0]:M,c=Kh.reduce(function(p,s){return p[s]=Ud(s,v.rects,P),p},{}),y=c[v.placement],t=y.x,o=y.y;v.modifiersData.popperOffsets!=null&&(v.modifiersData.popperOffsets.x+=t,v.modifiersData.popperOffsets.y+=o),v.modifiersData[E]=c}const Yd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xd};function $d(w){var v=w.state,g=w.name;v.modifiersData[g]=iu({reference:v.rects.reference,element:v.rects.popper,strategy:"absolute",placement:v.placement})}const Wd={name:"popperOffsets",enabled:!0,phase:"read",fn:$d,data:{}};function Hd(w){return w==="x"?"y":"x"}function kd(w){var v=w.state,g=w.options,E=w.name,M=g.mainAxis,P=M===void 0?!0:M,c=g.altAxis,y=c===void 0?!1:c,t=g.boundary,o=g.rootBoundary,p=g.altBoundary,s=g.padding,i=g.tether,n=i===void 0?!0:i,e=g.tetherOffset,r=e===void 0?0:e,l=jn(v,{boundary:t,rootBoundary:o,padding:s,altBoundary:p}),a=fs(v.placement),h=yn(v.placement),f=!h,u=Wa(a),d=Hd(u),m=v.modifiersData.popperOffsets,x=v.rects.reference,S=v.rects.popper,T=typeof r=="function"?r(Object.assign({},v.rects,{placement:v.placement})):r,C=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),A=v.modifiersData.offset?v.modifiersData.offset[v.placement]:null,b={x:0,y:0};if(m){if(P){var R,F=u==="y"?Fi:Oi,L=u==="y"?Wi:Hi,O=u==="y"?"height":"width",I=m[u],B=I+l[F],U=I-l[L],H=n?-S[O]/2:0,J=h===mn?x[O]:S[O],tt=h===mn?-S[O]:-x[O],X=v.elements.arrow,j=n&&X?$a(X):{width:0,height:0},D=v.modifiersData["arrow#persistent"]?v.modifiersData["arrow#persistent"].padding:qh(),z=D[F],$=D[L],K=Un(0,x[O],j[O]),Z=f?x[O]/2-H-K-z-C.mainAxis:J-K-z-C.mainAxis,it=f?-x[O]/2+H+K+$+C.mainAxis:tt+K+$+C.mainAxis,st=v.elements.arrow&&Zn(v.elements.arrow),at=st?u==="y"?st.clientTop||0:st.clientLeft||0:0,ut=(R=A==null?void 0:A[u])!=null?R:0,vt=I+Z-ut-at,xt=I+it-ut,Et=Un(n?Lr(B,vt):B,I,n?Ks(U,xt):U);m[u]=Et,b[u]=Et-I}if(y){var yt,bt=u==="x"?Fi:Oi,Dt=u==="x"?Wi:Hi,Vt=m[d],Nt=d==="y"?"height":"width",Mt=Vt+l[bt],It=Vt-l[Dt],Lt=[Fi,Oi].indexOf(a)!==-1,kt=(yt=A==null?void 0:A[d])!=null?yt:0,qt=Lt?Mt:Vt-x[Nt]-S[Nt]-kt+C.altAxis,se=Lt?Vt+x[Nt]+S[Nt]-kt-C.altAxis:It,ie=n&&Lt?md(qt,Vt,se):Un(n?qt:Mt,Vt,n?se:It);m[d]=ie,b[d]=ie-Vt}v.modifiersData[E]=b}}const jd={name:"preventOverflow",enabled:!0,phase:"main",fn:kd,requiresIfExists:["offset"]};function Kd(w){return{scrollLeft:w.scrollLeft,scrollTop:w.scrollTop}}function Zd(w){return w===Ui(w)||!Yi(w)?Ha(w):Kd(w)}function Jd(w){var v=w.getBoundingClientRect(),g=gn(v.width)/w.offsetWidth||1,E=gn(v.height)/w.offsetHeight||1;return g!==1||E!==1}function Qd(w,v,g){g===void 0&&(g=!1);var E=Yi(v),M=Yi(v)&&Jd(v),P=zs(v),c=xn(w,M,g),y={scrollLeft:0,scrollTop:0},t={x:0,y:0};return(E||!E&&!g)&&((cs(v)!=="body"||ja(P))&&(y=Zd(v)),Yi(v)?(t=xn(v,!0),t.x+=v.clientLeft,t.y+=v.clientTop):P&&(t.x=ka(P))),{x:c.left+y.scrollLeft-t.x,y:c.top+y.scrollTop-t.y,width:c.width,height:c.height}}function qd(w){var v=new Map,g=new Set,E=[];w.forEach(function(P){v.set(P.name,P)});function M(P){g.add(P.name);var c=[].concat(P.requires||[],P.requiresIfExists||[]);c.forEach(function(y){if(!g.has(y)){var t=v.get(y);t&&M(t)}}),E.push(P)}return w.forEach(function(P){g.has(P.name)||M(P)}),E}function _d(w){var v=qd(w);return fd.reduce(function(g,E){return g.concat(v.filter(function(M){return M.phase===E}))},[])}function tc(w){var v;return function(){return v||(v=new Promise(function(g){Promise.resolve().then(function(){v=void 0,g(w())})})),v}}function ec(w){var v=w.reduce(function(g,E){var M=g[E.name];return g[E.name]=M?Object.assign({},M,E,{options:Object.assign({},M.options,E.options),data:Object.assign({},M.data,E.data)}):E,g},{});return Object.keys(v).map(function(g){return v[g]})}var bo={placement:"bottom",modifiers:[],strategy:"absolute"};function Po(){for(var w=arguments.length,v=new Array(w),g=0;g<w;g++)v[g]=arguments[g];return!v.some(function(E){return!(E&&typeof E.getBoundingClientRect=="function")})}function ic(w){w===void 0&&(w={});var v=w,g=v.defaultModifiers,E=g===void 0?[]:g,M=v.defaultOptions,P=M===void 0?bo:M;return function(y,t,o){o===void 0&&(o=P);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},bo,P),modifiersData:{},elements:{reference:y,popper:t},attributes:{},styles:{}},s=[],i=!1,n={state:p,setOptions:function(a){var h=typeof a=="function"?a(p.options):a;r(),p.options=Object.assign({},P,p.options,h),p.scrollParents={reference:Qs(y)?Xn(y):y.contextElement?Xn(y.contextElement):[],popper:Xn(t)};var f=_d(ec([].concat(E,p.options.modifiers)));return p.orderedModifiers=f.filter(function(u){return u.enabled}),e(),n.update()},forceUpdate:function(){if(!i){var a=p.elements,h=a.reference,f=a.popper;if(Po(h,f)){p.rects={reference:Qd(h,Zn(f),p.options.strategy==="fixed"),popper:$a(f)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(C){return p.modifiersData[C.name]=Object.assign({},C.data)});for(var u=0;u<p.orderedModifiers.length;u++){if(p.reset===!0){p.reset=!1,u=-1;continue}var d=p.orderedModifiers[u],m=d.fn,x=d.options,S=x===void 0?{}:x,T=d.name;typeof m=="function"&&(p=m({state:p,options:S,name:T,instance:n})||p)}}}},update:tc(function(){return new Promise(function(l){n.forceUpdate(),l(p)})}),destroy:function(){r(),i=!0}};if(!Po(y,t))return n;n.setOptions(o).then(function(l){!i&&o.onFirstUpdate&&o.onFirstUpdate(l)});function e(){p.orderedModifiers.forEach(function(l){var a=l.name,h=l.options,f=h===void 0?{}:h,u=l.effect;if(typeof u=="function"){var d=u({state:p,name:a,instance:n,options:f}),m=function(){};s.push(d||m)}})}function r(){s.forEach(function(l){return l()}),s=[]}return n}}var sc=[Md,Wd,Ad,Zh,Yd,Nd,jd,Td,zd],nc=ic({defaultModifiers:sc}),rc='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',ac="tippy-box",su="tippy-content",oc="tippy-backdrop",nu="tippy-arrow",ru="tippy-svg-arrow",Hs={passive:!0,capture:!0},au=function(){return document.body};function ea(w,v,g){if(Array.isArray(w)){var E=w[v];return E??(Array.isArray(g)?g[v]:g)}return w}function Ka(w,v){var g={}.toString.call(w);return g.indexOf("[object")===0&&g.indexOf(v+"]")>-1}function ou(w,v){return typeof w=="function"?w.apply(void 0,v):w}function Ro(w,v){if(v===0)return w;var g;return function(E){clearTimeout(g),g=setTimeout(function(){w(E)},v)}}function lc(w){return w.split(/\s+/).filter(Boolean)}function fn(w){return[].concat(w)}function Lo(w,v){w.indexOf(v)===-1&&w.push(v)}function hc(w){return w.filter(function(v,g){return w.indexOf(v)===g})}function uc(w){return w.split("-")[0]}function Fr(w){return[].slice.call(w)}function Fo(w){return Object.keys(w).reduce(function(v,g){return w[g]!==void 0&&(v[g]=w[g]),v},{})}function Yn(){return document.createElement("div")}function kr(w){return["Element","Fragment"].some(function(v){return Ka(w,v)})}function fc(w){return Ka(w,"NodeList")}function dc(w){return Ka(w,"MouseEvent")}function cc(w){return!!(w&&w._tippy&&w._tippy.reference===w)}function vc(w){return kr(w)?[w]:fc(w)?Fr(w):Array.isArray(w)?w:Fr(document.querySelectorAll(w))}function ia(w,v){w.forEach(function(g){g&&(g.style.transitionDuration=v+"ms")})}function Oo(w,v){w.forEach(function(g){g&&g.setAttribute("data-state",v)})}function pc(w){var v,g=fn(w),E=g[0];return E!=null&&(v=E.ownerDocument)!=null&&v.body?E.ownerDocument:document}function mc(w,v){var g=v.clientX,E=v.clientY;return w.every(function(M){var P=M.popperRect,c=M.popperState,y=M.props,t=y.interactiveBorder,o=uc(c.placement),p=c.modifiersData.offset;if(!p)return!0;var s=o==="bottom"?p.top.y:0,i=o==="top"?p.bottom.y:0,n=o==="right"?p.left.x:0,e=o==="left"?p.right.x:0,r=P.top-E+s>t,l=E-P.bottom-i>t,a=P.left-g+n>t,h=g-P.right-e>t;return r||l||a||h})}function sa(w,v,g){var E=v+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(M){w[E](M,g)})}function Do(w,v){for(var g=v;g;){var E;if(w.contains(g))return!0;g=g.getRootNode==null||(E=g.getRootNode())==null?void 0:E.host}return!1}var us={isTouch:!1},Io=0;function gc(){us.isTouch||(us.isTouch=!0,window.performance&&document.addEventListener("mousemove",lu))}function lu(){var w=performance.now();w-Io<20&&(us.isTouch=!1,document.removeEventListener("mousemove",lu)),Io=w}function xc(){var w=document.activeElement;if(cc(w)){var v=w._tippy;w.blur&&!v.state.isVisible&&w.blur()}}function yc(){document.addEventListener("touchstart",gc,Hs),window.addEventListener("blur",xc)}var Tc=typeof window<"u"&&typeof document<"u",Sc=Tc?!!window.msCrypto:!1,Ec={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Cc={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ts=Object.assign({appendTo:au,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ec,Cc),Ac=Object.keys(ts),wc=function(v){var g=Object.keys(v);g.forEach(function(E){ts[E]=v[E]})};function hu(w){var v=w.plugins||[],g=v.reduce(function(E,M){var P=M.name,c=M.defaultValue;if(P){var y;E[P]=w[P]!==void 0?w[P]:(y=ts[P])!=null?y:c}return E},{});return Object.assign({},w,g)}function Mc(w,v){var g=v?Object.keys(hu(Object.assign({},ts,{plugins:v}))):Ac,E=g.reduce(function(M,P){var c=(w.getAttribute("data-tippy-"+P)||"").trim();if(!c)return M;if(P==="content")M[P]=c;else try{M[P]=JSON.parse(c)}catch{M[P]=c}return M},{});return E}function Bo(w,v){var g=Object.assign({},v,{content:ou(v.content,[w])},v.ignoreAttributes?{}:Mc(w,v.plugins));return g.aria=Object.assign({},ts.aria,g.aria),g.aria={expanded:g.aria.expanded==="auto"?v.interactive:g.aria.expanded,content:g.aria.content==="auto"?v.interactive?null:"describedby":g.aria.content},g}var bc=function(){return"innerHTML"};function pa(w,v){w[bc()]=v}function Go(w){var v=Yn();return w===!0?v.className=nu:(v.className=ru,kr(w)?v.appendChild(w):pa(v,w)),v}function No(w,v){kr(v.content)?(pa(w,""),w.appendChild(v.content)):typeof v.content!="function"&&(v.allowHTML?pa(w,v.content):w.textContent=v.content)}function ma(w){var v=w.firstElementChild,g=Fr(v.children);return{box:v,content:g.find(function(E){return E.classList.contains(su)}),arrow:g.find(function(E){return E.classList.contains(nu)||E.classList.contains(ru)}),backdrop:g.find(function(E){return E.classList.contains(oc)})}}function uu(w){var v=Yn(),g=Yn();g.className=ac,g.setAttribute("data-state","hidden"),g.setAttribute("tabindex","-1");var E=Yn();E.className=su,E.setAttribute("data-state","hidden"),No(E,w.props),v.appendChild(g),g.appendChild(E),M(w.props,w.props);function M(P,c){var y=ma(v),t=y.box,o=y.content,p=y.arrow;c.theme?t.setAttribute("data-theme",c.theme):t.removeAttribute("data-theme"),typeof c.animation=="string"?t.setAttribute("data-animation",c.animation):t.removeAttribute("data-animation"),c.inertia?t.setAttribute("data-inertia",""):t.removeAttribute("data-inertia"),t.style.maxWidth=typeof c.maxWidth=="number"?c.maxWidth+"px":c.maxWidth,c.role?t.setAttribute("role",c.role):t.removeAttribute("role"),(P.content!==c.content||P.allowHTML!==c.allowHTML)&&No(o,w.props),c.arrow?p?P.arrow!==c.arrow&&(t.removeChild(p),t.appendChild(Go(c.arrow))):t.appendChild(Go(c.arrow)):p&&t.removeChild(p)}return{popper:v,onUpdate:M}}uu.$$tippy=!0;var Pc=1,cr=[],na=[];function Rc(w,v){var g=Bo(w,Object.assign({},ts,hu(Fo(v)))),E,M,P,c=!1,y=!1,t=!1,o=!1,p,s,i,n=[],e=Ro(vt,g.interactiveDebounce),r,l=Pc++,a=null,h=hc(g.plugins),f={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},u={id:l,reference:w,popper:Yn(),popperInstance:a,props:g,state:f,plugins:h,clearDelayTimeouts:qt,setProps:se,setContent:ie,show:oe,hide:zt,hideWithInteractivity:Zt,enable:Lt,disable:kt,unmount:Bt,destroy:Ot};if(!g.render)return u;var d=g.render(u),m=d.popper,x=d.onUpdate;m.setAttribute("data-tippy-root",""),m.id="tippy-"+u.id,u.popper=m,w._tippy=u,m._tippy=u;var S=h.map(function(St){return St.fn(u)}),T=w.hasAttribute("aria-expanded");return st(),H(),I(),B("onCreate",[u]),g.showOnCreate&&Mt(),m.addEventListener("mouseenter",function(){u.props.interactive&&u.state.isVisible&&u.clearDelayTimeouts()}),m.addEventListener("mouseleave",function(){u.props.interactive&&u.props.trigger.indexOf("mouseenter")>=0&&F().addEventListener("mousemove",e)}),u;function C(){var St=u.props.touch;return Array.isArray(St)?St:[St,0]}function A(){return C()[0]==="hold"}function b(){var St;return!!((St=u.props.render)!=null&&St.$$tippy)}function R(){return r||w}function F(){var St=R().parentNode;return St?pc(St):document}function L(){return ma(m)}function O(St){return u.state.isMounted&&!u.state.isVisible||us.isTouch||p&&p.type==="focus"?0:ea(u.props.delay,St?0:1,ts.delay)}function I(St){St===void 0&&(St=!1),m.style.pointerEvents=u.props.interactive&&!St?"":"none",m.style.zIndex=""+u.props.zIndex}function B(St,At,Ft){if(Ft===void 0&&(Ft=!0),S.forEach(function(Qt){Qt[St]&&Qt[St].apply(Qt,At)}),Ft){var ae;(ae=u.props)[St].apply(ae,At)}}function U(){var St=u.props.aria;if(St.content){var At="aria-"+St.content,Ft=m.id,ae=fn(u.props.triggerTarget||w);ae.forEach(function(Qt){var xe=Qt.getAttribute(At);if(u.state.isVisible)Qt.setAttribute(At,xe?xe+" "+Ft:Ft);else{var ye=xe&&xe.replace(Ft,"").trim();ye?Qt.setAttribute(At,ye):Qt.removeAttribute(At)}})}}function H(){if(!(T||!u.props.aria.expanded)){var St=fn(u.props.triggerTarget||w);St.forEach(function(At){u.props.interactive?At.setAttribute("aria-expanded",u.state.isVisible&&At===R()?"true":"false"):At.removeAttribute("aria-expanded")})}}function J(){F().removeEventListener("mousemove",e),cr=cr.filter(function(St){return St!==e})}function tt(St){if(!(us.isTouch&&(t||St.type==="mousedown"))){var At=St.composedPath&&St.composedPath()[0]||St.target;if(!(u.props.interactive&&Do(m,At))){if(fn(u.props.triggerTarget||w).some(function(Ft){return Do(Ft,At)})){if(us.isTouch||u.state.isVisible&&u.props.trigger.indexOf("click")>=0)return}else B("onClickOutside",[u,St]);u.props.hideOnClick===!0&&(u.clearDelayTimeouts(),u.hide(),y=!0,setTimeout(function(){y=!1}),u.state.isMounted||z())}}}function X(){t=!0}function j(){t=!1}function D(){var St=F();St.addEventListener("mousedown",tt,!0),St.addEventListener("touchend",tt,Hs),St.addEventListener("touchstart",j,Hs),St.addEventListener("touchmove",X,Hs)}function z(){var St=F();St.removeEventListener("mousedown",tt,!0),St.removeEventListener("touchend",tt,Hs),St.removeEventListener("touchstart",j,Hs),St.removeEventListener("touchmove",X,Hs)}function $(St,At){Z(St,function(){!u.state.isVisible&&m.parentNode&&m.parentNode.contains(m)&&At()})}function K(St,At){Z(St,At)}function Z(St,At){var Ft=L().box;function ae(Qt){Qt.target===Ft&&(sa(Ft,"remove",ae),At())}if(St===0)return At();sa(Ft,"remove",s),sa(Ft,"add",ae),s=ae}function it(St,At,Ft){Ft===void 0&&(Ft=!1);var ae=fn(u.props.triggerTarget||w);ae.forEach(function(Qt){Qt.addEventListener(St,At,Ft),n.push({node:Qt,eventType:St,handler:At,options:Ft})})}function st(){A()&&(it("touchstart",ut,{passive:!0}),it("touchend",xt,{passive:!0})),lc(u.props.trigger).forEach(function(St){if(St!=="manual")switch(it(St,ut),St){case"mouseenter":it("mouseleave",xt);break;case"focus":it(Sc?"focusout":"blur",Et);break;case"focusin":it("focusout",Et);break}})}function at(){n.forEach(function(St){var At=St.node,Ft=St.eventType,ae=St.handler,Qt=St.options;At.removeEventListener(Ft,ae,Qt)}),n=[]}function ut(St){var At,Ft=!1;if(!(!u.state.isEnabled||yt(St)||y)){var ae=((At=p)==null?void 0:At.type)==="focus";p=St,r=St.currentTarget,H(),!u.state.isVisible&&dc(St)&&cr.forEach(function(Qt){return Qt(St)}),St.type==="click"&&(u.props.trigger.indexOf("mouseenter")<0||c)&&u.props.hideOnClick!==!1&&u.state.isVisible?Ft=!0:Mt(St),St.type==="click"&&(c=!Ft),Ft&&!ae&&It(St)}}function vt(St){var At=St.target,Ft=R().contains(At)||m.contains(At);if(!(St.type==="mousemove"&&Ft)){var ae=Nt().concat(m).map(function(Qt){var xe,ye=Qt._tippy,we=(xe=ye.popperInstance)==null?void 0:xe.state;return we?{popperRect:Qt.getBoundingClientRect(),popperState:we,props:g}:null}).filter(Boolean);mc(ae,St)&&(J(),It(St))}}function xt(St){var At=yt(St)||u.props.trigger.indexOf("click")>=0&&c;if(!At){if(u.props.interactive){u.hideWithInteractivity(St);return}It(St)}}function Et(St){u.props.trigger.indexOf("focusin")<0&&St.target!==R()||u.props.interactive&&St.relatedTarget&&m.contains(St.relatedTarget)||It(St)}function yt(St){return us.isTouch?A()!==St.type.indexOf("touch")>=0:!1}function bt(){Dt();var St=u.props,At=St.popperOptions,Ft=St.placement,ae=St.offset,Qt=St.getReferenceClientRect,xe=St.moveTransition,ye=b()?ma(m).arrow:null,we=Qt?{getBoundingClientRect:Qt,contextElement:Qt.contextElement||R()}:w,$t={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ie){var Fe=Ie.state;if(b()){var ce=L(),Me=ce.box;["placement","reference-hidden","escaped"].forEach(function(Ue){Ue==="placement"?Me.setAttribute("data-placement",Fe.placement):Fe.attributes.popper["data-popper-"+Ue]?Me.setAttribute("data-"+Ue,""):Me.removeAttribute("data-"+Ue)}),Fe.attributes.popper={}}}},re=[{name:"offset",options:{offset:ae}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!xe}},$t];b()&&ye&&re.push({name:"arrow",options:{element:ye,padding:3}}),re.push.apply(re,(At==null?void 0:At.modifiers)||[]),u.popperInstance=nc(we,m,Object.assign({},At,{placement:Ft,onFirstUpdate:i,modifiers:re}))}function Dt(){u.popperInstance&&(u.popperInstance.destroy(),u.popperInstance=null)}function Vt(){var St=u.props.appendTo,At,Ft=R();u.props.interactive&&St===au||St==="parent"?At=Ft.parentNode:At=ou(St,[Ft]),At.contains(m)||At.appendChild(m),u.state.isMounted=!0,bt()}function Nt(){return Fr(m.querySelectorAll("[data-tippy-root]"))}function Mt(St){u.clearDelayTimeouts(),St&&B("onTrigger",[u,St]),D();var At=O(!0),Ft=C(),ae=Ft[0],Qt=Ft[1];us.isTouch&&ae==="hold"&&Qt&&(At=Qt),At?E=setTimeout(function(){u.show()},At):u.show()}function It(St){if(u.clearDelayTimeouts(),B("onUntrigger",[u,St]),!u.state.isVisible){z();return}if(!(u.props.trigger.indexOf("mouseenter")>=0&&u.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(St.type)>=0&&c)){var At=O(!1);At?M=setTimeout(function(){u.state.isVisible&&u.hide()},At):P=requestAnimationFrame(function(){u.hide()})}}function Lt(){u.state.isEnabled=!0}function kt(){u.hide(),u.state.isEnabled=!1}function qt(){clearTimeout(E),clearTimeout(M),cancelAnimationFrame(P)}function se(St){if(!u.state.isDestroyed){B("onBeforeUpdate",[u,St]),at();var At=u.props,Ft=Bo(w,Object.assign({},At,Fo(St),{ignoreAttributes:!0}));u.props=Ft,st(),At.interactiveDebounce!==Ft.interactiveDebounce&&(J(),e=Ro(vt,Ft.interactiveDebounce)),At.triggerTarget&&!Ft.triggerTarget?fn(At.triggerTarget).forEach(function(ae){ae.removeAttribute("aria-expanded")}):Ft.triggerTarget&&w.removeAttribute("aria-expanded"),H(),I(),x&&x(At,Ft),u.popperInstance&&(bt(),Nt().forEach(function(ae){requestAnimationFrame(ae._tippy.popperInstance.forceUpdate)})),B("onAfterUpdate",[u,St])}}function ie(St){u.setProps({content:St})}function oe(){var St=u.state.isVisible,At=u.state.isDestroyed,Ft=!u.state.isEnabled,ae=us.isTouch&&!u.props.touch,Qt=ea(u.props.duration,0,ts.duration);if(!(St||At||Ft||ae)&&!R().hasAttribute("disabled")&&(B("onShow",[u],!1),u.props.onShow(u)!==!1)){if(u.state.isVisible=!0,b()&&(m.style.visibility="visible"),I(),D(),u.state.isMounted||(m.style.transition="none"),b()){var xe=L(),ye=xe.box,we=xe.content;ia([ye,we],0)}i=function(){var re;if(!(!u.state.isVisible||o)){if(o=!0,m.offsetHeight,m.style.transition=u.props.moveTransition,b()&&u.props.animation){var be=L(),Ie=be.box,Fe=be.content;ia([Ie,Fe],Qt),Oo([Ie,Fe],"visible")}U(),H(),Lo(na,u),(re=u.popperInstance)==null||re.forceUpdate(),B("onMount",[u]),u.props.animation&&b()&&K(Qt,function(){u.state.isShown=!0,B("onShown",[u])})}},Vt()}}function zt(){var St=!u.state.isVisible,At=u.state.isDestroyed,Ft=!u.state.isEnabled,ae=ea(u.props.duration,1,ts.duration);if(!(St||At||Ft)&&(B("onHide",[u],!1),u.props.onHide(u)!==!1)){if(u.state.isVisible=!1,u.state.isShown=!1,o=!1,c=!1,b()&&(m.style.visibility="hidden"),J(),z(),I(!0),b()){var Qt=L(),xe=Qt.box,ye=Qt.content;u.props.animation&&(ia([xe,ye],ae),Oo([xe,ye],"hidden"))}U(),H(),u.props.animation?b()&&$(ae,u.unmount):u.unmount()}}function Zt(St){F().addEventListener("mousemove",e),Lo(cr,e),e(St)}function Bt(){u.state.isVisible&&u.hide(),u.state.isMounted&&(Dt(),Nt().forEach(function(St){St._tippy.unmount()}),m.parentNode&&m.parentNode.removeChild(m),na=na.filter(function(St){return St!==u}),u.state.isMounted=!1,B("onHidden",[u]))}function Ot(){u.state.isDestroyed||(u.clearDelayTimeouts(),u.unmount(),at(),delete w._tippy,u.state.isDestroyed=!0,B("onDestroy",[u]))}}function Sn(w,v){v===void 0&&(v={});var g=ts.plugins.concat(v.plugins||[]);yc();var E=Object.assign({},v,{plugins:g}),M=vc(w),P=M.reduce(function(c,y){var t=y&&Rc(y,E);return t&&c.push(t),c},[]);return kr(w)?P[0]:P}Sn.defaultProps=ts;Sn.setDefaultProps=wc;Sn.currentInput=us;Object.assign({},Zh,{effect:function(v){var g=v.state,E={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(g.elements.popper.style,E.popper),g.styles=E,g.elements.arrow&&Object.assign(g.elements.arrow.style,E.arrow)}});var Or={name:"sticky",defaultValue:!1,fn:function(v){var g=v.reference,E=v.popper;function M(){return v.popperInstance?v.popperInstance.state.elements.reference:g}function P(o){return v.props.sticky===!0||v.props.sticky===o}var c=null,y=null;function t(){var o=P("reference")?M().getBoundingClientRect():null,p=P("popper")?E.getBoundingClientRect():null;(o&&Vo(c,o)||p&&Vo(y,p))&&v.popperInstance&&v.popperInstance.update(),c=o,y=p,v.state.isMounted&&requestAnimationFrame(t)}return{onMount:function(){v.props.sticky&&t()}}}};function Vo(w,v){return w&&v?w.top!==v.top||w.right!==v.right||w.bottom!==v.bottom||w.left!==v.left:!0}Sn.setDefaultProps({render:uu});const Lc=(w,v)=>{const{destroy:g,setProps:E}=Sn(w,v);return{destroy:g,update:E}},Fc=w=>(v,g)=>Lc(v,{...g,...w}),wi=Fc({appendTo:()=>document.getElementById("tippyRoot"),animation:"shift-away-subtle",arrow:rc,duration:[100,0],theme:"material",allowHTML:!0}),ga=ii([]);function Oc(w,v){const g=dn.get(v);return g?`<img src="${g.src}" alt="${g.name}" width="24" height="24" title="${g.name}" />`:w}class Dc{constructor(v=[]){this._lines=v,this.header="",this.version="",this.date=0,this.paragraphs=[],this.list=[],this.parseHeader().parseLines()}parseHeader(){if(this.header=this._lines.find(v=>v.startsWith("@")),this.header){const v=this.header.slice(1).split("|");this.version=v[0].trim(),this.date=v[1].trim()}return this}parseLines(){for(const v of this._lines)if(v.startsWith("+")){const g=v.slice(1).trim().replace(/`(\w+)`/g,Oc);this.list.push(g)}else v&&!v.startsWith("@")&&this.paragraphs.push(v);return this}}async function Ic(){try{const w=[],E=(await(await fetch("data/rage-ban-game-changelog.txt")).text()).split("=-=-=");for(const M of E){const P=M.trim().split(/\r?\n/);w.push(new Dc(P))}ga.set(w)}catch(w){console.error("Failed to fetch changelogs:",w),ga.set(w)}}const Wn=class Wn{constructor(v="_"){this.name=v,this.externalResources={},this.allEmotes=new Map,this.global=new Map,this.channels=new Map}fillEmoteMap(v,g={}){v.clear();for(const E in g)v.set(E,g[E]);return v}getLocalResourceName(v=Wn.GLOBAL){return`/data/emotes/${this.name.toLowerCase()}-${v}.json`}getRemoteResourceName(v=Wn.GLOBAL){return console.warn(`Emote provider [${this.name}] does not implement remote resource endpoint builder!`),this.getLocalResourceName(v)}async init(v){const g=[this.getGlobalEmotes(),this.getChannelEmotes(hr)];return v!=null&&v.id&&g.push(this.getChannelEmotes(v.id)),await Promise.all(g)}parseResponse(v){return v}parseChannelResponse(v){return this.parseResponse(v)}async getExternalResource(v,g=!1){return await(await fetch(v)).json()}async getGlobalEmotes(v=!1,g=!1){if(!v&&this.global.size>0)return this.global;try{const E=g?this.getLocalResourceName():this.getRemoteResourceName(),M=await this.getExternalResource(E,g),P=this.parseResponse(M);this.fillEmoteMap(this.global,P)}catch(E){const M=g?"remote":"local";if(console.error(`Emote provider [${this.name}/${M}] | Failed to fetch global emotes`,E),!g)return await this.getGlobalEmotes(v,!0)}return console.log(`[${this.name} emotes] Global lists loaded. Total count: ${this.global.size}`),this.global}async getChannelEmotes(v="",g=!1,E=!1){if(!g){const P=this.channels.get(v);if((P==null?void 0:P.size)>0)return P}try{const P=E?this.getLocalResourceName(v):this.getRemoteResourceName(v),c=await this.getExternalResource(P),y=this.parseChannelResponse(c),t=this.fillEmoteMap(new Map,y);this.channels.set(v,t)}catch(P){const c=E?"remote":"local";if(console.error(`Emote provider [${this.name}/${c}] | Failed to fetch emotes for channel [${v}]`,P),!E)return await this.getChannelEmotes(v,g,!0)}const M=this.channels.get(v);return console.log(`[${this.name} emotes] Channel [${v}] lists loaded. Total count: ${M.size}`),M}enrichExternalSource(v){return this.global.forEach((g,E)=>{v.set(E,{name:E,src:g,provider:this.name,type:"global"})}),this.channels.forEach((g,E)=>{E!==hr&&g.forEach((M,P)=>{v.set(P,{name:P,src:M,provider:this.name,type:"channel"})})}),this.channels.has(hr)&&this.channels.get(hr).forEach((g,E)=>{v.set(E,{name:E,src:g,provider:this.name,type:"channel"})}),v}injectEmotes(v,g,E){for(let M=0;M<E.length;M++)this.allEmotes.has(E[M])&&(E[M]=this.allEmotes.get(E[M]));return E}};or(Wn,"GLOBAL","global");let mi=Wn;class Bc extends mi{constructor(){super("Twitch badges"),this.channel=new Map}getLocalResourceName(v="global"){return`/data/emotes/badges-${v}.json`}getRemoteResourceName(v=mi.GLOBAL){return v===mi.GLOBAL?"chat/badges/global":`chat/badges?broadcaster_id=${v}`}async getExternalResource(v,g=!1){return g?await super.getExternalResource(v,g):await _i.request(v).catch(E=>({error:E,message:E.message}))}parseResponse(v){try{if(v.error)throw new Error(v.message||v.error||"Invalid response");return v.reduce((g,E)=>(g[E.set_id]=E.versions.reduce((M,P)=>(M[P.id]={src:P.image_url_2x,desc:P.description,title:P.title},M),{}),g),{})}catch(g){return console.error(`Badge provider [${this.name}] | Failed to parse badge data`,g),{}}}enrichExternalSource(v){this.global.forEach((g,E)=>{v.set(E,g)}),this.channels.forEach((g,E)=>{g.forEach((M,P)=>{v.set(P,M)})})}}class Gc extends mi{constructor(){super("7TV")}getRemoteResourceName(v=mi.GLOBAL){return v===mi.GLOBAL?"https://7tv.io/v3/emote-sets/global":`https://7tv.io/v3/users/twitch/${v}`}emoteDataToMap(v=[]){const g={};for(const E of v)g[E.name]=`https://cdn.7tv.app/emote/${E.id}/2x.webp`;return g}parseResponse(v){try{if(v.error)throw new Error(v.error);return this.emoteDataToMap(v.emotes)}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}parseChannelResponse(v){try{if(v.error)throw new Error(v.error);return this.emoteDataToMap(v.emote_set.emotes)}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}}class Nc extends mi{constructor(){super("BTTV")}getRemoteResourceName(v=mi.GLOBAL){return v===mi.GLOBAL?"https://api.betterttv.net/3/cached/emotes/global":`https://api.betterttv.net/3/cached/users/twitch/${v}`}emoteDataToMap(v=[]){const g={};for(const E of v)g[E.code]=`https://cdn.betterttv.net/emote/${E.id}/2x`;return g}parseResponse(v){try{if(v.message)throw new Error(v.message);return this.emoteDataToMap(v)}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}parseChannelResponse(v){try{if(v.message)throw new Error(v.message);return Object.assign(this.emoteDataToMap(v.sharedEmotes),this.emoteDataToMap(v.channelEmotes))}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}}class Vc extends mi{constructor(){super("FFZ")}getRemoteResourceName(v=mi.GLOBAL){return v===mi.GLOBAL?"https://api.frankerfacez.com/v1/set/global":`https://api.frankerfacez.com/v1/room/id/${v}`}emoteDataToMap(v=[]){const g={};for(const E of v)g[E.name]=`https://cdn.frankerfacez.com/emote/${E.id}/2`;return g}parseResponse(v){try{if(v.message)throw new Error(v.message);let g={};for(const E in v.sets)g=Object.assign(g,this.emoteDataToMap(v.sets[E].emoticons));return g}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}}const Hn=class Hn extends mi{constructor(){super("Twitch"),this.channels.set(Hn.OTHER_CHANNELS,new Map),this.emotesById=new Map}getRemoteResourceName(v=mi.GLOBAL){return v===mi.GLOBAL?"chat/emotes/global":`chat/emotes?broadcaster_id=${v}`}async getExternalResource(v,g=!1){return g?await super.getExternalResource(v,g):await _i.request(v).catch(E=>({error:E,message:E.message}))}parseResponse(v){try{if(v.error)throw new Error(v.message||v.error||"Invalid response");return v.reduce((g,E)=>(this.emotesById.set(E.id,E.name),g[E.name]=`https://static-cdn.jtvnw.net/emoticons/v2/${E.id}/default/light/2.0`,g),{})}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}injectEmotes(v,g,E){if(v._parseAllEmotes)return super.injectEmotes(v,g,E);if(!v.emotes)return E;const M=new Set;for(const P in v.emotes){let c=this.emotesById.get(P);if(!c){const y=v.emotes[P][0].split("-");c=g.slice(Number(y[0]),Number(y[1])+1),this.addNewMiscEmote(P,c)}M.add(c)}for(let P=0;P<E.length;P++)M.has(E[P])&&(E[P]=this.allEmotes.get(E[P])||E[P]);return E}addNewMiscEmote(v,g){const E={name:g,src:`https://static-cdn.jtvnw.net/emoticons/v2/${v}/default/light/2.0`,provider:this.name,type:"misc"};return this.channels.get(Hn.OTHER_CHANNELS).set(g,E),this.allEmotes.set(g,E),E}};or(Hn,"OTHER_CHANNELS","(other)");let xa=Hn;const dn=new Map,ya=new Map,wr=[new Gc,new Vc,new Nc,new xa],zc=[new Bc],Ta=new Set,Uc=["ResidentSleeper","pepeW","FeelsWeirdMan","cmonBruh","KEKW"];async function Xc(){let w=null;try{w=await da(_i.channel)}catch{console.warn("Failed to get current user's profile data; custom emotes will not be used.")}Ta.clear(),await Promise.all(wr.map(v=>v.init(w)));for(const v of wr)v.enrichExternalSource(v.allEmotes).forEach((E,M)=>dn.set(M,E));console.info("Emote lists preloaded. Total count: ",dn.size);for(const v of Uc){const g=dn.get(v);g&&Ta.add(g)}Ic(),wr.reverse()}async function Yc(){const w=zc.map(v=>v.init().then(()=>v.enrichExternalSource(ya)));await Promise.all(w),console.info("Badge lists preloaded. Total count: ",ya.size)}function $c(w,v=""){const g=v.trim().split(/\s+/);"reply-parent-msg-body"in w&&(g[0]="");for(const E of wr)E.injectEmotes(w,v,g);return g}class qi{constructor(v,g,E){this.name=v,this.picture=`/pics/avatars/${g}.webp`,this.color=E||$r(),this.unitbehavior="chad",this.unitclass="warrior"}}const Ss={snipers:{names:["FarbrorBarbro","UgandanLoki","KingBooMATE","real_forsen","Lizor","schlodzony","BurningToxic","EddieHD_","DankJuicer","Vadikus007","samme1g","14PATRIARH88","IgorCykel","Velcuz","DatBulletGuy","ActuallyPepege","Cubiie","forsenK","Unmoon","Menymeg","msun_","Nydra007","kompy__"],pictures:["pastor","uganda","peepo"]},normans:{names:[],pictures:["beach","cat","fish","peepo","red-flower"]},special:{g7eternal:new qi("G7Eternal","g7","#008000"),badoge:new qi("badoge","doge","#0ADDAA"),nymn:new qi("NymN","nymn","#E91212"),nam_:new qi("NaM______________________","nam","#FF0000"),nani:new qi("nani","nani","#C9B2DB"),pajlada:new qi("pajlada","pajlada","#CC44FF")},forsen:new qi("forsen","forsen","#FF0000")};Ss.forsen.picture="/pics/avatars/forsen.png";const Wc=["snipers","snipers","snipers","snipers","normans","normans","normans","normans","special"],Hc=["Brave","Clever","Witty","Happy","Silly","Bright","Calm","Eager","Gentle","Jolly"],kc=["Lion","Tiger","Bear","Panda","Eagle","Wolf","Fox","Owl","Hawk","Shark"];function Za(){const w=Ke(Hc),v=Ke(kc),g=te(999);return`${w}${v}${g}`}function Sa(){const w=new qi(Za(),Ke(Ss.normans.pictures));return w.unitbehavior="soy",w.unitclass="norman",w}function Ea(w){w||(w=Ke(Wc));let v=null;switch(w){case"forsen":{v=Ss.forsen;break}case"special":{v=Uh(Ss.special);break}default:{const g=Ke(Ss[w].names)||Za(),E=Ke(Ss[w].pictures);v=new qi(g,E)}}return v}function jc(){const w=Object.values(Ss.special);for(const v of Ss.snipers.names)w.push(new qi(v,Ke(Ss.snipers.pictures)));return w}const In=[],Bn={};async function Kc(){const w=new Set;try{In.length=0;const E=(await(await fetch("/data/chat-names.txt")).text()).trim().split(/\r?\n/);for(const P of E)w.add(P);const M=await Bf();for(const P of M){const c=P.user_login;c!==Wr&&c!==_i.channel&&w.add(c)}}catch(v){console.error("Failed to fetch the list of generic chatter names:",v)}for(let v=0;v<80;v++){const g=Za().toLowerCase();In.includes(g)||In.push(g)}w.forEach(v=>{const g=1+te(v.length);In.push(v.slice(0,g)+"_"+v.slice(g))});try{const g=await(await fetch("/data/chat-samples.json")).json();for(const E in g)Bn[E]=g[E]}catch(v){console.error("Failed to fetch the list of messages:",v),window.alert(`A crucial file is missing/broken: chat-samples.json
Please report this error to a dev.`),Bn.generic={pasta:[],ascii:[],hype:[],fail:[],scare:[],mentions:[],overwork:[]},Bn.lifecycle={},Bn.random=["Aware nothing to spam... (loading error!)"]}}function fu(){return Ke(In)}function Gn(w="random",v=null){let g=Bn[w];return g?(v!==null&&(g=g[v]||g),g):null}function Zc(w="random",v=null){const g=Gn(w,v);return Ke(g)}function zo(w,v,g){const E=w.slice();E[40]=v[g];const M=E[10].get(E[40]);return E[41]=M,E}function Uo(w,v,g){const E=w.slice();return E[44]=v[g],E}function Jc(w){let v,g="Get new task",E,M;return{c(){v=Q("button"),v.textContent=g,this.h()},l(P){v=q(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-13bb05u"&&(v.textContent=g),this.h()},h(){Y(v,"class","btn btn-primary mx-auto")},m(P,c){dt(P,v,c),E||(M=ne(v,"click",w[14]),E=!0)},p:jt,d(P){P&&k(v),E=!1,M()}}}function Qc(w){let v,g="Skip this emote",E,M;return{c(){v=Q("button"),v.textContent=g,this.h()},l(P){v=q(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-14f229t"&&(v.textContent=g),this.h()},h(){Y(v,"class","btn btn-warning mx-auto")},m(P,c){dt(P,v,c),E||(M=ne(v,"click",w[15]),E=!0)},p:jt,d(P){P&&k(v),E=!1,M()}}}function qc(w){let v,g="<b>Streamer will draw a random emote, which is available in their chat room.</b>",E,M,P="<b>Chatters have to guess the emote.</b>",c,y,t="Type your guesses in chat. Your message must start with an emote to count.";return{c(){v=Q("p"),v.innerHTML=g,E=lt(),M=Q("p"),M.innerHTML=P,c=lt(),y=Q("p"),y.textContent=t},l(o){v=q(o,"P",{"data-svelte-h":!0}),Rt(v)!=="svelte-138gjek"&&(v.innerHTML=g),E=ht(o),M=q(o,"P",{"data-svelte-h":!0}),Rt(M)!=="svelte-x78d0u"&&(M.innerHTML=P),c=ht(o),y=q(o,"P",{"data-svelte-h":!0}),Rt(y)!=="svelte-1y2f2ep"&&(y.textContent=t)},m(o,p){dt(o,v,p),dt(o,E,p),dt(o,M,p),dt(o,c,p),dt(o,y,p)},p:jt,d(o){o&&(k(v),k(E),k(M),k(c),k(y))}}}function _c(w){let v;function g(P,c){return P[7]?ev:tv}let E=g(w),M=E(w);return{c(){M.c(),v=Le()},l(P){M.l(P),v=Le()},m(P,c){M.m(P,c),dt(P,v,c)},p(P,c){E===(E=g(P))&&M?M.p(P,c):(M.d(1),M=E(P),M&&(M.c(),M.m(v.parentNode,v)))},d(P){P&&k(v),M.d(P)}}}function tv(w){let v,g="Start guessing!",E,M,P="Type your guesses in chat. Your message must start with an emote to count.";return{c(){v=Q("p"),v.textContent=g,E=lt(),M=Q("p"),M.textContent=P,this.h()},l(c){v=q(c,"P",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-hmirxr"&&(v.textContent=g),E=ht(c),M=q(c,"P",{"data-svelte-h":!0}),Rt(M)!=="svelte-1y2f2ep"&&(M.textContent=P),this.h()},h(){Y(v,"class","my-4 fw-bold fs-bigger svelte-ppbuvz")},m(c,y){dt(c,v,y),dt(c,E,y),dt(c,M,y)},p:jt,d(c){c&&(k(v),k(E),k(M))}}}function ev(w){let v,g,E,M,P,c,y="Correct answer is:",t,o,p=w[6].name+"",s,i,n,e,r,l,a,h=w[6].provider+"",f,u,d=w[6].type+"",m;function x(C,A){return C[8]?sv:iv}let S=x(w),T=S(w);return{c(){v=Q("div"),T.c(),g=lt(),E=Q("hr"),M=lt(),P=Q("div"),c=Q("p"),c.textContent=y,t=lt(),o=Q("p"),s=mt(p),i=lt(),n=Q("img"),l=lt(),a=Q("small"),f=mt(h),u=mt(" | "),m=mt(d),this.h()},l(C){v=q(C,"DIV",{class:!0});var A=nt(v);T.l(A),A.forEach(k),g=ht(C),E=q(C,"HR",{}),M=ht(C),P=q(C,"DIV",{class:!0});var b=nt(P);c=q(b,"P",{class:!0,"data-svelte-h":!0}),Rt(c)!=="svelte-1bwgpsn"&&(c.textContent=y),t=ht(b),o=q(b,"P",{});var R=nt(o);s=gt(R,p),R.forEach(k),i=ht(b),n=q(b,"IMG",{src:!0,alt:!0,class:!0}),l=ht(b),a=q(b,"SMALL",{class:!0});var F=nt(a);f=gt(F,h),u=gt(F," | "),m=gt(F,d),F.forEach(k),b.forEach(k),this.h()},h(){Y(v,"class","text-center"),Y(c,"class","text-info fs-bigger svelte-ppbuvz"),Ae(n.src,e=w[6].src)||Y(n,"src",e),Y(n,"alt",r=w[6].name),Y(n,"class","svelte-ppbuvz"),Y(a,"class","svelte-ppbuvz"),Y(P,"class","reveal-emote svelte-ppbuvz")},m(C,A){dt(C,v,A),T.m(v,null),dt(C,g,A),dt(C,E,A),dt(C,M,A),dt(C,P,A),V(P,c),V(P,t),V(P,o),V(o,s),V(P,i),V(P,n),V(P,l),V(P,a),V(a,f),V(a,u),V(a,m)},p(C,A){S===(S=x(C))&&T?T.p(C,A):(T.d(1),T=S(C),T&&(T.c(),T.m(v,null))),A[0]&64&&p!==(p=C[6].name+"")&&ee(s,p),A[0]&64&&!Ae(n.src,e=C[6].src)&&Y(n,"src",e),A[0]&64&&r!==(r=C[6].name)&&Y(n,"alt",r),A[0]&64&&h!==(h=C[6].provider+"")&&ee(f,h),A[0]&64&&d!==(d=C[6].type+"")&&ee(m,d)},d(C){C&&(k(v),k(g),k(E),k(M),k(P)),T.d()}}}function iv(w){let v,g="Nobody guessed it!";return{c(){v=Q("i"),v.textContent=g,this.h()},l(E){v=q(E,"I",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-ypva71"&&(v.textContent=g),this.h()},h(){Y(v,"class","text-muted")},m(E,M){dt(E,v,M)},p:jt,d(E){E&&k(v)}}}function sv(w){let v,g=w[8].username+"",E,M;return{c(){v=Q("b"),E=mt(g),M=mt(" got it!"),this.h()},l(P){v=q(P,"B",{});var c=nt(v);E=gt(c,g),c.forEach(k),M=gt(P," got it!"),this.h()},h(){Ht(v,"color",w[8].color)},m(P,c){dt(P,v,c),V(v,E),dt(P,M,c)},p(P,c){c[0]&256&&g!==(g=P[8].username+"")&&ee(E,g),c[0]&256&&Ht(v,"color",P[8].color)},d(P){P&&(k(v),k(M))}}}function nv(w){let v;return{c(){v=mt("edit")},l(g){v=gt(g,"edit")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function rv(w){let v;return{c(){v=mt("edit_off")},l(g){v=gt(g,"edit_off")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Xo(w){let v,g,E;function M(){return w[20](w[44])}return{c(){v=Q("button"),this.h()},l(P){v=q(P,"BUTTON",{title:!0,class:!0}),nt(v).forEach(k),this.h()},h(){Y(v,"title",w[44]),Y(v,"class","btn svelte-ppbuvz"),Ht(v,"color",w[44]),Ht(v,"background-color",w[44])},m(P,c){dt(P,v,c),g||(E=ne(v,"click",M),g=!0)},p(P,c){w=P},d(P){P&&k(v),g=!1,E()}}}function av(w){let v;return{c(){v=mt("delete")},l(g){v=gt(g,"delete")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function ov(w){let v,g='<td class="text-muted text-center svelte-ppbuvz" colspan="4"><small>No guesses yet</small></td>';return{c(){v=Q("tr"),v.innerHTML=g},l(E){v=q(E,"TR",{"data-svelte-h":!0}),Rt(v)!=="svelte-1s3s5ei"&&(v.innerHTML=g)},m(E,M){dt(E,v,M)},p:jt,d(E){E&&k(v)}}}function lv(w){let v,g=ke(w[9]),E=[];for(let M=0;M<g.length;M+=1)E[M]=Yo(zo(w,g,M));return{c(){for(let M=0;M<E.length;M+=1)E[M].c();v=Le()},l(M){for(let P=0;P<E.length;P+=1)E[P].l(M);v=Le()},m(M,P){for(let c=0;c<E.length;c+=1)E[c]&&E[c].m(M,P);dt(M,v,P)},p(M,P){if(P[0]&1536){g=ke(M[9]);let c;for(c=0;c<g.length;c+=1){const y=zo(M,g,c);E[c]?E[c].p(y,P):(E[c]=Yo(y),E[c].c(),E[c].m(v.parentNode,v))}for(;c<E.length;c+=1)E[c].d(1);E.length=g.length}},d(M){M&&k(v),Ii(E,M)}}}function Yo(w){let v,g,E=w[40]+"",M,P,c,y,t=w[41].score+"",o,p;return{c(){v=Q("tr"),g=Q("td"),M=mt(E),c=lt(),y=Q("td"),o=mt(t),p=lt(),this.h()},l(s){v=q(s,"TR",{});var i=nt(v);g=q(i,"TD",{class:!0,colspan:!0,title:!0});var n=nt(g);M=gt(n,E),n.forEach(k),c=ht(i),y=q(i,"TD",{class:!0});var e=nt(y);o=gt(e,t),e.forEach(k),p=ht(i),i.forEach(k),this.h()},h(){Y(g,"class","hl svelte-ppbuvz"),Y(g,"colspan","3"),Y(g,"title",P=w[40]),Ht(g,"color",w[41].color),Y(y,"class","svelte-ppbuvz")},m(s,i){dt(s,v,i),V(v,g),V(g,M),V(v,c),V(v,y),V(y,o),V(v,p)},p(s,i){i[0]&512&&E!==(E=s[40]+"")&&ee(M,E),i[0]&512&&P!==(P=s[40])&&Y(g,"title",P),i[0]&512&&Ht(g,"color",s[41].color),i[0]&512&&t!==(t=s[41].score+"")&&ee(o,t)},d(s){s&&k(v)}}}function hv(w){let v,g="Your task will appear here",E,M,P="Cover this part";return{c(){v=Q("p"),v.textContent=g,E=lt(),M=Q("small"),M.textContent=P,this.h()},l(c){v=q(c,"P",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-15pqxp3"&&(v.textContent=g),E=ht(c),M=q(c,"SMALL",{class:!0,"data-svelte-h":!0}),Rt(M)!=="svelte-x8zazg"&&(M.textContent=P),this.h()},h(){Y(v,"class","svelte-ppbuvz"),Y(M,"class","svelte-ppbuvz")},m(c,y){dt(c,v,y),dt(c,E,y),dt(c,M,y)},p:jt,d(c){c&&(k(v),k(E),k(M))}}}function uv(w){let v,g=w[6].name+"",E,M,P,c,y,t,o,p=w[6].provider+"",s,i,n=w[6].type+"",e;return{c(){v=Q("p"),E=mt(g),M=lt(),P=Q("img"),t=lt(),o=Q("small"),s=mt(p),i=mt(" | "),e=mt(n),this.h()},l(r){v=q(r,"P",{class:!0});var l=nt(v);E=gt(l,g),l.forEach(k),M=ht(r),P=q(r,"IMG",{src:!0,alt:!0,class:!0}),t=ht(r),o=q(r,"SMALL",{class:!0});var a=nt(o);s=gt(a,p),i=gt(a," | "),e=gt(a,n),a.forEach(k),this.h()},h(){Y(v,"class","svelte-ppbuvz"),Ae(P.src,c=w[6].src)||Y(P,"src",c),Y(P,"alt",y=w[6].name),Y(P,"class","svelte-ppbuvz"),Y(o,"class","svelte-ppbuvz")},m(r,l){dt(r,v,l),V(v,E),dt(r,M,l),dt(r,P,l),dt(r,t,l),dt(r,o,l),V(o,s),V(o,i),V(o,e)},p(r,l){l[0]&64&&g!==(g=r[6].name+"")&&ee(E,g),l[0]&64&&!Ae(P.src,c=r[6].src)&&Y(P,"src",c),l[0]&64&&y!==(y=r[6].name)&&Y(P,"alt",y),l[0]&64&&p!==(p=r[6].provider+"")&&ee(s,p),l[0]&64&&n!==(n=r[6].type+"")&&ee(e,n)},d(r){r&&(k(v),k(M),k(P),k(t),k(o))}}}function fv(w){let v,g,E='<img src="/pics/backdrops/draw-emotes.webp" alt="backdrop" class="svelte-ppbuvz"/>',M,P,c,y,t,o,p,s,i,n,e,r,l,a,h,f,u,d,m,x,S,T,C,A,b,R,F,L="SIZE",O,I,B,U,H,J="TOOL",tt,X,j,D,z,$,K,Z,it,st,at,ut,vt,xt,Et,yt,bt,Dt='<tr><td colspan="4" class="text-center fw-bold svelte-ppbuvz">Leaderboard</td></tr>',Vt,Nt,Mt,It,Lt,kt,qt,se;function ie($t,re){return $t[6]&&!$t[7]?Qc:Jc}let oe=ie(w),zt=oe(w);function Zt($t,re){return $t[5]>0?_c:qc}let Bt=Zt(w),Ot=Bt(w);h=new he({props:{$$slots:{default:[nv]},$$scope:{ctx:w}}}),d=new he({props:{$$slots:{default:[rv]},$$scope:{ctx:w}}});let St=ke(w[12]),At=[];for(let $t=0;$t<St.length;$t+=1)At[$t]=Xo(Uo(w,St,$t));at=new he({props:{$$slots:{default:[av]},$$scope:{ctx:w}}});function Ft($t,re){return $t[9].length>0?lv:ov}let ae=Ft(w),Qt=ae(w);function xe($t,re){return $t[6]?uv:hv}let ye=xe(w),we=ye(w);return{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),P=Q("div"),c=Q("div"),zt.c(),y=lt(),t=Q("hr"),o=lt(),Ot.c(),p=lt(),s=Q("div"),i=Q("canvas"),n=lt(),e=Q("div"),r=Q("div"),l=Q("div"),a=Q("button"),Ut(h.$$.fragment),f=lt(),u=Q("button"),Ut(d.$$.fragment),m=lt(),x=Q("div");for(let $t=0;$t<At.length;$t+=1)At[$t].c();S=lt(),T=Q("div"),C=Q("input"),A=lt(),b=Q("div"),R=Q("div"),F=Q("span"),F.textContent=L,O=lt(),I=Q("input"),B=lt(),U=Q("div"),H=Q("span"),H.textContent=J,tt=lt(),X=Q("input"),j=lt(),D=Q("div"),z=Q("div"),$=mt("🞢"),Z=lt(),it=Q("div"),st=Q("button"),Ut(at.$$.fragment),ut=lt(),vt=Q("div"),xt=lt(),Et=Q("div"),yt=Q("table"),bt=Q("thead"),bt.innerHTML=Dt,Vt=lt(),Nt=Q("tbody"),Qt.c(),Mt=lt(),It=Q("div"),we.c(),this.h()},l($t){v=q($t,"DIV",{class:!0});var re=nt(v);g=q(re,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-10q9c05"&&(g.innerHTML=E),M=ht(re),P=q(re,"DIV",{class:!0});var be=nt(P);c=q(be,"DIV",{class:!0});var Ie=nt(c);zt.l(Ie),y=ht(Ie),t=q(Ie,"HR",{}),o=ht(Ie),Ot.l(Ie),Ie.forEach(k),p=ht(be),s=q(be,"DIV",{class:!0});var Fe=nt(s);i=q(Fe,"CANVAS",{width:!0,height:!0,class:!0}),nt(i).forEach(k),n=ht(Fe),e=q(Fe,"DIV",{class:!0});var ce=nt(e);r=q(ce,"DIV",{class:!0});var Me=nt(r);l=q(Me,"DIV",{class:!0});var Ue=nt(l);a=q(Ue,"BUTTON",{type:!0,class:!0});var Xe=nt(a);Wt(h.$$.fragment,Xe),Xe.forEach(k),f=ht(Ue),u=q(Ue,"BUTTON",{type:!0,class:!0});var hi=nt(u);Wt(d.$$.fragment,hi),hi.forEach(k),Ue.forEach(k),m=ht(Me),x=q(Me,"DIV",{class:!0});var Qe=nt(x);for(let ps=0;ps<At.length;ps+=1)At[ps].l(Qe);Qe.forEach(k),S=ht(Me),T=q(Me,"DIV",{class:!0});var gi=nt(T);C=q(gi,"INPUT",{type:!0,class:!0}),gi.forEach(k),Me.forEach(k),A=ht(ce),b=q(ce,"DIV",{class:!0});var si=nt(b);R=q(si,"DIV",{class:!0});var We=nt(R);F=q(We,"SPAN",{"data-svelte-h":!0}),Rt(F)!=="svelte-12nxb4r"&&(F.textContent=L),O=ht(We),I=q(We,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),We.forEach(k),B=ht(si),U=q(si,"DIV",{class:!0});var Ge=nt(U);H=q(Ge,"SPAN",{"data-svelte-h":!0}),Rt(H)!=="svelte-u9e54"&&(H.textContent=J),tt=ht(Ge),X=q(Ge,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ge.forEach(k),si.forEach(k),j=ht(ce),D=q(ce,"DIV",{class:!0});var ni=nt(D);z=q(ni,"DIV",{class:!0});var xi=nt(z);$=gt(xi,"🞢"),xi.forEach(k),ni.forEach(k),Z=ht(ce),it=q(ce,"DIV",{class:!0});var me=nt(it);st=q(me,"BUTTON",{class:!0});var _e=nt(st);Wt(at.$$.fragment,_e),_e.forEach(k),me.forEach(k),ut=ht(ce),vt=q(ce,"DIV",{}),nt(vt).forEach(k),ce.forEach(k),Fe.forEach(k),xt=ht(be),Et=q(be,"DIV",{class:!0});var ge=nt(Et);yt=q(ge,"TABLE",{class:!0});var Mi=nt(yt);bt=q(Mi,"THEAD",{"data-svelte-h":!0}),Rt(bt)!=="svelte-g36gx3"&&(bt.innerHTML=Dt),Vt=ht(Mi),Nt=q(Mi,"TBODY",{});var Ti=nt(Nt);Qt.l(Ti),Ti.forEach(k),Mi.forEach(k),ge.forEach(k),be.forEach(k),Mt=ht(re),It=q(re,"DIV",{class:!0});var As=nt(It);we.l(As),As.forEach(k),re.forEach(k),this.h()},h(){Y(g,"class","backdrop svelte-ppbuvz"),Y(c,"class","content-part help svelte-ppbuvz"),Y(i,"width","800"),Y(i,"height","800"),Y(i,"class","svelte-ppbuvz"),Y(a,"type","button"),Y(a,"class","btn btn-secondary svelte-ppbuvz"),pe(a,"btn-success",!w[1]),Y(u,"type","button"),Y(u,"class","btn btn-secondary svelte-ppbuvz"),pe(u,"btn-success",w[1]),Y(l,"class","btn-group-vertical btn-smalltext svelte-ppbuvz"),Y(x,"class","color-picker svelte-ppbuvz"),Y(C,"type","color"),C.value=w[2],Y(C,"class","svelte-ppbuvz"),Y(T,"class","color-container svelte-ppbuvz"),Y(r,"class","small-tools svelte-ppbuvz"),Y(I,"type","range"),Y(I,"min","5"),Y(I,"max","25"),Y(I,"step","5"),Y(I,"class","svelte-ppbuvz"),Y(R,"class","slider svelte-ppbuvz"),Y(X,"type","range"),Y(X,"min","0"),Y(X,"max","2"),Y(X,"step","1"),Y(X,"class","svelte-ppbuvz"),Y(U,"class","slider svelte-ppbuvz"),Y(b,"class","sliders svelte-ppbuvz"),Y(z,"class",K=Rs("dot "+w[11][w[4]])+" svelte-ppbuvz"),Ht(z,"width",ai(w[3])),Ht(z,"height",ai(w[3])),Ht(z,"background-color",w[2]),Ht(z,"color",w[2]),Ht(z,"font-size",ai(w[3]*1.4)),Y(D,"class","dot-example svelte-ppbuvz"),Y(st,"class","btn btn-danger"),Y(it,"class","d-flex align-items-center"),Y(e,"class","toolbar svelte-ppbuvz"),Y(s,"class","content-part board svelte-ppbuvz"),Y(yt,"class","table table-striped svelte-ppbuvz"),Y(Et,"class","content-part leaderboard svelte-ppbuvz"),Y(P,"class","content svelte-ppbuvz"),Y(It,"class","task svelte-ppbuvz"),Y(v,"class","game svelte-ppbuvz")},m($t,re){dt($t,v,re),V(v,g),V(v,M),V(v,P),V(P,c),zt.m(c,null),V(c,y),V(c,t),V(c,o),Ot.m(c,null),V(P,p),V(P,s),V(s,i),w[17](i),V(s,n),V(s,e),V(e,r),V(r,l),V(l,a),Xt(h,a,null),V(l,f),V(l,u),Xt(d,u,null),V(r,m),V(r,x);for(let be=0;be<At.length;be+=1)At[be]&&At[be].m(x,null);V(r,S),V(r,T),V(T,C),V(e,A),V(e,b),V(b,R),V(R,F),V(R,O),V(R,I),pi(I,w[3]),V(b,B),V(b,U),V(U,H),V(U,tt),V(U,X),pi(X,w[4]),V(e,j),V(e,D),V(D,z),V(z,$),V(e,Z),V(e,it),V(it,st),Xt(at,st,null),V(e,ut),V(e,vt),V(P,xt),V(P,Et),V(Et,yt),V(yt,bt),V(yt,Vt),V(yt,Nt),Qt.m(Nt,null),V(v,Mt),V(v,It),we.m(It,null),kt=!0,qt||(se=[ne(a,"click",w[18]),Ai(wi.call(null,a,{content:"Brush mode",placement:"left"})),ne(u,"click",w[19]),Ai(wi.call(null,u,{content:"Eraser mode",placement:"left"})),ne(I,"change",w[21]),ne(I,"input",w[21]),ne(X,"change",w[22]),ne(X,"input",w[22]),ne(st,"click",w[13]),Ai(wi.call(null,st,{content:"Clear drawings",placement:"top"}))],qt=!0)},p($t,re){oe===(oe=ie($t))&&zt?zt.p($t,re):(zt.d(1),zt=oe($t),zt&&(zt.c(),zt.m(c,y))),Bt===(Bt=Zt($t))&&Ot?Ot.p($t,re):(Ot.d(1),Ot=Bt($t),Ot&&(Ot.c(),Ot.m(c,null)));const be={};re[1]&65536&&(be.$$scope={dirty:re,ctx:$t}),h.$set(be),(!kt||re[0]&2)&&pe(a,"btn-success",!$t[1]);const Ie={};if(re[1]&65536&&(Ie.$$scope={dirty:re,ctx:$t}),d.$set(Ie),(!kt||re[0]&2)&&pe(u,"btn-success",$t[1]),re[0]&4100){St=ke($t[12]);let ce;for(ce=0;ce<St.length;ce+=1){const Me=Uo($t,St,ce);At[ce]?At[ce].p(Me,re):(At[ce]=Xo(Me),At[ce].c(),At[ce].m(x,null))}for(;ce<At.length;ce+=1)At[ce].d(1);At.length=St.length}(!kt||re[0]&4)&&(C.value=$t[2]),re[0]&8&&pi(I,$t[3]),re[0]&16&&pi(X,$t[4]),(!kt||re[0]&16&&K!==(K=Rs("dot "+$t[11][$t[4]])+" svelte-ppbuvz"))&&Y(z,"class",K),re[0]&8&&Ht(z,"width",ai($t[3])),re[0]&8&&Ht(z,"height",ai($t[3])),re[0]&4&&Ht(z,"background-color",$t[2]),re[0]&4&&Ht(z,"color",$t[2]),re[0]&8&&Ht(z,"font-size",ai($t[3]*1.4));const Fe={};re[1]&65536&&(Fe.$$scope={dirty:re,ctx:$t}),at.$set(Fe),ae===(ae=Ft($t))&&Qt?Qt.p($t,re):(Qt.d(1),Qt=ae($t),Qt&&(Qt.c(),Qt.m(Nt,null))),ye===(ye=xe($t))&&we?we.p($t,re):(we.d(1),we=ye($t),we&&(we.c(),we.m(It,null)))},i($t){kt||(Tt(h.$$.fragment,$t),Tt(d.$$.fragment,$t),Tt(at.$$.fragment,$t),$t&&(Lt||$e(()=>{Lt=Je(v,Ns,{duration:1e3}),Lt.start()})),kt=!0)},o($t){wt(h.$$.fragment,$t),wt(d.$$.fragment,$t),wt(at.$$.fragment,$t),kt=!1},d($t){$t&&k(v),zt.d(),Ot.d(),w[17](null),Yt(h),Yt(d),Ii(At,$t),Yt(at),Qt.d(),we.d(),qt=!1,ui(se)}}}function dv(w,v,g){let{minigame:E}=v,M,P,c,y={width:400,height:400,left:400,right:800,top:200,bottom:600,x:400,y:400},t=!1,o=0,p=0,s=!1,i="#999999",n=5,e=0,r=0,l=.1,a=null,h=!1,f=!1,u=null,d=Date.now();const m=Array.from(dn.values()).filter($=>!($.name.startsWith("ffz")||/[^\w]/.test($.name))),x=[" "," "," "," "," "," "," first spam "," rare spam "," chills "," TeaTime "],S=[" "," "," "," "," "," "," ?"," ?"," for sure "," nice drawing "," TeaTime "],T=new Map;let C=[];const A=new Set,b=["round","square","butt"],R=["#000000","#404040","#808080","#C0C0C0","#FFFFFF","#FF0000","#FF7F00","#FFFF00","#00FF00","#00FFFF","#007FFF","#0000FF","#7F00FF","#FF00FF","#D2A679"];function F(){P.clearRect(0,0,M.width,M.height)}function L($){t=!0,o=$.clientX-y.left,p=$.clientY-y.top,O($)}function O($){t&&(s?P.globalCompositeOperation="destination-out":(P.globalCompositeOperation="source-over",P.strokeStyle=i),P.lineCap=b[e],P.lineWidth=n,P.beginPath(),P.moveTo(o,p),P.lineTo($.clientX-y.left,$.clientY-y.top),P.stroke(),o=$.clientX-y.left,p=$.clientY-y.top,f=!0)}function I(){t=!1}function B(){let $=0;A.size>50&&A.clear();let K;for(;$++<5&&(K=Ke(m),!!A.has(K)););g(7,h=!1),f=!1,g(8,u=null),g(5,r+=1),l=.02+Math.random()*.14,g(6,a=K),d=Date.now()+12e3,console.info(`[Draw-emote | Round ${r}] New emote is:`,a.name,"| AI Difficulty:",l,a),za(U),g(16,E._startCount+=1,E),E._startCount>E.minStartsToTry&&de.timePasses(E.overtimeDuration,E.gameDuration),F()}function U($,K){if(h)return;const Z=K.indexOf(" "),it=Z>0?K.slice(0,Z):K;if(dn.get(it)&&(d=Date.now()+3e3,it===a.name)){$.__spawned__||de.spawner.queueSpawnUnit($,K,!0);const at=$["display-name"]||$.username;T.has(at)||(T.set(at,{username:at,color:$.color||"#ccc",score:0}),C.push(at)),g(8,u=T.get(at)),H()}}function H(){cn(U),g(7,h=!0),u?(console.info(`[Draw-emote | Round ${r}] The winner is:`,u),g(8,u.score+=1,u),g(9,C=C.sort(($,K)=>T.get(K).score-T.get($).score)),E.modifier.modifyLoyalty(te(5,8))):E.modifier.modifyRage(te(10,14))}ti(()=>{c=new ResizeObserver(()=>{const K=P.getImageData(0,0,M.width,M.height);y=M.getBoundingClientRect(),g(0,M.width=y.width,M),g(0,M.height=y.height,M),P.putImageData(K,0,0)}),c.observe(M.parentElement),P=M.getContext("2d"),M.addEventListener("mousedown",L),M.addEventListener("mousemove",O),M.addEventListener("mouseup",I),M.addEventListener("mouseout",I);const $=new Li(()=>{if(!a||!h&&Date.now()<d||Math.random()<.3)return;const K=h||f&&Math.random()<l,Z={username:fu(),color:$r(),badges:[],_parseAllEmotes:!0};let it=a.name;for(;!K&&it===a.name;)it=Ke(m).name;h?(it+=Ke(x),it=it.repeat(te(1,7)),de.spawner.queueSpawnUnit(Z,it)):(it+=Ke(S),de.spawner.queueSpawnUnit(Z,it,!0),U(Z,it))},1500);return()=>{$.clear(),cn(U),c&&c.disconnect()}});function J($){Vi[$?"unshift":"push"](()=>{M=$,g(0,M)})}const tt=()=>g(1,s=!1),X=()=>g(1,s=!0),j=$=>g(2,i=$);function D(){n=Fs(this.value),g(3,n)}function z(){e=Fs(this.value),g(4,e)}return w.$$set=$=>{"minigame"in $&&g(16,E=$.minigame)},[M,s,i,n,e,r,a,h,u,C,T,b,R,F,B,H,E,J,tt,X,j,D,z]}class cv extends Se{constructor(v){super(),Ee(this,v,dv,fv,Te,{minigame:16},null,[-1,-1])}}const Ca=Object.freeze({gfmb:["gfmb1","gfmb2"],toLinks:["to-links1","to-links2"],nextLink:["next-link1","next-link2","next-link3","next-link4","next-link5","next-link6","next-link7","next-link8"],linkSeen:["link-seen1","link-seen2","link-seen3"],minViews:["min-views1","min-views2","min-views3","min-views4"],songRequest:["song-request1","song-request2","song-request3","song-request4"],toGames:["to-games1","to-games2","to-games3"],nextGame:["next-game1","next-game2"],toBabag:["to-babag1","to-babag2"],outro:["outro1","outro2"],mods:["forsen-mods-01","forsen-mods-02","forsen-mods-03","forsen-mods-04","forsen-mods-05","forsen-mods-06","forsen-mods-07"],hype:["forsen-hype-01","forsen-hype-02","forsen-hype-03","forsen-hype-04","forsen-hype-05","forsen-hype-06","forsen-hype-07"],rage:["forsen-rage-01","forsen-rage-02","forsen-rage-03","forsen-rage-04","forsen-rage-05","forsen-rage-06","forsen-rage-07","forsen-rage-08"],pepepains:["forsen-random-01","forsen-random-02","forsen-random-03","forsen-random-04","forsen-random-05","forsen-random-06","forsen-random-07","forsen-random-08","forsen-random-09","forsen-random-10","forsen-random-11","forsen-random-12","forsen-random-13","forsen-random-14","forsen-random-15","forsen-random-16","forsen-random-17","forsen-random-18","forsen-random-19","forsen-random-20","forsen-random-21","forsen-random-22","forsen-random-23","forsen-random-24","forsen-random-25","forsen-random-26","forsen-random-27","forsen-random-28","forsen-random-29","forsen-random-30","forsen-random-31","forsen-random-32","forsen-random-33","forsen-random-34","forsen-random-35","forsen-random-36","forsen-random-37","forsen-random-38","forsen-random-39","forsen-random-40","forsen-random-41","forsen-random-42","forsen-random-43","forsen-random-44","forsen-random-45","forsen-random-46","forsen-random-47","forsen-random-48","forsen-random-49","forsen-random-50","forsen-random-51","forsen-singing-01","forsen-singing-02","forsen-singing-03","forsen-singing-04","forsen-singing-05","forsen-singing-06","forsen-singing-07","forsen-singing-08","forsen-singing-09","forsen-singing-10","forsen-singing-11","forsen-singing-12","forsen-singing-13","forsen-singing-14","forsen-singing-15","forsen-singing-16","forsen-singing-17","forsen-singing-18","forsen-singing-19","forsen-singing-20","forsen-singing-21","forsen-singing-22","forsen-singing-23","forsen-singing-24","forsen-singing-25","forsen-singing-26","forsen-singing-27","forsen-singing-28","forsen-singing-29","forsen-singing-30","forsen-singing-31","forsen-singing-32","forsen-singing-33","forsen-singing-34","forsen-singing-35","forsen-singing-36","forsen-singing-37","forsen-singing-38","forsen-singing-39","forsen-singing-40","forsen-singing-41","forsen-singing-42","forsen-singing-43","forsen-singing-44","forsen-singing-45","forsen-singing-46","forsen-singing-47","forsen-singing-48","forsen-singing-49","forsen-singing-50","forsen-singing-51","forsen-singing-52","forsen-singing-53","forsen-singing-54","forsen-singing-55","forsen-singing-56"]});function vi(w){return Ke(Ca[w])}function $o(w){let v,g,E,M,P;return{c(){v=Q("div"),g=Q("img"),this.h()},l(c){v=q(c,"DIV",{class:!0});var y=nt(v);g=q(y,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),y.forEach(k),this.h()},h(){Ae(g.src,E=w[0])||Y(g,"src",E),Y(g,"width","512"),Y(g,"height","512"),Y(g,"alt","Advice friend"),Y(g,"class","svelte-1vy07cn"),Y(v,"class","advice-friend svelte-1vy07cn")},m(c,y){dt(c,v,y),V(v,g),w[4](g),P=!0},p(c,y){(!P||y&1&&!Ae(g.src,E=c[0]))&&Y(g,"src",E)},i(c){P||(c&&$e(()=>{P&&(M||(M=yi(v,Di,{duration:200,x:-200},!0)),M.run(1))}),P=!0)},o(c){c&&(M||(M=yi(v,Di,{duration:200,x:-200},!1)),M.run(0)),P=!1},d(c){c&&k(v),w[4](null),c&&M&&M.end()}}}function vv(w){let v,g=w[2]&&$o(w);return{c(){g&&g.c(),v=Le()},l(E){g&&g.l(E),v=Le()},m(E,M){g&&g.m(E,M),dt(E,v,M)},p(E,[M]){E[2]?g?(g.p(E,M),M&4&&Tt(g,1)):(g=$o(E),g.c(),Tt(g,1),g.m(v.parentNode,v)):g&&(Oe(),wt(g,1,1,()=>{g=null}),De())},i(E){Tt(g)},o(E){wt(g)},d(E){E&&k(v),g&&g.d(E)}}}function pv(w,v,g){let{content:E}=v,{image:M="favicon.png"}=v,P=null,c=null,y=!1;ti(()=>(g(2,y=!0),setTimeout(()=>{P=Sn(c,{animation:"shift-away-extreme",arrow:!0,maxWidth:Math.min(window.innerWidth,800)*.4,duration:[150,0],theme:"material",placement:"right-end",hideOnClick:!1,offset:[100,10],allowHTML:!0,trigger:"manual",interactive:!0,content:E}),P.show()},100),()=>{P.destroy()}));function t(o){Vi[o?"unshift":"push"](()=>{c=o,g(1,c)})}return w.$$set=o=>{"content"in o&&g(3,E=o.content),"image"in o&&g(0,M=o.image)},[M,c,y,E,t]}class mv extends Se{constructor(v){super(),Ee(this,v,pv,vv,Te,{content:3,image:0})}}function du(w,v,g,E="OK",M=oi){var s;const P=document.createElement("div");P.classList="d-flex flex-column bg-light text-dark";const c=document.createElement("div");c.innerHTML=v,c.classList="fs-4",P.appendChild(c);const y=document.createElement("div");y.innerHTML=g,P.appendChild(y);const t=document.createElement("button");t.classList="btn btn-primary border-dark mt-1 my-auto",t.innerHTML=E,t.addEventListener("click",function(){p.$destroy(),M.call(this,arguments)}),P.appendChild(t);const o=`/pics/portraits/${w}.webp`,p=new mv({props:{content:P,image:o},target:(s=document.getElementById(zn))==null?void 0:s.parentNode})}const Wo="forsen-rage-ban-game.settings",Nn={darkMode:!1,tips:!0,channel:"",volume:50,volSound:100,volMusic:70,volForsen:100,endless:!1,invulnerable:!1,chatIntegration:!0,chatPunishment:"timeout",chatTimeout:10,chatIncludeMods:!1,firstVisit:!0,lastVisit:new Date},qe=ii(Object.assign({},Nn)),gv=ii(!1);try{let w=null;const v=localStorage.getItem(Wo);v&&(w=JSON.parse(v)),qe.update(g=>{for(let E in w)E in Nn&&(g[E]=w[E]),Nn[E]instanceof Date&&(g[E]=new Date(g[E]));return g})}catch(w){console.warn("Failed to restore settings from localStorage",w)}finally{qe.subscribe(w=>{localStorage.setItem(Wo,JSON.stringify(w))}),qe.update(w=>{for(let v in Nn)w[v]=v in w?w[v]:Nn[v];if(w.firstVisit){w.firstVisit=!1;const v=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;Aa(v)}else Aa(w.darkMode);return w}),gv.set(!0)}function Aa(w){qe.update(v=>(w===void 0&&(w=!v.darkMode),v.darkMode=w,document.documentElement.dataset.bsTheme=v.darkMode?"dark":"light",v))}function vr(w,v){qe.update(g=>(v===void 0&&(v=!g[w]),g[w]=v,g))}function xv(){qe.update(w=>(w.endless||(console.info("Endless mode unlocked!"),du("pajlada","Endless mode unlocked!","You can now try out a new Endless game mode - how many days in a row can you hold without going insane?","😮 No way!")),w.endless=!0,w))}const pr={RAGE:5,LOYALTY:4};class Jn{constructor(){this.state=de.state,this.isDebugMode=!1,qe.subscribe(v=>{this.isDebugMode=Js})}modify(v=0,g=0){return this.isDebugMode?this:(v*=de._state.rageScale,g*=de._state.loyaltyScale,(v||g)&&(this.state.update(E=>(E.rage=Math.max(0,E.rage+v),E.loyalty=Math.min(100,E.loyalty+g),E)),de.storeEndlessRunData(),v>pr.RAGE&&de.forsen.tryToSay(vi("rage")),g>pr.LOYALTY&&de.forsen.tryToSay(vi("hype"))),this)}modifyRage(v=0){return this.isDebugMode?this:(v*=de._state.rageScale,v&&(this.state.update(g=>(g.rage=Math.max(0,g.rage+v),g)),de.storeEndlessRunData(),v>pr.RAGE&&de.forsen.tryToSay(vi("rage"))),this)}modifyLoyalty(v=0){return this.isDebugMode?this:(v*=de._state.loyaltyScale,v&&(this.state.update(g=>(g.loyalty=Math.min(100,g.loyalty+v),g)),de.storeEndlessRunData(),v>pr.LOYALTY&&de.forsen.tryToSay(vi("hype"))),this)}}function Ho(w,v,g){const E=w.slice();E[6]=v[g];const M=E[0].controls[E[6]];return E[7]=M,E}function yv(w){let v,g=w[0].title+"",E;return{c(){v=Q("h2"),E=mt(g),this.h()},l(M){v=q(M,"H2",{class:!0});var P=nt(v);E=gt(P,g),P.forEach(k),this.h()},h(){Y(v,"class","svelte-1b1ogoy")},m(M,P){dt(M,v,P),V(v,E)},p(M,P){P&1&&g!==(g=M[0].title+"")&&ee(E,g)},i:jt,o:jt,d(M){M&&k(v)}}}function Tv(w){let v,g,E;var M=w[0].components.mainMenuTitle;function P(c,y){return{}}return M&&(v=Gs(M,P())),{c(){v&&Ut(v.$$.fragment),g=Le()},l(c){v&&Wt(v.$$.fragment,c),g=Le()},m(c,y){v&&Xt(v,c,y),dt(c,g,y),E=!0},p(c,y){if(y&1&&M!==(M=c[0].components.mainMenuTitle)){if(v){Oe();const t=v;wt(t.$$.fragment,1,0,()=>{Yt(t,1)}),De()}M?(v=Gs(M,P()),Ut(v.$$.fragment),Tt(v.$$.fragment,1),Xt(v,g.parentNode,g)):v=null}},i(c){E||(v&&Tt(v.$$.fragment,c),E=!0)},o(c){v&&wt(v.$$.fragment,c),E=!1},d(c){c&&k(g),v&&Yt(v,c)}}}function Sv(w){let v,g,E,M,P,c;return g=new he({props:{size:"120%",$$slots:{default:[Cv]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),E=mt(" Start new game"),this.h()},l(y){v=q(y,"BUTTON",{type:!0,class:!0});var t=nt(v);Wt(g.$$.fragment,t),E=gt(t," Start new game"),t.forEach(k),this.h()},h(){Y(v,"type","button"),Y(v,"class","btn btn-outline-primary text-start svelte-1b1ogoy")},m(y,t){dt(y,v,t),Xt(g,v,null),V(v,E),M=!0,P||(c=ne(v,"click",w[2]),P=!0)},p(y,t){const o={};t&1024&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){M||(Tt(g.$$.fragment,y),M=!0)},o(y){wt(g.$$.fragment,y),M=!1},d(y){y&&k(v),Yt(g),P=!1,c()}}}function Ev(w){let v,g,E,M;const P=[wv,Av],c=[];function y(t,o){return t[1]?0:1}return v=y(w),g=c[v]=P[v](w),{c(){g.c(),E=Le()},l(t){g.l(t),E=Le()},m(t,o){c[v].m(t,o),dt(t,E,o),M=!0},p(t,o){let p=v;v=y(t),v===p?c[v].p(t,o):(Oe(),wt(c[p],1,1,()=>{c[p]=null}),De(),g=c[v],g?g.p(t,o):(g=c[v]=P[v](t),g.c()),Tt(g,1),g.m(E.parentNode,E))},i(t){M||(Tt(g),M=!0)},o(t){wt(g),M=!1},d(t){t&&k(E),c[v].d(t)}}}function Cv(w){let v;return{c(){v=mt("not_started")},l(g){v=gt(g,"not_started")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Av(w){let v,g,E,M,P,c;return g=new he({props:{size:"120%",$$slots:{default:[Mv]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),E=mt(" Find match"),this.h()},l(y){v=q(y,"BUTTON",{type:!0,class:!0});var t=nt(v);Wt(g.$$.fragment,t),E=gt(t," Find match"),t.forEach(k),this.h()},h(){Y(v,"type","button"),Y(v,"class","btn btn-outline-primary text-start svelte-1b1ogoy")},m(y,t){dt(y,v,t),Xt(g,v,null),V(v,E),M=!0,P||(c=ne(v,"click",w[4]),P=!0)},p(y,t){const o={};t&1024&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){M||(Tt(g.$$.fragment,y),M=!0)},o(y){wt(g.$$.fragment,y),M=!1},d(y){y&&k(v),Yt(g),P=!1,c()}}}function wv(w){let v,g=`<div class="spinner-border svelte-1b1ogoy" role="status"><span class="visually-hidden">Loading...</span></div>
            Looking for an opponent...`,E,M,P,c,y,t,o;return P=new he({props:{size:"120%",$$slots:{default:[bv]},$$scope:{ctx:w}}}),{c(){v=Q("div"),v.innerHTML=g,E=lt(),M=Q("button"),Ut(P.$$.fragment),c=mt(`\r
            Stop searching`),this.h()},l(p){v=q(p,"DIV",{"data-svelte-h":!0}),Rt(v)!=="svelte-dm72xr"&&(v.innerHTML=g),E=ht(p),M=q(p,"BUTTON",{type:!0,class:!0});var s=nt(M);Wt(P.$$.fragment,s),c=gt(s,`\r
            Stop searching`),s.forEach(k),this.h()},h(){Y(M,"type","button"),Y(M,"class","btn btn-outline-danger text-start svelte-1b1ogoy")},m(p,s){dt(p,v,s),dt(p,E,s),dt(p,M,s),Xt(P,M,null),V(M,c),y=!0,t||(o=ne(M,"click",w[5]),t=!0)},p(p,s){const i={};s&1024&&(i.$$scope={dirty:s,ctx:p}),P.$set(i)},i(p){y||(Tt(P.$$.fragment,p),y=!0)},o(p){wt(P.$$.fragment,p),y=!1},d(p){p&&(k(v),k(E),k(M)),Yt(P),t=!1,o()}}}function Mv(w){let v;return{c(){v=mt("not_started")},l(g){v=gt(g,"not_started")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function bv(w){let v;return{c(){v=mt("cancel")},l(g){v=gt(g,"cancel")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function ko(w){let v,g,E,M,P,c;return g=new he({props:{size:"120%",$$slots:{default:[Pv]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),E=mt(" Practice mode"),this.h()},l(y){v=q(y,"BUTTON",{type:!0,class:!0});var t=nt(v);Wt(g.$$.fragment,t),E=gt(t," Practice mode"),t.forEach(k),this.h()},h(){Y(v,"type","button"),Y(v,"class","btn btn-outline-secondary text-start svelte-1b1ogoy")},m(y,t){dt(y,v,t),Xt(g,v,null),V(v,E),M=!0,P||(c=ne(v,"click",w[3]),P=!0)},p(y,t){const o={};t&1024&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){M||(Tt(g.$$.fragment,y),M=!0)},o(y){wt(g.$$.fragment,y),M=!1},d(y){y&&k(v),Yt(g),P=!1,c()}}}function Pv(w){let v;return{c(){v=mt("videogame_asset")},l(g){v=gt(g,"videogame_asset")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function jo(w){let v,g,E,M,P,c=w[6]+"",y,t,o,p=w[7]+"",s,i;return{c(){v=Q("div"),g=Q("div"),E=lt(),M=Q("div"),P=Q("div"),y=mt(c),t=lt(),o=Q("div"),s=mt(p),i=lt(),this.h()},l(n){v=q(n,"DIV",{class:!0});var e=nt(v);g=q(e,"DIV",{class:!0}),nt(g).forEach(k),E=ht(e),M=q(e,"DIV",{class:!0});var r=nt(M);P=q(r,"DIV",{class:!0});var l=nt(P);y=gt(l,c),l.forEach(k),t=ht(r),o=q(r,"DIV",{class:!0});var a=nt(o);s=gt(a,p),a.forEach(k),r.forEach(k),i=ht(e),e.forEach(k),this.h()},h(){Y(g,"class","control-icon svelte-1b1ogoy"),Ht(g,"color","red"),Ht(g,"background-image",`url(/pics/icons/${w[6]}.png)`),Y(P,"class","control-header svelte-1b1ogoy"),Y(o,"class","control-desc svelte-1b1ogoy"),Y(M,"class","control-desc svelte-1b1ogoy"),Y(v,"class","control-layout svelte-1b1ogoy")},m(n,e){dt(n,v,e),V(v,g),V(v,E),V(v,M),V(M,P),V(P,y),V(M,t),V(M,o),V(o,s),V(v,i)},p(n,e){e&1&&Ht(g,"background-image",`url(/pics/icons/${n[6]}.png)`),e&1&&c!==(c=n[6]+"")&&ee(y,c),e&1&&p!==(p=n[7]+"")&&ee(s,p)},d(n){n&&k(v)}}}function Ko(w){let v,g=w[7]&&jo(w);return{c(){g&&g.c(),v=Le()},l(E){g&&g.l(E),v=Le()},m(E,M){g&&g.m(E,M),dt(E,v,M)},p(E,M){E[7]?g?g.p(E,M):(g=jo(E),g.c(),g.m(v.parentNode,v)):g&&(g.d(1),g=null)},d(E){E&&k(v),g&&g.d(E)}}}function Rv(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a,h;const f=[Tv,yv],u=[];function d(b,R){return b[0].components.mainMenuTitle?0:1}t=d(w),o=u[t]=f[t](w);const m=[Ev,Sv],x=[];function S(b,R){return b[0].looksLikeMultiplayerGame?0:1}i=S(w),n=x[i]=m[i](w);let T=w[0].allowsTrainingMode&&ko(w),C=ke(Object.keys(w[0].controls)),A=[];for(let b=0;b<C.length;b+=1)A[b]=Ko(Ho(w,C,b));return{c(){v=Q("div"),g=Q("div"),E=Q("img"),P=lt(),c=Q("div"),y=Q("div"),o.c(),p=lt(),s=Q("div"),n.c(),e=lt(),T&&T.c(),r=lt(),l=Q("div");for(let b=0;b<A.length;b+=1)A[b].c();this.h()},l(b){v=q(b,"DIV",{class:!0});var R=nt(v);g=q(R,"DIV",{class:!0});var F=nt(g);E=q(F,"IMG",{src:!0,alt:!0,class:!0}),F.forEach(k),P=ht(R),c=q(R,"DIV",{class:!0});var L=nt(c);y=q(L,"DIV",{class:!0});var O=nt(y);o.l(O),O.forEach(k),p=ht(L),s=q(L,"DIV",{class:!0});var I=nt(s);n.l(I),e=ht(I),T&&T.l(I),I.forEach(k),L.forEach(k),r=ht(R),l=q(R,"DIV",{class:!0});var B=nt(l);for(let U=0;U<A.length;U+=1)A[U].l(B);B.forEach(k),R.forEach(k),this.h()},h(){Ae(E.src,M=w[0].mainMenuImage)||Y(E,"src",M),Y(E,"alt","backdrop"),Y(E,"class","svelte-1b1ogoy"),Y(g,"class","backdrop svelte-1b1ogoy"),Y(y,"class","my-auto"),Y(s,"class","menu-buttons svelte-1b1ogoy"),Y(c,"class","part svelte-1b1ogoy"),Y(l,"class","part right svelte-1b1ogoy"),Y(v,"class","menu-section svelte-1b1ogoy")},m(b,R){dt(b,v,R),V(v,g),V(g,E),V(v,P),V(v,c),V(c,y),u[t].m(y,null),V(c,p),V(c,s),x[i].m(s,null),V(s,e),T&&T.m(s,null),V(v,r),V(v,l);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m(l,null);h=!0},p(b,[R]){(!h||R&1&&!Ae(E.src,M=b[0].mainMenuImage))&&Y(E,"src",M);let F=t;t=d(b),t===F?u[t].p(b,R):(Oe(),wt(u[F],1,1,()=>{u[F]=null}),De(),o=u[t],o?o.p(b,R):(o=u[t]=f[t](b),o.c()),Tt(o,1),o.m(y,null));let L=i;if(i=S(b),i===L?x[i].p(b,R):(Oe(),wt(x[L],1,1,()=>{x[L]=null}),De(),n=x[i],n?n.p(b,R):(n=x[i]=m[i](b),n.c()),Tt(n,1),n.m(s,e)),b[0].allowsTrainingMode?T?(T.p(b,R),R&1&&Tt(T,1)):(T=ko(b),T.c(),Tt(T,1),T.m(s,null)):T&&(Oe(),wt(T,1,1,()=>{T=null}),De()),R&1){C=ke(Object.keys(b[0].controls));let O;for(O=0;O<C.length;O+=1){const I=Ho(b,C,O);A[O]?A[O].p(I,R):(A[O]=Ko(I),A[O].c(),A[O].m(l,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=C.length}},i(b){h||(Tt(o),Tt(n),Tt(T),b&&(a||$e(()=>{a=Je(v,Vs,{}),a.start()})),h=!0)},o(b){wt(o),wt(n),wt(T),h=!1},d(b){b&&k(v),u[t].d(),x[i].d(),T&&T.d(),Ii(A,b)}}}function Lv(w,v,g){let{minigame:E}=v,M=null;function P(){E.start()}function c(){E.startTraining()}function y(){g(1,M=new ri(P,te(4e3,2e4)))}function t(){M==null||M.clear(),g(1,M=null)}return ti(()=>t),w.$$set=o=>{"minigame"in o&&g(0,E=o.minigame)},[E,M,P,c,y,t]}class Fv extends Se{constructor(v){super(),Ee(this,v,Lv,Rv,Te,{minigame:0})}}function Ov(w){let v,g='<img alt="DVD screensaver" src="favicon.ico" class="svelte-ee9ael"/>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1svq0jf"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","anim-box svelte-ee9ael"),Ht(v,"left",ai(w[2])),Ht(v,"top",ai(w[3])),Ht(v,"filter",`hue-rotate(${w[1]}deg)`)},m(E,M){dt(E,v,M),w[4](v)},p(E,[M]){M&4&&Ht(v,"left",ai(E[2])),M&8&&Ht(v,"top",ai(E[3])),M&2&&Ht(v,"filter",`hue-rotate(${E[1]}deg)`)},i:jt,o:jt,d(E){E&&k(v),w[4](null)}}}function Dv(w,v,g){let E=!1,M,P=0,c=200,y=200,t=5,o=5;function p(){g(1,P=te(0,360))}function s(){E&&(g(2,c+=t),g(3,y+=o),(c+M.clientWidth>=M.parentElement.clientWidth&&t>0||c<=0&&t<0)&&(t=-t,p()),(y+M.clientHeight>=M.parentElement.clientHeight&&o>0||y<=0&&o<0)&&(o=-o,p()),requestAnimationFrame(s))}ti(()=>(E=!0,p(),s(),()=>{E=!1}));function i(n){Vi[n?"unshift":"push"](()=>{M=n,g(0,M)})}return[M,P,c,y,i]}class Zo extends Se{constructor(v){super(),Ee(this,v,Dv,Ov,Te,{})}}const cu="forsen-rage-ban-game.advices",Dr=[];try{const w=localStorage.getItem(cu);if(w){const v=JSON.parse(w);Dr.push(...v)}}catch(w){console.warn("Failed to restore list of previously seen advices from localStorage",w)}function Iv(w){Dr.push(w),localStorage.setItem(cu,JSON.stringify(Dr))}let vu=!0;qe.subscribe(w=>{vu=w.tips});const Bv='<img src="/pics/emotes/alright.webp" width="24" alt="alright"> ...alright',Gv={invalidVideo:["pajlada","Some links do not match the rules you've set. Make sure there isn't any unpleasant surprise before watching 🐎"],skippedVideo:["wesker","Forsaaaan, don't skip the links too quickly. People worked hard to save up and donate to you, you know... H!"],lostGame:["wesker","Forsaaaan, why are you so shit at video games? Play better!"],skippedGame:["wesker","Forsaaaaaan, don't rush through the lidl games. It's fun content."],badPermaban:["pajlada","You might want to take it easy... You just banned an important person, you know?"],isThreaded:["pajlada","Message threads are not welcome in this chat, watch out for them!"],isGameComplain:["pajlada","Keep an eye out for those pesky game complainers! They are annoying, and they are a valid target."],isBanEvader:["pajlada",'Watch out for previously banned chatters who create alt accounts - they get flagged as "ban evaders".'],overwork:["wesker","Forsaaaaan, don't strain yourself! Your elderly brain cannot handle more than 6 hours of streaming."]};function Tn(w){if(!vu||Dr.includes(w))return;const v=Gv[w];if(!v){console.error("Invalid key for adviceFriend tip:",w);return}du(v[0],"",v[1],Bv),Iv(w)}class Nv{constructor(){this.wasd=null,this.keyboard=null,this.arrows=null,this.space=null,this.shift=null,this.enter=null,this.mouse=null}}class qs{constructor(v){this.id=v,this.state="init",this.title="Generic Minigame",this.icon=null,this.chatMessages=null,this.controls=new Nv,this.looksLikeMultiplayerGame=!1,this.allowsTrainingMode=!0,this.components={menu:Fv,game:Zo,training:Zo},this.modifier=new Jn(this),this.minTimeToPlay=6e4*5,this.minStartsToTry=3,this.overtimeDuration=te(12,15),this.gameDuration=2e4,this.mainMenuImage="",this.activeComponent=ii(null)}init(){return this._mountedAt=Date.now(),this._startCount=0,this.toMenu(),this}updateActiveComponent(){return this.activeComponent.set(this.components[this.state]),this}toMenu(){return this.state="menu",this.updateActiveComponent()}start(){return this._startCount+=1,this.gameDuration&&this._startCount>this.minStartsToTry&&de.timePasses(this.overtimeDuration,this.gameDuration),this.state="game",this.updateActiveComponent()}startTraining(){return this.state="training",this.updateActiveComponent()}pauseGame(){return this}resumeGame(){return this}destroy(){this.state="~";const v=Math.round(-55*(1-(1+Date.now()-this._mountedAt)/(1+this.minTimeToPlay))),g=Math.round(-75*(1-(1+this._startCount)/(1+this.minStartsToTry))),E=Math.min(v,g,10);return this.modifier.modifyLoyalty(E),E<-10&&de._state.isStarted&&Tn("skippedGame"),this.updateActiveComponent()}}var Qn={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(w){(function(){var v=function(){this.init()};v.prototype={init:function(){var s=this||g;return s._counter=1e3,s._html5AudioPool=[],s.html5PoolSize=10,s._codecs={},s._howls=[],s._muted=!1,s._volume=1,s._canPlayEvent="canplaythrough",s._navigator=typeof window<"u"&&window.navigator?window.navigator:null,s.masterGain=null,s.noAudio=!1,s.usingWebAudio=!0,s.autoSuspend=!0,s.ctx=null,s.autoUnlock=!0,s._setup(),s},volume:function(s){var i=this||g;if(s=parseFloat(s),i.ctx||p(),typeof s<"u"&&s>=0&&s<=1){if(i._volume=s,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(s,g.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var e=i._howls[n]._getSoundIds(),r=0;r<e.length;r++){var l=i._howls[n]._soundById(e[r]);l&&l._node&&(l._node.volume=l._volume*s)}return i}return i._volume},mute:function(s){var i=this||g;i.ctx||p(),i._muted=s,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(s?0:i._volume,g.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var e=i._howls[n]._getSoundIds(),r=0;r<e.length;r++){var l=i._howls[n]._soundById(e[r]);l&&l._node&&(l._node.muted=s?!0:l._muted)}return i},stop:function(){for(var s=this||g,i=0;i<s._howls.length;i++)s._howls[i].stop();return s},unload:function(){for(var s=this||g,i=s._howls.length-1;i>=0;i--)s._howls[i].unload();return s.usingWebAudio&&s.ctx&&typeof s.ctx.close<"u"&&(s.ctx.close(),s.ctx=null,p()),s},codecs:function(s){return(this||g)._codecs[s.replace(/^x-/,"")]},_setup:function(){var s=this||g;if(s.state=s.ctx&&s.ctx.state||"suspended",s._autoSuspend(),!s.usingWebAudio)if(typeof Audio<"u")try{var i=new Audio;typeof i.oncanplaythrough>"u"&&(s._canPlayEvent="canplay")}catch{s.noAudio=!0}else s.noAudio=!0;try{var i=new Audio;i.muted&&(s.noAudio=!0)}catch{}return s.noAudio||s._setupCodecs(),s},_setupCodecs:function(){var s=this||g,i=null;try{i=typeof Audio<"u"?new Audio:null}catch{return s}if(!i||typeof i.canPlayType!="function")return s;var n=i.canPlayType("audio/mpeg;").replace(/^no$/,""),e=s._navigator?s._navigator.userAgent:"",r=e.match(/OPR\/(\d+)/g),l=r&&parseInt(r[0].split("/")[1],10)<33,a=e.indexOf("Safari")!==-1&&e.indexOf("Chrome")===-1,h=e.match(/Version\/(.*?) /),f=a&&h&&parseInt(h[1],10)<15;return s._codecs={mp3:!!(!l&&(n||i.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!f&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!f&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},s},_unlockAudio:function(){var s=this||g;if(!(s._audioUnlocked||!s.ctx)){s._audioUnlocked=!1,s.autoUnlock=!1,!s._mobileUnloaded&&s.ctx.sampleRate!==44100&&(s._mobileUnloaded=!0,s.unload()),s._scratchBuffer=s.ctx.createBuffer(1,1,22050);var i=function(n){for(;s._html5AudioPool.length<s.html5PoolSize;)try{var e=new Audio;e._unlocked=!0,s._releaseHtml5Audio(e)}catch{s.noAudio=!0;break}for(var r=0;r<s._howls.length;r++)if(!s._howls[r]._webAudio)for(var l=s._howls[r]._getSoundIds(),a=0;a<l.length;a++){var h=s._howls[r]._soundById(l[a]);h&&h._node&&!h._node._unlocked&&(h._node._unlocked=!0,h._node.load())}s._autoResume();var f=s.ctx.createBufferSource();f.buffer=s._scratchBuffer,f.connect(s.ctx.destination),typeof f.start>"u"?f.noteOn(0):f.start(0),typeof s.ctx.resume=="function"&&s.ctx.resume(),f.onended=function(){f.disconnect(0),s._audioUnlocked=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0),document.removeEventListener("keydown",i,!0);for(var u=0;u<s._howls.length;u++)s._howls[u]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),document.addEventListener("keydown",i,!0),s}},_obtainHtml5Audio:function(){var s=this||g;if(s._html5AudioPool.length)return s._html5AudioPool.pop();var i=new Audio().play();return i&&typeof Promise<"u"&&(i instanceof Promise||typeof i.then=="function")&&i.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(s){var i=this||g;return s._unlocked&&i._html5AudioPool.push(s),i},_autoSuspend:function(){var s=this;if(!(!s.autoSuspend||!s.ctx||typeof s.ctx.suspend>"u"||!g.usingWebAudio)){for(var i=0;i<s._howls.length;i++)if(s._howls[i]._webAudio){for(var n=0;n<s._howls[i]._sounds.length;n++)if(!s._howls[i]._sounds[n]._paused)return s}return s._suspendTimer&&clearTimeout(s._suspendTimer),s._suspendTimer=setTimeout(function(){if(s.autoSuspend){s._suspendTimer=null,s.state="suspending";var e=function(){s.state="suspended",s._resumeAfterSuspend&&(delete s._resumeAfterSuspend,s._autoResume())};s.ctx.suspend().then(e,e)}},3e4),s}},_autoResume:function(){var s=this;if(!(!s.ctx||typeof s.ctx.resume>"u"||!g.usingWebAudio))return s.state==="running"&&s.ctx.state!=="interrupted"&&s._suspendTimer?(clearTimeout(s._suspendTimer),s._suspendTimer=null):s.state==="suspended"||s.state==="running"&&s.ctx.state==="interrupted"?(s.ctx.resume().then(function(){s.state="running";for(var i=0;i<s._howls.length;i++)s._howls[i]._emit("resume")}),s._suspendTimer&&(clearTimeout(s._suspendTimer),s._suspendTimer=null)):s.state==="suspending"&&(s._resumeAfterSuspend=!0),s}};var g=new v,E=function(s){var i=this;if(!s.src||s.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}i.init(s)};E.prototype={init:function(s){var i=this;return g.ctx||p(),i._autoplay=s.autoplay||!1,i._format=typeof s.format!="string"?s.format:[s.format],i._html5=s.html5||!1,i._muted=s.mute||!1,i._loop=s.loop||!1,i._pool=s.pool||5,i._preload=typeof s.preload=="boolean"||s.preload==="metadata"?s.preload:!0,i._rate=s.rate||1,i._sprite=s.sprite||{},i._src=typeof s.src!="string"?s.src:[s.src],i._volume=s.volume!==void 0?s.volume:1,i._xhr={method:s.xhr&&s.xhr.method?s.xhr.method:"GET",headers:s.xhr&&s.xhr.headers?s.xhr.headers:null,withCredentials:s.xhr&&s.xhr.withCredentials?s.xhr.withCredentials:!1},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=s.onend?[{fn:s.onend}]:[],i._onfade=s.onfade?[{fn:s.onfade}]:[],i._onload=s.onload?[{fn:s.onload}]:[],i._onloaderror=s.onloaderror?[{fn:s.onloaderror}]:[],i._onplayerror=s.onplayerror?[{fn:s.onplayerror}]:[],i._onpause=s.onpause?[{fn:s.onpause}]:[],i._onplay=s.onplay?[{fn:s.onplay}]:[],i._onstop=s.onstop?[{fn:s.onstop}]:[],i._onmute=s.onmute?[{fn:s.onmute}]:[],i._onvolume=s.onvolume?[{fn:s.onvolume}]:[],i._onrate=s.onrate?[{fn:s.onrate}]:[],i._onseek=s.onseek?[{fn:s.onseek}]:[],i._onunlock=s.onunlock?[{fn:s.onunlock}]:[],i._onresume=[],i._webAudio=g.usingWebAudio&&!i._html5,typeof g.ctx<"u"&&g.ctx&&g.autoUnlock&&g._unlockAudio(),g._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i._preload!=="none"&&i.load(),i},load:function(){var s=this,i=null;if(g.noAudio){s._emit("loaderror",null,"No audio support.");return}typeof s._src=="string"&&(s._src=[s._src]);for(var n=0;n<s._src.length;n++){var e,r;if(s._format&&s._format[n])e=s._format[n];else{if(r=s._src[n],typeof r!="string"){s._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}e=/^data:audio\/([^;,]+);/i.exec(r),e||(e=/\.([^.]+)$/.exec(r.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&g.codecs(e)){i=s._src[n];break}}if(!i){s._emit("loaderror",null,"No codec support for selected audio sources.");return}return s._src=i,s._state="loading",window.location.protocol==="https:"&&i.slice(0,5)==="http:"&&(s._html5=!0,s._webAudio=!1),new M(s),s._webAudio&&c(s),s},play:function(s,i){var n=this,e=null;if(typeof s=="number")e=s,s=null;else{if(typeof s=="string"&&n._state==="loaded"&&!n._sprite[s])return null;if(typeof s>"u"&&(s="__default",!n._playLock)){for(var r=0,l=0;l<n._sounds.length;l++)n._sounds[l]._paused&&!n._sounds[l]._ended&&(r++,e=n._sounds[l]._id);r===1?s=null:e=null}}var a=e?n._soundById(e):n._inactiveSound();if(!a)return null;if(e&&!s&&(s=a._sprite||"__default"),n._state!=="loaded"){a._sprite=s,a._ended=!1;var h=a._id;return n._queue.push({event:"play",action:function(){n.play(h)}}),h}if(e&&!a._paused)return i||n._loadQueue("play"),a._id;n._webAudio&&g._autoResume();var f=Math.max(0,a._seek>0?a._seek:n._sprite[s][0]/1e3),u=Math.max(0,(n._sprite[s][0]+n._sprite[s][1])/1e3-f),d=u*1e3/Math.abs(a._rate),m=n._sprite[s][0]/1e3,x=(n._sprite[s][0]+n._sprite[s][1])/1e3;a._sprite=s,a._ended=!1;var S=function(){a._paused=!1,a._seek=f,a._start=m,a._stop=x,a._loop=!!(a._loop||n._sprite[s][2])};if(f>=x){n._ended(a);return}var T=a._node;if(n._webAudio){var C=function(){n._playLock=!1,S(),n._refreshBuffer(a);var F=a._muted||n._muted?0:a._volume;T.gain.setValueAtTime(F,g.ctx.currentTime),a._playStart=g.ctx.currentTime,typeof T.bufferSource.start>"u"?a._loop?T.bufferSource.noteGrainOn(0,f,86400):T.bufferSource.noteGrainOn(0,f,u):a._loop?T.bufferSource.start(0,f,86400):T.bufferSource.start(0,f,u),d!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d)),i||setTimeout(function(){n._emit("play",a._id),n._loadQueue()},0)};g.state==="running"&&g.ctx.state!=="interrupted"?C():(n._playLock=!0,n.once("resume",C),n._clearTimer(a._id))}else{var A=function(){T.currentTime=f,T.muted=a._muted||n._muted||g._muted||T.muted,T.volume=a._volume*g.volume(),T.playbackRate=a._rate;try{var F=T.play();if(F&&typeof Promise<"u"&&(F instanceof Promise||typeof F.then=="function")?(n._playLock=!0,S(),F.then(function(){n._playLock=!1,T._unlocked=!0,i?n._loadQueue():n._emit("play",a._id)}).catch(function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0})):i||(n._playLock=!1,S(),n._emit("play",a._id)),T.playbackRate=a._rate,T.paused){n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}s!=="__default"||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d):(n._endTimers[a._id]=function(){n._ended(a),T.removeEventListener("ended",n._endTimers[a._id],!1)},T.addEventListener("ended",n._endTimers[a._id],!1))}catch(L){n._emit("playerror",a._id,L)}};T.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(T.src=n._src,T.load());var b=window&&window.ejecta||!T.readyState&&g._navigator.isCocoonJS;if(T.readyState>=3||b)A();else{n._playLock=!0,n._state="loading";var R=function(){n._state="loaded",A(),T.removeEventListener(g._canPlayEvent,R,!1)};T.addEventListener(g._canPlayEvent,R,!1),n._clearTimer(a._id)}}return a._id},pause:function(s){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(s)}}),i;for(var n=i._getSoundIds(s),e=0;e<n.length;e++){i._clearTimer(n[e]);var r=i._soundById(n[e]);if(r&&!r._paused&&(r._seek=i.seek(n[e]),r._rateSeek=0,r._paused=!0,i._stopFade(n[e]),r._node))if(i._webAudio){if(!r._node.bufferSource)continue;typeof r._node.bufferSource.stop>"u"?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),i._cleanBuffer(r._node)}else(!isNaN(r._node.duration)||r._node.duration===1/0)&&r._node.pause();arguments[1]||i._emit("pause",r?r._id:null)}return i},stop:function(s,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(s)}}),n;for(var e=n._getSoundIds(s),r=0;r<e.length;r++){n._clearTimer(e[r]);var l=n._soundById(e[r]);l&&(l._seek=l._start||0,l._rateSeek=0,l._paused=!0,l._ended=!0,n._stopFade(e[r]),l._node&&(n._webAudio?l._node.bufferSource&&(typeof l._node.bufferSource.stop>"u"?l._node.bufferSource.noteOff(0):l._node.bufferSource.stop(0),n._cleanBuffer(l._node)):(!isNaN(l._node.duration)||l._node.duration===1/0)&&(l._node.currentTime=l._start||0,l._node.pause(),l._node.duration===1/0&&n._clearSound(l._node))),i||n._emit("stop",l._id))}return n},mute:function(s,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(s,i)}}),n;if(typeof i>"u")if(typeof s=="boolean")n._muted=s;else return n._muted;for(var e=n._getSoundIds(i),r=0;r<e.length;r++){var l=n._soundById(e[r]);l&&(l._muted=s,l._interval&&n._stopFade(l._id),n._webAudio&&l._node?l._node.gain.setValueAtTime(s?0:l._volume,g.ctx.currentTime):l._node&&(l._node.muted=g._muted?!0:s),n._emit("mute",l._id))}return n},volume:function(){var s=this,i=arguments,n,e;if(i.length===0)return s._volume;if(i.length===1||i.length===2&&typeof i[1]>"u"){var r=s._getSoundIds(),l=r.indexOf(i[0]);l>=0?e=parseInt(i[0],10):n=parseFloat(i[0])}else i.length>=2&&(n=parseFloat(i[0]),e=parseInt(i[1],10));var a;if(typeof n<"u"&&n>=0&&n<=1){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"volume",action:function(){s.volume.apply(s,i)}}),s;typeof e>"u"&&(s._volume=n),e=s._getSoundIds(e);for(var h=0;h<e.length;h++)a=s._soundById(e[h]),a&&(a._volume=n,i[2]||s._stopFade(e[h]),s._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(n,g.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=n*g.volume()),s._emit("volume",a._id))}else return a=e?s._soundById(e):s._sounds[0],a?a._volume:0;return s},fade:function(s,i,n,e){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(s,i,n,e)}}),r;s=Math.min(Math.max(0,parseFloat(s)),1),i=Math.min(Math.max(0,parseFloat(i)),1),n=parseFloat(n),r.volume(s,e);for(var l=r._getSoundIds(e),a=0;a<l.length;a++){var h=r._soundById(l[a]);if(h){if(e||r._stopFade(l[a]),r._webAudio&&!h._muted){var f=g.ctx.currentTime,u=f+n/1e3;h._volume=s,h._node.gain.setValueAtTime(s,f),h._node.gain.linearRampToValueAtTime(i,u)}r._startFadeInterval(h,s,i,n,l[a],typeof e>"u")}}return r},_startFadeInterval:function(s,i,n,e,r,l){var a=this,h=i,f=n-i,u=Math.abs(f/.01),d=Math.max(4,u>0?e/u:e),m=Date.now();s._fadeTo=n,s._interval=setInterval(function(){var x=(Date.now()-m)/e;m=Date.now(),h+=f*x,h=Math.round(h*100)/100,f<0?h=Math.max(n,h):h=Math.min(n,h),a._webAudio?s._volume=h:a.volume(h,s._id,!0),l&&(a._volume=h),(n<i&&h<=n||n>i&&h>=n)&&(clearInterval(s._interval),s._interval=null,s._fadeTo=null,a.volume(n,s._id),a._emit("fade",s._id))},d)},_stopFade:function(s){var i=this,n=i._soundById(s);return n&&n._interval&&(i._webAudio&&n._node.gain.cancelScheduledValues(g.ctx.currentTime),clearInterval(n._interval),n._interval=null,i.volume(n._fadeTo,s),n._fadeTo=null,i._emit("fade",s)),i},loop:function(){var s=this,i=arguments,n,e,r;if(i.length===0)return s._loop;if(i.length===1)if(typeof i[0]=="boolean")n=i[0],s._loop=n;else return r=s._soundById(parseInt(i[0],10)),r?r._loop:!1;else i.length===2&&(n=i[0],e=parseInt(i[1],10));for(var l=s._getSoundIds(e),a=0;a<l.length;a++)r=s._soundById(l[a]),r&&(r._loop=n,s._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=n,n&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,s.playing(l[a])&&(s.pause(l[a],!0),s.play(l[a],!0)))));return s},rate:function(){var s=this,i=arguments,n,e;if(i.length===0)e=s._sounds[0]._id;else if(i.length===1){var r=s._getSoundIds(),l=r.indexOf(i[0]);l>=0?e=parseInt(i[0],10):n=parseFloat(i[0])}else i.length===2&&(n=parseFloat(i[0]),e=parseInt(i[1],10));var a;if(typeof n=="number"){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"rate",action:function(){s.rate.apply(s,i)}}),s;typeof e>"u"&&(s._rate=n),e=s._getSoundIds(e);for(var h=0;h<e.length;h++)if(a=s._soundById(e[h]),a){s.playing(e[h])&&(a._rateSeek=s.seek(e[h]),a._playStart=s._webAudio?g.ctx.currentTime:a._playStart),a._rate=n,s._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.setValueAtTime(n,g.ctx.currentTime):a._node&&(a._node.playbackRate=n);var f=s.seek(e[h]),u=(s._sprite[a._sprite][0]+s._sprite[a._sprite][1])/1e3-f,d=u*1e3/Math.abs(a._rate);(s._endTimers[e[h]]||!a._paused)&&(s._clearTimer(e[h]),s._endTimers[e[h]]=setTimeout(s._ended.bind(s,a),d)),s._emit("rate",a._id)}}else return a=s._soundById(e),a?a._rate:s._rate;return s},seek:function(){var s=this,i=arguments,n,e;if(i.length===0)s._sounds.length&&(e=s._sounds[0]._id);else if(i.length===1){var r=s._getSoundIds(),l=r.indexOf(i[0]);l>=0?e=parseInt(i[0],10):s._sounds.length&&(e=s._sounds[0]._id,n=parseFloat(i[0]))}else i.length===2&&(n=parseFloat(i[0]),e=parseInt(i[1],10));if(typeof e>"u")return 0;if(typeof n=="number"&&(s._state!=="loaded"||s._playLock))return s._queue.push({event:"seek",action:function(){s.seek.apply(s,i)}}),s;var a=s._soundById(e);if(a)if(typeof n=="number"&&n>=0){var h=s.playing(e);h&&s.pause(e,!0),a._seek=n,a._ended=!1,s._clearTimer(e),!s._webAudio&&a._node&&!isNaN(a._node.duration)&&(a._node.currentTime=n);var f=function(){h&&s.play(e,!0),s._emit("seek",e)};if(h&&!s._webAudio){var u=function(){s._playLock?setTimeout(u,0):f()};setTimeout(u,0)}else f()}else if(s._webAudio){var d=s.playing(e)?g.ctx.currentTime-a._playStart:0,m=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(m+d*Math.abs(a._rate))}else return a._node.currentTime;return s},playing:function(s){var i=this;if(typeof s=="number"){var n=i._soundById(s);return n?!n._paused:!1}for(var e=0;e<i._sounds.length;e++)if(!i._sounds[e]._paused)return!0;return!1},duration:function(s){var i=this,n=i._duration,e=i._soundById(s);return e&&(n=i._sprite[e._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var s=this,i=s._sounds,n=0;n<i.length;n++)i[n]._paused||s.stop(i[n]._id),s._webAudio||(s._clearSound(i[n]._node),i[n]._node.removeEventListener("error",i[n]._errorFn,!1),i[n]._node.removeEventListener(g._canPlayEvent,i[n]._loadFn,!1),i[n]._node.removeEventListener("ended",i[n]._endFn,!1),g._releaseHtml5Audio(i[n]._node)),delete i[n]._node,s._clearTimer(i[n]._id);var e=g._howls.indexOf(s);e>=0&&g._howls.splice(e,1);var r=!0;for(n=0;n<g._howls.length;n++)if(g._howls[n]._src===s._src||s._src.indexOf(g._howls[n]._src)>=0){r=!1;break}return P&&r&&delete P[s._src],g.noAudio=!1,s._state="unloaded",s._sounds=[],s=null,null},on:function(s,i,n,e){var r=this,l=r["_on"+s];return typeof i=="function"&&l.push(e?{id:n,fn:i,once:e}:{id:n,fn:i}),r},off:function(s,i,n){var e=this,r=e["_on"+s],l=0;if(typeof i=="number"&&(n=i,i=null),i||n)for(l=0;l<r.length;l++){var a=n===r[l].id;if(i===r[l].fn&&a||!i&&a){r.splice(l,1);break}}else if(s)e["_on"+s]=[];else{var h=Object.keys(e);for(l=0;l<h.length;l++)h[l].indexOf("_on")===0&&Array.isArray(e[h[l]])&&(e[h[l]]=[])}return e},once:function(s,i,n){var e=this;return e.on(s,i,n,1),e},_emit:function(s,i,n){for(var e=this,r=e["_on"+s],l=r.length-1;l>=0;l--)(!r[l].id||r[l].id===i||s==="load")&&(setTimeout((function(a){a.call(this,i,n)}).bind(e,r[l].fn),0),r[l].once&&e.off(s,r[l].fn,r[l].id));return e._loadQueue(s),e},_loadQueue:function(s){var i=this;if(i._queue.length>0){var n=i._queue[0];n.event===s&&(i._queue.shift(),i._loadQueue()),s||n.action()}return i},_ended:function(s){var i=this,n=s._sprite;if(!i._webAudio&&s._node&&!s._node.paused&&!s._node.ended&&s._node.currentTime<s._stop)return setTimeout(i._ended.bind(i,s),100),i;var e=!!(s._loop||i._sprite[n][2]);if(i._emit("end",s._id),!i._webAudio&&e&&i.stop(s._id,!0).play(s._id),i._webAudio&&e){i._emit("play",s._id),s._seek=s._start||0,s._rateSeek=0,s._playStart=g.ctx.currentTime;var r=(s._stop-s._start)*1e3/Math.abs(s._rate);i._endTimers[s._id]=setTimeout(i._ended.bind(i,s),r)}return i._webAudio&&!e&&(s._paused=!0,s._ended=!0,s._seek=s._start||0,s._rateSeek=0,i._clearTimer(s._id),i._cleanBuffer(s._node),g._autoSuspend()),!i._webAudio&&!e&&i.stop(s._id,!0),i},_clearTimer:function(s){var i=this;if(i._endTimers[s]){if(typeof i._endTimers[s]!="function")clearTimeout(i._endTimers[s]);else{var n=i._soundById(s);n&&n._node&&n._node.removeEventListener("ended",i._endTimers[s],!1)}delete i._endTimers[s]}return i},_soundById:function(s){for(var i=this,n=0;n<i._sounds.length;n++)if(s===i._sounds[n]._id)return i._sounds[n];return null},_inactiveSound:function(){var s=this;s._drain();for(var i=0;i<s._sounds.length;i++)if(s._sounds[i]._ended)return s._sounds[i].reset();return new M(s)},_drain:function(){var s=this,i=s._pool,n=0,e=0;if(!(s._sounds.length<i)){for(e=0;e<s._sounds.length;e++)s._sounds[e]._ended&&n++;for(e=s._sounds.length-1;e>=0;e--){if(n<=i)return;s._sounds[e]._ended&&(s._webAudio&&s._sounds[e]._node&&s._sounds[e]._node.disconnect(0),s._sounds.splice(e,1),n--)}}},_getSoundIds:function(s){var i=this;if(typeof s>"u"){for(var n=[],e=0;e<i._sounds.length;e++)n.push(i._sounds[e]._id);return n}else return[s]},_refreshBuffer:function(s){var i=this;return s._node.bufferSource=g.ctx.createBufferSource(),s._node.bufferSource.buffer=P[i._src],s._panner?s._node.bufferSource.connect(s._panner):s._node.bufferSource.connect(s._node),s._node.bufferSource.loop=s._loop,s._loop&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop||0),s._node.bufferSource.playbackRate.setValueAtTime(s._rate,g.ctx.currentTime),i},_cleanBuffer:function(s){var i=this,n=g._navigator&&g._navigator.vendor.indexOf("Apple")>=0;if(!s.bufferSource)return i;if(g._scratchBuffer&&s.bufferSource&&(s.bufferSource.onended=null,s.bufferSource.disconnect(0),n))try{s.bufferSource.buffer=g._scratchBuffer}catch{}return s.bufferSource=null,i},_clearSound:function(s){var i=/MSIE |Trident\//.test(g._navigator&&g._navigator.userAgent);i||(s.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var M=function(s){this._parent=s,this.init()};M.prototype={init:function(){var s=this,i=s._parent;return s._muted=i._muted,s._loop=i._loop,s._volume=i._volume,s._rate=i._rate,s._seek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++g._counter,i._sounds.push(s),s.create(),s},create:function(){var s=this,i=s._parent,n=g._muted||s._muted||s._parent._muted?0:s._volume;return i._webAudio?(s._node=typeof g.ctx.createGain>"u"?g.ctx.createGainNode():g.ctx.createGain(),s._node.gain.setValueAtTime(n,g.ctx.currentTime),s._node.paused=!0,s._node.connect(g.masterGain)):g.noAudio||(s._node=g._obtainHtml5Audio(),s._errorFn=s._errorListener.bind(s),s._node.addEventListener("error",s._errorFn,!1),s._loadFn=s._loadListener.bind(s),s._node.addEventListener(g._canPlayEvent,s._loadFn,!1),s._endFn=s._endListener.bind(s),s._node.addEventListener("ended",s._endFn,!1),s._node.src=i._src,s._node.preload=i._preload===!0?"auto":i._preload,s._node.volume=n*g.volume(),s._node.load()),s},reset:function(){var s=this,i=s._parent;return s._muted=i._muted,s._loop=i._loop,s._volume=i._volume,s._rate=i._rate,s._seek=0,s._rateSeek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++g._counter,s},_errorListener:function(){var s=this;s._parent._emit("loaderror",s._id,s._node.error?s._node.error.code:0),s._node.removeEventListener("error",s._errorFn,!1)},_loadListener:function(){var s=this,i=s._parent;i._duration=Math.ceil(s._node.duration*10)/10,Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue()),s._node.removeEventListener(g._canPlayEvent,s._loadFn,!1)},_endListener:function(){var s=this,i=s._parent;i._duration===1/0&&(i._duration=Math.ceil(s._node.duration*10)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=i._duration*1e3),i._ended(s)),s._node.removeEventListener("ended",s._endFn,!1)}};var P={},c=function(s){var i=s._src;if(P[i]){s._duration=P[i].duration,o(s);return}if(/^data:[^;]+;base64,/.test(i)){for(var n=atob(i.split(",")[1]),e=new Uint8Array(n.length),r=0;r<n.length;++r)e[r]=n.charCodeAt(r);t(e.buffer,s)}else{var l=new XMLHttpRequest;l.open(s._xhr.method,i,!0),l.withCredentials=s._xhr.withCredentials,l.responseType="arraybuffer",s._xhr.headers&&Object.keys(s._xhr.headers).forEach(function(a){l.setRequestHeader(a,s._xhr.headers[a])}),l.onload=function(){var a=(l.status+"")[0];if(a!=="0"&&a!=="2"&&a!=="3"){s._emit("loaderror",null,"Failed loading audio file with status: "+l.status+".");return}t(l.response,s)},l.onerror=function(){s._webAudio&&(s._html5=!0,s._webAudio=!1,s._sounds=[],delete P[i],s.load())},y(l)}},y=function(s){try{s.send()}catch{s.onerror()}},t=function(s,i){var n=function(){i._emit("loaderror",null,"Decoding audio data failed.")},e=function(r){r&&i._sounds.length>0?(P[i._src]=r,o(i,r)):n()};typeof Promise<"u"&&g.ctx.decodeAudioData.length===1?g.ctx.decodeAudioData(s).then(e).catch(n):g.ctx.decodeAudioData(s,e,n)},o=function(s,i){i&&!s._duration&&(s._duration=i.duration),Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue())},p=function(){if(g.usingWebAudio){try{typeof AudioContext<"u"?g.ctx=new AudioContext:typeof webkitAudioContext<"u"?g.ctx=new webkitAudioContext:g.usingWebAudio=!1}catch{g.usingWebAudio=!1}g.ctx||(g.usingWebAudio=!1);var s=/iP(hone|od|ad)/.test(g._navigator&&g._navigator.platform),i=g._navigator&&g._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=i?parseInt(i[1],10):null;if(s&&n&&n<9){var e=/safari/.test(g._navigator&&g._navigator.userAgent.toLowerCase());g._navigator&&!e&&(g.usingWebAudio=!1)}g.usingWebAudio&&(g.masterGain=typeof g.ctx.createGain>"u"?g.ctx.createGainNode():g.ctx.createGain(),g.masterGain.gain.setValueAtTime(g._muted?0:g._volume,g.ctx.currentTime),g.masterGain.connect(g.ctx.destination)),g._setup()}};w.Howler=g,w.Howl=E,typeof js<"u"?(js.HowlerGlobal=v,js.Howler=g,js.Howl=E,js.Sound=M):typeof window<"u"&&(window.HowlerGlobal=v,window.Howler=g,window.Howl=E,window.Sound=M)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(g){var E=this;if(!E.ctx||!E.ctx.listener)return E;for(var M=E._howls.length-1;M>=0;M--)E._howls[M].stereo(g);return E},HowlerGlobal.prototype.pos=function(g,E,M){var P=this;if(!P.ctx||!P.ctx.listener)return P;if(E=typeof E!="number"?P._pos[1]:E,M=typeof M!="number"?P._pos[2]:M,typeof g=="number")P._pos=[g,E,M],typeof P.ctx.listener.positionX<"u"?(P.ctx.listener.positionX.setTargetAtTime(P._pos[0],Howler.ctx.currentTime,.1),P.ctx.listener.positionY.setTargetAtTime(P._pos[1],Howler.ctx.currentTime,.1),P.ctx.listener.positionZ.setTargetAtTime(P._pos[2],Howler.ctx.currentTime,.1)):P.ctx.listener.setPosition(P._pos[0],P._pos[1],P._pos[2]);else return P._pos;return P},HowlerGlobal.prototype.orientation=function(g,E,M,P,c,y){var t=this;if(!t.ctx||!t.ctx.listener)return t;var o=t._orientation;if(E=typeof E!="number"?o[1]:E,M=typeof M!="number"?o[2]:M,P=typeof P!="number"?o[3]:P,c=typeof c!="number"?o[4]:c,y=typeof y!="number"?o[5]:y,typeof g=="number")t._orientation=[g,E,M,P,c,y],typeof t.ctx.listener.forwardX<"u"?(t.ctx.listener.forwardX.setTargetAtTime(g,Howler.ctx.currentTime,.1),t.ctx.listener.forwardY.setTargetAtTime(E,Howler.ctx.currentTime,.1),t.ctx.listener.forwardZ.setTargetAtTime(M,Howler.ctx.currentTime,.1),t.ctx.listener.upX.setTargetAtTime(P,Howler.ctx.currentTime,.1),t.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),t.ctx.listener.upZ.setTargetAtTime(y,Howler.ctx.currentTime,.1)):t.ctx.listener.setOrientation(g,E,M,P,c,y);else return o;return t},Howl.prototype.init=function(g){return function(E){var M=this;return M._orientation=E.orientation||[1,0,0],M._stereo=E.stereo||null,M._pos=E.pos||null,M._pannerAttr={coneInnerAngle:typeof E.coneInnerAngle<"u"?E.coneInnerAngle:360,coneOuterAngle:typeof E.coneOuterAngle<"u"?E.coneOuterAngle:360,coneOuterGain:typeof E.coneOuterGain<"u"?E.coneOuterGain:0,distanceModel:typeof E.distanceModel<"u"?E.distanceModel:"inverse",maxDistance:typeof E.maxDistance<"u"?E.maxDistance:1e4,panningModel:typeof E.panningModel<"u"?E.panningModel:"HRTF",refDistance:typeof E.refDistance<"u"?E.refDistance:1,rolloffFactor:typeof E.rolloffFactor<"u"?E.rolloffFactor:1},M._onstereo=E.onstereo?[{fn:E.onstereo}]:[],M._onpos=E.onpos?[{fn:E.onpos}]:[],M._onorientation=E.onorientation?[{fn:E.onorientation}]:[],g.call(this,E)}}(Howl.prototype.init),Howl.prototype.stereo=function(g,E){var M=this;if(!M._webAudio)return M;if(M._state!=="loaded")return M._queue.push({event:"stereo",action:function(){M.stereo(g,E)}}),M;var P=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof E>"u")if(typeof g=="number")M._stereo=g,M._pos=[g,0,0];else return M._stereo;for(var c=M._getSoundIds(E),y=0;y<c.length;y++){var t=M._soundById(c[y]);if(t)if(typeof g=="number")t._stereo=g,t._pos=[g,0,0],t._node&&(t._pannerAttr.panningModel="equalpower",(!t._panner||!t._panner.pan)&&v(t,P),P==="spatial"?typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(g,Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):t._panner.setPosition(g,0,0):t._panner.pan.setValueAtTime(g,Howler.ctx.currentTime)),M._emit("stereo",t._id);else return t._stereo}return M},Howl.prototype.pos=function(g,E,M,P){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(g,E,M,P)}}),c;if(E=typeof E!="number"?0:E,M=typeof M!="number"?-.5:M,typeof P>"u")if(typeof g=="number")c._pos=[g,E,M];else return c._pos;for(var y=c._getSoundIds(P),t=0;t<y.length;t++){var o=c._soundById(y[t]);if(o)if(typeof g=="number")o._pos=[g,E,M],o._node&&((!o._panner||o._panner.pan)&&v(o,"spatial"),typeof o._panner.positionX<"u"?(o._panner.positionX.setValueAtTime(g,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(E,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(M,Howler.ctx.currentTime)):o._panner.setPosition(g,E,M)),c._emit("pos",o._id);else return o._pos}return c},Howl.prototype.orientation=function(g,E,M,P){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(g,E,M,P)}}),c;if(E=typeof E!="number"?c._orientation[1]:E,M=typeof M!="number"?c._orientation[2]:M,typeof P>"u")if(typeof g=="number")c._orientation=[g,E,M];else return c._orientation;for(var y=c._getSoundIds(P),t=0;t<y.length;t++){var o=c._soundById(y[t]);if(o)if(typeof g=="number")o._orientation=[g,E,M],o._node&&(o._panner||(o._pos||(o._pos=c._pos||[0,0,-.5]),v(o,"spatial")),typeof o._panner.orientationX<"u"?(o._panner.orientationX.setValueAtTime(g,Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(E,Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(M,Howler.ctx.currentTime)):o._panner.setOrientation(g,E,M)),c._emit("orientation",o._id);else return o._orientation}return c},Howl.prototype.pannerAttr=function(){var g=this,E=arguments,M,P,c;if(!g._webAudio)return g;if(E.length===0)return g._pannerAttr;if(E.length===1)if(typeof E[0]=="object")M=E[0],typeof P>"u"&&(M.pannerAttr||(M.pannerAttr={coneInnerAngle:M.coneInnerAngle,coneOuterAngle:M.coneOuterAngle,coneOuterGain:M.coneOuterGain,distanceModel:M.distanceModel,maxDistance:M.maxDistance,refDistance:M.refDistance,rolloffFactor:M.rolloffFactor,panningModel:M.panningModel}),g._pannerAttr={coneInnerAngle:typeof M.pannerAttr.coneInnerAngle<"u"?M.pannerAttr.coneInnerAngle:g._coneInnerAngle,coneOuterAngle:typeof M.pannerAttr.coneOuterAngle<"u"?M.pannerAttr.coneOuterAngle:g._coneOuterAngle,coneOuterGain:typeof M.pannerAttr.coneOuterGain<"u"?M.pannerAttr.coneOuterGain:g._coneOuterGain,distanceModel:typeof M.pannerAttr.distanceModel<"u"?M.pannerAttr.distanceModel:g._distanceModel,maxDistance:typeof M.pannerAttr.maxDistance<"u"?M.pannerAttr.maxDistance:g._maxDistance,refDistance:typeof M.pannerAttr.refDistance<"u"?M.pannerAttr.refDistance:g._refDistance,rolloffFactor:typeof M.pannerAttr.rolloffFactor<"u"?M.pannerAttr.rolloffFactor:g._rolloffFactor,panningModel:typeof M.pannerAttr.panningModel<"u"?M.pannerAttr.panningModel:g._panningModel});else return c=g._soundById(parseInt(E[0],10)),c?c._pannerAttr:g._pannerAttr;else E.length===2&&(M=E[0],P=parseInt(E[1],10));for(var y=g._getSoundIds(P),t=0;t<y.length;t++)if(c=g._soundById(y[t]),c){var o=c._pannerAttr;o={coneInnerAngle:typeof M.coneInnerAngle<"u"?M.coneInnerAngle:o.coneInnerAngle,coneOuterAngle:typeof M.coneOuterAngle<"u"?M.coneOuterAngle:o.coneOuterAngle,coneOuterGain:typeof M.coneOuterGain<"u"?M.coneOuterGain:o.coneOuterGain,distanceModel:typeof M.distanceModel<"u"?M.distanceModel:o.distanceModel,maxDistance:typeof M.maxDistance<"u"?M.maxDistance:o.maxDistance,refDistance:typeof M.refDistance<"u"?M.refDistance:o.refDistance,rolloffFactor:typeof M.rolloffFactor<"u"?M.rolloffFactor:o.rolloffFactor,panningModel:typeof M.panningModel<"u"?M.panningModel:o.panningModel};var p=c._panner;p||(c._pos||(c._pos=g._pos||[0,0,-.5]),v(c,"spatial"),p=c._panner),p.coneInnerAngle=o.coneInnerAngle,p.coneOuterAngle=o.coneOuterAngle,p.coneOuterGain=o.coneOuterGain,p.distanceModel=o.distanceModel,p.maxDistance=o.maxDistance,p.refDistance=o.refDistance,p.rolloffFactor=o.rolloffFactor,p.panningModel=o.panningModel}return g},Sound.prototype.init=function(g){return function(){var E=this,M=E._parent;E._orientation=M._orientation,E._stereo=M._stereo,E._pos=M._pos,E._pannerAttr=M._pannerAttr,g.call(this),E._stereo?M.stereo(E._stereo):E._pos&&M.pos(E._pos[0],E._pos[1],E._pos[2],E._id)}}(Sound.prototype.init),Sound.prototype.reset=function(g){return function(){var E=this,M=E._parent;return E._orientation=M._orientation,E._stereo=M._stereo,E._pos=M._pos,E._pannerAttr=M._pannerAttr,E._stereo?M.stereo(E._stereo):E._pos?M.pos(E._pos[0],E._pos[1],E._pos[2],E._id):E._panner&&(E._panner.disconnect(0),E._panner=void 0,M._refreshBuffer(E)),g.call(this)}}(Sound.prototype.reset);var v=function(g,E){E=E||"spatial",E==="spatial"?(g._panner=Howler.ctx.createPanner(),g._panner.coneInnerAngle=g._pannerAttr.coneInnerAngle,g._panner.coneOuterAngle=g._pannerAttr.coneOuterAngle,g._panner.coneOuterGain=g._pannerAttr.coneOuterGain,g._panner.distanceModel=g._pannerAttr.distanceModel,g._panner.maxDistance=g._pannerAttr.maxDistance,g._panner.refDistance=g._pannerAttr.refDistance,g._panner.rolloffFactor=g._pannerAttr.rolloffFactor,g._panner.panningModel=g._pannerAttr.panningModel,typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(g._pos[0],Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(g._pos[1],Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(g._pos[2],Howler.ctx.currentTime)):g._panner.setPosition(g._pos[0],g._pos[1],g._pos[2]),typeof g._panner.orientationX<"u"?(g._panner.orientationX.setValueAtTime(g._orientation[0],Howler.ctx.currentTime),g._panner.orientationY.setValueAtTime(g._orientation[1],Howler.ctx.currentTime),g._panner.orientationZ.setValueAtTime(g._orientation[2],Howler.ctx.currentTime)):g._panner.setOrientation(g._orientation[0],g._orientation[1],g._orientation[2])):(g._panner=Howler.ctx.createStereoPanner(),g._panner.pan.setValueAtTime(g._stereo,Howler.ctx.currentTime)),g._panner.connect(g._node),g._paused||g._parent.pause(g._id,!0).play(g._id,!0)}})()})(Qn);Qn.Howler.autoUnlock=!0;qe.subscribe(w=>{Qn.Howler.volume(w.volume/100)});let Ye=class{constructor(v,g,E=!0){this.id=v,this.url=g,this.sound=new Qn.Howl({src:Array.isArray(g)?g:[g],preload:E}),this._volumeSubscription=qe.subscribe(M=>{this.sound.volume(M.volSound/100)})}isPlaying(){return this.sound.playing()}isLoaded(){return this.sound.state()==="loaded"}on(v,g){return this.sound.on(v,g)}off(v,g){return this.sound.off(v,g)}once(v,g){return this.sound.once(v,g)}load(){return this.sound.load(),this}play(){return this.sound.play(),this}pause(){return this.sound.pause(),this}stop(){return this.sound.stop(),this}reset(){return this.sound.seek(0),this}seek(v){return this.sound.seek(v)}unload(){return this._volumeSubscription(),this.sound.unload()}};class Cs extends Ye{constructor(v,g,E=!1){super(v,g,E),this.sound.loop(!0),this._volumeSubscription(),this._volumeSubscription=qe.subscribe(M=>{this.sound.volume(M.volMusic/100)})}play(){return this.sound.playing()||this.sound.play(),this}}class mr extends Ye{constructor(v,g){super(v,g,!1),this._volumeSubscription(),this._volumeSubscription=qe.subscribe(E=>{this.sound.volume(E.volForsen/100)})}}class Vv extends qs{constructor(){super("draw-emotes"),this.title="Scribble Clues",this.icon="/pics/draw-emotes/icon.png",this.chatMessages=["FeelsDankMan 🪥","FeelsDankMan ✏️","FeelsDankMan 🖼️","PagMan this game"],this.minStartsToTry=8,this.minTimeToPlay=6e4*3,this.overtimeDuration=te(5,8),this.gameDuration=1e4,this.allowsTrainingMode=!1,this.looksLikeMultiplayerGame=!1,this.controls.mouse="Draw stuff with your mouse",this.mainMenuImage="/pics/backdrops/draw-emotes.webp",this.components.game=cv,this.components.mainMenuTitle=null,this.ost=new Cs("draw-emotes-ost","/sounds/music/draw-emotes-ost.mp3"),this.sounds={win:new Ye("draw-emotes-win","/sounds/draw-emotes/win.mp3"),lose:new Ye("draw-emotes-lose","/sounds/draw-emotes/lose.mp3")}}startMusic(){this.ost&&(this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play())}pauseMusic(){this.ost&&this.ost.pause()}stopMusic(){this.ost&&this.ost.stop().unload()}toMenu(){return this.startMusic(),super.toMenu()}pauseGame(){return this.pauseMusic(),this}resumeGame(){return this.ost.isLoaded()?this.ost.play():this.startMusic(),this}destroy(){this.stopMusic(),this.ost=null;for(const v in this.sounds)this.sounds[v].stop(),this.sounds[v].off();return super.destroy()}}function qn(w,v,g){var E=g||{},M=E.noTrailing,P=M===void 0?!1:M,c=E.noLeading,y=c===void 0?!1:c,t=E.debounceMode,o=t===void 0?void 0:t,p,s=!1,i=0;function n(){p&&clearTimeout(p)}function e(l){var a=l||{},h=a.upcomingOnly,f=h===void 0?!1:h;n(),s=!f}function r(){for(var l=arguments.length,a=new Array(l),h=0;h<l;h++)a[h]=arguments[h];var f=this,u=Date.now()-i;if(s)return;function d(){i=Date.now(),v.apply(f,a)}function m(){p=void 0}!y&&o&&!p&&d(),n(),o===void 0&&u>w?y?(i=Date.now(),P||(p=setTimeout(o?m:d,w))):d():P!==!0&&(p=setTimeout(o?m:d,o===void 0?w-u:w))}return r.cancel=e,r}function zv(w,{from:v,to:g},E={}){const M=getComputedStyle(w),P=M.transform==="none"?"":M.transform,[c,y]=M.transformOrigin.split(" ").map(parseFloat),t=v.left+v.width*c/g.width-(g.left+c),o=v.top+v.height*y/g.height-(g.top+y),{delay:p=0,duration:s=n=>Math.sqrt(n)*120,easing:i=vn}=E;return{delay:p,duration:zr(s)?s(Math.sqrt(t*t+o*o)):s,easing:i,css:(n,e)=>{const r=e*t,l=e*o,a=n+e*v.width/g.width,h=n+e*v.height/g.height;return`transform: ${P} translate(${r}px, ${l}px) scale(${a}, ${h});`}}}function Jo(w){let v=w[1].content+"",g,E,M,P=w[3].settings.visualAidMode&&Qo(w);return{c(){g=mt(v),E=lt(),P&&P.c(),M=Le()},l(c){g=gt(c,v),E=ht(c),P&&P.l(c),M=Le()},m(c,y){dt(c,g,y),dt(c,E,y),P&&P.m(c,y),dt(c,M,y)},p(c,y){y&2&&v!==(v=c[1].content+"")&&ee(g,v),c[3].settings.visualAidMode?P?P.p(c,y):(P=Qo(c),P.c(),P.m(M.parentNode,M)):P&&(P.d(1),P=null)},d(c){c&&(k(g),k(E),k(M)),P&&P.d(c)}}}function Qo(w){let v,g=w[1].color+"",E;return{c(){v=Q("div"),E=mt(g),this.h()},l(M){v=q(M,"DIV",{class:!0});var P=nt(v);E=gt(P,g),P.forEach(k),this.h()},h(){Y(v,"class","visual-aid svelte-17ah2k3")},m(M,P){dt(M,v,P),V(v,E)},p(M,P){P&2&&g!==(g=M[1].color+"")&&ee(E,g)},d(M){M&&k(v)}}}function Uv(w){let v,g,E,M=w[1].visible&&Jo(w);return{c(){v=Q("div"),M&&M.c(),this.h()},l(P){v=q(P,"DIV",{class:!0,tabindex:!0,role:!0});var c=nt(v);M&&M.l(c),c.forEach(k),this.h()},h(){Y(v,"class","cell svelte-17ah2k3"),Y(v,"tabindex","-1"),Y(v,"role","cell"),pe(v,"focused",w[2]),pe(v,"active",w[1].enabled),pe(v,"transparent",!w[1].visible),Ht(v,"background-color",w[1].visible?w[1].bgcolor:""),Ht(v,"border-color",w[1].visible?w[1].color:"#fff2")},m(P,c){dt(P,v,c),M&&M.m(v,null),g||(E=[ne(v,"mousedown",w[10]),ne(v,"mouseup",w[11]),ne(v,"touchstart",w[12]),ne(v,"touchend",w[13]),ne(v,"click",w[14]),ne(v,"keypress",w[15])],g=!0)},p(P,[c]){P[1].visible?M?M.p(P,c):(M=Jo(P),M.c(),M.m(v,null)):M&&(M.d(1),M=null),c&4&&pe(v,"focused",P[2]),c&2&&pe(v,"active",P[1].enabled),c&2&&pe(v,"transparent",!P[1].visible),c&2&&Ht(v,"background-color",P[1].visible?P[1].bgcolor:""),c&2&&Ht(v,"border-color",P[1].visible?P[1].color:"#fff2")},i:jt,o:jt,d(P){P&&k(v),M&&M.d(),g=!1,ui(E)}}}function Xv(w,v,g){let E,M=jt,P=()=>(M(),M=ds(c,d=>g(3,E=d)),c);w.$$.on_destroy.push(()=>M());let{game:c}=v;P();let{cell:y}=v,{allowFlicks:t=!0}=v,{focused:o=!1}=v;function p(d){d.click()&&E.forceUpdateDOM()}function s(d,m){!t||!d.enabled||m!=null&&m.target&&(m.preventDefault(),zi(c,E._touchStartCell=d,E),zi(c,E._touchAction=m.touches[0],E),zi(c,E._touchOrigin=m.target.getBoundingClientRect(),E))}function i(d,m){if(!t||!d.enabled||!(m!=null&&m.target))return;m.preventDefault();const x=m.changedTouches.item(E._touchAction.identifier);if(!x)return;const S=x.clientX-E._touchAction.clientX,T=x.clientY-E._touchAction.clientY,C=Math.abs(S),A=Math.abs(T);if(C>=E._touchOrigin.width/2||A>=E._touchOrigin.height/2){const b=E.field.cells.findIndex(R=>R===E._touchStartCell);if(b>=0){let R=b;C>A?R+=Math.sign(S):R+=Math.sign(T)*E.field.width;const F=E.field.cells[R];E.swapTwoCells(E._touchStartCell,F)}E.activateCell(null)}else p(E._touchStartCell);delete E._touchStartCell,delete E._touchAction,delete E._touchOrigin,E.forceUpdateDOM()}function n(d){!t||!d.enabled||zi(c,E._dragStartCell=d,E)}function e(d){!t||!d.enabled||E._dragStartCell!==d&&(E.swapTwoCells(E._dragStartCell,d),delete E._dragStartCell,E.activateCell(null),E.forceUpdateDOM())}const r=d=>n(y),l=d=>e(y),a=d=>s(y,d),h=d=>i(y,d),f=()=>p(y),u=d=>{d.key==="Enter"&&p(y)};return w.$$set=d=>{"game"in d&&P(g(0,c=d.game)),"cell"in d&&g(1,y=d.cell),"allowFlicks"in d&&g(9,t=d.allowFlicks),"focused"in d&&g(2,o=d.focused)},[c,y,o,E,p,s,i,n,e,t,r,l,a,h,f,u]}class Yv extends Se{constructor(v){super(),Ee(this,v,Xv,Uv,Te,{game:0,cell:1,allowFlicks:9,focused:2})}}function qo(w,v,g){const E=w.slice();return E[5]=v[g],E}function _o(w){let v,g,E=[],M=new Map,P,c,y=ke(w[1].cells);const t=o=>o[5];for(let o=0;o<y.length;o+=1){let p=qo(w,y,o),s=t(p);M.set(s,E[o]=tl(s,p))}return{c(){v=Q("div"),g=Q("div");for(let o=0;o<E.length;o+=1)E[o].c();this.h()},l(o){v=q(o,"DIV",{class:!0});var p=nt(v);g=q(p,"DIV",{class:!0});var s=nt(g);for(let i=0;i<E.length;i+=1)E[i].l(s);s.forEach(k),p.forEach(k),this.h()},h(){Y(g,"class","field svelte-15jlznb"),Ht(g,"grid-template-columns",`repeat(${w[1].width}, min-content)`),Y(v,"class","d-flex align-items-center justify-content-center")},m(o,p){dt(o,v,p),V(v,g);for(let s=0;s<E.length;s+=1)E[s]&&E[s].m(g,null);c=!0},p(o,p){if(p&19){y=ke(o[1].cells),Oe();for(let s=0;s<E.length;s+=1)E[s].r();E=kh(E,p,t,1,o,y,M,g,Zf,tl,null,qo);for(let s=0;s<E.length;s+=1)E[s].a();De()}p&2&&Ht(g,"grid-template-columns",`repeat(${o[1].width}, min-content)`)},i(o){if(!c){for(let p=0;p<y.length;p+=1)Tt(E[p]);o&&(P||$e(()=>{P=Je(v,Di,{duration:800,y:20}),P.start()})),c=!0}},o(o){for(let p=0;p<E.length;p+=1)wt(E[p]);c=!1},d(o){o&&k(v);for(let p=0;p<E.length;p+=1)E[p].d()}}}function tl(w,v){let g,E,M,P,c,y=jt,t;return E=new Yv({props:{game:v[0],cell:v[5],allowFlicks:v[4].settings.allowFlicks,focused:v[1].activeCell===v[5]}}),{key:w,first:null,c(){g=Q("div"),Ut(E.$$.fragment),M=lt(),this.h()},l(o){g=q(o,"DIV",{class:!0});var p=nt(g);Wt(E.$$.fragment,p),M=ht(p),p.forEach(k),this.h()},h(){Y(g,"class","cell-container"),this.first=g},m(o,p){dt(o,g,p),Xt(E,g,null),V(g,M),t=!0},p(o,p){v=o;const s={};p&1&&(s.game=v[0]),p&2&&(s.cell=v[5]),p&16&&(s.allowFlicks=v[4].settings.allowFlicks),p&2&&(s.focused=v[1].activeCell===v[5]),E.$set(s)},r(){c=g.getBoundingClientRect()},f(){Wf(g),y()},a(){y(),y=$f(g,c,zv,{delay:0,duration:300})},i(o){t||(Tt(E.$$.fragment,o),o&&(P||$e(()=>{P=Je(g,Di,{duration:v[3].in,y:-150}),P.start()})),t=!0)},o(o){wt(E.$$.fragment,o),t=!1},d(o){o&&k(g),Yt(E)}}}function $v(w){let v,g,E=w[2]&&_o(w);return{c(){E&&E.c(),v=Le()},l(M){E&&E.l(M),v=Le()},m(M,P){E&&E.m(M,P),dt(M,v,P),g=!0},p(M,[P]){M[2]?E?(E.p(M,P),P&4&&Tt(E,1)):(E=_o(M),E.c(),Tt(E,1),E.m(v.parentNode,v)):E&&(Oe(),wt(E,1,1,()=>{E=null}),De())},i(M){g||(Tt(E),g=!0)},o(M){wt(E),g=!1},d(M){M&&k(v),E&&E.d(M)}}}function Wv(w,v,g){let E,M=jt,P=()=>(M(),M=ds(c,p=>g(4,E=p)),c);w.$$.on_destroy.push(()=>M());let{game:c}=v;P();let{field:y}=v,t=!1;const o={in:0,out:150};return ti(()=>{g(2,t=!0),g(3,o.in=200,o)}),w.$$set=p=>{"game"in p&&P(g(0,c=p.game)),"field"in p&&g(1,y=p.field)},[c,y,t,o,E]}class pu extends Se{constructor(v){super(),Ee(this,v,Wv,$v,Te,{game:0,field:1})}}function el(w){return Object.prototype.toString.call(w)==="[object Date]"}function wa(w,v){if(w===v||w!==w)return()=>w;const g=typeof w;if(g!==typeof v||Array.isArray(w)!==Array.isArray(v))throw new Error("Cannot interpolate values of different type");if(Array.isArray(w)){const E=v.map((M,P)=>wa(w[P],M));return M=>E.map(P=>P(M))}if(g==="object"){if(!w||!v)throw new Error("Object cannot be null");if(el(w)&&el(v)){w=w.getTime(),v=v.getTime();const P=v-w;return c=>new Date(w+c*P)}const E=Object.keys(v),M={};return E.forEach(P=>{M[P]=wa(w[P],v[P])}),P=>{const c={};return E.forEach(y=>{c[y]=M[y](P)}),c}}if(g==="number"){const E=v-w;return M=>w+M*E}throw new Error(`Cannot interpolate ${g} values`)}function ki(w,v={}){const g=ii(w);let E,M=w;function P(c,y){if(w==null)return g.set(w=c),Promise.resolve();M=c;let t=E,o=!1,{delay:p=0,duration:s=400,easing:i=Va,interpolate:n=wa}=ho(ho({},v),y);if(s===0)return t&&(t.abort(),t=null),g.set(w=M),Promise.resolve();const e=Vh()+p;let r;return E=zh(l=>{if(l<e)return!0;o||(r=n(w,c),typeof s=="function"&&(s=s(w,c)),o=!0),t&&(t.abort(),t=null);const a=l-e;return a>s?(g.set(w=c),!1):(g.set(w=r(i(a/s))),!0)}),E.promise}return{set:P,update:(c,y)=>P(c(M,w),y),subscribe:g.subscribe}}function Hv(w){let v,g='<div class="cock svelte-1qfxj7s">🐓</div> <div class="egg svelte-1qfxj7s">🥚</div> <div class="chicken svelte-1qfxj7s">🐤</div>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-ujacgw"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","flavor svelte-1qfxj7s")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}class mu extends Se{constructor(v){super(),Ee(this,v,null,Hv,Te,{})}}function kv(w){let v,g,E="Practice mode",M,P,c,y,t,o,p="Moves:",s,i=w[2].field.swaps+"",n,e,r,l,a="Shuffles:",h,f,u,d,m,x="Hints used:",S,T,C,A,b,R="Score:",F,L=(w[6]|0)+"",O,I,B,U,H,J,tt,X="Shuffle board",j,D,z="Quit practice",$,K,Z,it,st;return K=new mu({}),{c(){v=Q("div"),g=Q("h3"),g.textContent=E,M=lt(),P=Q("div"),c=Q("table"),y=Q("tbody"),t=Q("tr"),o=Q("td"),o.textContent=p,s=Q("td"),n=mt(i),e=lt(),r=Q("tr"),l=Q("td"),l.textContent=a,h=Q("td"),f=mt(w[3]),u=lt(),d=Q("tr"),m=Q("td"),m.textContent=x,S=Q("td"),T=mt(w[4]),C=lt(),A=Q("tr"),b=Q("td"),b.textContent=R,F=Q("td"),O=mt(L),I=lt(),B=Q("div"),U=Q("button"),H=mt("Get hint"),J=lt(),tt=Q("button"),tt.textContent=X,j=lt(),D=Q("button"),D.textContent=z,$=lt(),Ut(K.$$.fragment),this.h()},l(at){v=q(at,"DIV",{class:!0});var ut=nt(v);g=q(ut,"H3",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-9wt06e"&&(g.textContent=E),M=ht(ut),P=q(ut,"DIV",{class:!0});var vt=nt(P);c=q(vt,"TABLE",{class:!0});var xt=nt(c);y=q(xt,"TBODY",{});var Et=nt(y);t=q(Et,"TR",{});var yt=nt(t);o=q(yt,"TD",{class:!0,"data-svelte-h":!0}),Rt(o)!=="svelte-1ohck6m"&&(o.textContent=p),s=q(yt,"TD",{class:!0});var bt=nt(s);n=gt(bt,i),bt.forEach(k),yt.forEach(k),e=ht(Et),r=q(Et,"TR",{});var Dt=nt(r);l=q(Dt,"TD",{class:!0,"data-svelte-h":!0}),Rt(l)!=="svelte-yl84ty"&&(l.textContent=a),h=q(Dt,"TD",{class:!0});var Vt=nt(h);f=gt(Vt,w[3]),Vt.forEach(k),Dt.forEach(k),u=ht(Et),d=q(Et,"TR",{});var Nt=nt(d);m=q(Nt,"TD",{class:!0,"data-svelte-h":!0}),Rt(m)!=="svelte-glybcv"&&(m.textContent=x),S=q(Nt,"TD",{class:!0});var Mt=nt(S);T=gt(Mt,w[4]),Mt.forEach(k),Nt.forEach(k),C=ht(Et),A=q(Et,"TR",{});var It=nt(A);b=q(It,"TD",{class:!0,"data-svelte-h":!0}),Rt(b)!=="svelte-1hdteii"&&(b.textContent=R),F=q(It,"TD",{class:!0});var Lt=nt(F);O=gt(Lt,L),Lt.forEach(k),It.forEach(k),Et.forEach(k),xt.forEach(k),vt.forEach(k),I=ht(ut),B=q(ut,"DIV",{class:!0});var kt=nt(B);U=q(kt,"BUTTON",{class:!0});var qt=nt(U);H=gt(qt,"Get hint"),qt.forEach(k),J=ht(kt),tt=q(kt,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(tt)!=="svelte-lteue1"&&(tt.textContent=X),j=ht(kt),D=q(kt,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(D)!=="svelte-1ej84cw"&&(D.textContent=z),kt.forEach(k),ut.forEach(k),$=ht(at),Wt(K.$$.fragment,at),this.h()},h(){Y(g,"class","svelte-5tnw4l"),Y(o,"class","svelte-5tnw4l"),Y(s,"class","svelte-5tnw4l"),Y(l,"class","svelte-5tnw4l"),Y(h,"class","svelte-5tnw4l"),Y(m,"class","svelte-5tnw4l"),Y(S,"class","svelte-5tnw4l"),Y(b,"class","svelte-5tnw4l"),Y(F,"class","svelte-5tnw4l"),Y(c,"class","table table-sm table-striped-columns text-start svelte-5tnw4l"),Y(P,"class","stats"),Y(U,"class","btn btn-outline-success svelte-5tnw4l"),U.disabled=w[5],Y(tt,"class","btn btn-outline-secondary svelte-5tnw4l"),Y(D,"class","btn btn-outline-danger svelte-5tnw4l"),Y(B,"class","buttons"),Y(v,"class","container svelte-5tnw4l")},m(at,ut){dt(at,v,ut),V(v,g),V(v,M),V(v,P),V(P,c),V(c,y),V(y,t),V(t,o),V(t,s),V(s,n),V(y,e),V(y,r),V(r,l),V(r,h),V(h,f),V(y,u),V(y,d),V(d,m),V(d,S),V(S,T),V(y,C),V(y,A),V(A,b),V(A,F),V(F,O),V(v,I),V(v,B),V(B,U),V(U,H),V(B,J),V(B,tt),V(B,j),V(B,D),dt(at,$,ut),Xt(K,at,ut),Z=!0,it||(st=[ne(U,"click",w[8]),ne(tt,"click",w[9]),ne(D,"click",w[10])],it=!0)},p(at,[ut]){(!Z||ut&4)&&i!==(i=at[2].field.swaps+"")&&ee(n,i),(!Z||ut&8)&&ee(f,at[3]),(!Z||ut&16)&&ee(T,at[4]),(!Z||ut&64)&&L!==(L=(at[6]|0)+"")&&ee(O,L),(!Z||ut&32)&&(U.disabled=at[5])},i(at){Z||(Tt(K.$$.fragment,at),Z=!0)},o(at){wt(K.$$.fragment,at),Z=!1},d(at){at&&(k(v),k($)),Yt(K,at),it=!1,ui(st)}}}function jv(w,v,g){let E,M=jt,P=()=>(M(),M=ds(t,l=>g(2,E=l)),t),c;w.$$.on_destroy.push(()=>M());let{minigame:y}=v,{game:t}=v;P();const o=ki(E.field.score,{duration:350,easing:Xh});Ve(w,o,l=>g(6,c=l));let p=0,s=0,i=!1;function n(){if(E.field.ongoingCombos>0)return;const l=E.getPossibleMove();Array.isArray(l)?(g(4,s+=1),zi(t,E.field.activeCell=l.pop(),E)):g(5,i=!0)}function e(){E.field.ongoingCombos>0||(E.shuffleBoard(),g(5,i=!1),g(3,p+=1))}const r=()=>y.toMenu();return w.$$set=l=>{"minigame"in l&&g(0,y=l.minigame),"game"in l&&P(g(1,t=l.game))},w.$$.update=()=>{w.$$.dirty&4&&o.set(E.field.score)},[y,t,E,p,s,i,c,o,n,e,r]}class Kv extends Se{constructor(v){super(),Ee(this,v,jv,kv,Te,{minigame:0,game:1})}}function Zv(w){let v,g,E,M="Current advantage:",P,c,y,t='<div class="progress-bar bg-dark"></div>',o,p,s='<div class="progress-bar bg-success progress-bar-striped progress-bar-animated">You</div>',i,n,e='<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated">Opponent</div>',r,l,a="<i>Keep matching pieces to increase your advantage!</i>",h,f,u,d="Shuffle board",m,x,S="Abandon game",T,C,A,b,R,F,L,O,I,B,U,H="Your opponent is:",J,tt,X=w[5].name+"",j,D,z,$,K,Z,it,st,at;return $=new pu({props:{game:w[0],field:w[3]}}),Z=new mu({}),{c(){v=Q("div"),g=Q("div"),E=Q("div"),E.textContent=M,P=lt(),c=Q("div"),y=Q("div"),y.innerHTML=t,o=lt(),p=Q("div"),p.innerHTML=s,i=lt(),n=Q("div"),n.innerHTML=e,r=lt(),l=Q("small"),l.innerHTML=a,h=lt(),f=Q("div"),u=Q("button"),u.textContent=d,m=lt(),x=Q("button"),x.textContent=S,T=lt(),C=Q("hr"),A=lt(),b=Q("div"),R=Q("div"),F=Q("div"),L=Q("img"),I=lt(),B=Q("div"),U=Q("small"),U.textContent=H,J=lt(),tt=Q("div"),j=mt(X),D=lt(),z=Q("div"),Ut($.$$.fragment),K=lt(),Ut(Z.$$.fragment),this.h()},l(ut){v=q(ut,"DIV",{class:!0});var vt=nt(v);g=q(vt,"DIV",{class:!0});var xt=nt(g);E=q(xt,"DIV",{"data-svelte-h":!0}),Rt(E)!=="svelte-1e9vvq6"&&(E.textContent=M),P=ht(xt),c=q(xt,"DIV",{class:!0});var Et=nt(c);y=q(Et,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Rt(y)!=="svelte-1r1jmkf"&&(y.innerHTML=t),o=ht(Et),p=q(Et,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Rt(p)!=="svelte-50s5bi"&&(p.innerHTML=s),i=ht(Et),n=q(Et,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Rt(n)!=="svelte-gnf6mt"&&(n.innerHTML=e),Et.forEach(k),r=ht(xt),l=q(xt,"SMALL",{class:!0,"data-svelte-h":!0}),Rt(l)!=="svelte-zaiqac"&&(l.innerHTML=a),xt.forEach(k),h=ht(vt),f=q(vt,"DIV",{class:!0});var yt=nt(f);u=q(yt,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(u)!=="svelte-23u2us"&&(u.textContent=d),m=ht(yt),x=q(yt,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(x)!=="svelte-1l3alum"&&(x.textContent=S),yt.forEach(k),T=ht(vt),C=q(vt,"HR",{class:!0}),A=ht(vt),b=q(vt,"DIV",{class:!0});var bt=nt(b);R=q(bt,"DIV",{});var Dt=nt(R);F=q(Dt,"DIV",{class:!0});var Vt=nt(F);L=q(Vt,"IMG",{src:!0,alt:!0,class:!0}),I=ht(Vt),B=q(Vt,"DIV",{class:!0});var Nt=nt(B);U=q(Nt,"SMALL",{class:!0,"data-svelte-h":!0}),Rt(U)!=="svelte-1t46dyy"&&(U.textContent=H),J=ht(Nt),tt=q(Nt,"DIV",{class:!0});var Mt=nt(tt);j=gt(Mt,X),Mt.forEach(k),Nt.forEach(k),Vt.forEach(k),Dt.forEach(k),D=ht(bt),z=q(bt,"DIV",{class:!0});var It=nt(z);Wt($.$$.fragment,It),It.forEach(k),bt.forEach(k),vt.forEach(k),K=ht(ut),Wt(Z.$$.fragment,ut),this.h()},h(){Y(y,"class","progress svelte-hpvfvt"),Y(y,"role","progressbar"),Ht(y,"width",je(50*Math.min(1,(w[1]-Math.max(0,w[2]))/w[1]))),Y(p,"class","progress svelte-hpvfvt"),Y(p,"role","progressbar"),Ht(p,"width",je(50*Math.min(1,w[2]/w[1]))),Y(n,"class","progress svelte-hpvfvt"),Y(n,"role","progressbar"),Ht(n,"width",je(-50*Math.min(1,w[2]/w[1]))),Y(c,"class","progress-stacked my-2 svelte-hpvfvt"),Y(l,"class","text-muted svelte-hpvfvt"),Y(g,"class","advantage svelte-hpvfvt"),Y(u,"class","btn btn-outline-warning svelte-hpvfvt"),Y(x,"class","btn btn-outline-danger svelte-hpvfvt"),Y(f,"class","buttons"),Y(C,"class","svelte-hpvfvt"),Ae(L.src,O=w[5].picture)||Y(L,"src",O),Y(L,"alt",w[5].name),Y(L,"class","svelte-hpvfvt"),Y(U,"class","text-muted svelte-hpvfvt"),Y(tt,"class","fw-bold"),Y(B,"class","d-flex flex-column flex-grow-1 text-start"),Y(F,"class","opponent svelte-hpvfvt"),Y(z,"class","enemy-field svelte-hpvfvt"),Y(b,"class","match-data svelte-hpvfvt"),Y(v,"class","container svelte-hpvfvt")},m(ut,vt){dt(ut,v,vt),V(v,g),V(g,E),V(g,P),V(g,c),V(c,y),V(c,o),V(c,p),V(c,i),V(c,n),V(g,r),V(g,l),V(v,h),V(v,f),V(f,u),V(f,m),V(f,x),V(v,T),V(v,C),V(v,A),V(v,b),V(b,R),V(R,F),V(F,L),V(F,I),V(F,B),V(B,U),V(B,J),V(B,tt),V(tt,j),V(b,D),V(b,z),Xt($,z,null),dt(ut,K,vt),Xt(Z,ut,vt),it=!0,st||(at=[ne(u,"click",w[7]),Ai(wi.call(null,u,{content:"This action will moderately decrease your advantage."})),ne(x,"click",w[8])],st=!0)},p(ut,[vt]){vt&6&&Ht(y,"width",je(50*Math.min(1,(ut[1]-Math.max(0,ut[2]))/ut[1]))),vt&6&&Ht(p,"width",je(50*Math.min(1,ut[2]/ut[1]))),vt&6&&Ht(n,"width",je(-50*Math.min(1,ut[2]/ut[1])));const xt={};vt&1&&(xt.game=ut[0]),vt&8&&(xt.field=ut[3]),$.$set(xt)},i(ut){it||(Tt($.$$.fragment,ut),Tt(Z.$$.fragment,ut),it=!0)},o(ut){wt($.$$.fragment,ut),wt(Z.$$.fragment,ut),it=!1},d(ut){ut&&(k(v),k(K)),Yt($),Yt(Z,ut),st=!1,ui(at)}}}function Jv(w,v,g){let E,M=jt,P=()=>(M(),M=ds(o,l=>g(10,E=l)),o),c,y;w.$$.on_destroy.push(()=>M());let{minigame:t}=v,{game:o}=v;P();const p=E==null?void 0:E.enemy.state;Ve(w,p,l=>g(3,y=l));const s=Ea();let i=500,n=ki(0,{duration:500});Ve(w,n,l=>g(2,c=l));function e(){E.field.ongoingCombos>0||(E.shuffleBoard(),zi(o,E.field.score-=E.field.shuffleCost,E))}function r(){t.modifier.modifyLoyalty(te(-9,-5)),t.toMenu()}return ti(()=>{const l=new Li(()=>{g(1,i-=20)},3333);return()=>{l.clear()}}),w.$$set=l=>{"minigame"in l&&g(9,t=l.minigame),"game"in l&&P(g(0,o=l.game))},w.$$.update=()=>{w.$$.dirty&1038&&E&&!E.gameOver&&(zi(n,c=Math.max(-i,Math.min(i,E.field.score-y.score)),c),Math.abs(c)>=i&&E.endGame(c>0))},[o,i,c,y,p,s,n,e,r,t,E]}class Qv extends Se{constructor(v){super(),Ee(this,v,Jv,Zv,Te,{minigame:9,game:0})}}function il(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a,h;return p=new he({props:{size:"120%",$$slots:{default:[qv]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("div"),E=lt(),M=Q("div"),P=mt(w[0]),y=lt(),t=Q("div"),o=Q("button"),Ut(p.$$.fragment),s=lt(),i=mt(w[3]),e=lt(),r=Q("div"),this.h()},l(f){v=q(f,"DIV",{class:!0});var u=nt(v);g=q(u,"DIV",{class:!0}),nt(g).forEach(k),E=ht(u),M=q(u,"DIV",{class:!0});var d=nt(M);P=gt(d,w[0]),d.forEach(k),y=ht(u),t=q(u,"DIV",{class:!0});var m=nt(t);o=q(m,"BUTTON",{type:!0,class:!0});var x=nt(o);Wt(p.$$.fragment,x),s=ht(x),i=gt(x,w[3]),x.forEach(k),m.forEach(k),e=ht(u),r=q(u,"DIV",{class:!0}),nt(r).forEach(k),u.forEach(k),this.h()},h(){Y(g,"class","pause-backdrop svelte-h8d6ad"),Y(M,"class","pause-title svelte-h8d6ad"),Ht(M,"color",w[1]),Y(o,"type","button"),Y(o,"class","btn btn-danger text-start"),Y(t,"class","pause-buttons svelte-h8d6ad"),Y(r,"class","overlay-black svelte-h8d6ad"),Y(v,"class","pause svelte-h8d6ad")},m(f,u){dt(f,v,u),V(v,g),V(v,E),V(v,M),V(M,P),V(v,y),V(v,t),V(t,o),Xt(p,o,null),V(o,s),V(o,i),V(v,e),V(v,r),l=!0,a||(h=ne(o,"click",function(){zr(w[4])&&w[4].apply(this,arguments)}),a=!0)},p(f,u){w=f,(!l||u&1)&&ee(P,w[0]),u&2&&Ht(M,"color",w[1]);const d={};u&36&&(d.$$scope={dirty:u,ctx:w}),p.$set(d),(!l||u&8)&&ee(i,w[3])},i(f){l||(f&&(c||$e(()=>{c=Je(M,Vs,{delay:100}),c.start()})),Tt(p.$$.fragment,f),f&&(n||$e(()=>{n=Je(t,Vs,{delay:300}),n.start()})),l=!0)},o(f){wt(p.$$.fragment,f),l=!1},d(f){f&&k(v),Yt(p),a=!1,h()}}}function qv(w){let v;return{c(){v=mt(w[2])},l(g){v=gt(g,w[2])},m(g,E){dt(g,v,E)},p(g,E){E&4&&ee(v,g[2])},d(g){g&&k(v)}}}function _v(w){let v,g,E=w[0]&&il(w);return{c(){E&&E.c(),v=Le()},l(M){E&&E.l(M),v=Le()},m(M,P){E&&E.m(M,P),dt(M,v,P),g=!0},p(M,[P]){M[0]?E?(E.p(M,P),P&1&&Tt(E,1)):(E=il(M),E.c(),Tt(E,1),E.m(v.parentNode,v)):E&&(Oe(),wt(E,1,1,()=>{E=null}),De())},i(M){g||(Tt(E),g=!0)},o(M){wt(E),g=!1},d(M){M&&k(v),E&&E.d(M)}}}function tp(w,v,g){let{gameOverReason:E="Game over"}=v,{color:M="#a33"}=v,{icon:P="exit_to_app"}=v,{buttonText:c="Exit"}=v,{callback:y=oi}=v;return w.$$set=t=>{"gameOverReason"in t&&g(0,E=t.gameOverReason),"color"in t&&g(1,M=t.color),"icon"in t&&g(2,P=t.icon),"buttonText"in t&&g(3,c=t.buttonText),"callback"in t&&g(4,y=t.callback)},[E,M,P,c,y]}class ep extends Se{constructor(v){super(),Ee(this,v,tp,_v,Te,{gameOverReason:0,color:1,icon:2,buttonText:3,callback:4})}}function ra(w){const v=w.slice(),g=v[1].result?"You got the egg":"You got owned";v[4]=g;const E=v[1].result?"#cc9":"#b33";return v[5]=E,v}function ip(w){let v,g;return v=new Qv({props:{minigame:w[0],game:w[2]}}),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,M){const P={};M&1&&(P.minigame=E[0]),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function sp(w){let v,g;return v=new Kv({props:{minigame:w[0],game:w[2]}}),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,M){const P={};M&1&&(P.minigame=E[0]),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function sl(w){let v,g;return v=new ep({props:{gameOverReason:w[4],color:w[5],callback:w[3]}}),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,M){const P={};M&2&&(P.gameOverReason=E[4]),M&2&&(P.color=E[5]),M&1&&(P.callback=E[3]),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function np(w){var a;let v,g,E='<img src="/pics/backdrops/egdle-game.webp" alt="backdrop" class="svelte-1pioizr"/>',M,P,c,y,t,o,p,s,i;c=new pu({props:{game:w[2],field:w[1].field}});const n=[sp,ip],e=[];function r(h,f){var u;return(u=h[1])!=null&&u.practiceMode?0:1}o=r(w),p=e[o]=n[o](w);let l=((a=w[1])==null?void 0:a.gameOver)&&sl(ra(w));return{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),P=Q("div"),Ut(c.$$.fragment),y=lt(),t=Q("div"),p.c(),s=lt(),l&&l.c(),this.h()},l(h){v=q(h,"DIV",{class:!0});var f=nt(v);g=q(f,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-h4vu0h"&&(g.innerHTML=E),M=ht(f),P=q(f,"DIV",{class:!0});var u=nt(P);Wt(c.$$.fragment,u),u.forEach(k),y=ht(f),t=q(f,"DIV",{class:!0});var d=nt(t);p.l(d),d.forEach(k),s=ht(f),l&&l.l(f),f.forEach(k),this.h()},h(){Y(g,"class","backdrop svelte-1pioizr"),Y(P,"class","field svelte-1pioizr"),Y(t,"class","gameinfo svelte-1pioizr"),Y(v,"class","gamearea svelte-1pioizr")},m(h,f){dt(h,v,f),V(v,g),V(v,M),V(v,P),Xt(c,P,null),V(v,y),V(v,t),e[o].m(t,null),V(v,s),l&&l.m(v,null),i=!0},p(h,[f]){var m;const u={};f&2&&(u.field=h[1].field),c.$set(u);let d=o;o=r(h),o===d?e[o].p(h,f):(Oe(),wt(e[d],1,1,()=>{e[d]=null}),De(),p=e[o],p?p.p(h,f):(p=e[o]=n[o](h),p.c()),Tt(p,1),p.m(t,null)),(m=h[1])!=null&&m.gameOver?l?(l.p(ra(h),f),f&2&&Tt(l,1)):(l=sl(ra(h)),l.c(),Tt(l,1),l.m(v,null)):l&&(Oe(),wt(l,1,1,()=>{l=null}),De())},i(h){i||(Tt(c.$$.fragment,h),Tt(p),Tt(l),i=!0)},o(h){wt(c.$$.fragment,h),wt(p),wt(l),i=!1},d(h){h&&k(v),Yt(c),e[o].d(),l&&l.d()}}}function rp(w,v,g){let E,{minigame:M}=v;const P=M.resetInstance(M.state==="training");Ve(w,P,y=>g(1,E=y)),ti(()=>(E.startNewRun(),()=>E.destroy()));const c=()=>M.toMenu();return w.$$set=y=>{"minigame"in y&&g(0,M=y.minigame)},[M,E,P,c]}class nl extends Se{constructor(v){super(),Ee(this,v,rp,np,Te,{minigame:0})}}function ap(w){let v,g=`<b class="svelte-vsl8k3">Egdle:</b>
  Evolution`;return{c(){v=Q("h2"),v.innerHTML=g,this.h()},l(E){v=q(E,"H2",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-xx2udn"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","svelte-vsl8k3")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}class op extends Se{constructor(v){super(),Ee(this,v,null,ap,Te,{})}}class lp extends qs{constructor(){super("egdle-crush"),this.title="Egdle: Evolution",this.icon="/pics/emotes/pumpkin-cool.webp",this.chatMessages=["KKool GuitarTime","KKool","pepeLaugh 👉 💎","pepeLaugh"],this.looksLikeMultiplayerGame=!0,this.allowsTrainingMode=!0,this.minStartsToTry=3,this.mainMenuImage="/pics/backdrops/egdle-menu.webp",this.controls.mouse="Click or drag to match",this.components.game=nl,this.components.training=nl,this.components.mainMenuTitle=op,this.ost=new Cs("egdle-ost","/sounds/music/egdle-ost.mp3"),this.game=ii(null)}getInstance(){return this.game}resetInstance(v=!1){const g=new fp(this,v);return g.setOwner(this),this.game.set(g),this.game}toMenu(){return this.startMusic(),super.toMenu()}startMusic(){this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play()}stopMusic(){this.ost.stop().unload()}destroy(){return this.stopMusic(),this.game.update(v=>(v&&v.destroy(),v)),super.destroy()}}let hp=0;const gr={red:"💖",yellow:"🥚",green:"🥒",cyan:"💎",blue:"🍳",pink:"🌸",gray:"🚽"},un={red:"rgba(192, 96, 96, 0.38)",yellow:"rgba(160, 160, 96, 0.38)",green:"rgba(96, 192, 96, 0.38)",cyan:"rgba(96, 192, 192, 0.38)",blue:"rgba(96, 96, 192, 0.38)",pink:"rgba(172, 64, 128, 0.38)",gray:"rgba(140, 140, 140, 0.38)"},gu=new Qn.Howl({src:["/sounds/progression.mp3"],sprite:{m1:[0,720],m2:[1e3,720],m3:[2e3,720],m4:[3e3,720],m5:[4e3,720],m6:[5e3,720],m7:[6e3,720],m8:[7e3,520]}});qe.subscribe(w=>{gu.volume=w.volSound});const up=new Ye("egdle-gameover","/sounds/riff.mp3");class rl{constructor(v=""){this.enabled=!0,this.id=hp++,this.clear(v,!0),this._timers={hider:null,enabler:null},this.clickCallback=oi}clear(v="",g=!1){return this.content=v,this.visible=!1,this.locked=!1,this.bgcolor="",this.color="",this.winner=!1,this.loser=!1,this.finisher=!1,g&&(this.clicks=0),this}click(){if(!(!this.enabled||!this.visible||this.isTraveling))return this.visible=!0,this.clicks+=1,this.enabled=!1,this.clickCallback()}toJSON(){const v=["content","enabled","visible","locked","clicks","winner","loser","bgcolor","color"],g={};return v.forEach(E=>{g[E]=this[E]}),g}matches(v){return this.color===v.color}}class xu{constructor(v=8,g=8){this._DOMcallback=oi,this.ongoingCombos=0,this.score=0,this.swaps=0,this.sounds=!0,this.shuffleCost=120,this.setSize(v,g),this.activeCell=null;const E=this;this._cellCallback=function(){if(!(this.isTraveling||this.finisher))return this.enabled=!0,E.activeCell?(this!==E.activeCell&&E.swapTwoCells(E.activeCell,this),E.activeCell=null):E.activeCell=this,!0}}setSize(v,g){if(this.width=v,this.height=g,v<3||g<3)throw new Error("Invalid field dimensions: cannot go lower than 3x3");return this.size=this.width*this.height,this.reset()}reset(){this.ongoingCombos=0,this.score=0,this.swaps=0;const v=Object.keys(un),g=v.pop();this.cells=new Array(this.size).fill(null).map(()=>{const M=new rl;return M.clear("",!0),M.enabled=!1,M.visible=!1,M.isTraveling=!1,M.color=Ke(v),M.bgcolor=un[M.color],M.content=gr[M.color],M.clickCallback=this._cellCallback,M}),this.resetGrids();const E=this.grid;for(let M=0;M<this.width;M++)for(let P=0;P<this.height;P++)P>1&&E[M][P].matches(E[M][P-1])&&E[M][P].matches(E[M][P-2])&&(E[M][P-1].color=g,E[M][P-1].bgcolor=un[g],E[M][P-1].content=gr[g]),M>1&&E[M][P].matches(E[M-1][P])&&E[M][P].matches(E[M-2][P])&&(E[M-1][P].color=g,E[M-1][P].bgcolor=un[g],E[M-1][P].content=gr[g]);return this}resetGrids(){this.inverseGrid=[];for(let v=0;v<this.height;v++)this.inverseGrid.push(this.cells.slice(v*this.height,(v+1)*this.height));this.grid=[];for(let v=0;v<this.width;v++){const g=[];for(let E=0;E<this.height;E++)g.push(this.inverseGrid[E][v]);this.grid.push(g)}return this}shuffle(){return Zs(this.cells),this.resetGrids(),new ri(()=>{this.calculateAllCombos()},800),this._DOMcallback(),this}clear(v,g){return this.cells.forEach(E=>{E.clear(v,g)}),this}enableCells(){return this.cells.forEach(v=>{v.enabled=!v.locked}),this}disableCells(){return this.cells.forEach(v=>{v.enabled=!1}),this}showCells(){return this.cells.forEach(v=>{v.visible=!0}),this}hideCells(){return this.cells.forEach(v=>{v.visible=!1}),this}getTotalClicks(){return this.cells.reduce((v,g)=>v+g.clicks,0)}toJSON(){return{cells:this.cells}}findMatchingNeighborForCell(v,g,E){if(g<0||v<0||g>=this.width||v>=this.height)return;if(!this.grid[g][v])return null;const P=E[0];let c=null;return g>0&&(c=this.grid[g-1][v],P.matches(c)&&!E.includes(c))||g<this.width-1&&(c=this.grid[g+1][v],P.matches(c)&&!E.includes(c))||v>0&&(c=this.grid[g][v-1],P.matches(c)&&!E.includes(c))||v<this.height-1&&(c=this.grid[g][v+1],P.matches(c)&&!E.includes(c))?c:null}getPossibleMove(){let v;for(let g=this.height-1;g>=0;g--)for(let E=this.width-1;E>=0;E--){const M=this.grid[E][g];if(g>0&&M.matches(this.grid[E][g-1])){if(v=this.findMatchingNeighborForCell(g+1,E,[M,this.grid[E][g-1]]),v)return[this.grid[E][g+1],v];if(v=this.findMatchingNeighborForCell(g-2,E,[M,this.grid[E][g-1]]),v)return[this.grid[E][g-2],v]}if(g>1&&M.matches(this.grid[E][g-2])&&(v=this.findMatchingNeighborForCell(g-1,E,[M,this.grid[E][g-2]]),v))return[this.grid[E][g-1],v];if(E>0&&M.matches(this.grid[E-1][g])){if(v=this.findMatchingNeighborForCell(g,E+1,[M,this.grid[E-1][g]]),v)return[this.grid[E+1][g],v];if(v=this.findMatchingNeighborForCell(g,E-2,[M,this.grid[E-1][g]]),v)return[this.grid[E-2][g],v]}if(E>1&&M.matches(this.grid[E-2][g])&&(v=this.findMatchingNeighborForCell(g,E-1,[M,this.grid[E-2][g]]),v))return[this.grid[E-1][g],v]}return null}swapTwoCells(v,g,E=!0){v.isTraveling=!0,g.isTraveling=!0,v.enabled=!1,g.enabled=!1;const M=this.cells.findIndex(t=>t===v),P=this.cells.findIndex(t=>t===g);let c=!0;switch(P-M){case 1:{(M+1)%this.width===0&&(c=!1);break}case-1:{M%this.width===0&&(c=!1);break}case this.height:{M>=this.size-this.width&&(c=!1);break}case-this.height:{M<this.width&&(c=!1);break}default:c=!1}if(!c){v.enabled=!0,g.enabled=!0,v.isTraveling=!1,g.isTraveling=!1;return}this.cells[M]=g,this.cells[P]=v,this.resetGrids(),new ri(async()=>{v.isTraveling=!1,g.isTraveling=!1,await this.calculateAllCombos()>0?this.swaps+=1:E&&(this.swapTwoCells(g,v,!1),this._DOMcallback()),v.enabled=!0,g.enabled=!0},200)}async calculateAllCombos(v=1){this.ongoingCombos+=1;let g=0;const E=this.grid;for(let c=0;c<this.width;c++)for(let y=0;y<this.height;y++){const t=E[c][y];if(y>1){const o=t.matches(E[c][y-1])&&t.matches(E[c][y-2]),p=t.visible&&E[c][y-1].visible&&E[c][y-2].visible,s=!t.isTraveling&&!E[c][y-1].isTraveling&&!E[c][y-2].isTraveling;o&&s&&p&&(g+=10*(1+t.finisher+E[c][y-1].finisher+E[c][y-2].finisher),t.finisher=!0,E[c][y-1].finisher=!0,E[c][y-2].finisher=!0)}if(c>1){const o=t.matches(E[c-1][y])&&t.matches(E[c-2][y]),p=t.visible&&E[c-1][y].visible&&E[c-2][y].visible,s=!t.isTraveling&&!E[c-1][y].isTraveling&&!E[c-2][y].isTraveling;o&&s&&p&&(g+=10*(1+t.finisher+E[c-1][y].finisher+E[c-2][y].finisher),t.finisher=!0,E[c-1][y].finisher=!0,E[c-2][y].finisher=!0)}}for(const c of this.cells)c.finisher&&(c.visible=!1,c.enabled=!1);let M=g===0;const P=async()=>{if(M){await this.calculateAllCombos(v+1),this.ongoingCombos-=1e4;return}M=!0;for(let c=this.size-1;c>=0;c--)if(!this.cells[c].visible){M=!1;let t=c;for(;t>=this.width;)t-=this.width,this.cells[t+this.width]=this.cells[t];const o=new rl("");o.enabled=!0,o.visible=!0,o.isTraveling=!1,o.color=Gf(un),o.bgcolor=un[o.color],o.content=gr[o.color],o.clickCallback=this._cellCallback,this.cells[t]=o}this._DOMcallback(),this.resetGrids(),new ri(P,300)};return M||(this.sounds&&gu.play("m"+Math.min(v,8)),this.ongoingCombos+=1e4,this._DOMcallback(),new ri(P,400)),this.score+=Math.round(g*Math.sqrt(v)),this.ongoingCombos-=1,g}}class fp{constructor(v,g=!1){this.minigame=v,this.practiceMode=g,this.usesInteractiveField=!0,this.owner=null,this.field=new xu,this.field._DOMcallback=qn(250,()=>this.forceUpdateDOM()),this.enemy=new dp,this.settings={visualAidMode:!1,allowFlicks:!0},this.disabledSettings=new Set,this.result=null,this.gameOver=!1,this.activeCell=null,this.field.disableCells()}setOwner(v){return this.owner=v,this}forceUpdateDOM(){var v;(v=this.owner)==null||v.game.set(this)}setOption(v,g){return this.settings[v]=g,this.saveState()}pause(){return this}unpause(){return this.gameOver?this:(this.field.enableCells(),this)}toJSON(){const v={};return this._storedProperties.forEach(g=>{v[g]=this[g]}),v}reset(){return this.gameOver=!1,this.result=null,this.activeCell=null,this.field.sounds=!0,this.field.reset(),this.enemy.reset(),this}startNewRun(){return this.reset(),this.field.showCells().enableCells(),this.practiceMode||(this.minigame.modifier.modifyLoyalty(te(1,2)),this.enemy.isActive=!0,this.enemy.start()),this.forceUpdateDOM(),this}shuffleBoard(){return this.field.shuffle(),this}swapTwoCells(v,g){return this.field.swapTwoCells(v,g),this}getPossibleMove(){return this.field.getPossibleMove()}activateCell(v){return this.field.activeCell=v,this}endGame(v){return this.gameOver=!0,this.result=v,v?(this.minigame.modifier.modifyLoyalty(te(7,13)),de.spawner.queueEventfulMessages("hype",3)):(Tn("lostGame"),this.minigame.modifier.modify(te(5,9),te(-9,-5)),de.spawner.queueEventfulMessages("fail",3)),this.field.disableCells(),this.field.sounds=!1,this.enemy.stop(),this.enemy.isActive=!1,up.play(),this.activeCell=null,setTimeout(()=>this.forceUpdateDOM(),500),this}destroy(){return this.gameOver=!0,this.enemy.stop(),this.field.disableCells(),null}}class dp{constructor(){this.isActive=!0,this.brainDelay=te(800,9500),this.field=new xu,this.field.sounds=!1,this.field._DOMcallback=qn(250,()=>this.updateState()),this.field.cells.forEach(v=>{v.locked=!0}),this.state=ii(this.field)}updateState(){this.state.set(this.field)}reset(){return this.field.reset().showCells(),this.score=0,this.updateState()}start(){return this.isActive?(this._ticker=new Li(()=>this.makeMove(),this.brainDelay),this):this}stop(){var v;return(v=this._ticker)==null||v.clear(),this}makeMove(){if(this.field.ongoingCombos>0)return;const v=this.field.getPossibleMove();return v?this.field.swapTwoCells(...v):(this.field.shuffle(),this.field.score-=this.field.shuffleCost),this.updateState()}}function cp(w){let v,g=`Egg Rush
  <span class="wow svelte-q944e6">Remastered!</span>`;return{c(){v=Q("h2"),v.innerHTML=g,this.h()},l(E){v=q(E,"H2",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-x88ii3"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","svelte-q944e6")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}class vp extends Se{constructor(v){super(),Ee(this,v,null,cp,Te,{})}}function al(w){let v,g;return{c(){v=Q("img"),this.h()},l(E){v=q(E,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){Y(v,"class","hands svelte-1c5038q"),Ae(v.src,g="/pics/emotes/gimme.webp")||Y(v,"src",g),Y(v,"alt","hands")},m(E,M){dt(E,v,M)},d(E){E&&k(v)}}}function pp(w){let v,g,E,M,P,c,y,t=(w[1][w[0]]||w[1][0])+"",o,p,s=w[0]>2&&al();return{c(){v=Q("div"),g=Q("div"),E=Q("img"),P=lt(),s&&s.c(),c=lt(),y=Q("h3"),o=mt(t),this.h()},l(i){v=q(i,"DIV",{class:!0});var n=nt(v);g=q(n,"DIV",{class:!0});var e=nt(g);E=q(e,"IMG",{src:!0,alt:!0,class:!0}),P=ht(e),s&&s.l(e),e.forEach(k),c=ht(n),y=q(n,"H3",{class:!0});var r=nt(y);o=gt(r,t),r.forEach(k),n.forEach(k),this.h()},h(){Ae(E.src,M="/pics/emotes/donkstare.webp")||Y(E,"src",M),Y(E,"alt","donkStare"),Y(E,"class","svelte-1c5038q"),Ht(E,"width",fo(8+w[0]*2.5)),Y(g,"class","face svelte-1c5038q"),Y(y,"class","svelte-1c5038q"),Y(v,"class","backdrop svelte-1c5038q"),pe(v,"darker",w[0]>2)},m(i,n){dt(i,v,n),V(v,g),V(g,E),V(g,P),s&&s.m(g,null),V(v,c),V(v,y),V(y,o)},p(i,[n]){n&1&&Ht(E,"width",fo(8+i[0]*2.5)),i[0]>2?s||(s=al(),s.c(),s.m(g,null)):s&&(s.d(1),s=null),n&1&&t!==(t=(i[1][i[0]]||i[1][0])+"")&&ee(o,t),n&1&&pe(v,"darker",i[0]>2)},i(i){i&&(p||$e(()=>{p=Je(v,Ns,{delay:1e3,duration:200}),p.start()}))},o:jt,d(i){i&&k(v),s&&s.d()}}}function mp(w,v,g){let{game:E}=v,{strike:M=0}=v;const P=["Don't drop the eg!","Don't drop the eg!","Don't drop it! Last warning!","You are done!"];return ti(()=>{const c=E.playSound(M>2?"scaredeath":"scare");return()=>c==null?void 0:c.stop()}),w.$$set=c=>{"game"in c&&g(2,E=c.game),"strike"in c&&g(0,M=c.strike)},[M,P,E]}class gp extends Se{constructor(v){super(),Ee(this,v,mp,pp,Te,{game:2,strike:0})}}function ol(w,v,g){const E=w.slice();return E[19]=v[g],E}function ll(w,v,g){const E=w.slice();return E[22]=v[g],E[24]=g,E}function hl(w){let v,g;return v=new gp({props:{game:w[1],strike:w[1].strikes}}),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,M){const P={};M&2&&(P.game=E[1]),M&2&&(P.strike=E[1].strikes),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function ul(w){let v,g,E;return{c(){v=Q("span"),g=mt(Vn),E=lt(),this.h()},l(M){v=q(M,"SPAN",{class:!0});var P=nt(v);g=gt(P,Vn),E=ht(P),P.forEach(k),this.h()},h(){Y(v,"class","strike svelte-uq7d0o"),pe(v,"strike-out",Vn===w[22]),pe(v,"blinking",w[1].state==="paused"&&w[1].strikes-1===w[24])},m(M,P){dt(M,v,P),V(v,g),V(v,E)},p(M,P){P&1&&pe(v,"strike-out",Vn===M[22]),P&2&&pe(v,"blinking",M[1].state==="paused"&&M[1].strikes-1===M[24])},d(M){M&&k(v)}}}function fl(w,v){let g,E=v[19].text+"",M,P;return{key:w,first:null,c(){g=Q("div"),M=mt(E),P=lt(),this.h()},l(c){g=q(c,"DIV",{class:!0});var y=nt(g);M=gt(y,E),P=ht(y),y.forEach(k),this.h()},h(){Y(g,"class","game-component-egg svelte-uq7d0o"),Ht(g,"left",v[19].origin[1]>0?"":je(v[19].offset)),Ht(g,"right",v[19].origin[1]>0?je(v[19].offset):""),Ht(g,"top",je(v[19].top)),Ht(g,"transform",`rotate(${v[19].rotation*v[19].alive}deg)`),this.first=g},m(c,y){dt(c,g,y),V(g,M),V(g,P)},p(c,y){v=c,y&2&&E!==(E=v[19].text+"")&&ee(M,E),y&2&&Ht(g,"left",v[19].origin[1]>0?"":je(v[19].offset)),y&2&&Ht(g,"right",v[19].origin[1]>0?je(v[19].offset):""),y&2&&Ht(g,"top",je(v[19].top)),y&2&&Ht(g,"transform",`rotate(${v[19].rotation*v[19].alive}deg)`)},d(c){c&&k(g)}}}function xp(w){let v,g,E,M,P,c,y,t,o,p="ѪѲѮѰѦҜ҂Ѫ",s,i,n,e,r="ѲѬѢѦҜ҂҄҉Z 32",l,a,h,f="Q",u,d,m,x="A",S,T,C,A,b,R,F,L,O=String(w[1].score%1e3).padStart(3,"0")+"",I,B,U,H,J,tt,X=[],j=new Map,D,z,$,K,Z,it,st="ѮѰѴҖѬѢ̤",at,ut,vt,xt,Et="҂҄҉menu",yt,bt,Dt,Vt="E",Nt,Mt,It,Lt="D",kt,qt,se,ie=w[1].inversion&&w[1].dropped&&hl(w),oe=ke(w[0]),zt=[];for(let Ot=0;Ot<oe.length;Ot+=1)zt[Ot]=ul(ll(w,oe,Ot));let Zt=ke(w[1].egs);const Bt=Ot=>Ot[19].id;for(let Ot=0;Ot<Zt.length;Ot+=1){let St=ol(w,Zt,Ot),At=Bt(St);j.set(At,X[Ot]=fl(At,St))}return{c(){v=Q("div"),ie&&ie.c(),g=lt(),E=Q("div"),M=Q("div"),P=Q("div"),c=Q("div"),y=Q("button"),t=lt(),o=Q("span"),o.textContent=p,s=lt(),i=Q("button"),n=lt(),e=Q("span"),e.textContent=r,l=lt(),a=Q("div"),h=Q("button"),h.textContent=f,u=lt(),d=Q("div"),m=Q("button"),m.textContent=x,S=lt(),T=Q("div"),C=Q("div"),A=lt(),b=Q("div"),R=Q("div");for(let Ot=0;Ot<zt.length;Ot+=1)zt[Ot].c();F=lt(),L=Q("div"),I=mt(O),B=lt(),U=Q("div"),H=Q("img"),tt=lt();for(let Ot=0;Ot<X.length;Ot+=1)X[Ot].c();D=lt(),z=Q("div"),$=Q("div"),K=Q("button"),Z=lt(),it=Q("span"),it.textContent=st,at=lt(),ut=Q("button"),vt=lt(),xt=Q("span"),xt.textContent=Et,yt=lt(),bt=Q("div"),Dt=Q("button"),Dt.textContent=Vt,Nt=lt(),Mt=Q("div"),It=Q("button"),It.textContent=Lt,this.h()},l(Ot){v=q(Ot,"DIV",{class:!0});var St=nt(v);ie&&ie.l(St),g=ht(St),E=q(St,"DIV",{class:!0});var At=nt(E);M=q(At,"DIV",{class:!0});var Ft=nt(M);P=q(Ft,"DIV",{class:!0});var ae=nt(P);c=q(ae,"DIV",{class:!0});var Qt=nt(c);y=q(Qt,"BUTTON",{class:!0}),nt(y).forEach(k),t=ht(Qt),o=q(Qt,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(o)!=="svelte-161cvvi"&&(o.textContent=p),s=ht(Qt),i=q(Qt,"BUTTON",{class:!0}),nt(i).forEach(k),n=ht(Qt),e=q(Qt,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-u3fm22"&&(e.textContent=r),Qt.forEach(k),l=ht(ae),a=q(ae,"DIV",{class:!0});var xe=nt(a);h=q(xe,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(h)!=="svelte-p239ww"&&(h.textContent=f),xe.forEach(k),u=ht(ae),d=q(ae,"DIV",{class:!0});var ye=nt(d);m=q(ye,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(m)!=="svelte-164qlds"&&(m.textContent=x),ye.forEach(k),ae.forEach(k),S=ht(Ft),T=q(Ft,"DIV",{class:!0});var we=nt(T);C=q(we,"DIV",{class:!0}),nt(C).forEach(k),A=ht(we),b=q(we,"DIV",{class:!0});var $t=nt(b);R=q($t,"DIV",{class:!0});var re=nt(R);for(let Xe=0;Xe<zt.length;Xe+=1)zt[Xe].l(re);re.forEach(k),F=ht($t),L=q($t,"DIV",{class:!0});var be=nt(L);I=gt(be,O),be.forEach(k),B=ht($t),U=q($t,"DIV",{class:!0});var Ie=nt(U);H=q(Ie,"IMG",{class:!0,alt:!0,src:!0}),Ie.forEach(k),tt=ht($t);for(let Xe=0;Xe<X.length;Xe+=1)X[Xe].l($t);$t.forEach(k),we.forEach(k),D=ht(Ft),z=q(Ft,"DIV",{class:!0});var Fe=nt(z);$=q(Fe,"DIV",{class:!0});var ce=nt($);K=q(ce,"BUTTON",{class:!0}),nt(K).forEach(k),Z=ht(ce),it=q(ce,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(it)!=="svelte-7h3pq3"&&(it.textContent=st),at=ht(ce),ut=q(ce,"BUTTON",{class:!0}),nt(ut).forEach(k),vt=ht(ce),xt=q(ce,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(xt)!=="svelte-d7tr4"&&(xt.textContent=Et),ce.forEach(k),yt=ht(Fe),bt=q(Fe,"DIV",{class:!0});var Me=nt(bt);Dt=q(Me,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(Dt)!=="svelte-solquc"&&(Dt.textContent=Vt),Me.forEach(k),Nt=ht(Fe),Mt=q(Fe,"DIV",{class:!0});var Ue=nt(Mt);It=q(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(It)!=="svelte-abxa0b"&&(It.textContent=Lt),Ue.forEach(k),Fe.forEach(k),Ft.forEach(k),At.forEach(k),St.forEach(k),this.h()},h(){Y(y,"class","g-control-button g-small-control svelte-uq7d0o"),Y(o,"class","g-control-descriptor svelte-uq7d0o"),Y(i,"class","g-control-button g-small-control svelte-uq7d0o"),Y(e,"class","g-control-descriptor svelte-uq7d0o"),Y(c,"class","game-offside-container svelte-uq7d0o"),Y(h,"class","g-control-button g-directional-control playful svelte-uq7d0o"),Y(a,"class","game-button-container g-directional-top g-directional-left svelte-uq7d0o"),Y(m,"class","g-control-button g-directional-control playful svelte-uq7d0o"),Y(d,"class","game-button-container g-directional-bottom g-directional-left svelte-uq7d0o"),Y(P,"class","game-side game-offside svelte-uq7d0o"),Y(C,"class","game-headline svelte-uq7d0o"),Y(R,"class","game-strikes svelte-uq7d0o"),Y(L,"class","game-score svelte-uq7d0o"),pe(L,"blinking",w[1].state!=="playing"),Y(H,"class","character-sprite svelte-uq7d0o"),Y(H,"alt","Okayeg with a bucket"),Ae(H.src,J=w[1].direction[0]>0?"/pics/egg-rush/char-btm.png":"/pics/egg-rush/char-top.png")||Y(H,"src",J),pe(H,"floating",w[1].floatAway),Y(U,"class","character-sprite-container svelte-uq7d0o"),pe(U,"flipped",w[1].direction[1]<0),Y(b,"class","game-area svelte-uq7d0o"),Y(T,"class","game-side game-mainside svelte-uq7d0o"),Y(K,"class","g-control-button g-small-control playful svelte-uq7d0o"),Y(it,"class","g-control-descriptor zalgo svelte-uq7d0o"),Y(ut,"class","g-control-button g-small-control playful svelte-uq7d0o"),Y(xt,"class","g-control-descriptor svelte-uq7d0o"),Y($,"class","game-offside-container svelte-uq7d0o"),Y(Dt,"class","g-control-button g-directional-control playful svelte-uq7d0o"),Y(bt,"class","game-button-container g-directional-top g-directional-right svelte-uq7d0o"),Y(It,"class","g-control-button g-directional-control playful svelte-uq7d0o"),Y(Mt,"class","game-button-container g-directional-bottom g-directional-right svelte-uq7d0o"),Y(z,"class","game-side game-offside svelte-uq7d0o"),Y(M,"class","game svelte-uq7d0o"),Y(E,"class","game-backdrop svelte-uq7d0o"),pe(E,"inversion",w[1].inversion),Y(v,"class","main svelte-uq7d0o")},m(Ot,St){dt(Ot,v,St),ie&&ie.m(v,null),V(v,g),V(v,E),V(E,M),V(M,P),V(P,c),V(c,y),V(c,t),V(c,o),V(c,s),V(c,i),V(c,n),V(c,e),V(P,l),V(P,a),V(a,h),w[11](h),V(P,u),V(P,d),V(d,m),w[13](m),V(M,S),V(M,T),V(T,C),V(T,A),V(T,b),V(b,R);for(let At=0;At<zt.length;At+=1)zt[At]&&zt[At].m(R,null);V(b,F),V(b,L),V(L,I),V(b,B),V(b,U),V(U,H),V(b,tt);for(let At=0;At<X.length;At+=1)X[At]&&X[At].m(b,null);V(M,D),V(M,z),V(z,$),V($,K),V($,Z),V($,it),V($,at),V($,ut),V($,vt),V($,xt),V(z,yt),V(z,bt),V(bt,Dt),w[15](Dt),V(z,Nt),V(z,Mt),V(Mt,It),w[17](It),kt=!0,qt||(se=[ne(window,"keydown",w[4]),ne(window,"keyup",w[5]),ne(y,"click",w[9]),ne(i,"click",w[8]),ne(h,"click",w[12]),ne(m,"click",w[14]),ne(K,"click",w[6]),ne(ut,"click",w[7]),ne(Dt,"click",w[16]),ne(It,"click",w[18])],qt=!0)},p(Ot,[St]){if(Ot[1].inversion&&Ot[1].dropped?ie?(ie.p(Ot,St),St&2&&Tt(ie,1)):(ie=hl(Ot),ie.c(),Tt(ie,1),ie.m(v,g)):ie&&(Oe(),wt(ie,1,1,()=>{ie=null}),De()),St&3){oe=ke(Ot[0]);let At;for(At=0;At<oe.length;At+=1){const Ft=ll(Ot,oe,At);zt[At]?zt[At].p(Ft,St):(zt[At]=ul(Ft),zt[At].c(),zt[At].m(R,null))}for(;At<zt.length;At+=1)zt[At].d(1);zt.length=oe.length}(!kt||St&2)&&O!==(O=String(Ot[1].score%1e3).padStart(3,"0")+"")&&ee(I,O),(!kt||St&2)&&pe(L,"blinking",Ot[1].state!=="playing"),(!kt||St&2&&!Ae(H.src,J=Ot[1].direction[0]>0?"/pics/egg-rush/char-btm.png":"/pics/egg-rush/char-top.png"))&&Y(H,"src",J),(!kt||St&2)&&pe(H,"floating",Ot[1].floatAway),(!kt||St&2)&&pe(U,"flipped",Ot[1].direction[1]<0),St&2&&(Zt=ke(Ot[1].egs),X=kh(X,St,Bt,1,Ot,Zt,j,b,jf,fl,null,ol)),(!kt||St&2)&&pe(E,"inversion",Ot[1].inversion)},i(Ot){kt||(Tt(ie),kt=!0)},o(Ot){wt(ie),kt=!1},d(Ot){Ot&&k(v),ie&&ie.d(),w[11](null),w[13](null),Ii(zt,Ot);for(let St=0;St<X.length;St+=1)X[St].d();w[15](null),w[17](null),qt=!1,ui(se)}}}const aa="emulate-hover",Vn="🐣";function yp(w,v,g){let E,{minigame:M}=v;const P=M.game;Ve(w,P,m=>g(1,E=m));const c=[],y={q:null,a:null,e:null,d:null};function t(m){if(E.state!=="playing")return;const x=m.key.toLowerCase();!y[x]||y[x].classList.contains(aa)||(y[x].click(),y[x].classList.add(aa))}function o(m){const x=m.key.toLowerCase();y[x]&&y[x].classList.remove(aa)}function p(){E.playSound("keypress"),E.setDelay(E.tickDelay/2|0)}function s(){E.inversion?E.playSound("drop"):(E.playSound("keypress"),M.toMenu())}function i(){if(E.inversion){E.playSound("drop");return}E.playSound("keypress"),zi(P,E.inversion=!0,E),M.ost.stop(),M.gameMusic.sound.rate(.5),de.spawner.queueEventfulMessages("scare",3)}function n(){if(E.floatAway){E.playSound("drop");return}E.playSound("keypress"),zi(P,E.floatAway=!0,E),de.spawner.queueEventfulMessages("fail",2)}ti(()=>{E.start()});function e(m){Vi[m?"unshift":"push"](()=>{y.q=m,g(2,y)})}const r=()=>E.setDirection("q");function l(m){Vi[m?"unshift":"push"](()=>{y.a=m,g(2,y)})}const a=()=>E.setDirection("a");function h(m){Vi[m?"unshift":"push"](()=>{y.e=m,g(2,y)})}const f=()=>E.setDirection("e");function u(m){Vi[m?"unshift":"push"](()=>{y.d=m,g(2,y)})}const d=()=>E.setDirection("d");return w.$$set=m=>{"minigame"in m&&g(10,M=m.minigame)},w.$$.update=()=>{if(w.$$.dirty&3){g(0,c.length=0,c);for(let m=0;m<E.strikesToLose;m++)c.push(m<E.strikes?Vn:"")}},[c,E,y,P,t,o,p,s,i,n,M,e,r,l,a,h,f,u,d]}class Tp extends Se{constructor(v){super(),Ee(this,v,yp,xp,Te,{minigame:10})}}class Sp extends qs{constructor(){super("egg-rush"),this.title="Egg Rush",this.icon="/pics/emotes/egge.png",this.chatMessages=["Okayeg","Okayeg 🥚","Okayeg FBCatch 🥚","Okayeg 💢"],this.looksLikeMultiplayerGame=!1,this.allowsTrainingMode=!1,this.minStartsToTry=2,this.overtimeDuration=9,this.gameDuration=5e3,this.mainMenuImage="/pics/backdrops/eggrush-menu.webp",this.controls.mouse="Click to change direction",this.controls.keyboard="You can use hotkeys",this.components.game=Tp,this.components.mainMenuTitle=vp,this.ost=new Cs("eggrush-ost","/sounds/music/egg-rush_drums.mp3"),this.gameMusic=new Cs("eggrush-ost2","/sounds/music/egg-rush_lead.mp3"),this.game=ii(null)}toMenu(){return this.startMusic(),this.game.update(v=>(v&&v.clear(),v)),super.toMenu()}start(){return this.game.update(v=>v||new Cp(this)),this.gameMusic.play(),this.gameMusic.sound.seek(this.ost.sound.seek()),super.start()}startMusic(){this.ost&&(this.ost.isLoaded()?(this.gameMusic.stop(),this.gameMusic.sound.rate(1),this.ost.stop().play()):(this.ost.load().play(),this.gameMusic.load()))}stopMusic(){this.ost&&(this.ost.stop().unload(),this.gameMusic.stop().unload())}pauseGame(){return this.game.update(v=>(v==null?void 0:v.state)==="playing"?v.pause():v),super.pauseGame()}resumeGame(){return this.game.update(v=>v.resume()),super.pauseGame()}destroy(){return this.stopMusic(),this.ost=null,this.game.update(v=>v==null?void 0:v.destroy()),super.destroy()}}const ks=Object.freeze({charSprites:{top:"/donk/public/images/egg-rush/char-top.png",bottom:"/donk/public/images/egg-rush/char-btm.png"},egStepCount:7,strikesToLose:3,startingTickDelay:800,startingEgDelay:5,pointsToIncreaseEgsOnScreen:40,pointsToGradualSpeedUp:10,pointsToResetStrikes:[200,500,1e3],directions:{q:[-1,-1],a:[1,-1],e:[-1,1],d:[1,1]}});class Ep{constructor(v,g=[0,0]){this.app=v,this.id=v.egCounter++,this.alive=1,this.origin=g,this.originY=35+g[0]*11,this.originSide=g[1]>0?"right":"left",this.top=this.originY,this.offset=2,this.rotation=0,this.step=0,this.text="",this.setIcon("🥚"),this.app.egs.push(this)}setIcon(v){this.text=v}doFrame(){if(this.alive){if(this.step+=1,this.step>ks.egStepCount)return this.doDrop();this.rotation+=-60*this.origin[1],this.offset+=3.5,this.top=this.originY+this.offset/2}}doDrop(){if(this.alive=0,this.origin.every((g,E)=>g===this.app.direction[E]))return this.app.stats.egsTaken+=1,this.app.stats["egs"+this.app.currentGameMode]+=1,this.app.recordScore(1),!0;if(this.setIcon("🐣"),this.top=90,this.app.playSound("drop"),this.app.stats.egsDropped+=1,this.app.stats["drops"+this.app.currentGameMode]+=1,!this.app.recordStrike(1,3e3))this.app.pause(3e3,!0),this.app.setDelay(this.app.tickDelay+200),this.app.egDelay+=2,this.app.minigame.modifier.modifyRage(te(5,7)*(1+this.app.inversion)),this.app.inversion&&de.spawner.queueEventfulMessages("scare",2),de.spawner.queueEventfulMessages("fail",2);else{this.app.pause(0),this.app.playSound("gameover"),this.app.stats.games+=1,this.app.stats["runs"+this.app.currentGameMode]+=1;let g=Date.now()-this.app.startTime;this.app.stats["time"+this.app.currentGameMode]=g,this.app.stats["hitime"+this.app.currentGameMode]<g&&(this.app.stats["hitime"+this.app.currentGameMode]=g),this.app.stats["score"+this.app.currentGameMode]=this.app.score,this.app.stats["hiscore"+this.app.currentGameMode]<this.app.score&&(this.app.stats["hiscore"+this.app.currentGameMode]=this.app.score),this.app.inversion?(de.spawner.queueEventfulMessages("scare",4),de.spawner.queueEventfulMessages("fail",2)):de.spawner.queueEventfulMessages("fail",4),this.app.minigame.modifier.modifyRage(te(8,10)*(1+this.app.inversion)),this.app.victory(2500)}return this.app.dropped=!0,!1}destroy(){this.alive=0,this.app.egs.shift()}}class Cp{constructor(v){this.minigame=v,this.storeRef=v.game,this.egCounter=0,this.egs=[],this.startTime=0,this.direction=[0,0],this.directionsPool=Object.values(ks.directions),this.difficulty=0,this.score=0,this.strikes=0,this.strikesToLose=0,this.ticksToNextEg=0,this.tickDelay=800,this.egDelay=5,this.egs=new Set,this.timer=null,this.currentGameMode="",this.state="init",this.inversion=!1,this.dropped=!1,this.floatAway=!1,this.sounds={start:new Ye("eggrush-start","/sounds/egg-rush/start.mp3"),drop:new Ye("eggrush-drop","/sounds/egg-rush/drop.mp3"),egg:new Ye("eggrush-egg","/sounds/egg-rush/egg.mp3"),keypress:new Ye("eggrush-keypress","/sounds/egg-rush/keypress.mp3"),milestone:new Ye("eggrush-milestone","/sounds/egg-rush/milestone.mp3"),tick:new Ye("eggrush-tick","/sounds/egg-rush/tick.mp3"),gameover:new Ye("eggrush-gameover","/sounds/egg-rush/gameover.mp3"),scare:new Ye("eggrush-scare","/sounds/egg-rush/scare.mp3"),scaredeath:new Ye("eggrush-scaredeath","/sounds/egg-rush/scaredeath.mp3")},this.stats={runsA:0,games:0,egsTaken:0,egsDropped:0,egsA:0,dropsA:0,hiscoreA:0,hitimeA:0,scoreA:0,timeA:0,runsB:0,egsB:0,dropsB:0,hiscoreB:0,hitimeB:0,scoreB:0,timeB:0,lastvisit:null}}updateDOM(){return this.storeRef.set(this),this}playSound(v){const g=this.sounds[v];return g&&(g.sound.rate(1-.5*this.inversion),g.play()),g}removeAllEgs(){const v=this.egs;this.egs=[];for(const g of v)g.destroy();return this.updateDOM()}clear(){var v;return(v=this.timer)==null||v.clear(),this.removeAllEgs(),this.score=0,this.strikes=0,this.inversion=!1,this.dropped=!1,this.floatAway=!1,this.direction=Ke(this.directionsPool),this.tickDelay=ks.startingTickDelay,this.egDelay=ks.startingEgDelay,this.updateDOM()}setDirection(v){const g=ks.directions[v];return g?(this.direction=g,this.playSound("keypress"),this.updateDOM()):this}recordScore(v=0){return this.score+=v,this.playSound("egg"),this.score%9===0&&(this.setDelay(this.tickDelay-17),this.minigame.modifier.modifyLoyalty(te(1,2))),this.score%2===0&&(this.egDelay=Math.max(1,this.egDelay-1)),ks.pointsToResetStrikes.includes(this.score)&&(this.strikes=-1,this.playSound("milestone"),this.recordStrike(1)),this}recordStrike(v=0){return this.strikes+=v,this.updateDOM(),this.strikes>=this.strikesToLose}tick(){if(this.state!=="playing")return this;for(let v=0;v<this.egs.length;v++)this.egs[v].doFrame()&&this.egs.splice(v--,1);return this.ticksToNextEg<1&&(this.ticksToNextEg=Math.floor(this.egDelay+Math.random()*3),new Ep(this,Ke(this.directionsPool))),this.ticksToNextEg-=1,this.egs.length>0&&this.playSound("tick"),this.updateDOM()}pause(v=0,g=!1){return this.state=v?"dropped":"paused",v&&new ri(()=>{this.dropped=!1,g&&this.removeAllEgs(),this.state="paused",this.resume()},v),this.updateDOM()}resume(){return this.state==="paused"&&(this.state="playing"),this.updateDOM()}setDelay(v){return this.tickDelay=Math.max(150,v),this.timer&&(this.timer.clear(),this.timer.timeout=v,this.timer.prime()),this}start(v=0){return this.playSound("start"),this.state="paused",this.currentGameMode=v>1?"B":"A",this.startTime=Date.now(),this.clear(),this.strikesToLose=v>1?1:ks.strikesToLose,this.difficulty=v,this.timer=new Li(()=>this.tick(),this.tickDelay),this.resume()}victory(v){var g;return this.state="ending",v>0&&(this.playSound("gameover"),(g=this.timer)==null||g.clear(),this.timer=new ri(()=>this.minigame.toMenu(),v)),this.updateDOM()}destroy(){var v;return this.state==="playing"&&this.victory(0),this.removeAllEgs(),(v=this.timer)==null||v.clear(),this}}var yu={exports:{}};(function(w,v){(function(E,M){w.exports=M()})(js,()=>(()=>{var g={50792:c=>{var y=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function p(e,r,l){this.fn=e,this.context=r,this.once=l||!1}function s(e,r,l,a,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new p(l,a||e,h),u=t?t+r:r;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],f]:e._events[u].push(f):(e._events[u]=f,e._eventsCount++),e}function i(e,r){--e._eventsCount===0?e._events=new o:delete e._events[r]}function n(){this._events=new o,this._eventsCount=0}n.prototype.eventNames=function(){var r=[],l,a;if(this._eventsCount===0)return r;for(a in l=this._events)y.call(l,a)&&r.push(t?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(l)):r},n.prototype.listeners=function(r){var l=t?t+r:r,a=this._events[l];if(!a)return[];if(a.fn)return[a.fn];for(var h=0,f=a.length,u=new Array(f);h<f;h++)u[h]=a[h].fn;return u},n.prototype.listenerCount=function(r){var l=t?t+r:r,a=this._events[l];return a?a.fn?1:a.length:0},n.prototype.emit=function(r,l,a,h,f,u){var d=t?t+r:r;if(!this._events[d])return!1;var m=this._events[d],x=arguments.length,S,T;if(m.fn){switch(m.once&&this.removeListener(r,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,a),!0;case 4:return m.fn.call(m.context,l,a,h),!0;case 5:return m.fn.call(m.context,l,a,h,f),!0;case 6:return m.fn.call(m.context,l,a,h,f,u),!0}for(T=1,S=new Array(x-1);T<x;T++)S[T-1]=arguments[T];m.fn.apply(m.context,S)}else{var C=m.length,A;for(T=0;T<C;T++)switch(m[T].once&&this.removeListener(r,m[T].fn,void 0,!0),x){case 1:m[T].fn.call(m[T].context);break;case 2:m[T].fn.call(m[T].context,l);break;case 3:m[T].fn.call(m[T].context,l,a);break;case 4:m[T].fn.call(m[T].context,l,a,h);break;default:if(!S)for(A=1,S=new Array(x-1);A<x;A++)S[A-1]=arguments[A];m[T].fn.apply(m[T].context,S)}}return!0},n.prototype.on=function(r,l,a){return s(this,r,l,a,!1)},n.prototype.once=function(r,l,a){return s(this,r,l,a,!0)},n.prototype.removeListener=function(r,l,a,h){var f=t?t+r:r;if(!this._events[f])return this;if(!l)return i(this,f),this;var u=this._events[f];if(u.fn)u.fn===l&&(!h||u.once)&&(!a||u.context===a)&&i(this,f);else{for(var d=0,m=[],x=u.length;d<x;d++)(u[d].fn!==l||h&&!u[d].once||a&&u[d].context!==a)&&m.push(u[d]);m.length?this._events[f]=m.length===1?m[0]:m:i(this,f)}return this},n.prototype.removeAllListeners=function(r){var l;return r?(l=t?t+r:r,this._events[l]&&i(this,l)):(this._events=new o,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,c.exports=n},11517:(c,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38829),p=function(s,i,n,e){for(var r=s[0],l=1;l<s.length;l++){var a=s[l];o(a,r,i,n,e),r=a}return s};c.exports=p},80318:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r){return o(s,"angle",i,n,e,r)};c.exports=p},60757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var s=0;s<t.length;s++){var i=t[s];o.call(p,i)}return t};c.exports=y},69927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){p===void 0&&(p=0);for(var s=p;s<t.length;s++){var i=t[s],n=!0;for(var e in o)i[e]!==o[e]&&(n=!1);if(n)return i}return null};c.exports=y},32265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){p===void 0&&(p=0);for(var s=t.length-1;s>=p;s--){var i=t[s],n=!0;for(var e in o)i[e]!==o[e]&&(n=!1);if(n)return i}return null};c.exports=y},94420:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(11879),p=t(60461),s=t(95540),i=t(29747),n=t(41481),e=new n({sys:{queueDepthSort:i,events:{once:i}}},0,0,1,1).setOrigin(0,0),r=function(l,a){a===void 0&&(a={});var h=a.hasOwnProperty("width"),f=a.hasOwnProperty("height"),u=s(a,"width",-1),d=s(a,"height",-1),m=s(a,"cellWidth",1),x=s(a,"cellHeight",m),S=s(a,"position",p.TOP_LEFT),T=s(a,"x",0),C=s(a,"y",0),A=0,b=0,R=u*m,F=d*x;e.setPosition(T,C),e.setSize(m,x);for(var L=0;L<l.length;L++)if(o(l[L],e,S),h&&u===-1)e.x+=m;else if(f&&d===-1)e.y+=x;else if(f&&!h){if(b+=x,e.y+=x,b===F&&(b=0,A+=m,e.y=C,e.x+=m,A===R))break}else if(A+=m,e.x+=m,A===R&&(A=0,b+=x,e.x=T,e.y+=x,b===F))break;return l};c.exports=r},41721:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r){return o(s,"alpha",i,n,e,r)};c.exports=p},67285:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r){return o(s,"x",i,n,e,r)};c.exports=p},9074:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"x",i,e,l,a),o(s,"y",n,r,l,a)};c.exports=p},75222:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r){return o(s,"y",i,n,e,r)};c.exports=p},22983:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p===void 0&&(p=0),s===void 0&&(s=6.28);for(var i=p,n=(s-p)/t.length,e=o.x,r=o.y,l=o.radius,a=0;a<t.length;a++)t[a].x=e+l*Math.cos(i),t[a].y=r+l*Math.sin(i),i+=n;return t};c.exports=y},95253:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p===void 0&&(p=0),s===void 0&&(s=6.28);for(var i=p,n=(s-p)/t.length,e=o.width/2,r=o.height/2,l=0;l<t.length;l++)t[l].x=o.x+e*Math.cos(i),t[l].y=o.y+r*Math.sin(i),i+=n;return t};c.exports=y},88505:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15258),p=t(26708),s=function(i,n,e){var r;e?r=p(n,e,i.length):r=o(n,i.length);for(var l=0;l<i.length;l++){var a=i[l],h=r[l];a.x=h.x,a.y=h.y}return i};c.exports=s},41346:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14649),p=t(86003),s=t(49498),i=function(n,e,r){r===void 0&&(r=0);var l=o(e,!1,n.length);r>0?p(l,r):r<0&&s(l,Math.abs(r));for(var a=0;a<n.length;a++)n[a].x=l[a].x,n[a].y=l[a].y;return n};c.exports=i},11575:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84993),p=function(s,i,n){var e=o({x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n),r=o({x1:i.x2,y1:i.y2,x2:i.x3,y2:i.y3},n),l=o({x1:i.x3,y1:i.y3,x2:i.x1,y2:i.y1},n);e.pop(),r.pop(),l.pop(),e=e.concat(r,l);for(var a=e.length/s.length,h=0,f=0;f<s.length;f++){var u=s[f],d=e[Math.floor(h)];u.x=d.x,u.y=d.y,h+=a}return s};c.exports=p},29953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var s=0;s<t.length;s++){var i=t[s];i.anims&&i.anims.play(o,p)}return t};c.exports=y},66979:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i,n){s===void 0&&(s=0),i===void 0&&(i=0),n===void 0&&(n=1);var e,r=0,l=t.length;if(n===1)for(e=i;e<l;e++)t[e][o]+=p+r*s,r++;else for(e=i;e>=0;e--)t[e][o]+=p+r*s,r++;return t};c.exports=y},43967:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i,n){s===void 0&&(s=0),i===void 0&&(i=0),n===void 0&&(n=1);var e,r=0,l=t.length;if(n===1)for(e=i;e<l;e++)t[e][o]=p+r*s,r++;else for(e=i;e>=0;e--)t[e][o]=p+r*s,r++;return t};c.exports=y},88926:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28176),p=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=p},33286:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(24820),p=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=p},96e3:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65822),p=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=p},28789:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26597),p=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=p},97154:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90260),p=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=p},20510:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r){return o(s,"rotation",i,n,e,r)};c.exports=p},91051:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),p=t(20339),s=function(i,n,e){for(var r=n.x,l=n.y,a=0;a<i.length;a++){var h=i[a];o(h,r,l,e,Math.max(1,p(h.x,h.y,r,l)))}return i};c.exports=s},76332:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),p=function(s,i,n,e){var r=i.x,l=i.y;if(e===0)return s;for(var a=0;a<s.length;a++)o(s[a],r,l,n,e);return s};c.exports=p},61619:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r){return o(s,"scaleX",i,n,e,r)};c.exports=p},94868:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"scaleX",i,e,l,a),o(s,"scaleY",n,r,l,a)};c.exports=p},95532:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(s,i,n,e,r){return o(s,"scaleY",i,n,e,r)};c.exports=p},8689:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"alpha",i,n,e,r)};c.exports=p},2645:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e){return o(s,"blendMode",i,0,n,e)};c.exports=p},32372:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"depth",i,n,e,r)};c.exports=p},85373:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var s=0;s<t.length;s++)t[s].setInteractive(o,p);return t};c.exports=y},81583:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"originX",i,e,l,a),o(s,"originY",n,r,l,a),s.forEach(function(h){h.updateDisplayOrigin()}),s};c.exports=p},79939:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"rotation",i,n,e,r)};c.exports=p},2699:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"scaleX",i,e,l,a),o(s,"scaleY",n,r,l,a)};c.exports=p},98739:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"scaleX",i,n,e,r)};c.exports=p},98476:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"scaleY",i,n,e,r)};c.exports=p},6207:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"scrollFactorX",i,e,l,a),o(s,"scrollFactorY",n,r,l,a)};c.exports=p},6607:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"scrollFactorX",i,n,e,r)};c.exports=p},72248:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"scrollFactorY",i,n,e,r)};c.exports=p},14036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i){for(var n=0;n<t.length;n++)t[n].setTint(o,p,s,i);return t};c.exports=y},50159:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e){return o(s,"visible",i,0,n,e)};c.exports=p},77597:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"x",i,n,e,r)};c.exports=p},83194:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"x",i,e,l,a),o(s,"y",n,r,l,a)};c.exports=p},67678:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(s,i,n,e,r){return o(s,"y",i,n,e,r)};c.exports=p},35850:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r){e===void 0&&(e=0),r===void 0&&(r=new o);var l,a,h=s.length;if(h===1)l=s[0].x,a=s[0].y,s[0].x=i,s[0].y=n;else{var f=1,u=0;e===0&&(u=h-1,f=h-2),l=s[u].x,a=s[u].y,s[u].x=i,s[u].y=n;for(var d=0;d<h;d++)if(!(f>=h||f===-1)){var m=s[f],x=m.x,S=m.y;m.x=l,m.y=a,l=x,a=S,e===0?f--:f++}}return r.x=l,r.y=a,r};c.exports=p},8628:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33680),p=function(s){return o(s)};c.exports=p},21837:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),p=function(s,i,n,e,r){r===void 0&&(r=!1);var l=Math.abs(e-n)/s.length,a;if(r)for(a=0;a<s.length;a++)s[a][i]+=o(a*l,n,e);else for(a=0;a<s.length;a++)s[a][i]=o(a*l,n,e);return s};c.exports=p},21910:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),p=function(s,i,n,e,r){r===void 0&&(r=!1);var l=Math.abs(e-n)/s.length,a;if(r)for(a=0;a<s.length;a++)s[a][i]+=o(a*l,n,e);else for(a=0;a<s.length;a++)s[a][i]=o(a*l,n,e);return s};c.exports=p},62054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i){if(i===void 0&&(i=!1),t.length===0)return t;if(t.length===1)return i?t[0][o]+=(s+p)/2:t[0][o]=(s+p)/2,t;var n=Math.abs(s-p)/(t.length-1),e;if(i)for(e=0;e<t.length;e++)t[e][o]+=e*n+p;else for(e=0;e<t.length;e++)t[e][o]=e*n+p;return t};c.exports=y},79815:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0;o<t.length;o++)t[o].visible=!t[o].visible;return t};c.exports=y},39665:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),p=function(s,i,n){n===void 0&&(n=0);for(var e=0;e<s.length;e++){var r=s[e];r.x=o(r.x,i.left-n,i.right+n),r.y=o(r.y,i.top-n,i.bottom+n)}return s};c.exports=p},61061:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(74943),i=t(81957),n=t(41138),e=t(35154),r=t(90126),l=new p({initialize:function(h,f,u){this.manager=h,this.key=f,this.type="frame",this.frames=this.getFrames(h.textureManager,e(u,"frames",[]),e(u,"defaultTextureKey",null),e(u,"sortFrames",!0)),this.frameRate=e(u,"frameRate",null),this.duration=e(u,"duration",null),this.msPerFrame,this.skipMissedFrames=e(u,"skipMissedFrames",!0),this.delay=e(u,"delay",0),this.repeat=e(u,"repeat",0),this.repeatDelay=e(u,"repeatDelay",0),this.yoyo=e(u,"yoyo",!1),this.showBeforeDelay=e(u,"showBeforeDelay",!1),this.showOnStart=e(u,"showOnStart",!1),this.hideOnComplete=e(u,"hideOnComplete",!1),this.randomFrame=e(u,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,h,f,u){f===null&&u===null?(a.frameRate=24,a.duration=24/h*1e3):f&&u===null?(a.duration=f,a.frameRate=h/(f/1e3)):(a.frameRate=u,a.duration=h/u*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,h){var f=this.getFrames(this.manager.textureManager,h);if(f.length>0){if(a===0)this.frames=f.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(f);else{var u=this.frames.slice(0,a),d=this.frames.slice(a);this.frames=u.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.currentFrame.duration?a.currentFrame.duration:a.msPerFrame},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,h,f,u){u===void 0&&(u=!0);var d=[],m,x,S=1,T,C;if(typeof h=="string"){if(C=h,!a.exists(C))return console.warn('Texture "%s" not found',C),d;var A=a.get(C),b=A.getFrameNames();u&&r(b),h=[],b.forEach(function(B){h.push({key:C,frame:B})})}if(!Array.isArray(h)||h.length===0)return d;for(T=0;T<h.length;T++){var R=h[T],F=e(R,"key",f);if(F){var L=e(R,"frame",0),O=a.getFrame(F,L);if(!O){console.warn('Texture "%s" not found',F);continue}x=new n(F,L,S,O),x.duration=e(R,"duration",0),x.isFirst=!m,m&&(m.nextFrame=x,x.prevFrame=m),d.push(x),m=x,S++}}if(d.length>0){x.isLast=!0,x.nextFrame=d[0],d[0].prevFrame=x;var I=1/(d.length-1);for(T=0;T<d.length;T++)d[T].progress=T*I}return d},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.currentFrame.duration?a.currentFrame.duration:a.msPerFrame},getFrameByProgress:function(a){return a=o(a,0,1),i(a,this.frames,"progress")},nextFrame:function(a){var h=a.currentFrame;h.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,h.nextFrame)},handleYoyoFrame:function(a,h){if(h||(h=!1),a.inReverse===!h&&a.repeatCounter>0){(a.repeatDelay===0||a.pendingRepeat)&&(a.forward=h),this.repeatAnimation(a);return}if(a.inReverse!==h&&a.repeatCounter===0){a.complete();return}a.forward=h;var f=h?a.currentFrame.nextFrame:a.currentFrame.prevFrame;this.updateAndGetNextTick(a,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var h=a.currentFrame;h.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?a.inReverse&&!a.forward?this.repeatAnimation(a):(a.forward=!0,this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,h.prevFrame)},updateAndGetNextTick:function(a,h){a.setCurrentFrame(h),this.getNextTick(a)},removeFrame:function(a){var h=this.frames.indexOf(a);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(a._pendingStop===2){if(a._pendingStopValue===0)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.forward?a.setCurrentFrame(a.currentFrame.nextFrame):a.setCurrentFrame(a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){a.frames.push(h.toJSON())}),a},updateFrameSequence:function(){for(var a=this.frames.length,h=1/(a-1),f,u=0;u<a;u++)f=this.frames[u],f.index=u+1,f.isFirst=!1,f.isLast=!1,f.progress=u*h,u===0?(f.isFirst=!0,a===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[a-1],f.nextFrame=this.frames[u+1])):u===a-1&&a>1?(f.isLast=!0,f.prevFrame=this.frames[a-2],f.nextFrame=this.frames[0]):a>1&&(f.prevFrame=this.frames[u-1],f.nextFrame=this.frames[u+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});c.exports=l},41138:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e,r,l){l===void 0&&(l=!1),this.textureKey=i,this.textureFrame=n,this.index=e,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=p},60848:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),p=t(83419),s=t(90330),i=t(50792),n=t(74943),e=t(8443),r=t(95540),l=t(35154),a=t(36383),h=t(20283),f=t(41836),u=new p({Extends:i,initialize:function(m){i.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",m.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,m,x){var S=this.anims,T=this.mixes,C=typeof d=="string"?d:d.key,A=typeof m=="string"?m:m.key;if(S.has(C)&&S.has(A)){var b=T.get(C);b||(b={}),b[A]=x,T.set(C,b)}return this},removeMix:function(d,m){var x=this.mixes,S=typeof d=="string"?d:d.key,T=x.get(S);if(T)if(m){var C=typeof m=="string"?m:m.key;T.hasOwnProperty(C)&&delete T[C]}else m||x.delete(S);return this},getMix:function(d,m){var x=this.mixes,S=typeof d=="string"?d:d.key,T=typeof m=="string"?m:m.key,C=x.get(S);return C&&C.hasOwnProperty(T)?C[T]:0},add:function(d,m){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(m.key=d,this.anims.set(d,m),this.emit(n.ADD_ANIMATION,d,m),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,m,x){var S=[],T=this.game.cache.json.get(d);if(!T)return console.warn("No Aseprite data found for: "+d),S;var C=this,A=l(T,"meta",null),b=l(T,"frames",null);if(A&&b){var R=l(A,"frameTags",[]);R.forEach(function(F){var L=[],O=r(F,"name",null),I=r(F,"from",0),B=r(F,"to",0),U=r(F,"direction","forward");if(O&&(!m||m&&m.indexOf(O)>-1)){for(var H=0,J=I;J<=B;J++){var tt=J.toString(),X=b[tt];if(X){var j=r(X,"duration",a.MAX_SAFE_INTEGER);L.push({key:d,frame:tt,duration:j}),H+=j}}U==="reverse"&&(L=L.reverse());var D={key:O,frames:L,duration:H,yoyo:U==="pingpong"},z;x?x.anims&&(z=x.anims.create(D)):z=C.create(D),z&&S.push(z)}})}return S},create:function(d){var m=d.key,x=!1;return m&&(x=this.get(m),x?console.warn("AnimationManager key already exists: "+m):(x=new o(this,m,d),this.anims.set(m,x),this.emit(n.ADD_ANIMATION,m,x))),x},fromJSON:function(d,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var x=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var S=0;S<d.anims.length;S++)x.push(this.create(d.anims[S]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&x.push(this.create(d));return x},generateFrameNames:function(d,m){var x=l(m,"prefix",""),S=l(m,"start",0),T=l(m,"end",0),C=l(m,"suffix",""),A=l(m,"zeroPad",0),b=l(m,"outputArray",[]),R=l(m,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),b;var F=this.textureManager.get(d);if(!F)return b;var L;if(m)for(R||(R=h(S,T)),L=0;L<R.length;L++){var O=x+f(R[L],A,"0",1)+C;F.has(O)?b.push({key:d,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,d)}else for(R=F.getFrameNames(),L=0;L<R.length;L++)b.push({key:d,frame:R[L]});return b},generateFrameNumbers:function(d,m){var x=l(m,"start",0),S=l(m,"end",-1),T=l(m,"first",!1),C=l(m,"outputArray",[]),A=l(m,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),C;var b=this.textureManager.get(d);if(!b)return C;T&&b.has(T)&&C.push({key:d,frame:T}),A||(S===-1&&(S=b.frameTotal-2),A=h(x,S));for(var R=0;R<A.length;R++){var F=A[R];b.has(F)?C.push({key:d,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,d)}return C},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var m=this.textureManager.get(d),x=m.key,S=this.anims.getArray(),T=[],C=0;C<S.length;C++)for(var A=S[C],b=A.frames,R=0;R<b.length;R++)if(b[R].textureKey===x){T.push(A.key);break}return T},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(d,m){Array.isArray(m)||(m=[m]);for(var x=0;x<m.length;x++)m[x].anims.play(d);return this},staggerPlay:function(d,m,x,S){x===void 0&&(x=0),S===void 0&&(S=!0),Array.isArray(m)||(m=[m]);var T=m.length;S||T--;for(var C=0;C<m.length;C++){var A=x<0?Math.abs(x)*(T-C):x*C;m[C].anims.playAfterDelay(d,A)}return this},remove:function(d){var m=this.get(d);return m&&(this.emit(n.REMOVE_ANIMATION,d,m),this.anims.delete(d),this.removeMix(d)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(d){var m={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?m.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(x,S){m.anims.push(S.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=u},9674:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),p=t(30976),s=t(83419),i=t(90330),n=t(74943),e=t(95540),r=new s({initialize:function(a){this.parent=a,this.animationManager=a.scene.sys.anims,this.animationManager.on(n.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var a=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,a;Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++){var f=l[h];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var a=this.animationManager,h=typeof l=="string"?l:e(l,"key",null),f=this.exists(h)?this.get(h):a.get(h);if(!f)console.warn("Missing animation: "+h);else{this.currentAnim=f;var u=f.getTotalFrames(),d=e(l,"frameRate",f.frameRate),m=e(l,"duration",f.duration);f.calculateDuration(this,u,m,d),this.delay=e(l,"delay",f.delay),this.repeat=e(l,"repeat",f.repeat),this.repeatDelay=e(l,"repeatDelay",f.repeatDelay),this.yoyo=e(l,"yoyo",f.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(l,"showOnStart",f.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(l,"randomFrame",f.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var x=e(l,"startFrame",0);x>u&&(x=0),this.randomFrame&&(x=p(0,u-1));var S=f.frames[x];x===0&&!this.forward&&(S=f.getLastFrame()),this.currentFrame=S}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,a){if(!this.isPlaying)this.delayCounter=a,this.play(l,!0);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=a}return this.parent},playAfterRepeat:function(l,a){if(a===void 0&&(a=1),!this.isPlaying)this.play(l);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.repeatCounter!==-1&&a>this.repeatCounter&&(a=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=a}return this.parent},play:function(l,a){a===void 0&&(a=!1);var h=this.currentAnim,f=this.parent,u=typeof l=="string"?l:l.key;if(a&&this.isPlaying&&h.key===u)return f;if(h&&this.isPlaying){var d=this.animationManager.getMix(h.key,l);if(d>0)return this.playAfterDelay(l,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,a){a===void 0&&(a=!1);var h=typeof l=="string"?l:l.key;return a&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var a=this.currentAnim,h=this.parent;return a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,a.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(n.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(n.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(n.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(n.ANIMATION_COMPLETE,n.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,a){var h=this.currentAnim;if(h){var f=this.currentFrame,u=this.parent,d=f.textureFrame;u.emit(l,h,f,u,d),a&&u.emit(a+h.key,h,f,u,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var a=l.progress;return this.inReverse&&(a*=-1),a},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,a){a===void 0&&(a=this.currentAnim),this.isPlaying&&a.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,a){l===void 0&&(l=!1),a===void 0&&(a=!1);var h=this.currentAnim,f=this.parent;return h?(a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(n.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,a){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=a*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=a,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?h.nextFrame(this):h.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var a=this.parent;return this.currentFrame=l,a.texture=l.frame.texture,a.frame=l.frame,a.isCropped&&a.frame.updateCropUVs(a._crop,a.flipX,a.flipY),l.setAlpha&&(a.alpha=l.alpha),a.setSizeToFrame(),a._originComponent&&(l.frame.customPivot?a.setOrigin(l.frame.pivotX,l.frame.pivotY):a.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(n.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),a},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var a=l.key,h=!1;return a&&(h=this.get(a),h?console.warn("Animation key already exists: "+a):(h=new o(this,a,l),this.anims||(this.anims=new i),this.anims.set(a,h))),h},createFromAseprite:function(l,a){return this.animationManager.createFromAseprite(l,a,this.parent)},generateFrameNames:function(l,a){return this.animationManager.generateFrameNames(l,a)},generateFrameNumbers:function(l,a){return this.animationManager.generateFrameNumbers(l,a)},remove:function(l){var a=this.get(l);return a&&(this.currentAnim===a&&this.stop(),this.anims.delete(l)),a},destroy:function(){this.animationManager.off(n.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=r},57090:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},25312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},89580:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},52860:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},63850:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},99085:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},28087:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstop"},1794:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},52562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},57953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},68339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},74943:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(90330),s=t(50792),i=t(24736),n=new o({initialize:function(){this.entries=new p,this.events=new s},add:function(e,r){return this.entries.set(e,r),this.events.emit(i.ADD,this,e,r),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var r=this.get(e);return r&&(this.entries.delete(e),this.events.emit(i.REMOVE,this,e,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=n},24047:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2161),p=t(83419),s=t(8443),i=new p({initialize:function(e){this.game=e,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new o),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});c.exports=i},51464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},59261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},24736:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(39506),i=t(50792),n=t(19715),e=t(87841),r=t(61340),l=t(80333),a=t(26099),h=new o({Extends:i,Mixins:[p.AlphaSingle,p.Visible],initialize:function(u,d,m,x){u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=0),x===void 0&&(x=0),i.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=u,this._y=d,this._width=m,this._height=x,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(m/2,x/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,u){return f===void 0&&(f=.5),u===void 0&&(u=f),this.originX=f,this.originY=u,this},getScroll:function(f,u,d){d===void 0&&(d=new a);var m=this.width*.5,x=this.height*.5;return d.x=f-m,d.y=u-x,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var u=this.width*.5;return this.midPoint.x=f,this.scrollX=f-u,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var u=this.height*.5;return this.midPoint.y=f,this.scrollY=f-u,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,u){return this.centerOnX(f),this.centerOnY(u),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,u=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-u,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var u=this.matrix.matrix,d=u[0],m=u[1],x=u[2],S=u[3],T=d*S-m*x;if(!T)return f;var C=u[4],A=u[5],b=this.scrollX,R=this.scrollY,F=this.width,L=this.height,O=this.y,I=O+L,B=this.x,U=B+F,H=this.culledObjects,J=f.length;T=1/T,H.length=0;for(var tt=0;tt<J;++tt){var X=f[tt];if(!X.hasOwnProperty("width")||X.parentContainer){H.push(X);continue}var j=X.width,D=X.height,z=X.x-b*X.scrollFactorX-j*X.originX,$=X.y-R*X.scrollFactorY-D*X.originY,K=z*d+$*x+C,Z=z*m+$*S+A,it=(z+j)*d+($+D)*x+C,st=(z+j)*m+($+D)*S+A;it>B&&K<U&&st>O&&Z<I&&H.push(X)}return H},getWorldPoint:function(f,u,d){d===void 0&&(d=new a);var m=this.matrix.matrix,x=m[0],S=m[1],T=m[2],C=m[3],A=m[4],b=m[5],R=x*C-S*T;if(!R)return d.x=f,d.y=u,d;R=1/R;var F=C*R,L=-S*R,O=-T*R,I=x*R,B=(T*b-C*A)*R,U=(S*A-x*b)*R,H=Math.cos(this.rotation),J=Math.sin(this.rotation),tt=this.zoomX,X=this.zoomY,j=this.scrollX,D=this.scrollY,z=f+(j*H-D*J)*tt,$=u+(j*J+D*H)*X;return d.x=z*F+$*O+B,d.y=z*L+$*I+U,d},ignore:function(f){var u=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var m=f[d];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=u}return this},preRender:function(){this.renderList.length=0;var f=this.width,u=this.height,d=f*.5,m=u*.5,x=this.zoomX,S=this.zoomY,T=this.matrix,C=f*this.originX,A=u*this.originY,b=this.scrollX,R=this.scrollY;this.useBounds&&(b=this.clampX(b),R=this.clampY(R)),this.scrollX=b,this.scrollY=R;var F=b+d,L=R+m;this.midPoint.set(F,L);var O=f/x,I=u/S;this.worldView.setTo(F-O/2,L-I/2,O,I),T.applyITRS(this.x+C,this.y+A,this.rotation,x,S),T.translate(-C,-A)},clampX:function(f){var u=this._bounds,d=this.displayWidth,m=u.x+(d-this.width)/2,x=Math.max(m,m+u.width-d);return f<m?f=m:f>x&&(f=x),f},clampY:function(f){var u=this._bounds,d=this.displayHeight,m=u.y+(d-this.height)/2,x=Math.max(m,m+u.height-d);return f<m?f=m:f>x&&(f=x),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=s(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,u,d,m,x){return x===void 0&&(x=!1),this._bounds.setTo(f,u,d,m),this.dirty=!0,this.useBounds=!0,x?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var u=this._bounds;return f.setTo(u.x,u.y,u.width,u.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,u){return u===void 0&&(u=f),this.x=f,this.y=u,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,u){u===void 0&&(u=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=u;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,u){return u===void 0&&(u=f),this.scrollX=f,this.scrollY=u,this},setSize:function(f,u){return u===void 0&&(u=f),this.width=f,this.height=u,this},setViewport:function(f,u,d,m){return this.x=f,this.y=u,this.width=d,this.height=m,this},setZoom:function(f,u){return f===void 0&&(f=1),u===void 0&&(u=f),f===0&&(f=.001),u===0&&(u=.001),this.zoomX=f,this.zoomY=u,this},setMask:function(f,u){return u===void 0&&(u=!0),this.mask=f,this._maskCamera=u?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,u=this.sceneManager;f&&!this._customViewport?u.customViewports++:!f&&this._customViewport&&u.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=h},38058:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),p=t(67502),s=t(45319),i=t(83419),n=t(31401),e=t(20052),r=t(19715),l=t(28915),a=t(87841),h=t(26099),f=new i({Extends:o,Mixins:[n.PostPipeline],initialize:function(d,m,x,S){o.call(this,d,m,x,S),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(u,d){if(u===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=u,this.deadzone.height=d):this.deadzone=new a(0,0,u,d),this._follow){var m=this.width/2,x=this.height/2,S=this._follow.x-this.followOffset.x,T=this._follow.y-this.followOffset.y;this.midPoint.set(S,T),this.scrollX=S-m,this.scrollY=T-x}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(u,d,m,x,S,T){return this.fadeEffect.start(!1,u,d,m,x,!0,S,T)},fadeOut:function(u,d,m,x,S,T){return this.fadeEffect.start(!0,u,d,m,x,!0,S,T)},fadeFrom:function(u,d,m,x,S,T,C){return this.fadeEffect.start(!1,u,d,m,x,S,T,C)},fade:function(u,d,m,x,S,T,C){return this.fadeEffect.start(!0,u,d,m,x,S,T,C)},flash:function(u,d,m,x,S,T,C){return this.flashEffect.start(u,d,m,x,S,T,C)},shake:function(u,d,m,x,S){return this.shakeEffect.start(u,d,m,x,S)},pan:function(u,d,m,x,S,T,C){return this.panEffect.start(u,d,m,x,S,T,C)},rotateTo:function(u,d,m,x,S,T,C){return this.rotateToEffect.start(u,d,m,x,S,T,C)},zoomTo:function(u,d,m,x,S,T){return this.zoomEffect.start(u,d,m,x,S,T)},preRender:function(){this.renderList.length=0;var u=this.width,d=this.height,m=u*.5,x=d*.5,S=this.zoom,T=this.matrix,C=u*this.originX,A=d*this.originY,b=this._follow,R=this.deadzone,F=this.scrollX,L=this.scrollY;R&&p(R,this.midPoint.x,this.midPoint.y);var O=!1;if(b&&!this.panEffect.isRunning){var I=this.lerp,B=b.x-this.followOffset.x,U=b.y-this.followOffset.y;R?(B<R.x?F=l(F,F-(R.x-B),I.x):B>R.right&&(F=l(F,F+(B-R.right),I.x)),U<R.y?L=l(L,L-(R.y-U),I.y):U>R.bottom&&(L=l(L,L+(U-R.bottom),I.y))):(F=l(F,B-C,I.x),L=l(L,U-A,I.y)),O=!0}this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.scrollX=F,this.scrollY=L;var H=F+m,J=L+x;this.midPoint.set(H,J);var tt=u/S,X=d/S,j=Math.floor(H-tt/2),D=Math.floor(J-X/2);this.worldView.setTo(j,D,tt,X),T.applyITRS(Math.floor(this.x+C),Math.floor(this.y+A),this.rotation,S,S),T.translate(-C,-A),this.shakeEffect.preRender(),O&&this.emit(r.FOLLOW_UPDATE,this,b)},setLerp:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),this.lerp.set(u,d),this},setFollowOffset:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=0),this.followOffset.set(u,d),this},startFollow:function(u,d,m,x,S,T){d===void 0&&(d=!1),m===void 0&&(m=1),x===void 0&&(x=m),S===void 0&&(S=0),T===void 0&&(T=S),this._follow=u,this.roundPixels=d,m=s(m,0,1),x=s(x,0,1),this.lerp.set(m,x),this.followOffset.set(S,T);var C=this.width/2,A=this.height/2,b=u.x-S,R=u.y-T;return this.midPoint.set(b,R),this.scrollX=b-C,this.scrollY=R-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(u,d){this.visible&&(this.rotateToEffect.update(u,d),this.panEffect.update(u,d),this.zoomEffect.update(u,d),this.shakeEffect.update(u,d),this.flashEffect.update(u,d),this.fadeEffect.update(u,d))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=f},32743:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38058),p=t(83419),s=t(95540),i=t(37277),n=t(37303),e=t(97480),r=t(44594),l=new p({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(r.BOOT,this.boot,this),h.sys.events.on(r.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(r.UPDATE,this.update,this),h.once(r.SHUTDOWN,this.shutdown,this)},add:function(a,h,f,u,d,m){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),d===void 0&&(d=!1),m===void 0&&(m="");var x=new o(a,h,f,u);return x.setName(m),x.setScene(this.scene),x.setRoundPixels(this.roundPixels),x.id=this.getNextID(),this.cameras.push(x),d&&(this.main=x),x},addExisting:function(a,h){h===void 0&&(h=!1);var f=this.cameras.indexOf(a);return f===-1?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),h&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,h=1,f=0;f<32;f++){for(var u=!1,d=0;d<a.length;d++){var m=a[d];if(m&&m.id===h){u=!0;continue}}if(u)h=h<<1;else return h}return 0},getTotal:function(a){a===void 0&&(a=!1);for(var h=0,f=this.cameras,u=0;u<f.length;u++){var d=f[u];(!a||a&&d.visible)&&h++}return h},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var h=this.scene.sys.scale.width,f=this.scene.sys.scale.height,u=0;u<a.length;u++){var d=a[u],m=s(d,"x",0),x=s(d,"y",0),S=s(d,"width",h),T=s(d,"height",f),C=this.add(m,x,S,T);C.name=s(d,"name",""),C.zoom=s(d,"zoom",1),C.rotation=s(d,"rotation",0),C.scrollX=s(d,"scrollX",0),C.scrollY=s(d,"scrollY",0),C.roundPixels=s(d,"roundPixels",!1),C.visible=s(d,"visible",!0);var A=s(d,"backgroundColor",!1);A&&C.setBackgroundColor(A);var b=s(d,"bounds",null);if(b){var R=s(b,"x",0),F=s(b,"y",0),L=s(b,"width",h),O=s(b,"height",f);C.setBounds(R,F,L,O)}}return this},getCamera:function(a){for(var h=this.cameras,f=0;f<h.length;f++)if(h[f].name===a)return h[f];return null},getCamerasBelowPointer:function(a){for(var h=this.cameras,f=a.x,u=a.y,d=[],m=0;m<h.length;m++){var x=h[m];x.visible&&x.inputEnabled&&n(x,f,u)&&d.unshift(x)}return d},remove:function(a,h){h===void 0&&(h=!0),Array.isArray(a)||(a=[a]);for(var f=0,u=this.cameras,d=0;d<a.length;d++){var m=u.indexOf(a[d]);m!==-1&&(h?u[m].destroy():u[m].renderList=[],u.splice(m,1),f++)}return!this.main&&u[0]&&(this.main=u[0]),f},render:function(a,h){for(var f=this.scene,u=this.cameras,d=0;d<u.length;d++){var m=u[d];if(m.visible&&m.alpha>0){m.preRender();var x=this.getVisibleChildren(h.getChildren(),m);a.render(f,x,m)}}},getVisibleChildren:function(a,h){return a.filter(function(f){return f.willRender(h)})},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(a,h)},onResize:function(a,h,f,u,d){for(var m=0;m<this.cameras.length;m++){var x=this.cameras[m];x._x===0&&x._y===0&&x._width===u&&x._height===d&&x.setSize(h.width,h.height)}},resize:function(a,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(a,h)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var h=this.systems.events;h.off(r.UPDATE,this.update,this),h.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(r.START,this.start,this),this.systems.events.off(r.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});i.register("CameraManager",l,"cameras"),c.exports=l},5020:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(19715),i=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,r,l,a,h,f,u){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=r,this.green=l,this.blue=a,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u;var d=n?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,r,l,a),this.camera},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,l=this.red/255,a=this.green/255,h=this.blue/255;return n.drawFillRect(r.x,r.y,r.width,r.height,e(h,a,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=i},10662:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(19715),i=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,r,l,a,h,f){return n===void 0&&(n=250),e===void 0&&(e=255),r===void 0&&(r=255),l===void 0&&(l=255),a===void 0&&(a=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene),!a&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=r,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(s.FLASH_START,this.camera,this,n,e,r,l),this.camera)},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var r=this.camera,l=this.red/255,a=this.green/255,h=this.blue/255;return n.drawFillRect(r.x,r.y,r.width,r.height,e(h,a,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=i},20359:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(62640),i=t(19715),n=t(26099),e=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,l,a,h,f,u,d){a===void 0&&(a=1e3),h===void 0&&(h=s.Linear),f===void 0&&(f=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var m=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(r,l),m.getScroll(r,l,this.current),typeof h=="string"&&s.hasOwnProperty(h)?this.ease=s[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(i.PAN_START,this.camera,this,a,r,l)),m},update:function(r,l){if(this.isRunning){this._elapsed+=l;var a=o(this._elapsed/this.duration,0,1);this.progress=a;var h=this.camera;if(this._elapsed<this.duration){var f=this.ease(a);h.getScroll(this.destination.x,this.destination.y,this.current);var u=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;h.setScroll(u,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,a,u,d)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,a,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=e},34208:(c,y,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=t(45319),p=t(83419),s=t(19715),i=t(62640),n=new p({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,r,l,a,h,f,u){l===void 0&&(l=1e3),a===void 0&&(a=i.Linear),h===void 0&&(h=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;d=d-Math.floor(d/m)*m;var x=this.camera;if(!h&&this.isRunning)return x;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=x.rotation,this.destination=d,typeof a=="string"&&i.hasOwnProperty(a)?this.ease=i[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u,this.shortestPath){var S=0,T=0;this.destination>this.source?S=Math.abs(this.destination-this.source):S=Math.abs(this.destination+m)-this.source,this.source>this.destination?T=Math.abs(this.source-this.destination):T=Math.abs(this.source+m)-this.destination,S<T?this.clockwise=!0:S>T&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,l,d),x},update:function(e,r){if(this.isRunning){this._elapsed+=r;var l=o(this._elapsed/this.duration,0,1);this.progress=l;var a=this.camera;if(this._elapsed<this.duration){var h=this.ease(l);this.current=a.rotation;var f=0,u=360*Math.PI/180,d=this.destination,m=this.current;this.clockwise===!1&&(d=this.current,m=this.destination),d>=m?f=Math.abs(d-m):f=Math.abs(d+u)-m;var x=0;this.clockwise?x=a.rotation+f*h:x=a.rotation-f*h,a.rotation=x,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,l,x)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=n},30330:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(19715),i=t(26099),n=new p({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new i,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,r,l,a,h){return e===void 0&&(e=100),r===void 0&&(r=.05),l===void 0&&(l=!1),a===void 0&&(a=null),h===void 0&&(h=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=h,this.camera.emit(s.SHAKE_START,this.camera,this,e,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,r){if(this.isRunning)if(this._elapsed+=r,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,a=this.camera.width,h=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*a*2-l.x*a)*f,this._offsetY=(Math.random()*l.y*h*2-l.y*h)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=n},45641:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(62640),i=t(19715),n=new p({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,r,l,a,h,f){r===void 0&&(r=1e3),l===void 0&&(l=s.Linear),a===void 0&&(a=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene);var u=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=u.zoom,this.destination=e,typeof l=="string"&&s.hasOwnProperty(l)?this.ease=s[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(i.ZOOM_START,this.camera,this,r,e)),u},update:function(e,r){this.isRunning&&(this._elapsed+=r,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=n},20052:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},32726:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},87807:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},45917:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},95666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},47056:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},91261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},45047:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="followupdate"},81927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},74264:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},54419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},79330:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},93183:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},80112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},62252:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},86017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},539:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},51892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},19715:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(35154),s=new o({initialize:function(n){this.camera=p(n,"camera",null),this.left=p(n,"left",null),this.right=p(n,"right",null),this.up=p(n,"up",null),this.down=p(n,"down",null),this.zoomIn=p(n,"zoomIn",null),this.zoomOut=p(n,"zoomOut",null),this.zoomSpeed=p(n,"zoomSpeed",.01),this.minZoom=p(n,"minZoom",.001),this.maxZoom=p(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=p(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=p(n,"speed.x",0),this.speedY=p(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(i){return this.camera=i,this},update:function(i){if(this.active){i===void 0&&(i=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*i|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*i|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*i|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*i|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=s},58818:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(35154),s=new o({initialize:function(n){this.camera=p(n,"camera",null),this.left=p(n,"left",null),this.right=p(n,"right",null),this.up=p(n,"up",null),this.down=p(n,"down",null),this.zoomIn=p(n,"zoomIn",null),this.zoomOut=p(n,"zoomOut",null),this.zoomSpeed=p(n,"zoomSpeed",.01),this.minZoom=p(n,"minZoom",.001),this.maxZoom=p(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=p(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=p(n,"acceleration.x",0),this.accelY=p(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=p(n,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=p(n,"drag.x",0),this.dragY=p(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=p(n,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=p(n,"maxSpeed.x",0),this.maxSpeedY=p(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(i){return this.camera=i,this},update:function(i){if(this.active){i===void 0&&(i=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*i,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*i,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*i,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*i,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*i|0),this._speedY!==0&&(n.scrollY-=this._speedY*i|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=s},38865:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=o},69547:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(8054),s=t(42363),i=t(82264),n=t(95540),e=t(35154),r=t(41212),l=t(29747),a=t(75508),h=t(36060),f=t(80333),u=new o({initialize:function(m){m===void 0&&(m={});var x=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],S="#ffffff",T=e(m,"scale",null);this.width=e(T,"width",1024,m),this.height=e(T,"height",768,m),this.zoom=e(T,"zoom",1,m),this.parent=e(T,"parent",void 0,m),this.scaleMode=e(T,T?"mode":"scaleMode",0,m),this.expandParent=e(T,"expandParent",!0,m),this.autoRound=e(T,"autoRound",!1,m),this.autoCenter=e(T,"autoCenter",0,m),this.resizeInterval=e(T,"resizeInterval",500,m),this.fullscreenTarget=e(T,"fullscreenTarget",null,m),this.minWidth=e(T,"min.width",0,m),this.maxWidth=e(T,"max.width",0,m),this.minHeight=e(T,"min.height",0,m),this.maxHeight=e(T,"max.height",0,m),this.snapWidth=e(T,"snap.width",0,m),this.snapHeight=e(T,"snap.height",0,m),this.renderType=e(m,"type",p.AUTO),this.canvas=e(m,"canvas",null),this.context=e(m,"context",null),this.canvasStyle=e(m,"canvasStyle",null),this.customEnvironment=e(m,"customEnvironment",!1),this.sceneConfig=e(m,"scene",null),this.seed=e(m,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=e(m,"title",""),this.gameURL=e(m,"url","https://phaser.io"),this.gameVersion=e(m,"version",""),this.autoFocus=e(m,"autoFocus",!0),this.stableSort=e(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=i.browser.es2019?1:0),i.features.stableSort=this.stableSort,this.domCreateContainer=e(m,"dom.createContainer",!1),this.domPointerEvents=e(m,"dom.pointerEvents","none"),this.inputKeyboard=e(m,"input.keyboard",!0),this.inputKeyboardEventTarget=e(m,"input.keyboard.target",window),this.inputKeyboardCapture=e(m,"input.keyboard.capture",[]),this.inputMouse=e(m,"input.mouse",!0),this.inputMouseEventTarget=e(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(m,"input.touch",i.input.touch),this.inputTouchEventTarget=e(m,"input.touch.target",null),this.inputTouchCapture=e(m,"input.touch.capture",!0),this.inputActivePointers=e(m,"input.activePointers",1),this.inputSmoothFactor=e(m,"input.smoothFactor",0),this.inputWindowEvents=e(m,"input.windowEvents",!0),this.inputGamepad=e(m,"input.gamepad",!1),this.inputGamepadEventTarget=e(m,"input.gamepad.target",window),this.disableContextMenu=e(m,"disableContextMenu",!1),this.audio=e(m,"audio",{}),this.hideBanner=e(m,"banner",null)===!1,this.hidePhaser=e(m,"banner.hidePhaser",!1),this.bannerTextColor=e(m,"banner.text",S),this.bannerBackgroundColor=e(m,"banner.background",x),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(m,"fps",null),this.disablePreFX=e(m,"disablePreFX",!1),this.disablePostFX=e(m,"disablePostFX",!1);var C=e(m,"render",null);this.pipeline=e(C,"pipeline",null,m),this.autoMobilePipeline=e(C,"autoMobilePipeline",!0,m),this.defaultPipeline=e(C,"defaultPipeline",h.MULTI_PIPELINE,m),this.antialias=e(C,"antialias",!0,m),this.antialiasGL=e(C,"antialiasGL",!0,m),this.mipmapFilter=e(C,"mipmapFilter","",m),this.desynchronized=e(C,"desynchronized",!1,m),this.roundPixels=e(C,"roundPixels",!0,m),this.pixelArt=e(C,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(C,"transparent",!1,m),this.clearBeforeRender=e(C,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=e(C,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=e(C,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=e(C,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=e(C,"powerPreference","default",m),this.batchSize=e(C,"batchSize",4096,m),this.maxTextures=e(C,"maxTextures",-1,m),this.maxLights=e(C,"maxLights",10,m);var A=e(m,"backgroundColor",0);this.backgroundColor=f(A),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(m,"callbacks.preBoot",l),this.postBoot=e(m,"callbacks.postBoot",l),this.physics=e(m,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(m,"loader.baseURL",""),this.loaderPath=e(m,"loader.path",""),this.loaderMaxParallelDownloads=e(m,"loader.maxParallelDownloads",i.os.android?6:32),this.loaderCrossOrigin=e(m,"loader.crossOrigin",void 0),this.loaderResponseType=e(m,"loader.responseType",""),this.loaderAsync=e(m,"loader.async",!0),this.loaderUser=e(m,"loader.user",""),this.loaderPassword=e(m,"loader.password",""),this.loaderTimeout=e(m,"loader.timeout",0),this.loaderWithCredentials=e(m,"loader.withCredentials",!1),this.loaderImageLoadType=e(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(m,"fx.glow.quality",.1),this.glowFXDistance=e(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var b=e(m,"plugins",null),R=s.DefaultScene;b&&(Array.isArray(b)?this.defaultPlugins=b:r(b)&&(this.installGlobalPlugins=n(b,"global",[]),this.installScenePlugins=n(b,"scene",[]),Array.isArray(b.default)?R=b.default:Array.isArray(b.defaultMerge)&&(R=R.concat(b.defaultMerge)))),this.defaultPlugins=R;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(m,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(m,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});c.exports=u},86054:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20623),p=t(27919),s=t(8054),i=t(89357),n=function(e){var r=e.config;if((r.customEnvironment||r.canvas)&&r.renderType===s.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==s.HEADLESS)if(r.renderType===s.AUTO&&(r.renderType=i.webGL?s.WEBGL:s.CANVAS),r.renderType===s.WEBGL){if(!i.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(r.renderType===s.CANVAS){if(!i.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+r.renderType);r.antialias||p.disableSmoothing();var l=e.scale.baseSize,a=l.width,h=l.height;if(r.canvas?(e.canvas=r.canvas,e.canvas.width=a,e.canvas.height=h):e.canvas=p.create(e,a,h,r.renderType),r.canvasStyle&&(e.canvas.style=r.canvasStyle),r.antialias||o.setCrisp(e.canvas),r.renderType!==s.HEADLESS){var f,u;f=t(68627),u=t(74797),r.renderType===s.WEBGL?e.renderer=new u(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};c.exports=n},96391:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),p=function(s){var i=s.config;if(!i.hideBanner){var n="WebGL";i.renderType===o.CANVAS?n="Canvas":i.renderType===o.HEADLESS&&(n="Headless");var e=i.audio,r=s.device.audio,l;if(r.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!r.webAudio&&!r.audioData?l="No Audio":l="HTML5 Audio",s.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var a="",h=[a];if(Array.isArray(i.bannerBackgroundColor)){var f;i.bannerBackgroundColor.forEach(function(d){a=a.concat("%c "),h.push("background: "+d),f=d}),h[h.length-1]="color: "+i.bannerTextColor+"; background: "+f}else a=a.concat("%c "),h.push("color: "+i.bannerTextColor+"; background: "+i.bannerBackgroundColor);h.push("background: transparent"),i.gameTitle&&(a=a.concat(i.gameTitle),i.gameVersion&&(a=a.concat(" v"+i.gameVersion)),i.hidePhaser||(a=a.concat(" / ")));var u="";i.hidePhaser||(a=a.concat("Phaser v"+o.VERSION+u+" ("+n+" | "+l+")")),a=a.concat(" %c "+i.gameURL),h[0]=a,console.log.apply(console,h)}}};c.exports=p},50127:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),p=t(60848),s=t(24047),i=t(27919),n=t(83419),e=t(69547),r=t(83719),l=t(86054),a=t(45893),h=t(96391),f=t(82264),u=t(57264),d=t(50792),m=t(8443),x=t(7003),S=t(37277),T=t(77332),C=t(76531),A=t(60903),b=t(69442),R=t(17130),F=t(65898),L=t(51085),O=t(14747),I=new n({initialize:function(U){this.config=new e(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new p(this),this.textures=new R(this),this.cache=new s(this),this.registry=new a(this,new d),this.input=new x(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=f,this.scale=new C(this,this.config),this.sound=null,this.sound=O.create(this),this.loop=new F(this,this.config.fps),this.plugins=new T(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,u(this.boot.bind(this))},boot:function(){if(!S.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),r(this),h(this),o(this.canvas,this.config.parent),this.textures.once(b.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var B=this.events;B.on(m.HIDDEN,this.onHidden,this),B.on(m.VISIBLE,this.onVisible,this),B.on(m.BLUR,this.onBlur,this),B.on(m.FOCUS,this.onFocus,this)},step:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(m.PRE_STEP,B,U),H.emit(m.STEP,B,U),this.scene.update(B,U),H.emit(m.POST_STEP,B,U);var J=this.renderer;J.preRender(),H.emit(m.PRE_RENDER,J,B,U),this.scene.render(J),J.postRender(),H.emit(m.POST_RENDER,J,B,U)}},headlessStep:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(m.PRE_STEP,B,U),H.emit(m.STEP,B,U),this.scene.update(B,U),H.emit(m.POST_STEP,B,U),this.scene.isProcessing=!1,H.emit(m.PRE_RENDER,null,B,U),H.emit(m.POST_RENDER,null,B,U)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(i.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=I},65898:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(35154),s=t(29747),i=t(43092),n=new o({initialize:function(r,l){this.game=r,this.raf=new i,this.started=!1,this.running=!1,this.minFps=p(l,"min",5),this.targetFps=p(l,"target",60),this.fpsLimit=p(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=p(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(l,"deltaHistory",10),this.panicMax=p(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var r=this.deltaIndex,l=this.deltaHistory,a=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[r],e=Math.min(e,this._min)),l[r]=e,this.deltaIndex++,this.deltaIndex>=a&&(this.deltaIndex=0);for(var h=0,f=0;f<a;f++)h+=l[f];return h/=a,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta+=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,r),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var r=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+r));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=n},51085:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8443),p=function(s){var i,n=s.events;if(document.hidden!==void 0)i="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},i=l+"visibilitychange")})}var r=function(l){document.hidden||l.type==="pause"?n.emit(o.HIDDEN):n.emit(o.VISIBLE)};i&&document.addEventListener(i,r,!1),window.onblur=function(){n.emit(o.BLUR)},window.onfocus=function(){n.emit(o.FOCUS)},window.focus&&s.config.autoFocus&&window.focus()};c.exports=p},97217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},47548:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},19814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},68446:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},41700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},25432:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},65942:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},59211:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},47789:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},39066:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},460:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},16175:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},42331:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},11966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},32969:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="systemready"},94830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},8443:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(5290),p=t(27919),s=t(35154),i=function(n){var e=s(n,"data",[]),r=s(n,"canvas",null),l=s(n,"palette",o),a=s(n,"pixelWidth",1),h=s(n,"pixelHeight",a),f=s(n,"resizeCanvas",!0),u=s(n,"clearCanvas",!0),d=s(n,"preRender",null),m=s(n,"postRender",null),x=Math.floor(Math.abs(e[0].length*a)),S=Math.floor(Math.abs(e.length*h));r||(r=p.create2D(this,x,S),f=!1,u=!1),f&&(r.width=x,r.height=S);var T=r.getContext("2d",{willReadFrequently:!0});u&&T.clearRect(0,0,x,S),d&&d(r,T);for(var C=0;C<e.length;C++)for(var A=e[C],b=0;b<A.length;b++){var R=A[b];R!=="."&&R!==" "&&(T.fillStyle=l[R],T.fillRect(b*a,C*h,a,h))}return m&&m(r,T),r};c.exports=i},15822:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(36316),s=t(80021),i=t(26099),n=new o({Extends:s,initialize:function(r,l,a,h){s.call(this,"CubicBezierCurve"),Array.isArray(r)&&(h=new i(r[6],r[7]),a=new i(r[4],r[5]),l=new i(r[2],r[3]),r=new i(r[0],r[1])),this.p0=r,this.p1=l,this.p2=a,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new i);var l=this.p0,a=this.p1,h=this.p2,f=this.p3;return r.set(p(e,l.x,a.x,h.x,f.x),p(e,l.y,a.y,h.y,f.y))},draw:function(e,r){r===void 0&&(r=32);var l=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var a=1;a<l.length;a++)e.lineTo(l[a].x,l[a].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var r=e.points,l=new i(r[0],r[1]),a=new i(r[2],r[3]),h=new i(r[4],r[5]),f=new i(r[6],r[7]);return new n(l,a,h,f)},c.exports=n},80021:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(19217),s=t(87841),i=t(26099),n=new o({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new i,this._tmpVec2B=new i},draw:function(e,r){return r===void 0&&(r=32),e.strokePoints(this.getPoints(r))},getBounds:function(e,r){e||(e=new s),r===void 0&&(r=16);var l=this.getLength();r>l&&(r=l/2);var a=Math.max(1,Math.round(l/r));return p(this.getSpacedPoints(a),e)},getDistancePoints:function(e){var r=this.getLength(),l=Math.max(1,r/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new i),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],l,a=this.getPoint(0,this._tmpVec2A),h=0;r.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),h+=l.distance(a),r.push(h),a.copy(l);return this.cacheArcLengths=r,r},getPointAt:function(e,r){var l=this.getUtoTmapping(e);return this.getPoint(l,r)},getPoints:function(e,r,l){l===void 0&&(l=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var a=0;a<=e;a++)l.push(this.getPoint(a/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new i),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,r,l){l===void 0&&(l=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var a=0;a<=e;a++){var h=this.getUtoTmapping(a/e,null,e);l.push(this.getPoint(h))}return l},getStartPoint:function(e){return e===void 0&&(e=new i),this.getPointAt(0,e)},getTangent:function(e,r){r===void 0&&(r=new i);var l=1e-4,a=e-l,h=e+l;return a<0&&(a=0),h>1&&(h=1),this.getPoint(a,this._tmpVec2A),this.getPoint(h,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,r){var l=this.getUtoTmapping(e);return this.getTangent(l,r)},getTFromDistance:function(e,r){return e<=0?0:this.getUtoTmapping(0,e,r)},getUtoTmapping:function(e,r,l){var a=this.getLengths(l),h=0,f=a.length,u;r?u=Math.min(r,a[f-1]):u=e*a[f-1];for(var d=0,m=f-1,x;d<=m;)if(h=Math.floor(d+(m-d)/2),x=a[h]-u,x<0)d=h+1;else if(x>0)m=h-1;else{m=h;break}if(h=m,a[h]===u)return h/(f-1);var S=a[h],T=a[h+1],C=T-S,A=(u-S)/C;return(h+A)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=n},73825:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(80021),s=t(39506),i=t(35154),n=t(43396),e=t(26099),r=new o({Extends:p,initialize:function(a,h,f,u,d,m,x,S){if(typeof a=="object"){var T=a;a=i(T,"x",0),h=i(T,"y",0),f=i(T,"xRadius",0),u=i(T,"yRadius",f),d=i(T,"startAngle",0),m=i(T,"endAngle",360),x=i(T,"clockwise",!1),S=i(T,"rotation",0)}else u===void 0&&(u=f),d===void 0&&(d=0),m===void 0&&(m=360),x===void 0&&(x=!1),S===void 0&&(S=0);p.call(this,"EllipseCurve"),this.p0=new e(a,h),this._xRadius=f,this._yRadius=u,this._startAngle=s(d),this._endAngle=s(m),this._clockwise=x,this._rotation=s(S)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,a){a===void 0&&(a=new e);for(var h=Math.PI*2,f=this._endAngle-this._startAngle,u=Math.abs(f)<Number.EPSILON;f<0;)f+=h;for(;f>h;)f-=h;f<Number.EPSILON&&(u?f=0:f=h),this._clockwise&&!u&&(f===h?f=-h:f=f-h);var d=this._startAngle+l*f,m=this.p0.x+this._xRadius*Math.cos(d),x=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var S=Math.cos(this._rotation),T=Math.sin(this._rotation),C=m-this.p0.x,A=x-this.p0.y;m=C*S-A*T+this.p0.x,x=C*T+A*S+this.p0.y}return a.set(m,x)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return n(this._startAngle)},set:function(l){this._startAngle=s(l)}},endAngle:{get:function(){return n(this._endAngle)},set:function(l){this._endAngle=s(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return n(this._rotation)},set:function(l){this._rotation=s(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});r.fromJSON=function(l){return new r(l)},c.exports=r},33951:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(80021),s=t(19217),i=t(87841),n=t(26099),e=new o({Extends:p,initialize:function(l,a){p.call(this,"LineCurve"),Array.isArray(l)&&(a=new n(l[2],l[3]),l=new n(l[0],l[1])),this.p0=l,this.p1=a,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new i),s([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new n),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,l){return l===void 0&&(l=new n),r===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),l)},getPointAt:function(r,l){return this.getPoint(r,l)},getTangent:function(r,l){return l===void 0&&(l=new n),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(r,l,a){var h;if(l){var f=this.getLengths(a),u=f[f.length-1],d=Math.min(l,u);h=d/u}else h=r;return h},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(r){var l=r.points,a=new n(l[0],l[1]),h=new n(l[2],l[3]);return new e(a,h)},c.exports=e},14744:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(80021),s=t(32112),i=t(26099),n=new o({Extends:p,initialize:function(r,l,a){p.call(this,"QuadraticBezierCurve"),Array.isArray(r)&&(a=new i(r[4],r[5]),l=new i(r[2],r[3]),r=new i(r[0],r[1])),this.p0=r,this.p1=l,this.p2=a},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new i);var l=this.p0,a=this.p1,h=this.p2;return r.set(s(e,l.x,a.x,h.x),s(e,l.y,a.y,h.y))},draw:function(e,r){r===void 0&&(r=32);var l=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var a=1;a<l.length;a++)e.lineTo(l[a].x,l[a].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var r=e.points,l=new i(r[0],r[1]),a=new i(r[2],r[3]),h=new i(r[4],r[5]);return new n(l,a,h)},c.exports=n},42534:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),p=t(83419),s=t(80021),i=t(26099),n=new p({Extends:s,initialize:function(r){r===void 0&&(r=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(e){for(var r=0;r<e.length;r++){var l=new i;typeof e[r]=="number"?(l.x=e[r],l.y=e[r+1],r++):Array.isArray(e[r])?(l.x=e[r][0],l.y=e[r][1]):(l.x=e[r].x,l.y=e[r].y),this.points.push(l)}return this},addPoint:function(e,r){var l=new i(e,r);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,r){r===void 0&&(r=new i);var l=this.points,a=(l.length-1)*e,h=Math.floor(a),f=a-h,u=l[h===0?h:h-1],d=l[h],m=l[h>l.length-2?l.length-1:h+1],x=l[h>l.length-3?l.length-1:h+2];return r.set(o(f,u.x,d.x,m.x,x.x),o(f,u.y,d.y,m.y,x.y))},toJSON:function(){for(var e=[],r=0;r<this.points.length;r++)e.push(this.points[r].x),e.push(this.points[r].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},c.exports=n},25410:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(26099),s=new o({initialize:function(n,e){this.active=!1,this.p0=new p(n,e)},getPoint:function(i,n){return n===void 0&&(n=new p),n.copy(this.p0)},getPointAt:function(i,n){return this.getPoint(i,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=s},46669:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(46728),s=t(73825),i=t(39429),n=t(33951),e=t(68618),r=t(14744),l=t(87841),a=t(42534),h=t(26099),f=t(36383),u=new o({initialize:function(m,x){m===void 0&&(m=0),x===void 0&&(x=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,x)},add:function(d){return this.curves.push(d),this},circleTo:function(d,m,x){return m===void 0&&(m=!1),this.ellipseTo(d,d,0,360,m,x)},closePath:function(){var d=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return d.equals(m)||this.curves.push(new n(m,d)),this},cubicBezierTo:function(d,m,x,S,T,C){var A=this.getEndPoint(),b,R,F;return d instanceof h?(b=d,R=m,F=x):(b=new h(x,S),R=new h(T,C),F=new h(d,m)),this.add(new p(A,b,R,F))},quadraticBezierTo:function(d,m,x,S){var T=this.getEndPoint(),C,A;return d instanceof h?(C=d,A=m):(C=new h(x,S),A=new h(d,m)),this.add(new r(T,C,A))},draw:function(d,m){for(var x=0;x<this.curves.length;x++){var S=this.curves[x];S.active&&S.draw(d,m)}return d},ellipseTo:function(d,m,x,S,T,C){var A=new s(0,0,d,m,x,S,T,C),b=this.getEndPoint(this._tmpVec2A),R=A.getStartPoint(this._tmpVec2B);return b.subtract(R),A.x=b.x,A.y=b.y,this.add(A)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var m=0;m<d.curves.length;m++){var x=d.curves[m];switch(x.type){case"LineCurve":this.add(n.fromJSON(x));break;case"EllipseCurve":this.add(s.fromJSON(x));break;case"SplineCurve":this.add(a.fromJSON(x));break;case"CubicBezierCurve":this.add(p.fromJSON(x));break;case"QuadraticBezierCurve":this.add(r.fromJSON(x));break}}return this},getBounds:function(d,m){d===void 0&&(d=new l),m===void 0&&(m=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var x=new l,S=f.MIN_SAFE_INTEGER,T=f.MIN_SAFE_INTEGER,C=0;C<this.curves.length;C++){var A=this.curves[C];A.active&&(A.getBounds(x,m),d.x=Math.min(d.x,x.x),d.y=Math.min(d.y,x.y),S=Math.max(S,x.right),T=Math.max(T,x.bottom))}return d.right=S,d.bottom=T,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],m=0,x=0;x<this.curves.length;x++)m+=this.curves[x].getLength(),d.push(m);return this.cacheLengths=d,d},getCurveAt:function(d){for(var m=d*this.getLength(),x=this.getCurveLengths(),S=0;S<x.length;){if(x[S]>=m)return this.curves[S];S++}return null},getEndPoint:function(d){return d===void 0&&(d=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,m){m===void 0&&(m=new h);for(var x=d*this.getLength(),S=this.getCurveLengths(),T=0;T<S.length;){if(S[T]>=x){var C=S[T]-x,A=this.curves[T],b=A.getLength(),R=b===0?0:1-C/b;return A.getPointAt(R,m)}T++}return null},getPoints:function(d,m){!d&&!m&&(d=this.defaultDivisions);for(var x=[],S,T=0;T<this.curves.length;T++){var C=this.curves[T];if(C.active)for(var A=C.getResolution(d),b=C.getPoints(A,m),R=0;R<b.length;R++){var F=b[R];S&&S.equals(F)||(x.push(F),S=F)}}return this.autoClose&&x.length>1&&!x[x.length-1].equals(x[0])&&x.push(x[0]),x},getRandomPoint:function(d){return d===void 0&&(d=new h),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var m=[],x=0;x<=d;x++)m.push(this.getPoint(x/d));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(d){return d===void 0&&(d=new h),d.copy(this.startPoint)},getTangent:function(d,m){m===void 0&&(m=new h);for(var x=d*this.getLength(),S=this.getCurveLengths(),T=0;T<S.length;){if(S[T]>=x){var C=S[T]-x,A=this.curves[T],b=A.getLength(),R=b===0?0:1-C/b;return A.getTangentAt(R,m)}T++}return null},lineTo:function(d,m){d instanceof h?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,m);var x=this.getEndPoint(this._tmpVec2A);return this.add(new n([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new a(d))},moveTo:function(d,m){return d instanceof h?this.add(new e(d.x,d.y)):this.add(new e(d,m))},toJSON:function(){for(var d=[],m=0;m<this.curves.length;m++)d.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});i.register("path",function(d,m){return new u(d,m)}),c.exports=u},45893:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(24882),s=new o({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(i){var n=this.list;if(Array.isArray(i)){for(var e=[],r=0;r<i.length;r++)e.push(n[i[r]]);return e}else return n[i]},getAll:function(){var i={};for(var n in this.list)this.list.hasOwnProperty(n)&&(i[n]=this.list[n]);return i},query:function(i){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(i)&&(n[e]=this.list[e]);return n},set:function(i,n){if(this._frozen)return this;if(typeof i=="string")return this.setValue(i,n);for(var e in i)this.setValue(e,i[e]);return this},inc:function(i,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(i);return e===void 0&&(e=0),this.set(i,e+n),this},toggle:function(i){return this._frozen?this:(this.set(i,!this.get(i)),this)},setValue:function(i,n){if(this._frozen)return this;if(this.has(i))this.values[i]=n;else{var e=this,r=this.list,l=this.events,a=this.parent;Object.defineProperty(this.values,i,{enumerable:!0,configurable:!0,get:function(){return r[i]},set:function(h){if(!e._frozen){var f=r[i];r[i]=h,l.emit(p.CHANGE_DATA,a,i,h,f),l.emit(p.CHANGE_DATA_KEY+i,a,h,f)}}}),r[i]=n,l.emit(p.SET_DATA,a,i,n)}return this},each:function(i,n){for(var e=[this.parent,null,void 0],r=1;r<arguments.length;r++)e.push(arguments[r]);for(var l in this.list)e[1]=l,e[2]=this.list[l],i.apply(n,e);return this},merge:function(i,n){n===void 0&&(n=!0);for(var e in i)i.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,i[e]);return this},remove:function(i){if(this._frozen)return this;if(Array.isArray(i))for(var n=0;n<i.length;n++)this.removeValue(i[n]);else return this.removeValue(i);return this},removeValue:function(i){if(this.has(i)){var n=this.list[i];delete this.list[i],delete this.values[i],this.events.emit(p.REMOVE_DATA,this.parent,i,n)}return this},pop:function(i){var n=void 0;return!this._frozen&&this.has(i)&&(n=this.list[i],delete this.list[i],delete this.values[i],this.events.emit(p.REMOVE_DATA,this.parent,i,n)),n},has:function(i){return this.list.hasOwnProperty(i)},setFreeze:function(i){return this._frozen=i,this},reset:function(){for(var i in this.list)delete this.list[i],delete this.values[i];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(i){this._frozen=!!i}},count:{get:function(){var i=0;for(var n in this.list)this.list[n]!==void 0&&i++;return i}}});c.exports=s},63646:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(45893),s=t(37277),i=t(44594),n=new o({Extends:p,initialize:function(r){p.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(i.BOOT,this.boot,this),r.sys.events.on(i.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",n,"data"),c.exports=n},10700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},93608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},60883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},69780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},22166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},24882:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function s(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var i=document.createElement("audio"),n=!!i.canPlayType;try{if(n){var e=function(a,h){var f=i.canPlayType("audio/"+a).replace(/^no$/,"");return h?!!(f||i.canPlayType("audio/"+h).replace(/^no$/,"")):!!f};if(p.ogg=e('ogg; codecs="vorbis"'),p.opus=e('ogg; codecs="opus"',"opus"),p.mp3=e("mpeg"),p.wav=e("wav"),p.m4a=e("x-m4a"),p.aac=e("aac"),p.flac=e("flac","x-flac"),p.webm=e('webm; codecs="vorbis"'),i.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)p.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(r===10&&l>=11||r>10)&&(p.dolby=!0)}}}}catch{}return p}c.exports=s()},84148:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function s(){var i=navigator.userAgent;return/Edg\/\d+/.test(i)?(p.edge=!0,p.es2019=!0):/OPR/.test(i)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(i)&&!o.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(i)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(i)&&o.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(i)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(i)&&!o.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(i)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(i)&&(p.silk=!0),p}c.exports=s()},89289:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function s(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var a=new Image;a.onload=function(){var h=o.create2D(a,6),f=h.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(a,2,0),!f.getImageData(2,0,1,1))return!1;var u=f.getImageData(2,0,1,1).data;o.remove(a),p.supportNewBlendModes=u[0]===255&&u[1]===0&&u[2]===0},a.src=e+"/wCKxvRF"+r},l.src=e+"AP804Oa6"+r,!1}function i(){var e=o.create2D(this,2),r=e.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var l=r.getImageData(0,0,1,1);if(l===null)return!1;r.putImageData(l,1,0);var a=r.getImageData(1,0,1,1),h=a.data[0]===l.data[0]&&a.data[1]===l.data[1]&&a.data[2]===l.data[2]&&a.data[3]===l.data[3];return o.remove(this),h}function n(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=s(),p.supportInverseAlpha=i()),p}c.exports=n()},89357:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),p=t(84148),s=t(27919),i={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var r=new ArrayBuffer(4),l=new Uint8Array(r),a=new Uint32Array(r);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,a[0]===3569595041?!0:a[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return i;i.canvas=!!window.CanvasRenderingContext2D;try{i.localStorage=!!localStorage.getItem}catch{i.localStorage=!1}i.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,i.fileSystem=!!window.requestFileSystem;var r=!1,l=function(){if(window.WebGLRenderingContext)try{var a=s.createWebGL(this),h=a.getContext("webgl")||a.getContext("experimental-webgl"),f=s.create2D(this),u=f.getContext("2d",{willReadFrequently:!0}),d=u.createImageData(1,1);return r=d.data instanceof Uint8ClampedArray,s.remove(a),s.remove(f),!!h}catch{return!1}return!1};return i.webGL=l(),i.worker=!!window.Worker,i.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,i.getUserMedia=i.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(i.getUserMedia=!1),!o.iOS&&(p.ie||p.firefox||p.chrome)&&(i.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(i.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(i.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(i.littleEndian=n()),i.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&i.littleEndian!==null&&r,i}c.exports=e()},91639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return y;var o,p="Fullscreen",s="FullScreen",i=["request"+p,"request"+s,"webkitRequest"+p,"webkitRequest"+s,"msRequest"+p,"msRequest"+s,"mozRequest"+s,"mozRequest"+p];for(o=0;o<i.length;o++)if(document.documentElement[i[o]]){y.available=!0,y.request=i[o];break}var n=["cancel"+s,"exit"+p,"webkitCancel"+s,"webkitExit"+p,"msCancel"+s,"msExit"+p,"mozCancel"+s,"mozExit"+p];if(y.available){for(o=0;o<n.length;o++)if(document[n[o]]){y.cancel=n[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}c.exports=t()},31784:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function s(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}c.exports=s()},25892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return y;var o=navigator.userAgent;/Windows/.test(o)?y.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(o)?y.android=!0:/Linux/.test(o)?y.linux=!0:/iP[ao]d|iPhone/i.test(o)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=o.toLowerCase().indexOf("iphone")!==-1,y.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?y.kindle=!0:/CrOS/.test(o)&&(y.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var p=/Silk/.test(o);return(y.windows||y.macOS||y.linux&&!p||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}c.exports=t()},43267:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function s(){if(typeof importScripts=="function")return p;var i=document.createElement("video"),n=!!i.canPlayType,e=/^no$/;try{n&&(i.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(p.ogg=!0),i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(p.h264=!0,p.mp4=!0),i.canPlayType("video/x-m4v").replace(e,"")&&(p.m4v=!0),i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(p.webm=!0),i.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(p.vp9=!0),i.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(p.hls=!0))}catch{}return i.parentNode&&i.parentNode.removeChild(i),p.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var a=o(r[l],"url",r[l]);if(a.indexOf("blob:")===0)return{url:a,type:""};var h;if(a.indexOf("data:")===0?h=a.split(",")[0].match(/\/(.*?);/):h=a.match(/\.([a-zA-Z0-9]+)($|\?)/),h=o(r[l],"type",h?h[1]:"").toLowerCase(),p[h])return{url:a,type:h}}return null},p}c.exports=s()},82264:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new Float32Array(20),s=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(i){return this._matrix.set(i),this._dirty=!0,this},reset:function(){var i=this._matrix;return i.fill(0),i[0]=1,i[6]=1,i[12]=1,i[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var i=this._data;return this._dirty&&(i.set(this._matrix),i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,this._dirty=!1),i},brightness:function(i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var e=i;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var e=i*2/3+1,r=(e-1)*-.5;return this.multiply([e,r,r,0,0,r,e,r,0,0,r,r,e,0,0,0,0,0,1,0],n)},desaturate:function(i){return i===void 0&&(i=!1),this.saturate(-1,i)},hue:function(i,n){i===void 0&&(i=0),n===void 0&&(n=!1),i=i/180*Math.PI;var e=Math.cos(i),r=Math.sin(i),l=.213,a=.715,h=.072;return this.multiply([l+e*(1-l)+r*-l,a+e*-a+r*-a,h+e*-h+r*(1-h),0,0,l+e*-l+r*.143,a+e*(1-a)+r*.14,h+e*-h+r*-.283,0,0,l+e*-l+r*-(1-l),a+e*-a+r*a,h+e*(1-h)+r*h,0,0,0,0,0,1,0],n)},grayscale:function(i,n){return i===void 0&&(i=1),n===void 0&&(n=!1),this.saturate(-i,n)},blackWhite:function(i){return i===void 0&&(i=!1),this.multiply(s.BLACK_WHITE,i)},contrast:function(i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var e=i+1,r=-.5*(e-1);return this.multiply([e,0,0,0,r,0,e,0,0,r,0,0,e,0,r,0,0,0,1,0],n)},negative:function(i){return i===void 0&&(i=!1),this.multiply(s.NEGATIVE,i)},desaturateLuminance:function(i){return i===void 0&&(i=!1),this.multiply(s.DESATURATE_LUMINANCE,i)},sepia:function(i){return i===void 0&&(i=!1),this.multiply(s.SEPIA,i)},night:function(i,n){return i===void 0&&(i=.1),n===void 0&&(n=!1),this.multiply([i*-2,-i,0,0,0,-i,0,i,0,0,0,i,i*2,0,0,0,0,0,1,0],n)},lsd:function(i){return i===void 0&&(i=!1),this.multiply(s.LSD,i)},brown:function(i){return i===void 0&&(i=!1),this.multiply(s.BROWN,i)},vintagePinhole:function(i){return i===void 0&&(i=!1),this.multiply(s.VINTAGE,i)},kodachrome:function(i){return i===void 0&&(i=!1),this.multiply(s.KODACHROME,i)},technicolor:function(i){return i===void 0&&(i=!1),this.multiply(s.TECHNICOLOR,i)},polaroid:function(i){return i===void 0&&(i=!1),this.multiply(s.POLAROID,i)},shiftToBGR:function(i){return i===void 0&&(i=!1),this.multiply(s.SHIFT_BGR,i)},multiply:function(i,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,r=p;return r.set(e),e.set([r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19]]),this._dirty=!0,this}});s.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],s.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=s},51767:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(29747),s=new o({initialize:function(n,e,r){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(n,e,r)},set:function(i,n,e){return i===void 0&&(i=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[i,n,e],this.onChange(),this},equals:function(i,n,e){var r=this._rgb;return r[0]===i&&r[1]===n&&r[2]===e},onChange:function(){this.dirty=!0;var i=this._rgb;this.onChangeCallback.call(this,i[0],i[1],i[2])},r:{get:function(){return this._rgb[0]},set:function(i){this._rgb[0]=i,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(i){this._rgb[1]=i,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(i){this._rgb[2]=i,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=s},60461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=y},54312:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(35893),s=t(86327),i=t(88417),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)+l),s(e,o(r)+a),e};c.exports=n},46768:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(26541),s=t(86327),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)-l),s(e,o(r)+a),e};c.exports=n},35827:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(54380),s=t(86327),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)+l),s(e,o(r)+a),e};c.exports=n},46871:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66786),p=t(35893),s=t(7702),i=function(n,e,r,l){return r===void 0&&(r=0),l===void 0&&(l=0),o(n,p(e)+r,s(e)+l),n};c.exports=i},5198:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),p=t(26541),s=t(20786),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)-l),s(e,o(r)+a),e};c.exports=n},11879:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),p=[];p[o.BOTTOM_CENTER]=t(54312),p[o.BOTTOM_LEFT]=t(46768),p[o.BOTTOM_RIGHT]=t(35827),p[o.CENTER]=t(46871),p[o.LEFT_CENTER]=t(5198),p[o.RIGHT_CENTER]=t(80503),p[o.TOP_CENTER]=t(89698),p[o.TOP_LEFT]=t(922),p[o.TOP_RIGHT]=t(21373),p[o.LEFT_BOTTOM]=p[o.BOTTOM_LEFT],p[o.LEFT_TOP]=p[o.TOP_LEFT],p[o.RIGHT_BOTTOM]=p[o.BOTTOM_RIGHT],p[o.RIGHT_TOP]=p[o.TOP_RIGHT];var s=function(i,n,e,r,l){return p[e](i,n,r,l)};c.exports=s},80503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),p=t(54380),s=t(20786),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)+l),s(e,o(r)+a),e};c.exports=n},89698:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),p=t(17717),s=t(88417),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)+l),i(e,p(r)-a),e};c.exports=n},922:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),p=t(17717),s=t(385),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)-l),i(e,p(r)-a),e};c.exports=n},21373:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),p=t(17717),s=t(40136),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)+l),i(e,p(r)-a),e};c.exports=n},91660:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),p=t(79291),s={In:t(91660),To:t(16694)};s=p(!1,s,o),c.exports=s},21578:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(35893),s=t(88417),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,p(r)+l),i(e,o(r)+a),e};c.exports=n},10210:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(26541),s=t(385),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,p(r)-l),i(e,o(r)+a),e};c.exports=n},82341:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(54380),s=t(40136),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,p(r)+l),i(e,o(r)+a),e};c.exports=n},87958:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(26541),s=t(86327),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)-l),s(e,o(r)+a),e};c.exports=n},40080:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),p=t(26541),s=t(20786),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)-l),s(e,o(r)+a),e};c.exports=n},88466:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),p=t(17717),s=t(40136),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)-l),i(e,p(r)-a),e};c.exports=n},38829:(c,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),p=[];p[o.BOTTOM_CENTER]=t(21578),p[o.BOTTOM_LEFT]=t(10210),p[o.BOTTOM_RIGHT]=t(82341),p[o.LEFT_BOTTOM]=t(87958),p[o.LEFT_CENTER]=t(40080),p[o.LEFT_TOP]=t(88466),p[o.RIGHT_BOTTOM]=t(19211),p[o.RIGHT_CENTER]=t(34609),p[o.RIGHT_TOP]=t(48741),p[o.TOP_CENTER]=t(49440),p[o.TOP_LEFT]=t(81288),p[o.TOP_RIGHT]=t(61323);var s=function(i,n,e,r,l){return p[e](i,n,r,l)};c.exports=s},19211:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(54380),s=t(86327),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)+l),s(e,o(r)+a),e};c.exports=n},34609:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),p=t(54380),s=t(20786),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,p(r)+l),s(e,o(r)+a),e};c.exports=n},48741:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),p=t(17717),s=t(385),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)+l),i(e,p(r)-a),e};c.exports=n},49440:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),p=t(17717),s=t(86327),i=t(88417),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,o(r)+l),s(e,p(r)-a),e};c.exports=n},81288:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),p=t(17717),s=t(86327),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,o(r)-l),s(e,p(r)-a),e};c.exports=n},61323:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),p=t(17717),s=t(86327),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,o(r)+l),s(e,p(r)-a),e};c.exports=n},16694:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88417),p=t(20786),s=function(i,n,e){return o(i,n),p(i,e)};c.exports=s},62235:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y+t.height-t.height*t.originY};c.exports=y},72873:(c,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(26541),s=t(54380),i=t(17717),n=t(87841),e=function(r,l){l===void 0&&(l=new n);var a=p(r),h=i(r);return l.x=a,l.y=h,l.width=s(r)-a,l.height=o(r)-h,l};c.exports=e},35893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX+t.width*.5};c.exports=y},7702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY+t.height*.5};c.exports=y},26541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX};c.exports=y},87431:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.originX};c.exports=y},46928:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height*t.originY};c.exports=y},54380:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x+t.width-t.width*t.originX};c.exports=y},17717:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY};c.exports=y},86327:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.y=o-t.height+t.height*t.originY,t};c.exports=y},88417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.width*t.originX;return t.x=o+p-t.width*.5,t};c.exports=y},20786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.height*t.originY;return t.y=o+p-t.height*.5,t};c.exports=y},385:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x=o+t.width*t.originX,t};c.exports=y},40136:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x=o-t.width+t.width*t.originX,t};c.exports=y},66737:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.y=o+t.height*t.originY,t};c.exports=y},58724:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(t){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(p){t.style["image-rendering"]=p}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};c.exports=y},27919:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),p=t(68703),s=[],i=!1,n=function(){var e=function(x,S,T,C,A){S===void 0&&(S=1),T===void 0&&(T=1),C===void 0&&(C=o.CANVAS),A===void 0&&(A=!1);var b,R=a(C);return R===null?(R={parent:x,canvas:document.createElement("canvas"),type:C},C===o.CANVAS&&s.push(R),b=R.canvas):(R.parent=x,b=R.canvas),A&&(R.parent=b),b.width=S,b.height=T,i&&C===o.CANVAS&&p.disable(b.getContext("2d",{willReadFrequently:!1})),b},r=function(x,S,T){return e(x,S,T,o.CANVAS)},l=function(x,S,T){return e(x,S,T,o.WEBGL)},a=function(x){if(x===void 0&&(x=o.CANVAS),x===o.WEBGL)return null;for(var S=0;S<s.length;S++){var T=s[S];if(!T.parent&&T.type===x)return T}return null},h=function(x){var S=x instanceof HTMLCanvasElement;s.forEach(function(T){(S&&T.canvas===x||!S&&T.parent===x)&&(T.parent=null,T.canvas.width=1,T.canvas.height=1)})},f=function(){var x=0;return s.forEach(function(S){S.parent&&x++}),x},u=function(){return s.length-f()},d=function(){i=!0},m=function(){i=!1};return{create2D:r,create:e,createWebGL:l,disableSmoothing:d,enableSmoothing:m,first:a,free:u,pool:s,remove:h,total:f}};c.exports=n()},68703:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",t=function(){var o=function(n){for(var e=["i","webkitI","msI","mozI","oI"],r=0;r<e.length;r++){var l=e[r]+"mageSmoothingEnabled";if(l in n)return l}return null},p=function(n){return y===""&&(y=o(n)),y&&(n[y]=!0),n},s=function(n){return y===""&&(y=o(n)),y&&(n[y]=!1),n},i=function(n){return y!==null?n[y]:null};return{disable:s,enable:p,getPrefix:o,isEnabled:i}};c.exports=t()},65208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o="none"),t.style.msTouchAction=o,t.style["ms-touch-action"]=o,t.style["touch-action"]=o,t};c.exports=y},91610:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(s){t.style[s+"user-select"]=o}),t.style["-webkit-touch-callout"]=o,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};c.exports=y},26253:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37589),s=t(1e3),i=t(7537),n=t(87837),e=new o({initialize:function(l,a,h,f){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,a,h,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,l,a,h,f){return h===void 0&&(h=255),f===void 0&&(f=!0),this._locked=!0,this.red=r,this.green=l,this.blue=a,this.alpha=h,this._locked=!1,this.update(f)},setGLTo:function(r,l,a,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=r,this.greenGL=l,this.blueGL=a,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,l,a){return i(r,l,a,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var l=this.r,a=this.g,h=this.b,f=this.a;return this._color=p(l,a,h),this._color32=s(l,a,h,f),this._rgba="rgba("+l+","+a+","+h+","+f/255+")",r&&n(l,a,h,this),this},updateHSV:function(){var r=this.r,l=this.g,a=this.b;return n(r,l,a,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,l){r===void 0&&(r=0),l===void 0&&(l=255);var a=Math.floor(r+Math.random()*(l-r)),h=Math.floor(r+Math.random()*(l-r)),f=Math.floor(r+Math.random()*(l-r));return this.setTo(a,h,f)},randomGray:function(r,l){r===void 0&&(r=0),l===void 0&&(l=255);var a=Math.floor(r+Math.random()*(l-r));return this.setTo(a,a,a)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var l=this.r,a=this.g,h=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(r/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(r/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(r/100)))),this.setTo(l,a,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,i(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,i(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,i(this._h,this._s,r,this)}}});c.exports=e},92728:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),p=function(s){s===void 0&&(s=1024);var i=[],n=255,e,r=255,l=0,a=0;for(e=0;e<=n;e++)i.push({r,g:e,b:a,color:o(r,e,a)});for(l=255,e=n;e>=0;e--)i.push({r:e,g:l,b:a,color:o(e,l,a)});for(r=0,e=0;e<=n;e++,l--)i.push({r,g:l,b:e,color:o(r,l,e)});for(l=0,a=255,e=0;e<=n;e++,a--,r++)i.push({r,g:l,b:a,color:o(r,l,a)});if(s===1024)return i;var h=[],f=0,u=1024/s;for(e=0;e<s;e++)h.push(i[Math.floor(f)]),f+=u;return h};c.exports=p},91588:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(o.a=t>>>24),o};c.exports=y},62957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.toString(16);return o.length===1?"0"+o:o};c.exports=y},37589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t<<16|o<<8|p};c.exports=y},1e3:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){return s<<24|t<<16|o<<8|p};c.exports=y},62183:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=t(89528),s=function(i,n,e){var r=e,l=e,a=e;if(n!==0){var h=e<.5?e*(1+n):e+n-e*n,f=2*e-h;r=p(f,h,i+1/3),l=p(f,h,i),a=p(f,h,i-1/3)}var u=new o;return u.setGLTo(r,l,a,1)};c.exports=s},27939:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7537),p=function(s,i){s===void 0&&(s=1),i===void 0&&(i=1);for(var n=[],e=0;e<=359;e++)n.push(o(e/359,s,i));return n};c.exports=p},7537:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589);function p(i,n,e,r){var l=(i+n*6)%6,a=Math.min(l,4-l,1);return Math.round(255*(r-r*e*Math.max(0,a)))}var s=function(i,n,e,r){n===void 0&&(n=1),e===void 0&&(e=1);var l=p(5,i,n,e),a=p(3,i,n,e),h=p(1,i,n,e);return r?r.setTo?r.setTo(l,a,h,r.alpha,!0):(r.r=l,r.g=a,r.b=h,r.color=o(l,a,h),r):{r:l,g:a,b:h,color:o(l,a,h)}};c.exports=s},70238:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=function(s){var i=new o;s=s.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,h,f,u){return h+h+f+f+u+u});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(n){var e=parseInt(n[1],16),r=parseInt(n[2],16),l=parseInt(n[3],16);i.setTo(e,r,l)}return i};c.exports=p},89528:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?t+(o-t)*6*p:p<.5?o:p<.6666666666666666?t+(o-t)*(.6666666666666666-p)*6:t};c.exports=y},30100:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=t(90664),s=function(i){var n=p(i);return new o(n.r,n.g,n.b,n.a)};c.exports=s},90664:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};c.exports=y},13699:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),p=function(n,e,r,l,a,h,f,u){f===void 0&&(f=100),u===void 0&&(u=0);var d=u/f;return{r:o(n,l,d),g:o(e,a,d),b:o(r,h,d)}},s=function(n,e,r,l){return r===void 0&&(r=100),l===void 0&&(l=0),p(n.r,n.g,n.b,e.r,e.g,e.b,r,l)},i=function(n,e,r,l,a,h){return a===void 0&&(a=100),h===void 0&&(h=0),p(n.r,n.g,n.b,e,r,l,a,h)};c.exports={RGBWithRGB:p,ColorWithRGB:i,ColorWithColor:s}},68957:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=function(s){return new o(s.r,s.g,s.b,s.a)};c.exports=p},87388:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=function(s){var i=new o,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(s.toLowerCase());if(n){var e=parseInt(n[1],10),r=parseInt(n[2],10),l=parseInt(n[3],10),a=n[4]!==void 0?parseFloat(n[4]):1;i.setTo(e,r,l,a*255)}return i};c.exports=p},87837:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){s===void 0&&(s={h:0,s:0,v:0}),t/=255,o/=255,p/=255;var i=Math.min(t,o,p),n=Math.max(t,o,p),e=n-i,r=0,l=n===0?0:e/n,a=n;return n!==i&&(n===t?r=(o-p)/e+(o<p?6:0):n===o?r=(p-t)/e+2:n===p&&(r=(t-o)/e+4),r/=6),s.hasOwnProperty("_h")?(s._h=r,s._s=l,s._v=a):(s.h=r,s.s=l,s.v=a),s};c.exports=y},75723:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62957),p=function(s,i,n,e,r){return e===void 0&&(e=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(s<<16)+(i<<8)+n).toString(16).slice(1,7):"0x"+o(e)+o(s)+o(i)+o(n)};c.exports=p},85386:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),p=t(40987),s=function(i,n){return i===void 0&&(i=0),n===void 0&&(n=255),new p(o(i,n),o(i,n),o(i,n))};c.exports=s},80333:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70238),p=t(30100),s=t(68957),i=t(87388),n=function(e){var r=typeof e;switch(r){case"string":return e.substr(0,3).toLowerCase()==="rgb"?i(e):o(e);case"number":return p(e);case"object":return s(e)}};c.exports=n},3956:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987);o.ColorSpectrum=t(92728),o.ColorToRGBA=t(91588),o.ComponentToHex=t(62957),o.GetColor=t(37589),o.GetColor32=t(1e3),o.HexStringToColor=t(70238),o.HSLToColor=t(62183),o.HSVColorWheel=t(27939),o.HSVToRGB=t(7537),o.HueToComponent=t(89528),o.IntegerToColor=t(30100),o.IntegerToRGB=t(90664),o.Interpolate=t(13699),o.ObjectToColor=t(68957),o.RandomRGB=t(85386),o.RGBStringToColor=t(87388),o.RGBToHSV=t(87837),o.RGBToString=t(75723),o.ValueToColor=t(80333),c.exports=o},27460:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(39429),s=new o({initialize:function(n,e,r,l,a,h){e||(e=n.sys.make.image({x:r,y:l,key:a,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(i){this.bitmapMask=i},preRenderWebGL:function(i,n,e){i.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(i,n,e){i.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(i,n,e,r,l){return new s(this.scene,i,n,e,r,l)}),c.exports=s},80661:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(s){return this.geometryMask=s,this},setInvertAlpha:function(s){return s===void 0&&(s=!0),this.invertAlpha=s,this},preRenderWebGL:function(s,i,n){var e=s.gl;s.flush(),s.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),s.maskCount=0),s.currentCameraMask.mask!==this&&(s.currentMask.mask=this),s.maskStack.push({mask:this,camera:n}),this.applyStencil(s,n,!0),s.maskCount++},applyStencil:function(s,i,n){var e=s.gl,r=this.geometryMask,l=s.maskCount,a=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,l,a),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,a),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,r.renderWebGL(s,r,i),s.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,a):e.stencilFunc(e.EQUAL,l,a)},postRenderWebGL:function(s){var i=s.gl;s.maskStack.pop(),s.maskCount--,s.flush();var n=s.currentMask;if(s.maskStack.length===0)n.mask=null,i.disable(i.STENCIL_TEST);else{var e=s.maskStack[s.maskStack.length-1];e.mask.applyStencil(s,e.camera,!1),s.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(s,i,n){var e=this.geometryMask;s.currentContext.save(),e.renderCanvas(s,e,n,null,null,!0),s.currentContext.clip()},postRenderCanvas:function(s){s.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=p},69781:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e,r){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=i,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=r}});c.exports=p},40366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p;if(o)typeof o=="string"?p=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(p=o);else if(t.parentElement||o===null)return t;return p||(p=document.body),p.appendChild(t),t};c.exports=y},83719:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),p=function(s){var i=s.config;if(!(!i.parent||!i.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+s.scale.width+"px;","height: "+s.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+i.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),s.domContainer=n,o(n,i.parent)}};c.exports=p},57264:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),p=function(s){if(document.readyState==="complete"||document.readyState==="interactive"){s();return}var i=function(){document.removeEventListener("deviceready",i,!0),document.removeEventListener("DOMContentLoaded",i,!0),window.removeEventListener("load",i,!0),s()};document.body?o.cordova?document.addEventListener("deviceready",i,!1):(document.addEventListener("DOMContentLoaded",i,!0),window.addEventListener("load",i,!0)):window.setTimeout(i,20)};c.exports=p},57811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t)return window.innerHeight;var o=Math.abs(window.orientation),p={w:0,h:0},s=document.createElement("div");return s.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(s),p.w=o===90?s.offsetHeight:window.innerWidth,p.h=o===90?window.innerWidth:s.offsetHeight,document.documentElement.removeChild(s),s=null,Math.abs(window.orientation)!==90?p.h:p.w};c.exports=y},45818:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),p=function(s,i){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return i>s?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};c.exports=p},74403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o;return t!==""&&(typeof t=="string"?o=document.getElementById(t):t&&t.nodeType===1&&(o=t)),o||(o=document.body),o};c.exports=y},56836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o="";try{if(window.DOMParser){var p=new DOMParser;o=p.parseFromString(t,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(t)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};c.exports=y},35846:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){t.parentNode&&t.parentNode.removeChild(t)};c.exports=y},43092:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(29747),s=new o({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(r){n.callback(r),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(i,n,e){this.isRunning||(this.callback=i,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});c.exports=s},84902:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};c.exports=o},47565:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),s=t(37277),i=new o({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",i,"events"),c.exports=i},93055:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(47565)}},20122:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r){r===void 0&&(r=1),p.call(this,s.BARREL,e),this.amount=r}});c.exports=i},32251:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h,f,u){l===void 0&&(l=1),a===void 0&&(a=1),h===void 0&&(h=1),f===void 0&&(f=1),u===void 0&&(u=4),p.call(this,s.BLOOM,e),this.steps=u,this.offsetX=l,this.offsetY=a,this.blurStrength=h,this.strength=f,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});c.exports=i},9047:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h,f,u){r===void 0&&(r=0),l===void 0&&(l=2),a===void 0&&(a=2),h===void 0&&(h=1),u===void 0&&(u=4),p.call(this,s.BLUR,e),this.quality=r,this.x=l,this.y=a,this.steps=u,this.strength=h,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});c.exports=i},27885:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h,f,u,d){r===void 0&&(r=.5),l===void 0&&(l=1),a===void 0&&(a=.2),h===void 0&&(h=!1),f===void 0&&(f=1),u===void 0&&(u=1),d===void 0&&(d=1),p.call(this,s.BOKEH,e),this.radius=r,this.amount=l,this.contrast=a,this.isTiltShift=h,this.strength=d,this.blurX=f,this.blurY=u}});c.exports=i},12578:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h,f){r===void 0&&(r=8),h===void 0&&(h=1),f===void 0&&(f=.005),p.call(this,s.CIRCLE,e),this.scale=h,this.feather=f,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),a!=null&&(this.backgroundColor=a)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(n){this.glcolor2[3]=n}}});c.exports=i},15802:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89422),s=t(14811),i=new o({Extends:p,initialize:function(e){p.call(this),this.type=s.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=i},72898:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n){this.type=i,this.gameObject=n,this.active=!0},setActive:function(s){return this.active=s,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=p},44553:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a){r===void 0&&(r="__WHITE"),l===void 0&&(l=.005),a===void 0&&(a=.005),p.call(this,s.DISPLACEMENT,e),this.x=l,this.y=a,this.glTexture,this.setTexture(r)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});c.exports=i},68531:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h){l===void 0&&(l=4),a===void 0&&(a=0),h===void 0&&(h=!1),p.call(this,s.GLOW,e),this.outerStrength=l,this.innerStrength=a,this.knockout=h,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});c.exports=i},37102:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h,f,u,d,m){a===void 0&&(a=.2),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=1),m===void 0&&(m=0),p.call(this,s.GRADIENT,e),this.alpha=a,this.size=m,this.fromX=h,this.fromY=f,this.toX=u,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),l!=null&&(this.color2=l)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});c.exports=i},86886:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r){r===void 0&&(r=1),p.call(this,s.PIXELATE,e),this.amount=r}});c.exports=i},92322:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h,f,u,d){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=.1),h===void 0&&(h=1),u===void 0&&(u=6),d===void 0&&(d=1),p.call(this,s.SHADOW,e),this.x=r,this.y=l,this.decay=a,this.power=h,this.glcolor=[0,0,0,1],this.samples=u,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});c.exports=i},39563:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h){r===void 0&&(r=.5),l===void 0&&(l=.5),a===void 0&&(a=3),h===void 0&&(h=!1),p.call(this,s.SHINE,e),this.speed=r,this.lineWidth=l,this.gradient=a,this.reveal=h}});c.exports=i},56448:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h){r===void 0&&(r=.5),l===void 0&&(l=.5),a===void 0&&(a=.5),h===void 0&&(h=.5),p.call(this,s.VIGNETTE,e),this.x=r,this.y=l,this.radius=a,this.strength=h}});c.exports=i},38433:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),s=t(14811),i=new o({Extends:p,initialize:function(e,r,l,a,h){r===void 0&&(r=.1),l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=!1),p.call(this,s.WIPE,e),this.progress=0,this.wipeWidth=r,this.direction=l,this.axis=a,this.reveal=h}});c.exports=i},14811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=y},66064:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(14811),s={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};s=o(!1,s,p),c.exports=s},25305:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(23568),s=function(i,n,e){n.x=p(e,"x",0),n.y=p(e,"y",0),n.depth=p(e,"depth",0),n.flipX=p(e,"flipX",!1),n.flipY=p(e,"flipY",!1);var r=p(e,"scale",null);typeof r=="number"?n.setScale(r):r!==null&&(n.scaleX=p(r,"x",1),n.scaleY=p(r,"y",1));var l=p(e,"scrollFactor",null);typeof l=="number"?n.setScrollFactor(l):l!==null&&(n.scrollFactorX=p(l,"x",1),n.scrollFactorY=p(l,"y",1)),n.rotation=p(e,"rotation",0);var a=p(e,"angle",null);a!==null&&(n.angle=a),n.alpha=p(e,"alpha",1);var h=p(e,"origin",null);if(typeof h=="number")n.setOrigin(h);else if(h!==null){var f=p(h,"x",.5),u=p(h,"y",.5);n.setOrigin(f,u)}n.blendMode=p(e,"blendMode",o.NORMAL),n.visible=p(e,"visible",!0);var d=p(e,"add",!0);return d&&i.sys.displayList.add(n),n.preUpdate&&i.sys.updateList.add(n),n};c.exports=s},13059:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23568),p=function(s,i){var n=o(i,"anims",null);if(n===null)return s;if(typeof n=="string")s.anims.play(n);else if(typeof n=="object"){var e=s.anims,r=o(n,"key",void 0);if(r){var l=o(n,"startFrame",void 0),a=o(n,"delay",0),h=o(n,"repeat",0),f=o(n,"repeatDelay",0),u=o(n,"yoyo",!1),d=o(n,"play",!1),m=o(n,"delayedPlay",0),x={key:r,delay:a,repeat:h,repeatDelay:f,yoyo:u,startFrame:l};d?e.play(x):m>0?e.playAfterDelay(x,m):e.load(x)}}return s};c.exports=p},8050:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(73162),s=t(37277),i=t(51708),n=t(44594),e=t(19186),r=new o({Extends:p,initialize:function(a){p.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(i.ADDED_TO_SCENE,l,this.scene),this.events.emit(n.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(i.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,a){return l._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list;l.length;)l[0].destroy(!0);this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",r,"displayList"),c.exports=r},95643:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(53774),s=t(45893),i=t(50792),n=t(51708),e=t(44594),r=new o({Extends:i,initialize:function(a,h){i.call(this),this.scene=a,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(l,a){return this.data||(this.data=new s(this)),this.data.set(l,a),this},incData:function(l,a){return this.data||(this.data=new s(this)),this.data.inc(l,a),this},toggleData:function(l){return this.data||(this.data=new s(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new s(this)),this.data.get(l)},setInteractive:function(l,a,h){return this.scene.sys.input.enable(this,l,a,h),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(l){var a=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!a||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,a=this.parentContainer,h=[];a&&(h.unshift(a.getIndex(l)),l=a,a.parentContainer);)a=a.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(l)):h.unshift(this.scene.sys.displayList.getIndex(l)),h},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,c.exports=r},44603:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37277),s=t(44594),i=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});i.register=function(n,e){i.prototype.hasOwnProperty(n)||(i.prototype[n]=e)},i.remove=function(n){i.prototype.hasOwnProperty(n)&&delete i.prototype[n]},p.register("GameObjectCreator",i,"make"),c.exports=i},39429:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37277),s=t(44594),i=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});i.register=function(n,e){i.prototype.hasOwnProperty(n)||(i.prototype[n]=e)},i.remove=function(n){i.prototype.hasOwnProperty(n)&&delete i.prototype[n]},p.register("GameObjectFactory",i,"add"),c.exports=i},91296:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),p=new o,s=new o,i=new o,n={camera:p,sprite:s,calc:i},e=function(r,l,a){var h=p,f=s,u=i;return f.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(l.matrix),a?(h.multiplyWithOffset(a,-l.scrollX*r.scrollFactorX,-l.scrollY*r.scrollFactorY),f.e=r.x,f.f=r.y):(f.e-=l.scrollX*r.scrollFactorX,f.f-=l.scrollY*r.scrollFactorY),h.multiply(f,u),n};c.exports=e},45027:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(25774),s=t(37277),i=t(44594),n=new o({Extends:p,initialize:function(r){p.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(i.BOOT,this.boot,this),r.sys.events.on(i.START,this.start,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(i.PRE_UPDATE,this.update,this),e.on(i.UPDATE,this.sceneUpdate,this),e.once(i.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,r){for(var l=this._active,a=l.length,h=0;h<a;h++){var f=l[h];f.active&&f.preUpdate.call(f,e,r)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(i.PRE_UPDATE,this.update,this),r.off(i.UPDATE,this.sceneUpdate,this),r.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",n,"updateList"),c.exports=n},3217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i,n,e,r,l,a,h,f,u,d,m){var x=p.x-o.displayOriginX+i,S=p.y-o.displayOriginY+n,T=x+p.w,C=S+p.h,A=e.getXRound(x,S,r),b=e.getYRound(x,S,r),R=e.getXRound(x,C,r),F=e.getYRound(x,C,r),L=e.getXRound(T,C,r),O=e.getYRound(T,C,r),I=e.getXRound(T,S,r),B=e.getYRound(T,S,r);t.batchQuad(o,A,b,R,F,L,O,I,B,s.u0,s.v0,s.u1,s.v1,l,a,h,f,u,d,m)};c.exports=y},53048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){if(p===void 0&&(p=!1),s===void 0)return s={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},s;var i=t.text,n=i.length,e=t.maxWidth,r=t.wordWrapCharCode,l=Number.MAX_VALUE,a=Number.MAX_VALUE,h=0,f=0,u=t.fontData.chars,d=t.fontData.lineHeight,m=t.letterSpacing,x=t.lineSpacing,S=0,T=0,C=0,A=null,b=t._align,R=0,F=0,L=t.fontSize/t.fontData.size,O=L*t.scaleX,I=L*t.scaleY,B=null,U=0,H=[],J=Number.MAX_VALUE,tt=0,X=0,j=0,D,z=[],$=[],K=null;if(e>0){for(D=0;D<n;D++){if(C=i.charCodeAt(D),C===10){K!==null&&(z.push({word:K.word,i:K.i,x:K.x*O,y:K.y*I,w:K.w*O,h:K.h*I,cr:!0}),K=null),S=0,T+=d+x,B=null;continue}if(A=u[C],!!A){if(B!==null)var Z=A.kerning[U];C===r?K!==null&&(z.push({word:K.word,i:K.i,x:K.x*O,y:K.y*I,w:K.w*O,h:K.h*I,cr:!1}),K=null):(K===null&&(K={word:"",i:D,x:S,y:T,w:0,h:d,cr:!1}),K.word=K.word.concat(i[D]),K.w+=A.xOffset+A.xAdvance+(Z!==void 0?Z:0)),S+=A.xAdvance+m,B=A,U=C}}K!==null&&z.push({word:K.word,i:K.i,x:K.x*O,y:K.y*I,w:K.w*O,h:K.h*I,cr:!1}),S=0,T=0,B=null,U=0;var it,st=0,at=[];for(D=0;D<z.length;D++){var ut=z[D],vt=ut.x,xt=ut.x+ut.w;if(it){var Et=vt-(it.x+it.w);st=vt-(Et+it.w),it=null}var yt=vt-st,bt=xt-st;yt>e||bt>e?(at.push(ut.i-1),ut.cr?(at.push(ut.i+ut.word.length),st=0,it=null):it=ut):ut.cr&&(at.push(ut.i+ut.word.length),st=0,it=null)}var Dt=function(Bt,Ot,St){return Bt.substr(0,Ot)+St+Bt.substr(Ot+1)};for(D=at.length-1;D>=0;D--)i=Dt(i,at[D],`
`);s.wrappedText=i,n=i.length,z=[],K=null}var Vt=0;for(D=0;D<n;D++){if(C=i.charCodeAt(D),C===10){K!==null&&(z.push({word:K.word,i:K.i,x:K.x*O,y:K.y*I,w:K.w*O,h:K.h*I}),K=null),S=0,T+=d+x,B=null,H[X]=j,j>tt&&(tt=j),j<J&&(J=j),X++,j=0;continue}if(A=u[C],!!A){if(R=S,F=T,B!==null){var Nt=A.kerning[U];R+=Nt!==void 0?Nt:0}l>R&&(l=R),a>F&&(a=F);var Mt=R+A.xAdvance,It=F+d;h<Mt&&(h=Mt),f<It&&(f=It);var Lt=A.xOffset+A.xAdvance+(Nt!==void 0?Nt:0);C===r?K!==null&&(z.push({word:K.word,i:K.i,x:K.x*O,y:K.y*I,w:K.w*O,h:K.h*I}),K=null):(K===null&&(K={word:"",i:Vt,x:S,y:T,w:0,h:d}),K.word=K.word.concat(i[D]),K.w+=Lt),$.push({i:Vt,idx:D,char:i[D],code:C,x:(A.xOffset+R)*L,y:(A.yOffset+T)*L,w:A.width*L,h:A.height*L,t:T*L,r:Mt*L,b:d*L,line:X,glyph:A}),S+=A.xAdvance+m+(Nt!==void 0?Nt:0),B=A,U=C,j=Mt*L,Vt++}}if(K!==null&&z.push({word:K.word,i:K.i,x:K.x*O,y:K.y*I,w:K.w*O,h:K.h*I}),H[X]=j,j>tt&&(tt=j),j<J&&(J=j),b>0)for(var kt=0;kt<$.length;kt++){var qt=$[kt];if(b===1){var se=(tt-H[qt.line])/2;qt.x+=se,qt.r+=se}else if(b===2){var ie=tt-H[qt.line];qt.x+=ie,qt.r+=ie}}var oe=s.local,zt=s.global,Zt=s.lines;return oe.x=l*L,oe.y=a*L,oe.width=h*L,oe.height=f*L,zt.x=t.x-t._displayOriginX+l*O,zt.y=t.y-t._displayOriginY+a*I,zt.width=h*O,zt.height=f*I,Zt.shortest=J,Zt.longest=tt,Zt.lengths=H,o&&(oe.x=Math.ceil(oe.x),oe.y=Math.ceil(oe.y),oe.width=Math.ceil(oe.width),oe.height=Math.ceil(oe.height),zt.x=Math.ceil(zt.x),zt.y=Math.ceil(zt.y),zt.width=Math.ceil(zt.width),zt.height=Math.ceil(zt.height),Zt.shortest=Math.ceil(J),Zt.longest=Math.ceil(tt)),p&&(t._displayOriginX=t.originX*oe.width,t._displayOriginY=t.originY*oe.height,zt.x=t.x-t._displayOriginX*t.scaleX,zt.y=t.y-t._displayOriginY*t.scaleY,o&&(zt.x=Math.ceil(zt.x),zt.y=Math.ceil(zt.y))),s.words=z,s.characters=$,s.lines.height=d,s.scale=L,s.scaleX=t.scaleX,s.scaleY=t.scaleY,s};c.exports=y},61327:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21859),p=function(s,i,n,e,r,l,a){var h=s.sys.textures.get(n),f=h.get(e),u=s.sys.cache.xml.get(r);if(f&&u){var d=o(u,f,l,a,h);return s.sys.cache.bitmapFont.add(i,{data:d,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};c.exports=p},6925:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p=function(s,i){var n=i.width,e=i.height,r=Math.floor(n/2),l=Math.floor(e/2),a=o(i,"chars","");if(a!==""){var h=o(i,"image",""),f=s.sys.textures.getFrame(h),u=f.cutX,d=f.cutY,m=f.source.width,x=f.source.height,S=o(i,"offset.x",0),T=o(i,"offset.y",0),C=o(i,"spacing.x",0),A=o(i,"spacing.y",0),b=o(i,"lineSpacing",0),R=o(i,"charsPerRow",null);R===null&&(R=m/n,R>a.length&&(R=a.length));for(var F=S,L=T,O={retroFont:!0,font:h,size:n,lineHeight:e+b,chars:{}},I=0,B=0;B<a.length;B++){var U=a.charCodeAt(B),H=(u+F)/m,J=(d+L)/x,tt=(u+F+n)/m,X=(d+L+e)/x;O.chars[U]={x:F,y:L,width:n,height:e,centerX:r,centerY:l,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:H,v0:J,u1:tt,v1:X},I++,I===R?(I=0,F=S,L+=e+A):F+=n+C}var j={data:O,frame:null,texture:h};return j}};c.exports=p},21859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(o,p){return parseInt(o.getAttribute(p),10)}var t=function(o,p,s,i,n){s===void 0&&(s=0),i===void 0&&(i=0);var e=p.cutX,r=p.cutY,l=p.source.width,a=p.source.height,h=p.sourceIndex,f={},u=o.getElementsByTagName("info")[0],d=o.getElementsByTagName("common")[0];f.font=u.getAttribute("face"),f.size=y(u,"size"),f.lineHeight=y(d,"lineHeight")+i,f.chars={};var m=o.getElementsByTagName("char"),x=p!==void 0&&p.trimmed;if(x)var S=p.height,T=p.width;for(var C=0;C<m.length;C++){var A=m[C],b=y(A,"id"),R=String.fromCharCode(b),F=y(A,"x"),L=y(A,"y"),O=y(A,"width"),I=y(A,"height");x&&(F<T&&(T=F),L<S&&(S=L)),x&&S!==0&&T!==0&&(F-=p.x,L-=p.y);var B=(e+F)/l,U=(r+L)/a,H=(e+F+O)/l,J=(r+L+I)/a;if(f.chars[b]={x:F,y:L,width:O,height:I,centerX:Math.floor(O/2),centerY:Math.floor(I/2),xOffset:y(A,"xoffset"),yOffset:y(A,"yoffset"),xAdvance:y(A,"xadvance")+s,data:{},kerning:{},u0:B,v0:U,u1:H,v1:J},n&&O!==0&&I!==0){var tt=n.add(R,h,F,L,O,I);tt&&tt.setUVs(O,I,B,U,H,J)}}var X=o.getElementsByTagName("kerning");for(C=0;C<X.length;C++){var j=X[C],D=y(j,"first"),z=y(j,"second"),$=y(j,"amount");f.chars[z].kerning[D]=$}return f};c.exports=t},196:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87662),p=t(79291),s={Parse:t(6925)};s=p(!1,s,o),c.exports=s},87662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=y},2638:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),p=t(83419),s=t(12310),i=new p({Extends:o,Mixins:[s],initialize:function(e,r,l,a,h,f,u){o.call(this,e,r,l,a,h,f,u),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});c.exports=i},86741:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),p=function(s,i,n,e){var r=i._text,l=r.length,a=s.currentContext;if(!(l===0||!o(s,a,i,n,e))){n.addToRenderList(i);var h=i.fromAtlas?i.frame:i.texture.frames.__BASE,f=i.displayCallback,u=i.callbackData,d=i.fontData.chars,m=i.fontData.lineHeight,x=i._letterSpacing,S=0,T=0,C=0,A=null,b=0,R=0,F=0,L=0,O=0,I=0,B=null,U=0,H=i.frame.source.image,J=h.cutX,tt=h.cutY,X=0,j=0,D=i._fontSize/i.fontData.size,z=i._align,$=0,K=0;i.getTextBounds(!1);var Z=i._bounds.lines;z===1?K=(Z.longest-Z.lengths[0])/2:z===2&&(K=Z.longest-Z.lengths[0]),a.translate(-i.displayOriginX,-i.displayOriginY);var it=n.roundPixels;i.cropWidth>0&&i.cropHeight>0&&(a.beginPath(),a.rect(0,0,i.cropWidth,i.cropHeight),a.clip());for(var st=0;st<l;st++){if(j=D,X=0,C=r.charCodeAt(st),C===10){$++,z===1?K=(Z.longest-Z.lengths[$])/2:z===2&&(K=Z.longest-Z.lengths[$]),S=0,T+=m,B=null;continue}if(A=d[C],!!A){if(b=J+A.x,R=tt+A.y,F=A.width,L=A.height,O=A.xOffset+S-i.scrollX,I=A.yOffset+T-i.scrollY,B!==null){var at=A.kerning[U];O+=at!==void 0?at:0}if(f){u.index=st,u.charCode=C,u.x=O,u.y=I,u.scale=j,u.rotation=X,u.data=A.data;var ut=f(u);O=ut.x,I=ut.y,j=ut.scale,X=ut.rotation}O*=j,I*=j,O+=K,S+=A.xAdvance+x+(at!==void 0?at:0),B=A,U=C,!(F===0||L===0||C===32)&&(it&&(O=Math.round(O),I=Math.round(I)),a.save(),a.translate(O,I),a.rotate(X),a.scale(j,j),a.drawImage(H,b,R,F,L,0,0,F,L),a.restore())}}a.restore()}};c.exports=p},11164:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),p=t(25305),s=t(44603),i=t(23568);s.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var r=i(n,"font",""),l=i(n,"text",""),a=i(n,"size",!1),h=new o(this.scene,0,0,r,l,a);return e!==void 0&&(n.add=e),p(this.scene,h,n),h})},72566:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),p=t(39429);p.register("dynamicBitmapText",function(s,i,n,e,r){return this.displayList.add(new o(this.scene,s,i,n,e,r))})},12310:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(73482),s=t(86741),c.exports={renderWebGL:p,renderCanvas:s}},73482:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(61340),s=t(70554),i=new p,n=function(e,r,l,a){var h=r.text,f=h.length;if(f!==0){l.addToRenderList(r);var u=e.pipelines.set(r.pipeline,r),d=o(r,l,a);e.pipelines.preBatch(r);var m=d.sprite,x=d.calc,S=i,T=r.cropWidth>0||r.cropHeight>0;T&&(u.flush(),e.pushScissor(x.tx,x.ty,r.cropWidth*x.scaleX,r.cropHeight*x.scaleY));var C=r.frame,A=C.glTexture,b=r.tintFill,R=s.getTintAppendFloatAlpha(r.tintTopLeft,l.alpha*r._alphaTL),F=s.getTintAppendFloatAlpha(r.tintTopRight,l.alpha*r._alphaTR),L=s.getTintAppendFloatAlpha(r.tintBottomLeft,l.alpha*r._alphaBL),O=s.getTintAppendFloatAlpha(r.tintBottomRight,l.alpha*r._alphaBR),I=u.setGameObject(r),B=0,U=0,H=0,J=0,tt=r.letterSpacing,X,j=0,D=0,z,$=r.scrollX,K=r.scrollY,Z=r.fontData,it=Z.chars,st=Z.lineHeight,at=r.fontSize/Z.size,ut=0,vt=r._align,xt=0,Et=0,yt=r.getTextBounds(!1);r.maxWidth>0&&(h=yt.wrappedText,f=h.length);var bt=r._bounds.lines;vt===1?Et=(bt.longest-bt.lengths[0])/2:vt===2&&(Et=bt.longest-bt.lengths[0]);for(var Dt=l.roundPixels,Vt=r.displayCallback,Nt=r.callbackData,Mt=0;Mt<f;Mt++){if(H=h.charCodeAt(Mt),H===10){xt++,vt===1?Et=(bt.longest-bt.lengths[xt])/2:vt===2&&(Et=bt.longest-bt.lengths[xt]),B=0,U+=st,z=null;continue}if(X=it[H],!!X){j=X.width,D=X.height;var It=X.xOffset+B-$,Lt=X.yOffset+U-K;if(z!==null){var kt=X.kerning[J];It+=kt!==void 0?kt:0}if(B+=X.xAdvance+tt,z=X,J=H,!(j===0||D===0||H===32)){if(at=r.fontSize/r.fontData.size,ut=0,Vt){Nt.color=0,Nt.tint.topLeft=R,Nt.tint.topRight=F,Nt.tint.bottomLeft=L,Nt.tint.bottomRight=O,Nt.index=Mt,Nt.charCode=H,Nt.x=It,Nt.y=Lt,Nt.scale=at,Nt.rotation=ut,Nt.data=X.data;var qt=Vt(Nt);It=qt.x,Lt=qt.y,at=qt.scale,ut=qt.rotation,qt.color?(R=qt.color,F=qt.color,L=qt.color,O=qt.color):(R=qt.tint.topLeft,F=qt.tint.topRight,L=qt.tint.bottomLeft,O=qt.tint.bottomRight),R=s.getTintAppendFloatAlpha(R,l.alpha*r._alphaTL),F=s.getTintAppendFloatAlpha(F,l.alpha*r._alphaTR),L=s.getTintAppendFloatAlpha(L,l.alpha*r._alphaBL),O=s.getTintAppendFloatAlpha(O,l.alpha*r._alphaBR)}It*=at,Lt*=at,It-=r.displayOriginX,Lt-=r.displayOriginY,It+=Et,S.applyITRS(It,Lt,ut,at,at),x.multiply(S,m);var se=X.u0,ie=X.v0,oe=X.u1,zt=X.v1,Zt=j,Bt=D,Ot=m.e,St=m.f,At=Bt*m.c+m.e,Ft=Bt*m.d+m.f,ae=Zt*m.a+Bt*m.c+m.e,Qt=Zt*m.b+Bt*m.d+m.f,xe=Zt*m.a+m.e,ye=Zt*m.b+m.f;Dt&&(Ot=Math.round(Ot),St=Math.round(St),At=Math.round(At),Ft=Math.round(Ft),ae=Math.round(ae),Qt=Math.round(Qt),xe=Math.round(xe),ye=Math.round(ye)),u.shouldFlush(6)&&(u.flush(),I=u.setGameObject(r)),u.batchQuad(r,Ot,St,At,Ft,ae,Qt,xe,ye,se,ie,oe,zt,R,F,L,O,b,A,I)}}}T&&(u.flush(),e.popScissor()),e.pipelines.postBatch(r)}};c.exports=n},22186:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(45319),s=t(31401),i=t(95643),n=t(53048),e=t(61327),r=t(21859),l=t(87841),a=t(18658),h=new o({Extends:i,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,a],initialize:function(u,d,m,x,S,T,C){S===void 0&&(S=""),C===void 0&&(C=0),i.call(this,u,"BitmapText"),this.font=x;var A=this.scene.sys.cache.bitmapFont.get(x);A||console.warn("Invalid BitmapText key: "+x),this.fontData=A.data,this._text="",this._fontSize=T||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=C,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(d,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(S)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,u,d,m){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=.5),this.dropShadowX=f,this.dropShadowY=u,this.dropShadowColor=d,this.dropShadowAlpha=m,this},setCharacterTint:function(f,u,d,m,x,S,T){f===void 0&&(f=0),u===void 0&&(u=1),d===void 0&&(d=!1),m===void 0&&(m=-1),x===void 0&&(x=m,S=m,T=m);var C=this.text.length;u===-1&&(u=C),f<0&&(f=C+f),f=p(f,0,C-1);for(var A=p(f+u,f,C),b=this.charColors,R=f;R<A;R++){var F=b[R];if(m===-1)b[R]=null;else{var L=d?1:0;F?(F.tintEffect=L,F.tintTL=m,F.tintTR=x,F.tintBL=S,F.tintBR=T):b[R]={tintEffect:L,tintTL:m,tintTR:x,tintBL:S,tintBR:T}}}return this},setWordTint:function(f,u,d,m,x,S,T){u===void 0&&(u=1);for(var C=this.getTextBounds(),A=C.words,b=typeof f=="number",R=0,F=0;F<A.length;F++){var L=A[F];if((b&&F===f||!b&&L.word===f)&&(this.setCharacterTint(L.i,L.word.length,d,m,x,S,T),R++,R===u))return this}return this},getTextBounds:function(f){var u=this._bounds;return(this._dirty||f||this.scaleX!==u.scaleX||this.scaleY!==u.scaleY)&&(n(this,f,!0,u),this._dirty=!1),u},getCharacterAt:function(f,u,d){for(var m=this.getLocalPoint(f,u,null,d),x=this.getTextBounds(),S=x.characters,T=new l,C=0;C<S.length;C++){var A=S[C];if(T.setTo(A.x,A.t,A.r-A.x,A.b),T.contains(m.x,m.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,u,d){u===void 0&&(u=this._fontSize),d===void 0&&(d=this._align);var m=this.scene.sys.cache.bitmapFont.get(f);return m&&(this.font=f,this.fontData=m.data,this._fontSize=u,this._align=d,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),n(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,u){return this._maxWidth=f,this._dirty=!0,u!==void 0&&(this.wordWrapCharCode=u),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=s.ToJSON(this),u={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=u,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=r,c.exports=h},37289:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),p=function(s,i,n,e){var r=i._text,l=r.length,a=s.currentContext;if(!(l===0||!o(s,a,i,n,e))){n.addToRenderList(i);var h=i.fromAtlas?i.frame:i.texture.frames.__BASE,f=i.fontData.chars,u=i.fontData.lineHeight,d=i._letterSpacing,m=i._lineSpacing,x=0,S=0,T=0,C=null,A=0,b=0,R=0,F=0,L=0,O=0,I=null,B=0,U=h.source.image,H=h.cutX,J=h.cutY,tt=i._fontSize/i.fontData.size,X=i._align,j=0,D=0,z=i.getTextBounds(!1);i.maxWidth>0&&(r=z.wrappedText,l=r.length);var $=i._bounds.lines;X===1?D=($.longest-$.lengths[0])/2:X===2&&(D=$.longest-$.lengths[0]),a.translate(-i.displayOriginX,-i.displayOriginY);for(var K=n.roundPixels,Z=0;Z<l;Z++){if(T=r.charCodeAt(Z),T===10){j++,X===1?D=($.longest-$.lengths[j])/2:X===2&&(D=$.longest-$.lengths[j]),x=0,S+=u+m,I=null;continue}if(C=f[T],!!C){if(A=H+C.x,b=J+C.y,R=C.width,F=C.height,L=C.xOffset+x,O=C.yOffset+S,I!==null){var it=C.kerning[B];L+=it!==void 0?it:0}L*=tt,O*=tt,L+=D,x+=C.xAdvance+d+(it!==void 0?it:0),I=C,B=T,!(R===0||F===0||T===32)&&(K&&(L=Math.round(L),O=Math.round(O)),a.save(),a.translate(L,O),a.scale(tt,tt),a.drawImage(U,A,b,R,F,0,0,R,F),a.restore())}}a.restore()}};c.exports=p},57336:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),p=t(25305),s=t(44603),i=t(23568),n=t(35154);s.register("bitmapText",function(e,r){e===void 0&&(e={});var l=n(e,"font",""),a=i(e,"text",""),h=i(e,"size",!1),f=n(e,"align",0),u=new o(this.scene,0,0,l,a,h,f);return r!==void 0&&(e.add=r),p(this.scene,u,e),u})},34914:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),p=t(39429);p.register("bitmapText",function(s,i,n,e,r,l){return this.displayList.add(new o(this.scene,s,i,n,e,r,l))})},18658:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(33590),s=t(37289),c.exports={renderWebGL:p,renderCanvas:s}},33590:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3217),p=t(91296),s=t(70554),i=function(n,e,r,l){var a=e._text,h=a.length;if(h!==0){r.addToRenderList(e);var f=n.pipelines.set(e.pipeline,e),u=p(e,r,l).calc;n.pipelines.preBatch(e);var d=r.roundPixels,m=r.alpha,x=e.charColors,S=e.tintFill,T=s.getTintAppendFloatAlpha,C=T(e.tintTopLeft,m*e._alphaTL),A=T(e.tintTopRight,m*e._alphaTR),b=T(e.tintBottomLeft,m*e._alphaBL),R=T(e.tintBottomRight,m*e._alphaBR),F=e.frame.glTexture,L=f.setGameObject(e),O=e.getTextBounds(!1),I,B,U,H=O.characters,J=e.dropShadowX,tt=e.dropShadowY,X=J!==0||tt!==0;if(X){var j=e.dropShadowColor,D=e.dropShadowAlpha,z=T(j,m*D*e._alphaTL),$=T(j,m*D*e._alphaTR),K=T(j,m*D*e._alphaBL),Z=T(j,m*D*e._alphaBR);for(I=0;I<H.length;I++)B=H[I],U=B.glyph,!(B.code===32||U.width===0||U.height===0)&&o(f,e,B,U,J,tt,u,d,z,$,K,Z,1,F,L)}for(I=0;I<H.length;I++)if(B=H[I],U=B.glyph,!(B.code===32||U.width===0||U.height===0))if(f.shouldFlush(6)&&(f.flush(),L=f.setGameObject(e)),x[B.i]){var it=x[B.i],st=it.tintEffect,at=T(it.tintTL,m*e._alphaTL),ut=T(it.tintTR,m*e._alphaTR),vt=T(it.tintBL,m*e._alphaBL),xt=T(it.tintBR,m*e._alphaBR);o(f,e,B,U,0,0,u,d,at,ut,vt,xt,st,F,L)}else o(f,e,B,U,0,0,u,d,C,A,b,R,S,F,L);n.pipelines.postBatch(e)}};c.exports=i},6107:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48011),p=t(46590),s=t(83419),i=t(31401),n=t(4327),e=t(95643),r=t(73162),l=new s({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.PostPipeline,i.ScrollFactor,i.Size,i.Texture,i.Transform,i.Visible,o],initialize:function(h,f,u,d,m){e.call(this,h,"Blitter"),this.setTexture(d,m),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(a,h,f,u,d){u===void 0&&(u=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof n||(f=this.texture.get(f));var m=new p(this,a,h,f,u);return this.children.addAt(m,d,!1),this.dirty=!0,m},createFromCallback:function(a,h,f,u){for(var d=this.createMultiple(h,f,u),m=0;m<d.length;m++){var x=d[m];a.call(this,x,m)}return d},createMultiple:function(a,h,f){h===void 0&&(h=this.frame.name),f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);var u=[],d=this;return h.forEach(function(m){for(var x=0;x<a;x++)u.push(d.create(0,0,m,f))}),u},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=l},72396:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=o.getRenderList();if(i.length!==0){var n=t.currentContext,e=p.alpha*o.alpha;if(e!==0){p.addToRenderList(o),n.globalCompositeOperation=t.blendModes[o.blendMode],n.imageSmoothingEnabled=!o.frame.source.scaleMode;var r=o.x-p.scrollX*o.scrollFactorX,l=o.y-p.scrollY*o.scrollFactorY;n.save(),s&&s.copyToContext(n);for(var a=p.roundPixels,h=0;h<i.length;h++){var f=i[h],u=f.flipX||f.flipY,d=f.frame,m=d.canvasData,x=d.x,S=d.y,T=1,C=1,A=f.alpha*e;A!==0&&(n.globalAlpha=A,u?(f.flipX&&(T=-1,x-=m.width),f.flipY&&(C=-1,S-=m.height),m.width>0&&m.height>0&&(n.save(),n.translate(f.x+r,f.y+l),n.scale(T,C),n.drawImage(d.source.image,m.x,m.y,m.width,m.height,x,S,m.width,m.height),n.restore())):(a&&(x=Math.round(x),S=Math.round(S)),m.width>0&&m.height>0&&n.drawImage(d.source.image,m.x,m.y,m.width,m.height,x+f.x+r,S+f.y+l,m.width,m.height)))}n.restore()}}};c.exports=y},9403:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),p=t(25305),s=t(44603),i=t(23568);s.register("blitter",function(n,e){n===void 0&&(n={});var r=i(n,"key",null),l=i(n,"frame",null),a=new o(this.scene,0,0,r,l);return e!==void 0&&(n.add=e),p(this.scene,a,n),a})},12709:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),p=t(39429);p.register("blitter",function(s,i,n,e){return this.displayList.add(new o(this.scene,s,i,n,e))})},48011:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(99485),s=t(72396),c.exports={renderWebGL:p,renderCanvas:s}},99485:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),p=t(70554),s=new o,i=function(n,e,r,l){var a=e.getRenderList(),h=r.alpha*e.alpha;if(!(a.length===0||h===0)){r.addToRenderList(e);var f=n.pipelines.set(this.pipeline,e),u=r.scrollX*e.scrollFactorX,d=r.scrollY*e.scrollFactorY,m=s.copyFrom(r.matrix);l&&(m.multiplyWithOffset(l,-u,-d),u=0,d=0);var x=e.x-u,S=e.y-d,T=-1,C=!1;n.pipelines.preBatch(e);for(var A=0;A<a.length;A++){var b=a[A],R=b.frame,F=b.alpha*h;if(F!==0){var L=R.width,O=R.height,I=x+b.x+R.x,B=S+b.y+R.y;b.flipX&&(L*=-1,I+=R.width),b.flipY&&(O*=-1,B+=R.height);var U=m.setQuad(I,B,I+L,B+O),H=p.getTintAppendFloatAlpha(b.tint,F);if(R.sourceIndex!==T){var J=f.setGameObject(e,R);T=R.sourceIndex}f.batchQuad(e,U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],R.u0,R.v0,R.u1,R.v1,H,H,H,H,C,R.glTexture,J)&&(T=-1)}}n.pipelines.postBatch(e)}};c.exports=i},46590:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(4327),s=new o({initialize:function(n,e,r,l,a){this.parent=n,this.x=e,this.y=r,this.frame=l,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(i){return i===void 0?this.frame=this.parent.frame:i instanceof p&&i.texture===this.parent.texture?this.frame=i:this.frame=this.parent.texture.get(i),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(i,n,e){return this.x=i,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(i,n){return this.x=i,this.y=n,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,n){return this.flipX=i,this.flipY=n,this},setVisible:function(i){return this.visible=i,this},setAlpha:function(i){return this.alpha=i,this},setTint:function(i){return this.tint=i,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(i){this.parent.dirty|=this._visible!==i,this._visible=i}},alpha:{get:function(){return this._alpha},set:function(i){this.parent.dirty|=this._alpha>0!=i>0,this._alpha=i}}});c.exports=s},16005:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=2,s={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(i,n,e,r){return i===void 0&&(i=1),n===void 0?this.alpha=i:(this._alphaTL=o(i,0,1),this._alphaTR=o(n,0,1),this._alphaBL=o(e,0,1),this._alphaBR=o(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(i){var n=o(i,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(i){var n=o(i,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(i){var n=o(i,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(i){var n=o(i,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(i){var n=o(i,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=p)}}};c.exports=s},88509:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=2,s={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(i){return i===void 0&&(i=1),this.alpha=i,this},alpha:{get:function(){return this._alpha},set:function(i){var n=o(i,0,1);this._alpha=n,n===0?this.renderFlags&=~p:this.renderFlags|=p}}};c.exports=s},90065:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(s){typeof s=="string"&&(s=o[s]),s|=0,s>=-1&&(this._blendMode=s)}},setBlendMode:function(s){return this.blendMode=s,this}};c.exports=p},94215:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};c.exports=y},61683:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(t,o,p,s){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,o,p,s,this.flipX,this.flipY);else{var i=t;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=y},89272:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};c.exports=y},47059:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(66064),s=t(19133),i=new o({initialize:function(e,r){this.gameObject=e,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var r=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(r)||(r=[r]),e=0;e<r.length;e++){var l=r[e];if(l.controller===n){this.gameObject.removePostPipeline(l),n.destroy();break}}}else{var a=this.list;for(e=0;e<a.length;e++)a[e]===n&&(s(a,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var r=String(n.type);this.gameObject.setPostPipeline(r,e);var l=this.gameObject.getPostPipeline(r);if(l)return Array.isArray(l)&&(l=l.pop()),l.controller=n,n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,r,l,a,h){return this.add(new p.Glow(this.gameObject,n,e,r,l),{quality:a,distance:h})},addShadow:function(n,e,r,l,a,h,f){return this.add(new p.Shadow(this.gameObject,n,e,r,l,a,h,f))},addPixelate:function(n){return this.add(new p.Pixelate(this.gameObject,n))},addVignette:function(n,e,r,l){return this.add(new p.Vignette(this.gameObject,n,e,r,l))},addShine:function(n,e,r,l){return this.add(new p.Shine(this.gameObject,n,e,r,l))},addBlur:function(n,e,r,l,a,h){return this.add(new p.Blur(this.gameObject,n,e,r,l,a,h))},addGradient:function(n,e,r,l,a,h,f,u){return this.add(new p.Gradient(this.gameObject,n,e,r,l,a,h,f,u))},addBloom:function(n,e,r,l,a,h){return this.add(new p.Bloom(this.gameObject,n,e,r,l,a,h))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(n,e,r,l,a){return this.add(new p.Circle(this.gameObject,n,e,r,l,a))},addBarrel:function(n){return this.add(new p.Barrel(this.gameObject,n))},addDisplacement:function(n,e,r){return this.add(new p.Displacement(this.gameObject,n,e,r))},addWipe:function(n,e,r){return this.add(new p.Wipe(this.gameObject,n,e,r))},addReveal:function(n,e,r){return this.add(new p.Wipe(this.gameObject,n,e,r,!0))},addBokeh:function(n,e,r){return this.add(new p.Bokeh(this.gameObject,n,e,r))},addTiltShift:function(n,e,r,l,a,h){return this.add(new p.Bokeh(this.gameObject,n,e,r,!0,l,a,h))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=i},54434:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,o){return this.flipX=t,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=y},8004:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(11520),s=t(26099),i={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&p(n,this.x,this.y,this.rotation),e&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new o);var e,r,l,a,h,f,u,d;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),m.transformPoint(n.x,n.y,n),e=n.x,r=n.y,this.getTopRight(n),m.transformPoint(n.x,n.y,n),l=n.x,a=n.y,this.getBottomLeft(n),m.transformPoint(n.x,n.y,n),h=n.x,f=n.y,this.getBottomRight(n),m.transformPoint(n.x,n.y,n),u=n.x,d=n.y}else this.getTopLeft(n),e=n.x,r=n.y,this.getTopRight(n),l=n.x,a=n.y,this.getBottomLeft(n),h=n.x,f=n.y,this.getBottomRight(n),u=n.x,d=n.y;return n.x=Math.min(e,l,h,u),n.y=Math.min(r,a,f,d),n.width=Math.max(e,l,h,u)-n.x,n.height=Math.max(r,a,f,d)-n.y,n}};c.exports=i},8573:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6858),p=t(80661),s={mask:null,setMask:function(i){return this.mask=i,this},clearMask:function(i){return i===void 0&&(i=!1),i&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(i,n,e,r,l){return i===void 0&&(this.texture||this.shader||this.geom)&&(i=this),new o(this.scene,i,n,e,r,l)},createGeometryMask:function(i){return i===void 0&&(this.type==="Graphics"||this.geom)&&(i=this),new p(this.scene,i)}};c.exports=s},27387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,o){return t===void 0&&(t=.5),o===void 0&&(o=t),this.originX=t,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,o){return t===void 0&&(t=0),o===void 0&&(o=t),this.displayOriginX=t,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=y},37640:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),p=t(57355),s=t(35154),i=t(86353),n=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:i.PLAYING_FORWARD,setPath:function(r,l){l===void 0&&(l=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=r,l&&this.startFollow(l),this},setRotateToPath:function(r,l){return l===void 0&&(l=0),this.rotateToPath=r,this.pathRotationOffset=l,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,l){r===void 0&&(r={}),l===void 0&&(l=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),typeof r=="number"&&(r={duration:r}),r.from=s(r,"from",0),r.to=s(r,"to",1);var h=p(r,"positionOnPath",!1);this.rotateToPath=p(r,"rotateToPath",!1),this.pathRotationOffset=s(r,"rotationOffset",0);var f=s(r,"startAt",l);if(f&&(r.onStart=function(d){var m=d.data[0];m.progress=f,m.elapsed=m.duration*f;var x=m.ease(m.progress);m.current=m.start+(m.end-m.start)*x,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=i.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r&&r.data){var l=r.data[0],a=this.pathDelta,h=this.pathVector;if(a.copy(h).negate(),l.state===i.COMPLETE){this.path.getPoint(l.end,h),a.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(l.state!==i.PLAYING_FORWARD&&l.state!==i.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),h),a.add(h),h.add(this.pathOffset);var f=this.x,u=this.y;this.setPosition(h.x,h.y);var d=this.x-f,m=this.y-u;if(d===0&&m===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,d)+o(this.pathRotationOffset))}}};c.exports=e},72699:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(s){this.pipelineData={};var i=this.scene.sys.renderer;if(!i)return!1;var n=i.pipelines;if(n){s===void 0&&(s=n.default);var e=n.get(s);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(s,i,n){var e=this.scene.sys.renderer;if(!e)return this;var r=e.pipelines;if(r){var l=r.get(s);l&&(this.pipeline=l),i&&(this.pipelineData=n?o(i):i)}return this},setPipelineData:function(s,i){var n=this.pipelineData;return i===void 0?delete n[s]:n[s]=i,this},resetPipeline:function(s){return s===void 0&&(s=!1),this.pipeline=this.defaultPipeline,s&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};c.exports=p},17581:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),p=t(47059),s=t(19133),i={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),n&&(this.preFX=new p(this,!1))},setPostPipeline:function(n,e,r){var l=this.scene.sys.renderer;if(!l)return this;var a=l.pipelines;if(a){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var f=a.getPostPipeline(n[h],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=r?o(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var r=this.postPipelineData;return e===void 0?delete r[n]:r[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",r=this.postPipelines,l=[],a=0;a<r.length;a++){var h=r[a];(e&&h.name===n||!e&&h instanceof n)&&l.push(h)}return l.length===1?l[0]:l},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,r=0;r<e.length;r++)e[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",r=this.postPipelines,l=r.length-1;l>=0;l--){var a=r[l];(e&&a.name===n||!e&&a===n)&&(a.destroy(),s(r,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=i},80227:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,o){return o===void 0&&(o=t),this.scrollFactorX=t,this.scrollFactorY=o,this}};c.exports=y},16736:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};c.exports=y},37726:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),p=8,s={texture:null,frame:null,isCropped:!1,setTexture:function(i,n,e,r){return this.texture=this.scene.sys.textures.get(i),this.setFrame(n,e,r)},setFrame:function(i,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),i instanceof o?(this.texture=this.scene.sys.textures.get(i.texture.key),this.frame=i):this.frame=this.texture.get(i),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=s},79812:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),p=8,s={texture:null,frame:null,isCropped:!1,setCrop:function(i,n,e,r){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,n,e,r,this.flipX,this.flipY);else{var l=i;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(i,n){return this.texture=this.scene.sys.textures.get(i),this.setFrame(n)},setFrame:function(i,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),i instanceof o?(this.texture=this.scene.sys.textures.get(i.texture.key),this.frame=i):this.frame=this.texture.get(i),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=s},27472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,o,p,s){return t===void 0&&(t=16777215),o===void 0&&(o=t,p=t,s=t),this.tintTopLeft=t,this.tintTopRight=o,this.tintBottomLeft=p,this.tintBottomRight=s,this.tintFill=!1,this},setTintFill:function(t,o,p,s){return this.setTint(t,o,p,s),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};c.exports=y},53774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(o.textureKey=t.texture.key,o.frameKey=t.frame.name),o};c.exports=y},16901:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(61340),s=t(85955),i=t(86554),n=t(30954),e=t(26099),r=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,a===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,a===0?this.renderFlags&=~r:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,a===0?this.renderFlags&=~r:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return n(this._rotation*o.RAD_TO_DEG)},set:function(a){this.rotation=n(a)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=i(a)}},setPosition:function(a,h,f,u){return a===void 0&&(a=0),h===void 0&&(h=a),f===void 0&&(f=0),u===void 0&&(u=0),this.x=a,this.y=h,this.z=f,this.w=u,this},copyPosition:function(a){return a.x!==void 0&&(this.x=a.x),a.y!==void 0&&(this.y=a.y),a.z!==void 0&&(this.z=a.z),a.w!==void 0&&(this.w=a.w),this},setRandomPosition:function(a,h,f,u){return a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),this.x=a+Math.random()*f,this.y=h+Math.random()*u,this},setRotation:function(a){return a===void 0&&(a=0),this.rotation=a,this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,this},setScale:function(a,h){return a===void 0&&(a=1),h===void 0&&(h=a),this.scaleX=a,this.scaleY=h,this},setX:function(a){return a===void 0&&(a=0),this.x=a,this},setY:function(a){return a===void 0&&(a=0),this.y=a,this},setZ:function(a){return a===void 0&&(a=0),this.z=a,this},setW:function(a){return a===void 0&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return a===void 0&&(a=new p),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,h){a===void 0&&(a=new p);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(a);for(h||(h=new p),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)h.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),h.multiply(a,a),f=f.parentContainer;return a},getLocalPoint:function(a,h,f,u){f||(f=new e),u||(u=this.scene.sys.cameras.main);var d=u.scrollX,m=u.scrollY,x=a+d*this.scrollFactorX-d,S=h+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(x,S,f):s(x,S,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var a=0,h=this.parentContainer;h;)a+=h.rotation,h=h.parentContainer;return a}};c.exports=l},61340:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(36383),s=t(26099),i=new o({initialize:function(e,r,l,a,h,f){e===void 0&&(e=1),r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=1),h===void 0&&(h=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,r,l,a,h,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],r=n[1],l=n[2],a=n[3];return e||r?r>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||a?p.TAU-(a>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var r=this.matrix;return r[4]=r[0]*n+r[2]*e+r[4],r[5]=r[1]*n+r[3]*e+r[5],this},scale:function(n,e){var r=this.matrix;return r[0]*=n,r[1]*=n,r[2]*=e,r[3]*=e,this},rotate:function(n){var e=Math.sin(n),r=Math.cos(n),l=this.matrix,a=l[0],h=l[1],f=l[2],u=l[3];return l[0]=a*r+f*e,l[1]=h*r+u*e,l[2]=a*-e+f*r,l[3]=h*-e+u*r,this},multiply:function(n,e){var r=this.matrix,l=n.matrix,a=r[0],h=r[1],f=r[2],u=r[3],d=r[4],m=r[5],x=l[0],S=l[1],T=l[2],C=l[3],A=l[4],b=l[5],R=e===void 0?r:e.matrix;return R[0]=x*a+S*f,R[1]=x*h+S*u,R[2]=T*a+C*f,R[3]=T*h+C*u,R[4]=A*a+b*f+d,R[5]=A*h+b*u+m,R},multiplyWithOffset:function(n,e,r){var l=this.matrix,a=n.matrix,h=l[0],f=l[1],u=l[2],d=l[3],m=l[4],x=l[5],S=e*h+r*u+m,T=e*f+r*d+x,C=a[0],A=a[1],b=a[2],R=a[3],F=a[4],L=a[5];return l[0]=C*h+A*u,l[1]=C*f+A*d,l[2]=b*h+R*u,l[3]=b*f+R*d,l[4]=F*h+L*u+S,l[5]=F*f+L*d+T,this},transform:function(n,e,r,l,a,h){var f=this.matrix,u=f[0],d=f[1],m=f[2],x=f[3],S=f[4],T=f[5];return f[0]=n*u+e*m,f[1]=n*d+e*x,f[2]=r*u+l*m,f[3]=r*d+l*x,f[4]=a*u+h*m+S,f[5]=a*d+h*x+T,this},transformPoint:function(n,e,r){r===void 0&&(r={x:0,y:0});var l=this.matrix,a=l[0],h=l[1],f=l[2],u=l[3],d=l[4],m=l[5];return r.x=n*a+e*f+d,r.y=n*h+e*u+m,r},invert:function(){var n=this.matrix,e=n[0],r=n[1],l=n[2],a=n[3],h=n[4],f=n[5],u=e*a-r*l;return n[0]=a/u,n[1]=-r/u,n[2]=-l/u,n[3]=e/u,n[4]=(l*f-a*h)/u,n[5]=-(e*f-r*h)/u,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){return n.setTransform(this),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,r,l,a,h){var f=this.matrix;return f[0]=n,f[1]=e,f[2]=r,f[3]=l,f[4]=a,f[5]=h,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,r=e[0],l=e[1],a=e[2],h=e[3],f=r*h-l*a;if(n.translateX=e[4],n.translateY=e[5],r||l){var u=Math.sqrt(r*r+l*l);n.rotation=l>0?Math.acos(r/u):-Math.acos(r/u),n.scaleX=u,n.scaleY=f/u}else if(a||h){var d=Math.sqrt(a*a+h*h);n.rotation=Math.PI*.5-(h>0?Math.acos(-a/d):-Math.acos(a/d)),n.scaleX=f/d,n.scaleY=d}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,r,l,a){var h=this.matrix,f=Math.sin(r),u=Math.cos(r);return h[4]=n,h[5]=e,h[0]=u*l,h[1]=f*l,h[2]=-f*a,h[3]=u*a,this},applyInverse:function(n,e,r){r===void 0&&(r=new s);var l=this.matrix,a=l[0],h=l[1],f=l[2],u=l[3],d=l[4],m=l[5],x=1/(a*u+f*-h);return r.x=u*x*n+-f*x*e+(m*f-d*u)*x,r.y=a*x*e+-h*x*n+(-m*a+d*h)*x,r},setQuad:function(n,e,r,l,a,h){a===void 0&&(a=!1),h===void 0&&(h=this.quad);var f=this.matrix,u=f[0],d=f[1],m=f[2],x=f[3],S=f[4],T=f[5];return a?(h[0]=Math.round(n*u+e*m+S),h[1]=Math.round(n*d+e*x+T),h[2]=Math.round(n*u+l*m+S),h[3]=Math.round(n*d+l*x+T),h[4]=Math.round(r*u+l*m+S),h[5]=Math.round(r*d+l*x+T),h[6]=Math.round(r*u+e*m+S),h[7]=Math.round(r*d+e*x+T)):(h[0]=n*u+e*m+S,h[1]=n*d+e*x+T,h[2]=n*u+l*m+S,h[3]=n*d+l*x+T,h[4]=r*u+l*m+S,h[5]=r*d+l*x+T,h[6]=r*u+e*m+S,h[7]=r*d+e*x+T),h},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,r){var l=this.getX(n,e);return r&&(l=Math.round(l)),l},getYRound:function(n,e,r){var l=this.getY(n,e);return r&&(l=Math.round(l)),l},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=i},59715:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(o){return this.visible=o,this}};c.exports=t},31401:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),p=t(10312),s=t(83419),i=t(31401),n=t(51708),e=t(95643),r=t(87841),l=t(29959),a=t(36899),h=t(26099),f=new s({Extends:e,Mixins:[i.AlphaSingle,i.BlendMode,i.ComputedSize,i.Depth,i.Mask,i.PostPipeline,i.Transform,i.Visible,l],initialize:function(d,m,x,S){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new i.TransformMatrix,this.tempTransformMatrix=new i.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,x),this.setBlendMode(p.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(u){return u===void 0&&(u=!0),this.exclusive=u,this},getBounds:function(u){if(u===void 0&&(u=new r),u.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),m=d.transformPoint(this.x,this.y);u.setTo(m.x,m.y,0,0)}if(this.list.length>0){var x=this.list,S=new r,T=!1;u.setEmpty();for(var C=0;C<x.length;C++){var A=x[C];A.getBounds&&(A.getBounds(S),T?a(S,u,u):(u.setTo(S.x,S.y,S.width,S.height),T=!0))}}return u},addHandler:function(u){u.once(n.DESTROY,this.onChildDestroyed,this),this.exclusive&&(u.parentContainer&&u.parentContainer.remove(u),u.parentContainer=this,u.removeFromDisplayList(),u.addedToScene())},removeHandler:function(u){u.off(n.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer=null,u.removedFromScene(),u.addToDisplayList())},pointToContainer:function(u,d){d===void 0&&(d=new h),this.parentContainer?this.parentContainer.pointToContainer(u,d):(d.x=u.x,d.y=u.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(u.x,u.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(u){return o.Add(this.list,u,this.maxSize,this.addHandler,this),this},addAt:function(u,d){return o.AddAt(this.list,u,d,this.maxSize,this.addHandler,this),this},getAt:function(u){return this.list[u]},getIndex:function(u){return this.list.indexOf(u)},sort:function(u,d){return u?(d===void 0&&(d=function(m,x){return m[u]-x[u]}),o.StableSort(this.list,d),this):this},getByName:function(u){return o.GetFirst(this.list,"name",u)},getRandom:function(u,d){return o.GetRandom(this.list,u,d)},getFirst:function(u,d,m,x){return o.GetFirst(this.list,u,d,m,x)},getAll:function(u,d,m,x){return o.GetAll(this.list,u,d,m,x)},count:function(u,d,m,x){return o.CountAllMatching(this.list,u,d,m,x)},swap:function(u,d){return o.Swap(this.list,u,d),this},moveTo:function(u,d){return o.MoveTo(this.list,u,d),this},moveAbove:function(u,d){return o.MoveAbove(this.list,u,d),this},moveBelow:function(u,d){return o.MoveBelow(this.list,u,d),this},remove:function(u,d){var m=o.Remove(this.list,u,this.removeHandler,this);if(d&&m){Array.isArray(m)||(m=[m]);for(var x=0;x<m.length;x++)m[x].destroy()}return this},removeAt:function(u,d){var m=o.RemoveAt(this.list,u,this.removeHandler,this);return d&&m&&m.destroy(),this},removeBetween:function(u,d,m){var x=o.RemoveBetween(this.list,u,d,this.removeHandler,this);if(m)for(var S=0;S<x.length;S++)x[S].destroy();return this},removeAll:function(u){var d=this.list;if(u){for(var m=0;m<d.length;m++)d[m]&&d[m].scene&&(d[m].off(n.DESTROY,this.onChildDestroyed,this),d[m].destroy());this.list=[]}else o.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(u){return o.BringToTop(this.list,u),this},sendToBack:function(u){return o.SendToBack(this.list,u),this},moveUp:function(u){return o.MoveUp(this.list,u),this},moveDown:function(u){return o.MoveDown(this.list,u),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(u,d,m){var x=o.Replace(this.list,u,d);return x&&(this.addHandler(d),this.removeHandler(u),m&&u.destroy()),this},exists:function(u){return this.list.indexOf(u)>-1},setAll:function(u,d,m,x){return o.SetAll(this.list,u,d,m,x),this},each:function(u,d){var m=[null],x,S=this.list.slice(),T=S.length;for(x=2;x<arguments.length;x++)m.push(arguments[x]);for(x=0;x<T;x++)m[0]=S[x],u.apply(d,m);return this},iterate:function(u,d){var m=[null],x;for(x=2;x<arguments.length;x++)m.push(arguments[x]);for(x=0;x<this.list.length;x++)m[0]=this.list[x],u.apply(d,m);return this},setScrollFactor:function(u,d,m){return d===void 0&&(d=u),m===void 0&&(m=!1),this.scrollFactorX=u,this.scrollFactorY=d,m&&(o.SetAll(this.list,"scrollFactorX",u),o.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(u){o.Remove(this.list,u),this.exclusive&&(u.parentContainer=null,u.removedFromScene())}});c.exports=f},53584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p.addToRenderList(o);var i=o.list;if(i.length!==0){var n=o.localTransform;s?(n.loadIdentity(),n.multiply(s),n.translate(o.x,o.y),n.rotate(o.rotation),n.scale(o.scaleX,o.scaleY)):n.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var e=o.blendMode!==-1;e||t.setBlendMode(0);var r=o._alpha,l=o.scrollFactorX,a=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(t,null,p);for(var h=0;h<i.length;h++){var f=i[h];if(f.willRender(p)){var u=f.alpha,d=f.scrollFactorX,m=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*l,m*a),f.setAlpha(u*r),f.renderCanvas(t,f,p,n),f.setAlpha(u),f.setScrollFactor(d,m)}}o.mask&&o.mask.postRenderCanvas(t)}};c.exports=y},77143:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(31559),s=t(44603),i=t(23568),n=t(95540);s.register("container",function(e,r){e===void 0&&(e={});var l=i(e,"x",0),a=i(e,"y",0),h=n(e,"children",null),f=new p(this.scene,l,a,h);return r!==void 0&&(e.add=r),o(this.scene,f,e),f})},24961:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31559),p=t(39429);p.register("container",function(s,i,n){return this.displayList.add(new o(this.scene,s,i,n))})},29959:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(72249),s=t(53584),c.exports={renderWebGL:p,renderCanvas:s}},72249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p.addToRenderList(o);var i=o.list,n=i.length;if(n!==0){var e=o.localTransform;s?(e.loadIdentity(),e.multiply(s),e.translate(o.x,o.y),e.rotate(o.rotation),e.scale(o.scaleX,o.scaleY)):e.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),t.pipelines.preBatch(o);var r=o.blendMode!==-1;r||t.setBlendMode(0);for(var l=o.alpha,a=o.scrollFactorX,h=o.scrollFactorY,f=0;f<n;f++){var u=i[f];if(u.willRender(p)){var d,m,x,S;if(u.alphaTopLeft!==void 0)d=u.alphaTopLeft,m=u.alphaTopRight,x=u.alphaBottomLeft,S=u.alphaBottomRight;else{var T=u.alpha;d=T,m=T,x=T,S=T}var C=u.scrollFactorX,A=u.scrollFactorY;!r&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var b=u.mask;b&&b.preRenderWebGL(t,u,p);var R=u.type;R!==t.currentType&&(t.newType=!0,t.currentType=R),t.nextTypeMatch=f<n-1?i[f+1].type===t.currentType:!1,u.setScrollFactor(C*a,A*h),u.setAlpha(d*l,m*l,x*l,S*l),u.renderWebGL(t,u,p,e,o),u.setAlpha(d,m,x,S),u.setScrollFactor(C,A),b&&b.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(o)}};c.exports=y},47407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(441),i=t(95643),n=t(41212),e=t(35846),r=t(44594),l=t(61369),a=new o({Extends:i,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,s],initialize:function(f,u,d,m,x,S){i.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(u,d),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),x,S):this.createElement(m,x,S):m&&this.setElement(m,x,S),f.sys.events.on(r.SLEEP,this.handleSceneEvent,this),f.sys.events.on(r.WAKE,this.handleSceneEvent,this),f.sys.events.on(r.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var f=this.node,u=f.style;f&&(u.display=h.settings.visible?"block":"none")},setSkew:function(h,f){return h===void 0&&(h=0),f===void 0&&(f=h),this.skewX=h,this.skewY=f,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.addEventListener(h[f],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.removeEventListener(h[f],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,f,u){return this.setElement(document.createElement(h),f,u)},setElement:function(h,f,u){this.removeElement();var d;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),d=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(d=h),!d)return this;if(this.node=d,f&&n(f))for(var m in f)d.style[m]=f[m];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),u&&(d.innerText=u),this.updateSize()},createFromCache:function(h,f){var u=this.cache.get(h);return u&&this.createFromHTML(u,f),this},createFromHTML:function(h,f){f===void 0&&(f="div"),this.removeElement();var u=document.createElement(f);return this.node=u,u.style.zIndex="0",u.style.display="inline",u.style.position="absolute",u.phaser=this,this.parent&&this.parent.appendChild(u),u.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node,f=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(h,f){if(this.node){for(var u=this.node.querySelectorAll("*"),d=0;d<u.length;d++)if(u[d][h]===f)return u[d]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,f=this.node;f&&h&&!h.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(r.PRE_RENDER,this.preRender,this)}});c.exports=a},49381:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(47407),p=t(95643),s=t(61340),i=new s,n=new s,e=new s,r=function(l,a,h,f){if(a.node){var u=a.node.style,d=a.scene.sys.settings;if(!u||!d.visible||p.RENDER_MASK!==a.renderFlags||a.cameraFilter!==0&&a.cameraFilter&h.id||a.parentContainer&&!a.parentContainer.willRender()){u.display="none";return}var m=a.parentContainer,x=h.alpha*a.alpha;m&&(x*=m.alpha);var S=i,T=n,C=e,A=0,b=0,R="0%",F="0%";f?(A=a.width*a.scaleX*a.originX,b=a.height*a.scaleY*a.originY,T.applyITRS(a.x-A,a.y-b,a.rotation,a.scaleX,a.scaleY),S.copyFrom(h.matrix),S.multiplyWithOffset(f,-h.scrollX*a.scrollFactorX,-h.scrollY*a.scrollFactorY),T.e=a.x-A,T.f=a.y-b,S.multiply(T,C)):(A=a.width*a.originX,b=a.height*a.originY,T.applyITRS(a.x-A,a.y-b,a.rotation,a.scaleX,a.scaleY),S.copyFrom(h.matrix),R=100*a.originX+"%",F=100*a.originY+"%",T.e-=h.scrollX*a.scrollFactorX,T.f-=h.scrollY*a.scrollFactorY,S.multiply(T,C)),a.transformOnly||(u.display="block",u.opacity=x,u.zIndex=a._depth,u.pointerEvents=a.pointerEvents,u.mixBlendMode=o[a._blendMode]),u.transform=C.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",u.transformOrigin=R+" "+F}};c.exports=r},2611:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3069),p=t(39429);p.register("dom",function(s,i,n,e,r){var l=new o(this.scene,s,i,n,e,r);return this.displayList.add(l),l})},441:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(49381),s=t(49381),c.exports={renderWebGL:p,renderCanvas:s}},62980:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},41337:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},44947:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},49358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},35163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},97249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},19483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="locked"},56059:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},26772:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="metadata"},64437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="playing"},83411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},75780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},67799:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},63500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stalled"},55541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},53208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="textureready"},4992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},12:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unsupported"},51708:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(95643),i=t(64993),n=new o({Extends:s,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,i],initialize:function(r){s.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=n},70217:()=>{},56315:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42421),p=t(39429);p.register("extern",function(){var s=new o(this.scene);return this.displayList.add(s),s})},64993:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(80287),s=t(70217),c.exports={renderWebGL:p,renderCanvas:s}},80287:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(s,i,n,e){s.pipelines.clear();var r=o(i,n,e).calc;i.render.call(i,s,n,r),s.pipelines.rebind()};c.exports=p},85592:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),p=t(83419),s=t(85592),i=t(31401),n=t(8497),e=t(95643),r=t(95540),l=t(35154),a=t(36383),h=t(84503),f=new p({Extends:e,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.PostPipeline,i.Transform,i.Visible,i.ScrollFactor,h],initialize:function(d,m){var x=l(m,"x",0),S=l(m,"y",0);e.call(this,d,"Graphics"),this.setPosition(x,S),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(u){return l(u,"lineStyle",null)&&(this.defaultStrokeWidth=l(u,"lineStyle.width",1),this.defaultStrokeColor=l(u,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(u,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(u,"fillStyle",null)&&(this.defaultFillColor=l(u,"fillStyle.color",16777215),this.defaultFillAlpha=l(u,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(u,d,m){return m===void 0&&(m=1),this.commandBuffer.push(s.LINE_STYLE,u,d,m),this._lineWidth=u,this},fillStyle:function(u,d){return d===void 0&&(d=1),this.commandBuffer.push(s.FILL_STYLE,u,d),this},fillGradientStyle:function(u,d,m,x,S,T,C,A){return S===void 0&&(S=1),T===void 0&&(T=S),C===void 0&&(C=S),A===void 0&&(A=S),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,S,T,C,A,u,d,m,x),this},lineGradientStyle:function(u,d,m,x,S,T){return T===void 0&&(T=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,u,T,d,m,x,S),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(u){return this.fillCircle(u.x,u.y,u.radius)},strokeCircleShape:function(u){return this.strokeCircle(u.x,u.y,u.radius)},fillCircle:function(u,d,m){return this.beginPath(),this.arc(u,d,m,0,a.PI2),this.fillPath(),this},strokeCircle:function(u,d,m){return this.beginPath(),this.arc(u,d,m,0,a.PI2),this.strokePath(),this},fillRectShape:function(u){return this.fillRect(u.x,u.y,u.width,u.height)},strokeRectShape:function(u){return this.strokeRect(u.x,u.y,u.width,u.height)},fillRect:function(u,d,m,x){return this.commandBuffer.push(s.FILL_RECT,u,d,m,x),this},strokeRect:function(u,d,m,x){var S=this._lineWidth/2,T=u-S,C=u+S;return this.beginPath(),this.moveTo(u,d),this.lineTo(u,d+x),this.strokePath(),this.beginPath(),this.moveTo(u+m,d),this.lineTo(u+m,d+x),this.strokePath(),this.beginPath(),this.moveTo(T,d),this.lineTo(C+m,d),this.strokePath(),this.beginPath(),this.moveTo(T,d+x),this.lineTo(C+m,d+x),this.strokePath(),this},fillRoundedRect:function(u,d,m,x,S){S===void 0&&(S=20);var T=S,C=S,A=S,b=S;typeof S!="number"&&(T=r(S,"tl",20),C=r(S,"tr",20),A=r(S,"bl",20),b=r(S,"br",20));var R=T>=0,F=C>=0,L=A>=0,O=b>=0;return T=Math.abs(T),C=Math.abs(C),A=Math.abs(A),b=Math.abs(b),this.beginPath(),this.moveTo(u+T,d),this.lineTo(u+m-C,d),F?this.arc(u+m-C,d+C,C,-a.TAU,0):this.arc(u+m,d,C,Math.PI,a.TAU,!0),this.lineTo(u+m,d+x-b),O?this.arc(u+m-b,d+x-b,b,0,a.TAU):this.arc(u+m,d+x,b,-a.TAU,Math.PI,!0),this.lineTo(u+A,d+x),L?this.arc(u+A,d+x-A,A,a.TAU,Math.PI):this.arc(u,d+x,A,0,-a.TAU,!0),this.lineTo(u,d+T),R?this.arc(u+T,d+T,T,-Math.PI,-a.TAU):this.arc(u,d,T,a.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(u,d,m,x,S){S===void 0&&(S=20);var T=S,C=S,A=S,b=S,R=Math.min(m,x)/2;typeof S!="number"&&(T=r(S,"tl",20),C=r(S,"tr",20),A=r(S,"bl",20),b=r(S,"br",20));var F=T>=0,L=C>=0,O=A>=0,I=b>=0;return T=Math.min(Math.abs(T),R),C=Math.min(Math.abs(C),R),A=Math.min(Math.abs(A),R),b=Math.min(Math.abs(b),R),this.beginPath(),this.moveTo(u+T,d),this.lineTo(u+m-C,d),this.moveTo(u+m-C,d),L?this.arc(u+m-C,d+C,C,-a.TAU,0):this.arc(u+m,d,C,Math.PI,a.TAU,!0),this.lineTo(u+m,d+x-b),this.moveTo(u+m,d+x-b),I?this.arc(u+m-b,d+x-b,b,0,a.TAU):this.arc(u+m,d+x,b,-a.TAU,Math.PI,!0),this.lineTo(u+A,d+x),this.moveTo(u+A,d+x),O?this.arc(u+A,d+x-A,A,a.TAU,Math.PI):this.arc(u,d+x,A,0,-a.TAU,!0),this.lineTo(u,d+T),this.moveTo(u,d+T),F?this.arc(u+T,d+T,T,-Math.PI,-a.TAU):this.arc(u,d,T,a.TAU,0,!0),this.strokePath(),this},fillPointShape:function(u,d){return this.fillPoint(u.x,u.y,d)},fillPoint:function(u,d,m){return!m||m<1?m=1:(u-=m/2,d-=m/2),this.commandBuffer.push(s.FILL_RECT,u,d,m,m),this},fillTriangleShape:function(u){return this.fillTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},strokeTriangleShape:function(u){return this.strokeTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},fillTriangle:function(u,d,m,x,S,T){return this.commandBuffer.push(s.FILL_TRIANGLE,u,d,m,x,S,T),this},strokeTriangle:function(u,d,m,x,S,T){return this.commandBuffer.push(s.STROKE_TRIANGLE,u,d,m,x,S,T),this},strokeLineShape:function(u){return this.lineBetween(u.x1,u.y1,u.x2,u.y2)},lineBetween:function(u,d,m,x){return this.beginPath(),this.moveTo(u,d),this.lineTo(m,x),this.strokePath(),this},lineTo:function(u,d){return this.commandBuffer.push(s.LINE_TO,u,d),this},moveTo:function(u,d){return this.commandBuffer.push(s.MOVE_TO,u,d),this},strokePoints:function(u,d,m,x){d===void 0&&(d=!1),m===void 0&&(m=!1),x===void 0&&(x=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var S=1;S<x;S++)this.lineTo(u[S].x,u[S].y);return d&&this.lineTo(u[0].x,u[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(u,d,m,x){d===void 0&&(d=!1),m===void 0&&(m=!1),x===void 0&&(x=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var S=1;S<x;S++)this.lineTo(u[S].x,u[S].y);return d&&this.lineTo(u[0].x,u[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(u,d){d===void 0&&(d=32);var m=u.getPoints(d);return this.strokePoints(m,!0)},strokeEllipse:function(u,d,m,x,S){S===void 0&&(S=32);var T=new n(u,d,m,x),C=T.getPoints(S);return this.strokePoints(C,!0)},fillEllipseShape:function(u,d){d===void 0&&(d=32);var m=u.getPoints(d);return this.fillPoints(m,!0)},fillEllipse:function(u,d,m,x,S){S===void 0&&(S=32);var T=new n(u,d,m,x),C=T.getPoints(S);return this.fillPoints(C,!0)},arc:function(u,d,m,x,S,T,C){return T===void 0&&(T=!1),C===void 0&&(C=0),this.commandBuffer.push(s.ARC,u,d,m,x,S,T,C),this},slice:function(u,d,m,x,S,T,C){return T===void 0&&(T=!1),C===void 0&&(C=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,u,d),this.commandBuffer.push(s.ARC,u,d,m,x,S,T,C),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(u,d){return this.commandBuffer.push(s.TRANSLATE,u,d),this},scaleCanvas:function(u,d){return this.commandBuffer.push(s.SCALE,u,d),this},rotateCanvas:function(u){return this.commandBuffer.push(s.ROTATE,u),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(u,d,m){var x=this.scene.sys,S=x.game.renderer;d===void 0&&(d=x.scale.width),m===void 0&&(m=x.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,m),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var T,C,A={willReadFrequently:!0};if(typeof u=="string")if(x.textures.exists(u)){T=x.textures.get(u);var b=T.getSourceImage();b instanceof HTMLCanvasElement&&(C=b.getContext("2d",A))}else T=x.textures.createCanvas(u,d,m),C=T.getSourceImage().getContext("2d",A);else u instanceof HTMLCanvasElement&&(C=u.getContext("2d",A));return C&&(this.renderCanvas(S,this,f.TargetCamera,null,C,!1),T&&T.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new o,c.exports=f},32768:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),p=t(20926),s=function(i,n,e,r,l,a){var h=n.commandBuffer,f=h.length,u=l||i.currentContext;if(!(f===0||!p(i,u,n,e,r))){e.addToRenderList(n);var d=1,m=1,x=0,S=0,T=1,C=0,A=0,b=0;u.beginPath();for(var R=0;R<f;++R){var F=h[R];switch(F){case o.ARC:u.arc(h[R+1],h[R+2],h[R+3],h[R+4],h[R+5],h[R+6]),R+=7;break;case o.LINE_STYLE:T=h[R+1],x=h[R+2],d=h[R+3],C=(x&16711680)>>>16,A=(x&65280)>>>8,b=x&255,u.strokeStyle="rgba("+C+","+A+","+b+","+d+")",u.lineWidth=T,R+=3;break;case o.FILL_STYLE:S=h[R+1],m=h[R+2],C=(S&16711680)>>>16,A=(S&65280)>>>8,b=S&255,u.fillStyle="rgba("+C+","+A+","+b+","+m+")",R+=2;break;case o.BEGIN_PATH:u.beginPath();break;case o.CLOSE_PATH:u.closePath();break;case o.FILL_PATH:a||u.fill();break;case o.STROKE_PATH:a||u.stroke();break;case o.FILL_RECT:a?u.rect(h[R+1],h[R+2],h[R+3],h[R+4]):u.fillRect(h[R+1],h[R+2],h[R+3],h[R+4]),R+=4;break;case o.FILL_TRIANGLE:u.beginPath(),u.moveTo(h[R+1],h[R+2]),u.lineTo(h[R+3],h[R+4]),u.lineTo(h[R+5],h[R+6]),u.closePath(),a||u.fill(),R+=6;break;case o.STROKE_TRIANGLE:u.beginPath(),u.moveTo(h[R+1],h[R+2]),u.lineTo(h[R+3],h[R+4]),u.lineTo(h[R+5],h[R+6]),u.closePath(),a||u.stroke(),R+=6;break;case o.LINE_TO:u.lineTo(h[R+1],h[R+2]),R+=2;break;case o.MOVE_TO:u.moveTo(h[R+1],h[R+2]),R+=2;break;case o.LINE_FX_TO:u.lineTo(h[R+1],h[R+2]),R+=5;break;case o.MOVE_FX_TO:u.moveTo(h[R+1],h[R+2]),R+=5;break;case o.SAVE:u.save();break;case o.RESTORE:u.restore();break;case o.TRANSLATE:u.translate(h[R+1],h[R+2]),R+=2;break;case o.SCALE:u.scale(h[R+1],h[R+2]),R+=2;break;case o.ROTATE:u.rotate(h[R+1]),R+=1;break;case o.GRADIENT_FILL_STYLE:R+=5;break;case o.GRADIENT_LINE_STYLE:R+=6;break}}u.restore()}};c.exports=s},87079:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),p=t(43831);o.register("graphics",function(s,i){s===void 0&&(s={}),i!==void 0&&(s.add=i);var n=new p(this.scene,s);return s.add&&this.scene.sys.displayList.add(n),n})},1201:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43831),p=t(39429);p.register("graphics",function(s){return this.displayList.add(new o(this.scene,s))})},84503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(77545),s=t(32768),s=t(32768),c.exports={renderWebGL:p,renderCanvas:s}},77545:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),p=t(91296),s=t(61340),i=t(70554),n=function(h,f,u){this.x=h,this.y=f,this.width=u},e=function(h,f,u){this.points=[],this.pointsLength=1,this.points[0]=new n(h,f,u)},r=[],l=new s,a=function(h,f,u,d){if(f.commandBuffer.length!==0){u.addToRenderList(f);var m=h.pipelines.set(f.pipeline,f);h.pipelines.preBatch(f);for(var x=p(f,u,d).calc,S=l.loadIdentity(),T=f.commandBuffer,C=u.alpha*f.alpha,A=1,b=m.fillTint,R=m.strokeTint,F=0,L=0,O=0,I=.01,B=Math.PI*2,U,H=[],J=0,tt=!0,X=null,j=i.getTintAppendFloatAlpha,D=0;D<T.length;D++)switch(U=T[D],U){case o.BEGIN_PATH:{H.length=0,X=null,tt=!0;break}case o.CLOSE_PATH:{tt=!1,X&&X.points.length&&X.points.push(X.points[0]);break}case o.FILL_PATH:{for(J=0;J<H.length;J++)m.batchFillPath(H[J].points,S,x);break}case o.STROKE_PATH:{for(J=0;J<H.length;J++)m.batchStrokePath(H[J].points,A,tt,S,x);break}case o.LINE_STYLE:{A=T[++D];var z=T[++D],$=T[++D]*C,K=j(z,$);R.TL=K,R.TR=K,R.BL=K,R.BR=K;break}case o.FILL_STYLE:{var Z=T[++D],it=T[++D]*C,st=j(Z,it);b.TL=st,b.TR=st,b.BL=st,b.BR=st;break}case o.GRADIENT_FILL_STYLE:{var at=T[++D]*C,ut=T[++D]*C,vt=T[++D]*C,xt=T[++D]*C;b.TL=j(T[++D],at),b.TR=j(T[++D],ut),b.BL=j(T[++D],vt),b.BR=j(T[++D],xt);break}case o.GRADIENT_LINE_STYLE:{A=T[++D];var Et=T[++D]*C;R.TL=j(T[++D],Et),R.TR=j(T[++D],Et),R.BL=j(T[++D],Et),R.BR=j(T[++D],Et);break}case o.ARC:{var yt=0,bt=T[++D],Dt=T[++D],Vt=T[++D],Nt=T[++D],Mt=T[++D],It=T[++D],Lt=T[++D];for(Mt-=Nt,It?Mt<-B?Mt=-B:Mt>0&&(Mt=-B+Mt%B):Mt>B?Mt=B:Mt<0&&(Mt=B+Mt%B),X===null&&(X=new e(bt+Math.cos(Nt)*Vt,Dt+Math.sin(Nt)*Vt,A),H.push(X),yt+=I);yt<1+Lt;)O=Mt*yt+Nt,F=bt+Math.cos(O)*Vt,L=Dt+Math.sin(O)*Vt,X.points.push(new n(F,L,A)),yt+=I;O=Mt+Nt,F=bt+Math.cos(O)*Vt,L=Dt+Math.sin(O)*Vt,X.points.push(new n(F,L,A));break}case o.FILL_RECT:{m.batchFillRect(T[++D],T[++D],T[++D],T[++D],S,x);break}case o.FILL_TRIANGLE:{m.batchFillTriangle(T[++D],T[++D],T[++D],T[++D],T[++D],T[++D],S,x);break}case o.STROKE_TRIANGLE:{m.batchStrokeTriangle(T[++D],T[++D],T[++D],T[++D],T[++D],T[++D],A,S,x);break}case o.LINE_TO:{X!==null?X.points.push(new n(T[++D],T[++D],A)):(X=new e(T[++D],T[++D],A),H.push(X));break}case o.MOVE_TO:{X=new e(T[++D],T[++D],A),H.push(X);break}case o.SAVE:{r.push(S.copyToArray());break}case o.RESTORE:{S.copyFromArray(r.pop());break}case o.TRANSLATE:{bt=T[++D],Dt=T[++D],S.translate(bt,Dt);break}case o.SCALE:{bt=T[++D],Dt=T[++D],S.scale(bt,Dt);break}case o.ROTATE:{S.rotate(T[++D]);break}}h.pipelines.postBatch(f)}};c.exports=a},26479:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61061),p=t(83419),s=t(51708),i=t(50792),n=t(46710),e=t(95540),r=t(35154),l=t(97022),a=t(41212),h=t(88492),f=t(35072),u=t(68287),d=new p({Extends:i,initialize:function(x,S,T){i.call(this),T?S&&!Array.isArray(S)&&(S=[S]):Array.isArray(S)?a(S[0])&&(T=S,S=null):a(S)&&(T=S,S=null),this.scene=x,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(T,"classType",u),this.name=e(T,"name",""),this.active=e(T,"active",!0),this.maxSize=e(T,"maxSize",-1),this.defaultKey=e(T,"defaultKey",null),this.defaultFrame=e(T,"defaultFrame",null),this.runChildUpdate=e(T,"runChildUpdate",!1),this.createCallback=e(T,"createCallback",null),this.removeCallback=e(T,"removeCallback",null),this.createMultipleCallback=e(T,"createMultipleCallback",null),this.internalCreateCallback=e(T,"internalCreateCallback",null),this.internalRemoveCallback=e(T,"internalRemoveCallback",null),S&&this.addMultiple(S),T&&this.createMultiple(T),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,x,S,T,C,A){if(m===void 0&&(m=0),x===void 0&&(x=0),S===void 0&&(S=this.defaultKey),T===void 0&&(T=this.defaultFrame),C===void 0&&(C=!0),A===void 0&&(A=!0),this.isFull())return null;var b=new this.classType(this.scene,m,x,S,T);return b.addToDisplayList(this.scene.sys.displayList),b.addToUpdateList(),b.visible=C,b.setActive(A),this.add(b),b},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var x=[];if(m[0].key)for(var S=0;S<m.length;S++){var T=this.createFromConfig(m[S]);x=x.concat(T)}return x},createFromConfig:function(m){if(this.isFull())return[];this.classType=e(m,"classType",this.classType);var x=e(m,"key",void 0),S=e(m,"frame",null),T=e(m,"visible",!0),C=e(m,"active",!0),A=[];if(x===void 0)return A;Array.isArray(x)||(x=[x]),Array.isArray(S)||(S=[S]);var b=e(m,"repeat",0),R=e(m,"randomKey",!1),F=e(m,"randomFrame",!1),L=e(m,"yoyo",!1),O=e(m,"quantity",!1),I=e(m,"frameQuantity",1),B=e(m,"max",0),U=h(x,S,{max:B,qty:O||I,random:R,randomB:F,repeat:b,yoyo:L});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var H=0;H<U.length;H++){var J=this.create(0,0,U[H].a,U[H].b,T,C);if(!J)break;A.push(J)}if(l(m,"setXY")){var tt=r(m,"setXY.x",0),X=r(m,"setXY.y",0),j=r(m,"setXY.stepX",0),D=r(m,"setXY.stepY",0);o.SetXY(A,tt,X,j,D)}if(l(m,"setRotation")){var z=r(m,"setRotation.value",0),$=r(m,"setRotation.step",0);o.SetRotation(A,z,$)}if(l(m,"setScale")){var K=r(m,"setScale.x",1),Z=r(m,"setScale.y",K),it=r(m,"setScale.stepX",0),st=r(m,"setScale.stepY",0);o.SetScale(A,K,Z,it,st)}if(l(m,"setOrigin")){var at=r(m,"setOrigin.x",.5),ut=r(m,"setOrigin.y",at),vt=r(m,"setOrigin.stepX",0),xt=r(m,"setOrigin.stepY",0);o.SetOrigin(A,at,ut,vt,xt)}if(l(m,"setAlpha")){var Et=r(m,"setAlpha.value",1),yt=r(m,"setAlpha.step",0);o.SetAlpha(A,Et,yt)}if(l(m,"setDepth")){var bt=r(m,"setDepth.value",0),Dt=r(m,"setDepth.step",0);o.SetDepth(A,bt,Dt)}if(l(m,"setScrollFactor")){var Vt=r(m,"setScrollFactor.x",1),Nt=r(m,"setScrollFactor.y",Vt),Mt=r(m,"setScrollFactor.stepX",0),It=r(m,"setScrollFactor.stepY",0);o.SetScrollFactor(A,Vt,Nt,Mt,It)}var Lt=e(m,"hitArea",null),kt=e(m,"hitAreaCallback",null);Lt&&o.SetHitArea(A,Lt,kt);var qt=e(m,"gridAlign",!1);return qt&&o.GridAlign(A,qt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(m,x){if(!(!this.runChildUpdate||this.children.size===0))for(var S=this.children.entries.slice(),T=0;T<S.length;T++){var C=S[T];C.active&&C.update(m,x)}},add:function(m,x){return x===void 0&&(x=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),x&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(s.DESTROY,this.remove,this),this)},addMultiple:function(m,x){if(x===void 0&&(x=!1),Array.isArray(m))for(var S=0;S<m.length;S++)this.add(m[S],x);return this},remove:function(m,x,S){return x===void 0&&(x=!1),S===void 0&&(S=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(s.DESTROY,this.remove,this),S?m.destroy():x&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,x){m===void 0&&(m=!1),x===void 0&&(x=!1);for(var S=this.children,T=0;T<S.size;T++){var C=S.entries[T];C.off(s.DESTROY,this.remove,this),x?C.destroy():m&&(C.removeFromDisplayList(),C.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,x,S,T){return n(this.children.entries,m,x,S,T)},getFirst:function(m,x,S,T,C,A,b){return this.getHandler(!0,1,m,x,S,T,C,A,b)},getFirstNth:function(m,x,S,T,C,A,b,R){return this.getHandler(!0,m,x,S,T,C,A,b,R)},getLast:function(m,x,S,T,C,A,b){return this.getHandler(!1,1,m,x,S,T,C,A,b)},getLastNth:function(m,x,S,T,C,A,b,R){return this.getHandler(!1,m,x,S,T,C,A,b,R)},getHandler:function(m,x,S,T,C,A,b,R,F){S===void 0&&(S=!1),T===void 0&&(T=!1);var L,O,I=0,B=this.children.entries;if(m)for(O=0;O<B.length;O++)if(L=B[O],L.active===S){if(I++,I===x)break}else L=null;else for(O=B.length-1;O>=0;O--)if(L=B[O],L.active===S){if(I++,I===x)break}else L=null;return L?(typeof C=="number"&&(L.x=C),typeof A=="number"&&(L.y=A),L):T?this.create(C,A,b,R,F):null},get:function(m,x,S,T,C){return this.getFirst(!1,!0,m,x,S,T,C)},getFirstAlive:function(m,x,S,T,C,A){return this.getFirst(!0,m,x,S,T,C,A)},getFirstDead:function(m,x,S,T,C,A){return this.getFirst(!1,m,x,S,T,C,A)},playAnimation:function(m,x){return o.PlayAnimation(this.children.entries,m,x),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var x=0,S=0;S<this.children.size;S++)this.children.entries[S].active===m&&x++;return x},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),x=this.maxSize===-1?999999999999:this.maxSize;return x-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,x,S,T,C){return o.PropertyValueSet(this.children.entries,m,x,S,T,C),this},propertyValueInc:function(m,x,S,T,C){return o.PropertyValueInc(this.children.entries,m,x,S,T,C),this},setX:function(m,x){return o.SetX(this.children.entries,m,x),this},setY:function(m,x){return o.SetY(this.children.entries,m,x),this},setXY:function(m,x,S,T){return o.SetXY(this.children.entries,m,x,S,T),this},incX:function(m,x){return o.IncX(this.children.entries,m,x),this},incY:function(m,x){return o.IncY(this.children.entries,m,x),this},incXY:function(m,x,S,T){return o.IncXY(this.children.entries,m,x,S,T),this},shiftPosition:function(m,x,S){return o.ShiftPosition(this.children.entries,m,x,S),this},angle:function(m,x){return o.Angle(this.children.entries,m,x),this},rotate:function(m,x){return o.Rotate(this.children.entries,m,x),this},rotateAround:function(m,x){return o.RotateAround(this.children.entries,m,x),this},rotateAroundDistance:function(m,x,S){return o.RotateAroundDistance(this.children.entries,m,x,S),this},setAlpha:function(m,x){return o.SetAlpha(this.children.entries,m,x),this},setTint:function(m,x,S,T){return o.SetTint(this.children.entries,m,x,S,T),this},setOrigin:function(m,x,S,T){return o.SetOrigin(this.children.entries,m,x,S,T),this},scaleX:function(m,x){return o.ScaleX(this.children.entries,m,x),this},scaleY:function(m,x){return o.ScaleY(this.children.entries,m,x),this},scaleXY:function(m,x,S,T){return o.ScaleXY(this.children.entries,m,x,S,T),this},setDepth:function(m,x){return o.SetDepth(this.children.entries,m,x),this},setBlendMode:function(m){return o.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,x){return o.SetHitArea(this.children.entries,m,x),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,x,S){return o.SetVisible(this.children.entries,m,x,S),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(m,x){m===void 0&&(m=!1),x===void 0&&(x=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(x,m),this.scene=void 0,this.children=void 0)}});c.exports=d},94975:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),p=t(26479);o.register("group",function(s){return new p(this.scene,null,s)})},3385:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26479),p=t(39429);p.register("group",function(s,i){return this.updateList.add(new o(this.scene,s,i))})},88571:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(95643),i=t(59819),n=new o({Extends:s,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,i],initialize:function(r,l,a,h,f){s.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,f),this.setPosition(l,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=n},40652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p.addToRenderList(o),t.batchSprite(o,o.frame,p,s)};c.exports=y},82459:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(88571);p.register("image",function(n,e){n===void 0&&(n={});var r=s(n,"key",null),l=s(n,"frame",null),a=new i(this.scene,0,0,r,l);return e!==void 0&&(n.add=e),o(this.scene,a,n),a})},2117:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88571),p=t(39429);p.register("image",function(s,i,n,e){return this.displayList.add(new o(this.scene,s,i,n,e))})},59819:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(99517),s=t(40652),c.exports={renderWebGL:p,renderCanvas:s}},99517:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p.addToRenderList(o),this.pipeline.batchSprite(o,p,s)};c.exports=y},77856:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};o.Shader=t(20071),o.Mesh=t(4703),o.NineSlice=t(28103),o.PointLight=t(80321),o.Plane=t(33663),o.Factories.Shader=t(74177),o.Factories.Mesh=t(9225),o.Factories.NineSlice=t(47521),o.Factories.PointLight=t(71255),o.Factories.Plane=t(30985),o.Creators.Shader=t(54935),o.Creators.Mesh=t(20527),o.Creators.NineSlice=t(28279),o.Creators.PointLight=t(39829),o.Creators.Plane=t(56015),o.Light=t(41432),o.LightsManager=t(61356),o.LightsPlugin=t(88992),c.exports=o},93595:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(83419),s=t(31401),i=t(53774),n=t(45893),e=t(50792),r=t(51708),l=t(73162),a=t(33963),h=t(44594),f=t(19186),u=new p({Extends:l,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.PostPipeline,s.Visible,e,a],initialize:function(m,x){l.call(this,m),e.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),x&&this.add(x),m.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(d,m){return this.data||(this.data=new n(this)),this.data.set(d,m),this},incData:function(d,m){return this.data||(this.data=new n(this)),this.data.inc(d,m),this},toggleData:function(d){return this.data||(this.data=new n(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new n(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return i(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,m=this.parentContainer,x=[];m&&(x.unshift(m.getIndex(d)),d=m,m.parentContainer);)m=m.parentContainer;return x.unshift(this.displayList.getIndex(d)),x},addChildCallback:function(d){var m=d.displayList;m&&m!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(r.ADDED_TO_SCENE,d,this.scene),this.events.emit(h.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(r.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,m){return d._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),d.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=u},2956:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=o.list;if(s.length!==0){o.depthSort();var i=o.blendMode!==-1;i||t.setBlendMode(0);var n=o._alpha;o.mask&&o.mask.preRenderCanvas(t,null,p);for(var e=0;e<s.length;e++){var r=s[e];if(r.willRender(p)){var l=r.alpha;!i&&r.blendMode!==t.currentBlendMode&&t.setBlendMode(r.blendMode),r.setAlpha(l*n),r.renderCanvas(t,r,p),r.setAlpha(l)}}o.mask&&o.mask.postRenderCanvas(t)}};c.exports=y},25179:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(93595),s=t(44603),i=t(23568);s.register("layer",function(n,e){n===void 0&&(n={});var r=i(n,"children",null),l=new p(this.scene,r);return e!==void 0&&(n.add=e),o(this.scene,l,n),l})},20005:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93595),p=t(39429);p.register("layer",function(s){return this.displayList.add(new o(this.scene,s))})},33963:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(15869),s=t(2956),c.exports={renderWebGL:p,renderCanvas:s}},15869:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=o.list,i=s.length;if(i!==0){o.depthSort(),t.pipelines.preBatch(o);var n=o.blendMode!==-1;n||t.setBlendMode(0);for(var e=o.alpha,r=0;r<i;r++){var l=s[r];if(l.willRender(p)){var a,h,f,u;if(l.alphaTopLeft!==void 0)a=l.alphaTopLeft,h=l.alphaTopRight,f=l.alphaBottomLeft,u=l.alphaBottomRight;else{var d=l.alpha;a=d,h=d,f=d,u=d}!n&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var m=l.mask;m&&m.preRenderWebGL(t,l,p);var x=l.type;x!==t.currentType&&(t.newType=!0,t.currentType=x),t.nextTypeMatch=r<i-1?s[r+1].type===t.currentType:!1,l.setAlpha(a*e,h*e,f*e,u*e),l.renderWebGL(t,l,p),l.setAlpha(a,h,f,u),m&&m.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(o)}};c.exports=y},41432:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),p=t(83419),s=t(31401),i=t(51767),n=t(70554),e=new p({Extends:o,Mixins:[s.Origin,s.ScrollFactor,s.Visible],initialize:function(l,a,h,f,u,d,m){o.call(this,l,a,h),this.color=new i(f,u,d),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(r){this.diameter=r}},displayHeight:{get:function(){return this.diameter},set:function(r){this.diameter=r}},width:{get:function(){return this.diameter},set:function(r){this.diameter=r}},height:{get:function(){return this.diameter},set:function(r){this.diameter=r}},willRender:function(r){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var l=n.getFloatsFromUintRGB(r);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});e.RENDER_MASK=15,c.exports=e},61356:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81491),p=t(83419),s=t(20339),i=t(41432),n=t(80321),e=t(51767),r=t(19133),l=t(19186),a=t(70554),h=new p({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,u,d,m,x,S){return this.systems.displayList.add(new n(this.scene,f,u,d,m,x,S))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var u=this.lights,d=f.worldView,m=[],x=0;x<u.length;x++){var S=u[x];S.willRender(f)&&o(S,d)&&m.push({light:S,distance:s(S.x,S.y,d.centerX,d.centerY)})}return m.length>this.maxLights&&(l(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(f,u){return f.distance>=u.distance},setAmbientColor:function(f){var u=a.getFloatsFromUintRGB(f);return this.ambientColor.set(u[0],u[1],u[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,u,d,m,x){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),m===void 0&&(m=16777215),x===void 0&&(x=1);var S=a.getFloatsFromUintRGB(m),T=new i(f,u,d,S[0],S[1],S[2],x);return this.lights.push(T),T},removeLight:function(f){var u=this.lights.indexOf(f);return u>=0&&r(this.lights,u),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=h},88992:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(61356),s=t(37277),i=t(44594),n=new o({Extends:p,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(i.BOOT,this.boot,this),p.call(this)},boot:function(){var e=this.systems.events;e.on(i.SHUTDOWN,this.shutdown,this),e.on(i.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",n,"lights"),c.exports=n},4703:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(39506),i=t(83997),n=t(95643),e=t(34684),r=t(92515),l=t(91296),a=t(37867),h=t(29807),f=t(43396),u=t(19186),d=t(25836),m=t(39318),x=new o({Extends:n,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,h],initialize:function(T,C,A,b,R,F,L,O,I,B,U,H){C===void 0&&(C=0),A===void 0&&(A=0),b===void 0&&(b="__WHITE"),n.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new d,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var J=T.sys.renderer;this.setPosition(C,A),this.setTexture(b,R),this.setSize(J.width,J.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(J.width,J.height),F&&this.addVertices(F,L,O,I,B,U,H)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(S){return this.viewPosition.addScale(d.LEFT,S),this.dirtyCache[10]=1,this},panY:function(S){return this.viewPosition.y+=d.DOWN.y*S,this.dirtyCache[10]=1,this},panZ:function(S){return this.viewPosition.z+=S,this.dirtyCache[10]=1,this},setPerspective:function(S,T,C,A,b){return C===void 0&&(C=45),A===void 0&&(A=.01),b===void 0&&(b=1e3),this.fov=C,this.projectionMatrix.perspective(s(C),S/T,A,b),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(S,T,C,A){return S===void 0&&(S=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),C===void 0&&(C=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-S,S,-T,T,C,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(S){S.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(S,T,C,A,b,R,F,L,O){var I=this.scene.sys.cache.obj.get(S),B;return I&&(B=e(I,this,T,C,A,b,R,F,L,O)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",S),this},sortByDepth:function(S,T){return S.depth-T.depth},depthSort:function(){return u(this.faces,this.sortByDepth),this},addVertex:function(S,T,C,A,b,R,F){var L=new m(S,T,C,A,b,R,F);return this.vertices.push(L),L},addFace:function(S,T,C){var A=new i(S,T,C);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(S,T,C,A,b,R,F){var L=r(S,T,C,A,b,R,F);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(S){return this.faces[S]},hasFaceAt:function(S,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var A=l(this,C).calc,b=this.faces,R=0;R<b.length;R++){var F=b[R];if(F.contains(S,T,A))return!0}return!1},getFaceAt:function(S,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var A=l(this,C).calc,b=this.faces,R=[],F=0;F<b.length;F++){var L=b[F];L.contains(S,T,A)&&R.push(L)}return u(R,this.sortByDepth)},setDebug:function(S,T){return this.debugGraphic=S,!S&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var S=this.modelPosition,T=this.modelRotation,C=this.modelScale,A=this.dirtyCache,b=S.x,R=S.y,F=S.z,L=T.x,O=T.y,I=T.z,B=C.x,U=C.y,H=C.z,J=this.getFaceCount(),tt=A[0],X=A[1],j=A[2],D=A[3],z=A[4],$=A[5],K=A[6],Z=A[7],it=A[8],st=A[9];return A[0]=b,A[1]=R,A[2]=F,A[3]=L,A[4]=O,A[5]=I,A[6]=B,A[7]=U,A[8]=H,A[9]=J,tt!==b||X!==R||j!==F||D!==L||z!==O||$!==I||K!==B||Z!==U||it!==H||st!==J},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var S=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!S[10]&&!this.isDirty())){var T=this.width,C=this.height,A=this.viewMatrix,b=this.viewPosition;S[10]&&(A.identity(),A.translate(b),A.invert(),S[10]=0);var R=this.transformMatrix;R.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=b.z,L=this.faces,O=0;O<L.length;O++)L[O].transformCoordinatesLocal(R,T,C,F);this.depthSort()}},renderDebug:function(S,T){for(var C=S.debugGraphic,A=0;A<T.length;A++){var b=T[A],R=b.vertex1.tx,F=b.vertex1.ty,L=b.vertex2.tx,O=b.vertex2.ty,I=b.vertex3.tx,B=b.vertex3.ty;C.strokeTriangle(R,F,L,O,I,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(S){S===void 0&&(S={});var T=(function(C,A,b){for(var R=this.faces,F=0;F<R.length;F++){var L=R[F];if(L.contains(A,b))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,S,T),this},setTint:function(S){S===void 0&&(S=16777215);for(var T=this.vertices,C=0;C<T.length;C++)T[C].color=S;return this},uvScroll:function(S,T){for(var C=this.faces,A=0;A<C.length;A++)C[A].scrollUV(S,T);return this},uvScale:function(S,T){for(var C=this.faces,A=0;A<C.length;A++)C[A].scaleUV(S,T);return this},tint:{set:function(S){this.setTint(S)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(S){this.modelRotation.x=s(S)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(S){this.modelRotation.y=s(S)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(S){this.modelRotation.z=s(S)}}});c.exports=x},36488:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};c.exports=y},20527:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(35154),n=t(4703);p.register("mesh",function(e,r){e===void 0&&(e={});var l=s(e,"key",null),a=s(e,"frame",null),h=i(e,"vertices",[]),f=i(e,"uvs",[]),u=i(e,"indicies",[]),d=i(e,"containsZ",!1),m=i(e,"normals",[]),x=i(e,"colors",16777215),S=i(e,"alphas",1),T=new n(this.scene,0,0,l,a,h,f,u,d,m,x,S);return r!==void 0&&(e.add=r),o(this.scene,T,e),T})},9225:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4703),p=t(39429);p.register("mesh",function(s,i,n,e,r,l,a,h,f,u,d){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a,h,f,u,d))})},29807:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(48833),s=t(36488),c.exports={renderWebGL:p,renderCanvas:s}},48833:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(s,i,n,e){var r=i.faces,l=r.length;if(l!==0){n.addToRenderList(i);var a=s.pipelines.set(i.pipeline,i),h=o(i,n,e).calc;s.pipelines.preBatch(i);for(var f=a.setGameObject(i),u=a.vertexViewF32,d=a.vertexViewU32,m=a.vertexCount*a.currentShader.vertexComponentCount-1,x=i.tintFill,S=[],T=i.debugCallback,C=h.a,A=h.b,b=h.c,R=h.d,F=h.e,L=h.f,O=i.viewPosition.z,I=i.hideCCW,B=n.roundPixels,U=n.alpha*i.alpha,H=0,J=0;J<l;J++){var tt=r[J];tt.isInView(n,I,O,U,C,A,b,R,F,L,B)&&(a.shouldFlush(3)&&(a.flush(),f=a.setGameObject(i),m=0),m=tt.load(u,d,m,f,x),H++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,T&&S.push(tt))}i.totalFrame+=H,T&&T.call(i,i,S),s.pipelines.postBatch(i)}};c.exports=p},28103:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(95643),i=t(78023),n=t(39318),e=new o({Extends:s,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,i],initialize:function(l,a,h,f,u,d,m,x,S,T,C){s.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=l.textures.getFrame(f,u);this.is3Slice=!T&&!C,A.scale9&&(this.is3Slice=A.is3Slice);for(var b=this.is3Slice?18:54,R=0;R<b;R++)this.vertices.push(new n);this.setPosition(a,h),this.setTexture(f,u),this.setSlices(d,m,x,S,T,C,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(r,l,a,h,f,u,d){a===void 0&&(a=10),h===void 0&&(h=10),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=!1);var m=this.frame,x=!1;if(this.is3Slice&&d&&f!==0&&u!==0&&(x=!0),x)console.warn("Cannot change 9 slice to 3 slice");else{if(m.scale9&&!d){var S=m.data.scale9Borders,T=S.x,C=S.y;a=T,h=m.width-S.w-T,f=C,u=m.height-S.h-C,r===void 0&&(r=m.width),l===void 0&&(l=m.height)}else r===void 0&&(r=256),l===void 0&&(l=256);this._width=r,this._height=l,this.leftWidth=a,this.rightWidth=h,this.topHeight=f,this.bottomHeight=u,this.is3Slice&&(l=m.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var r=this.leftWidth,l=this.rightWidth,a=this.topHeight,h=this.bottomHeight,f=this.frame.width,u=this.frame.height;this.updateQuadUVs(0,0,0,r/f,a/u),this.updateQuadUVs(6,r/f,0,1-l/f,a/u),this.updateQuadUVs(12,1-l/f,0,1,a/u),this.is3Slice||(this.updateQuadUVs(18,0,a/u,r/f,1-h/u),this.updateQuadUVs(24,r/f,a/u,1-l/f,1-h/u),this.updateQuadUVs(30,1-l/f,a/u,1,1-h/u),this.updateQuadUVs(36,0,1-h/u,r/f,1),this.updateQuadUVs(42,r/f,1-h/u,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-h/u,1,1))},updateVertices:function(){var r=this.leftWidth,l=this.rightWidth,a=this.topHeight,h=this.bottomHeight,f=this.width,u=this.height;this.updateQuad(0,-.5,.5,-.5+r/f,.5-a/u),this.updateQuad(6,-.5+r/f,.5,.5-l/f,.5-a/u),this.updateQuad(12,.5-l/f,.5,.5,.5-a/u),this.is3Slice||(this.updateQuad(18,-.5,.5-a/u,-.5+r/f,-.5+h/u),this.updateQuad(24,-.5+r/f,.5-a/u,.5-l/f,-.5+h/u),this.updateQuad(30,.5-l/f,.5-a/u,.5,-.5+h/u),this.updateQuad(36,-.5,-.5+h/u,-.5+r/f,-.5),this.updateQuad(42,-.5+r/f,-.5+h/u,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+h/u,.5,-.5))},updateQuad:function(r,l,a,h,f){var u=this.width,d=this.height,m=this.originX,x=this.originY,S=this.vertices;S[r+0].resize(l,a,u,d,m,x),S[r+1].resize(l,f,u,d,m,x),S[r+2].resize(h,a,u,d,m,x),S[r+3].resize(l,f,u,d,m,x),S[r+4].resize(h,f,u,d,m,x),S[r+5].resize(h,a,u,d,m,x)},updateQuadUVs:function(r,l,a,h,f){var u=this.vertices,d=this.frame,m=d.u0,x=d.v0,S=d.u1,T=d.v1;if(m!==0||S!==1){var C=S-m;l=m+l*C,h=m+h*C}if(x!==0||T!==1){var A=T-x;a=x+a*A,f=x+f*A}u[r+0].setUVs(l,a),u[r+1].setUVs(l,f),u[r+2].setUVs(h,a),u[r+3].setUVs(l,f),u[r+4].setUVs(h,f),u[r+5].setUVs(h,a)},clearTint:function(){return this.setTint(16777215),this},setTint:function(r){return r===void 0&&(r=16777215),this.tint=r,this.tintFill=!1,this},setTintFill:function(r){return this.setTint(r),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(r){this._width=Math.max(r,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(r){this.is3Slice||(this._height=Math.max(r,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,l){this.width=r,this.height=l,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setDisplaySize:function(r,l){return this.displayWidth=r,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(r){this._originX=r,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(r){this._originY=r,this.updateVertices()}},setOrigin:function(r,l){return r===void 0&&(r=.5),l===void 0&&(l=r),this._originX=r,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var r=this.frame.height;this._height=r,this.topHeight=r,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=e},28279:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(35154),n=t(28103);p.register("nineslice",function(e,r){e===void 0&&(e={});var l=s(e,"key",null),a=s(e,"frame",null),h=i(e,"width",256),f=i(e,"height",256),u=i(e,"leftWidth",10),d=i(e,"rightWidth",10),m=i(e,"topHeight",0),x=i(e,"bottomHeight",0),S=new n(this.scene,0,0,l,a,h,f,u,d,m,x);return r!==void 0&&(e.add=r),o(this.scene,S,e),S})},47521:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28103),p=t(39429);p.register("nineslice",function(s,i,n,e,r,l,a,h,f,u){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a,h,f,u))})},78023:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(52230),c.exports={renderWebGL:p,renderCanvas:s}},52230:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),s=function(i,n,e,r){var l=n.vertices,a=l.length;if(a!==0){e.addToRenderList(n);var h=i.pipelines.set(n.pipeline,n),f=o(n,e,r,!1).calc;i.pipelines.preBatch(n);var u=h.setGameObject(n),d=h.vertexViewF32,m=h.vertexViewU32,x=h.vertexCount*h.currentShader.vertexComponentCount-1,S=e.roundPixels,T=n.tintFill,C=e.alpha*n.alpha,A=p.getTintAppendFloatAlpha(n.tint,C),b=h.vertexAvailable(),R=-1;b<a&&(R=b);for(var F=0;F<a;F++){var L=l[F];F===R&&(h.flush(),u=h.setGameObject(n),x=0),d[++x]=f.getXRound(L.vx,L.vy,S),d[++x]=f.getYRound(L.vx,L.vy,S),d[++x]=L.u,d[++x]=L.v,d[++x]=u,d[++x]=T,m[++x]=A,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}i.pipelines.postBatch(n)}};c.exports=s},76472:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(44777),s=t(37589),i=t(6113),n=t(91389),e=t(90664),r=new o({Extends:p,initialize:function(a){p.call(this,a,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,a=l,h=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=i("Linear"),this.interpolation=n("linear"),h=this.easedValueEmit,f=this.easeValueUpdate,a=l[0],this.active=!0;for(var u=0;u<l.length;u++){var d=e(l[u]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=h,this.onUpdate=f,this.current=a,this},setEase:function(l){this.easeName=l,this.ease=i(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,a,h){var f=this.ease(h),u=this.interpolation(this.r,f),d=this.interpolation(this.g,f),m=this.interpolation(this.b,f),x=s(u,d,m);return this.current=x,x}});c.exports=r},44777:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),p=t(45319),s=t(83419),i=t(99472),n=t(6113),e=t(95540),r=t(91389),l=t(77720),a=t(15994),h=new s({initialize:function(u,d,m){m===void 0&&(m=!1),this.propertyKey=u,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,u){f===void 0&&(f={}),u&&(this.propertyKey=u),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var u;switch(this.method){case 1:case 3:case 8:u=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(u=f);break;case 4:var d=(this.end-this.start)/this.steps;u=l(f,d),this.counter=u;break;case 5:case 6:case 7:u=p(f,this.start,this.end);break;case 9:u=this.start[0];break}return this.current=u,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var u=typeof f;if(u==="number")return 1;if(Array.isArray(f))return 2;if(u==="function")return 3;if(u==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,u=f,d=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,u=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,u=this.start;break;case 5:this.start=f.start,this.end=f.end;var x=this.has(f,"ease")?f.ease:"Linear";this.ease=n(x,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,u=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,u=this.start;break;case 7:var S=f.random;Array.isArray(S)&&(this.start=S[0],this.end=S[1]),d=this.randomRangedIntEmit,u=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,m=this.proxyUpdate;break;case 9:this.start=f.values;var T=this.has(f,"ease")?f.ease:"Linear";this.ease=n(T,f.easeParams),this.interpolation=r(f.interpolation),d=this.easedValueEmit,m=this.easeValueUpdate,u=this.start[0];break}return this.onEmit=d,this.onUpdate=m,this.current=u,this},has:function(f,u){return f.hasOwnProperty(u)},hasBoth:function(f,u,d){return f.hasOwnProperty(u)&&f.hasOwnProperty(d)},hasEither:function(f,u,d){return f.hasOwnProperty(u)||f.hasOwnProperty(d)},defaultEmit:function(f,u,d){return d},defaultUpdate:function(f,u,d,m){return m},proxyEmit:function(f,u,d){var m=this._onEmit(f,u,d);return this.current=m,m},proxyUpdate:function(f,u,d,m){var x=this._onUpdate(f,u,d,m);return this.current=x,x},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,u){var d=i(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,u){var d=o(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,u=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(u+=d,u>=this.end&&(m=u-this.end,u=this.end-m,this.direction=1)):(u-=d,u<=this.start&&(m=this.start-u,u=this.start+m,this.direction=0)),this.counter=u}else this.counter=a(u+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,u){if(f&&f.data[u]){var d=f.data[u];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,u,d){var m=f.data[u],x,S=this.ease(d);return this.interpolation?x=this.interpolation(this.start,S):x=(m.max-m.min)*S+m.min,this.current=x,x},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=h},24502:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=t(20286),i=new o({Extends:s,initialize:function(e,r,l,a,h){if(typeof e=="object"){var f=e;e=p(f,"x",0),r=p(f,"y",0),l=p(f,"power",0),a=p(f,"epsilon",100),h=p(f,"gravity",50)}else e===void 0&&(e=0),r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=100),h===void 0&&(h=50);s.call(this,e,r,!0),this._gravity=h,this._power=l*h,this._epsilon=a*a},update:function(n,e){var r=this.x-n.x,l=this.y-n.y,a=r*r+l*l;if(a!==0){var h=Math.sqrt(a);a<this._epsilon&&(a=this._epsilon);var f=this._power*e/(a*h)*100;n.velocityX+=r*f,n.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});c.exports=i},56480:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(45319),s=t(83419),i=t(39506),n=t(87841),e=t(11520),r=t(26099),l=new s({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new r,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=new o(this),this.bounds=new n},emit:function(a,h,f,u,d,m){return this.emitter.emit(a,h,f,u,d,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(a,h){a===void 0&&(a=0),h===void 0&&(h=0),this.x=a,this.y=h},fire:function(a,h){var f=this.emitter,u=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),a===void 0?this.x+=u.x.onEmit(this,"x"):u.x.steps>0?this.x+=a+u.x.onEmit(this,"x"):this.x+=a,h===void 0?this.y+=u.y.onEmit(this,"y"):u.y.steps>0?this.y+=h+u.y.onEmit(this,"y"):this.y+=h,this.life=u.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=u.delay.onEmit(this,"delay"),this.holdCurrent=u.hold.onEmit(this,"hold"),this.scaleX=u.scaleX.onEmit(this,"scaleX"),this.scaleY=u.scaleY.active?u.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=u.rotate.onEmit(this,"rotate"),this.rotation=i(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var m=u.speedX.onEmit(this,"speedX"),x=u.speedY.active?u.speedY.onEmit(this,"speedY"):m;if(f.radial){var S=i(u.angle.onEmit(this,"angle"));this.velocityX=Math.cos(S)*Math.abs(m),this.velocityY=Math.sin(S)*Math.abs(x)}else if(f.moveTo){var T=u.moveToX.onEmit(this,"moveToX"),C=u.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(T-this.x)/A,this.velocityY=(C-this.y)/A}else this.velocityX=m,this.velocityY=x;return f.acceleration&&(this.accelerationX=u.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=u.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=u.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=u.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=u.bounce.onEmit(this,"bounce"),this.alpha=u.alpha.onEmit(this,"alpha"),u.color.active?this.tint=u.color.onEmit(this,"tint"):this.tint=u.tint.onEmit(this,"tint"),!0},update:function(a,h,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=a,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=a,!1;this.anims.update(0,a);var u=this.emitter,d=u.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=d.x.onUpdate(this,"x",m,this.x),this.y=d.y.onUpdate(this,"y",m,this.y),u.moveTo){var x=d.moveToX.onUpdate(this,"moveToX",m,u.moveToX),S=d.moveToY.onUpdate(this,"moveToY",m,u.moveToY),T=this.lifeCurrent/1e3;this.velocityX=(x-this.x)/T,this.velocityY=(S-this.y)/T}return this.computeVelocity(u,a,h,f,m),this.scaleX=d.scaleX.onUpdate(this,"scaleX",m,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=i(this.angle),u.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(d.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",m,this.tint):this.tint=d.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(a,h,f,u,d){var m=a.ops,x=this.velocityX,S=this.velocityY,T=m.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),C=m.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),A=m.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),b=m.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",d,this.bounce),x+=a.gravityX*f+T*f,S+=a.gravityY*f+C*f,x=p(x,-A,A),S=p(S,-b,b),this.velocityX=x,this.velocityY=S,this.x+=x*f,this.y+=S*f,a.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var R=0;R<u.length;R++){var F=u[R];F.active&&F.update(this,h,f,d)}},setSizeToFrame:function(){},getBounds:function(a){a===void 0&&(a=this.emitter.getWorldTransformMatrix());var h=Math.abs(a.scaleX)*this.scaleX,f=Math.abs(a.scaleY)*this.scaleY,u=this.x,d=this.y,m=this.rotation,x=this.frame.width*h/2,S=this.frame.height*f/2,T=this.bounds,C=new r(u-x,d-S),A=new r(u+x,d-S),b=new r(u-x,d+S),R=new r(u+x,d+S);return m!==0&&(e(C,u,d,m),e(A,u,d,m),e(b,u,d,m),e(R,u,d,m)),a.transformPoint(C.x,C.y,C),a.transformPoint(A.x,A.y,A),a.transformPoint(b.x,b.y,b),a.transformPoint(R.x,R.y,R),T.x=Math.min(C.x,A.x,b.x,R.x),T.y=Math.min(C.y,A.y,b.y,R.y),T.width=Math.max(C.x,A.x,b.x,R.x)-T.x,T.height=Math.max(C.y,A.y,b.y,R.y)-T.y,T},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=l},69601:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(20286),s=t(87841),i=new o({Extends:p,initialize:function(e,r,l,a,h,f,u,d){h===void 0&&(h=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),p.call(this,e,r,!0),this.bounds=new s(e,r,l,a),this.collideLeft=h,this.collideRight=f,this.collideTop=u,this.collideBottom=d},update:function(n){var e=this.bounds,r=-n.bounce,l=n.worldPosition;l.x<e.x&&this.collideLeft?(n.x+=e.x-l.x,n.velocityX*=r):l.x>e.right&&this.collideRight&&(n.x-=l.x-e.right,n.velocityX*=r),l.y<e.y&&this.collideTop?(n.y+=e.y-l.y,n.velocityY*=r):l.y>e.bottom&&this.collideBottom&&(n.y-=l.y-e.bottom,n.velocityY*=r)}});c.exports=i},31600:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(53774),i=t(43459),n=t(26388),e=t(19909),r=t(76472),l=t(44777),a=t(20696),h=t(95643),f=t(95540),u=t(26546),d=t(24502),m=t(1985),x=t(97022),S=t(86091),T=t(73162),C=t(20074),A=t(56480),b=t(68875),R=t(87841),F=t(59996),L=t(72905),O=t(90668),I=t(19186),B=t(61340),U=t(26099),H=t(15994),J=t(69601),tt=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],j=new o({Extends:h,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,O],initialize:function(z,$,K,Z,it){h.call(this,z,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new r("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new U,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,K),this.setTexture(Z),it&&this.setConfig(it)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var z=0,$="",K=this.ops;for(z=0;z<X.length;z++)$=X[z],K[$].loadConfig(D);for(z=0;z<tt.length;z++)$=tt[z],x(D,$)&&(this[$]=f(D,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,x(D,"speed")&&(K.speedX.loadConfig(D,"speed"),K.speedY.active=!1),(m(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),x(D,"scale")&&(K.scaleX.loadConfig(D,"scale"),K.scaleY.active=!1),x(D,"callbackScope")){var Z=f(D,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(x(D,"emitZone")&&this.addEmitZone(D.emitZone),x(D,"deathZone")&&this.addDeathZone(D.deathZone),x(D,"bounds")){var it=this.addParticleBounds(D.bounds);it.collideLeft=f(D,"collideLeft",!0),it.collideRight=f(D,"collideRight",!0),it.collideTop=f(D,"collideTop",!0),it.collideBottom=f(D,"collideBottom",!0)}return x(D,"followOffset")&&this.followOffset.setFromObject(f(D,"followOffset",0)),x(D,"texture")&&this.setTexture(D.texture),x(D,"frame")?this.setEmitterFrame(D.frame):x(D,"anim")&&this.setAnim(D.anim),x(D,"reserve")&&this.reserve(D.reserve),x(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(a.START,this),this},toJSON:function(){var D=s(this),z=0,$="";for(z=0;z<tt.length;z++)$=tt[z],D[$]=this[$];var K=this.ops;for(z=0;z<X.length;z++)$=X[z],K[$]&&(D[$]=K[$].toJSON());return K.speedY.active||(delete D.speedX,D.speed=K.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=K.scaleX.toJSON()),D},resetCounters:function(D,z){var $=this.counters;$.fill(0),$[0]=D,z&&($[5]=1)},startFollow:function(D,z,$,K){return z===void 0&&(z=0),$===void 0&&($=0),K===void 0&&(K=!1),this.follow=D,this.followOffset.set(z,$),this.trackVisible=K,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,z=D.length,$;return z===1?$=D[0]:this.randomFrame?$=u(D):($=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get($)},setEmitterFrame:function(D,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomFrame=z,this.frameQuantity=$,this.currentFrame=0;var K=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(K==="string"||K==="number")this.frames.push(D);else if(K==="object"){var Z=D;D=f(Z,"frames",null),D&&(this.frames=this.frames.concat(D));var it=f(Z,"cycle",!1);this.randomFrame=!it,this.frameQuantity=f(Z,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,z=D.length;if(z===0)return null;if(z===1)return D[0];if(this.randomAnim)return u(D);var $=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=H(this.currentAnim+1,0,z)),$},setAnim:function(D,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomAnim=z,this.animQuantity=$,this.currentAnim=0;var K=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(K==="string")this.anims.push(D);else if(K==="object"){var Z=D;D=f(Z,"anims",null),D&&(this.anims=this.anims.concat(D));var it=f(Z,"cycle",!1);this.randomAnim=!it,this.animQuantity=f(Z,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,z,$,K,Z,it,st,at){if(typeof D=="object"){var ut=D;D=ut.x,z=ut.y,$=x(ut,"w")?ut.w:ut.width,K=x(ut,"h")?ut.h:ut.height}return this.addParticleProcessor(new J(D,z,$,K,Z,it,st,at))},setParticleSpeed:function(D,z){return z===void 0&&(z=D),this.ops.speedX.onChange(D),D===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(D,z){return D===void 0&&(D=1),z===void 0&&(z=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(z),this},setParticleGravity:function(D,z){return this.gravityX=D,this.gravityY=z,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,z){return this.frequency=D,this.flowCounter=D>0?D:0,z&&(this.quantity=z),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var z,$=[],K=0;K<D.length;K++)if(z=D[K],z instanceof n)$.push(z);else if(typeof z.contains=="function")z=new n(z,!0),$.push(z);else{var Z=f(z,"type","onEnter"),it=f(z,"source",null);if(it&&typeof it.contains=="function"){var st=Z==="onEnter";z=new n(it,st),$.push(z)}}return this.deathZones=this.deathZones.concat($),$},removeDeathZone:function(D){return L(this.deathZones,D),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var z,$=[],K=0;K<D.length;K++)if(z=D[K],z instanceof b||z instanceof e)$.push(z);else{var Z=f(z,"source",null);if(Z){var it=f(z,"type","random");if(it==="random"&&typeof Z.getRandomPoint=="function")z=new b(Z),$.push(z);else if(it==="edge"&&typeof Z.getPoints=="function"){var st=f(z,"quantity",1),at=f(z,"stepRate",0),ut=f(z,"yoyo",!1),vt=f(z,"seamless",!0),xt=f(z,"total",-1);z=new e(Z,st,at,ut,vt,xt),$.push(z)}}}return this.emitZones=this.emitZones.concat($),$},removeEmitZone:function(D){return L(this.emitZones,D),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(D){var z=this.emitZones,$=z.length;if($!==0){var K=z[this.zoneIndex];K.getPoint(D),K.total>-1&&(this.zoneTotal++,this.zoneTotal===K.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var z=this.deathZones,$=0;$<z.length;$++){var K=z[$];if(K.willKill(D))return this.emit(a.DEATH_ZONE,this,D,K),!0}return!1},setEmitZone:function(D){var z;return isFinite(D)?z=D:z=this.emitZones.indexOf(D),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new d(D))},reserve:function(D){var z=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+D>this.maxParticles&&(D=this.maxParticles-($+D))}for(var K=0;K<D;K++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,z){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(D,z){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var D=this.dead,z=this.alive;z.length>0;)D.push(z.pop());return this},forEachAlive:function(D,z){for(var $=this.alive,K=$.length,Z=0;Z<K;Z++)D.call(z,$[Z],this);return this},forEachDead:function(D,z){for(var $=this.dead,K=$.length,Z=0;Z<K;Z++)D.call(z,$[Z],this);return this},start:function(D,z){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(a.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(a.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,z){return D===void 0&&(D=""),z===void 0&&(z=this.true),this.sortProperty=D,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return I(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,z){var $=this.sortProperty;return this.sortOrderAsc?D[$]-z[$]:z[$]-D[$]},flow:function(D,z,$){return z===void 0&&(z=1),this.emitting=!1,this.frequency=D,this.quantity=z,$!==void 0&&(this.stopAfter=$),this.start()},explode:function(D,z,$){this.frequency=-1,this.resetCounters(-1,!0);var K=this.emitParticle(D,z,$);return this.emit(a.EXPLODE,this,K),K},emitParticleAt:function(D,z,$){return this.emitParticle($,D,z)},emitParticle:function(D,z,$){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var K=this.dead,Z=this.stopAfter,it=this.follow?this.follow.x+this.followOffset.x:z,st=this.follow?this.follow.y+this.followOffset.y:$,at=0;at<D;at++){var ut=K.pop();if(ut||(ut=new this.particleClass(this)),ut.fire(it,st)?(this.particleBringToTop?this.alive.push(ut):this.alive.unshift(ut),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ut,this)):this.dead.push(ut),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return ut}},fastForward:function(D,z){z===void 0&&(z=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(D);)this.preUpdate(0,z),$+=z;return this.skipping=!1,this},preUpdate:function(D,z){z*=this.timeScale;var $=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var K=this.getProcessors(),Z=this.alive,it=this.dead,st=0,at=[],ut=Z.length;for(st=0;st<ut;st++){var vt=Z[st];vt.update(z,$,K)&&at.push({index:st,particle:vt})}if(ut=at.length,ut>0){var xt=this.deathCallback,Et=this.deathCallbackScope;for(st=ut-1;st>=0;st--){var yt=at[st];Z.splice(yt.index,1),it.push(yt.particle),xt&&xt.call(Et,yt.particle),yt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(a.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var z=this.getWorldTransformMatrix(),$=this.alive,K=$.length,Z=[],it=0;it<K;it++){var st=$[it];F(D,st.getBounds(z))&&Z.push(st)}return Z},getBounds:function(D,z,$,K){D===void 0&&(D=0),z===void 0&&(z=0),$===void 0&&($=1e3/60),K===void 0&&(K=new R);var Z=this.getWorldTransformMatrix(),it,st,at=this.alive,ut=!1;if(K.setTo(0,0,0,0),z>0){var vt=0;for(this.skipping=!0;vt<Math.abs(z);){for(this.preUpdate(0,$),it=0;it<at.length;it++)st=at[it].getBounds(Z),ut?C(K,st):(ut=!0,i(st,K));vt+=$}this.skipping=!1}else for(it=0;it<at.length;it++)st=at[it].getBounds(Z),ut?C(K,st):(ut=!0,i(st,K));return D>0&&S(K,D,D),K},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,z=this.ops;for(D=0;D<X.length;D++){var $=X[D];z[$].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=j},9871:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),p=t(61340),s=new p,i=new p,n=new p,e=new p,r=function(l,a,h,f){var u=s,d=i,m=n,x=e;f?(x.loadIdentity(),x.multiply(f),x.translate(a.x,a.y),x.rotate(a.rotation),x.scale(a.scaleX,a.scaleY)):x.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var S=l.currentContext,T=h.roundPixels,C=h.alpha,A=a.alpha,b=a.alive,R=b.length,F=a.viewBounds;if(!(!a.visible||R===0||F&&!o(F,h.worldView))){a.sortCallback&&a.depthSort(),h.addToRenderList(a);var L=a.scrollFactorX,O=a.scrollFactorY;S.save(),S.globalCompositeOperation=l.blendModes[a.blendMode];for(var I=0;I<R;I++){var B=b[I],U=B.alpha*A*C;if(!(U<=0||B.scaleX===0||B.scaleY===0)){m.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),u.copyFrom(h.matrix),u.multiplyWithOffset(x,-h.scrollX*L,-h.scrollY*O),m.e=B.x,m.f=B.y,u.multiply(m,d);var H=B.frame,J=H.canvasData;if(J.width>0&&J.height>0){var tt=-H.halfWidth,X=-H.halfHeight;S.globalAlpha=U,S.save(),d.setToContext(S),T&&(tt=Math.round(tt),X=Math.round(X)),S.imageSmoothingEnabled=!H.source.scaleMode,S.drawImage(H.source.image,J.x,J.y,J.width,J.height,tt,X,J.width,J.height),S.restore()}}}S.restore()}};c.exports=r},92730:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(95540),n=t(31600);p.register("particles",function(e,r){e===void 0&&(e={});var l=s(e,"key",null),a=i(e,"config",null),h=new n(this.scene,0,0,l);return r!==void 0&&(e.add=r),o(this.scene,h,e),a&&h.setConfig(a),h})},676:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(31600);o.register("particles",function(s,i,n,e){return s!==void 0&&typeof s=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,s,i,n,e))})},90668:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(21188),s=t(9871),c.exports={renderWebGL:p,renderCanvas:s}},21188:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),p=t(61340),s=t(70554),i=new p,n=new p,e=new p,r=new p,l=function(a,h,f,u){var d=a.pipelines.set(h.pipeline),m=i,x=n,S=e,T=r;u?(T.loadIdentity(),T.multiply(u),T.translate(h.x,h.y),T.rotate(h.rotation),T.scale(h.scaleX,h.scaleY)):T.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var C=s.getTintAppendFloatAlpha,A=f.alpha,b=h.alpha;a.pipelines.preBatch(h);var R=h.alive,F=R.length,L=h.viewBounds;if(!(F===0||L&&!o(L,f.worldView))){h.sortCallback&&h.depthSort(),f.addToRenderList(h),m.copyFrom(f.matrix),m.multiplyWithOffset(T,-f.scrollX*h.scrollFactorX,-f.scrollY*h.scrollFactorY),a.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(a,h,f),a.pipelines.set(h.pipeline));for(var O=h.tintFill,I,B,U=0;U<F;U++){var H=R[U],J=H.alpha*b*A;if(!(J<=0||H.scaleX===0||H.scaleY===0)){S.applyITRS(H.x,H.y,H.rotation,H.scaleX,H.scaleY),S.e=H.x,S.f=H.y,m.multiply(S,x);var tt=H.frame;tt.glTexture!==B&&(B=tt.glTexture,I=d.setGameObject(h,tt));var X=-tt.halfWidth,j=-tt.halfHeight,D=x.setQuad(X,j,X+tt.width,j+tt.height),z=C(H.tint,J);d.shouldFlush(6)&&(d.flush(),I=d.setGameObject(h,tt)),d.batchQuad(h,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],tt.u0,tt.v0,tt.u1,tt.v1,z,z,z,z,O,B,I)}}h.mask&&h.mask.postRenderWebGL(a,f),a.pipelines.postBatch(h)}};c.exports=l},20286:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e){i===void 0&&(i=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=i,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});c.exports=p},9774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},812:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="deathzone"},30522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="explode"},96695:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},18677:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},20696:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n){this.source=i,this.killOnEnter=n},willKill:function(s){var i=s.worldPosition,n=this.source.contains(i.x,i.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});c.exports=p},19909:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e,r,l,a){r===void 0&&(r=!1),l===void 0&&(l=!0),a===void 0&&(a=-1),this.source=i,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=r,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=a,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var s=this.points[0],i=this.points[this.points.length-1];s.x===i.x&&s.y===i.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(s){return this.source=s,this.updateSource()},getPoint:function(s){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var i=this.points[this.counter];i&&(s.x=i.x,s.y=i.y)}});c.exports=p},68875:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(26099),s=new o({initialize:function(n){this.source=n,this._tempVec=new p,this.total=-1},getPoint:function(i){var n=this._tempVec;this.source.getRandomPoint(n),i.x=n.x,i.y=n.y}});c.exports=s},21024:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(68287),i=new o({Extends:s,Mixins:[p.PathFollower],initialize:function(e,r,l,a,h,f){s.call(this,e,l,a,h,f),this.path=r},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});c.exports=i},90145:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(1159);o.register("follower",function(s,i,n,e,r){var l=new p(this.scene,s,i,n,e,r);return this.displayList.add(l),this.updateList.add(l),l})},33663:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(83419),s=t(48803),i=t(90664),n=t(4703),e=t(45650),r=new p({Extends:n,initialize:function(a,h,f,u,d,m,x,S){u||(u="__DEFAULT"),n.call(this,a,h,f,u,d),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,x,S),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,a,h){l===void 0&&(l=8),a===void 0&&(a=8),h===void 0&&(h=!1);var f=!1;return h&&(f=!0),this.gridWidth=l,this.gridHeight=a,this.isTiled=h,this.clear(),s({mesh:this,widthSegments:l,heightSegments:a,isOrtho:!1,tile:h,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var a=this.frame;if(this.setPerspective(this.width/a.width,this.height/a.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var h=this.gridWidth,f=this.gridHeight,u=this.vertices,d=a.u0,m=a.u1,x=a.v0,S=a.v1,T,C,A=0;if(this.isTiled)for(x=a.v1,S=a.v0,C=0;C<f;C++)for(T=0;T<h;T++)u[A++].setUVs(d,S),u[A++].setUVs(d,x),u[A++].setUVs(m,S),u[A++].setUVs(d,x),u[A++].setUVs(m,x),u[A++].setUVs(m,S);else{var b=h+1,R=f+1,F=m-d,L=S-x,O=[];for(C=0;C<R;C++)for(T=0;T<b;T++){var I=d+F*(T/h),B=x+L*(C/f);O.push(I,B)}for(C=0;C<f;C++)for(T=0;T<h;T++){var U=(T+b*C)*2,H=(T+b*(C+1))*2,J=(T+1+b*(C+1))*2,tt=(T+1+b*C)*2;u[A++].setUVs(O[U],O[U+1]),u[A++].setUVs(O[H],O[H+1]),u[A++].setUVs(O[tt],O[tt+1]),u[A++].setUVs(O[H],O[H+1]),u[A++].setUVs(O[J],O[J+1]),u[A++].setUVs(O[tt],O[tt+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var a=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(a/2),this.dirtyCache[10]=1},createCheckerboard:function(l,a,h,f,u){l===void 0&&(l=16777215),a===void 0&&(a=255),h===void 0&&(h=255),f===void 0&&(f=255),u===void 0&&(u=128);for(var d=i(l),m=i(a),x=[],S=0;S<16;S++)for(var T=0;T<16;T++)S<8&&T<8||S>7&&T>7?x.push(d.r,d.g,d.b,h):x.push(m.r,m.g,m.b,f);var C=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(x),16,16);return this.removeCheckerboard(),this.setTexture(C),this.setSizeToFrame(),this.setViewHeight(u),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,a){return this.anims.play(l,a)},playReverse:function(l,a){return this.anims.playReverse(l,a)},playAfterDelay:function(l,a){return this.anims.playAfterDelay(l,a)},playAfterRepeat:function(l,a){return this.anims.playAfterRepeat(l,a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,a){n.prototype.preUpdate.call(this,l,a),this.anims.update(l,a)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=r},56015:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(13059),s=t(44603),i=t(23568),n=t(35154),e=t(33663);s.register("plane",function(r,l){r===void 0&&(r={});var a=i(r,"key",null),h=i(r,"frame",null),f=n(r,"width",8),u=n(r,"height",8),d=n(r,"tile",!1),m=new e(this.scene,0,0,a,h,f,u,d);l!==void 0&&(r.add=l);var x=n(r,"checkerboard",null);if(x){var S=n(x,"color1",16777215),T=n(x,"color2",255),C=n(x,"alpha1",255),A=n(x,"alpha2",255),b=n(x,"height",128);m.createCheckerboard(S,T,C,A,b)}return o(this.scene,m,r),p(m,r),m})},30985:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33663),p=t(39429);p.register("plane",function(s,i,n,e,r,l,a){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a))})},80321:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(95643),i=t(30100),n=t(36060),e=t(67277),r=new o({Extends:s,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,e],initialize:function(a,h,f,u,d,m,x){u===void 0&&(u=16777215),d===void 0&&(d=128),m===void 0&&(m=1),x===void 0&&(x=.1),s.call(this,a,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,f),this.color=i(u),this.intensity=m,this.attenuation=x,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=r},39829:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(80321);p.register("pointlight",function(n,e){n===void 0&&(n={});var r=s(n,"color",16777215),l=s(n,"radius",128),a=s(n,"intensity",1),h=s(n,"attenuation",.1),f=new i(this.scene,0,0,r,l,a,h);return e!==void 0&&(n.add=e),o(this.scene,f,n),f})},71255:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(80321);o.register("pointlight",function(s,i,n,e,r,l){return this.displayList.add(new p(this.scene,s,i,n,e,r,l))})},67277:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(57787),c.exports={renderWebGL:p,renderCanvas:s}},57787:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(s,i,n,e){n.addToRenderList(i);var r=s.pipelines.set(i.pipeline),l=o(i,n,e).calc,a=i.width,h=i.height,f=-i._radius,u=-i._radius,d=f+a,m=u+h,x=l.getX(0,0),S=l.getY(0,0),T=l.getX(f,u),C=l.getY(f,u),A=l.getX(f,m),b=l.getY(f,m),R=l.getX(d,m),F=l.getY(d,m),L=l.getX(d,u),O=l.getY(d,u);s.pipelines.preBatch(i),r.batchPointLight(i,n,T,C,A,b,R,F,L,O,x,S),s.pipelines.postBatch(i)};c.exports=p},591:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(81320),s=t(88571),i=new o({Extends:s,initialize:function(e,r,l,a,h){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=32),h===void 0&&(h=32);var f=new p(e.sys.textures,"",a,h);s.call(this,e,r,l,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.texture.setSize(n,e),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=n,r.hitArea.height=e),this},resize:function(n,e){return this.setSize(n,e),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,r,l,a,h){return this.texture.fill(n,e,r,l,a,h),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,r,l,a){return this.texture.stamp(n,e,r,l,a),this},erase:function(n,e,r){return this.texture.erase(n,e,r),this},draw:function(n,e,r,l,a){return this.texture.draw(n,e,r,l,a),this},drawFrame:function(n,e,r,l,a,h){return this.texture.drawFrame(n,e,r,l,a,h),this},repeat:function(n,e,r,l,a,h,f,u,d){return this.texture.repeat(n,e,r,l,a,h,f,u,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,r,l,a){return this.texture.batchDraw(n,e,r,l,a),this},batchDrawFrame:function(n,e,r,l,a,h){return this.texture.batchDrawFrame(n,e,r,l,a,h),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,r,l,a,h,f){return this.texture.snapshotArea(n,e,r,l,a,h,f),this},snapshot:function(n,e,r){return this.snapshotArea(0,0,this.width,this.height,n,e,r)},snapshotPixel:function(n,e,r){return this.snapshotArea(n,e,1,1,r,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=i},34495:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(591);p.register("renderTexture",function(n,e){n===void 0&&(n={});var r=s(n,"x",0),l=s(n,"y",0),a=s(n,"width",32),h=s(n,"height",32),f=new i(this.scene,r,l,a,h);return e!==void 0&&(n.add=e),o(this.scene,f,n),f})},60505:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(591);o.register("renderTexture",function(s,i,n,e){return this.displayList.add(new p(this.scene,s,i,n,e))})},77757:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(83419),s=t(31401),i=t(95643),n=t(36060),e=t(38745),r=t(26099),l=new p({Extends:i,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.PostPipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,e],initialize:function(h,f,u,d,m,x,S,T,C){d===void 0&&(d="__DEFAULT"),x===void 0&&(x=2),S===void 0&&(S=!0),i.call(this,h,"Rope"),this.anims=new o(this),this.points=x,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=S,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,m),this.setPosition(f,u),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(x)&&this.resizeArrays(x.length),this.setPoints(x,T,C),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,h){var f=this.anims.currentFrame;this.anims.update(a,h),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(a,h,f){return this.anims.play(a,h,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,h,f){return a===void 0&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,h,f))},setVertical:function(a,h,f){return a===void 0&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,h,f)):this},setTintFill:function(a){return a===void 0&&(a=!1),this.tintFill=a,this},setAlphas:function(a,h){var f=this.points.length;if(f<1)return this;var u=this.alphas;a===void 0?a=[1]:!Array.isArray(a)&&h===void 0&&(a=[a]);var d,m=0;if(h!==void 0)for(d=0;d<f;d++)m=d*2,u[m]=a,u[m+1]=h;else if(a.length===f)for(d=0;d<f;d++)m=d*2,u[m]=a[d],u[m+1]=a[d];else{var x=a[0];for(d=0;d<f;d++)m=d*2,a.length>m&&(x=a[m]),u[m]=x,a.length>m+1&&(x=a[m+1]),u[m+1]=x}return this},setColors:function(a){var h=this.points.length;if(h<1)return this;var f=this.colors;a===void 0?a=[16777215]:Array.isArray(a)||(a=[a]);var u,d=0;if(a.length===h)for(u=0;u<h;u++)d=u*2,f[d]=a[u],f[d+1]=a[u];else{var m=a[0];for(u=0;u<h;u++)d=u*2,a.length>d&&(m=a[d]),f[d]=m,a.length>d+1&&(m=a[d+1]),f[d+1]=m}return this},setPoints:function(a,h,f){if(a===void 0&&(a=2),typeof a=="number"){var u=a;u<2&&(u=2),a=[];var d,m,x;if(this.horizontal)for(x=-this.frame.halfWidth,m=this.frame.width/(u-1),d=0;d<u;d++)a.push({x:x+d*m,y:0});else for(x=-this.frame.halfHeight,m=this.frame.height/(u-1),d=0;d<u;d++)a.push({x:0,y:x+d*m})}var S=a.length,T=this.points.length;return S<1?(console.warn("Rope: Not enough points given"),this):(S===1&&(a.unshift({x:0,y:0}),S++),T!==S&&this.resizeArrays(S),this.dirty=!0,this.points=a,this.updateUVs(),h!=null&&this.setColors(h),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var a=this.uv,h=this.points.length,f=this.frame.u0,u=this.frame.v0,d=this.frame.u1,m=this.frame.v1,x=(d-f)/(h-1),S=(m-u)/(h-1),T=0;T<h;T++){var C=T*4,A,b,R,F;this.horizontal?(this._flipX?(A=d-T*x,R=d-T*x):(A=f+T*x,R=f+T*x),this._flipY?(b=m,F=u):(b=u,F=m)):(this._flipX?(A=f,R=d):(A=d,R=f),this._flipY?(b=m-T*S,F=m-T*S):(b=u+T*S,F=u+T*S)),a[C+0]=A,a[C+1]=b,a[C+2]=R,a[C+3]=F}return this},resizeArrays:function(a){var h=this.colors,f=this.alphas;this.vertices=new Float32Array(a*4),this.uv=new Float32Array(a*4),h=new Uint32Array(a*2),f=new Float32Array(a*2);for(var u=0;u<a*2;u++)h[u]=16777215,f[u]=1;return this.colors=h,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var a=this._perp,h=this.points,f=this.vertices,u=h.length;if(this.dirty=!1,!(u<1)){for(var d,m=h[0],x=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,S=0;S<u;S++){var T=h[S],C=S*4;S<u-1?d=h[S+1]:d=T,a.x=d.y-m.y,a.y=-(d.x-m.x);var A=a.length();a.x/=A,a.y/=A,a.x*=x,a.y*=x,f[C]=T.x+a.x,f[C+1]=T.y+a.y,f[C+2]=T.x-a.x,f[C+3]=T.y-a.y,m=T}return this}},setDebug:function(a,h){return this.debugGraphic=a,!a&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(a,h,f){var u=a.debugGraphic,d=f[0],m=f[1],x=f[2],S=f[3];u.lineBetween(d,m,x,S);for(var T=4;T<h;T+=4){var C=f[T+0],A=f[T+1],b=f[T+2],R=f[T+3];u.lineBetween(d,m,C,A),u.lineBetween(x,S,b,R),u.lineBetween(x,S,C,A),u.lineBetween(C,A,b,R),d=C,m=A,x=b,S=R}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});c.exports=l},95262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};c.exports=y},26209:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(35154),n=t(77757);p.register("rope",function(e,r){e===void 0&&(e={});var l=s(e,"key",null),a=s(e,"frame",null),h=s(e,"horizontal",!0),f=i(e,"points",void 0),u=i(e,"colors",void 0),d=i(e,"alphas",void 0),m=new n(this.scene,0,0,l,a,f,h,u,d);return r!==void 0&&(e.add=r),o(this.scene,m,e),m})},96819:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(77757),p=t(39429);p.register("rope",function(s,i,n,e,r,l,a,h){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a,h))})},38745:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(20439),s=t(95262),c.exports={renderWebGL:p,renderCanvas:s}},20439:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline,n),a=o(n,e,r).calc,h=n.vertices,f=n.uv,u=n.colors,d=n.alphas,m=n.alpha,x=p.getTintAppendFloatAlpha,S=e.roundPixels,T=h.length,C=Math.floor(T*.5);l.flush(),i.pipelines.preBatch(n);var A=l.setGameObject(n),b=l.vertexViewF32,R=l.vertexViewU32,F=l.vertexCount*l.currentShader.vertexComponentCount-1,L=0,O=n.tintFill;n.dirty&&n.updateVertices();for(var I=n.debugCallback,B=[],U=0;U<T;U+=2){var H=h[U+0],J=h[U+1],tt=H*a.a+J*a.c+a.e,X=H*a.b+J*a.d+a.f;S&&(tt=Math.round(tt),X=Math.round(X)),b[++F]=tt,b[++F]=X,b[++F]=f[U+0],b[++F]=f[U+1],b[++F]=A,b[++F]=O,R[++F]=x(u[L],e.alpha*(d[L]*m)),L++,I&&(B[U+0]=tt,B[U+1]=X)}I&&I.call(n,n,T,B),l.vertexCount+=C,l.currentBatch.count=l.vertexCount-l.currentBatch.start,i.pipelines.postBatch(n)};c.exports=s},20071:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(95643),i=t(95540),n=t(79291),e=t(61622),r=t(25479),l=t(61340),a=t(95428),h=t(92503),f=new o({Extends:s,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,r],initialize:function(d,m,x,S,T,C,A,b){x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=128),C===void 0&&(C=128),s.call(this,d,"Shader"),this.blendMode=-1,this.shader;var R=d.sys.renderer;this.renderer=R,this.gl=R.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=R.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=R.width,this._rendererHeight=R.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(x,S),this.setSize(T,C),this.setOrigin(.5,.5),this.setShader(m,A,b),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(u){return this.renderToTexture?!0:!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setRenderToTexture:function(u,d){if(!this.renderToTexture){var m=this.width,x=this.height,S=this.renderer;this.glTexture=S.createTextureFromSource(null,m,x,0),this.framebuffer=S.createFramebuffer(m,x,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=x,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),u&&(this.texture=this.scene.sys.textures.addGLTexture(u,this.glTexture))}return this.shader&&(S.pipelines.clear(),this.load(),this.flush(),S.pipelines.rebind()),this},setShader:function(u,d,m){if(this.renderer.contextLost)return this._deferSetShader={key:u,textures:d,textureData:m},this;if(d===void 0&&(d=[]),typeof u=="string"){var x=this.scene.sys.cache.shader;if(!x.has(u))return console.warn("Shader missing: "+u),this;this.shader=x.get(u)}else this.shader=u;var S=this.gl,T=this.renderer;this.program&&T.deleteProgram(this.program);var C=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);S.uniformMatrix4fv(S.getUniformLocation(C.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),S.uniformMatrix4fv(S.getUniformLocation(C.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),S.uniform2f(S.getUniformLocation(C.webGLProgram,"uResolution"),this.width,this.height),this.program=C;var A=new Date,b={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,b):this.uniforms=b;for(var R=0;R<4;R++)d[R]&&this.setSampler2D("iChannel"+R,d[R],R,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(u){return this.pointer=u,this},projOrtho:function(u,d,m,x){if(this.renderer.contextLost){this._deferProjOrtho={left:u,right:d,bottom:m,top:x};return}var S=-1e3,T=1e3,C=1/(u-d),A=1/(m-x),b=1/(S-T),R=this.projectionMatrix;R[0]=-2*C,R[5]=-2*A,R[10]=2*b,R[12]=(u+d)*C,R[13]=(x+m)*A,R[14]=(T+S)*b;var F=this.program,L=this.gl,O=this.renderer;O.setProgram(F),L.uniformMatrix4fv(L.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=m},initUniforms:function(){var u=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var m in this.uniforms){var x=this.uniforms[m],S=x.type,T=u[S];x.uniformLocation=this.renderer.createUniformLocation(d,m),S!=="sampler2D"&&(x.glMatrix=T.matrix,x.glValueLength=T.length,x.glFunc=T.func)}},setSampler2DBuffer:function(u,d,m,x,S,T){S===void 0&&(S=0),T===void 0&&(T={});var C=this.uniforms[u];return C.value=d,T.width=m,T.height=x,C.textureData=T,this._textureCount=S,this.initSampler2D(C),this},setSampler2D:function(u,d,m,x){m===void 0&&(m=0);var S=this.scene.sys.textures;if(S.exists(d)){var T=S.getFrame(d);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(u,T.glTexture,T.width,T.height,m,x);var C=this.uniforms[u],A=T.source;C.textureKey=d,C.source=A.image,C.value=T.glTexture,A.isGLTexture&&(x||(x={}),x.width=A.width,x.height=A.height),x&&(C.textureData=x),this._textureCount=m,this.initSampler2D(C)}return this},setUniform:function(u,d){return e(this.uniforms,u,d),this},getUniform:function(u){return i(this.uniforms,u,null)},setChannel0:function(u,d){return this.setSampler2D("iChannel0",u,0,d)},setChannel1:function(u,d){return this.setSampler2D("iChannel1",u,1,d)},setChannel2:function(u,d){return this.setSampler2D("iChannel2",u,2,d)},setChannel3:function(u,d){return this.setSampler2D("iChannel3",u,3,d)},initSampler2D:function(u){if(u.value){var d=u.textureData;if(d&&!u.value.isRenderTexture){var m=this.gl,x=u.value,S=m[i(d,"magFilter","linear").toUpperCase()],T=m[i(d,"minFilter","linear").toUpperCase()],C=m[i(d,"wrapS","repeat").toUpperCase()],A=m[i(d,"wrapT","repeat").toUpperCase()],b=m[i(d,"format","rgba").toUpperCase()],R=i(d,"flipY",!1),F=i(d,"width",x.width),L=i(d,"height",x.height),O=i(d,"source",x.pixels);d.repeat&&(C=m.REPEAT,A=m.REPEAT),d.width&&(O=null),x.update(O,F,L,R,C,A,T,S,b)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var u=this.gl,d=this.uniforms,m,x,S,T,C,A=0;for(var b in d)m=d[b],S=m.glFunc,x=m.glValueLength,T=m.uniformLocation,C=m.value,C!==null&&(x===1?m.glMatrix?S.call(u,T.webGLUniformLocation,m.transpose,C):S.call(u,T.webGLUniformLocation,C):x===2?S.call(u,T.webGLUniformLocation,C.x,C.y):x===3?S.call(u,T.webGLUniformLocation,C.x,C.y,C.z):x===4?S.call(u,T.webGLUniformLocation,C.x,C.y,C.z,C.w):m.type==="sampler2D"&&(u.activeTexture(u.TEXTURE0+A),u.bindTexture(u.TEXTURE_2D,C.webGLTexture),u.uniform1i(T.webGLUniformLocation,A),A++))},load:function(u){var d=this.gl,m=this.width,x=this.height,S=this.renderer,T=this.program,C=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,b=-this._displayOriginY;C[0]=u[0],C[1]=u[1],C[4]=u[2],C[5]=u[3],C[8]=u[4],C[9]=u[5],C[12]=C[0]*A+C[4]*b,C[13]=C[1]*A+C[5]*b}d.useProgram(T.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,C),d.uniformMatrix4fv(d.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height);var R=this.uniforms,F=R.resolution;F.value.x=m,F.value.y=x,R.time.value=S.game.loop.getDuration();var L=this.pointer;if(L){var O=R.mouse,I=L.x/m,B=1-L.y/x;O.value.x=I.toFixed(2),O.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var u=this.width,d=this.height,m=this.program,x=this.gl,S=this.vertexBuffer,T=this.renderer,C=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT)),x.bindBuffer(x.ARRAY_BUFFER,S.webGLBuffer);var A=x.getAttribLocation(m.webGLProgram,"inPosition");A!==-1&&(x.enableVertexAttribArray(A),x.vertexAttribPointer(A,2,x.FLOAT,!1,C,0));var b=this.vertexViewF32;b[3]=d,b[4]=u,b[5]=d,b[8]=u,b[9]=d,b[10]=u;var R=6;x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,R*C)),x.drawArrays(x.TRIANGLES,0,R),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var u=this._deferSetShader.key,d=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(u,d,m)}if(this._deferProjOrtho!==null){var x=this._deferProjOrtho.left,S=this._deferProjOrtho.right,T=this._deferProjOrtho.bottom,C=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(x,S,T,C)}},preDestroy:function(){var u=this.renderer;u.off(h.RESTORE_WEBGL,this.onContextRestored,this),u.deleteProgram(this.program),u.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(u.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),a(this.uniforms,function(d){u.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});c.exports=f},80464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};c.exports=y},54935:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(20071);p.register("shader",function(n,e){n===void 0&&(n={});var r=s(n,"key",null),l=s(n,"x",0),a=s(n,"y",0),h=s(n,"width",128),f=s(n,"height",128),u=new i(this.scene,r,l,a,h,f);return e!==void 0&&(n.add=e),o(this.scene,u,n),u})},74177:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20071),p=t(39429);p.register("shader",function(s,i,n,e,r,l,a){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a))})},25479:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(19257),s=t(80464),c.exports={renderWebGL:p,renderCanvas:s}},19257:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(s,i,n,e){if(i.shader){if(n.addToRenderList(i),s.pipelines.clear(),i.renderToTexture)i.load(),i.flush();else{var r=o(i,n,e).calc;(s.width!==i._rendererWidth||s.height!==i._rendererHeight)&&i.projOrtho(0,s.width,s.height,0),i.load(r.matrix),i.flush()}s.pipelines.rebind()}};c.exports=p},10441:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(s,i,n,e,r,l){for(var a=o.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),h=n.pathData,f=n.pathIndexes,u=0;u<f.length;u+=3){var d=f[u]*2,m=f[u+1]*2,x=f[u+2]*2,S=h[d+0]-r,T=h[d+1]-l,C=h[m+0]-r,A=h[m+1]-l,b=h[x+0]-r,R=h[x+1]-l,F=i.getX(S,T),L=i.getY(S,T),O=i.getX(C,A),I=i.getY(C,A),B=i.getX(b,R),U=i.getY(b,R);s.batchTri(n,F,L,O,I,B,U,0,0,1,1,a,a,a,2)}};c.exports=p},65960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=p||o.fillColor,n=s||o.fillAlpha,e=(i&16711680)>>>16,r=(i&65280)>>>8,l=i&255;t.fillStyle="rgba("+e+","+r+","+l+","+n+")"};c.exports=y},75177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=p||o.strokeColor,n=s||o.strokeAlpha,e=(i&16711680)>>>16,r=(i&65280)>>>8,l=i&255;t.strokeStyle="rgba("+e+","+r+","+l+","+n+")",t.lineWidth=o.lineWidth};c.exports=y},17803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(95643),i=t(23031),n=new o({Extends:s,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(r,l,a){l===void 0&&(l="Shape"),s.call(this,r,l),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new i,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,r){return r===void 0&&(r=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(e,r,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=r,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,r){return this.width=e,this.height=r,this},setDisplaySize:function(e,r){return this.displayWidth=e,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});c.exports=n},34682:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(s,i,n,e,r){var l=s.strokeTint,a=o.getTintAppendFloatAlpha(i.strokeColor,i.strokeAlpha*n);l.TL=a,l.TR=a,l.BL=a,l.BR=a;var h=i.pathData,f=h.length-1,u=i.lineWidth,d=u/2,m=h[0]-e,x=h[1]-r;i.closePath||(f-=2);for(var S=2;S<f;S+=2){var T=h[S]-e,C=h[S+1]-r;s.batchLine(m,x,T,C,d,d,u,S-2,i.closePath?S===f-1:!1),m=T,x=C}};c.exports=p},23629:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13609),p=t(83419),s=t(39506),i=t(94811),n=t(96503),e=t(36383),r=t(17803),l=new p({Extends:r,Mixins:[o],initialize:function(h,f,u,d,m,x,S,T,C){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),m===void 0&&(m=0),x===void 0&&(x=360),S===void 0&&(S=!1),r.call(this,h,"Arc",new n(0,0,d)),this._startAngle=m,this._endAngle=x,this._anticlockwise=S,this._iterations=.01,this.setPosition(f,u);var A=this.geom.radius*2;this.setSize(A,A),T!==void 0&&this.setFillStyle(T,C),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var h=a*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return a===void 0&&(a=.01),this.iterations=a,this},setStartAngle:function(a,h){return this._startAngle=a,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(a,h){return this._endAngle=a,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var a=this._iterations,h=a,f=this.geom.radius,u=s(this._startAngle),d=s(this._endAngle),m=this._anticlockwise,x=f,S=f;d-=u,m?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var T=[x+Math.cos(u)*f,S+Math.sin(u)*f],C;h<1;)C=d*h+u,T.push(x+Math.cos(C)*f,S+Math.sin(C)*f),h+=a;return C=d+u,T.push(x+Math.cos(C)*f,S+Math.sin(C)*f),T.push(x+Math.cos(u)*f,S+Math.sin(u)*f),this.pathIndexes=i(T),this.pathData=T,this}});c.exports=l},42542:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),p=t(65960),s=t(75177),i=t(20926),n=function(e,r,l,a){l.addToRenderList(r);var h=e.currentContext;if(i(e,h,r,l,a)){var f=r.radius;h.beginPath(),h.arc(f-r.originX*(f*2),f-r.originY*(f*2),f,o(r._startAngle),o(r._endAngle),r.anticlockwise),r.closePath&&h.closePath(),r.isFilled&&(p(h,r),h.fill()),r.isStroked&&(s(h,r),h.stroke()),h.restore()}};c.exports=n},42563:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23629),p=t(39429);p.register("arc",function(s,i,n,e,r,l,a,h){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a,h))}),p.register("circle",function(s,i,n,e,r){return this.displayList.add(new o(this.scene,s,i,n,0,360,!1,e,r))})},13609:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(41447),s=t(42542),c.exports={renderWebGL:p,renderCanvas:s}},41447:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(10441),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=o(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,d=e._displayOriginY,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&p(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},89:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(33141),s=t(94811),i=t(87841),n=t(17803),e=new o({Extends:n,Mixins:[p],initialize:function(l,a,h,f,u,d){a===void 0&&(a=0),h===void 0&&(h=0),n.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new i,this.closePath=!1,this.setPosition(a,h),u!==void 0&&this.setFillStyle(u,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,l=this._smoothness;this.geom.getBounds(r,l),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var a=[],h=this.geom.getPoints(l),f=0;f<h.length;f++)a.push(h[f].x,h[f].y);return a.push(h[0].x,h[0].y),this.pathIndexes=s(a),this.pathData=a,this}});c.exports=e},3170:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,u=e.pathData,d=u.length-1,m=u[0]-h,x=u[1]-f;a.beginPath(),a.moveTo(m,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=u[S]-h,C=u[S+1]-f;a.lineTo(T,C)}e.closePath&&a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(p(a,e),a.stroke()),a.restore()}};c.exports=i},40511:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(89);o.register("curve",function(s,i,n,e,r){return this.displayList.add(new p(this.scene,s,i,n,e,r))})},33141:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(53987),s=t(3170),c.exports={renderWebGL:p,renderCanvas:s}},53987:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),p=t(91296),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=p(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},19921:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(94811),s=t(54205),i=t(8497),n=t(17803),e=new o({Extends:n,Mixins:[s],initialize:function(l,a,h,f,u,d,m){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=128),u===void 0&&(u=128),n.call(this,l,"Ellipse",new i(f/2,u/2,f,u)),this._smoothness=64,this.setPosition(a,h),this.width=f,this.height=u,d!==void 0&&this.setFillStyle(d,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,l){return this.width=r,this.height=l,this.geom.setPosition(r/2,l/2),this.geom.setSize(r,l),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],l=this.geom.getPoints(this._smoothness),a=0;a<l.length;a++)r.push(l[a].x,l[a].y);return r.push(l[0].x,l[0].y),this.pathIndexes=p(r),this.pathData=r,this}});c.exports=e},7930:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,m=u[0]-h,x=u[1]-f;a.beginPath(),a.moveTo(m,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=u[S]-h,C=u[S+1]-f;a.lineTo(T,C)}a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(p(a,e),a.stroke()),a.restore()}};c.exports=i},1543:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19921),p=t(39429);p.register("ellipse",function(s,i,n,e,r,l){return this.displayList.add(new o(this.scene,s,i,n,e,r,l))})},54205:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(19467),s=t(7930),c.exports={renderWebGL:p,renderCanvas:s}},19467:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),p=t(91296),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=p(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,d=e._displayOriginY,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},30479:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(17803),s=t(26015),i=new o({Extends:p,Mixins:[s],initialize:function(e,r,l,a,h,f,u,d,m,x,S){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=128),h===void 0&&(h=128),f===void 0&&(f=32),u===void 0&&(u=32),p.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=u,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,l),this.setSize(a,h),this.setFillStyle(d,m),x!==void 0&&this.setOutlineStyle(x,S),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});c.exports=i},49912:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=-e._displayOriginX,f=-e._displayOriginY,u=r.alpha*e.alpha,d=e.width,m=e.height,x=e.cellWidth,S=e.cellHeight,T=Math.ceil(d/x),C=Math.ceil(m/S),A=x,b=S,R=x-(T*x-d),F=S-(C*S-m),L=e.showCells,O=e.showAltCells,I=e.showOutline,B=0,U=0,H=0,J=0,tt=0;if(I&&(A--,b--,R===x&&R--,F===S&&F--),L&&e.fillAlpha>0)for(o(a,e),U=0;U<C;U++)for(O&&(H=U%2),B=0;B<T;B++){if(O&&H){H=0;continue}H++,J=B<T-1?A:R,tt=U<C-1?b:F,a.fillRect(h+B*x,f+U*S,J,tt)}if(O&&e.altFillAlpha>0)for(o(a,e,e.altFillColor,e.altFillAlpha*u),U=0;U<C;U++)for(O&&(H=U%2),B=0;B<T;B++){if(O&&!H){H=1;continue}H=0,J=B<T-1?A:R,tt=U<C-1?b:F,a.fillRect(h+B*x,f+U*S,J,tt)}if(I&&e.outlineFillAlpha>0){for(p(a,e,e.outlineFillColor,e.outlineFillAlpha*u),B=1;B<T;B++){var X=B*x;a.beginPath(),a.moveTo(X+h,f),a.lineTo(X+h,m+f),a.stroke()}for(U=1;U<C;U++){var j=U*S;a.beginPath(),a.moveTo(h,j+f),a.lineTo(h+d,j+f),a.stroke()}}a.restore()}};c.exports=i},34137:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(30479);o.register("grid",function(s,i,n,e,r,l,a,h,f,u){return this.displayList.add(new p(this.scene,s,i,n,e,r,l,a,h,f,u))})},26015:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(46161),s=t(49912),c.exports={renderWebGL:p,renderCanvas:s}},46161:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline),a=o(n,e,r),h=l.calcMatrix.copyFrom(a.calc);h.translate(-n._displayOriginX,-n._displayOriginY);var f=e.alpha*n.alpha,u=n.width,d=n.height,m=n.cellWidth,x=n.cellHeight,S=Math.ceil(u/m),T=Math.ceil(d/x),C=m,A=x,b=m-(S*m-u),R=x-(T*x-d),F,L,O=n.showCells,I=n.showAltCells,B=n.showOutline,U=0,H=0,J=0,tt=0,X=0;if(B&&(C--,A--,b===m&&b--,R===x&&R--),i.pipelines.preBatch(n),O&&n.fillAlpha>0)for(F=l.fillTint,L=p.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*f),F.TL=L,F.TR=L,F.BL=L,F.BR=L,H=0;H<T;H++)for(I&&(J=H%2),U=0;U<S;U++){if(I&&J){J=0;continue}J++,tt=U<S-1?C:b,X=H<T-1?A:R,l.batchFillRect(U*m,H*x,tt,X)}if(I&&n.altFillAlpha>0)for(F=l.fillTint,L=p.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*f),F.TL=L,F.TR=L,F.BL=L,F.BR=L,H=0;H<T;H++)for(I&&(J=H%2),U=0;U<S;U++){if(I&&!J){J=1;continue}J=0,tt=U<S-1?C:b,X=H<T-1?A:R,l.batchFillRect(U*m,H*x,tt,X)}if(B&&n.outlineFillAlpha>0){var j=l.strokeTint,D=p.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*f);for(j.TL=D,j.TR=D,j.BL=D,j.BR=D,U=1;U<S;U++){var z=U*m;l.batchLine(z,0,z,d,1,1,1,0,!1)}for(H=1;H<T;H++){var $=H*x;l.batchLine(0,$,u,$,1,1,1,0,!1)}}i.pipelines.postBatch(n)};c.exports=s},61475:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99651),p=t(83419),s=t(17803),i=new p({Extends:s,Mixins:[o],initialize:function(e,r,l,a,h,f,u,d){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=48),h===void 0&&(h=32),f===void 0&&(f=15658734),u===void 0&&(u=10066329),d===void 0&&(d=13421772),s.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=u,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,l),this.setSize(a,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,r){return n===void 0&&(n=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=n,this.showLeft=e,this.showRight=r,this},setFillStyle:function(n,e,r){return this.fillTop=n,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});c.exports=i},11508:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(20926),s=function(i,n,e,r){e.addToRenderList(n);var l=i.currentContext;if(p(i,l,n,e,r)&&n.isFilled){var a=n.width,h=n.height,f=a/2,u=a/n.projection;n.showTop&&(o(l,n,n.fillTop),l.beginPath(),l.moveTo(-f,-h),l.lineTo(0,-u-h),l.lineTo(f,-h),l.lineTo(f,-1),l.lineTo(0,u-1),l.lineTo(-f,-1),l.lineTo(-f,-h),l.fill()),n.showLeft&&(o(l,n,n.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,u),l.lineTo(0,u-h),l.lineTo(-f,-h),l.lineTo(-f,0),l.fill()),n.showRight&&(o(l,n,n.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,u),l.lineTo(0,u-h),l.lineTo(f,-h),l.lineTo(f,0),l.fill()),l.restore()}};c.exports=s},3933:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(61475);o.register("isobox",function(s,i,n,e,r,l,a){return this.displayList.add(new p(this.scene,s,i,n,e,r,l,a))})},99651:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(68149),s=t(11508),c.exports={renderWebGL:p,renderCanvas:s}},68149:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline),a=o(n,e,r),h=l.calcMatrix.copyFrom(a.calc),f=n.width,u=n.height,d=f/2,m=f/n.projection,x=e.alpha*n.alpha;if(n.isFilled){var S,T,C,A,b,R,F,L,O;i.pipelines.preBatch(n),n.showTop&&(S=p.getTintAppendFloatAlpha(n.fillTop,x),T=h.getX(-d,-u),C=h.getY(-d,-u),A=h.getX(0,-m-u),b=h.getY(0,-m-u),R=h.getX(d,-u),F=h.getY(d,-u),L=h.getX(0,m-u),O=h.getY(0,m-u),l.batchQuad(n,T,C,A,b,R,F,L,O,0,0,1,1,S,S,S,S,2)),n.showLeft&&(S=p.getTintAppendFloatAlpha(n.fillLeft,x),T=h.getX(-d,0),C=h.getY(-d,0),A=h.getX(0,m),b=h.getY(0,m),R=h.getX(0,m-u),F=h.getY(0,m-u),L=h.getX(-d,-u),O=h.getY(-d,-u),l.batchQuad(n,T,C,A,b,R,F,L,O,0,0,1,1,S,S,S,S,2)),n.showRight&&(S=p.getTintAppendFloatAlpha(n.fillRight,x),T=h.getX(d,0),C=h.getY(d,0),A=h.getX(0,m),b=h.getY(0,m),R=h.getX(0,m-u),F=h.getY(0,m-u),L=h.getX(d,-u),O=h.getY(d,-u),l.batchQuad(n,T,C,A,b,R,F,L,O,0,0,1,1,S,S,S,S,2)),i.pipelines.postBatch(n)}};c.exports=s},16933:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(60561),s=t(17803),i=new o({Extends:s,Mixins:[p],initialize:function(e,r,l,a,h,f,u,d,m){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=48),h===void 0&&(h=32),f===void 0&&(f=!1),u===void 0&&(u=15658734),d===void 0&&(d=10066329),m===void 0&&(m=13421772),s.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(r,l),this.setSize(a,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,r){return n===void 0&&(n=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=n,this.showLeft=e,this.showRight=r,this},setFillStyle:function(n,e,r){return this.fillTop=n,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});c.exports=i},79590:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(20926),s=function(i,n,e,r){e.addToRenderList(n);var l=i.currentContext;if(p(i,l,n,e,r)&&n.isFilled){var a=n.width,h=n.height,f=a/2,u=a/n.projection,d=n.isReversed;n.showTop&&d&&(o(l,n,n.fillTop),l.beginPath(),l.moveTo(-f,-h),l.lineTo(0,-u-h),l.lineTo(f,-h),l.lineTo(0,u-h),l.fill()),n.showLeft&&(o(l,n,n.fillLeft),l.beginPath(),d?(l.moveTo(-f,-h),l.lineTo(0,u),l.lineTo(0,u-h)):(l.moveTo(-f,0),l.lineTo(0,u),l.lineTo(0,u-h)),l.fill()),n.showRight&&(o(l,n,n.fillRight),l.beginPath(),d?(l.moveTo(f,-h),l.lineTo(0,u),l.lineTo(0,u-h)):(l.moveTo(f,0),l.lineTo(0,u),l.lineTo(0,u-h)),l.fill()),l.restore()}};c.exports=s},49803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(16933);o.register("isotriangle",function(s,i,n,e,r,l,a,h){return this.displayList.add(new p(this.scene,s,i,n,e,r,l,a,h))})},60561:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(51503),s=t(79590),c.exports={renderWebGL:p,renderCanvas:s}},51503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline),a=o(n,e,r),h=l.calcMatrix.copyFrom(a.calc),f=n.width,u=n.height,d=f/2,m=f/n.projection,x=n.isReversed,S=e.alpha*n.alpha;if(n.isFilled){i.pipelines.preBatch(n);var T,C,A,b,R,F,L;if(n.showTop&&x){T=p.getTintAppendFloatAlpha(n.fillTop,S),C=h.getX(-d,-u),A=h.getY(-d,-u),b=h.getX(0,-m-u),R=h.getY(0,-m-u),F=h.getX(d,-u),L=h.getY(d,-u);var O=h.getX(0,m-u),I=h.getY(0,m-u);l.batchQuad(n,C,A,b,R,F,L,O,I,0,0,1,1,T,T,T,T,2)}n.showLeft&&(T=p.getTintAppendFloatAlpha(n.fillLeft,S),x?(C=h.getX(-d,-u),A=h.getY(-d,-u),b=h.getX(0,m),R=h.getY(0,m),F=h.getX(0,m-u),L=h.getY(0,m-u)):(C=h.getX(-d,0),A=h.getY(-d,0),b=h.getX(0,m),R=h.getY(0,m),F=h.getX(0,m-u),L=h.getY(0,m-u)),l.batchTri(n,C,A,b,R,F,L,0,0,1,1,T,T,T,2)),n.showRight&&(T=p.getTintAppendFloatAlpha(n.fillRight,S),x?(C=h.getX(d,-u),A=h.getY(d,-u),b=h.getX(0,m),R=h.getY(0,m),F=h.getX(0,m-u),L=h.getY(0,m-u)):(C=h.getX(d,0),A=h.getY(d,0),b=h.getX(0,m),R=h.getY(0,m),F=h.getX(0,m-u),L=h.getY(0,m-u)),l.batchTri(n,C,A,b,R,F,L,0,0,1,1,T,T,T,2)),i.pipelines.postBatch(n)}};c.exports=s},57847:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(17803),s=t(23031),i=t(36823),n=new o({Extends:p,Mixins:[i],initialize:function(r,l,a,h,f,u,d,m,x){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=128),d===void 0&&(d=0),p.call(this,r,"Line",new s(h,f,u,d));var S=Math.max(1,this.geom.right-this.geom.left),T=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,a),this.setSize(S,T),m!==void 0&&this.setStrokeStyle(1,m,x),this.updateDisplayOrigin()},setLineWidth:function(e,r){return r===void 0&&(r=e),this._startWidth=e,this._endWidth=r,this.lineWidth=e,this},setTo:function(e,r,l,a){return this.geom.setTo(e,r,l,a),this}});c.exports=n},17440:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75177),p=t(20926),s=function(i,n,e,r){e.addToRenderList(n);var l=i.currentContext;if(p(i,l,n,e,r)){var a=n._displayOriginX,h=n._displayOriginY;n.isStroked&&(o(l,n),l.beginPath(),l.moveTo(n.geom.x1-a,n.geom.y1-h),l.lineTo(n.geom.x2-a,n.geom.y2-h),l.stroke()),l.restore()}};c.exports=s},2481:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(57847);o.register("line",function(s,i,n,e,r,l,a,h){return this.displayList.add(new p(this.scene,s,i,n,e,r,l,a,h))})},36823:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(77385),s=t(17440),c.exports={renderWebGL:p,renderCanvas:s}},77385:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline),a=o(n,e,r);l.calcMatrix.copyFrom(a.calc);var h=n._displayOriginX,f=n._displayOriginY,u=e.alpha*n.alpha;if(i.pipelines.preBatch(n),n.isStroked){var d=l.strokeTint,m=p.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*u);d.TL=m,d.TR=m,d.BL=m,d.BR=m,l.batchLine(n.geom.x1-h,n.geom.y1-f,n.geom.x2-h,n.geom.y2-f,n._startWidth/2,n._endWidth/2,1,0,!1,a.sprite,a.camera)}i.pipelines.postBatch(n)};c.exports=s},24949:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90273),p=t(83419),s=t(94811),i=t(13829),n=t(25717),e=t(17803),r=t(5469),l=new p({Extends:e,Mixins:[o],initialize:function(h,f,u,d,m,x){f===void 0&&(f=0),u===void 0&&(u=0),e.call(this,h,"Polygon",new n(d));var S=i(this.geom);this.setPosition(f,u),this.setSize(S.width,S.height),m!==void 0&&this.setFillStyle(m,x),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){a===void 0&&(a=1);for(var h=0;h<a;h++)r(this.geom);return this.updateData()},setTo:function(a){this.geom.setTo(a);var h=i(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var a=[],h=this.geom.points,f=0;f<h.length;f++)a.push(h[f].x,h[f].y);return a.push(h[0].x,h[0].y),this.pathIndexes=s(a),this.pathData=a,this}});c.exports=l},38710:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,m=u[0]-h,x=u[1]-f;a.beginPath(),a.moveTo(m,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=u[S]-h,C=u[S+1]-f;a.lineTo(T,C)}e.closePath&&a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(p(a,e),a.stroke()),a.restore()}};c.exports=i},64827:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(24949);o.register("polygon",function(s,i,n,e,r){return this.displayList.add(new p(this.scene,s,i,n,e,r))})},90273:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(73695),s=t(38710),c.exports={renderWebGL:p,renderCanvas:s}},73695:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),p=t(91296),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=p(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,d=e._displayOriginY,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},74561:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(87841),s=t(17803),i=t(95597),n=new o({Extends:s,Mixins:[i],initialize:function(r,l,a,h,f,u,d){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=128),f===void 0&&(f=128),s.call(this,r,"Rectangle",new p(0,0,h,f)),this.setPosition(l,a),this.setSize(h,f),u!==void 0&&this.setFillStyle(u,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,r){this.width=e,this.height=r,this.geom.setSize(e,r),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=e,l.hitArea.height=r),this},updateData:function(){var e=[],r=this.geom,l=this._tempLine;return r.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),r.getLineB(l),e.push(l.x2,l.y2),r.getLineC(l),e.push(l.x2,l.y2),r.getLineD(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=n},48682:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(o(a,e),a.fillRect(-h,-f,e.width,e.height)),e.isStroked&&(p(a,e),a.beginPath(),a.rect(-h,-f,e.width,e.height),a.stroke()),a.restore()}};c.exports=i},87959:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(74561);o.register("rectangle",function(s,i,n,e,r,l){return this.displayList.add(new p(this.scene,s,i,n,e,r,l))})},95597:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(52059),s=t(48682),c.exports={renderWebGL:p,renderCanvas:s}},52059:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(34682),s=t(70554),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=o(e,r,l);a.calcMatrix.copyFrom(h.calc);var f=e._displayOriginX,u=e._displayOriginY,d=r.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var m=a.fillTint,x=s.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);m.TL=x,m.TR=x,m.BL=x,m.BR=x,a.batchFillRect(-f,-u,e.width,e.height)}e.isStroked&&p(a,e,d,f,u),n.pipelines.postBatch(e)};c.exports=i},55911:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81991),p=t(83419),s=t(94811),i=t(17803),n=new p({Extends:i,Mixins:[o],initialize:function(r,l,a,h,f,u,d,m){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=5),f===void 0&&(f=32),u===void 0&&(u=64),i.call(this,r,"Star",null),this._points=h,this._innerRadius=f,this._outerRadius=u,this.setPosition(l,a),this.setSize(u*2,u*2),d!==void 0&&this.setFillStyle(d,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],r=this._points,l=this._innerRadius,a=this._outerRadius,h=Math.PI/2*3,f=Math.PI/r,u=a,d=a;e.push(u,d+-a);for(var m=0;m<r;m++)e.push(u+Math.cos(h)*a,d+Math.sin(h)*a),h+=f,e.push(u+Math.cos(h)*l,d+Math.sin(h)*l),h+=f;return e.push(u,d+-a),this.pathIndexes=s(e),this.pathData=e,this}});c.exports=n},64272:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,m=u[0]-h,x=u[1]-f;a.beginPath(),a.moveTo(m,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=u[S]-h,C=u[S+1]-f;a.lineTo(T,C)}a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(p(a,e),a.stroke()),a.restore()}};c.exports=i},93697:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55911),p=t(39429);p.register("star",function(s,i,n,e,r,l,a){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a))})},81991:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(57017),s=t(64272),c.exports={renderWebGL:p,renderCanvas:s}},57017:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),p=t(91296),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=p(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,d=e._displayOriginY,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},36931:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(17803),s=t(16483),i=t(96195),n=new o({Extends:p,Mixins:[i],initialize:function(r,l,a,h,f,u,d,m,x,S,T){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=128),u===void 0&&(u=64),d===void 0&&(d=0),m===void 0&&(m=128),x===void 0&&(x=128),p.call(this,r,"Triangle",new s(h,f,u,d,m,x));var C=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(l,a),this.setSize(C,A),S!==void 0&&this.setFillStyle(S,T),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,r,l,a,h,f){return this.geom.setTo(e,r,l,a,h,f),this.updateData()},updateData:function(){var e=[],r=this.geom,l=this._tempLine;return r.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),r.getLineB(l),e.push(l.x2,l.y2),r.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=n},85172:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY,u=e.geom.x1-h,d=e.geom.y1-f,m=e.geom.x2-h,x=e.geom.y2-f,S=e.geom.x3-h,T=e.geom.y3-f;a.beginPath(),a.moveTo(u,d),a.lineTo(m,x),a.lineTo(S,T),a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(p(a,e),a.stroke()),a.restore()}};c.exports=i},45245:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(36931);o.register("triangle",function(s,i,n,e,r,l,a,h,f,u){return this.displayList.add(new p(this.scene,s,i,n,e,r,l,a,h,f,u))})},96195:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(83253),s=t(85172),c.exports={renderWebGL:p,renderCanvas:s}},83253:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(34682),s=t(70554),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=o(e,r,l);a.calcMatrix.copyFrom(h.calc);var f=e._displayOriginX,u=e._displayOriginY,d=r.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var m=a.fillTint,x=s.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);m.TL=x,m.TR=x,m.BL=x,m.BR=x;var S=e.geom.x1-f,T=e.geom.y1-u,C=e.geom.x2-f,A=e.geom.y2-u,b=e.geom.x3-f,R=e.geom.y3-u;a.batchFillTriangle(S,T,C,A,b,R,h.sprite,h.camera)}e.isStroked&&p(a,e,d,f,u),n.pipelines.postBatch(e)};c.exports=i},68287:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(83419),s=t(31401),i=t(95643),n=t(92751),e=new p({Extends:i,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,n],initialize:function(l,a,h,f,u){i.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(f,u),this.setPosition(a,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,l){this.anims.update(r,l)},play:function(r,l){return this.anims.play(r,l)},playReverse:function(r,l){return this.anims.playReverse(r,l)},playAfterDelay:function(r,l){return this.anims.playAfterDelay(r,l)},playAfterRepeat:function(r,l){return this.anims.playAfterRepeat(r,l)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=e},76552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p.addToRenderList(o),t.batchSprite(o,o.frame,p,s)};c.exports=y},15567:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(13059),s=t(44603),i=t(23568),n=t(68287);s.register("sprite",function(e,r){e===void 0&&(e={});var l=i(e,"key",null),a=i(e,"frame",null),h=new n(this.scene,0,0,l,a);return r!==void 0&&(e.add=r),o(this.scene,h,e),p(h,e),h})},46409:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(68287);o.register("sprite",function(s,i,n,e){return this.displayList.add(new p(this.scene,s,i,n,e))})},92751:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(9409),s=t(76552),c.exports={renderWebGL:p,renderCanvas:s}},9409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p.addToRenderList(o),o.pipeline.batchSprite(o,p,s)};c.exports=y},14220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=t.canvas,i=t.context,n=t.style,e=[],r=0,l=p.length;n.maxLines>0&&n.maxLines<p.length&&(l=n.maxLines),n.syncFont(s,i);for(var a=0;a<l;a++){var h=n.strokeThickness;h+=i.measureText(p[a]).width,p[a].length>1&&(h+=t.letterSpacing*(p[a].length-1)),n.wordWrap&&(h-=i.measureText(" ").width),e[a]=Math.ceil(h),r=Math.max(r,e[a])}var f=o.fontSize+n.strokeThickness,u=f*l,d=t.lineSpacing;return l>1&&(u+=d*(l-1)),{width:r,height:u,lines:l,lineWidths:e,lineSpacing:d,lineHeight:f}};c.exports=y},79557:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=function(s){var i=o.create(this),n=i.getContext("2d",{willReadFrequently:!0});s.syncFont(i,n);var e=n.measureText(s.testString);if("actualBoundingBoxAscent"in e){var r=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return o.remove(i),{ascent:r,descent:l,fontSize:r+l}}var a=Math.ceil(e.width*s.baselineX),h=a,f=2*h;h=h*s.baselineY|0,i.width=a,i.height=f,n.fillStyle="#f00",n.fillRect(0,0,a,f),n.font=s._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s.testString,0,h);var u={ascent:0,descent:0,fontSize:0},d=n.getImageData(0,0,a,f);if(!d)return u.ascent=h,u.descent=h+6,u.fontSize=u.ascent+u.descent,o.remove(i),u;var m=d.data,x=m.length,S=a*4,T,C,A=0,b=!1;for(T=0;T<h;T++){for(C=0;C<S;C+=4)if(m[A+C]!==255){b=!0;break}if(!b)A+=S;else break}for(u.ascent=h-T,A=x-S,b=!1,T=f;T>h;T--){for(C=0;C<S;C+=4)if(m[A+C]!==255){b=!0;break}if(!b)A-=S;else break}return u.descent=T-h,u.fontSize=u.ascent+u.descent,o.remove(i),u};c.exports=p},50171:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),p=t(27919),s=t(83419),i=t(31401),n=t(95643),e=t(14220),r=t(35154),l=t(35846),a=t(61771),h=t(35762),f=t(45650),u=new s({Extends:n,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Crop,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.PostPipeline,i.ScrollFactor,i.Tint,i.Transform,i.Visible,a],initialize:function(m,x,S,T,C){x===void 0&&(x=0),S===void 0&&(S=0),n.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(x,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new h(this,C),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(T),C&&C.padding&&this.setPadding(C.padding),C&&C.lineSpacing&&this.setLineSpacing(C.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var m=this.style;if(m.wordWrapCallback){var x=m.wordWrapCallback.call(m.wordWrapCallbackScope,d,this);return Array.isArray(x)&&(x=x.join(`
`)),x}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,m,x){for(var S="",T=d.replace(/ +/gi," ").split(this.splitRegExp),C=T.length,A=0;A<C;A++){var b=T[A],R="";b=b.replace(/^ *|\s*$/gi,"");var F=m.measureText(b).width;if(F<x){S+=b+`
`;continue}for(var L=x,O=b.split(" "),I=0;I<O.length;I++){var B=O[I],U=B+" ",H=m.measureText(U).width;if(H>L){if(I===0){for(var J=U;J.length&&(J=J.slice(0,-1),H=m.measureText(J).width,!(H<=L)););if(!J.length)throw new Error("wordWrapWidth < a single character");var tt=B.substr(J.length);O[I]=tt,R+=J}var X=O[I].length?I:I+1,j=O.slice(X).join(" ").replace(/[ \n]*$/gi,"");T.splice(A+1,0,j),C=T.length;break}else R+=U,L-=H}S+=R.replace(/[ \n]*$/gi,"")+`
`}return S=S.replace(/[\s|\n]*$/gi,""),S},basicWordWrap:function(d,m,x){for(var S="",T=d.split(this.splitRegExp),C=T.length-1,A=m.measureText(" ").width,b=0;b<=C;b++){for(var R=x,F=T[b].split(" "),L=F.length-1,O=0;O<=L;O++){var I=F[O],B=m.measureText(I).width,U=B;O<L&&(U+=A),U>R&&O>0&&(S+=`
`,R=x),S+=I,O<L?(S+=" ",R-=U):R-=B}b<C&&(S+=`
`)}return S},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(d);return m.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,m){m===void 0&&(m=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var x=this._text.concat(m?`
`+d:d);return x!==this._text&&(this._text=x,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,m){return this.style.setFixedSize(d,m)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,m){return this.style.setStroke(d,m)},setShadow:function(d,m,x,S,T,C){return this.style.setShadow(d,m,x,S,T,C)},setShadowOffset:function(d,m){return this.style.setShadowOffset(d,m)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,m){return this.style.setWordWrapWidth(d,m)},setWordWrapCallback:function(d,m){return this.style.setWordWrapCallback(d,m)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,m,x,S){if(typeof d=="object"){var T=d,C=r(T,"x",null);C!==null?(d=C,x=C):(d=r(T,"left",0),x=r(T,"right",d));var A=r(T,"y",null);A!==null?(m=A,S=A):(m=r(T,"top",0),S=r(T,"bottom",m))}else d===void 0&&(d=0),m===void 0&&(m=d),x===void 0&&(x=d),S===void 0&&(S=m);return this.padding.left=d,this.padding.top=m,this.padding.right=x,this.padding.bottom=S,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var m=this.style;return m.rtl===d?this:(m.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var d=this.canvas,m=this.context,x=this.style,S=x.resolution,T=x.metrics;x.syncFont(d,m);var C=this._text;(x.wordWrapWidth||x.wordWrapCallback)&&(C=this.runWordWrap(this._text));var A=C.split(this.splitRegExp),b=e(this,T,A),R=this.padding,F;x.fixedWidth===0?(this.width=b.width+R.left+R.right,F=b.width):(this.width=x.fixedWidth,F=this.width-R.left-R.right,F<b.width&&(F=b.width)),x.fixedHeight===0?this.height=b.height+R.top+R.bottom:this.height=x.fixedHeight;var L=this.width,O=this.height;this.updateDisplayOrigin(),L*=S,O*=S,L=Math.max(L,1),O=Math.max(O,1),d.width!==L||d.height!==O?(d.width=L,d.height=O,this.frame.setSize(L,O),x.syncFont(d,m),x.rtl&&(m.direction="rtl")):m.clearRect(0,0,L,O),m.save(),m.scale(S,S),x.backgroundColor&&(m.fillStyle=x.backgroundColor,m.fillRect(0,0,L,O)),x.syncStyle(d,m),m.translate(R.left,R.top);for(var I,B,U=0;U<b.lines;U++){if(I=x.strokeThickness/2,B=x.strokeThickness/2+U*b.lineHeight+T.ascent,U>0&&(B+=b.lineSpacing*U),x.rtl)I=L-I-R.left-R.right;else if(x.align==="right")I+=F-b.lineWidths[U];else if(x.align==="center")I+=(F-b.lineWidths[U])/2;else if(x.align==="justify"){var H=.85;if(b.lineWidths[U]/b.width>=H){var J=b.width-b.lineWidths[U],tt=m.measureText(" ").width,X=A[U].trim(),j=X.split(" ");J+=(A[U].length-X.length)*tt;for(var D=Math.floor(J/tt),z=0;D>0;)j[z]+=" ",z=(z+1)%(j.length-1||1),--D;A[U]=j.join(" ")}}if(this.autoRound&&(I=Math.round(I),B=Math.round(B)),x.strokeThickness&&(x.syncShadow(m,x.shadowStroke),m.strokeText(A[U],I,B)),x.color){x.syncShadow(m,x.shadowFill);var $=this.letterSpacing;if($!==0)for(var K=0,Z=A[U].split(""),it=0;it<Z.length;it++)m.fillText(Z[it],I+K,B),K+=m.measureText(Z[it]).width+$;else m.fillText(A[U],I,B)}}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var st=this.input;return st&&!st.customHitArea&&(st.hitArea.width=this.width,st.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=i.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=m,d},preDestroy:function(){l(this.canvas),p.remove(this.canvas);var d=this.texture;d&&d.destroy()}});c.exports=u},79724:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){o.width===0||o.height===0||(p.addToRenderList(o),t.batchSprite(o,o.frame,p,s))};c.exports=y},71259:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(50171);p.register("text",function(n,e){n===void 0&&(n={});var r=s(n,"text",""),l=s(n,"style",null),a=s(n,"padding",null);a!==null&&(l.padding=a);var h=new i(this.scene,0,0,r,l);return e!==void 0&&(n.add=e),o(this.scene,h,n),h.autoRound=s(n,"autoRound",!0),h.resolution=s(n,"resolution",1),h})},68005:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50171),p=t(39429);p.register("text",function(s,i,n,e){return this.displayList.add(new o(this.scene,s,i,n,e))})},61771:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(34397),s=t(79724),c.exports={renderWebGL:p,renderCanvas:s}},35762:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23568),s=t(35154),i=t(79557),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new o({initialize:function(l,a){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(a,!1,!0)},setStyle:function(r,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var h in n){var f=a?n[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=s(r,n[h][0],f):this[h]=p(r,n[h][0],f)}var u=s(r,"font",null);u!==null&&this.setFont(u,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=s(r,"fill",null);d!==null&&(this.color=d);var m=s(r,"metrics",!1);return m?this.metrics={ascent:s(m,"ascent",0),descent:s(m,"descent",0),fontSize:s(m,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=i(this)),l?this.parent.updateText():this.parent},syncFont:function(r,l){l.font=this._font},syncStyle:function(r,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(r,l){l?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=i(this)),this.parent.updateText()},setFont:function(r,l){l===void 0&&(l=!0);var a=r,h="",f="";if(typeof r!="string")a=s(r,"fontFamily","Courier"),h=s(r,"fontSize","16px"),f=s(r,"fontStyle","");else{var u=r.split(" "),d=0;f=u.length>2?u[d++]:"",h=u[d++]||"16px",a=u[d++]||"Courier"}return(a!==this.fontFamily||h!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=h,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,l){return this.fixedWidth=r,this.fixedHeight=l,r&&(this.parent.width=r),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,l){return l===void 0&&(l=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==l)&&(this.stroke=r,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(r,l,a,h,f,u){return r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a="#000"),h===void 0&&(h=0),f===void 0&&(f=!1),u===void 0&&(u=!0),this.shadowOffsetX=r,this.shadowOffsetY=l,this.shadowColor=a,this.shadowBlur=h,this.shadowStroke=f,this.shadowFill=u,this.update(!1)},setShadowOffset:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this.shadowOffsetX=r,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,l){return l===void 0&&(l=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(r,l){return l===void 0&&(l=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var l in n)r[l]=this[l];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});c.exports=e},34397:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(s,i,n,e){if(!(i.width===0||i.height===0)){n.addToRenderList(i);var r=i.frame,l=r.width,a=r.height,h=o.getTintAppendFloatAlpha,f=s.pipelines.set(i.pipeline,i),u=f.setTexture2D(r.glTexture,i);f.batchTexture(i,r.glTexture,l,a,i.x,i.y,l/i.style.resolution,a/i.style.resolution,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.displayOriginX,i.displayOriginY,0,0,l,a,h(i.tintTopLeft,n.alpha*i._alphaTL),h(i.tintTopRight,n.alpha*i._alphaTR),h(i.tintBottomLeft,n.alpha*i._alphaBL),h(i.tintBottomRight,n.alpha*i._alphaBR),i.tintFill,0,0,n,e,!1,u)}};c.exports=p},20839:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(83419),s=t(31401),i=t(95643),n=t(98439),e=t(68703),r=t(56295),l=t(45650),a=t(26099),h=8,f=new p({Extends:i,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,r],initialize:function(d,m,x,S,T,C,A){var b=d.sys.renderer;i.call(this,d,"TileSprite");var R=d.sys.textures.get(C),F=R.get(A);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),R=d.sys.textures.get("__MISSING"),F=R.get()),R.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),R=d.sys.textures.get("__MISSING"),F=R.get()),!S||!T?(S=F.width,T=F.height):(S=Math.floor(S),T=Math.floor(T)),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=b,this.canvas=o.create(this,S,T),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=R,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=n(F.width),this.potHeight=n(F.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,x),this.setSize(S,T),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(u,d){return this.displayTexture=this.scene.sys.textures.get(u),this.setFrame(d)},setFrame:function(u){var d=this.displayTexture.get(u);return this.potWidth=n(d.width),this.potHeight=n(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(u,d){return u!==void 0&&(this.tilePositionX=u),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(u,d){return u===void 0&&(u=this.tileScaleX),d===void 0&&(d=u),this.tileScaleX=u,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var u=this.displayFrame;if(u.source.isRenderTexture||u.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,m=this.fillCanvas,x=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(x=u.cutWidth,S=u.cutHeight),d.clearRect(0,0,x,S),m.width=x,m.height=S,d.drawImage(u.source.image,u.cutX,u.cutY,u.cutWidth,u.cutHeight,0,0,x,S),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=d.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var u=this.canvas;if((u.width!==this.width||u.height!==this.height)&&(u.width=this.width,u.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var m=this._tileScale.x,x=this._tileScale.y,S=this._tilePosition.x,T=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(m,x),d.translate(-S,-T),d.fillStyle=this.fillPattern,d.fillRect(S,T,this.width/m,this.height/x),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var u=this.texture;u&&u.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(u){this._tilePosition.x=u,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(u){this._tilePosition.y=u,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(u){this._tileScale.x=u,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(u){this._tileScale.y=u,this.dirty=!0}}});c.exports=f},46992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){o.updateCanvas(),p.addToRenderList(o),t.batchSprite(o,o.frame,p,s)};c.exports=y},14167:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(20839);p.register("tileSprite",function(n,e){n===void 0&&(n={});var r=s(n,"x",0),l=s(n,"y",0),a=s(n,"width",512),h=s(n,"height",512),f=s(n,"key",""),u=s(n,"frame",""),d=new i(this.scene,r,l,a,h,f,u);return e!==void 0&&(n.add=e),o(this.scene,d,n),d})},91681:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20839),p=t(39429);p.register("tileSprite",function(s,i,n,e,r,l){return this.displayList.add(new o(this.scene,s,i,n,e,r,l))})},56295:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(18553),s=t(46992),c.exports={renderWebGL:p,renderCanvas:s}},18553:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(s,i,n,e){i.updateCanvas();var r=i.width,l=i.height;if(!(r===0||l===0)){n.addToRenderList(i);var a=o.getTintAppendFloatAlpha,h=s.pipelines.set(i.pipeline,i),f=h.setTexture2D(i.fillPattern,i);h.batchTexture(i,i.fillPattern,i.displayFrame.width*i.tileScaleX,i.displayFrame.height*i.tileScaleY,i.x,i.y,r,l,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.originX*r,i.originY*l,0,0,r,l,a(i.tintTopLeft,n.alpha*i._alphaTL),a(i.tintTopRight,n.alpha*i._alphaTR),a(i.tintBottomLeft,n.alpha*i._alphaBL),a(i.tintBottomRight,n.alpha*i._alphaBR),i.tintFill,i.tilePositionX%i.displayFrame.width/i.displayFrame.width,i.tilePositionY%i.displayFrame.height/i.displayFrame.height,n,e,!1,f)}};c.exports=p},18471:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(31401),i=t(51708),n=t(8443),e=t(95643),r=t(36383),l=t(14463),a=t(45650),h=t(10247),f=new p({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.TextureCrop,s.Tint,s.Transform,s.Visible,h],initialize:function(d,m,x,S){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=a(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var T=d.sys.game;this._device=T.device.video,this.setPosition(m,x),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),T.events.on(n.PAUSE,this.globalPause,this),T.events.on(n.RESUME,this.globalResume,this);var C=d.sys.sound;C&&C.on(l.GLOBAL_MUTE,this.globalMute,this),S&&this.load(S)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(u){var d=this.scene.sys.cache.video.get(u);return d?(this.cacheKey=u,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+u),this},changeSource:function(u,d,m,x,S){d===void 0&&(d=!0),m===void 0&&(m=!1),this.cacheKey!==u&&(this.load(u),d&&this.play(m,x,S))},getVideoKey:function(){return this.cacheKey},loadURL:function(u,d,m){d===void 0&&(d=!1);var x=this._device.getVideoURL(u);return x?(this.cacheKey="",this.loadHandler(x.url,d,m)):console.warn("No supported video format found for "+u),this},loadMediaStream:function(u,d,m){return this.loadHandler(null,d,m,u)},loadHandler:function(u,d,m,x){d||(d=!1);var S=this.video;if(S?(this.removeLoadEventHandlers(),this.stop()):(S=document.createElement("video"),S.controls=!1,S.setAttribute("playsinline","playsinline"),S.setAttribute("preload","auto"),S.setAttribute("disablePictureInPicture","true")),d?(S.muted=!0,S.defaultMuted=!0,S.setAttribute("autoplay","autoplay")):(S.muted=!1,S.defaultMuted=!1,S.removeAttribute("autoplay")),m?S.setAttribute("crossorigin",m):S.removeAttribute("crossorigin"),x)if("srcObject"in S)try{S.srcObject=x}catch(C){if(C.name!=="TypeError")throw C;S.src=URL.createObjectURL(x)}else S.src=URL.createObjectURL(x);else S.src=u;this.retry=0,this.video=S,this._playCalled=!1,S.load(),this.addLoadEventHandlers();var T=this.scene.sys.textures.get(this._key);return this.setTexture(T),this},requestVideoFrame:function(u,d){var m=this.video;if(m){var x=d.width,S=d.height,T=this.videoTexture,C=this.videoTextureSource,A=!T||C.source!==m;A?(this._codePaused=m.paused,this._codeMuted=m.muted,T?(C.source=m,C.width=x,C.height=S,T.get().setSize(x,S)):(T=this.scene.sys.textures.create(this._key,m,x,S),T.add("__BASE",0,0,0,x,S),this.setTexture(T),this.videoTexture=T,this.videoTextureSource=T.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(i.VIDEO_TEXTURE,this,T)),this.setSizeToFrame(),this.updateDisplayOrigin()):C.update(),this.isStalled=!1,this.metadata=d;var b=d.mediaTime;A&&(this._lastUpdate=b,this.emit(i.VIDEO_CREATED,this,x,S),this.frameReady||(this.frameReady=!0,this.emit(i.VIDEO_PLAY,this))),this._playingMarker?b>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(i.VIDEO_LOOP,this)):(this.stop(!1),this.emit(i.VIDEO_COMPLETE,this))):b<this._lastUpdate&&this.emit(i.VIDEO_LOOP,this),this._lastUpdate=b,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(u,d,m){d===void 0&&(d=-1),m===void 0&&(m=r.MAX_SAFE_INTEGER);var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(u===void 0&&(u=x.loop),x.loop=u,this._markerIn=d,this._markerOut=m,this._playingMarker=d>-1&&m>d&&m<r.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var u=this.video;u&&(u.addEventListener("error",this._loadCallbackHandler),u.addEventListener("abort",this._loadCallbackHandler),u.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var u=this.video;u&&(u.removeEventListener("error",this._loadCallbackHandler),u.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var m in d)u.addEventListener(m,d[m])}},removeEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var m in d)u.removeEventListener(m,d[m])}},createPlayPromise:function(u){u===void 0&&(u=!0);var d=this.video,m=d.play();if(m!==void 0){var x=this.playSuccess.bind(this),S=this.playError.bind(this);if(!u){var T=this;S=function(){T.failedPlayAttempts++}}m.then(x).catch(S)}else d.addEventListener("playing",this._callbacks.legacy),u||this.failedPlayAttempts++},addMarker:function(u,d,m){return!isNaN(d)&&d>=0&&!isNaN(m)&&m>d&&(this.markers[u]=[d,m]),this},playMarker:function(u,d){var m=this.markers[u];return m&&this.play(d,m[0],m[1]),this},removeMarker:function(u){return delete this.markers[u],this},snapshot:function(u,d){return u===void 0&&(u=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,u,d)},snapshotArea:function(u,d,m,x,S,T){u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=this.width),x===void 0&&(x=this.height),S===void 0&&(S=m),T===void 0&&(T=x);var C=this.video,A=this.snapshotTexture;return A?(A.setSize(S,T),C&&A.context.drawImage(C,u,d,m,x,0,0,S,T)):(A=this.scene.sys.textures.createCanvas(a(),S,T),this.snapshotTexture=A,C&&A.context.drawImage(C,u,d,m,x,0,0,S,T)),A.update()},saveSnapshotTexture:function(u){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,u):this.snapshotTexture=this.scene.sys.textures.createCanvas(u,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(i.VIDEO_UNLOCKED,this));var u=this.scene.sys.sound;u&&u.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(u){var d=u.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(i.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(i.VIDEO_UNSUPPORTED,this,u)):(this.stop(!1),this.emit(i.VIDEO_ERROR,this,u))},legacyPlayHandler:function(){var u=this.video;u&&(this.playSuccess(),u.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(i.VIDEO_PLAYING,this)},loadErrorHandler:function(u){this.stop(!1),this.emit(i.VIDEO_ERROR,this,u)},metadataHandler:function(u){this.emit(i.VIDEO_METADATA,this,u)},setSizeToFrame:function(u){u||(u=this.frame),this.width=u.realWidth,this.height=u.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(u){this.isStalled=!0,this.emit(i.VIDEO_STALLED,this,u)},completeHandler:function(){this._playCalled=!1,this.emit(i.VIDEO_COMPLETE,this)},preUpdate:function(u,d){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(u){var d=this.video;if(d){var m=d.duration;if(m!==1/0&&!isNaN(m)){var x=m*u;this.setCurrentTime(x)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(u){var d=this.video;if(d){if(typeof u=="string"){var m=u[0],x=parseFloat(u.substr(1));m==="+"?u=d.currentTime+x:m==="-"&&(u=d.currentTime-x)}d.currentTime=u}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(i.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(i.VIDEO_SEEKED,this)},getProgress:function(){var u=this.video;if(u){var d=u.duration;if(d!==1/0&&!isNaN(d))return u.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(u){u===void 0&&(u=!0),this._codeMuted=u;var d=this.video;return d&&(d.muted=this._systemMuted?!0:u),this},isMuted:function(){return this._codeMuted},globalMute:function(u,d){this._systemMuted=d;var m=this.video;m&&(m.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(u){u===void 0&&(u=!0);var d=this.video;return this._codePaused=u,d&&!d.ended&&(u?d.paused||(this.removeEventHandlers(),d.pause()):u||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(u){return u===void 0&&(u=1),this.video&&(this.video.volume=o(u,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(u){return this.video&&(this.video.playbackRate=u),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(u){return u===void 0&&(u=!0),this.video&&(this.video.loop=u),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(u,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,u),this.videoTextureSource.setFlipY(d)),this._key=u,this.flipY=d,!!this.videoTexture},stop:function(u){u===void 0&&(u=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,u&&this.emit(i.VIDEO_STOP,this),this},removeVideoElement:function(){var u=this.video;if(u){for(u.parentNode&&u.parentNode.removeChild(u);u.hasChildNodes();)u.removeChild(u.firstChild);u.removeAttribute("autoplay"),u.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var u=this.scene.sys.game.events;u.off(n.PAUSE,this.globalPause,this),u.off(n.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(l.GLOBAL_MUTE,this.globalMute,this)}});c.exports=f},58352:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){o.videoTexture&&(p.addToRenderList(o),t.batchSprite(o,o.frame,p,s))};c.exports=y},11511:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),s=t(23568),i=t(18471);p.register("video",function(n,e){n===void 0&&(n={});var r=s(n,"key",null),l=new i(this.scene,0,0,r);return e!==void 0&&(n.add=e),o(this.scene,l,n),l})},89025:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18471),p=t(39429);p.register("video",function(s,i,n){return this.displayList.add(new o(this.scene,s,i,n))})},10247:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(29849),s=t(58352),c.exports={renderWebGL:p,renderCanvas:s}},29849:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){o.videoTexture&&(p.addToRenderList(o),o.pipeline.batchSprite(o,p,s))};c.exports=y},41481:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(96503),s=t(87902),i=t(83419),n=t(31401),e=t(95643),r=t(87841),l=t(37303),a=new i({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(f,u,d,m,x){m===void 0&&(m=1),x===void 0&&(x=m),e.call(this,f,"Zone"),this.setPosition(u,d),this.width=m,this.height=x,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,f,u){u===void 0&&(u=!0),this.width=h,this.height=f,this.updateDisplayOrigin();var d=this.input;return u&&d&&!d.customHitArea&&(d.hitArea.width=h,d.hitArea.height=f),this},setDisplaySize:function(h,f){return this.displayWidth=h,this.displayHeight=f,this},setCircleDropZone:function(h){return this.setDropZone(new p(0,0,h),s)},setRectangleDropZone:function(h,f){return this.setDropZone(new r(0,0,h,f),l)},setDropZone:function(h,f){return this.input||this.setInteractive(h,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,f,u){u.addToRenderList(f)},renderWebGL:function(h,f,u){u.addToRenderList(f)}});c.exports=a},95261:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),p=t(23568),s=t(41481);o.register("zone",function(i){var n=p(i,"x",0),e=p(i,"y",0),r=p(i,"width",1),l=p(i,"height",r);return new s(this.scene,n,e,r,l)})},84175:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41481),p=t(39429);p.register("zone",function(s,i,n,e){return this.displayList.add(new o(this.scene,s,i,n,e))})},95166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};c.exports=y},96503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(87902),s=t(26241),i=t(79124),n=t(23777),e=t(28176),r=new o({initialize:function(a,h,f){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),this.type=n.CIRCLE,this.x=a,this.y=h,this._radius=f,this._diameter=f*2},contains:function(l,a){return p(this,l,a)},getPoint:function(l,a){return s(this,l,a)},getPoints:function(l,a,h){return i(this,l,a,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,a,h){return this.x=l,this.y=a,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,a){return a===void 0&&(a=l),this.x=l,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});c.exports=r},71562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(Math.PI*t.radius)};c.exports=y},92110:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i,n){return n===void 0&&(n=new o),n.x=s.x+s.radius*Math.cos(i),n.y=s.y+s.radius*Math.sin(i),n};c.exports=p},42250:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),p=function(s){return new o(s.x,s.y,s.radius)};c.exports=p},87902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(t.radius>0&&o>=t.left&&o<=t.right&&p>=t.top&&p<=t.bottom){var s=(t.x-o)*(t.x-o),i=(t.y-p)*(t.y-p);return s+i<=t.radius*t.radius}else return!1};c.exports=y},5698:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),p=function(s,i){return o(s,i.x,i.y)};c.exports=p},70588:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),p=function(s,i){return o(s,i.x,i.y)&&o(s,i.right,i.y)&&o(s,i.x,i.bottom)&&o(s,i.right,i.bottom)};c.exports=p},26394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.radius)};c.exports=y},76278:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.radius===o.radius};c.exports=y},2074:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(s,i){return i===void 0&&(i=new o),i.x=s.left,i.y=s.top,i.width=s.diameter,i.height=s.diameter,i};c.exports=p},26241:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92110),p=t(62945),s=t(36383),i=t(2141),n=function(e,r,l){l===void 0&&(l=new i);var a=p(r,0,s.PI2);return o(e,a,l)};c.exports=n},79124:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71562),p=t(92110),s=t(62945),i=t(36383),n=function(e,r,l,a){a===void 0&&(a=[]),!r&&l>0&&(r=o(e)/l);for(var h=0;h<r;h++){var f=s(h/r,0,i.PI2);a.push(p(e,f))}return a};c.exports=n},50884:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x+=o,t.y+=p,t};c.exports=y},39212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=y},28176:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){i===void 0&&(i=new o);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),r=e>1?2-e:e,l=r*Math.cos(n),a=r*Math.sin(n);return i.x=s.x+l*s.radius,i.y=s.y+a*s.radius,i};c.exports=p},88911:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503);o.Area=t(95166),o.Circumference=t(71562),o.CircumferencePoint=t(92110),o.Clone=t(42250),o.Contains=t(87902),o.ContainsPoint=t(5698),o.ContainsRect=t(70588),o.CopyFrom=t(26394),o.Equals=t(76278),o.GetBounds=t(2074),o.GetPoint=t(26241),o.GetPoints=t(79124),o.Offset=t(50884),o.OffsetPoint=t(39212),o.Random=t(28176),c.exports=o},23777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=y},78874:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};c.exports=y},92990:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.width/2,p=t.height/2,s=Math.pow(o-p,2)/Math.pow(o+p,2);return Math.PI*(o+p)*(1+3*s/(10+Math.sqrt(4-3*s)))};c.exports=y},79522:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i,n){n===void 0&&(n=new o);var e=s.width/2,r=s.height/2;return n.x=s.x+e*Math.cos(i),n.y=s.y+r*Math.sin(i),n};c.exports=p},58102:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497),p=function(s){return new o(s.x,s.y,s.width,s.height)};c.exports=p},81154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(t.width<=0||t.height<=0)return!1;var s=(o-t.x)/t.width,i=(p-t.y)/t.height;return s*=s,i*=i,s+i<.25};c.exports=y},46662:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),p=function(s,i){return o(s,i.x,i.y)};c.exports=p},1632:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),p=function(s,i){return o(s,i.x,i.y)&&o(s,i.right,i.y)&&o(s,i.x,i.bottom)&&o(s,i.right,i.bottom)};c.exports=p},65534:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};c.exports=y},8497:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(81154),s=t(90549),i=t(48320),n=t(23777),e=t(24820),r=new o({initialize:function(a,h,f,u){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=n.ELLIPSE,this.x=a,this.y=h,this.width=f,this.height=u},contains:function(l,a){return p(this,l,a)},getPoint:function(l,a){return s(this,l,a)},getPoints:function(l,a,h){return i(this,l,a,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,a,h,f){return this.x=l,this.y=a,this.width=h,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,a){return a===void 0&&(a=l),this.x=l,this.y=a,this},setSize:function(l,a){return a===void 0&&(a=l),this.width=l,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});c.exports=r},36146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};c.exports=y},23694:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(s,i){return i===void 0&&(i=new o),i.x=s.left,i.y=s.top,i.width=s.width,i.height=s.height,i};c.exports=p},90549:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79522),p=t(62945),s=t(36383),i=t(2141),n=function(e,r,l){l===void 0&&(l=new i);var a=p(r,0,s.PI2);return o(e,a,l)};c.exports=n},48320:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92990),p=t(79522),s=t(62945),i=t(36383),n=function(e,r,l,a){a===void 0&&(a=[]),!r&&l>0&&(r=o(e)/l);for(var h=0;h<r;h++){var f=s(h/r,0,i.PI2);a.push(p(e,f))}return a};c.exports=n},73424:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x+=o,t.y+=p,t};c.exports=y},44808:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=y},24820:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){i===void 0&&(i=new o);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return i.x=s.x+e*Math.cos(n)*s.width/2,i.y=s.y+e*Math.sin(n)*s.height/2,i};c.exports=p},49203:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497);o.Area=t(78874),o.Circumference=t(92990),o.CircumferencePoint=t(79522),o.Clone=t(58102),o.Contains=t(81154),o.ContainsPoint=t(46662),o.ContainsRect=t(1632),o.CopyFrom=t(65534),o.Equals=t(36146),o.GetBounds=t(23694),o.GetPoint=t(90549),o.GetPoints=t(48320),o.Offset=t(73424),o.OffsetPoint=t(44808),o.Random=t(24820),c.exports=o},55738:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23777),p=t(79291),s={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};s=p(!1,s,o),c.exports=s},2044:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20339),p=function(s,i){return o(s.x,s.y,i.x,i.y)<=s.radius+i.radius};c.exports=p},81491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=o.width/2,s=o.height/2,i=Math.abs(t.x-o.x-p),n=Math.abs(t.y-o.y-s),e=p+t.radius,r=s+t.radius;if(i>e||n>r)return!1;if(i<=p||n<=s)return!0;var l=i-p,a=n-s,h=l*l,f=a*a,u=t.radius*t.radius;return h+f<=u};c.exports=y},63376:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(2044),s=function(i,n,e){if(e===void 0&&(e=[]),p(i,n)){var r=i.x,l=i.y,a=i.radius,h=n.x,f=n.y,u=n.radius,d,m,x,S,T;if(l===f)T=(u*u-a*a-h*h+r*r)/(2*(r-h)),d=1,m=-2*f,x=h*h+T*T-2*h*T+f*f-u*u,S=m*m-4*d*x,S===0?e.push(new o(T,-m/(2*d))):S>0&&(e.push(new o(T,(-m+Math.sqrt(S))/(2*d))),e.push(new o(T,(-m-Math.sqrt(S))/(2*d))));else{var C=(r-h)/(l-f),A=(u*u-a*a-h*h+r*r-f*f+l*l)/(2*(l-f));d=C*C+1,m=2*l*C-2*A*C-2*r,x=r*r+l*l+A*A-a*a-2*l*A,S=m*m-4*d*x,S===0?(T=-m/(2*d),e.push(new o(T,A-T*C))):S>0&&(T=(-m+Math.sqrt(S))/(2*d),e.push(new o(T,A-T*C)),T=(-m-Math.sqrt(S))/(2*d),e.push(new o(T,A-T*C)))}}return e};c.exports=s},97439:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),p=t(81491),s=function(i,n,e){if(e===void 0&&(e=[]),p(i,n)){var r=n.getLineA(),l=n.getLineB(),a=n.getLineC(),h=n.getLineD();o(r,i,e),o(l,i,e),o(a,i,e),o(h,i,e)}return e};c.exports=s},4042:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(80462),s=function(i,n,e){if(e===void 0&&(e=[]),p(i,n)){var r=i.x1,l=i.y1,a=i.x2,h=i.y2,f=n.x,u=n.y,d=n.radius,m=a-r,x=h-l,S=r-f,T=l-u,C=m*m+x*x,A=2*(m*S+x*T),b=S*S+T*T-d*d,R=A*A-4*C*b,F,L;if(R===0){var O=-A/(2*C);F=r+O*m,L=l+O*x,O>=0&&O<=1&&e.push(new o(F,L))}else if(R>0){var I=(-A-Math.sqrt(R))/(2*C);F=r+I*m,L=l+I*x,I>=0&&I<=1&&e.push(new o(F,L));var B=(-A+Math.sqrt(R))/(2*C);F=r+B*m,L=l+B*x,B>=0&&B<=1&&e.push(new o(F,L))}}return e};c.exports=s},36100:(c,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),p=function(s,i,n,e){n===void 0&&(n=!1);var r=s.x1,l=s.y1,a=s.x2,h=s.y2,f=i.x1,u=i.y1,d=i.x2,m=i.y2,x=a-r,S=h-l,T=d-f,C=m-u,A=x*C-S*T;if(A===0)return null;var b,R,F;if(n){if(b=(x*(u-l)+S*(r-f))/(T*S-C*x),R=(f+T*b-r)/x,R<0||b<0||b>1)return null;F=R}else{if(b=((f-r)*C-(u-l)*T)/A,R=((l-u)*x-(r-f)*S)/A,b<0||b>1||R<0||R>1)return null;F=b}return e===void 0&&(e=new o),e.set(r+x*F,l+S*F,F)};c.exports=p},3073:(c,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36100),p=t(23031),s=t(25836),i=new p,n=new s,e=function(r,l,a,h){a===void 0&&(a=!1),h===void 0&&(h=new s);var f=!1;h.set(),n.set();for(var u=l[l.length-1],d=0;d<l.length;d++){var m=l[d];i.setTo(u.x,u.y,m.x,m.y),u=m,o(r,i,a,n)&&(!f||n.z<h.z)&&(h.copy(n),f=!0)}return f?h:null};c.exports=e},56362:(c,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),p=t(61369),s=t(3073),i=new o,n=function(e,r,l,a){a===void 0&&(a=new p),Array.isArray(r)||(r=[r]);var h=!1;a.set(),i.set();for(var f=0;f<r.length;f++)s(e,r[f].points,l,i)&&(!h||i.z<a.z)&&(a.set(i.x,i.y,i.z,f),h=!0);return h?a:null};c.exports=n},60646:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(76112),s=t(92773),i=function(n,e,r){if(r===void 0&&(r=[]),s(n,e))for(var l=e.getLineA(),a=e.getLineB(),h=e.getLineC(),f=e.getLineD(),u=[new o,new o,new o,new o],d=[p(l,n,u[0]),p(a,n,u[1]),p(h,n,u[2]),p(f,n,u[3])],m=0;m<4;m++)d[m]&&r.push(u[m]);return r};c.exports=i},71147:(c,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61369),p=t(56362),s=t(23031),i=new s;function n(l,a,h,f,u){var d=Math.cos(l),m=Math.sin(l);i.setTo(a,h,a+d,h+m);var x=p(i,f,!0);x&&u.push(new o(x.x,x.y,l,x.w))}function e(l,a){return l.z-a.z}var r=function(l,a,h){Array.isArray(h)||(h=[h]);for(var f=[],u=[],d=0;d<h.length;d++)for(var m=h[d].points,x=0;x<m.length;x++){var S=Math.atan2(m[x].y-a,m[x].x-l);u.indexOf(S)===-1&&(n(S,l,a,h,f),n(S-1e-5,l,a,h,f),n(S+1e-5,l,a,h,f),u.push(S))}return f.sort(e)};c.exports=r},68389:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(59996),s=function(i,n,e){return e===void 0&&(e=new o),p(i,n)&&(e.x=Math.max(i.x,n.x),e.y=Math.max(i.y,n.y),e.width=Math.min(i.right,n.right)-e.x,e.height=Math.min(i.bottom,n.bottom)-e.y),e};c.exports=s},52784:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60646),p=t(59996),s=function(i,n,e){if(e===void 0&&(e=[]),p(i,n)){var r=i.getLineA(),l=i.getLineB(),a=i.getLineC(),h=i.getLineD();o(r,n,e),o(l,n,e),o(a,n,e),o(h,n,e)}return e};c.exports=s},26341:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89265),p=t(60646),s=function(i,n,e){if(e===void 0&&(e=[]),o(i,n)){var r=n.getLineA(),l=n.getLineB(),a=n.getLineC();p(r,i,e),p(l,i,e),p(a,i,e)}return e};c.exports=s},38720:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),p=t(67636),s=function(i,n,e){if(e===void 0&&(e=[]),p(i,n)){var r=i.getLineA(),l=i.getLineB(),a=i.getLineC();o(r,n,e),o(l,n,e),o(a,n,e)}return e};c.exports=s},13882:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(2822),s=t(76112),i=function(n,e,r){if(r===void 0&&(r=[]),p(n,e))for(var l=n.getLineA(),a=n.getLineB(),h=n.getLineC(),f=[new o,new o,new o],u=[s(l,e,f[0]),s(a,e,f[1]),s(h,e,f[2])],d=0;d<3;d++)u[d]&&r.push(f[d]);return r};c.exports=i},75636:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82944),p=t(13882),s=function(i,n,e){if(e===void 0&&(e=[]),o(i,n)){var r=n.getLineA(),l=n.getLineB(),a=n.getLineC();p(i,r,e),p(i,l,e),p(i,a,e)}return e};c.exports=s},80462:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),p=t(2141),s=new p,i=function(n,e,r){if(r===void 0&&(r=s),o(e,n.x1,n.y1))return r.x=n.x1,r.y=n.y1,!0;if(o(e,n.x2,n.y2))return r.x=n.x2,r.y=n.y2,!0;var l=n.x2-n.x1,a=n.y2-n.y1,h=e.x-n.x1,f=e.y-n.y1,u=l*l+a*a,d=l,m=a;if(u>0){var x=(h*l+f*a)/u;d*=x,m*=x}r.x=n.x1+d,r.y=n.y1+m;var S=d*d+m*m;return S<=u&&d*l+m*a>=0&&o(e,r.x,r.y)};c.exports=i},76112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=t.x1,i=t.y1,n=t.x2,e=t.y2,r=o.x1,l=o.y1,a=o.x2,h=o.y2;if(s===n&&i===e||r===a&&l===h)return!1;var f=(h-l)*(n-s)-(a-r)*(e-i);if(f===0)return!1;var u=((a-r)*(i-l)-(h-l)*(s-r))/f,d=((n-s)*(i-l)-(e-i)*(s-r))/f;return u<0||u>1||d<0||d>1?!1:(p&&(p.x=s+u*(n-s),p.y=i+u*(e-i)),!0)};c.exports=y},92773:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x1,s=t.y1,i=t.x2,n=t.y2,e=o.x,r=o.y,l=o.right,a=o.bottom,h=0;if(p>=e&&p<=l&&s>=r&&s<=a||i>=e&&i<=l&&n>=r&&n<=a)return!0;if(p<e&&i>=e){if(h=s+(n-s)*(e-p)/(i-p),h>r&&h<=a)return!0}else if(p>l&&i<=l&&(h=s+(n-s)*(l-p)/(i-p),h>=r&&h<=a))return!0;if(s<r&&n>=r){if(h=p+(i-p)*(r-s)/(n-s),h>=e&&h<=l)return!0}else if(s>a&&n<=a&&(h=p+(i-p)*(a-s)/(n-s),h>=e&&h<=l))return!0;return!1};c.exports=y},16204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){p===void 0&&(p=1);var s=o.x1,i=o.y1,n=o.x2,e=o.y2,r=t.x,l=t.y,a=(n-s)*(n-s)+(e-i)*(e-i);if(a===0)return!1;var h=((r-s)*(n-s)+(l-i)*(e-i))/a;if(h<0)return Math.sqrt((s-r)*(s-r)+(i-l)*(i-l))<=p;if(h>=0&&h<=1){var f=((i-l)*(n-s)-(s-r)*(e-i))/a;return Math.abs(f)*Math.sqrt(a)<=p}else return Math.sqrt((n-r)*(n-r)+(e-l)*(e-l))<=p};c.exports=y},14199:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16204),p=function(s,i){if(!o(s,i))return!1;var n=Math.min(i.x1,i.x2),e=Math.max(i.x1,i.x2),r=Math.min(i.y1,i.y2),l=Math.max(i.y1,i.y2);return s.x>=n&&s.x<=e&&s.y>=r&&s.y<=l};c.exports=p},59996:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.width<=0||t.height<=0||o.width<=0||o.height<=0?!1:!(t.right<o.x||t.bottom<o.y||t.x>o.right||t.y>o.bottom)};c.exports=y},89265:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),p=t(37303),s=t(48653),i=t(77493),n=function(e,r){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var l=r.getLineA(),a=r.getLineB(),h=r.getLineC();if(p(e,l.x1,l.y1)||p(e,l.x2,l.y2)||p(e,a.x1,a.y1)||p(e,a.x2,a.y2)||p(e,h.x1,h.y1)||p(e,h.x2,h.y2))return!0;var f=e.getLineA(),u=e.getLineB(),d=e.getLineC(),m=e.getLineD();if(o(l,f)||o(l,u)||o(l,d)||o(l,m)||o(a,f)||o(a,u)||o(a,d)||o(a,m)||o(h,f)||o(h,u)||o(h,d)||o(h,m))return!0;var x=i(e),S=s(r,x,!0);return S.length>0};c.exports=n},84411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i,n){return n===void 0&&(n=0),!(o>t.right+n||p<t.left-n||s>t.bottom+n||i<t.top-n)};c.exports=y},67636:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80462),p=t(10690),s=function(i,n){return i.left>n.right||i.right<n.left||i.top>n.bottom||i.bottom<n.top?!1:!!(p(i,n.x,n.y)||o(i.getLineA(),n)||o(i.getLineB(),n)||o(i.getLineC(),n))};c.exports=s},2822:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),p=function(s,i){return!!(s.contains(i.x1,i.y1)||s.contains(i.x2,i.y2)||o(s.getLineA(),i)||o(s.getLineB(),i)||o(s.getLineC(),i))};c.exports=p},82944:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48653),p=t(71694),s=t(76112),i=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var r=n.getLineA(),l=n.getLineB(),a=n.getLineC(),h=e.getLineA(),f=e.getLineB(),u=e.getLineC();if(s(r,h)||s(r,f)||s(r,u)||s(l,h)||s(l,f)||s(l,u)||s(a,h)||s(a,f)||s(a,u))return!0;var d=p(n),m=o(e,d,!0);return m.length>0||(d=p(e),m=o(n,d,!0),m.length>0)};c.exports=i},91865:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};c.exports=y},84993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=1),p===void 0&&(p=[]);var s=Math.round(t.x1),i=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),r=Math.abs(n-s),l=Math.abs(e-i),a=s<n?1:-1,h=i<e?1:-1,f=r-l;p.push({x:s,y:i});for(var u=1;!(s===n&&i===e);){var d=f<<1;d>-l&&(f-=l,s+=a),d<r&&(f+=r,i+=h),u%o===0&&p.push({x:s,y:i}),u++}return p};c.exports=y},36469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=o-(t.x1+t.x2)/2,i=p-(t.y1+t.y2)/2;return t.x1+=s,t.y1+=i,t.x2+=s,t.y2+=i,t};c.exports=y},31116:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031),p=function(s){return new o(s.x1,s.y1,s.x2,s.y2)};c.exports=p},59944:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2)};c.exports=y},59220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2};c.exports=y},78177:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=function(s,i,n){n===void 0&&(n=i);var e=o(s),r=s.x2-s.x1,l=s.y2-s.y1;return i&&(s.x1=s.x1-r/e*i,s.y1=s.y1-l/e*i),n&&(s.x2=s.x2+r/e*n,s.y2=s.y2+l/e*n),s};c.exports=p},26708:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(52816),p=t(6113),s=t(2141),i=function(n,e,r,l,a){l===void 0&&(l=0),a===void 0&&(a=[]);var h=[],f=n.x1,u=n.y1,d=n.x2-f,m=n.y2-u,x=p(e,a),S,T,C=r-1;for(S=0;S<C;S++)T=x(S/C),h.push(new s(f+d*T,u+m*T));if(T=x(1),h.push(new s(f+d*T,u+m*T)),l>0){var A=h[0],b=[A];for(S=1;S<h.length-1;S++){var R=h[S];o(A,R)>=l&&(b.push(R),A=R)}var F=h[h.length-1];return o(A,F)<l&&b.pop(),b.push(F),b}else return h};c.exports=i},32125:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){return i===void 0&&(i=new o),i.x=(s.x1+s.x2)/2,i.y=(s.y1+s.y2)/2,i};c.exports=p},99569:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i,n){n===void 0&&(n=new o);var e=s.x1,r=s.y1,l=s.x2,a=s.y2,h=(l-e)*(l-e)+(a-r)*(a-r);if(h===0)return n;var f=((i.x-e)*(l-e)+(i.y-r)*(a-r))/h;return n.x=e+f*(l-e),n.y=r+f*(a-r),n};c.exports=p},34638:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(91938),s=t(2141),i=function(n,e){e===void 0&&(e=new s);var r=p(n)-o.TAU;return e.x=Math.cos(r),e.y=Math.sin(r),e};c.exports=i},13151:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i,n){return n===void 0&&(n=new o),n.x=s.x1+(s.x2-s.x1)*i,n.y=s.y1+(s.y2-s.y1)*i,n};c.exports=p},15258:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=t(2141),s=function(i,n,e,r){r===void 0&&(r=[]),!n&&e>0&&(n=o(i)/e);for(var l=i.x1,a=i.y1,h=i.x2,f=i.y2,u=0;u<n;u++){var d=u/n,m=l+(h-l)*d,x=a+(f-a)*d;r.push(new p(m,x))}return r};c.exports=s},26408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x1,s=t.y1,i=t.x2,n=t.y2,e=(i-p)*(i-p)+(n-s)*(n-s);if(e===0)return!1;var r=((s-o.y)*(i-p)-(p-o.x)*(n-s))/e;return Math.abs(r)*Math.sqrt(e)};c.exports=y},98770:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.y1-t.y2)};c.exports=y},35001:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};c.exports=y},23031:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(13151),s=t(15258),i=t(23777),n=t(65822),e=t(26099),r=new o({initialize:function(a,h,f,u){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=i.LINE,this.x1=a,this.y1=h,this.x2=f,this.y2=u},getPoint:function(l,a){return p(this,l,a)},getPoints:function(l,a,h){return s(this,l,a,h)},getRandomPoint:function(l){return n(this,l)},setTo:function(l,a,h,f){return l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),this.x1=l,this.y1=a,this.x2=h,this.y2=f,this},setFromObjects:function(l,a){return this.x1=l.x,this.y1=l.y,this.x2=a.x,this.y2=a.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});c.exports=r},64795:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(15994),s=t(91938),i=function(n){var e=s(n)-o.TAU;return p(e,-Math.PI,Math.PI)};c.exports=i},52616:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(91938),s=function(i){return Math.cos(p(i)-o.TAU)};c.exports=s},87231:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(91938),s=function(i){return Math.sin(p(i)-o.TAU)};c.exports=s},89662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x1+=o,t.y1+=p,t.x2+=o,t.y2+=p,t};c.exports=y},71165:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};c.exports=y},65822:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){i===void 0&&(i=new o);var n=Math.random();return i.x=s.x1+n*(s.x2-s.x1),i.y=s.y1+n*(s.y2-s.y1),i};c.exports=p},69777:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91938),p=t(64795),s=function(i,n){return 2*p(n)-Math.PI-o(i)};c.exports=s},39706:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),p=function(s,i){var n=(s.x1+s.x2)/2,e=(s.y1+s.y2)/2;return o(s,n,e,i)};c.exports=p},82585:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),p=function(s,i,n){return o(s,i.x,i.y,n)};c.exports=p},64400:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=Math.cos(s),n=Math.sin(s),e=t.x1-o,r=t.y1-p;return t.x1=e*i-r*n+o,t.y1=e*n+r*i+p,e=t.x2-o,r=t.y2-p,t.x2=e*i-r*n+o,t.y2=e*n+r*i+p,t};c.exports=y},62377:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i){return t.x1=o,t.y1=p,t.x2=o+Math.cos(s)*i,t.y2=p+Math.sin(s)*i,t};c.exports=y},71366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};c.exports=y},10809:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.x1-t.x2)};c.exports=y},2529:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031);o.Angle=t(91938),o.BresenhamPoints=t(84993),o.CenterOn=t(36469),o.Clone=t(31116),o.CopyFrom=t(59944),o.Equals=t(59220),o.Extend=t(78177),o.GetEasedPoints=t(26708),o.GetMidPoint=t(32125),o.GetNearestPoint=t(99569),o.GetNormal=t(34638),o.GetPoint=t(13151),o.GetPoints=t(15258),o.GetShortestDistance=t(26408),o.Height=t(98770),o.Length=t(35001),o.NormalAngle=t(64795),o.NormalX=t(52616),o.NormalY=t(87231),o.Offset=t(89662),o.PerpSlope=t(71165),o.Random=t(65822),o.ReflectAngle=t(69777),o.Rotate=t(39706),o.RotateAroundPoint=t(82585),o.RotateAroundXY=t(64400),o.SetToAngle=t(62377),o.Slope=t(71366),o.Width=t(10809),c.exports=o},83997:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(87841),s=t(26099);function i(e,r,l,a){var h=e-l,f=r-a,u=h*h+f*f;return Math.sqrt(u)}var n=new o({initialize:function(r,l,a){this.vertex1=r,this.vertex2=l,this.vertex3=a,this.bounds=new p,this._inCenter=new s},getInCenter:function(e){e===void 0&&(e=!0);var r=this.vertex1,l=this.vertex2,a=this.vertex3,h,f,u,d,m,x;e?(h=r.x,f=r.y,u=l.x,d=l.y,m=a.x,x=a.y):(h=r.vx,f=r.vy,u=l.vx,d=l.vy,m=a.vx,x=a.vy);var S=i(m,x,u,d),T=i(h,f,m,x),C=i(u,d,h,f),A=S+T+C;return this._inCenter.set((h*S+u*T+m*C)/A,(f*S+d*T+x*C)/A)},contains:function(e,r,l){var a=this.vertex1,h=this.vertex2,f=this.vertex3,u=a.vx,d=a.vy,m=h.vx,x=h.vy,S=f.vx,T=f.vy;if(l){var C=l.a,A=l.b,b=l.c,R=l.d,F=l.e,L=l.f;u=a.vx*C+a.vy*b+F,d=a.vx*A+a.vy*R+L,m=h.vx*C+h.vy*b+F,x=h.vx*A+h.vy*R+L,S=f.vx*C+f.vy*b+F,T=f.vx*A+f.vy*R+L}var O=S-u,I=T-d,B=m-u,U=x-d,H=e-u,J=r-d,tt=O*O+I*I,X=O*B+I*U,j=O*H+I*J,D=B*B+U*U,z=B*H+U*J,$=tt*D-X*X,K=$===0?0:1/$,Z=(D*j-X*z)*K,it=(tt*z-X*j)*K;return Z>=0&&it>=0&&Z+it<1},isCounterClockwise:function(e){var r=this.vertex1,l=this.vertex2,a=this.vertex3,h=(l.vx-r.vx)*(a.vy-r.vy)-(l.vy-r.vy)*(a.vx-r.vx);return e<=0?h>=0:h<0},load:function(e,r,l,a,h){return l=this.vertex1.load(e,r,l,a,h),l=this.vertex2.load(e,r,l,a,h),l=this.vertex3.load(e,r,l,a,h),l},transformCoordinatesLocal:function(e,r,l,a){return this.vertex1.transformCoordinatesLocal(e,r,l,a),this.vertex2.transformCoordinatesLocal(e,r,l,a),this.vertex3.transformCoordinatesLocal(e,r,l,a),this},updateBounds:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3,a=this.bounds;return a.x=Math.min(e.vx,r.vx,l.vx),a.y=Math.min(e.vy,r.vy,l.vy),a.width=Math.max(e.vx,r.vx,l.vx)-a.x,a.height=Math.max(e.vy,r.vy,l.vy)-a.y,this},isInView:function(e,r,l,a,h,f,u,d,m,x,S){this.update(a,h,f,u,d,m,x,S);var T=this.vertex1,C=this.vertex2,A=this.vertex3;if(T.ta<=0&&C.ta<=0&&A.ta<=0||r&&!this.isCounterClockwise(l))return!1;var b=this.bounds;b.x=Math.min(T.tx,C.tx,A.tx),b.y=Math.min(T.ty,C.ty,A.ty),b.width=Math.max(T.tx,C.tx,A.tx)-b.x,b.height=Math.max(T.ty,C.ty,A.ty)-b.y;var R=e.x+e.width,F=e.y+e.height;return b.width<=0||b.height<=0||e.width<=0||e.height<=0?!1:!(b.right<e.x||b.bottom<e.y||b.x>R||b.y>F)},scrollUV:function(e,r){return this.vertex1.scrollUV(e,r),this.vertex2.scrollUV(e,r),this.vertex3.scrollUV(e,r),this},scaleUV:function(e,r){return this.vertex1.scaleUV(e,r),this.vertex2.scaleUV(e,r),this.vertex3.scaleUV(e,r),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,r,l,a,h,f,u,d){return this.vertex1.update(r,l,a,h,f,u,d,e),this.vertex2.update(r,l,a,h,f,u,d,e),this.vertex3.update(r,l,a,h,f,u,d,e),this},translate:function(e,r){r===void 0&&(r=0);var l=this.vertex1,a=this.vertex2,h=this.vertex3;return l.x+=e,l.y+=r,a.x+=e,a.y+=r,h.x+=e,h.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(e){var r=this.getInCenter();this.translate(e-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var r=this.getInCenter();this.translate(0,e-r.y)}},alpha:{get:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3;return(e.alpha+r.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3;return(e.vz+r.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=n},48803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),p=t(95540),s=t(37867),i=t(25836),n=t(39318),e=new i,r=new i,l=new s,a=function(h){var f=p(h,"mesh"),u=p(h,"texture",null),d=p(h,"frame"),m=p(h,"width",1),x=p(h,"height",m),S=p(h,"widthSegments",1),T=p(h,"heightSegments",S),C=p(h,"x",0),A=p(h,"y",0),b=p(h,"z",0),R=p(h,"rotateX",0),F=p(h,"rotateY",0),L=p(h,"rotateZ",0),O=p(h,"zIsUp",!0),I=p(h,"isOrtho",f?f.dirtyCache[11]:!1),B=p(h,"colors",[16777215]),U=p(h,"alphas",[1]),H=p(h,"tile",!1),J=p(h,"flipY",!1),tt=p(h,"width",null),X={faces:[],verts:[]};e.set(C,A,b),r.set(R,F,L),l.fromRotationXYTranslation(r,e,O);var j;if(!u&&f)u=f.texture,d||(j=f.frame);else if(f&&typeof u=="string")u=f.scene.sys.textures.get(u);else if(!u)return X;j||(j=u.get(d)),!tt&&I&&u&&f&&(m=j.width/f.height,x=j.height/f.height);var D=m/2,z=x/2,$=Math.floor(S),K=Math.floor(T),Z=$+1,it=K+1,st=m/$,at=x/K,ut=[],vt=[],xt,Et,yt=0,bt=1,Dt=0,Vt=1;j&&(yt=j.u0,bt=j.u1,J?(Dt=j.v1,Vt=j.v0):(Dt=j.v0,Vt=j.v1));var Nt=bt-yt,Mt=Vt-Dt;for(Et=0;Et<it;Et++){var It=Et*at-z;for(xt=0;xt<Z;xt++){var Lt=xt*st-D;vt.push(Lt,-It);var kt=yt+Nt*(xt/$),qt=Dt+Mt*(Et/K);ut.push(kt,qt)}}Array.isArray(B)||(B=[B]),Array.isArray(U)||(U=[U]);var se=0,ie=0;for(Et=0;Et<K;Et++)for(xt=0;xt<$;xt++){var oe=(xt+Z*Et)*2,zt=(xt+Z*(Et+1))*2,Zt=(xt+1+Z*(Et+1))*2,Bt=(xt+1+Z*Et)*2,Ot=B[ie],St=U[se],At=new n(vt[oe],vt[oe+1],0,ut[oe],ut[oe+1],Ot,St).transformMat4(l),Ft=new n(vt[zt],vt[zt+1],0,ut[zt],ut[zt+1],Ot,St).transformMat4(l),ae=new n(vt[Bt],vt[Bt+1],0,ut[Bt],ut[Bt+1],Ot,St).transformMat4(l),Qt=new n(vt[zt],vt[zt+1],0,ut[zt],ut[zt+1],Ot,St).transformMat4(l),xe=new n(vt[Zt],vt[Zt+1],0,ut[Zt],ut[Zt+1],Ot,St).transformMat4(l),ye=new n(vt[Bt],vt[Bt+1],0,ut[Bt],ut[Bt+1],Ot,St).transformMat4(l);H&&(At.setUVs(yt,Vt),Ft.setUVs(yt,Dt),ae.setUVs(bt,Vt),Qt.setUVs(yt,Dt),xe.setUVs(bt,Dt),ye.setUVs(bt,Vt)),ie++,ie===B.length&&(ie=0),se++,se===U.length&&(se=0),X.verts.push(At,Ft,ae,Qt,xe,ye),X.faces.push(new o(At,Ft,ae),new o(Qt,xe,ye))}return f&&(f.faces=f.faces.concat(X.faces),f.vertices=f.vertices.concat(X.verts)),X};c.exports=a},34684:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),p=t(37867),s=t(25836),i=t(39318),n=new s,e=new s,r=new p,l=function(a,h,f,u,d,m,x,S,T,C){f===void 0&&(f=1),u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=0),x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=0),C===void 0&&(C=!0);var A={faces:[],verts:[]},b=a.materials;n.set(u,d,m),e.set(x,S,T),r.fromRotationXYTranslation(e,n,C);for(var R=0;R<a.models.length;R++)for(var F=a.models[R],L=F.vertices,O=F.textureCoords,I=F.faces,B=0;B<I.length;B++){var U=I[B],H=U.vertices[0],J=U.vertices[1],tt=U.vertices[2],X=L[H.vertexIndex],j=L[J.vertexIndex],D=L[tt.vertexIndex],z=H.textureCoordsIndex,$=J.textureCoordsIndex,K=tt.textureCoordsIndex,Z=z===-1?{u:0,v:1}:O[z],it=$===-1?{u:0,v:0}:O[$],st=K===-1?{u:1,v:1}:O[K],at=16777215;U.material!==""&&b[U.material]&&(at=b[U.material]);var ut=new i(X.x*f,X.y*f,X.z*f,Z.u,Z.v,at).transformMat4(r),vt=new i(j.x*f,j.y*f,j.z*f,it.u,it.v,at).transformMat4(r),xt=new i(D.x*f,D.y*f,D.z*f,st.u,st.v,at).transformMat4(r);A.verts.push(ut,vt,xt),A.faces.push(new o(ut,vt,xt))}return h&&(h.faces=h.faces.concat(A.faces),h.vertices=h.vertices.concat(A.verts)),A};c.exports=l},92515:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),p=t(39318),s=function(i,n,e,r,l,a,h,f){if(r===void 0&&(r=!1),a===void 0&&(a=16777215),h===void 0&&(h=1),f===void 0&&(f=!1),i.length!==n.length&&!r){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u={faces:[],vertices:[]},d,m,x,S,T,C,A,b,R,F,L,O=r?3:2,I=Array.isArray(a),B=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var U=e[d],H=e[d]*2,J=e[d]*O;m=i[J],x=i[J+1],S=r?i[J+2]:0,T=n[H],C=n[H+1],f&&(C=1-C),A=I?a[U]:a,b=B?h[U]:h,R=0,F=0,L=0,l&&(R=l[J],F=l[J+1],L=r?l[J+2]:0),u.vertices.push(new p(m,x,S,T,C,A,b,R,F,L))}else{var tt=0,X=0;for(d=0;d<i.length;d+=O)m=i[d],x=i[d+1],S=r?i[d+2]:0,T=n[tt],C=n[tt+1],A=I?a[X]:a,b=B?h[X]:h,R=0,F=0,L=0,l&&(R=l[d],F=l[d+1],L=r?l[d+2]:0),u.vertices.push(new p(m,x,S,T,C,A,b,R,F,L)),tt+=2,X++}for(d=0;d<u.vertices.length;d+=3){var j=u.vertices[d],D=u.vertices[d+1],z=u.vertices[d+2];u.faces.push(new o(j,D,z))}return u};c.exports=s},85048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,t="untitled",o="",p="";function s(m){var x=m.indexOf("#");return x>-1?m.substring(0,x):m}function i(m){return m.models.length===0&&m.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),o="",m.models[m.models.length-1]}function n(m,x){var S=m.length>=2?m[1]:t;x.models.push({faces:[],name:S,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function e(m){m.length===2&&(o=m[1])}function r(m,x){var S=m.length,T=S>=2?parseFloat(m[1]):0,C=S>=3?parseFloat(m[2]):0,A=S>=4?parseFloat(m[3]):0;i(x).vertices.push({x:T,y:C,z:A})}function l(m,x){var S=m.length,T=S>=2?parseFloat(m[1]):0,C=S>=3?parseFloat(m[2]):0,A=S>=4?parseFloat(m[3]):0;isNaN(T)&&(T=0),isNaN(C)&&(C=0),isNaN(A)&&(A=0),y&&(C=1-C),i(x).textureCoords.push({u:T,v:C,w:A})}function a(m,x){var S=m.length,T=S>=2?parseFloat(m[1]):0,C=S>=3?parseFloat(m[2]):0,A=S>=4?parseFloat(m[3]):0;i(x).vertexNormals.push({x:T,y:C,z:A})}function h(m,x){var S=m.length-1;if(!(S<3)){for(var T={group:o,material:p,vertices:[]},C=0;C<S;C++){var A=m[C+1],b=A.split("/"),R=b.length;if(!(R<1||R>3)){var F=0,L=0,O=0;F=parseInt(b[0],10),R>1&&b[1]!==""&&(L=parseInt(b[1],10)),R>2&&(O=parseInt(b[2],10)),F!==0&&(F<0&&(F=i(x).vertices.length+1+F),L-=1,F-=1,O-=1,T.vertices.push({textureCoordsIndex:L,vertexIndex:F,vertexNormalIndex:O}))}}i(x).faces.push(T)}}function f(m,x){m.length>=2&&x.materialLibraries.push(m[1])}function u(m){m.length>=2&&(p=m[1])}var d=function(m,x){x===void 0&&(x=!0),y=x;var S={materials:{},materialLibraries:[],models:[]};o="",p="";for(var T=m.split(`
`),C=0;C<T.length;C++){var A=s(T[C]),b=A.replace(/\s\s+/g," ").trim().split(" ");switch(b[0].toLowerCase()){case"o":n(b,S);break;case"g":e(b);break;case"v":r(b,S);break;case"vt":l(b,S);break;case"vn":a(b,S);break;case"f":h(b,S);break;case"mtllib":f(b,S);break;case"usemtl":u(b);break}}return S};c.exports=d},61485:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),p=function(s){for(var i={},n=s.split(`
`),e="",r=0;r<n.length;r++){var l=n[r].trim();if(!(l.indexOf("#")===0||l==="")){var a=l.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":{e=a[1];break}case"kd":{var h=Math.floor(a[1]*255),f=a.length>=2?Math.floor(a[2]*255):h,u=a.length>=3?Math.floor(a[3]*255):h;i[e]=o(h,f,u);break}}}}return i};c.exports=p},92570:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i,n;if(p===void 0&&s===void 0){var e=t.getInCenter();i=e.x,n=e.y}var r=Math.cos(o),l=Math.sin(o),a=t.vertex1,h=t.vertex2,f=t.vertex3,u=a.x-i,d=a.y-n;a.set(u*r-d*l+i,u*l+d*r+n),u=h.x-i,d=h.y-n,h.set(u*r-d*l+i,u*l+d*r+n),u=f.x-i,d=f.y-n,f.set(u*r-d*l+i,u*l+d*r+n)};c.exports=y},39318:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(70554),s=t(25836),i=new o({Extends:s,initialize:function(e,r,l,a,h,f,u,d,m,x){f===void 0&&(f=16777215),u===void 0&&(u=1),d===void 0&&(d=0),m===void 0&&(m=0),x===void 0&&(x=0),s.call(this,e,r,l),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=m,this.nz=x,this.u=a,this.v=h,this.color=f,this.alpha=u,this.tx=0,this.ty=0,this.ta=0,this.tu=a,this.tv=h},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,r,l){var a=this.x,h=this.y,f=this.z,u=n.val,d=a*u[0]+h*u[4]+f*u[8]+u[12],m=a*u[1]+h*u[5]+f*u[9]+u[13],x=a*u[2]+h*u[6]+f*u[10]+u[14],S=a*u[3]+h*u[7]+f*u[11]+u[15];this.vx=d/S*e,this.vy=-(m/S)*r,l<=0?this.vz=x/S:this.vz=-(x/S)},resize:function(n,e,r,l,a,h){return this.x=n,this.y=e,this.vx=this.x*r,this.vy=-this.y*l,this.vz=0,a<.5?this.vx+=r*(.5-a):a>.5&&(this.vx-=r*(a-.5)),h<.5?this.vy+=l*(.5-h):h>.5&&(this.vy-=l*(h-.5)),this},update:function(n,e,r,l,a,h,f,u){var d=this.vx*n+this.vy*r+a,m=this.vx*e+this.vy*l+h;return f&&(d=Math.round(d),m=Math.round(m)),this.tx=d,this.ty=m,this.ta=this.alpha*u,this},load:function(n,e,r,l,a){return n[++r]=this.tx,n[++r]=this.ty,n[++r]=this.tu,n[++r]=this.tv,n[++r]=l,n[++r]=a,e[++r]=p.getTintAppendFloatAlpha(this.color,this.ta),r}});c.exports=i},73090:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};c.exports=o},96550:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};c.exports=y},99706:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s){return new o(s.x,s.y)};c.exports=p},68010:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y)};c.exports=y},27814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y};c.exports=y},73565:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};c.exports=y},87555:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){if(i===void 0&&(i=new o),!Array.isArray(s))throw new Error("GetCentroid points argument must be an array");var n=s.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)i.x=s[0].x,i.y=s[0].y;else{for(var e=0;e<n;e++)i.x+=s[e].x,i.y+=s[e].y;i.x/=n,i.y/=n}return i};c.exports=p},28793:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};c.exports=y},44405:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x*t.x+t.y*t.y};c.exports=y},20873:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(s,i){i===void 0&&(i=new o);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,a=0;a<s.length;a++){var h=s[a];h.x>n&&(n=h.x),h.x<e&&(e=h.x),h.y>r&&(r=h.y),h.y<l&&(l=h.y)}return i.x=e,i.y=l,i.width=n-e,i.height=r-l,i};c.exports=p},26152:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i,n,e){return n===void 0&&(n=0),e===void 0&&(e=new o),e.x=s.x+(i.x-s.x)*n,e.y=s.y+(i.y-s.y)*n,e};c.exports=p},55767:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(t.y,t.x)};c.exports=y},79432:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){return i===void 0&&(i=new o),i.setTo(-s.x,-s.y)};c.exports=p},2141:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23777),s=new o({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=p.POINT,this.x=n,this.y=e},setTo:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.x=i,this.y=n,this}});c.exports=s},72930:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(44405),s=function(i,n,e){e===void 0&&(e=new o);var r=i.x*n.x+i.y*n.y,l=r/p(n);return l!==0&&(e.x=l*n.x,e.y=l*n.y),e};c.exports=s},62880:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i,n){n===void 0&&(n=new o);var e=s.x*i.x+s.y*i.y;return e!==0&&(n.x=e*i.x,n.y=e*i.y),n};c.exports=p},15093:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28793),p=function(s,i){if(s.x!==0||s.y!==0){var n=o(s);s.x/=n,s.y/=n}return s.x*=i,s.y*=i,s};c.exports=p},43711:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);o.Ceil=t(96550),o.Clone=t(99706),o.CopyFrom=t(68010),o.Equals=t(27814),o.Floor=t(73565),o.GetCentroid=t(87555),o.GetMagnitude=t(28793),o.GetMagnitudeSq=t(44405),o.GetRectangleFromPoints=t(20873),o.Interpolate=t(26152),o.Invert=t(55767),o.Negative=t(79432),o.Project=t(72930),o.ProjectUnit=t(62880),o.SetMagnitude=t(15093),c.exports=o},12306:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717),p=function(s){return new o(s.points)};c.exports=p},63814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var s=!1,i=-1,n=t.points.length-1;++i<t.points.length;n=i){var e=t.points[i].x,r=t.points[i].y,l=t.points[n].x,a=t.points[n].y;(r<=p&&p<a||a<=p&&p<r)&&o<(l-e)*(p-r)/(a-r)+e&&(s=!s)}return s};c.exports=y},99338:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63814),p=function(s,i){return o(s,i.x,i.y)};c.exports=p},94811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(X,j,D){D=D||2;var z=j&&j.length,$=z?j[0]*D:X.length,K=t(X,0,$,D,!0),Z=[];if(!K||K.next===K.prev)return Z;var it,st,at,ut,vt,xt,Et;if(z&&(K=r(X,j,K,D)),X.length>80*D){it=at=X[0],st=ut=X[1];for(var yt=D;yt<$;yt+=D)vt=X[yt],xt=X[yt+1],vt<it&&(it=vt),xt<st&&(st=xt),vt>at&&(at=vt),xt>ut&&(ut=xt);Et=Math.max(at-it,ut-st),Et=Et!==0?32767/Et:0}return p(K,Z,D,it,st,Et,0),Z}function t(X,j,D,z,$){var K,Z;if($===tt(X,j,D,z)>0)for(K=j;K<D;K+=z)Z=U(K,X[K],X[K+1],Z);else for(K=D-z;K>=j;K-=z)Z=U(K,X[K],X[K+1],Z);return Z&&A(Z,Z.next)&&(H(Z),Z=Z.next),Z}function o(X,j){if(!X)return X;j||(j=X);var D=X,z;do if(z=!1,!D.steiner&&(A(D,D.next)||C(D.prev,D,D.next)===0)){if(H(D),D=j=D.prev,D===D.next)break;z=!0}else D=D.next;while(z||D!==j);return j}function p(X,j,D,z,$,K,Z){if(X){!Z&&K&&u(X,z,$,K);for(var it=X,st,at;X.prev!==X.next;){if(st=X.prev,at=X.next,K?i(X,z,$,K):s(X)){j.push(st.i/D|0),j.push(X.i/D|0),j.push(at.i/D|0),H(X),X=at.next,it=at.next;continue}if(X=at,X===it){Z?Z===1?(X=n(o(X),j,D),p(X,j,D,z,$,K,2)):Z===2&&e(X,j,D,z,$,K):p(o(X),j,D,z,$,K,1);break}}}}function s(X){var j=X.prev,D=X,z=X.next;if(C(j,D,z)>=0)return!1;for(var $=j.x,K=D.x,Z=z.x,it=j.y,st=D.y,at=z.y,ut=$<K?$<Z?$:Z:K<Z?K:Z,vt=it<st?it<at?it:at:st<at?st:at,xt=$>K?$>Z?$:Z:K>Z?K:Z,Et=it>st?it>at?it:at:st>at?st:at,yt=z.next;yt!==j;){if(yt.x>=ut&&yt.x<=xt&&yt.y>=vt&&yt.y<=Et&&S($,it,K,st,Z,at,yt.x,yt.y)&&C(yt.prev,yt,yt.next)>=0)return!1;yt=yt.next}return!0}function i(X,j,D,z){var $=X.prev,K=X,Z=X.next;if(C($,K,Z)>=0)return!1;for(var it=$.x,st=K.x,at=Z.x,ut=$.y,vt=K.y,xt=Z.y,Et=it<st?it<at?it:at:st<at?st:at,yt=ut<vt?ut<xt?ut:xt:vt<xt?vt:xt,bt=it>st?it>at?it:at:st>at?st:at,Dt=ut>vt?ut>xt?ut:xt:vt>xt?vt:xt,Vt=m(Et,yt,j,D,z),Nt=m(bt,Dt,j,D,z),Mt=X.prevZ,It=X.nextZ;Mt&&Mt.z>=Vt&&It&&It.z<=Nt;){if(Mt.x>=Et&&Mt.x<=bt&&Mt.y>=yt&&Mt.y<=Dt&&Mt!==$&&Mt!==Z&&S(it,ut,st,vt,at,xt,Mt.x,Mt.y)&&C(Mt.prev,Mt,Mt.next)>=0||(Mt=Mt.prevZ,It.x>=Et&&It.x<=bt&&It.y>=yt&&It.y<=Dt&&It!==$&&It!==Z&&S(it,ut,st,vt,at,xt,It.x,It.y)&&C(It.prev,It,It.next)>=0))return!1;It=It.nextZ}for(;Mt&&Mt.z>=Vt;){if(Mt.x>=Et&&Mt.x<=bt&&Mt.y>=yt&&Mt.y<=Dt&&Mt!==$&&Mt!==Z&&S(it,ut,st,vt,at,xt,Mt.x,Mt.y)&&C(Mt.prev,Mt,Mt.next)>=0)return!1;Mt=Mt.prevZ}for(;It&&It.z<=Nt;){if(It.x>=Et&&It.x<=bt&&It.y>=yt&&It.y<=Dt&&It!==$&&It!==Z&&S(it,ut,st,vt,at,xt,It.x,It.y)&&C(It.prev,It,It.next)>=0)return!1;It=It.nextZ}return!0}function n(X,j,D){var z=X;do{var $=z.prev,K=z.next.next;!A($,K)&&b($,z,z.next,K)&&O($,K)&&O(K,$)&&(j.push($.i/D|0),j.push(z.i/D|0),j.push(K.i/D|0),H(z),H(z.next),z=X=K),z=z.next}while(z!==X);return o(z)}function e(X,j,D,z,$,K){var Z=X;do{for(var it=Z.next.next;it!==Z.prev;){if(Z.i!==it.i&&T(Z,it)){var st=B(Z,it);Z=o(Z,Z.next),st=o(st,st.next),p(Z,j,D,z,$,K,0),p(st,j,D,z,$,K,0);return}it=it.next}Z=Z.next}while(Z!==X)}function r(X,j,D,z){var $=[],K,Z,it,st,at;for(K=0,Z=j.length;K<Z;K++)it=j[K]*z,st=K<Z-1?j[K+1]*z:X.length,at=t(X,it,st,z,!1),at===at.next&&(at.steiner=!0),$.push(x(at));for($.sort(l),K=0;K<$.length;K++)D=a($[K],D);return D}function l(X,j){return X.x-j.x}function a(X,j){var D=h(X,j);if(!D)return j;var z=B(D,X);return o(z,z.next),o(D,D.next)}function h(X,j){var D=j,z=X.x,$=X.y,K=-1/0,Z;do{if($<=D.y&&$>=D.next.y&&D.next.y!==D.y){var it=D.x+($-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(it<=z&&it>K&&(K=it,Z=D.x<D.next.x?D:D.next,it===z))return Z}D=D.next}while(D!==j);if(!Z)return null;var st=Z,at=Z.x,ut=Z.y,vt=1/0,xt;D=Z;do z>=D.x&&D.x>=at&&z!==D.x&&S($<ut?z:K,$,at,ut,$<ut?K:z,$,D.x,D.y)&&(xt=Math.abs($-D.y)/(z-D.x),O(D,X)&&(xt<vt||xt===vt&&(D.x>Z.x||D.x===Z.x&&f(Z,D)))&&(Z=D,vt=xt)),D=D.next;while(D!==st);return Z}function f(X,j){return C(X.prev,X,j.prev)<0&&C(j.next,X,X.next)<0}function u(X,j,D,z){var $=X;do $.z===0&&($.z=m($.x,$.y,j,D,z)),$.prevZ=$.prev,$.nextZ=$.next,$=$.next;while($!==X);$.prevZ.nextZ=null,$.prevZ=null,d($)}function d(X){var j,D,z,$,K,Z,it,st,at=1;do{for(D=X,X=null,K=null,Z=0;D;){for(Z++,z=D,it=0,j=0;j<at&&(it++,z=z.nextZ,!!z);j++);for(st=at;it>0||st>0&&z;)it!==0&&(st===0||!z||D.z<=z.z)?($=D,D=D.nextZ,it--):($=z,z=z.nextZ,st--),K?K.nextZ=$:X=$,$.prevZ=K,K=$;D=z}K.nextZ=null,at*=2}while(Z>1);return X}function m(X,j,D,z,$){return X=(X-D)*$|0,j=(j-z)*$|0,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,j=(j|j<<8)&16711935,j=(j|j<<4)&252645135,j=(j|j<<2)&858993459,j=(j|j<<1)&1431655765,X|j<<1}function x(X){var j=X,D=X;do(j.x<D.x||j.x===D.x&&j.y<D.y)&&(D=j),j=j.next;while(j!==X);return D}function S(X,j,D,z,$,K,Z,it){return($-Z)*(j-it)>=(X-Z)*(K-it)&&(X-Z)*(z-it)>=(D-Z)*(j-it)&&(D-Z)*(K-it)>=($-Z)*(z-it)}function T(X,j){return X.next.i!==j.i&&X.prev.i!==j.i&&!L(X,j)&&(O(X,j)&&O(j,X)&&I(X,j)&&(C(X.prev,X,j.prev)||C(X,j.prev,j))||A(X,j)&&C(X.prev,X,X.next)>0&&C(j.prev,j,j.next)>0)}function C(X,j,D){return(j.y-X.y)*(D.x-j.x)-(j.x-X.x)*(D.y-j.y)}function A(X,j){return X.x===j.x&&X.y===j.y}function b(X,j,D,z){var $=F(C(X,j,D)),K=F(C(X,j,z)),Z=F(C(D,z,X)),it=F(C(D,z,j));return!!($!==K&&Z!==it||$===0&&R(X,D,j)||K===0&&R(X,z,j)||Z===0&&R(D,X,z)||it===0&&R(D,j,z))}function R(X,j,D){return j.x<=Math.max(X.x,D.x)&&j.x>=Math.min(X.x,D.x)&&j.y<=Math.max(X.y,D.y)&&j.y>=Math.min(X.y,D.y)}function F(X){return X>0?1:X<0?-1:0}function L(X,j){var D=X;do{if(D.i!==X.i&&D.next.i!==X.i&&D.i!==j.i&&D.next.i!==j.i&&b(D,D.next,X,j))return!0;D=D.next}while(D!==X);return!1}function O(X,j){return C(X.prev,X,X.next)<0?C(X,j,X.next)>=0&&C(X,X.prev,j)>=0:C(X,j,X.prev)<0||C(X,X.next,j)<0}function I(X,j){var D=X,z=!1,$=(X.x+j.x)/2,K=(X.y+j.y)/2;do D.y>K!=D.next.y>K&&D.next.y!==D.y&&$<(D.next.x-D.x)*(K-D.y)/(D.next.y-D.y)+D.x&&(z=!z),D=D.next;while(D!==X);return z}function B(X,j){var D=new J(X.i,X.x,X.y),z=new J(j.i,j.x,j.y),$=X.next,K=j.prev;return X.next=j,j.prev=X,D.next=$,$.prev=D,z.next=D,D.prev=z,K.next=z,z.prev=K,z}function U(X,j,D,z){var $=new J(X,j,D);return z?($.next=z.next,$.prev=z,z.next.prev=$,z.next=$):($.prev=$,$.next=$),$}function H(X){X.next.prev=X.prev,X.prev.next=X.next,X.prevZ&&(X.prevZ.nextZ=X.nextZ),X.nextZ&&(X.nextZ.prevZ=X.prevZ)}function J(X,j,D){this.i=X,this.x=j,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(X,j,D,z){var $=j&&j.length,K=$?j[0]*D:X.length,Z=Math.abs(tt(X,0,K,D));if($)for(var it=0,st=j.length;it<st;it++){var at=j[it]*D,ut=it<st-1?j[it+1]*D:X.length;Z-=Math.abs(tt(X,at,ut,D))}var vt=0;for(it=0;it<z.length;it+=3){var xt=z[it]*D,Et=z[it+1]*D,yt=z[it+2]*D;vt+=Math.abs((X[xt]-X[yt])*(X[Et+1]-X[xt+1])-(X[xt]-X[Et])*(X[yt+1]-X[xt+1]))}return Z===0&&vt===0?0:Math.abs((vt-Z)/Z)};function tt(X,j,D,z){for(var $=0,K=j,Z=D-z;K<D;K+=z)$+=(X[Z]-X[K])*(X[K+1]+X[Z+1]),Z=K;return $}y.flatten=function(X){for(var j=X[0][0].length,D={vertices:[],holes:[],dimensions:j},z=0,$=0;$<X.length;$++){for(var K=0;K<X[$].length;K++)for(var Z=0;Z<j;Z++)D.vertices.push(X[$][K][Z]);$>0&&(z+=X[$-1].length,D.holes.push(z))}return D},c.exports=y},13829:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(s,i){i===void 0&&(i=new o);for(var n=1/0,e=1/0,r=-n,l=-e,a,h=0;h<s.points.length;h++)a=s.points[h],n=Math.min(n,a.x),e=Math.min(e,a.y),r=Math.max(r,a.x),l=Math.max(l,a.y);return i.x=n,i.y=e,i.width=r-n,i.height=l-e,i};c.exports=p},26173:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=[]);for(var p=0;p<t.points.length;p++)o.push(t.points[p].x),o.push(t.points[p].y);return o};c.exports=y},9564:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=t(23031),s=t(30052),i=function(n,e,r,l){l===void 0&&(l=[]);var a=n.points,h=s(n);!e&&r>0&&(e=h/r);for(var f=0;f<e;f++)for(var u=h*(f/e),d=0,m=0;m<a.length;m++){var x=a[m],S=a[(m+1)%a.length],T=new p(x.x,x.y,S.x,S.y),C=o(T);if(u<d||u>d+C){d+=C;continue}var A=T.getPoint((u-d)/C);l.push(A);break}return l};c.exports=i},30052:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=t(23031),s=function(i){for(var n=i.points,e=0,r=0;r<n.length;r++){var l=n[r],a=n[(r+1)%n.length],h=new p(l.x,l.y,a.x,a.y);e+=o(h)}return e};c.exports=s},25717:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(63814),s=t(9564),i=t(23777),n=new o({initialize:function(r){this.type=i.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(e,r){return p(this,e,r)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var r,l=0;l<e.length;l++)r={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(r.x=parseFloat(e[l]),r.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(r.x=e[l][0],r.y=e[l][1]):(r.x=e[l].x,r.y=e[l].y),this.points.push(r);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,r,l,a=0;a<this.points.length-1;a++)r=this.points[a],l=this.points[a+1],e+=(l.x-r.x)*(r.y+l.y);return r=this.points[0],l=this.points[this.points.length-1],e+=(r.x-l.x)*(l.y+r.y),this.area=-e*.5,this.area},getPoints:function(e,r,l){return s(this,e,r,l)}});c.exports=n},8133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.points.reverse(),t};c.exports=y},29524:c=>{function y(n,e){var r=n.x-e.x,l=n.y-e.y;return r*r+l*l}function t(n,e,r){var l=e.x,a=e.y,h=r.x-l,f=r.y-a;if(h!==0||f!==0){var u=((n.x-l)*h+(n.y-a)*f)/(h*h+f*f);u>1?(l=r.x,a=r.y):u>0&&(l+=h*u,a+=f*u)}return h=n.x-l,f=n.y-a,h*h+f*f}function o(n,e){for(var r=n[0],l=[r],a,h=1,f=n.length;h<f;h++)a=n[h],y(a,r)>e&&(l.push(a),r=a);return r!==a&&l.push(a),l}function p(n,e,r,l,a){for(var h=l,f,u=e+1;u<r;u++){var d=t(n[u],n[e],n[r]);d>h&&(f=u,h=d)}h>l&&(f-e>1&&p(n,e,f,l,a),a.push(n[f]),r-f>1&&p(n,f,r,l,a))}function s(n,e){var r=n.length-1,l=[n[0]];return p(n,0,r,e,l),l.push(n[r]),l}var i=function(n,e,r){e===void 0&&(e=1),r===void 0&&(r=!1);var l=n.points;if(l.length>2){var a=e*e;r||(l=o(l,a)),n.setTo(s(l,a))}return n};c.exports=i},5469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(o,p){return o[0]=p[0],o[1]=p[1],o},t=function(o){var p,s=[],i=o.points;for(p=0;p<i.length;p++)s.push([i[p].x,i[p].y]);var n=[];for(s.length>0&&n.push(y([0,0],s[0])),p=0;p<s.length-1;p++){var e=s[p],r=s[p+1],l=e[0],a=e[1],h=r[0],f=r[1];n.push([.85*l+.15*h,.85*a+.15*f]),n.push([.15*l+.85*h,.15*a+.85*f])}return s.length>1&&n.push(y([0,0],s[s.length-1])),o.setTo(n)};c.exports=t},24709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var s=t.points,i=0;i<s.length;i++)s[i].x+=o,s[i].y+=p;return t};c.exports=y},58423:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717);o.Clone=t(12306),o.Contains=t(63814),o.ContainsPoint=t(99338),o.Earcut=t(94811),o.GetAABB=t(13829),o.GetNumberArray=t(26173),o.GetPoints=t(9564),o.Perimeter=t(30052),o.Reverse=t(8133),o.Simplify=t(29524),o.Smooth=t(5469),o.Translate=t(24709),c.exports=o},62224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.height};c.exports=y},98615:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};c.exports=y},31688:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};c.exports=y},67502:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x=o-t.width/2,t.y=p-t.height/2,t};c.exports=y},65085:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(s){return new o(s.x,s.y,s.width,s.height)};c.exports=p},37303:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.width<=0||t.height<=0?!1:t.x<=o&&t.x+t.width>=o&&t.y<=p&&t.y+t.height>=p};c.exports=y},96553:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37303),p=function(s,i){return o(s,i.x,i.y)};c.exports=p},70273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.width*o.height>t.width*t.height?!1:o.x>t.x&&o.x<t.right&&o.right>t.x&&o.right<t.right&&o.y>t.y&&o.y<t.bottom&&o.bottom>t.y&&o.bottom<t.bottom};c.exports=y},43459:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};c.exports=y},77493:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x,y:t.y}),o.push({x:t.right,y:t.y}),o.push({x:t.right,y:t.bottom}),o.push({x:t.x,y:t.bottom}),o};c.exports=y},9219:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};c.exports=y},53751:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),p=function(s,i){var n=o(s);return n<o(i)?s.setSize(i.height*n,i.height):s.setSize(i.width,i.width/n),s.setPosition(i.centerX-s.width/2,i.centerY-s.height/2)};c.exports=p},16088:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),p=function(s,i){var n=o(s);return n>o(i)?s.setSize(i.height*n,i.height):s.setSize(i.width,i.width/n),s.setPosition(i.centerX-s.width/2,i.centerY-s.height/2)};c.exports=p},80774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};c.exports=y},83859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};c.exports=y},19217:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(36383),s=function(i,n){if(n===void 0&&(n=new o),i.length===0)return n;for(var e=Number.MAX_VALUE,r=Number.MAX_VALUE,l=p.MIN_SAFE_INTEGER,a=p.MIN_SAFE_INTEGER,h,f,u,d=0;d<i.length;d++)h=i[d],Array.isArray(h)?(f=h[0],u=h[1]):(f=h.x,u=h.y),e=Math.min(e,f),r=Math.min(r,u),l=Math.max(l,f),a=Math.max(a,u);return n.x=e,n.y=r,n.width=l-e,n.height=a-r,n};c.exports=s},9477:(c,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(s,i,n,e,r){return r===void 0&&(r=new o),r.setTo(Math.min(s,n),Math.min(i,e),Math.abs(s-n),Math.abs(i-e))};c.exports=p},8249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height===0?NaN:t.width/t.height};c.exports=y},27165:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){return i===void 0&&(i=new o),i.x=s.centerX,i.y=s.centerY,i};c.exports=p},20812:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),p=t(2141),s=function(i,n,e){if(e===void 0&&(e=new p),n<=0||n>=1)return e.x=i.x,e.y=i.y,e;var r=o(i)*n;return n>.5?(r-=i.width+i.height,r<=i.width?(e.x=i.right-r,e.y=i.bottom):(e.x=i.x,e.y=i.bottom-(r-i.width))):r<=i.width?(e.x=i.x+r,e.y=i.y):(e.x=i.right,e.y=i.y+(r-i.width)),e};c.exports=s},34819:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20812),p=t(13019),s=function(i,n,e,r){r===void 0&&(r=[]),!n&&e>0&&(n=p(i)/e);for(var l=0;l<n;l++){var a=l/n;r.push(o(i,a))}return r};c.exports=s},51313:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){return i===void 0&&(i=new o),i.x=s.width,i.y=s.height,i};c.exports=p},86091:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67502),p=function(s,i,n){var e=s.centerX,r=s.centerY;return s.setSize(s.width+i*2,s.height+n*2),o(s,e,r)};c.exports=p},53951:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(59996),s=function(i,n,e){return e===void 0&&(e=new o),p(i,n)?(e.x=Math.max(i.x,n.x),e.y=Math.max(i.y,n.y),e.width=Math.min(i.right,n.right)-e.x,e.height=Math.min(i.bottom,n.bottom)-e.y):e.setEmpty(),e};c.exports=s},14649:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),p=t(2141),s=function(i,n,e,r){if(r===void 0&&(r=[]),!n&&!e)return r;n?e=Math.round(o(i)/n):n=o(i)/e;for(var l=i.x,a=i.y,h=0,f=0;f<e;f++)switch(r.push(new p(l,a)),h){case 0:l+=n,l>=i.right&&(h=1,a+=l-i.right,l=i.right);break;case 1:a+=n,a>=i.bottom&&(h=2,l-=a-i.bottom,a=i.bottom);break;case 2:l-=n,l<=i.left&&(h=3,a-=i.left-l,l=i.left);break;case 3:a-=n,a<=i.top&&(h=0,a=i.top);break}return r};c.exports=s},33595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var p=t.x,s=t.right,i=t.y,n=t.bottom,e=0;e<o.length;e++)p=Math.min(p,o[e].x),s=Math.max(s,o[e].x),i=Math.min(i,o[e].y),n=Math.max(n,o[e].y);return t.x=p,t.y=i,t.width=s-p,t.height=n-i,t};c.exports=y},20074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=Math.min(t.x,o.x),s=Math.max(t.right,o.right);t.x=p,t.width=s-p;var i=Math.min(t.y,o.y),n=Math.max(t.bottom,o.bottom);return t.y=i,t.height=n-i,t};c.exports=y},92171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=Math.min(t.x,o),i=Math.max(t.right,o);t.x=s,t.width=i-s;var n=Math.min(t.y,p),e=Math.max(t.bottom,p);return t.y=n,t.height=e-n,t};c.exports=y},42981:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x+=o,t.y+=p,t};c.exports=y},46907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=y},60170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x<o.right&&t.right>o.x&&t.y<o.bottom&&t.bottom>o.y};c.exports=y},13019:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(t.width+t.height)};c.exports=y},85133:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(39506),s=function(i,n,e){e===void 0&&(e=new o),n=p(n);var r=Math.sin(n),l=Math.cos(n),a=l>0?i.width/2:i.width/-2,h=r>0?i.height/2:i.height/-2;return Math.abs(a*r)<Math.abs(h*l)?h=a*r/l:a=h*l/r,e.x=a+i.centerX,e.y=h+i.centerY,e};c.exports=s},26597:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){return i===void 0&&(i=new o),i.x=s.x+Math.random()*s.width,i.y=s.y+Math.random()*s.height,i};c.exports=p},86470:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),p=t(70273),s=t(2141),i=function(n,e,r){if(r===void 0&&(r=new s),p(n,e))switch(o(0,3)){case 0:r.x=n.x+Math.random()*(e.right-n.x),r.y=n.y+Math.random()*(e.top-n.y);break;case 1:r.x=e.x+Math.random()*(n.right-e.x),r.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:r.x=n.x+Math.random()*(e.x-n.x),r.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:r.x=e.right+Math.random()*(n.right-e.right),r.y=n.y+Math.random()*(e.bottom-n.y);break}return r};c.exports=i},87841:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37303),s=t(20812),i=t(34819),n=t(23777),e=t(23031),r=t(26597),l=new o({initialize:function(h,f,u,d){h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=n.RECTANGLE,this.x=h,this.y=f,this.width=u,this.height=d},contains:function(a,h){return p(this,a,h)},getPoint:function(a,h){return s(this,a,h)},getPoints:function(a,h,f){return i(this,a,h,f)},getRandomPoint:function(a){return r(this,a)},setTo:function(a,h,f,u){return this.x=a,this.y=h,this.width=f,this.height=u,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,h){return h===void 0&&(h=a),this.x=a,this.y=h,this},setSize:function(a,h){return h===void 0&&(h=a),this.width=a,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return a===void 0&&(a=new e),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return a===void 0&&(a=new e),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return a===void 0&&(a=new e),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return a===void 0&&(a=new e),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}},top:{get:function(){return this.y},set:function(a){a>=this.bottom?this.height=0:this.height=this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});c.exports=l},94845:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.width===o.width&&t.height===o.height};c.exports=y},31730:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=o),t.width*=o,t.height*=p,t};c.exports=y},36899:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(s,i,n){n===void 0&&(n=new o);var e=Math.min(s.x,i.x),r=Math.min(s.y,i.y),l=Math.max(s.right,i.right)-e,a=Math.max(s.bottom,i.bottom)-r;return n.setTo(e,r,l,a)};c.exports=p},93232:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841);o.Area=t(62224),o.Ceil=t(98615),o.CeilAll=t(31688),o.CenterOn=t(67502),o.Clone=t(65085),o.Contains=t(37303),o.ContainsPoint=t(96553),o.ContainsRect=t(70273),o.CopyFrom=t(43459),o.Decompose=t(77493),o.Equals=t(9219),o.FitInside=t(53751),o.FitOutside=t(16088),o.Floor=t(80774),o.FloorAll=t(83859),o.FromPoints=t(19217),o.FromXY=t(9477),o.GetAspectRatio=t(8249),o.GetCenter=t(27165),o.GetPoint=t(20812),o.GetPoints=t(34819),o.GetSize=t(51313),o.Inflate=t(86091),o.Intersection=t(53951),o.MarchingAnts=t(14649),o.MergePoints=t(33595),o.MergeRect=t(20074),o.MergeXY=t(92171),o.Offset=t(42981),o.OffsetPoint=t(46907),o.Overlaps=t(60170),o.Perimeter=t(13019),o.PerimeterPoint=t(85133),o.Random=t(26597),o.RandomOutside=t(86470),o.SameDimensions=t(94845),o.Scale=t(31730),o.Union=t(36899),c.exports=o},41658:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.x1,p=t.y1,s=t.x2,i=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-o)*(i-p)-(s-o)*(e-p))/2)};c.exports=y},39208:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),p=function(s,i,n){var e=n*(Math.sqrt(3)/2),r=s,l=i,a=s+n/2,h=i+e,f=s-n/2,u=i+e;return new o(r,l,a,h,f,u)};c.exports=p},39545:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(94811),p=t(16483),s=function(i,n,e,r,l){n===void 0&&(n=null),e===void 0&&(e=1),r===void 0&&(r=1),l===void 0&&(l=[]);for(var a=o(i,n),h,f,u,d,m,x,S,T,C,A=0;A<a.length;A+=3)h=a[A],f=a[A+1],u=a[A+2],d=i[h*2]*e,m=i[h*2+1]*r,x=i[f*2]*e,S=i[f*2+1]*r,T=i[u*2]*e,C=i[u*2+1]*r,l.push(new p(d,m,x,S,T,C));return l};c.exports=s},90301:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),p=function(s,i,n,e){e===void 0&&(e=n);var r=s,l=i,a=s,h=i-e,f=s+n,u=i;return new o(r,l,a,h,f,u)};c.exports=p},23707:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97523),p=t(13584),s=function(i,n,e,r){r===void 0&&(r=o);var l=r(i),a=n-l.x,h=e-l.y;return p(i,a,h)};c.exports=s},97523:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){return i===void 0&&(i=new o),i.x=(s.x1+s.x2+s.x3)/3,i.y=(s.y1+s.y2+s.y3)/3,i};c.exports=p},24951:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099);function p(i,n,e,r){return i*r-n*e}var s=function(i,n){n===void 0&&(n=new o);var e=i.x3,r=i.y3,l=i.x1-e,a=i.y1-r,h=i.x2-e,f=i.y2-r,u=2*p(l,a,h,f),d=p(a,l*l+a*a,f,h*h+f*f),m=p(l,l*l+a*a,h,h*h+f*f);return n.x=e-d/u,n.y=r+m/u,n};c.exports=s},85614:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),p=function(s,i){i===void 0&&(i=new o);var n=s.x1,e=s.y1,r=s.x2,l=s.y2,a=s.x3,h=s.y3,f=r-n,u=l-e,d=a-n,m=h-e,x=f*(n+r)+u*(e+l),S=d*(n+a)+m*(e+h),T=2*(f*(h-l)-u*(a-r)),C,A;if(Math.abs(T)<1e-6){var b=Math.min(n,r,a),R=Math.min(e,l,h);C=(Math.max(n,r,a)-b)*.5,A=(Math.max(e,l,h)-R)*.5,i.x=b+C,i.y=R+A,i.radius=Math.sqrt(C*C+A*A)}else i.x=(m*x-u*S)/T,i.y=(f*S-d*x)/T,C=i.x-n,A=i.y-e,i.radius=Math.sqrt(C*C+A*A);return i};c.exports=p},74422:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),p=function(s){return new o(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};c.exports=p},10690:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=t.x3-t.x1,i=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,r=o-t.x1,l=p-t.y1,a=s*s+i*i,h=s*n+i*e,f=s*r+i*l,u=n*n+e*e,d=n*r+e*l,m=a*u-h*h,x=m===0?0:1/m,S=(u*f-h*d)*x,T=(a*d-h*f)*x;return S>=0&&T>=0&&S+T<1};c.exports=y},48653:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p===void 0&&(p=!1),s===void 0&&(s=[]);for(var i=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,r=t.y2-t.y1,l=i*i+n*n,a=i*e+n*r,h=e*e+r*r,f=l*h-a*a,u=f===0?0:1/f,d,m,x,S,T,C,A=t.x1,b=t.y1,R=0;R<o.length&&(x=o[R].x-A,S=o[R].y-b,T=i*x+n*S,C=e*x+r*S,d=(h*T-a*C)*u,m=(l*C-a*T)*u,!(d>=0&&m>=0&&d+m<1&&(s.push({x:o[R].x,y:o[R].y}),p)));R++);return s};c.exports=y},96006:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10690),p=function(s,i){return o(s,i.x,i.y)};c.exports=p},71326:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};c.exports=y},71694:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x1,y:t.y1}),o.push({x:t.x2,y:t.y2}),o.push({x:t.x3,y:t.y3}),o};c.exports=y},33522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2&&t.x3===o.x3&&t.y3===o.y3};c.exports=y},20437:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(35001),s=function(i,n,e){e===void 0&&(e=new o);var r=i.getLineA(),l=i.getLineB(),a=i.getLineC();if(n<=0||n>=1)return e.x=r.x1,e.y=r.y1,e;var h=p(r),f=p(l),u=p(a),d=h+f+u,m=d*n,x=0;return m<h?(x=m/h,e.x=r.x1+(r.x2-r.x1)*x,e.y=r.y1+(r.y2-r.y1)*x):m>h+f?(m-=h+f,x=m/u,e.x=a.x1+(a.x2-a.x1)*x,e.y=a.y1+(a.y2-a.y1)*x):(m-=h,x=m/f,e.x=l.x1+(l.x2-l.x1)*x,e.y=l.y1+(l.y2-l.y1)*x),e};c.exports=s},80672:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=t(2141),s=function(i,n,e,r){r===void 0&&(r=[]);var l=i.getLineA(),a=i.getLineB(),h=i.getLineC(),f=o(l),u=o(a),d=o(h),m=f+u+d;!n&&e>0&&(n=m/e);for(var x=0;x<n;x++){var S=m*(x/n),T=0,C=new p;S<f?(T=S/f,C.x=l.x1+(l.x2-l.x1)*T,C.y=l.y1+(l.y2-l.y1)*T):S>f+u?(S-=f+u,T=S/d,C.x=h.x1+(h.x2-h.x1)*T,C.y=h.y1+(h.y2-h.y1)*T):(S-=f,T=S/u,C.x=a.x1+(a.x2-a.x1)*T,C.y=a.y1+(a.y2-a.y1)*T),r.push(C)}return r};c.exports=s},39757:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);function p(i,n,e,r){var l=i-e,a=n-r,h=l*l+a*a;return Math.sqrt(h)}var s=function(i,n){n===void 0&&(n=new o);var e=i.x1,r=i.y1,l=i.x2,a=i.y2,h=i.x3,f=i.y3,u=p(h,f,l,a),d=p(e,r,h,f),m=p(l,a,e,r),x=u+d+m;return n.x=(e*u+l*d+h*m)/x,n.y=(r*u+a*d+f*m)/x,n};c.exports=s},13584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x1+=o,t.y1+=p,t.x2+=o,t.y2+=p,t.x3+=o,t.y3+=p,t};c.exports=y},1376:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=function(s){var i=s.getLineA(),n=s.getLineB(),e=s.getLineC();return o(i)+o(n)+o(e)};c.exports=p},90260:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(s,i){i===void 0&&(i=new o);var n=s.x2-s.x1,e=s.y2-s.y1,r=s.x3-s.x1,l=s.y3-s.y1,a=Math.random(),h=Math.random();return a+h>=1&&(a=1-a,h=1-h),i.x=s.x1+(n*a+r*h),i.y=s.y1+(e*a+l*h),i};c.exports=p},52172:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),p=t(39757),s=function(i,n){var e=p(i);return o(i,e.x,e.y,n)};c.exports=s},49907:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),p=function(s,i,n){return o(s,i.x,i.y,n)};c.exports=p},99614:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=Math.cos(s),n=Math.sin(s),e=t.x1-o,r=t.y1-p;return t.x1=e*i-r*n+o,t.y1=e*n+r*i+p,e=t.x2-o,r=t.y2-p,t.x2=e*i-r*n+o,t.y2=e*n+r*i+p,e=t.x3-o,r=t.y3-p,t.x3=e*i-r*n+o,t.y3=e*n+r*i+p,t};c.exports=y},16483:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(10690),s=t(20437),i=t(80672),n=t(23777),e=t(23031),r=t(90260),l=new o({initialize:function(h,f,u,d,m,x){h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=n.TRIANGLE,this.x1=h,this.y1=f,this.x2=u,this.y2=d,this.x3=m,this.y3=x},contains:function(a,h){return p(this,a,h)},getPoint:function(a,h){return s(this,a,h)},getPoints:function(a,h,f){return i(this,a,h,f)},getRandomPoint:function(a){return r(this,a)},setTo:function(a,h,f,u,d,m){return a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=0),this.x1=a,this.y1=h,this.x2=f,this.y2=u,this.x3=d,this.y3=m,this},getLineA:function(a){return a===void 0&&(a=new e),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return a===void 0&&(a=new e),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return a===void 0&&(a=new e),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-a:h=this.x3-a,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-a:h=this.x3-a,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-a:h=this.y3-a,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-a:h=this.y3-a,this.y1-=h,this.y2-=h,this.y3-=h}}});c.exports=l},84435:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483);o.Area=t(41658),o.BuildEquilateral=t(39208),o.BuildFromPolygon=t(39545),o.BuildRight=t(90301),o.CenterOn=t(23707),o.Centroid=t(97523),o.CircumCenter=t(24951),o.CircumCircle=t(85614),o.Clone=t(74422),o.Contains=t(10690),o.ContainsArray=t(48653),o.ContainsPoint=t(96006),o.CopyFrom=t(71326),o.Decompose=t(71694),o.Equals=t(33522),o.GetPoint=t(20437),o.GetPoints=t(80672),o.InCenter=t(39757),o.Perimeter=t(1376),o.Offset=t(13584),o.Random=t(90260),o.Rotate=t(52172),o.RotateAroundPoint=t(49907),o.RotateAroundXY=t(99614),c.exports=o},74457:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};c.exports=y},84409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return function(p,s,i,n){var e=t.getPixelAlpha(s,i,n.texture.key,n.frame.name);return e&&e>=o}};c.exports=y},7003:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(93301),s=t(50792),i=t(8214),n=t(8443),e=t(78970),r=t(85098),l=t(42515),a=t(36210),h=t(61340),f=t(85955),u=new o({initialize:function(m,x){this.game=m,this.scaleManager,this.canvas,this.config=x,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=x.inputKeyboard?new e(this):null,this.mouse=x.inputMouse?new r(this):null,this.touch=x.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=x.inputActivePointers,x.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var S=0;S<=this.pointersTotal;S++){var T=new l(this,S);T.smoothFactor=x.inputSmoothFactor,this.pointers.push(T)}this.mousePointer=x.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(n.BOOT,this.boot,this)},boot:function(){var d=this.game,m=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(i.MANAGER_BOOT),m.on(n.PRE_RENDER,this.preRender,this),m.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(i.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(i.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,m=this.game.loop.delta,x=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(i.MANAGER_UPDATE);for(var S=0;S<x.length;S++){var T=x[S];if(T.sys.input&&T.sys.input.updatePoll(d,m)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var m=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var x=0;x<d;x++){var S=this.pointers.length,T=new l(this,S);T.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(T),this.pointersTotal++,m.push(T)}return m},updateInputPlugins:function(d,m){var x=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var S=0;S<x.length;S++){var T=x[S];if(T.sys.input){var C=T.sys.input.update(d,m);if(C&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var m=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var A=m[C];if(!A.active){A.touchstart(T,d),this.activePointer=A,x.push(A);break}}this.updateInputPlugins(p.TOUCH_START,x)},onTouchMove:function(d){for(var m=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===T.identifier){var b=document.elementFromPoint(T.clientX,T.clientY),R=b===this.canvas;!this.isOver&&R?this.setCanvasOver(d):this.isOver&&!R&&this.setCanvasOut(d),this.isOver&&(A.touchmove(T,d),this.activePointer=A,x.push(A));break}}this.updateInputPlugins(p.TOUCH_MOVE,x)},onTouchEnd:function(d){for(var m=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===T.identifier){A.touchend(T,d),x.push(A);break}}this.updateInputPlugins(p.TOUCH_END,x)},onTouchCancel:function(d){for(var m=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===T.identifier){A.touchcancel(T,d),x.push(A);break}}this.updateInputPlugins(p.TOUCH_CANCEL,x)},onMouseDown:function(d){var m=this.mousePointer;m.down(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var m=this.mousePointer;m.move(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var m=this.mousePointer;m.up(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var m=this.mousePointer;m.wheel(d),this.activePointer=m,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(i.POINTERLOCK_CHANGE,d,m)},inputCandidate:function(d,m){var x=d.input;if(!x||!x.enabled||!d.willRender(m))return!1;var S=!0,T=d.parentContainer;if(T)do{if(!T.willRender(m)){S=!1;break}T=T.parentContainer}while(T);return S},hitTest:function(d,m,x,S){S===void 0&&(S=this._tempHitTest);var T=this._tempPoint,C=x.scrollX,A=x.scrollY;S.length=0;var b=d.x,R=d.y;x.getWorldPoint(b,R,T),d.worldX=T.x,d.worldY=T.y;for(var F={x:0,y:0},L=this._tempMatrix,O=this._tempMatrix2,I=0;I<m.length;I++){var B=m[I];if(this.inputCandidate(B,x)){var U=T.x+C*B.scrollFactorX-C,H=T.y+A*B.scrollFactorY-A;B.parentContainer?(B.getWorldTransformMatrix(L,O),L.applyInverse(U,H,F)):f(U,H,B.x,B.y,B.rotation,B.scaleX,B.scaleY,F),this.pointWithinHitArea(B,F.x,F.y)&&S.push(B)}}return S},pointWithinHitArea:function(d,m,x){m+=d.displayOriginX,x+=d.displayOriginY;var S=d.input;return S&&S.hitAreaCallback(S.hitArea,m,x,d)?(S.localX=m,S.localY=x,!0):!1},pointWithinInteractiveObject:function(d,m,x){return d.hitArea?(m+=d.gameObject.displayOriginX,x+=d.gameObject.displayOriginY,d.localX=m,d.localY=x,d.hitAreaCallback(d.hitArea,m,x,d)):!1},transformPointer:function(d,m,x,S){var T=d.position,C=d.prevPosition;C.x=T.x,C.y=T.y;var A=this.scaleManager.transformX(m),b=this.scaleManager.transformY(x),R=d.smoothFactor;!S||R===0?(T.x=A,T.y=b):(T.x=A*R+C.x*(1-R),T.y=b*R+C.y*(1-R))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=u},48205:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),p=t(87902),s=t(83419),i=t(93301),n=t(74457),e=t(84409),r=t(20339),l=t(8497),a=t(81154),h=t(8214),f=t(50792),u=t(95540),d=t(23777),m=t(89639),x=t(41212),S=t(37277),T=t(87841),C=t(37303),A=t(44594),b=t(16483),R=t(10690),F=new s({Extends:f,initialize:function(O){f.call(this),this.scene=O,this.systems=O.sys,this.settings=O.sys.settings,this.manager=O.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var I={cancelled:!1};this._eventContainer={stopPropagation:function(){I.cancelled=!0}},this._eventData=I,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,O.sys.events.once(A.BOOT,this.boot,this),O.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var L=this.systems.events;L.on(A.TRANSITION_START,this.transitionIn,this),L.on(A.TRANSITION_OUT,this.transitionOut,this),L.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(A.PRE_UPDATE,this.preUpdate,this),L.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(L){this.isActive()&&this.emit(h.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(h.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var L=this._pendingRemoval,O=this._pendingInsertion,I=L.length,B=O.length;if(!(I===0&&B===0)){for(var U=this._list,H=0;H<I;H++){var J=L[H],tt=U.indexOf(J);tt>-1&&(U.splice(tt,1),this.clear(J,!0))}this._pendingRemoval.length=0,this._list=U.concat(O.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(L,O){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,L,O),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var I,B=this.manager,U=B.pointers,H=B.pointersTotal;for(I=0;I<H;I++)U[I].updateMotion();if(this._list.length===0)return!1;var J=this.pollRate;if(J===-1)return!1;if(J>0)if(this._pollTimer-=O,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var tt=!1;for(I=0;I<H;I++){var X=0,j=U[I];this._tempZones=[],this._temp=this.hitTestPointer(j),this.sortGameObjects(this._temp,j),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(j),this.getDragState(j)===2&&this.processDragThresholdEvent(j,L),X>0&&(tt=!0)}return tt},update:function(L,O){if(!this.isActive())return!1;for(var I=O.length,B=!1,U=0;U<I;U++){var H=0,J=O[U];switch(this._tempZones=[],this._temp=this.hitTestPointer(J),this.sortGameObjects(this._temp,J),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case i.MOUSE_DOWN:H+=this.processDragDownEvent(J),H+=this.processDownEvents(J),H+=this.processOverOutEvents(J);break;case i.MOUSE_UP:H+=this.processDragUpEvent(J),H+=this.processUpEvents(J),H+=this.processOverOutEvents(J);break;case i.TOUCH_START:H+=this.processDragDownEvent(J),H+=this.processDownEvents(J),H+=this.processOverEvents(J);break;case i.TOUCH_END:case i.TOUCH_CANCEL:H+=this.processDragUpEvent(J),H+=this.processUpEvents(J),H+=this.processOutEvents(J);break;case i.MOUSE_MOVE:case i.TOUCH_MOVE:H+=this.processDragMoveEvent(J),H+=this.processMoveEvents(J),H+=this.processOverOutEvents(J);break;case i.MOUSE_WHEEL:H+=this.processWheelEvent(J);break}H>0&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(L,O){O===void 0&&(O=!1),this.disable(L);var I=L.input;I&&(this.removeDebug(L),this.manager.resetCursor(I),I.gameObject=void 0,I.target=void 0,I.hitArea=void 0,I.hitAreaCallback=void 0,I.callbackContext=void 0,L.input=null),O||this.queueForRemoval(L);var B=this._draggable.indexOf(L);return B>-1&&this._draggable.splice(B,1),L},disable:function(L){var O=L.input;O&&(O.enabled=!1,O.dragState=0);for(var I=this._drag,B=this._over,U=this.manager,H=0,J;H<U.pointersTotal;H++)J=I[H].indexOf(L),J>-1&&I[H].splice(J,1),J=B[H].indexOf(L),J>-1&&B[H].splice(J,1);return this},enable:function(L,O,I,B){return B===void 0&&(B=!1),L.input?L.input.enabled=!0:this.setHitArea(L,O,I),L.input&&B&&!L.input.dropZone&&(L.input.dropZone=B),this},hitTestPointer:function(L){for(var O=this.cameras.getCamerasBelowPointer(L),I=0;I<O.length;I++){for(var B=O[I],U=this.manager.hitTest(L,this._list,B),H=0;H<U.length;H++){var J=U[H];J.input.dropZone&&this._tempZones.push(J)}if(U.length>0)return L.camera=B,U}return L.camera=O[0],[]},processDownEvents:function(L){var O=0,I=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var H=!1,J=0;J<I.length;J++){var tt=I[J];if(!(!tt.input||!tt.input.enabled)){if(O++,tt.emit(h.GAMEOBJECT_POINTER_DOWN,L,tt.input.localX,tt.input.localY,U),B.cancelled||!tt.input||!tt.input.enabled){H=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,L,tt,U),B.cancelled||!tt.input){H=!0;break}}}return!H&&this.manager&&(L.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,L,I):this.emit(h.POINTER_DOWN_OUTSIDE,L)),O},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,O){this._dragState[L.id]=O},processDragThresholdEvent:function(L,O){var I=!1,B=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&r(L.x,L.y,L.downX,L.downY)>=U||B>0&&O>=L.downTime+B)&&(I=!0),I)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;for(var O=this._drag[L.id],I=0;I<O.length;I++){var B=O[I],U=B.input;U.dragState=2,U.dragStartX=B.x,U.dragStartY=B.y,U.dragStartXGlobal=L.worldX,U.dragStartYGlobal=L.worldY,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,B.emit(h.GAMEOBJECT_DRAG_START,L,U.dragX,U.dragY),this.emit(h.DRAG_START,L,B)}return this.setDragState(L,4),O.length},processDragDownEvent:function(L){var O=this._temp;if(this._draggable.length===0||O.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var I=[],B=0;B<O.length;B++){var U=O[B];U.input.draggable&&U.input.dragState===0&&I.push(U)}return I.length===0?(this.setDragState(L,0),0):(I.length>1&&(this.sortGameObjects(I,L),this.topOnly&&I.splice(1)),this._drag[L.id]=I,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;for(var O=this._tempZones,I=this._drag[L.id],B=0;B<I.length;B++){var U=I[B],H=U.input,J=H.target;if(J){var tt=O.indexOf(J);tt===0?(U.emit(h.GAMEOBJECT_DRAG_OVER,L,J),this.emit(h.DRAG_OVER,L,U,J)):tt>0?(U.emit(h.GAMEOBJECT_DRAG_LEAVE,L,J),this.emit(h.DRAG_LEAVE,L,U,J),H.target=O[0],J=H.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,L,J),this.emit(h.DRAG_ENTER,L,U,J)):(U.emit(h.GAMEOBJECT_DRAG_LEAVE,L,J),this.emit(h.DRAG_LEAVE,L,U,J),O[0]?(H.target=O[0],J=H.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,L,J),this.emit(h.DRAG_ENTER,L,U,J)):H.target=null)}else!J&&O[0]&&(H.target=O[0],J=H.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,L,J),this.emit(h.DRAG_ENTER,L,U,J));var X,j;if(!U.parentContainer)X=L.worldX-H.dragX,j=L.worldY-H.dragY;else{var D=L.worldX-H.dragStartXGlobal,z=L.worldY-H.dragStartYGlobal,$=U.getParentRotation(),K=D*Math.cos($)+z*Math.sin($),Z=z*Math.cos($)-D*Math.sin($);K*=1/U.parentContainer.scaleX,Z*=1/U.parentContainer.scaleY,X=K+H.dragStartX,j=Z+H.dragStartY}U.emit(h.GAMEOBJECT_DRAG,L,X,j),this.emit(h.DRAG,L,U,X,j)}return I.length},processDragUpEvent:function(L){for(var O=this._drag[L.id],I=0;I<O.length;I++){var B=O[I],U=B.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-B.displayOriginX,U.dragY=U.localY-B.displayOriginY;var H=!1,J=U.target;J&&(B.emit(h.GAMEOBJECT_DROP,L,J),this.emit(h.DROP,L,B,J),U.target=null,H=!0),B.input&&B.input.enabled&&(B.emit(h.GAMEOBJECT_DRAG_END,L,U.dragX,U.dragY,H),this.emit(h.DRAG_END,L,B,H))}}return this.setDragState(L,0),O.splice(0),0},processMoveEvents:function(L){var O=0,I=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var H=!1,J=0;J<I.length;J++){var tt=I[J];if(!(!tt.input||!tt.input.enabled)){if(O++,tt.emit(h.GAMEOBJECT_POINTER_MOVE,L,tt.input.localX,tt.input.localY,U),B.cancelled||!tt.input||!tt.input.enabled){H=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,L,tt,U),B.cancelled||!tt.input||!tt.input.enabled){H=!0;break}if(this.topOnly)break}}return H||this.emit(h.POINTER_MOVE,L,I),O},processWheelEvent:function(L){var O=0,I=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var H=!1,J=L.deltaX,tt=L.deltaY,X=L.deltaZ,j=0;j<I.length;j++){var D=I[j];if(!(!D.input||!D.input.enabled)){if(O++,D.emit(h.GAMEOBJECT_POINTER_WHEEL,L,J,tt,X,U),B.cancelled||!D.input||!D.input.enabled){H=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,L,D,J,tt,X,U),B.cancelled||!D.input||!D.input.enabled){H=!0;break}}}return H||this.emit(h.POINTER_WHEEL,L,I,J,tt,X),O},processOverEvents:function(L){var O=this._temp,I=0,B=O.length,U=[];if(B>0){var H=this.manager,J=this._eventData,tt=this._eventContainer;J.cancelled=!1;for(var X=!1,j=0;j<B;j++){var D=O[j];if(!(!D.input||!D.input.enabled)){if(U.push(D),H.setCursor(D.input),D.emit(h.GAMEOBJECT_POINTER_OVER,L,D.input.localX,D.input.localY,tt),I++,J.cancelled||!D.input||!D.input.enabled){X=!0;break}if(this.emit(h.GAMEOBJECT_OVER,L,D,tt),J.cancelled||!D.input||!D.input.enabled){X=!0;break}}}X||this.emit(h.POINTER_OVER,L,U)}return this._over[L.id]=U,I},processOutEvents:function(L){var O=this._over[L.id],I=0,B=O.length;if(B>0){var U=this.manager,H=this._eventData,J=this._eventContainer;H.cancelled=!1;var tt=!1;this.sortGameObjects(O,L);for(var X=0;X<B;X++){var j=O[X];if(j=O[X],!(!j.input||!j.input.enabled)){if(U.resetCursor(j.input),j.emit(h.GAMEOBJECT_POINTER_OUT,L,J),I++,H.cancelled||!j.input||!j.input.enabled){tt=!0;break}if(this.emit(h.GAMEOBJECT_OUT,L,j,J),H.cancelled||!j.input||!j.input.enabled){tt=!0;break}tt||this.emit(h.POINTER_OUT,L,O)}}this._over[L.id]=[]}return I},processOverOutEvents:function(L){var O=this._temp,I,B,U=[],H=[],J=[],tt=this._over[L.id],X=this._drag[L.id],j=this.manager;for(I=0;I<tt.length;I++)B=tt[I],O.indexOf(B)===-1&&X.indexOf(B)===-1?U.push(B):J.push(B);for(I=0;I<O.length;I++)B=O[I],tt.indexOf(B)===-1&&H.push(B);var D=U.length,z=0,$=this._eventData,K=this._eventContainer;$.cancelled=!1;var Z=!1;if(D>0){for(this.sortGameObjects(U,L),I=0;I<D;I++)if(B=U[I],!(!B.input||!B.input.enabled)){if(j.resetCursor(B.input),B.emit(h.GAMEOBJECT_POINTER_OUT,L,K),z++,$.cancelled||!B.input||!B.input.enabled){Z=!0;break}if(this.emit(h.GAMEOBJECT_OUT,L,B,K),$.cancelled||!B.input||!B.input.enabled){Z=!0;break}}Z||this.emit(h.POINTER_OUT,L,U)}if(D=H.length,$.cancelled=!1,Z=!1,D>0){for(this.sortGameObjects(H,L),I=0;I<D;I++)if(B=H[I],!(!B.input||!B.input.enabled)){if(j.setCursor(B.input),B.emit(h.GAMEOBJECT_POINTER_OVER,L,B.input.localX,B.input.localY,K),z++,$.cancelled||!B.input||!B.input.enabled){Z=!0;break}if(this.emit(h.GAMEOBJECT_OVER,L,B,K),$.cancelled||!B.input||!B.input.enabled){Z=!0;break}}Z||this.emit(h.POINTER_OVER,L,H)}return tt=J.concat(H),this._over[L.id]=this.sortGameObjects(tt,L),z},processUpEvents:function(L){var O=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var U=!1,H=0;H<O.length;H++){var J=O[H];if(!(!J.input||!J.input.enabled)){if(J.emit(h.GAMEOBJECT_POINTER_UP,L,J.input.localX,J.input.localY,B),I.cancelled||!J.input||!J.input.enabled){U=!0;break}if(this.emit(h.GAMEOBJECT_UP,L,J,B),I.cancelled||!J.input||!J.input.enabled){U=!0;break}}}return!U&&this.manager&&(L.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,L,O):this.emit(h.POINTER_UP_OUTSIDE,L)),O.length},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,O){O===void 0&&(O=!0),Array.isArray(L)||(L=[L]);for(var I=0;I<L.length;I++){var B=L[I];B.input.draggable=O;var U=this._draggable.indexOf(B);O&&U===-1?this._draggable.push(B):!O&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var O=this.systems.textures;return e(O,L)},setHitArea:function(L,O,I){if(O===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var B=!1,U=!1,H=!1,J=!1,tt=!1,X=!0;if(x(O)&&Object.keys(O).length){var j=O,D=L.some(function(it){return it.hasOwnProperty("faces")});if(!D){O=u(j,"hitArea",null),I=u(j,"hitAreaCallback",null),tt=u(j,"pixelPerfect",!1);var z=u(j,"alphaTolerance",1);tt&&(O={},I=this.makePixelPerfect(z))}B=u(j,"draggable",!1),U=u(j,"dropZone",!1),H=u(j,"cursor",!1),J=u(j,"useHandCursor",!1),(!O||!I)&&(this.setHitAreaFromTexture(L),X=!1)}else typeof O=="function"&&!I&&(I=O,O={});for(var $=0;$<L.length;$++){var K=L[$];if(tt&&K.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Z=K.input?K.input:n(K,O,I);Z.customHitArea=X,Z.dropZone=U,Z.cursor=J?"pointer":H,K.input=Z,B&&this.setDraggable(K),this.queueForInsertion(K)}return this},setHitAreaCircle:function(L,O,I,B,U){U===void 0&&(U=p);var H=new o(O,I,B);return this.setHitArea(L,H,U)},setHitAreaEllipse:function(L,O,I,B,U,H){H===void 0&&(H=a);var J=new l(O,I,B,U);return this.setHitArea(L,J,H)},setHitAreaFromTexture:function(L,O){O===void 0&&(O=C),Array.isArray(L)||(L=[L]);for(var I=0;I<L.length;I++){var B=L[I],U=B.frame,H=0,J=0;if(B.width?(H=B.width,J=B.height):U&&(H=U.realWidth,J=U.realHeight),B.type==="Container"&&(H===0||J===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}H!==0&&J!==0&&(B.input=n(B,new T(0,0,H,J),O),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(L,O,I,B,U,H){H===void 0&&(H=C);var J=new T(O,I,B,U);return this.setHitArea(L,J,H)},setHitAreaTriangle:function(L,O,I,B,U,H,J,tt){tt===void 0&&(tt=R);var X=new b(O,I,B,U,H,J);return this.setHitArea(L,X,tt)},enableDebug:function(L,O){O===void 0&&(O=65280);var I=L.input;if(!I||!I.hitArea)return this;var B=I.hitArea,U=B.type,H=I.hitAreaDebug,J=this.systems.add,tt=this.systems.updateList;H&&(tt.remove(H),H.destroy(),H=null);var X=0,j=0;switch(U){case d.CIRCLE:H=J.arc(0,0,B.radius),X=B.x-B.radius,j=B.y-B.radius;break;case d.ELLIPSE:H=J.ellipse(0,0,B.width,B.height),X=B.x-B.width/2,j=B.y-B.height/2;break;case d.LINE:H=J.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case d.POLYGON:H=J.polygon(0,0,B.points);break;case d.RECTANGLE:H=J.rectangle(0,0,B.width,B.height),X=B.x,j=B.y;break;case d.TRIANGLE:H=J.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return H&&(H.isFilled=!1,H.strokeColor=O,H.preUpdate=function(){H.setVisible(L.visible),H.setStrokeStyle(1/L.scale,H.strokeColor),H.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var D=L.x,z=L.y,$=L.rotation,K=L.scaleX,Z=L.scaleY;if(L.parentContainer){var it=L.getWorldTransformMatrix();D=it.tx,z=it.ty,$=it.rotation,K=it.scaleX,Z=it.scaleY}H.setRotation($),H.setScale(K,Z),H.setPosition(D+X*K,z+j*Z),H.setScrollFactor(L.scrollFactorX,L.scrollFactorY),H.setDepth(L.depth)},tt.add(H),I.hitAreaDebug=H),this},removeDebug:function(L){var O=L.input;if(O&&O.hitAreaDebug){var I=O.hitAreaDebug;I.destroy(),O.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,O){if(L.length<2||!O.camera)return L;var I=O.camera.renderList;return L.sort(function(B,U){var H=Math.max(I.indexOf(B),0),J=Math.max(I.indexOf(U),0);return J-H})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,O){if(!L.parentContainer&&!O.parentContainer)return this.displayList.getIndex(O)-this.displayList.getIndex(L);if(L.parentContainer===O.parentContainer)return O.parentContainer.getIndex(O)-L.parentContainer.getIndex(L);if(L.parentContainer===O)return-1;if(O.parentContainer===L)return 1;for(var I=L.getIndexList(),B=O.getIndexList(),U=Math.min(I.length,B.length),H=0;H<U;H++){var J=I[H],tt=B[H];if(J!==tt)return tt-J}return B.length-I.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var O=this.manager;O.canvas.style.cursor=O.defaultCursor;var I=this.systems.events;I.off(A.TRANSITION_START,this.transitionIn,this),I.off(A.TRANSITION_OUT,this.transitionOut,this),I.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),I.off(A.PRE_UPDATE,this.preUpdate,this),O.events.off(h.GAME_OUT,this.onGameOut,this),O.events.off(h.GAME_OVER,this.onGameOver,this),I.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,O=0;O<L.length;O++)L[O].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});S.register("InputPlugin",F,"input"),c.exports=F},89639:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p={},s={};s.register=function(i,n,e,r,l){p[i]={plugin:n,mapping:e,settingsKey:r,configKey:l}},s.getPlugin=function(i){return p[i]},s.install=function(i){var n=i.scene.sys,e=n.settings.input,r=n.game.config;for(var l in p){var a=p[l].plugin,h=p[l].mapping,f=p[l].settingsKey,u=p[l].configKey;o(e,f,r[u])&&(i[h]=new a(i))}},s.remove=function(i){p.hasOwnProperty(i)&&delete p[i]},c.exports=s},42515:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31040),p=t(83419),s=t(20339),i=t(43855),n=t(47235),e=t(26099),r=t(25892),l=new p({initialize:function(h,f){this.manager=h,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var h=a.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(a,h){return a.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var a=this.position.x,h=this.position.y,f=this.midPoint.x,u=this.midPoint.y;if(!(a===f&&h===u)){var d=n(this.motionFactor,f,a),m=n(this.motionFactor,u,h);i(d,a,.1)&&(d=a),i(m,h,.1)&&(m=h),this.midPoint.set(d,m);var x=a-d,S=h-m;this.velocity.set(x,S),this.angle=o(d,m,a,h),this.distance=Math.sqrt(x*x+S*S)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,h){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,h){this.event=h,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,h){this.buttons=0,this.event=h,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,h){this.buttons=0,this.event=h,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,h){a===void 0&&(a=10),h===void 0&&(h=[]);for(var f=this.prevPosition.x,u=this.prevPosition.y,d=this.position.x,m=this.position.y,x=0;x<a;x++){var S=1/a*x;h[x]={x:n(S,f,d),y:n(S,u,m)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=l},93301:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=y},7179:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},85375:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},39843:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},23388:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},16133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},27829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},53904:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},56058:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},2642:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},88171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},36147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},71692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},96149:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},81285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},74048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},21322:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},49378:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},86754:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},86433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},60709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},24081:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},11172:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},18907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},95579:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},35368:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},26972:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},47078:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},73802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},56718:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},25936:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},27503:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},50852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},96438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},59152:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},47777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},27957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},19444:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},54251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},18667:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},27192:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},24652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},45132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},44512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},15757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},41637:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},93802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},8214:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n){this.pad=i,this.events=i.events,this.index=n,this.value=0,this.threshold=.1},update:function(s){this.value=s},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=p},28884:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92734),s=new o({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(i){this.value=i;var n=this.pad,e=this.index;i>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,n,this,i),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,e,i,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,n,this,i),this.pad.emit(p.GAMEPAD_BUTTON_UP,e,i,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=s},99125:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97421),p=t(28884),s=t(83419),i=t(50792),n=t(26099),e=new s({Extends:i,initialize:function(l,a){i.call(this),this.manager=l,this.pad=a,this.id=a.id,this.index=a.index;for(var h=[],f=0;f<a.buttons.length;f++)h.push(new p(this,f));this.buttons=h;var u=[];for(f=0;f<a.axes.length;f++)u.push(new o(this,f));this.axes=u,this.vibration=a.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:d,this._LCRight=h[15]?h[15]:d,this._LCTop=h[12]?h[12]:d,this._LCBottom=h[13]?h[13]:d,this._RCLeft=h[2]?h[2]:d,this._RCRight=h[1]?h[1]:d,this._RCTop=h[3]?h[3]:d,this._RCBottom=h[0]?h[0]:d,this._FBLeftTop=h[4]?h[4]:d,this._FBLeftBottom=h[6]?h[6]:d,this._FBRightTop=h[5]?h[5]:d,this._FBRightBottom=h[7]?h[7]:d;var m={value:0};this._HAxisLeft=u[0]?u[0]:m,this._VAxisLeft=u[1]?u[1]:m,this._HAxisRight=u[2]?u[2]:m,this._VAxisRight=u[3]?u[3]:m,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var l,a=this.buttons,h=r.buttons,f=a.length;for(l=0;l<f;l++)a[l].update(h[l].value);var u=this.axes,d=r.axes;for(f=u.length,l=0;l<f;l++)u[l].update(d[l]);f>=2&&(this.leftStick.set(u[0].getValue(),u[1].getValue()),f>=4&&this.rightStick.set(u[2].getValue(),u[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=e},56654:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),s=t(92734),i=t(99125),n=t(35154),e=t(89639),r=t(8214),l=new o({Extends:p,initialize:function(h){p.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(r.BOOT,this.boot,this),h.pluginEvents.on(r.START,this.start,this)},boot:function(){var a=this.scene.sys.game,h=this.settings.input,f=a.config;this.enabled=n(h,"gamepad",f.inputGamepad)&&a.device.input.gamepads,this.target=n(h,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,h=this.target,f=function(u){u.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(u))};this.onGamepadHandler=f,h.addEventListener("gamepadconnected",f,!1),h.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(!a)this.disconnectAll();else for(var h=this.gamepads,f=0;f<a.length;f++){var u=a[f];if(u){var d=u.id,m=u.index,x=h[m];if(x)x.id!==d?(x.destroy(),h[m]=new i(this,u)):x.update(u);else{var S=new i(this,u);h[m]=S,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=S):this._pad3=S:this._pad2=S:this._pad1=S}}}},getAll:function(){for(var a=[],h=this.gamepads,f=0;f<h.length;f++)h[f]&&a.push(h[f]);return a},getPad:function(a){for(var h=this.gamepads,f=0;f<h.length;f++)if(h[f]&&h[f].index===a)return h[f]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(a!==0)for(var h=this.queue.splice(0,a),f=0;f<a;f++){var u=h[f],d=this.getPad(u.gamepad.index);u.type==="gamepadconnected"?this.emit(s.CONNECTED,d,u):u.type==="gamepaddisconnected"&&this.emit(s.DISCONNECTED,d,u)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),c.exports=l},89651:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},7629:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},42206:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},86544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},94784:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},14325:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},92734:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93301),p=t(79291),s={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};s=p(!1,s,o),c.exports=s},78970:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),p=t(83419),s=t(8443),i=t(8214),n=t(46032),e=t(29747),r=new p({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,a.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(i.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!f&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(i.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!f&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var a=this.captures,h=0;h<l.length;h++){var f=l[h];typeof f=="string"&&(f=n[f.trim().toUpperCase()]),a.indexOf(f)===-1&&a.push(f)}this.preventDefault=a.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var a=this.captures,h=0;h<l.length;h++){var f=l[h];typeof f=="string"&&(f=n[f.toUpperCase()]),o(a,f)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},28846:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),s=t(95922),i=t(8443),n=t(35154),e=t(8214),r=t(89639),l=t(30472),a=t(46032),h=t(87960),f=t(74600),u=t(44594),d=t(56583),m=new o({Extends:p,initialize:function(S){p.call(this),this.game=S.systems.game,this.scene=S.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=S,this.manager=S.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,S.pluginEvents.once(e.BOOT,this.boot,this),S.pluginEvents.on(e.START,this.start,this)},boot:function(){var x=this.settings.input;this.enabled=n(x,"keyboard",!0);var S=n(x,"keyboard.capture",null);S&&this.addCaptures(S),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(i.BLUR,this.resetKeys,this),this.scene.sys.events.on(u.PAUSE,this.resetKeys,this),this.scene.sys.events.on(u.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(x){return this.manager.addCapture(x),this},removeCapture:function(x){return this.manager.removeCapture(x),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(x,S,T){S===void 0&&(S=!0),T===void 0&&(T=!1);var C={};if(typeof x=="string"){x=x.split(",");for(var A=0;A<x.length;A++){var b=x[A].trim();b&&(C[b]=this.addKey(b,S,T))}}else for(var R in x)C[R]=this.addKey(x[R],S,T);return C},addKey:function(x,S,T){S===void 0&&(S=!0),T===void 0&&(T=!1);var C=this.keys;if(x instanceof l){var A=C.indexOf(x);return A>-1?C[A]=x:C[x.keyCode]=x,S&&this.addCapture(x.keyCode),x.setEmitOnRepeat(T),x}return typeof x=="string"&&(x=a[x.toUpperCase()]),C[x]||(C[x]=new l(this,x),S&&this.addCapture(x),C[x].setEmitOnRepeat(T)),C[x]},removeKey:function(x,S,T){S===void 0&&(S=!1),T===void 0&&(T=!1);var C=this.keys,A;if(x instanceof l){var b=C.indexOf(x);b>-1&&(A=this.keys[b],this.keys[b]=void 0)}else typeof x=="string"&&(x=a[x.toUpperCase()]);return C[x]&&(A=C[x],C[x]=void 0),A&&(A.plugin=null,T&&this.removeCapture(A.keyCode),S&&A.destroy()),this},removeAllKeys:function(x,S){x===void 0&&(x=!1),S===void 0&&(S=!1);for(var T=this.keys,C=0;C<T.length;C++){var A=T[C];A&&(T[C]=void 0,S&&this.removeCapture(A.keyCode),x&&A.destroy())}return this},createCombo:function(x,S){return new h(this,x,S)},checkDown:function(x,S){if(S===void 0&&(S=0),this.enabled&&x.isDown){var T=d(this.time-x.timeDown,S);if(T>x._tick)return x._tick=T,!0}return!1},update:function(){var x=this.manager.queue,S=x.length;if(!(!this.isActive()||S===0))for(var T=this.keys,C=0;C<S;C++){var A=x[C],b=A.keyCode,R=T[b],F=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(b===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=b,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(R&&(F=R.isDown,R.onDown(A)),!A.cancelled&&(!R||!F)&&(f[b]&&this.emit(s.KEY_DOWN+f[b],A),A.cancelled||this.emit(s.ANY_KEY_DOWN,A))):(R&&R.onUp(A),A.cancelled||(f[b]&&this.emit(s.KEY_UP+f[b],A),A.cancelled||this.emit(s.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var x=this.keys,S=0;S<x.length;S++)x[S]&&x[S].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(i.BLUR,this.resetKeys),this.scene.sys.events.off(u.PAUSE,this.resetKeys,this),this.scene.sys.events.off(u.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var x=this.keys,S=0;S<x.length;S++)x[S]&&x[S].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),c.exports=m},66970:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.timeLastMatched=t.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};c.exports=y},87960:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95922),s=t(95540),i=t(68769),n=t(92803),e=new o({initialize:function(l,a,h){if(h===void 0&&(h={}),a.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<a.length;f++){var u=a[f];typeof u=="string"?this.keyCodes.push(u.toUpperCase().charCodeAt(0)):typeof u=="number"?this.keyCodes.push(u):u.hasOwnProperty("keyCode")&&this.keyCodes.push(u.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(h,"resetOnWrongKey",!0),this.maxKeyDelay=s(h,"maxKeyDelay",0),this.resetOnMatch=s(h,"resetOnMatch",!1),this.deleteOnMatch=s(h,"deleteOnMatch",!1);var d=this,m=function(x){if(!(d.matched||!d.enabled)){var S=i(x,d);S&&(d.manager.emit(p.COMBO_MATCH,d,x),d.resetOnMatch?n(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=m,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=e},68769:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66970),p=function(s,i){if(i.matched)return!0;var n=!1,e=!1;if(s.keyCode===i.current)if(i.index>0&&i.maxKeyDelay>0){var r=i.timeLastMatched+i.maxKeyDelay;s.timeStamp<=r&&(e=!0,n=o(s,i))}else e=!0,n=o(s,i);return!e&&i.resetOnWrongKey&&(i.index=0,i.current=i.keyCodes[0]),n&&(i.timeLastMatched=s.timeStamp,i.matched=!0,i.timeMatched=s.timeStamp),n};c.exports=p},92803:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};c.exports=y},92612:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},23345:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},21957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},44743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},3771:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},46358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},75674:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},95922:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=50);var p=t.plugin.game.loop.time-t.timeDown;return t.isDown&&p<o};c.exports=y},90229:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justDown?(t._justDown=!1,!0):!1};c.exports=y},38796:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justUp?(t._justUp=!1,!0):!1};c.exports=y},30472:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),s=t(95922),i=new o({Extends:p,initialize:function(e,r){p.call(this),this.plugin=e,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=i},46032:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=y},74600:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(46032),p={};for(var s in o)p[o[s]]=s;c.exports=p},41170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=50);var p=t.plugin.game.loop.time-t.timeUp;return t.isUp&&p<o};c.exports=y},85098:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89357),s=t(8214),i=t(29747),n=new o({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=i,this.onMouseDown=i,this.onMouseUp=i,this.onMouseDownWindow=i,this.onMouseUpWindow=i,this.onMouseOver=i,this.onMouseOut=i,this.onMouseWheel=i,this.pointerLockChange=i,this.isTop=!0,r.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var r=this,l=this.manager,a=l.canvas,h=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseMove(u),r.preventDefaultMove&&u.preventDefault())},this.onMouseDown=function(u){h&&window.focus(),!u.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseDown(u),r.preventDefaultDown&&u.target===a&&u.preventDefault())},this.onMouseDownWindow=function(u){u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents||!u.defaultPrevented&&r.enabled&&l&&l.enabled&&u.target!==a&&l.onMouseDown(u)},this.onMouseUp=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseUp(u),r.preventDefaultUp&&u.target===a&&u.preventDefault())},this.onMouseUpWindow=function(u){u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents||!u.defaultPrevented&&r.enabled&&l&&l.enabled&&u.target!==a&&l.onMouseUp(u)},this.onMouseOver=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&l.setCanvasOver(u)},this.onMouseOut=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&l.setCanvasOut(u)},this.onMouseWheel=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&l.onMouseWheel(u),r.preventDefaultWheel&&u.target===a&&u.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(u){var d=r.target;r.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,l.onPointerLockChange(u)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=n},87078:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(85098)}},36210:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(8214),s=t(29747),i=new o({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.isTop=!0,e.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(n){var e=this,r=this.manager,l=r.canvas,a=window&&window.focus&&r.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){a&&window.focus(),!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchStart(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&d.target!==l&&r.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchEnd(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&d.target!==l&&r.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&r.onTouchCancel(d)};var h=this.capture,f={passive:!0},u={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,h?u:f),n.addEventListener("touchmove",this.onTouchMove,h?u:f),n.addEventListener("touchend",this.onTouchEnd,h?u:f),n.addEventListener("touchcancel",this.onTouchCancel,h?u:f),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,u),window.top.addEventListener("touchend",this.onTouchEndWindow,u),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,u)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,u),window.addEventListener("touchend",this.onTouchEndWindow,u),window.addEventListener("touchcancel",this.onTouchCancelWindow,u),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=i},95618:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(36210)}},41299:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(54899),i=t(95540),n=t(98356),e=t(3374),r=t(84376),l=t(92638),a=new o({initialize:function(f,u){if(this.loader=f,this.cache=i(u,"cache",!1),this.type=i(u,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=i(u,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var m=i(u,"url");m===void 0?m=f.path+d+"."+i(u,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=f.path+m),this.url=m,this.src="",this.xhrSettings=l(i(u,"responseType",void 0)),i(u,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,i(u,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=i(u,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===p.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=p.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(h,f){var u=h.responseURL&&this.loader.localSchemes.some(function(x){return h.responseURL.indexOf(x)===0}),d=u&&f.target.status===0,m=!(f.target&&f.target.status!==200)||d;h.readyState===4&&h.status>=400&&h.status<=599&&(m=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(h){this.xhrLoader=h,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==p.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var f=this.key,u=this.type;this.loader.emit(s.FILE_COMPLETE,f,u,h),this.loader.emit(s.FILE_KEY_COMPLETE+u+"-"+f,f,u,h),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(h,f,u){if(typeof URL=="function")h.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(f.type||u)+";base64,"+d.result.split(",")[1]},d.onerror=h.onerror,d.readAsDataURL(f)}},a.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},c.exports=a},74099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={install:function(o){for(var p in y)o[p]=y[p]},register:function(o,p){y[o]=p},destroy:function(){y={}}};c.exports=t},98356:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:o+t.url:!1};c.exports=y},74261:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(35072),i=t(50792),n=t(54899),e=t(74099),r=t(95540),l=t(35154),a=t(37277),h=t(44594),f=t(92638),u=new o({Extends:i,initialize:function(m){i.call(this);var x=m.sys.game.config,S=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(S,"baseURL",x.loaderBaseURL)),this.setPath(r(S,"path",x.loaderPath)),this.setPrefix(r(S,"prefix",x.loaderPrefix)),this.maxParallelDownloads=r(S,"maxParallelDownloads",x.loaderMaxParallelDownloads),this.xhr=f(r(S,"responseType",x.loaderResponseType),r(S,"async",x.loaderAsync),r(S,"user",x.loaderUser),r(S,"password",x.loaderPassword),r(S,"timeout",x.loaderTimeout),r(S,"withCredentials",x.loaderWithCredentials)),this.crossOrigin=r(S,"crossOrigin",x.loaderCrossOrigin),this.imageLoadType=r(S,"imageLoadType",x.loaderImageLoadType),this.localSchemes=r(S,"localScheme",x.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,m.sys.events.once(h.BOOT,this.boot,this),m.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++){var x=d[m];this.keyExists(x)||(this.list.set(x),this.emit(n.ADD,x.key,x.type,this,x),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var m=d.hasCacheConflict();return m||this.list.iterate(function(x){if(x.type===d.type&&x.key===d.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(x){if(x.type===d.type&&x.key===d.key)return m=!0,!1}),this.queue.iterate(function(x){if(x.type===d.type&&x.key===d.key)return m=!0,!1})),m},addPack:function(d,m){if(typeof m=="string"){var x=l(d,m);x&&(d={packKey:x})}var S=0,T=this.baseURL,C=this.path,A=this.prefix;for(var b in d)if(Object.prototype.hasOwnProperty.call(d,b)){var R=d[b],F=r(R,"baseURL",T),L=r(R,"path",C),O=r(R,"prefix",A),I=r(R,"files",null),B=r(R,"defaultType","void");if(Array.isArray(I)){this.setBaseURL(F),this.setPath(L),this.setPrefix(O);for(var U=0;U<I.length;U++){var H=I[U],J=H.hasOwnProperty("type")?H.type:B;this[J]&&(this[J](H),S++)}}}return this.setBaseURL(T),this.setPath(C),this.setPrefix(A),S>0},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(h.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===p.FILE_POPULATED||d.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,m){this.inflight&&(this.inflight.delete(d),this.updateProgress(),m?(this.totalComplete++,this.queue.set(d),this.emit(n.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(n.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===p.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===p.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(h.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,m){return this.save(JSON.stringify(d),m)},save:function(d,m,x){m===void 0&&(m="file.json"),x===void 0&&(x="application/json");var S=new Blob([d],{type:x}),T=URL.createObjectURL(S),C=document.createElement("a");return C.download=m,C.textContent="Download "+m,C.href=T,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(r(m,"baseURL",d.loaderBaseURL)),this.setPath(r(m,"path",d.loaderPath)),this.setPrefix(r(m,"prefix",d.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});a.register("Loader",u,"load"),c.exports=u},3374:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(92638),s=function(i,n){var e=i===void 0?p():o({},i);if(n)for(var r in n)n[r]!==void 0&&(e[r]=n[r]);return e};c.exports=s},26430:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(54899),i=new o({initialize:function(e,r,l,a){var h=[];a.forEach(function(d){d&&h.push(d)}),this.loader=e,this.type=r,this.key=l;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=p.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var u=0;u<h.length;u++)h[u].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(s.FILE_COMPLETE,n,e),this.loader.emit(s.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=i},84376:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3374),p=function(s,i){var n=o(i,s.xhrSettings);if(s.base64){var e=s.url.split(";base64,").pop()||s.url.split(",").pop(),r={responseText:atob(e)};s.onBase64Load(r);return}var l=new XMLHttpRequest;if(l.open("GET",s.src,n.async,n.user,n.password),l.responseType=s.xhrSettings.responseType,l.timeout=n.timeout,n.headers)for(var a in n.headers)l.setRequestHeader(a,n.headers[a]);return n.header&&n.headerValue&&l.setRequestHeader(n.header,n.headerValue),n.requestedWith&&l.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&l.overrideMimeType(n.overrideMimeType),n.withCredentials&&(l.withCredentials=!0),l.onload=s.onLoad.bind(s,l),l.onerror=s.onError.bind(s,l),l.onprogress=s.onProgress.bind(s),l.ontimeout=s.onError.bind(s,l),l.send(),l};c.exports=p},92638:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i,n){return t===void 0&&(t=""),o===void 0&&(o=!0),p===void 0&&(p=""),s===void 0&&(s=""),i===void 0&&(i=0),n===void 0&&(n=!1),{responseType:t,async:o,user:p,password:s,timeout:i,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};c.exports=y},23906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=y},42155:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},38991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},27540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},87464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},94486:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},13035:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},38144:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},97520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},85595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},55680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},54899:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(518),i=t(54899),n=new o({Extends:s,initialize:function(r,l,a,h,f){s.call(this,r,l,a,h,f),this.type="animationJSON"},onProcess:function(){this.loader.once(i.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(e,r,l,a){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,r,a,l));return this}),c.exports=n},76272:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(h,f,u,d,m,x){var S,T;if(n(f)){var C=f;f=s(C,"key"),S=new i(h,{key:f,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),T=new e(h,{key:f,url:s(C,"atlasURL"),extension:s(C,"atlasExtension","json"),xhrSettings:s(C,"atlasXhrSettings")})}else S=new i(h,f,u,m),T=new e(h,f,d,x);S.linkFile?r.call(this,h,"atlasjson",f,[S,T,S.linkFile]):r.call(this,h,"atlasjson",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,h.data,f),h.addToCache(),this.complete=!0}}});p.register("aseprite",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},38734:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(h,f,u,d,m,x){var S,T;if(n(f)){var C=f;f=s(C,"key"),S=new i(h,{key:f,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),T=new e(h,{key:f,url:s(C,"atlasURL"),extension:s(C,"atlasExtension","json"),xhrSettings:s(C,"atlasXhrSettings")})}else S=new i(h,f,u,m),T=new e(h,f,d,x);S.linkFile?r.call(this,h,"atlasjson",f,[S,T,S.linkFile]):r.call(this,h,"atlasjson",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,h.data,f),this.complete=!0}}});p.register("atlas",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},74599:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(26430),r=t(57318),l=new o({Extends:e,initialize:function(h,f,u,d,m,x){var S,T;if(n(f)){var C=f;f=s(C,"key"),S=new i(h,{key:f,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),T=new r(h,{key:f,url:s(C,"atlasURL"),extension:s(C,"atlasExtension","xml"),xhrSettings:s(C,"atlasXhrSettings")})}else S=new i(h,f,u,m),T=new r(h,f,d,x);S.linkFile?e.call(this,h,"atlasxml",f,[S,T,S.linkFile]):e.call(this,h,"atlasxml",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(a.key,a.data,h.data,f),this.complete=!0}}});p.register("atlasXML",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},21097:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(89749),r=t(41212),l=new o({Extends:s,initialize:function(h,f,u,d,m){if(r(f)){var x=f;f=n(x,"key"),d=n(x,"xhrSettings"),m=n(x,"context",m)}var S={type:"audio",cache:h.cacheManager.audio,extension:u.type,responseType:"arraybuffer",key:f,url:u.url,xhrSettings:d,config:{context:m}};s.call(this,h,S)},onProcess:function(){this.state=p.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){a.data=h,a.onProcessComplete()},function(h){console.error("Error decoding audio: "+a.key+" - ",h?h.message:null),a.onProcessError()}),this.config.context=null}});l.create=function(a,h,f,u,d){var m=a.systems.game,x=m.config.audio,S=m.device.audio;r(h)&&(f=n(h,"url",[]),u=n(h,"config",{}));var T=l.getAudioURL(m,f);return T?S.webAudio&&!x.disableWebAudio?new l(a,h,T,d,m.sound.context):new e(a,h,T,u):(console.warn('No audio URLs for "%s" matched this device',h),null)},l.getAudioURL=function(a,h){Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++){var u=n(h[f],"url",h[f]);if(u.indexOf("blob:")===0||u.indexOf("data:")===0)return{url:u,type:""};var d=u.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=n(h[f],"type",d?d[1]:"").toLowerCase(),a.device.audio[d])return{url:u,type:d}}return null},i.register("audio",function(a,h,f,u){var d=this.systems.game,m=d.config.audio,x=d.device.audio;if(m.noAudio||!x.webAudio&&!x.audioData)return this;var S;if(Array.isArray(a))for(var T=0;T<a.length;T++)S=l.create(this,a[T]),S&&this.addFile(S);else S=l.create(this,a,h,f,u),S&&this.addFile(S);return this}),c.exports=l},89524:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21097),p=t(83419),s=t(74099),i=t(95540),n=t(41212),e=t(518),r=t(26430),l=new p({Extends:r,initialize:function(h,f,u,d,m,x,S){if(n(f)){var T=f;f=i(T,"key"),u=i(T,"jsonURL"),d=i(T,"audioURL"),m=i(T,"audioConfig"),x=i(T,"audioXhrSettings"),S=i(T,"jsonXhrSettings")}var C;if(!d)C=new e(h,f,u,S),r.call(this,h,"audiosprite",f,[C]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=x;else{var A=o.create(h,f,d,m,x);A&&(C=new e(h,f,u,S),r.call(this,h,"audiosprite",f,[A,C]),this.config.resourceLoad=!1)}},onFileComplete:function(a){var h=this.files.indexOf(a);if(h!==-1&&(this.pending--,this.config.resourceLoad&&a.type==="json"&&a.data.hasOwnProperty("resources"))){var f=a.data.resources,u=i(this.config,"audioConfig"),d=i(this.config,"audioXhrSettings"),m=o.create(this.loader,a.key,f,u,d);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1];a.addToCache(),h.addToCache(),this.complete=!0}}});s.register("audioSprite",function(a,h,f,u,d,m){var x=this.systems.game,S=x.config.audio,T=x.device.audio;if(S&&S.noAudio||!T.webAudio&&!T.audioData)return this;var C;if(Array.isArray(a))for(var A=0;A<a.length;A++)C=new l(this,a[A]),C.files&&this.addFile(C.files);else C=new l(this,a,h,f,u,d,m),C.files&&this.addFile(C.files);return this})},85722:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d){var m="bin";if(e(h)){var x=h;h=n(x,"key"),f=n(x,"url"),u=n(x,"xhrSettings"),m=n(x,"extension",m),d=n(x,"dataType",d)}var S={type:"binary",cache:a.cacheManager.binary,extension:m,responseType:"arraybuffer",key:h,url:f,xhrSettings:u,config:{dataType:d}};s.call(this,a,S)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});i.register("binary",function(l,a,h,f){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,a,f,h));return this}),c.exports=r},97025:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(26430),r=t(21859),l=t(57318),a=new o({Extends:e,initialize:function(f,u,d,m,x,S){var T,C;if(n(u)){var A=u;u=s(A,"key"),T=new i(f,{key:u,url:s(A,"textureURL"),extension:s(A,"textureExtension","png"),normalMap:s(A,"normalMap"),xhrSettings:s(A,"textureXhrSettings")}),C=new l(f,{key:u,url:s(A,"fontDataURL"),extension:s(A,"fontDataExtension","xml"),xhrSettings:s(A,"fontDataXhrSettings")})}else T=new i(f,u,d,x),C=new l(f,u,m,S);T.linkFile?e.call(this,f,"bitmapfont",u,[T,C,T.linkFile]):e.call(this,f,"bitmapfont",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1];h.addToCache();var u=h.cache.get(h.key),d=r(f.data,h.cache.getFrame(h.key),0,0,u);this.loader.cacheManager.bitmapFont.add(h.key,{data:d,texture:h.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(h,f,u,d,m){var x;if(Array.isArray(h))for(var S=0;S<h.length;S++)x=new a(this,h[S]),this.addFile(x.files);else x=new a(this,h,f,u,d,m),this.addFile(x.files);return this}),c.exports=a},16024:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){var d="css";if(e(h)){var m=h;h=n(m,"key"),f=n(m,"url"),u=n(m,"xhrSettings"),d=n(m,"extension",d)}var x={type:"script",cache:!1,extension:d,responseType:"text",key:h,url:f,xhrSettings:u};s.call(this,a,x)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("css",function(l,a,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,a,h));return this}),c.exports=r},69559:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38734),p=t(85722),s=t(83419),i=t(74099),n=t(95540),e=t(19550),r=t(41212),l=t(518),a=t(31403),h=t(46975),f=t(59327),u=t(26430),d=t(82038),m=t(55222),x=new s({Extends:u,initialize:function(T,C,A,b){if(A.multiAtlasURL){var R=new l(T,{key:C,url:A.multiAtlasURL,xhrSettings:b,config:A});u.call(this,T,"texture",C,[R])}else{var F=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var L=new p(T,{key:C,url:A.textureURL,extension:F,xhrSettings:b,config:A});if(A.atlasURL){var O=new l(T,{key:C,url:A.atlasURL,xhrSettings:b,config:A});u.call(this,T,"texture",C,[L,O])}else u.call(this,T,"texture",C,[L])}this.config=A},onFileComplete:function(S){var T=this.files.indexOf(S);if(T!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(S.type==="json"&&S.data.hasOwnProperty("textures")){var C=S.data.textures,A=this.config,b=this.loader,R=b.baseURL,F=b.path,L=b.prefix,O=n(A,"multiBaseURL",this.baseURL),I=n(A,"multiPath",this.path),B=n(A,"prefix",this.prefix),U=n(A,"textureXhrSettings");O&&b.setBaseURL(O),I&&b.setPath(I),B&&b.setPrefix(B);for(var H=0;H<C.length;H++){var J=C[H].image,tt="CMA"+this.multiKeyIndex+"_"+J,X=new p(b,tt,J,U);if(this.addToMultiFile(X),b.addFile(X),C[H].normalMap){var j=new p(b,tt,C[H].normalMap,U);j.type="normalMap",X.setLink(j),this.addToMultiFile(j),b.addFile(j)}}b.setBaseURL(R),b.setPath(F),b.setPrefix(L)}}},addToCache:function(){function S(O){console.warn('Compressed Texture Invalid: "'+R.key+'". '+O)}if(this.isReadyToProcess()){var T=this.config;if(T.multiAtlasURL)this.addMultiToCache();else{var C=this.loader.systems.renderer,A=this.loader.textureManager,b,R=this.files[0],F=this.files[1];if(T.type==="PVR"?b=d(R.data):T.type==="KTX"&&(b=a(R.data),b||S("KTX file contains unsupported format.")),b&&!m(b)&&(S("Texture dimensions failed verification. Check the texture format specifications for "+T.format+" 0x"+b.internalFormat.toString(16)+"."),b=null),b&&!C.supportsCompressedTexture(T.format,b.internalFormat)&&(S("Texture format "+T.format+" with internal format "+b.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),b=null),b){b.format=C.getCompressedTextureName(T.format,b.internalFormat);var L=F&&F.data?F.data:null;A.addCompressedTexture(R.key,b,L)}}this.complete=!0}},addMultiToCache:function(){for(var S=this.config,T=this.files[0],C=[],A=[],b=[],R=this.loader.systems.renderer,F=this.loader.textureManager,L,O=1;O<this.files.length;O++){var I=this.files[O];if(I.type!=="normalMap")for(var B=I.key.indexOf("_"),U=I.key.substr(B+1),H=I.data,J=0;J<T.data.textures.length;J++){var tt=T.data.textures[J];if(tt.image===U){S.type==="PVR"?L=d(H):S.type==="KTX"&&(L=a(H)),L&&R.supportsCompressedTexture(S.format,L.internalFormat)&&(L.format=R.getCompressedTextureName(S.format,L.internalFormat),A.push(L),C.push(tt),I.linkFile&&b.push(I.linkFile.data));break}}}b.length===0&&(b=void 0),F.addAtlasJSONArray(this.key,A,C,b),this.complete=!0}});i.register("texture",function(S,T,C){var A=this.systems.renderer,b=function(F,L,O,I){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(r(L)){var U=L;L=n(U,"key"),O=n(U,"url"),I=n(U,"xhrSettings")}var H=!1;for(var J in O)if(A.supportsCompressedTexture(J)){var tt=O[J];typeof tt=="string"?B.textureURL=tt:B=h(tt,B),B.format=J.toUpperCase(),H=!0;break}if(!H)console.warn("No supported compressed texture format or IMG fallback",L);else if(B.format==="IMG"){var X,j;B.multiAtlasURL?(j=new f(F,L,B.multiAtlasURL,B.multiPath,B.multiBaseURL,I),X=j.files):B.atlasURL?(j=new o(F,L,B.textureURL,B.atlasURL,I),X=j.files):X=new e(F,L,B.textureURL,I),F.addFile(X)}else{var D=new x(F,L,B,I);F.addFile(D.files)}};if(Array.isArray(S))for(var R=0;R<S.length;R++)b(this,S[R]);else b(this,S,T,C);return this}),c.exports=x},47931:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=t(73894),l=new o({Extends:s,initialize:function(h,f,u,d,m){var x="glsl";if(e(f)){var S=f;f=n(S,"key"),u=n(S,"url"),d=n(S,"shaderType","fragment"),m=n(S,"xhrSettings"),x=n(S,"extension",x)}else d===void 0&&(d="fragment");var T={type:"glsl",cache:h.cacheManager.shader,extension:x,responseType:"text",key:f,url:u,config:{shaderType:d},xhrSettings:m};s.call(this,h,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split(`
`),h=this.extractBlock(a,0);if(h)for(;h;){var f=this.getShaderName(h.header),u=this.getShaderType(h.header),d=this.getShaderUniforms(h.header),m=h.shader;if(this.cache.has(f)){var x=this.cache.get(f);u==="fragment"?x.fragmentSrc=m:x.vertexSrc=m,x.uniforms||(x.uniforms=d)}else u==="fragment"?this.cache.add(f,new r(f,m,"",d)):this.cache.add(f,new r(f,"",m,d));h=this.extractBlock(a,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data))},getShaderName:function(a){for(var h=0;h<a.length;h++){var f=a[h].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(a){for(var h=0;h<a.length;h++){var f=a[h].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var h={},f=0;f<a.length;f++){var u=a[f].trim();if(u.substring(0,8)==="uniform."){var d=u.indexOf(":");if(d){var m=u.substring(8,d);try{h[m]=JSON.parse(u.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return h},extractBlock:function(a,h){for(var f=-1,u=-1,d=-1,m=!1,x=!1,S=[],T=[],C=h;C<a.length;C++){var A=a[C].trim();if(A==="---")if(f===-1)f=C,m=!0;else if(m)u=C,m=!1,x=!0;else{x=!1;break}else m?S.push(A):x&&(T.push(A),d=C)}return!m&&u!==-1?{header:S,shader:T.join(`
`),offset:d}:null}});i.register("glsl",function(a,h,f,u){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new l(this,a[d]));else this.addFile(new l(this,a,h,f,u));return this}),c.exports=l},89749:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(54899),s=t(41299),i=t(95540),n=t(98356),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){if(e(h)){var d=h;h=i(d,"key"),u=i(d,"config",u)}var m={type:"audio",cache:a.cacheManager.audio,extension:f.type,key:h,url:f.url,config:u};s.call(this,a,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var a=this.data[l];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var a=l.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<l;a++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+a).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(a=0;a<this.data.length;a++)h=this.data[a],h.src=n(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=r},88470:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){var d="html";if(e(h)){var m=h;h=n(m,"key"),f=n(m,"url"),u=n(m,"xhrSettings"),d=n(m,"extension",d)}var x={type:"text",cache:a.cacheManager.html,extension:d,responseType:"text",key:h,url:f,xhrSettings:u};s.call(this,a,x)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});i.register("html",function(l,a,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,a,h));return this}),c.exports=r},14643:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d,m){u===void 0&&(u=512),d===void 0&&(d=512);var x="html";if(e(h)){var S=h;h=n(S,"key"),f=n(S,"url"),m=n(S,"xhrSettings"),x=n(S,"extension",x),u=n(S,"width",u),d=n(S,"height",d)}var T={type:"html",cache:a.textureManager,extension:x,responseType:"text",key:h,url:f,xhrSettings:m,config:{width:u,height:d}};s.call(this,a,T)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.width,a=this.config.height,h=[];h.push('<svg width="'+l+'px" height="'+a+'px" viewBox="0 0 '+l+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var f=[h.join(`
`)],u=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{u.state=p.FILE_ERRORED,u.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(u.data),u.onProcessError()},s.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});i.register("htmlTexture",function(l,a,h,f,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,a,h,f,u));return this}),c.exports=r},19550:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=t(98356),l=new o({Extends:s,initialize:function a(h,f,u,d,m){var x="png",S;if(e(f)){var T=f;f=n(T,"key"),u=n(T,"url"),S=n(T,"normalMap"),d=n(T,"xhrSettings"),x=n(T,"extension",x),m=n(T,"frameConfig")}Array.isArray(u)&&(S=u[1],u=u[0]);var C={type:"image",cache:h.textureManager,extension:x,responseType:"blob",key:f,url:u,xhrSettings:d,config:m};if(s.call(this,h,C),S){var A=new a(h,this.key,S,d,m);A.type="normalMap",this.setLink(A),h.addFile(A)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){s.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(a.data),a.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var a=this.state;this.state=p.FILE_PROCESSING,a===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){a.state=p.FILE_LOADED,a.loader.nextFile(a,!0)},this.data.onerror=function(){a.loader.nextFile(a,!1)},this.data.src=this.src},addToCache:function(){var a=this.linkFile;a?a.state>=p.FILE_COMPLETE&&(a.type==="spritesheet"?a.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,a.data,this.data):this.cache.addImage(this.key,this.data,a.data)):this.cache.addImage(this.key,this.data)}});i.register("image",function(a,h,f){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,h,f));return this}),c.exports=l},518:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(35154),r=t(41212),l=new o({Extends:s,initialize:function(h,f,u,d,m){var x="json";if(r(f)){var S=f;f=n(S,"key"),u=n(S,"url"),d=n(S,"xhrSettings"),x=n(S,"extension",x),m=n(S,"dataKey",m)}var T={type:"json",cache:h.cacheManager.json,extension:x,responseType:"text",key:f,url:u,xhrSettings:d,config:m};s.call(this,h,T),r(u)&&(m?this.data=e(u,m):this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var h=this.config;typeof h=="string"?this.data=e(a,h,a):this.data=a}this.onProcessComplete()}});i.register("json",function(a,h,f,u){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new l(this,a[d]));else this.addFile(new l(this,a,h,u,f));return this}),c.exports=l},59327:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(h,f,u,d,m,x,S){if(n(f)){var T=f;f=s(T,"key"),s(T,"url",!1)?u=s(T,"url"):u=s(T,"atlasURL"),x=s(T,"xhrSettings"),d=s(T,"path"),m=s(T,"baseURL"),S=s(T,"textureXhrSettings")}var C=new e(h,f,u,x);r.call(this,h,"multiatlas",f,[C]),this.config.path=d,this.config.baseURL=m,this.config.textureXhrSettings=S},onFileComplete:function(a){var h=this.files.indexOf(a);if(h!==-1&&(this.pending--,a.type==="json"&&a.data.hasOwnProperty("textures"))){var f=a.data.textures,u=this.config,d=this.loader,m=d.baseURL,x=d.path,S=d.prefix,T=s(u,"baseURL",this.baseURL),C=s(u,"path",this.path),A=s(u,"prefix",this.prefix),b=s(u,"textureXhrSettings");d.setBaseURL(T),d.setPath(C),d.setPrefix(A);for(var R=0;R<f.length;R++){var F=f[R].image,L="MA"+this.multiKeyIndex+"_"+F,O=new i(d,L,F,b);if(this.addToMultiFile(O),d.addFile(O),f[R].normalMap){var I=new i(d,L,f[R].normalMap,b);I.type="normalMap",O.setLink(I),this.addToMultiFile(I),d.addFile(I)}}d.setBaseURL(m),d.setPath(x),d.setPrefix(S)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],h=[],f=[],u=[],d=1;d<this.files.length;d++){var m=this.files[d];if(m.type!=="normalMap")for(var x=m.key.indexOf("_"),S=m.key.substr(x+1),T=m.data,C=0;C<a.data.textures.length;C++){var A=a.data.textures[C];if(A.image===S){f.push(T),h.push(A),m.linkFile&&u.push(m.linkFile.data);break}}}u.length===0&&(u=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,h,u),this.complete=!0}}});p.register("multiatlas",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},99297:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(95540),i=t(41212),n=t(26430),e=t(34328),r=new o({Extends:n,initialize:function(a,h,f,u){var d="js",m=[];if(i(h)){var x=h;h=s(x,"key"),f=s(x,"url"),u=s(x,"xhrSettings"),d=s(x,"extension",d)}Array.isArray(f)||(f=[f]);for(var S=0;S<f.length;S++){var T=new e(a,{key:h+"_"+S.toString(),url:f[S],extension:d,xhrSettings:u});T.onProcess=function(){this.onProcessComplete()},m.push(T)}n.call(this,a,"scripts",h,m)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var a=this.files[l];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});p.register("scripts",function(l,a,h){var f;if(Array.isArray(l))for(var u=0;u<l.length;u++)f=new r(this,l[u]),this.addFile(f.files);else f=new r(this,l,a,h),this.addFile(f.files);return this}),c.exports=r},41846:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(95540),i=t(41212),n=t(26430),e=t(85048),r=t(61485),l=t(78776),a=new o({Extends:n,initialize:function(f,u,d,m,x,S){var T,C,A=f.cacheManager.obj;if(i(u)){var b=u;u=s(b,"key"),T=new l(f,{key:u,type:"obj",cache:A,url:s(b,"url"),extension:s(b,"extension","obj"),xhrSettings:s(b,"xhrSettings"),config:{flipUV:s(b,"flipUV",x)}}),m=s(b,"matURL"),m&&(C=new l(f,{key:u,type:"mat",cache:A,url:m,extension:s(b,"matExtension","mat"),xhrSettings:s(b,"xhrSettings")}))}else T=new l(f,{key:u,url:d,type:"obj",cache:A,extension:"obj",xhrSettings:S,config:{flipUV:x}}),m&&(C=new l(f,{key:u,url:m,type:"mat",cache:A,extension:"mat",xhrSettings:S}));n.call(this,f,"obj",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],u=e(h.data,h.config.flipUV);f&&(u.materials=r(f.data)),h.cache.add(h.key,u),this.complete=!0}}});p.register("obj",function(h,f,u,d,m){var x;if(Array.isArray(h))for(var S=0;S<h.length;S++)x=new a(this,h[S]),this.addFile(x.files);else x=new a(this,h,f,u,d,m),this.addFile(x.files);return this}),c.exports=a},58610:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(74099),i=t(518),n=new o({Extends:i,initialize:function(r,l,a,h,f){i.call(this,r,l,a,h,f),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(e,r,l,a){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,r,a,l));return this}),c.exports=n},48988:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d,m){var x="js";if(e(h)){var S=h;h=n(S,"key"),f=n(S,"url"),m=n(S,"xhrSettings"),x=n(S,"extension",x),u=n(S,"start"),d=n(S,"mapping")}var T={type:"plugin",cache:!1,extension:x,responseType:"text",key:h,url:f,xhrSettings:m,config:{start:u,mapping:d}};s.call(this,a,T),typeof f=="function"&&(this.data=f,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,a=this.config,h=n(a,"start",!1),f=n(a,"mapping",null);if(this.state===p.FILE_POPULATED)l.install(this.key,this.data,h,f);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var u=l.install(this.key,window[this.key],h,f);(h||f)&&(this.loader.systems[f]=u,this.loader.scene[f]=u)}this.onProcessComplete()}});i.register("plugin",function(l,a,h,f,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,a,h,f,u));return this}),c.exports=r},67397:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d){var m="svg";if(e(h)){var x=h;h=n(x,"key"),f=n(x,"url"),u=n(x,"svgConfig",{}),d=n(x,"xhrSettings"),m=n(x,"extension",m)}var S={type:"svg",cache:a.textureManager,extension:m,responseType:"text",key:h,url:f,xhrSettings:d,config:{width:n(u,"width"),height:n(u,"height"),scale:n(u,"scale")}};s.call(this,a,S)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.xhrLoader.responseText,a=[l],h=this.config.width,f=this.config.height,u=this.config.scale;t:if(h&&f||u){var d=null,m=new DOMParser;d=m.parseFromString(l,"text/xml");var x=d.getElementsByTagName("svg")[0],S=x.hasAttribute("viewBox"),T=parseFloat(x.getAttribute("width")),C=parseFloat(x.getAttribute("height"));if(!S&&T&&C)x.setAttribute("viewBox","0  0 "+T+" "+C);else if(S&&!T&&!C){var A=x.getAttribute("viewBox").split(/\s+|,/);T=A[2],C=A[3]}if(u)if(T&&C)h=T*u,f=C*u;else break t;x.setAttribute("width",h.toString()+"px"),x.setAttribute("height",f.toString()+"px"),a=[new XMLSerializer().serializeToString(x)]}try{var b=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var R=this,F=!1;this.data.onload=function(){F||s.revokeObjectURL(R.data),R.onProcessComplete()},this.data.onerror=function(){F?R.onProcessError():(F=!0,s.revokeObjectURL(R.data),R.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},s.createObjectURL(this.data,b,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});i.register("svg",function(l,a,h,f){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,a,h,f));return this}),c.exports=r},88423:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){var d="js";if(e(h)){var m=h;h=n(m,"key"),f=n(m,"url"),u=n(m,"xhrSettings"),d=n(m,"extension",d)}var x={type:"text",extension:d,responseType:"text",key:h,url:f,xhrSettings:u};s.call(this,a,x)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),a=eval;this.loader.sceneManager.add(this.key,a(l)),this.complete=!0}});i.register("sceneFile",function(l,a,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,a,h));return this}),c.exports=r},56812:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d,m){var x="js";if(e(h)){var S=h;h=n(S,"key"),f=n(S,"url"),m=n(S,"xhrSettings"),x=n(S,"extension",x),u=n(S,"systemKey"),d=n(S,"sceneKey")}var T={type:"scenePlugin",cache:!1,extension:x,responseType:"text",key:h,url:f,xhrSettings:m,config:{systemKey:u,sceneKey:d}};s.call(this,a,T),typeof f=="function"&&(this.data=f,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,a=this.config,h=this.key,f=n(a,"systemKey",h),u=n(a,"sceneKey",h);this.state===p.FILE_POPULATED?l.installScenePlugin(f,this.data,u,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],u,this.loader.scene,!0)),this.onProcessComplete()}});i.register("scenePlugin",function(l,a,h,f,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,a,h,f,u));return this}),c.exports=r},34328:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d){var m="js";if(e(h)){var x=h;h=n(x,"key"),f=n(x,"url"),u=n(x,"type","script"),d=n(x,"xhrSettings"),m=n(x,"extension",m)}else u===void 0&&(u="script");var S={type:u,cache:!1,extension:m,responseType:"text",key:h,url:f,xhrSettings:d};s.call(this,a,S)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("script",function(l,a,h,f){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,a,h,f));return this}),c.exports=r},85035:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(74099),i=t(19550),n=new o({Extends:i,initialize:function(r,l,a,h,f){i.call(this,r,l,a,f,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});s.register("spritesheet",function(e,r,l,a){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,r,l,a));return this}),c.exports=n},78776:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){var d="text",m="txt",x=a.cacheManager.text;if(e(h)){var S=h;h=n(S,"key"),f=n(S,"url"),u=n(S,"xhrSettings"),m=n(S,"extension",m),d=n(S,"type",d),x=n(S,"cache",x)}var T={type:d,cache:x,extension:m,responseType:"text",key:h,url:f,xhrSettings:u};s.call(this,a,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});i.register("text",function(l,a,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,a,h));return this}),c.exports=r},49477:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=t(80341),l=new o({Extends:s,initialize:function(h,f,u,d){var m="csv";if(e(f)){var x=f;f=n(x,"key"),u=n(x,"url"),d=n(x,"xhrSettings"),m=n(x,"extension",m)}var S={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:m,responseType:"text",key:f,url:u,xhrSettings:d};s.call(this,h,S),this.tilemapFormat=r.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a)}});i.register("tilemapCSV",function(a,h,f){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,h,f));return this}),c.exports=l},40807:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(518),i=t(80341),n=new o({Extends:s,initialize:function(r,l,a,h){s.call(this,r,l,a,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:i.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapImpact",function(e,r,l){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,r,l));return this}),c.exports=n},56775:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(518),i=t(80341),n=new o({Extends:s,initialize:function(r,l,a,h){s.call(this,r,l,a,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:i.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapTiledJSON",function(e,r,l){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,r,l));return this}),c.exports=n},25771:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(26430),r=t(78776),l=new o({Extends:e,initialize:function(h,f,u,d,m,x){var S,T;if(n(f)){var C=f;f=s(C,"key"),S=new i(h,{key:f,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),T=new r(h,{key:f,url:s(C,"atlasURL"),extension:s(C,"atlasExtension","txt"),xhrSettings:s(C,"atlasXhrSettings")})}else S=new i(h,f,u,m),T=new r(h,f,d,x);S.linkFile?e.call(this,h,"unityatlas",f,[S,T,S.linkFile]):e.call(this,h,"unityatlas",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(a.key,a.data,h.data,f),this.complete=!0}}});p.register("unityAtlas",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},33720:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(98356),e=t(95540),r=t(41212),l=new o({Extends:s,initialize:function(h,f,u,d){if(d===void 0&&(d=!1),r(f)){var m=f;f=e(m,"key"),u=e(m,"url",[]),d=e(m,"noAudio",!1)}var x=h.systems.game.device.video.getVideoURL(u);x||console.warn("VideoFile: No supported format for "+f);var S={type:"video",cache:h.cacheManager.video,extension:x.type,key:f,url:x.url,config:{noAudio:d}};s.call(this,h,S)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});i.register("video",function(a,h,f){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,h,f));return this}),c.exports=l},57318:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=t(56836),l=new o({Extends:s,initialize:function(h,f,u,d){var m="xml";if(e(f)){var x=f;f=n(x,"key"),u=n(x,"url"),d=n(x,"xhrSettings"),m=n(x,"extension",m)}var S={type:"xml",cache:h.cacheManager.xml,extension:m,responseType:"text",key:f,url:u,xhrSettings:d};s.call(this,h,S)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});i.register("xml",function(a,h,f){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,h,f));return this}),c.exports=l},64589:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23906),p=t(79291),s={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};s=p(!1,s,o),c.exports=s},53307:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0,p=0;p<t.length;p++)o+=+t[p];return o/t.length};c.exports=y},85710:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6411),p=function(s,i){return o(s)/o(i)/o(s-i)};c.exports=p},30976:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.floor(Math.random()*(o-t+1)+t)};c.exports=y},87842:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i){var n=(s-o)*.5,e=(i-p)*.5,r=t*t,l=t*r;return(2*p-2*s+n+e)*l+(-3*p+3*s-2*n-e)*r+n*t+p};c.exports=y},26302:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var s=Math.pow(p,-o);return Math.ceil(t*s)/s};c.exports=y},45319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return Math.max(o,Math.min(p,t))};c.exports=y},39506:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=function(s){return s*o.DEG_TO_RAD};c.exports=p},61241:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.abs(t-o)};c.exports=y},38857:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(37867),i=t(29747),n=new s,e=new p({initialize:function r(l,a,h,f){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=r.DefaultOrder),this._x=l,this._y=a,this._z=h,this._order=f,this.onChangeCallback=i},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,l,a,h){return h===void 0&&(h=this._order),this._x=r,this._y=l,this._z=a,this._order=h,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,l,a){return l===void 0&&(l=this._order),a===void 0&&(a=!1),n.fromQuat(r),this.setFromRotationMatrix(n,l,a)},setFromRotationMatrix:function(r,l,a){l===void 0&&(l=this._order),a===void 0&&(a=!1);var h=r.val,f=h[0],u=h[4],d=h[8],m=h[1],x=h[5],S=h[9],T=h[2],C=h[6],A=h[10],b=0,R=0,F=0,L=.99999;switch(l){case"XYZ":{R=Math.asin(o(d,-1,1)),Math.abs(d)<L?(b=Math.atan2(-S,A),F=Math.atan2(-u,f)):b=Math.atan2(C,x);break}case"YXZ":{b=Math.asin(-o(S,-1,1)),Math.abs(S)<L?(R=Math.atan2(d,A),F=Math.atan2(m,x)):R=Math.atan2(-T,f);break}case"ZXY":{b=Math.asin(o(C,-1,1)),Math.abs(C)<L?(R=Math.atan2(-T,A),F=Math.atan2(-u,x)):F=Math.atan2(m,f);break}case"ZYX":{R=Math.asin(-o(T,-1,1)),Math.abs(T)<L?(b=Math.atan2(C,A),F=Math.atan2(m,f)):F=Math.atan2(-u,x);break}case"YZX":{F=Math.asin(o(m,-1,1)),Math.abs(m)<L?(b=Math.atan2(-S,x),R=Math.atan2(-T,f)):R=Math.atan2(d,A);break}case"XZY":{F=Math.asin(-o(u,-1,1)),Math.abs(u)<L?(b=Math.atan2(C,x),R=Math.atan2(d,f)):b=Math.atan2(-S,A);break}}return this._x=b,this._y=R,this._z=F,this._order=l,a&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",c.exports=e},6411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(t===0)return 1;for(var o=t;--t;)o*=t;return o};c.exports=y},99472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.random()*(o-t)+t};c.exports=y},77623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var s=Math.pow(p,-o);return Math.floor(t*s)/s};c.exports=y},62945:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=function(s,i,n){return s=o(s,0,1),(n-i)*s+i};c.exports=p},38265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t/o/1e3};c.exports=y},78702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t==parseFloat(t)?!(t%2):void 0};c.exports=y},94883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===parseFloat(t)?!(t%2):void 0};c.exports=y},28915:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return(o-t)*p+t};c.exports=y},94908:c=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=0),t.clone().lerp(o,p)};c.exports=y},94434:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i){this.val=new Float32Array(9),i?this.copy(i):this.identity()},clone:function(){return new p(this)},set:function(s){return this.copy(s)},copy:function(s){var i=this.val,n=s.val;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],this},fromMat4:function(s){var i=s.val,n=this.val;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[4],n[4]=i[5],n[5]=i[6],n[6]=i[8],n[7]=i[9],n[8]=i[10],this},fromArray:function(s){var i=this.val;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this},identity:function(){var s=this.val;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,this},transpose:function(){var s=this.val,i=s[1],n=s[2],e=s[5];return s[1]=s[3],s[2]=s[6],s[3]=i,s[5]=s[7],s[6]=n,s[7]=e,this},invert:function(){var s=this.val,i=s[0],n=s[1],e=s[2],r=s[3],l=s[4],a=s[5],h=s[6],f=s[7],u=s[8],d=u*l-a*f,m=-u*r+a*h,x=f*r-l*h,S=i*d+n*m+e*x;return S?(S=1/S,s[0]=d*S,s[1]=(-u*n+e*f)*S,s[2]=(a*n-e*l)*S,s[3]=m*S,s[4]=(u*i-e*h)*S,s[5]=(-a*i+e*r)*S,s[6]=x*S,s[7]=(-f*i+n*h)*S,s[8]=(l*i-n*r)*S,this):null},adjoint:function(){var s=this.val,i=s[0],n=s[1],e=s[2],r=s[3],l=s[4],a=s[5],h=s[6],f=s[7],u=s[8];return s[0]=l*u-a*f,s[1]=e*f-n*u,s[2]=n*a-e*l,s[3]=a*h-r*u,s[4]=i*u-e*h,s[5]=e*r-i*a,s[6]=r*f-l*h,s[7]=n*h-i*f,s[8]=i*l-n*r,this},determinant:function(){var s=this.val,i=s[0],n=s[1],e=s[2],r=s[3],l=s[4],a=s[5],h=s[6],f=s[7],u=s[8];return i*(u*l-a*f)+n*(-u*r+a*h)+e*(f*r-l*h)},multiply:function(s){var i=this.val,n=i[0],e=i[1],r=i[2],l=i[3],a=i[4],h=i[5],f=i[6],u=i[7],d=i[8],m=s.val,x=m[0],S=m[1],T=m[2],C=m[3],A=m[4],b=m[5],R=m[6],F=m[7],L=m[8];return i[0]=x*n+S*l+T*f,i[1]=x*e+S*a+T*u,i[2]=x*r+S*h+T*d,i[3]=C*n+A*l+b*f,i[4]=C*e+A*a+b*u,i[5]=C*r+A*h+b*d,i[6]=R*n+F*l+L*f,i[7]=R*e+F*a+L*u,i[8]=R*r+F*h+L*d,this},translate:function(s){var i=this.val,n=s.x,e=s.y;return i[6]=n*i[0]+e*i[3]+i[6],i[7]=n*i[1]+e*i[4]+i[7],i[8]=n*i[2]+e*i[5]+i[8],this},rotate:function(s){var i=this.val,n=i[0],e=i[1],r=i[2],l=i[3],a=i[4],h=i[5],f=Math.sin(s),u=Math.cos(s);return i[0]=u*n+f*l,i[1]=u*e+f*a,i[2]=u*r+f*h,i[3]=u*l-f*n,i[4]=u*a-f*e,i[5]=u*h-f*r,this},scale:function(s){var i=this.val,n=s.x,e=s.y;return i[0]=n*i[0],i[1]=n*i[1],i[2]=n*i[2],i[3]=e*i[3],i[4]=e*i[4],i[5]=e*i[5],this},fromQuat:function(s){var i=s.x,n=s.y,e=s.z,r=s.w,l=i+i,a=n+n,h=e+e,f=i*l,u=i*a,d=i*h,m=n*a,x=n*h,S=e*h,T=r*l,C=r*a,A=r*h,b=this.val;return b[0]=1-(m+S),b[3]=u+A,b[6]=d-C,b[1]=u-A,b[4]=1-(f+S),b[7]=x+T,b[2]=d+C,b[5]=x-T,b[8]=1-(f+m),this},normalFromMat4:function(s){var i=s.val,n=this.val,e=i[0],r=i[1],l=i[2],a=i[3],h=i[4],f=i[5],u=i[6],d=i[7],m=i[8],x=i[9],S=i[10],T=i[11],C=i[12],A=i[13],b=i[14],R=i[15],F=e*f-r*h,L=e*u-l*h,O=e*d-a*h,I=r*u-l*f,B=r*d-a*f,U=l*d-a*u,H=m*A-x*C,J=m*b-S*C,tt=m*R-T*C,X=x*b-S*A,j=x*R-T*A,D=S*R-T*b,z=F*D-L*j+O*X+I*tt-B*J+U*H;return z?(z=1/z,n[0]=(f*D-u*j+d*X)*z,n[1]=(u*tt-h*D-d*J)*z,n[2]=(h*j-f*tt+d*H)*z,n[3]=(l*j-r*D-a*X)*z,n[4]=(e*D-l*tt+a*J)*z,n[5]=(r*tt-e*j-a*H)*z,n[6]=(A*U-b*B+R*I)*z,n[7]=(b*O-C*U-R*L)*z,n[8]=(C*B-A*O+R*F)*z,this):null}});c.exports=p},37867:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(25836),s=1e-6,i=new o({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new i(this)},set:function(h){return this.copy(h)},setValues:function(h,f,u,d,m,x,S,T,C,A,b,R,F,L,O,I){var B=this.val;return B[0]=h,B[1]=f,B[2]=u,B[3]=d,B[4]=m,B[5]=x,B[6]=S,B[7]=T,B[8]=C,B[9]=A,B[10]=b,B[11]=R,B[12]=F,B[13]=L,B[14]=O,B[15]=I,this},copy:function(h){var f=h.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,f,u){var d=n.fromQuat(u),m=d.val,x=f.x,S=f.y,T=f.z;return this.setValues(m[0]*x,m[1]*x,m[2]*x,0,m[4]*S,m[5]*S,m[6]*S,0,m[8]*T,m[9]*T,m[10]*T,0,h.x,h.y,h.z,1)},xyz:function(h,f,u){this.identity();var d=this.val;return d[12]=h,d[13]=f,d[14]=u,this},scaling:function(h,f,u){this.zero();var d=this.val;return d[0]=h,d[5]=f,d[10]=u,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,f=h[1],u=h[2],d=h[3],m=h[6],x=h[7],S=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=f,h[6]=h[9],h[7]=h[13],h[8]=u,h[9]=m,h[11]=h[14],h[12]=d,h[13]=x,h[14]=S,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,f=h[0],u=h[1],d=h[2],m=h[3],x=h[4],S=h[5],T=h[6],C=h[7],A=h[8],b=h[9],R=h[10],F=h[11],L=h[12],O=h[13],I=h[14],B=h[15],U=f*S-u*x,H=f*T-d*x,J=f*C-m*x,tt=u*T-d*S,X=u*C-m*S,j=d*C-m*T,D=A*O-b*L,z=A*I-R*L,$=A*B-F*L,K=b*I-R*O,Z=b*B-F*O,it=R*B-F*I,st=U*it-H*Z+J*K+tt*$-X*z+j*D;return st?(st=1/st,this.setValues((S*it-T*Z+C*K)*st,(d*Z-u*it-m*K)*st,(O*j-I*X+B*tt)*st,(R*X-b*j-F*tt)*st,(T*$-x*it-C*z)*st,(f*it-d*$+m*z)*st,(I*J-L*j-B*H)*st,(A*j-R*J+F*H)*st,(x*Z-S*$+C*D)*st,(u*$-f*Z-m*D)*st,(L*X-O*J+B*U)*st,(b*J-A*X-F*U)*st,(S*z-x*K-T*D)*st,(f*K-u*z+d*D)*st,(O*H-L*tt-I*U)*st,(A*tt-b*H+R*U)*st)):this},adjoint:function(){var h=this.val,f=h[0],u=h[1],d=h[2],m=h[3],x=h[4],S=h[5],T=h[6],C=h[7],A=h[8],b=h[9],R=h[10],F=h[11],L=h[12],O=h[13],I=h[14],B=h[15];return this.setValues(S*(R*B-F*I)-b*(T*B-C*I)+O*(T*F-C*R),-(u*(R*B-F*I)-b*(d*B-m*I)+O*(d*F-m*R)),u*(T*B-C*I)-S*(d*B-m*I)+O*(d*C-m*T),-(u*(T*F-C*R)-S*(d*F-m*R)+b*(d*C-m*T)),-(x*(R*B-F*I)-A*(T*B-C*I)+L*(T*F-C*R)),f*(R*B-F*I)-A*(d*B-m*I)+L*(d*F-m*R),-(f*(T*B-C*I)-x*(d*B-m*I)+L*(d*C-m*T)),f*(T*F-C*R)-x*(d*F-m*R)+A*(d*C-m*T),x*(b*B-F*O)-A*(S*B-C*O)+L*(S*F-C*b),-(f*(b*B-F*O)-A*(u*B-m*O)+L*(u*F-m*b)),f*(S*B-C*O)-x*(u*B-m*O)+L*(u*C-m*S),-(f*(S*F-C*b)-x*(u*F-m*b)+A*(u*C-m*S)),-(x*(b*I-R*O)-A*(S*I-T*O)+L*(S*R-T*b)),f*(b*I-R*O)-A*(u*I-d*O)+L*(u*R-d*b),-(f*(S*I-T*O)-x*(u*I-d*O)+L*(u*T-d*S)),f*(S*R-T*b)-x*(u*R-d*b)+A*(u*T-d*S))},determinant:function(){var h=this.val,f=h[0],u=h[1],d=h[2],m=h[3],x=h[4],S=h[5],T=h[6],C=h[7],A=h[8],b=h[9],R=h[10],F=h[11],L=h[12],O=h[13],I=h[14],B=h[15],U=f*S-u*x,H=f*T-d*x,J=f*C-m*x,tt=u*T-d*S,X=u*C-m*S,j=d*C-m*T,D=A*O-b*L,z=A*I-R*L,$=A*B-F*L,K=b*I-R*O,Z=b*B-F*O,it=R*B-F*I;return U*it-H*Z+J*K+tt*$-X*z+j*D},multiply:function(h){var f=this.val,u=f[0],d=f[1],m=f[2],x=f[3],S=f[4],T=f[5],C=f[6],A=f[7],b=f[8],R=f[9],F=f[10],L=f[11],O=f[12],I=f[13],B=f[14],U=f[15],H=h.val,J=H[0],tt=H[1],X=H[2],j=H[3];return f[0]=J*u+tt*S+X*b+j*O,f[1]=J*d+tt*T+X*R+j*I,f[2]=J*m+tt*C+X*F+j*B,f[3]=J*x+tt*A+X*L+j*U,J=H[4],tt=H[5],X=H[6],j=H[7],f[4]=J*u+tt*S+X*b+j*O,f[5]=J*d+tt*T+X*R+j*I,f[6]=J*m+tt*C+X*F+j*B,f[7]=J*x+tt*A+X*L+j*U,J=H[8],tt=H[9],X=H[10],j=H[11],f[8]=J*u+tt*S+X*b+j*O,f[9]=J*d+tt*T+X*R+j*I,f[10]=J*m+tt*C+X*F+j*B,f[11]=J*x+tt*A+X*L+j*U,J=H[12],tt=H[13],X=H[14],j=H[15],f[12]=J*u+tt*S+X*b+j*O,f[13]=J*d+tt*T+X*R+j*I,f[14]=J*m+tt*C+X*F+j*B,f[15]=J*x+tt*A+X*L+j*U,this},multiplyLocal:function(h){var f=this.val,u=h.val;return this.setValues(f[0]*u[0]+f[1]*u[4]+f[2]*u[8]+f[3]*u[12],f[0]*u[1]+f[1]*u[5]+f[2]*u[9]+f[3]*u[13],f[0]*u[2]+f[1]*u[6]+f[2]*u[10]+f[3]*u[14],f[0]*u[3]+f[1]*u[7]+f[2]*u[11]+f[3]*u[15],f[4]*u[0]+f[5]*u[4]+f[6]*u[8]+f[7]*u[12],f[4]*u[1]+f[5]*u[5]+f[6]*u[9]+f[7]*u[13],f[4]*u[2]+f[5]*u[6]+f[6]*u[10]+f[7]*u[14],f[4]*u[3]+f[5]*u[7]+f[6]*u[11]+f[7]*u[15],f[8]*u[0]+f[9]*u[4]+f[10]*u[8]+f[11]*u[12],f[8]*u[1]+f[9]*u[5]+f[10]*u[9]+f[11]*u[13],f[8]*u[2]+f[9]*u[6]+f[10]*u[10]+f[11]*u[14],f[8]*u[3]+f[9]*u[7]+f[10]*u[11]+f[11]*u[15],f[12]*u[0]+f[13]*u[4]+f[14]*u[8]+f[15]*u[12],f[12]*u[1]+f[13]*u[5]+f[14]*u[9]+f[15]*u[13],f[12]*u[2]+f[13]*u[6]+f[14]*u[10]+f[15]*u[14],f[12]*u[3]+f[13]*u[7]+f[14]*u[11]+f[15]*u[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,f){var u=h.val,d=f.val,m=u[0],x=u[4],S=u[8],T=u[12],C=u[1],A=u[5],b=u[9],R=u[13],F=u[2],L=u[6],O=u[10],I=u[14],B=u[3],U=u[7],H=u[11],J=u[15],tt=d[0],X=d[4],j=d[8],D=d[12],z=d[1],$=d[5],K=d[9],Z=d[13],it=d[2],st=d[6],at=d[10],ut=d[14],vt=d[3],xt=d[7],Et=d[11],yt=d[15];return this.setValues(m*tt+x*z+S*it+T*vt,C*tt+A*z+b*it+R*vt,F*tt+L*z+O*it+I*vt,B*tt+U*z+H*it+J*vt,m*X+x*$+S*st+T*xt,C*X+A*$+b*st+R*xt,F*X+L*$+O*st+I*xt,B*X+U*$+H*st+J*xt,m*j+x*K+S*at+T*Et,C*j+A*K+b*at+R*Et,F*j+L*K+O*at+I*Et,B*j+U*K+H*at+J*Et,m*D+x*Z+S*ut+T*yt,C*D+A*Z+b*ut+R*yt,F*D+L*Z+O*ut+I*yt,B*D+U*Z+H*ut+J*yt)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,f,u){var d=this.val;return d[12]=d[0]*h+d[4]*f+d[8]*u+d[12],d[13]=d[1]*h+d[5]*f+d[9]*u+d[13],d[14]=d[2]*h+d[6]*f+d[10]*u+d[14],d[15]=d[3]*h+d[7]*f+d[11]*u+d[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,f,u){var d=this.val;return d[0]=d[0]*h,d[1]=d[1]*h,d[2]=d[2]*h,d[3]=d[3]*h,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*u,d[9]=d[9]*u,d[10]=d[10]*u,d[11]=d[11]*u,this},makeRotationAxis:function(h,f){var u=Math.cos(f),d=Math.sin(f),m=1-u,x=h.x,S=h.y,T=h.z,C=m*x,A=m*S;return this.setValues(C*x+u,C*S-d*T,C*T+d*S,0,C*S+d*T,A*S+u,A*T-d*x,0,C*T-d*S,A*T+d*x,m*T*T+u,0,0,0,0,1)},rotate:function(h,f){var u=this.val,d=f.x,m=f.y,x=f.z,S=Math.sqrt(d*d+m*m+x*x);if(Math.abs(S)<s)return this;S=1/S,d*=S,m*=S,x*=S;var T=Math.sin(h),C=Math.cos(h),A=1-C,b=u[0],R=u[1],F=u[2],L=u[3],O=u[4],I=u[5],B=u[6],U=u[7],H=u[8],J=u[9],tt=u[10],X=u[11],j=u[12],D=u[13],z=u[14],$=u[15],K=d*d*A+C,Z=m*d*A+x*T,it=x*d*A-m*T,st=d*m*A-x*T,at=m*m*A+C,ut=x*m*A+d*T,vt=d*x*A+m*T,xt=m*x*A-d*T,Et=x*x*A+C;return this.setValues(b*K+O*Z+H*it,R*K+I*Z+J*it,F*K+B*Z+tt*it,L*K+U*Z+X*it,b*st+O*at+H*ut,R*st+I*at+J*ut,F*st+B*at+tt*ut,L*st+U*at+X*ut,b*vt+O*xt+H*Et,R*vt+I*xt+J*Et,F*vt+B*xt+tt*Et,L*vt+U*xt+X*Et,j,D,z,$)},rotateX:function(h){var f=this.val,u=Math.sin(h),d=Math.cos(h),m=f[4],x=f[5],S=f[6],T=f[7],C=f[8],A=f[9],b=f[10],R=f[11];return f[4]=m*d+C*u,f[5]=x*d+A*u,f[6]=S*d+b*u,f[7]=T*d+R*u,f[8]=C*d-m*u,f[9]=A*d-x*u,f[10]=b*d-S*u,f[11]=R*d-T*u,this},rotateY:function(h){var f=this.val,u=Math.sin(h),d=Math.cos(h),m=f[0],x=f[1],S=f[2],T=f[3],C=f[8],A=f[9],b=f[10],R=f[11];return f[0]=m*d-C*u,f[1]=x*d-A*u,f[2]=S*d-b*u,f[3]=T*d-R*u,f[8]=m*u+C*d,f[9]=x*u+A*d,f[10]=S*u+b*d,f[11]=T*u+R*d,this},rotateZ:function(h){var f=this.val,u=Math.sin(h),d=Math.cos(h),m=f[0],x=f[1],S=f[2],T=f[3],C=f[4],A=f[5],b=f[6],R=f[7];return f[0]=m*d+C*u,f[1]=x*d+A*u,f[2]=S*d+b*u,f[3]=T*d+R*u,f[4]=C*d-m*u,f[5]=A*d-x*u,f[6]=b*d-S*u,f[7]=R*d-T*u,this},fromRotationTranslation:function(h,f){var u=h.x,d=h.y,m=h.z,x=h.w,S=u+u,T=d+d,C=m+m,A=u*S,b=u*T,R=u*C,F=d*T,L=d*C,O=m*C,I=x*S,B=x*T,U=x*C;return this.setValues(1-(F+O),b+U,R-B,0,b-U,1-(A+O),L+I,0,R+B,L-I,1-(A+F),0,f.x,f.y,f.z,1)},fromQuat:function(h){var f=h.x,u=h.y,d=h.z,m=h.w,x=f+f,S=u+u,T=d+d,C=f*x,A=f*S,b=f*T,R=u*S,F=u*T,L=d*T,O=m*x,I=m*S,B=m*T;return this.setValues(1-(R+L),A+B,b-I,0,A-B,1-(C+L),F+O,0,b+I,F-O,1-(C+R),0,0,0,0,1)},frustum:function(h,f,u,d,m,x){var S=1/(f-h),T=1/(d-u),C=1/(m-x);return this.setValues(m*2*S,0,0,0,0,m*2*T,0,0,(f+h)*S,(d+u)*T,(x+m)*C,-1,0,0,x*m*2*C,0)},perspective:function(h,f,u,d){var m=1/Math.tan(h/2),x=1/(u-d);return this.setValues(m/f,0,0,0,0,m,0,0,0,0,(d+u)*x,-1,0,0,2*d*u*x,0)},perspectiveLH:function(h,f,u,d){return this.setValues(2*u/h,0,0,0,0,2*u/f,0,0,0,0,-d/(u-d),1,0,0,u*d/(u-d),0)},ortho:function(h,f,u,d,m,x){var S=h-f,T=u-d,C=m-x;return S=S===0?S:1/S,T=T===0?T:1/T,C=C===0?C:1/C,this.setValues(-2*S,0,0,0,0,-2*T,0,0,0,0,2*C,0,(h+f)*S,(d+u)*T,(x+m)*C,1)},lookAtRH:function(h,f,u){var d=this.val;return a.subVectors(h,f),a.getLengthSquared()===0&&(a.z=1),a.normalize(),r.crossVectors(u,a),r.getLengthSquared()===0&&(Math.abs(u.z)===1?a.x+=1e-4:a.z+=1e-4,a.normalize(),r.crossVectors(u,a)),r.normalize(),l.crossVectors(a,r),d[0]=r.x,d[1]=r.y,d[2]=r.z,d[4]=l.x,d[5]=l.y,d[6]=l.z,d[8]=a.x,d[9]=a.y,d[10]=a.z,this},lookAt:function(h,f,u){var d=h.x,m=h.y,x=h.z,S=u.x,T=u.y,C=u.z,A=f.x,b=f.y,R=f.z;if(Math.abs(d-A)<s&&Math.abs(m-b)<s&&Math.abs(x-R)<s)return this.identity();var F=d-A,L=m-b,O=x-R,I=1/Math.sqrt(F*F+L*L+O*O);F*=I,L*=I,O*=I;var B=T*O-C*L,U=C*F-S*O,H=S*L-T*F;I=Math.sqrt(B*B+U*U+H*H),I?(I=1/I,B*=I,U*=I,H*=I):(B=0,U=0,H=0);var J=L*H-O*U,tt=O*B-F*H,X=F*U-L*B;return I=Math.sqrt(J*J+tt*tt+X*X),I?(I=1/I,J*=I,tt*=I,X*=I):(J=0,tt=0,X=0),this.setValues(B,J,F,0,U,tt,L,0,H,X,O,0,-(B*d+U*m+H*x),-(J*d+tt*m+X*x),-(F*d+L*m+O*x),1)},yawPitchRoll:function(h,f,u){this.zero(),n.zero(),e.zero();var d=this.val,m=n.val,x=e.val,S=Math.sin(u),T=Math.cos(u);return d[10]=1,d[15]=1,d[0]=T,d[1]=S,d[4]=-S,d[5]=T,S=Math.sin(f),T=Math.cos(f),m[0]=1,m[15]=1,m[5]=T,m[10]=T,m[9]=-S,m[6]=S,S=Math.sin(h),T=Math.cos(h),x[5]=1,x[15]=1,x[0]=T,x[2]=-S,x[8]=S,x[10]=T,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(h,f,u,d,m){return this.yawPitchRoll(h.y,h.x,h.z),n.scaling(u.x,u.y,u.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(n),this.multiplyLocal(e),d&&this.multiplyLocal(d),m&&this.multiplyLocal(m),this},multiplyToMat4:function(h,f){var u=this.val,d=h.val,m=u[0],x=u[1],S=u[2],T=u[3],C=u[4],A=u[5],b=u[6],R=u[7],F=u[8],L=u[9],O=u[10],I=u[11],B=u[12],U=u[13],H=u[14],J=u[15],tt=d[0],X=d[1],j=d[2],D=d[3],z=d[4],$=d[5],K=d[6],Z=d[7],it=d[8],st=d[9],at=d[10],ut=d[11],vt=d[12],xt=d[13],Et=d[14],yt=d[15];return f.setValues(tt*m+X*C+j*F+D*B,X*x+X*A+j*L+D*U,j*S+X*b+j*O+D*H,D*T+X*R+j*I+D*J,z*m+$*C+K*F+Z*B,z*x+$*A+K*L+Z*U,z*S+$*b+K*O+Z*H,z*T+$*R+K*I+Z*J,it*m+st*C+at*F+ut*B,it*x+st*A+at*L+ut*U,it*S+st*b+at*O+ut*H,it*T+st*R+at*I+ut*J,vt*m+xt*C+Et*F+yt*B,vt*x+xt*A+Et*L+yt*U,vt*S+xt*b+Et*O+yt*H,vt*T+xt*R+Et*I+yt*J)},fromRotationXYTranslation:function(h,f,u){var d=f.x,m=f.y,x=f.z,S=Math.sin(h.x),T=Math.cos(h.x),C=Math.sin(h.y),A=Math.cos(h.y),b=d,R=m,F=x,L=-S,O=0-L*C,I=0-T*C,B=L*A,U=T*A;return u||(b=A*d+C*x,R=O*d+T*m+B*x,F=I*d+S*m+U*x),this.setValues(A,O,I,0,0,T,S,0,C,B,U,0,b,R,F,1)},getMaxScaleOnAxis:function(){var h=this.val,f=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],u=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],d=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(f,u,d))}}),n=new i,e=new i,r=new p,l=new p,a=new p;c.exports=i},86883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return Math.min(t+o,p)};c.exports=y},50040:c=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.length;if(o===0)return 0;t.sort(function(s,i){return s-i});var p=Math.floor(o/2);return o%2===0?(t[p]+t[p-1])/2:t[p]};c.exports=y},37204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return Math.max(t-o,p)};c.exports=y},65201:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){p===void 0&&(p=o+1);var i=(t-o)/(p-o);return i>1?s!==void 0?(i=(s-t)/(s-p),i<0&&(i=0)):i=1:i<0&&(i=0),i};c.exports=y},15746:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(94434),s=t(29747),i=t(25836),n=1e-6,e=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),l=new i(1,0,0),a=new i(0,1,0),h=new i,f=new p,u=new o({initialize:function(m,x,S,T){this.onChangeCallback=s,this.set(m,x,S,T)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,m,x,S,T){return T===void 0&&(T=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=m||0,this._z=x||0,this._w=S||0),T&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,m=this.y,x=this.z,S=this.w;return Math.sqrt(d*d+m*m+x*x+S*S)},lengthSq:function(){var d=this.x,m=this.y,x=this.z,S=this.w;return d*d+m*m+x*x+S*S},normalize:function(){var d=this.x,m=this.y,x=this.z,S=this.w,T=d*d+m*m+x*x+S*S;return T>0&&(T=1/Math.sqrt(T),this._x=d*T,this._y=m*T,this._z=x*T,this._w=S*T),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,m){m===void 0&&(m=0);var x=this.x,S=this.y,T=this.z,C=this.w;return this.set(x+m*(d.x-x),S+m*(d.y-S),T+m*(d.z-T),C+m*(d.w-C))},rotationTo:function(d,m){var x=d.x*m.x+d.y*m.y+d.z*m.z;return x<-.999999?(h.copy(l).cross(d).length()<n&&h.copy(a).cross(d),h.normalize(),this.setAxisAngle(h,Math.PI)):x>.999999?this.set(0,0,0,1):(h.copy(d).cross(m),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+x,this.normalize())},setAxes:function(d,m,x){var S=f.val;return S[0]=m.x,S[3]=m.y,S[6]=m.z,S[1]=x.x,S[4]=x.y,S[7]=x.z,S[2]=-d.x,S[5]=-d.y,S[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,m){m=m*.5;var x=Math.sin(m);return this.set(x*d.x,x*d.y,x*d.z,Math.cos(m))},multiply:function(d){var m=this.x,x=this.y,S=this.z,T=this.w,C=d.x,A=d.y,b=d.z,R=d.w;return this.set(m*R+T*C+x*b-S*A,x*R+T*A+S*C-m*b,S*R+T*b+m*A-x*C,T*R-m*C-x*A-S*b)},slerp:function(d,m){var x=this.x,S=this.y,T=this.z,C=this.w,A=d.x,b=d.y,R=d.z,F=d.w,L=x*A+S*b+T*R+C*F;L<0&&(L=-L,A=-A,b=-b,R=-R,F=-F);var O=1-m,I=m;if(1-L>n){var B=Math.acos(L),U=Math.sin(B);O=Math.sin((1-m)*B)/U,I=Math.sin(m*B)/U}return this.set(O*x+I*A,O*S+I*b,O*T+I*R,O*C+I*F)},invert:function(){var d=this.x,m=this.y,x=this.z,S=this.w,T=d*d+m*m+x*x+S*S,C=T?1/T:0;return this.set(-d*C,-m*C,-x*C,S*C)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var m=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(m*A+T*C,x*A+S*C,S*A-x*C,T*A-m*C)},rotateY:function(d){d*=.5;var m=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(m*A-S*C,x*A+T*C,S*A+m*C,T*A-x*C)},rotateZ:function(d){d*=.5;var m=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(m*A+x*C,x*A-m*C,S*A+T*C,T*A-S*C)},calculateW:function(){var d=this.x,m=this.y,x=this.z;return this.w=-Math.sqrt(1-d*d-m*m-x*x),this},setFromEuler:function(d,m){var x=d.x/2,S=d.y/2,T=d.z/2,C=Math.cos(x),A=Math.cos(S),b=Math.cos(T),R=Math.sin(x),F=Math.sin(S),L=Math.sin(T);switch(d.order){case"XYZ":{this.set(R*A*b+C*F*L,C*F*b-R*A*L,C*A*L+R*F*b,C*A*b-R*F*L,m);break}case"YXZ":{this.set(R*A*b+C*F*L,C*F*b-R*A*L,C*A*L-R*F*b,C*A*b+R*F*L,m);break}case"ZXY":{this.set(R*A*b-C*F*L,C*F*b+R*A*L,C*A*L+R*F*b,C*A*b-R*F*L,m);break}case"ZYX":{this.set(R*A*b-C*F*L,C*F*b+R*A*L,C*A*L-R*F*b,C*A*b+R*F*L,m);break}case"YZX":{this.set(R*A*b+C*F*L,C*F*b+R*A*L,C*A*L-R*F*b,C*A*b-R*F*L,m);break}case"XZY":{this.set(R*A*b-C*F*L,C*F*b-R*A*L,C*A*L+R*F*b,C*A*b+R*F*L,m);break}}return this},setFromRotationMatrix:function(d){var m=d.val,x=m[0],S=m[4],T=m[8],C=m[1],A=m[5],b=m[9],R=m[2],F=m[6],L=m[10],O=x+A+L,I;return O>0?(I=.5/Math.sqrt(O+1),this.set((F-b)*I,(T-R)*I,(C-S)*I,.25/I)):x>A&&x>L?(I=2*Math.sqrt(1+x-A-L),this.set(.25*I,(S+C)/I,(T+R)/I,(F-b)/I)):A>L?(I=2*Math.sqrt(1+A-x-L),this.set((S+C)/I,.25*I,(b+F)/I,(T-R)/I)):(I=2*Math.sqrt(1+L-x-A),this.set((T+R)/I,(b+F)/I,.25*I,(C-S)/I)),this},fromMat3:function(d){var m=d.val,x=m[0]+m[4]+m[8],S;if(x>0)S=Math.sqrt(x+1),this.w=.5*S,S=.5/S,this._x=(m[7]-m[5])*S,this._y=(m[2]-m[6])*S,this._z=(m[3]-m[1])*S;else{var T=0;m[4]>m[0]&&(T=1),m[8]>m[T*3+T]&&(T=2);var C=e[T],A=e[C];S=Math.sqrt(m[T*3+T]-m[C*3+C]-m[A*3+A]+1),r[T]=.5*S,S=.5/S,r[C]=(m[C*3+T]+m[T*3+C])*S,r[A]=(m[A*3+T]+m[T*3+A])*S,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(m[A*3+C]-m[C*3+A])*S}return this.onChangeCallback(this),this}});c.exports=u},43396:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=function(s){return s*o.RAD_TO_DEG};c.exports=p},74362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);var p=Math.random()*2*Math.PI;return t.x=Math.cos(p)*o,t.y=Math.sin(p)*o,t};c.exports=y},60706:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);var p=Math.random()*2*Math.PI,s=Math.random()*2-1,i=Math.sqrt(1-s*s)*o;return t.x=Math.cos(p)*i,t.y=Math.sin(p)*i,t.z=s*o,t};c.exports=y},67421:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1),t.x=(Math.random()*2-1)*o,t.y=(Math.random()*2-1)*o,t.z=(Math.random()*2-1)*o,t.w=(Math.random()*2-1)*o,t};c.exports=y},36305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x,s=t.y;return t.x=p*Math.cos(o)-s*Math.sin(o),t.y=p*Math.sin(o)+s*Math.cos(o),t};c.exports=y},11520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=Math.cos(s),n=Math.sin(s),e=t.x-o,r=t.y-p;return t.x=e*i-r*n+o,t.y=e*n+r*i+p,t};c.exports=y},1163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i){var n=s+Math.atan2(t.y-p,t.x-o);return t.x=o+i*Math.cos(n),t.y=p+i*Math.sin(n),t};c.exports=y},70336:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i){return t.x=o+i*Math.cos(s),t.y=p+i*Math.sin(s),t};c.exports=y},72678:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),p=t(37867),s=t(15746),i=new p,n=new s,e=new o,r=function(l,a,h){return n.setAxisAngle(a,h),i.fromRotationTranslation(n,e.set(0,0,0)),l.transformMat4(i)};c.exports=r},2284:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0?Math.ceil(t):Math.floor(t)};c.exports=y},41013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var s=Math.pow(p,-o);return Math.round(t*s)/s};c.exports=y},16922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){o===void 0&&(o=1),p===void 0&&(p=1),s===void 0&&(s=1),s*=Math.PI/t;for(var i=[],n=[],e=0;e<t;e++)p-=o*s,o+=p*s,i[e]=p,n[e]=o;return{sin:n,cos:i,length:t}};c.exports=y},7602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t<=o?0:t>=p?1:(t=(t-o)/(p-o),t*t*(3-2*t))};c.exports=y},54261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t=Math.max(0,Math.min(1,(t-o)/(p-o))),t*t*t*(t*(t*6-15)+10)};c.exports=y},44408:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e){e===void 0&&(e=new o);var r=0,l=0,a=i*n;return s>0&&s<=a&&(s>i-1?(l=Math.floor(s/i),r=s-l*i):r=s),e.set(r,l)};c.exports=p},85955:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r,l,a,h){h===void 0&&(h=new o);var f=Math.sin(r),u=Math.cos(r),d=u*l,m=f*l,x=-f*a,S=u*a,T=1/(d*S+x*-m);return h.x=S*T*s+-x*T*i+(e*x-n*S)*T,h.y=d*T*i+-m*T*s+(-e*d+n*m)*T,h};c.exports=p},26099:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(43855),s=new o({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new s(this.x,this.y)},copy:function(i){return this.x=i.x||0,this.y=i.y||0,this},setFromObject:function(i){return this.x=i.x||0,this.y=i.y||0,this},set:function(i,n){return n===void 0&&(n=i),this.x=i,this.y=n,this},setTo:function(i,n){return this.set(i,n)},setToPolar:function(i,n){return n==null&&(n=1),this.x=Math.cos(i)*n,this.y=Math.sin(i)*n,this},equals:function(i){return this.x===i.x&&this.y===i.y},fuzzyEquals:function(i,n){return p(this.x,i.x,n)&&p(this.y,i.y,n)},angle:function(){var i=Math.atan2(this.y,this.x);return i<0&&(i+=2*Math.PI),i},setAngle:function(i){return this.setToPolar(i,this.length())},add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this},scale:function(i){return isFinite(i)?(this.x*=i,this.y*=i):(this.x=0,this.y=0),this},divide:function(i){return this.x/=i.x,this.y/=i.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(i){var n=i.x-this.x,e=i.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(i){var n=i.x-this.x,e=i.y-this.y;return n*n+e*e},length:function(){var i=this.x,n=this.y;return Math.sqrt(i*i+n*n)},setLength:function(i){return this.normalize().scale(i)},lengthSq:function(){var i=this.x,n=this.y;return i*i+n*n},normalize:function(){var i=this.x,n=this.y,e=i*i+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=i*e,this.y=n*e),this},normalizeRightHand:function(){var i=this.x;return this.x=this.y*-1,this.y=i,this},normalizeLeftHand:function(){var i=this.x;return this.x=this.y,this.y=i*-1,this},dot:function(i){return this.x*i.x+this.y*i.y},cross:function(i){return this.x*i.y-this.y*i.x},lerp:function(i,n){n===void 0&&(n=0);var e=this.x,r=this.y;return this.x=e+n*(i.x-e),this.y=r+n*(i.y-r),this},transformMat3:function(i){var n=this.x,e=this.y,r=i.val;return this.x=r[0]*n+r[3]*e+r[6],this.y=r[1]*n+r[4]*e+r[7],this},transformMat4:function(i){var n=this.x,e=this.y,r=i.val;return this.x=r[0]*n+r[4]*e+r[12],this.y=r[1]*n+r[5]*e+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(i){var n=this.length();return n&&n>i&&this.scale(i/n),this},reflect:function(i){return i=i.clone().normalize(),this.subtract(i.scale(2*this.dot(i)))},mirror:function(i){return this.reflect(i).negate()},rotate:function(i){var n=Math.cos(i),e=Math.sin(i);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(i){var n=this.dot(i)/i.dot(i);return this.copy(i).scale(n)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),c.exports=s},25836:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e){this.x=0,this.y=0,this.z=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this},max:function(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(s,i){return this.x=s.x+i.x,this.y=s.y+i.y,this.z=s.z+i.z,this},crossVectors:function(s,i){var n=s.x,e=s.y,r=s.z,l=i.x,a=i.y,h=i.z;return this.x=e*h-r*a,this.y=r*l-n*h,this.z=n*a-e*l,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this},set:function(s,i,n){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=i||0,this.z=n||0),this},setFromMatrixPosition:function(s){return this.fromArray(s.val,12)},setFromMatrixColumn:function(s,i){return this.fromArray(s.val,i*4)},fromArray:function(s,i){return i===void 0&&(i=0),this.x=s[i],this.y=s[i+1],this.z=s[i+2],this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addScale:function(s,i){return this.x+=s.x*i,this.y+=s.y*i,this.z+=s.z*i||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s,this.z*=s):(this.x=0,this.y=0,this.z=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(s){var i=s.x-this.x,n=s.y-this.y,e=s.z-this.z||0;return Math.sqrt(i*i+n*n+e*e)},distanceSq:function(s){var i=s.x-this.x,n=s.y-this.y,e=s.z-this.z||0;return i*i+n*n+e*e},length:function(){var s=this.x,i=this.y,n=this.z;return Math.sqrt(s*s+i*i+n*n)},lengthSq:function(){var s=this.x,i=this.y,n=this.z;return s*s+i*i+n*n},normalize:function(){var s=this.x,i=this.y,n=this.z,e=s*s+i*i+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=i*e,this.z=n*e),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},cross:function(s){var i=this.x,n=this.y,e=this.z,r=s.x,l=s.y,a=s.z;return this.x=n*a-e*l,this.y=e*r-i*a,this.z=i*l-n*r,this},lerp:function(s,i){i===void 0&&(i=0);var n=this.x,e=this.y,r=this.z;return this.x=n+i*(s.x-n),this.y=e+i*(s.y-e),this.z=r+i*(s.z-r),this},applyMatrix3:function(s){var i=this.x,n=this.y,e=this.z,r=s.val;return this.x=r[0]*i+r[3]*n+r[6]*e,this.y=r[1]*i+r[4]*n+r[7]*e,this.z=r[2]*i+r[5]*n+r[8]*e,this},applyMatrix4:function(s){var i=this.x,n=this.y,e=this.z,r=s.val,l=1/(r[3]*i+r[7]*n+r[11]*e+r[15]);return this.x=(r[0]*i+r[4]*n+r[8]*e+r[12])*l,this.y=(r[1]*i+r[5]*n+r[9]*e+r[13])*l,this.z=(r[2]*i+r[6]*n+r[10]*e+r[14])*l,this},transformMat3:function(s){var i=this.x,n=this.y,e=this.z,r=s.val;return this.x=i*r[0]+n*r[3]+e*r[6],this.y=i*r[1]+n*r[4]+e*r[7],this.z=i*r[2]+n*r[5]+e*r[8],this},transformMat4:function(s){var i=this.x,n=this.y,e=this.z,r=s.val;return this.x=r[0]*i+r[4]*n+r[8]*e+r[12],this.y=r[1]*i+r[5]*n+r[9]*e+r[13],this.z=r[2]*i+r[6]*n+r[10]*e+r[14],this},transformCoordinates:function(s){var i=this.x,n=this.y,e=this.z,r=s.val,l=i*r[0]+n*r[4]+e*r[8]+r[12],a=i*r[1]+n*r[5]+e*r[9]+r[13],h=i*r[2]+n*r[6]+e*r[10]+r[14],f=i*r[3]+n*r[7]+e*r[11]+r[15];return this.x=l/f,this.y=a/f,this.z=h/f,this},transformQuat:function(s){var i=this.x,n=this.y,e=this.z,r=s.x,l=s.y,a=s.z,h=s.w,f=h*i+l*e-a*n,u=h*n+a*i-r*e,d=h*e+r*n-l*i,m=-r*i-l*n-a*e;return this.x=f*h+m*-r+u*-a-d*-l,this.y=u*h+m*-l+d*-r-f*-a,this.z=d*h+m*-a+f*-l-u*-r,this},project:function(s){var i=this.x,n=this.y,e=this.z,r=s.val,l=r[0],a=r[1],h=r[2],f=r[3],u=r[4],d=r[5],m=r[6],x=r[7],S=r[8],T=r[9],C=r[10],A=r[11],b=r[12],R=r[13],F=r[14],L=r[15],O=1/(i*f+n*x+e*A+L);return this.x=(i*l+n*u+e*S+b)*O,this.y=(i*a+n*d+e*T+R)*O,this.z=(i*h+n*m+e*C+F)*O,this},projectViewMatrix:function(s,i){return this.applyMatrix4(s).applyMatrix4(i)},unprojectViewMatrix:function(s,i){return this.applyMatrix4(s).applyMatrix4(i)},unproject:function(s,i){var n=s.x,e=s.y,r=s.z,l=s.w,a=this.x-n,h=l-this.y-1-e,f=this.z;return this.x=2*a/r-1,this.y=2*h/l-1,this.z=2*f-1,this.project(i)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),c.exports=p},61369:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=n||0,this.z=e||0,this.w=r||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this.w=s.w||0,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z&&this.w===s.w},set:function(s,i,n,e){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=i||0,this.z=n||0,this.w=e||0),this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this.w+=s.w||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this.w-=s.w||0,this},scale:function(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this},length:function(){var s=this.x,i=this.y,n=this.z,e=this.w;return Math.sqrt(s*s+i*i+n*n+e*e)},lengthSq:function(){var s=this.x,i=this.y,n=this.z,e=this.w;return s*s+i*i+n*n+e*e},normalize:function(){var s=this.x,i=this.y,n=this.z,e=this.w,r=s*s+i*i+n*n+e*e;return r>0&&(r=1/Math.sqrt(r),this.x=s*r,this.y=i*r,this.z=n*r,this.w=e*r),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w},lerp:function(s,i){i===void 0&&(i=0);var n=this.x,e=this.y,r=this.z,l=this.w;return this.x=n+i*(s.x-n),this.y=e+i*(s.y-e),this.z=r+i*(s.z-r),this.w=l+i*(s.w-l),this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this.w*=s.w||1,this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this.w/=s.w||1,this},distance:function(s){var i=s.x-this.x,n=s.y-this.y,e=s.z-this.z||0,r=s.w-this.w||0;return Math.sqrt(i*i+n*n+e*e+r*r)},distanceSq:function(s){var i=s.x-this.x,n=s.y-this.y,e=s.z-this.z||0,r=s.w-this.w||0;return i*i+n*n+e*e+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(s){var i=this.x,n=this.y,e=this.z,r=this.w,l=s.val;return this.x=l[0]*i+l[4]*n+l[8]*e+l[12]*r,this.y=l[1]*i+l[5]*n+l[9]*e+l[13]*r,this.z=l[2]*i+l[6]*n+l[10]*e+l[14]*r,this.w=l[3]*i+l[7]*n+l[11]*e+l[15]*r,this},transformQuat:function(s){var i=this.x,n=this.y,e=this.z,r=s.x,l=s.y,a=s.z,h=s.w,f=h*i+l*e-a*n,u=h*n+a*i-r*e,d=h*e+r*n-l*i,m=-r*i-l*n-a*e;return this.x=f*h+m*-r+u*-a-d*-l,this.y=u*h+m*-l+d*-r-f*-a,this.z=d*h+m*-a+f*-l-u*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,c.exports=p},60417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return Math.abs(t-o)<=p};c.exports=y},15994:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=p-o;return o+((t-o)%s+s)%s};c.exports=y},31040:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){return Math.atan2(s-o,p-t)};c.exports=y},55495:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)};c.exports=y},128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.atan2(o.x-t.x,o.y-t.y)};c.exports=y},41273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){return Math.atan2(p-t,s-o)};c.exports=y},1432:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=function(s){return s>Math.PI&&(s-=o.PI2),Math.abs(((s+o.TAU)%o.PI2-o.PI2)%o.PI2)};c.exports=p},12407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};c.exports=y},53993:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),p=function(){return o(-Math.PI,Math.PI)};c.exports=p},86564:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),p=function(){return o(-180,180)};c.exports=p},90154:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(12407),p=function(s){return o(s+Math.PI)};c.exports=p},48736:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=function(s,i,n){return n===void 0&&(n=.05),s===i||(Math.abs(i-s)<=n||Math.abs(i-s)>=o.PI2-n?s=i:(Math.abs(i-s)>Math.PI&&(i<s?i+=o.PI2:i-=o.PI2),i>s?s+=n:i<s&&(s-=n))),s};c.exports=p},61430:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=o-t;if(p===0)return 0;var s=Math.floor((p- -180)/360);return p-s*360};c.exports=y},86554:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),p=function(s){return o(s,-Math.PI,Math.PI)};c.exports=p},30954:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),p=function(s){return o(s,-180,180)};c.exports=p},25588:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=y},20339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=t-p,n=o-s;return Math.sqrt(i*i+n*n)};c.exports=y},52816:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x-o.x,s=t.y-o.y;return Math.sqrt(p*p+s*s)};c.exports=y},64559:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x-o.x,s=t.y-o.y;return p*p+s*s};c.exports=y},82340:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){return Math.max(Math.abs(t-p),Math.abs(o-s))};c.exports=y},14390:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i){return i===void 0&&(i=2),Math.sqrt(Math.pow(p-t,i)+Math.pow(s-o,i))};c.exports=y},2243:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){return Math.abs(t-p)+Math.abs(o-s)};c.exports=y},89774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=t-p,n=o-s;return i*i+n*n};c.exports=y},50994:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54178),p=t(41521),s=t(79980),i=t(85433),n=t(99140),e=t(48857),r=t(81596),l=t(59133),a=t(98516),h=t(35248),f=t(82500),u=t(49752);c.exports={Power0:r,Power1:l.Out,Power2:i.Out,Power3:a.Out,Power4:h.Out,Linear:r,Quad:l.Out,Cubic:i.Out,Quart:a.Out,Quint:h.Out,Sine:f.Out,Expo:e.Out,Circ:s.Out,Elastic:n.Out,Back:o.Out,Bounce:p.Out,Stepped:u,"Quad.easeIn":l.In,"Cubic.easeIn":i.In,"Quart.easeIn":a.In,"Quint.easeIn":h.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":s.In,"Elastic.easeIn":n.In,"Back.easeIn":o.In,"Bounce.easeIn":p.In,"Quad.easeOut":l.Out,"Cubic.easeOut":i.Out,"Quart.easeOut":a.Out,"Quint.easeOut":h.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":n.Out,"Back.easeOut":o.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":i.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":p.InOut}},1639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1.70158),t*t*((o+1)*t-o)};c.exports=y},50099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1.70158);var p=o*1.525;return(t*=2)<1?.5*(t*t*((p+1)*t-p)):.5*((t-=2)*t*((p+1)*t+p)+2)};c.exports=y},41286:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1.70158),--t*t*((o+1)*t+o)+1};c.exports=y},54178:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};c.exports=y},41788:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=!1;return t<.5?(t=1-t*2,o=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,o?(1-t)*.5:t*.5+.5};c.exports=y},69905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};c.exports=y},41521:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.sqrt(1-t*t)};c.exports=y},4177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};c.exports=y},57512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(1- --t*t)};c.exports=y},79980:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t};c.exports=y},82820:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};c.exports=y},35033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t+1};c.exports=y},85433:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var s=p/4;return o<1?o=1:s=p*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p))};c.exports=y},50665:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var s=p/4;return o<1?o=1:s=p*Math.asin(1/o)/(2*Math.PI),(t*=2)<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p)):o*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p)*.5+1};c.exports=y},7744:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var s=p/4;return o<1?o=1:s=p*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/p)+1};c.exports=y},99140:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.pow(2,10*(t-1))-.001};c.exports=y},87844:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};c.exports=y},89433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.pow(2,-10*t)};c.exports=y},48857:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t};c.exports=y},81596:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(7147)},34826:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t};c.exports=y},20544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};c.exports=y},92029:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*(2-t)};c.exports=y},59133:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t};c.exports=y},78137:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};c.exports=y},45840:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1- --t*t*t*t};c.exports=y},98516:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t*t};c.exports=y},16509:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};c.exports=y},17868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t*t*t+1};c.exports=y},35248:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};c.exports=y},34025:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};c.exports=y},52768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};c.exports=y},82500:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1),t<=0?0:t>=1?1:((o*t|0)+1)*(1/o)};c.exports=y},49752:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(72251)},75698:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1e-4),Math.ceil(t-o)};c.exports=y},43855:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=1e-4),Math.abs(t-o)<p};c.exports=y},25777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1e-4),Math.floor(t+o)};c.exports=y},5470:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=1e-4),t>o-p};c.exports=y},94977:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=1e-4),t<o+p};c.exports=y},48379:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(79291),s={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};s=p(!1,s,o),c.exports=s},89318:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85710),p=function(s,i){for(var n=0,e=s.length-1,r=0;r<=e;r++)n+=Math.pow(1-i,e-r)*Math.pow(i,r)*s[r]*o(e,r);return n};c.exports=p},77259:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),p=function(s,i){var n=s.length-1,e=n*i,r=Math.floor(e);return s[0]===s[n]?(i<0&&(r=Math.floor(e=n*(1+i))),o(e-r,s[(r-1+n)%n],s[r],s[(r+1)%n],s[(r+2)%n])):i<0?s[0]-(o(-e,s[0],s[0],s[1],s[1])-s[0]):i>1?s[n]-(o(e-n,s[n],s[n],s[n-1],s[n-1])-s[n]):o(e-r,s[r?r-1:0],s[r],s[n<r+1?n:r+1],s[n<r+2?n:r+2])};c.exports=p},36316:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(i,n){var e=1-i;return e*e*e*n}function t(i,n){var e=1-i;return 3*e*e*i*n}function o(i,n){return 3*(1-i)*i*i*n}function p(i,n){return i*i*i*n}var s=function(i,n,e,r,l){return y(i,n)+t(i,e)+o(i,r)+p(i,l)};c.exports=s},28392:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),p=function(s,i){var n=s.length-1,e=n*i,r=Math.floor(e);return i<0?o(s[0],s[1],e):i>1?o(s[n],s[n-1],n-e):o(s[r],s[r+1>n?n:r+1],e-r)};c.exports=p},32112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(s,i){var n=1-s;return n*n*i}function t(s,i){return 2*(1-s)*s*i}function o(s,i){return s*s*i}var p=function(s,i,n,e){return y(s,i)+t(s,n)+o(s,e)};c.exports=p},47235:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),p=function(s,i,n){return i+(n-i)*o(s,0,1)};c.exports=p},50178:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),p=function(s,i,n){return i+(n-i)*o(s,0,1)};c.exports=p},38289:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=Math.log(t)/.6931471805599453;return 1<<Math.ceil(o)};c.exports=y},50030:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t>0&&(t&t-1)===0&&o>0&&(o&o-1)===0};c.exports=y},81230:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0&&(t&t-1)===0};c.exports=y},49001:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i){i===void 0&&(i=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],i&&this.init(i)},rnd:function(){var s=2091639*this.s0+this.c*23283064365386963e-26;return this.c=s|0,this.s0=this.s1,this.s1=this.s2,this.s2=s-this.c,this.s2},hash:function(s){var i,n=this.n;s=s.toString();for(var e=0;e<s.length;e++)n+=s.charCodeAt(e),i=.02519603282416938*n,n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(s){typeof s=="string"?this.state(s):this.sow(s)},sow:function(s){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!s)for(var i=0;i<s.length&&s[i]!=null;i++){var n=s[i];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(s,i){return Math.floor(this.realInRange(0,i-s+1)+s)},between:function(s,i){return Math.floor(this.realInRange(0,i-s+1)+s)},realInRange:function(s,i){return this.frac()*(i-s)+s},normal:function(){return 1-2*this.frac()},uuid:function(){var s="",i="";for(i=s="";s++<36;i+=~s%5|s*3&4?(s^15?8^this.frac()*(s^20?16:4):4).toString(16):"-");return i},pick:function(s){return s[this.integerInRange(0,s.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(s){return s[~~(Math.pow(this.frac(),2)*(s.length-.5)+.5)]},timestamp:function(s,i){return this.realInRange(s||9466848e5,i||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(s){return typeof s=="string"&&s.match(/^!rnd/)&&(s=s.split(","),this.c=parseFloat(s[1]),this.s0=parseFloat(s[2]),this.s1=parseFloat(s[3]),this.s2=parseFloat(s[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(s){for(var i=s.length-1,n=i;n>0;n--){var e=Math.floor(this.frac()*(n+1)),r=s[e];s[e]=s[n],s[n]=r}return s}});c.exports=p},63448:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){return p===void 0&&(p=0),o===0?t:(t-=p,t=o*Math.ceil(t/o),s?(p+t)/o:p+t)};c.exports=y},56583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){return p===void 0&&(p=0),o===0?t:(t-=p,t=o*Math.floor(t/o),s?(p+t)/o:p+t)};c.exports=y},77720:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){return p===void 0&&(p=0),o===0?t:(t-=p,t=o*Math.round(t/o),s?(p+t)/o:p+t)};c.exports=y},73697:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var o=t(8054),p=t(79291),s={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};s.Sound=t(23717),s=p(!1,s,o),c.exports=s,t.g.Phaser=s},71289:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92209),s=t(88571),i=new o({Extends:s,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,r,l,a,h){s.call(this,e,r,l,a,h),this.body=null}});c.exports=i},86689:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(39506),s=t(20339),i=t(89774),n=t(66022),e=t(95540),r=t(46975),l=t(72441),a=t(47956),h=t(37277),f=t(44594),u=t(26099),d=t(82248),m=new o({initialize:function(S){this.scene=S,this.systems=S.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,S.sys.events.once(f.BOOT,this.boot,this),S.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new n(this.world));var x=this.systems.events;e(this.config,"customUpdate",!1)||x.on(f.UPDATE,this.world.update,this.world),x.on(f.POST_UPDATE,this.world.postUpdate,this.world),x.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var x=this.systems.game.config.physics,S=this.systems.settings.physics,T=r(e(S,"arcade",{}),e(x,"arcade",{}));return T},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(x,S,T,C,A){return T===void 0&&(T=null),C===void 0&&(C=null),A===void 0&&(A=T),this.world.collideObjects(x,S,T,C,A,!0)},collide:function(x,S,T,C,A){return T===void 0&&(T=null),C===void 0&&(C=null),A===void 0&&(A=T),this.world.collideObjects(x,S,T,C,A,!1)},collideTiles:function(x,S,T,C,A){return this.world.collideTiles(x,S,T,C,A)},overlapTiles:function(x,S,T,C,A){return this.world.overlapTiles(x,S,T,C,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(x,S,T,C,A,b){C===void 0&&(C=60);var R=Math.atan2(T-x.y,S-x.x);return x.body.acceleration.setToPolar(R,C),A!==void 0&&b!==void 0&&x.body.maxVelocity.set(A,b),R},accelerateToObject:function(x,S,T,C,A){return this.accelerateTo(x,S.x,S.y,T,C,A)},closest:function(x,S){S||(S=this.world.bodies.entries);for(var T=Number.MAX_VALUE,C=null,A=x.x,b=x.y,R=S.length,F=0;F<R;F++){var L=S[F],O=L.body||L;if(!(x===L||x===O||x===O.gameObject||x===O.center)){var I=i(A,b,O.center.x,O.center.y);I<T&&(C=L,T=I)}}return C},furthest:function(x,S){S||(S=this.world.bodies.entries);for(var T=-1,C=null,A=x.x,b=x.y,R=S.length,F=0;F<R;F++){var L=S[F],O=L.body||L;if(!(x===L||x===O||x===O.gameObject||x===O.center)){var I=i(A,b,O.center.x,O.center.y);I>T&&(C=L,T=I)}}return C},moveTo:function(x,S,T,C,A){C===void 0&&(C=60),A===void 0&&(A=0);var b=Math.atan2(T-x.y,S-x.x);return A>0&&(C=s(x.x,x.y,S,T)/(A/1e3)),x.body.velocity.setToPolar(b,C),b},moveToObject:function(x,S,T,C){return this.moveTo(x,S.x,S.y,T,C)},velocityFromAngle:function(x,S,T){return S===void 0&&(S=60),T===void 0&&(T=new u),T.setToPolar(p(x),S)},velocityFromRotation:function(x,S,T){return S===void 0&&(S=60),T===void 0&&(T=new u),T.setToPolar(x,S)},overlapRect:function(x,S,T,C,A,b){return a(this.world,x,S,T,C,A,b)},overlapCirc:function(x,S,T,C,A){return l(this.world,x,S,T,C,A)},shutdown:function(){if(this.world){var x=this.systems.events;x.off(f.UPDATE,this.world.update,this.world),x.off(f.POST_UPDATE,this.world.postUpdate,this.world),x.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",m,"arcadePhysics"),c.exports=m},13759:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92209),s=t(68287),i=new o({Extends:s,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,r,l,a,h){s.call(this,e,r,l,a,h),this.body=null}});c.exports=i},37742:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(78389),s=t(37747),i=t(63012),n=t(43396),e=t(87841),r=t(37303),l=t(95829),a=t(26099),h=new o({Mixins:[p],initialize:function(u,d){var m=64,x=64,S={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=d!==void 0;T&&d.displayWidth&&(m=d.displayWidth,x=d.displayHeight),T||(d=S),this.world=u,this.gameObject=T?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=u.defaults.debugShowBody,this.debugShowVelocity=u.defaults.debugShowVelocity,this.debugBodyColor=u.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=m,this.height=x,this.sourceWidth=m,this.sourceHeight=x,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(x/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new a,this.newVelocity=new a,this.deltaMax=new a,this.acceleration=new a,this.allowDrag=!0,this.drag=new a,this.allowGravity=!0,this.gravity=new a,this.bounce=new a,this.worldBounce=null,this.customBoundsRectangle=u.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a(1e4,1e4),this.maxSpeed=-1,this.friction=new a(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=s.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new a(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,u=this.transform;if(f.parentContainer){var d=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);u.x=d.tx,u.y=d.ty,u.rotation=n(d.rotation),u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.displayOriginX=f.displayOriginX,u.displayOriginY=f.displayOriginY}else u.x=f.x,u.y=f.y,u.rotation=f.angle,u.scaleX=f.scaleX,u.scaleY=f.scaleY,u.displayOriginX=f.displayOriginX,u.displayOriginY=f.displayOriginY;var m=!1;if(this.syncBounds){var x=f.getBounds(this._bounds);this.width=x.width,this.height=x.height,m=!0}else{var S=Math.abs(u.scaleX),T=Math.abs(u.scaleY);(this._sx!==S||this._sy!==T)&&(this.width=this.sourceWidth*S,this.height=this.sourceHeight*T,this._sx=S,this._sy=T,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var u=this.wasTouching,d=this.touching,m=this.blocked;f?l(!0,u):(u.none=d.none,u.up=d.up,u.down=d.down,u.left=d.left,u.right=d.right),l(!0,d),l(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,u){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}f&&this.update(u)},update:function(f){var u=this.prev,d=this.position,m=this.velocity;if(u.set(d.x,d.y),!this.moves){this._dx=d.x-u.x,this._dy=d.y-u.y;return}if(this.directControl){var x=this.autoFrame;m.set((d.x-x.x)/f,(d.y-x.y)/f),this.world.updateMotion(this,f),this._dx=d.x-x.x,this._dy=d.y-x.y}else this.world.updateMotion(this,f),this.newVelocity.set(m.x*f,m.y*f),d.add(this.newVelocity),this._dx=d.x-u.x,this._dy=d.y-u.y;var S=m.x,T=m.y;if(this.updateCenter(),this.angle=Math.atan2(T,S),this.speed=Math.sqrt(S*S+T*T),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var C=this.blocked;this.world.emit(i.WORLD_BOUNDS,this,C.up,C.down,C.left,C.right)}},postUpdate:function(){var f=this.position,u=f.x-this.prevFrame.x,d=f.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var x=this.deltaMax.x,S=this.deltaMax.y;x!==0&&u!==0&&(u<0&&u<-x?u=-x:u>0&&u>x&&(u=x)),S!==0&&d!==0&&(d<0&&d<-S?d=-S:d>0&&d>S&&(d=S)),m&&(m.x+=u,m.y+=d)}u<0?this.facing=s.FACING_LEFT:u>0&&(this.facing=s.FACING_RIGHT),d<0?this.facing=s.FACING_UP:d>0&&(this.facing=s.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=u,this._ty=d,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,u=this.velocity,d=this.blocked,m=this.customBoundsRectangle,x=this.world.checkCollision,S=this.worldBounce?-this.worldBounce.x:-this.bounce.x,T=this.worldBounce?-this.worldBounce.y:-this.bounce.y,C=!1;return f.x<m.x&&x.left?(f.x=m.x,u.x*=S,d.left=!0,C=!0):this.right>m.right&&x.right&&(f.x=m.right-this.width,u.x*=S,d.right=!0,C=!0),f.y<m.y&&x.up?(f.y=m.y,u.y*=T,d.up=!0,C=!0):this.bottom>m.bottom&&x.down&&(f.y=m.bottom-this.height,u.y*=T,d.down=!0,C=!0),C&&(this.blocked.none=!1,this.updateCenter()),C},setOffset:function(f,u){return u===void 0&&(u=f),this.offset.set(f,u),this},setGameObject:function(f,u){return u===void 0&&(u=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=f,f.body&&(f.body=this),this.setSize(),this.world.add(this),this.enable=u,this},setSize:function(f,u,d){d===void 0&&(d=!0);var m=this.gameObject;if(m&&(!f&&m.frame&&(f=m.frame.realWidth),!u&&m.frame&&(u=m.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=u,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&m&&m.getCenter){var x=(m.width-f)/2,S=(m.height-u)/2;this.offset.set(x,S)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,u,d){return u===void 0&&(u=this.offset.x),d===void 0&&(d=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,d),this.updateCenter()):this.isCircle=!1,this},reset:function(f,u){this.stop();var d=this.gameObject;d&&(d.setPosition(f,u),this.rotation=d.angle,this.preRotation=d.angle);var m=this.position;d&&d.getTopLeft?d.getTopLeft(m):m.set(f,u),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,u){if(!this.isCircle)return r(this,f,u);if(this.radius>0&&f>=this.left&&f<=this.right&&u>=this.top&&u<=this.bottom){var d=(this.center.x-f)*(this.center.x-f),m=(this.center.y-u)*(this.center.y-u);return d+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var u=this.position,d=u.x+this.halfWidth,m=u.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(d,m,this.width/2):(this.checkCollision.up&&f.lineBetween(u.x,u.y,u.x+this.width,u.y),this.checkCollision.right&&f.lineBetween(u.x+this.width,u.y,u.x+this.width,u.y+this.height),this.checkCollision.down&&f.lineBetween(u.x,u.y+this.height,u.x+this.width,u.y+this.height),this.checkCollision.left&&f.lineBetween(u.x,u.y,u.x,u.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(d,m,d+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,u,d,m){f===void 0&&(f=!0),this.collideWorldBounds=f;var x=u!==void 0,S=d!==void 0;return(x||S)&&(this.worldBounce||(this.worldBounce=new a),x&&(this.worldBounce.x=u),S&&(this.worldBounce.y=d)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(f,u){return this.velocity.set(f,u),f=this.velocity.x,u=this.velocity.y,this.speed=Math.sqrt(f*f+u*u),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,u){return this.maxVelocity.set(f,u),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,u){return this.slideFactor.set(f,u),this},setBounce:function(f,u){return this.bounce.set(f,u),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,u){return this.acceleration.set(f,u),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,u){return this.drag.set(f,u),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,u){return this.gravity.set(f,u),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,u){return this.friction.set(f,u),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,u,d,m){this.x+=f,this.updateCenter(),u!==null&&(this.velocity.x=u*this.slideFactor.x);var x=this.blocked;d&&(x.left=!0,x.none=!1),m&&(x.right=!0,x.none=!1)},processY:function(f,u,d,m){this.y+=f,this.updateCenter(),u!==null&&(this.velocity.y=u*this.slideFactor.y);var x=this.blocked;d&&(x.up=!0,x.none=!1),m&&(x.down=!0,x.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=h},79342:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e,r,l,a,h){this.world=i,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=r,this.collideCallback=l,this.processCallback=a,this.callbackContext=h},setName:function(s){return this.name=s,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=p},66022:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71289),p=t(13759),s=t(37742),i=t(83419),n=t(37747),e=t(60758),r=t(72624),l=t(71464),a=new i({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(h,f,u,d,m){return this.world.addCollider(h,f,u,d,m)},overlap:function(h,f,u,d,m){return this.world.addOverlap(h,f,u,d,m)},existing:function(h,f){var u=f?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(h,u),h},staticImage:function(h,f,u,d){var m=new o(this.scene,h,f,u,d);return this.sys.displayList.add(m),this.world.enableBody(m,n.STATIC_BODY),m},image:function(h,f,u,d){var m=new o(this.scene,h,f,u,d);return this.sys.displayList.add(m),this.world.enableBody(m,n.DYNAMIC_BODY),m},staticSprite:function(h,f,u,d){var m=new p(this.scene,h,f,u,d);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,n.STATIC_BODY),m},sprite:function(h,f,u,d){var m=new p(this.scene,h,f,u,d);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,n.DYNAMIC_BODY),m},staticGroup:function(h,f){return this.sys.updateList.add(new l(this.world,this.world.scene,h,f))},group:function(h,f){return this.sys.updateList.add(new e(this.world,this.world.scene,h,f))},body:function(h,f,u,d){var m=new s(this.world);return m.position.set(h,f),u&&d&&m.setSize(u,d),this.world.add(m,n.DYNAMIC_BODY),m},staticBody:function(h,f,u,d){var m=new r(this.world);return m.position.set(h,f),u&&d&&m.setSize(u,d),this.world.add(m,n.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=a},79599:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=0;if(!Array.isArray(t))o=t;else for(var p=0;p<t.length;p++)o|=t[p];return o};c.exports=y},64897:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),p=function(s,i,n,e){var r=0,l=s.deltaAbsX()+i.deltaAbsX()+e;return s._dx===0&&i._dx===0?(s.embedded=!0,i.embedded=!0):s._dx>i._dx?(r=s.right-i.x,r>l&&!n||s.checkCollision.right===!1||i.checkCollision.left===!1?r=0:(s.touching.none=!1,s.touching.right=!0,i.touching.none=!1,i.touching.left=!0,i.physicsType===o.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.right=!0),s.physicsType===o.STATIC_BODY&&!n&&(i.blocked.none=!1,i.blocked.left=!0))):s._dx<i._dx&&(r=s.x-i.width-i.x,-r>l&&!n||s.checkCollision.left===!1||i.checkCollision.right===!1?r=0:(s.touching.none=!1,s.touching.left=!0,i.touching.none=!1,i.touching.right=!0,i.physicsType===o.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.left=!0),s.physicsType===o.STATIC_BODY&&!n&&(i.blocked.none=!1,i.blocked.right=!0))),s.overlapX=r,i.overlapX=r,r};c.exports=p},45170:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),p=function(s,i,n,e){var r=0,l=s.deltaAbsY()+i.deltaAbsY()+e;return s._dy===0&&i._dy===0?(s.embedded=!0,i.embedded=!0):s._dy>i._dy?(r=s.bottom-i.y,r>l&&!n||s.checkCollision.down===!1||i.checkCollision.up===!1?r=0:(s.touching.none=!1,s.touching.down=!0,i.touching.none=!1,i.touching.up=!0,i.physicsType===o.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.down=!0),s.physicsType===o.STATIC_BODY&&!n&&(i.blocked.none=!1,i.blocked.up=!0))):s._dy<i._dy&&(r=s.y-i.bottom,-r>l&&!n||s.checkCollision.up===!1||i.checkCollision.down===!1?r=0:(s.touching.none=!1,s.touching.up=!0,i.touching.none=!1,i.touching.down=!0,i.physicsType===o.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.up=!0),s.physicsType===o.STATIC_BODY&&!n&&(i.blocked.none=!1,i.blocked.down=!0))),s.overlapY=r,i.overlapY=r,r};c.exports=p},60758:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),p=t(83419),s=t(78389),i=t(37747),n=t(95540),e=t(26479),r=t(41212),l=new p({Extends:e,Mixins:[s],initialize:function(h,f,u,d){if(!u&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(r(u))d=u,u=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(u)&&r(u[0])){var m=this;u.forEach(function(x){x.internalCreateCallback=m.createCallbackHandler,x.internalRemoveCallback=m.removeCallbackHandler,x.classType=n(x,"classType",o)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,d&&(d.classType=n(d,"classType",o)),this.physicsType=i.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:n(d,"collideWorldBounds",!1),setBoundsRectangle:n(d,"customBoundsRectangle",null),setAccelerationX:n(d,"accelerationX",0),setAccelerationY:n(d,"accelerationY",0),setAllowDrag:n(d,"allowDrag",!0),setAllowGravity:n(d,"allowGravity",!0),setAllowRotation:n(d,"allowRotation",!0),setDamping:n(d,"useDamping",!1),setBounceX:n(d,"bounceX",0),setBounceY:n(d,"bounceY",0),setDragX:n(d,"dragX",0),setDragY:n(d,"dragY",0),setEnable:n(d,"enable",!0),setGravityX:n(d,"gravityX",0),setGravityY:n(d,"gravityY",0),setFrictionX:n(d,"frictionX",0),setFrictionY:n(d,"frictionY",0),setMaxSpeed:n(d,"maxSpeed",-1),setMaxVelocityX:n(d,"maxVelocityX",1e4),setMaxVelocityY:n(d,"maxVelocityY",1e4),setVelocityX:n(d,"velocityX",0),setVelocityY:n(d,"velocityY",0),setAngularVelocity:n(d,"angularVelocity",0),setAngularAcceleration:n(d,"angularAcceleration",0),setAngularDrag:n(d,"angularDrag",0),setMass:n(d,"mass",1),setImmovable:n(d,"immovable",!1)},e.call(this,f,u,d),this.type="PhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,i.DYNAMIC_BODY);var h=a.body;for(var f in this.defaults)h[f](this.defaults[f])},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},setVelocity:function(a,h,f){f===void 0&&(f=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.set(a+d*f,h+d*f);return this},setVelocityX:function(a,h){h===void 0&&(h=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.x=a+u*h;return this},setVelocityY:function(a,h){h===void 0&&(h=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.y=a+u*h;return this}});c.exports=l},3017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,o,p,s,i,n,e,r,l,a,h,f,u,d,m,x,S=function(F,L,O){y=F,t=L;var I=y.velocity.x,B=t.velocity.x;return o=y.pushable,r=y._dx<0,l=y._dx>0,a=y._dx===0,d=Math.abs(y.right-t.x)<=Math.abs(t.right-y.x),n=B-I*y.bounce.x,p=t.pushable,h=t._dx<0,f=t._dx>0,u=t._dx===0,m=!d,e=I-B*t.bounce.x,x=Math.abs(O),T()},T=function(){return l&&d&&t.blocked.right?(y.processX(-x,n,!1,!0),1):r&&m&&t.blocked.left?(y.processX(x,n,!0),1):f&&m&&y.blocked.right?(t.processX(-x,e,!1,!0),2):h&&d&&y.blocked.left?(t.processX(x,e,!0),2):0},C=function(){var F=y.velocity.x,L=t.velocity.x,O=Math.sqrt(L*L*t.mass/y.mass)*(L>0?1:-1),I=Math.sqrt(F*F*y.mass/t.mass)*(F>0?1:-1),B=(O+I)*.5;return O-=B,I-=B,s=B+O*y.bounce.x,i=B+I*t.bounce.x,r&&m?A(0):h&&d?A(1):l&&d?A(2):f&&m?A(3):!1},A=function(F){if(o&&p)x*=.5,F===0||F===3?(y.processX(x,s),t.processX(-x,i)):(y.processX(-x,s),t.processX(x,i));else if(o&&!p)F===0||F===3?y.processX(x,n,!0):y.processX(-x,n,!1,!0);else if(!o&&p)F===0||F===3?t.processX(-x,e,!1,!0):t.processX(x,e,!0);else{var L=x*.5;F===0?u?(y.processX(x,0,!0),t.processX(0,null,!1,!0)):f?(y.processX(L,0,!0),t.processX(-L,0,!1,!0)):(y.processX(L,t.velocity.x,!0),t.processX(-L,null,!1,!0)):F===1?a?(y.processX(0,null,!1,!0),t.processX(x,0,!0)):l?(y.processX(-L,0,!1,!0),t.processX(L,0,!0)):(y.processX(-L,null,!1,!0),t.processX(L,y.velocity.x,!0)):F===2?u?(y.processX(-x,0,!1,!0),t.processX(0,null,!0)):h?(y.processX(-L,0,!1,!0),t.processX(L,0,!0)):(y.processX(-L,t.velocity.x,!1,!0),t.processX(L,null,!0)):F===3&&(a?(y.processX(0,null,!0),t.processX(-x,0,!1,!0)):r?(y.processX(L,0,!0),t.processX(-L,0,!1,!0)):(y.processX(L,t.velocity.y,!0),t.processX(-L,null,!1,!0)))}return!0},b=function(F){F===1?t.velocity.x=0:d?t.processX(x,e,!0):t.processX(-x,e,!1,!0),y.moves&&(t.y+=(y.y-y.prev.y)*y.friction.y,t._dy=t.y-t.prev.y)},R=function(F){F===2?y.velocity.x=0:m?y.processX(x,n,!0):y.processX(-x,n,!1,!0),t.moves&&(y.y+=(t.y-t.prev.y)*t.friction.y,y._dy=y.y-y.prev.y)};c.exports={BlockCheck:T,Check:C,Set:S,Run:A,RunImmovableBody1:b,RunImmovableBody2:R}},47962:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,o,p,s,i,n,e,r,l,a,h,f,u,d,m,x,S=function(F,L,O){y=F,t=L;var I=y.velocity.y,B=t.velocity.y;return o=y.pushable,r=y._dy<0,l=y._dy>0,a=y._dy===0,d=Math.abs(y.bottom-t.y)<=Math.abs(t.bottom-y.y),n=B-I*y.bounce.y,p=t.pushable,h=t._dy<0,f=t._dy>0,u=t._dy===0,m=!d,e=I-B*t.bounce.y,x=Math.abs(O),T()},T=function(){return l&&d&&t.blocked.down?(y.processY(-x,n,!1,!0),1):r&&m&&t.blocked.up?(y.processY(x,n,!0),1):f&&m&&y.blocked.down?(t.processY(-x,e,!1,!0),2):h&&d&&y.blocked.up?(t.processY(x,e,!0),2):0},C=function(){var F=y.velocity.y,L=t.velocity.y,O=Math.sqrt(L*L*t.mass/y.mass)*(L>0?1:-1),I=Math.sqrt(F*F*y.mass/t.mass)*(F>0?1:-1),B=(O+I)*.5;return O-=B,I-=B,s=B+O*y.bounce.y,i=B+I*t.bounce.y,r&&m?A(0):h&&d?A(1):l&&d?A(2):f&&m?A(3):!1},A=function(F){if(o&&p)x*=.5,F===0||F===3?(y.processY(x,s),t.processY(-x,i)):(y.processY(-x,s),t.processY(x,i));else if(o&&!p)F===0||F===3?y.processY(x,n,!0):y.processY(-x,n,!1,!0);else if(!o&&p)F===0||F===3?t.processY(-x,e,!1,!0):t.processY(x,e,!0);else{var L=x*.5;F===0?u?(y.processY(x,0,!0),t.processY(0,null,!1,!0)):f?(y.processY(L,0,!0),t.processY(-L,0,!1,!0)):(y.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)):F===1?a?(y.processY(0,null,!1,!0),t.processY(x,0,!0)):l?(y.processY(-L,0,!1,!0),t.processY(L,0,!0)):(y.processY(-L,null,!1,!0),t.processY(L,y.velocity.y,!0)):F===2?u?(y.processY(-x,0,!1,!0),t.processY(0,null,!0)):h?(y.processY(-L,0,!1,!0),t.processY(L,0,!0)):(y.processY(-L,t.velocity.y,!1,!0),t.processY(L,null,!0)):F===3&&(a?(y.processY(0,null,!0),t.processY(-x,0,!1,!0)):r?(y.processY(L,0,!0),t.processY(-L,0,!1,!0)):(y.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)))}return!0},b=function(F){F===1?t.velocity.y=0:d?t.processY(x,e,!0):t.processY(-x,e,!1,!0),y.moves&&(t.x+=(y.x-y.prev.x)*y.friction.x,t._dx=t.x-t.prev.x)},R=function(F){F===2?y.velocity.y=0:m?y.processY(x,n,!0):y.processY(-x,n,!1,!0),t.moves&&(y.x+=(t.x-t.prev.x)*t.friction.x,y._dx=y.x-y.prev.x)};c.exports={BlockCheck:T,Check:C,Set:S,Run:A,RunImmovableBody1:b,RunImmovableBody2:R}},14087:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64897),p=t(3017),s=function(i,n,e,r,l){l===void 0&&(l=o(i,n,e,r));var a=i.immovable,h=n.immovable;if(e||l===0||a&&h||i.customSeparateX||n.customSeparateX)return l!==0||i.embedded&&n.embedded;var f=p.Set(i,n,l);return!a&&!h?f>0?!0:p.Check():(a?p.RunImmovableBody1(f):h&&p.RunImmovableBody2(f),!0)};c.exports=s},89936:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45170),p=t(47962),s=function(i,n,e,r,l){l===void 0&&(l=o(i,n,e,r));var a=i.immovable,h=n.immovable;if(e||l===0||a&&h||i.customSeparateY||n.customSeparateY)return l!==0||i.embedded&&n.embedded;var f=p.Set(i,n,l);return!a&&!h?f>0?!0:p.Check():(a?p.RunImmovableBody1(f):h&&p.RunImmovableBody2(f),!0)};c.exports=s},95829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o={}),o.none=t,o.up=!1,o.down=!1,o.left=!1,o.right=!1,t||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};c.exports=y},72624:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),p=t(83419),s=t(78389),i=t(37747),n=t(37303),e=t(95829),r=t(26099),l=new p({Mixins:[s],initialize:function(h,f){var u=64,d=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=f!==void 0;x&&f.displayWidth&&(u=f.displayWidth,d=f.displayHeight),x||(f=m),this.world=h,this.gameObject=x?f:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(f.x-u*f.originX,f.y-d*f.originY),this.width=u,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=i.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(a,h){return a&&a!==this.gameObject&&(this.gameObject.body=null,a.body=this,this.gameObject=a),h&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var a=this.gameObject;return a.getTopLeft(this.position),this.width=a.displayWidth,this.height=a.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(a,h){return h===void 0&&(h=a),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(a,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(a,h,f){f===void 0&&(f=!0);var u=this.gameObject;if(u&&u.frame&&(a||(a=u.frame.realWidth),h||(h=u.frame.realHeight)),this.world.staticTree.remove(this),this.width=a,this.height=h,this.halfWidth=Math.floor(a/2),this.halfHeight=Math.floor(h/2),f&&u&&u.getCenter){var d=u.displayWidth/2,m=u.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(a,h,f){return h===void 0&&(h=this.offset.x),f===void 0&&(f=this.offset.y),a>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=a,this.width=a*2,this.height=a*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(a,h){var f=this.gameObject;a===void 0&&(a=f.x),h===void 0&&(h=f.y),this.world.staticTree.remove(this),f.setPosition(a,h),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,h){return this.isCircle?o(this,a,h):n(this,a,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(a){var h=this.position,f=h.x+this.halfWidth,u=h.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?a.strokeCircle(f,u,this.width/2):a.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(a){return a<=0&&(a=.1),this.mass=a,this},x:{get:function(){return this.position.x},set:function(a){this.world.staticTree.remove(this),this.position.x=a,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(a){this.world.staticTree.remove(this),this.position.y=a,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},71464:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),p=t(83419),s=t(78389),i=t(37747),n=t(95540),e=t(26479),r=t(41212),l=new p({Extends:e,Mixins:[s],initialize:function(h,f,u,d){!u&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:r(u)?(d=u,u=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=n(d,"classType",o)):Array.isArray(u)&&r(u[0])?(d=u,u=null,d.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=n(m,"classType",o)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=i.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,u,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,i.STATIC_BODY)},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var a=this.children.entries,h=0;h<a.length;h++)a[h].body.reset();return this}});c.exports=l},82248:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55495),p=t(37742),s=t(45319),i=t(83419),n=t(79342),e=t(37747),r=t(20339),l=t(52816),a=t(50792),h=t(63012),f=t(43855),u=t(5470),d=t(94977),m=t(64897),x=t(45170),S=t(96523),T=t(35154),C=t(36383),A=t(25774),b=t(96602),R=t(87841),F=t(59542),L=t(40012),O=t(14087),I=t(89936),B=t(35072),U=t(72624),H=t(2483),J=t(61340),tt=t(26099),X=t(15994),j=new i({Extends:a,initialize:function(z,$){a.call(this),this.scene=z,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new A,this.gravity=new tt(T($,"gravity.x",0),T($,"gravity.y",0)),this.bounds=new R(T($,"x",0),T($,"y",0),T($,"width",z.sys.scale.width),T($,"height",z.sys.scale.height)),this.checkCollision={up:T($,"checkCollision.up",!0),down:T($,"checkCollision.down",!0),left:T($,"checkCollision.left",!0),right:T($,"checkCollision.right",!0)},this.fps=T($,"fps",60),this.fixedStep=T($,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T($,"timeScale",1),this.OVERLAP_BIAS=T($,"overlapBias",4),this.TILE_BIAS=T($,"tileBias",16),this.forceX=T($,"forceX",!1),this.isPaused=T($,"isPaused",!1),this._total=0,this.drawDebug=T($,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T($,"debugShowBody",!0),debugShowStaticBody:T($,"debugShowStaticBody",!0),debugShowVelocity:T($,"debugShowVelocity",!0),bodyDebugColor:T($,"debugBodyColor",16711935),staticBodyDebugColor:T($,"debugStaticBodyColor",255),velocityDebugColor:T($,"debugVelocityColor",65280)},this.maxEntries=T($,"maxEntries",16),this.useTree=T($,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new J,this._tempMatrix2=new J,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,z){z===void 0&&(z=e.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var $=0;$<D.length;$++){var K=D[$];if(K.isParent)for(var Z=K.getChildren(),it=0;it<Z.length;it++){var st=Z[it];st.isParent?this.enable(st,z):this.enableBody(st,z)}else this.enableBody(K,z)}},enableBody:function(D,z){return z===void 0&&(z=e.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(z===e.DYNAMIC_BODY?D.body=new p(this,D):z===e.STATIC_BODY&&(D.body=new U(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===e.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===e.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var z=0;z<D.length;z++){var $=D[z];if($.isParent)for(var K=$.getChildren(),Z=0;Z<K.length;Z++){var it=K[Z];it.isParent?this.disable(it):this.disableBody(it.body)}else this.disableBody($.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===e.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,z,$,K,Z,it,st,at){return this.bounds.setTo(D,z,$,K),Z!==void 0&&this.setBoundsCollision(Z,it,st,at),this},setBoundsCollision:function(D,z,$,K){return D===void 0&&(D=!0),z===void 0&&(z=!0),$===void 0&&($=!0),K===void 0&&(K=!0),this.checkCollision.left=D,this.checkCollision.right=z,this.checkCollision.up=$,this.checkCollision.down=K,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(D,z,$,K,Z){$===void 0&&($=null),K===void 0&&(K=null),Z===void 0&&(Z=$);var it=new n(this,!1,D,z,$,K,Z);return this.colliders.add(it),it},addOverlap:function(D,z,$,K,Z){$===void 0&&($=null),K===void 0&&(K=null),Z===void 0&&(Z=$);var it=new n(this,!0,D,z,$,K,Z);return this.colliders.add(it),it},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,z){if(!(this.isPaused||this.bodies.size===0)){var $,K=this._frameTime,Z=this._frameTimeMS*this.timeScale;this._elapsed+=z;var it,st=this.bodies.entries,at=this._elapsed>=Z;for(this.fixedStep||(K=z*.001,at=!0,this._elapsed=0),$=0;$<st.length;$++)it=st[$],it.enable&&it.preUpdate(at,K);if(at){this._elapsed-=Z,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(st));var ut=this.colliders.update();for($=0;$<ut.length;$++){var vt=ut[$];vt.active&&vt.update()}this.emit(h.WORLD_STEP,K)}for(;this._elapsed>=Z;)this._elapsed-=Z,this.step(K)}},step:function(D){var z,$,K=this.bodies.entries,Z=K.length;for(z=0;z<Z;z++)$=K[z],$.enable&&$.update(D);this.useTree&&(this.tree.clear(),this.tree.load(K));var it=this.colliders.update();for(z=0;z<it.length;z++){var st=it[z];st.active&&st.update()}this.emit(h.WORLD_STEP,D),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var D,z,$=this.bodies.entries,K=$.length,Z=this.bodies,it=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<K;D++)z=$[D],z.enable&&z.postUpdate();if(this.drawDebug){var st=this.debugGraphic;for(st.clear(),D=0;D<K;D++)z=$[D],z.willDrawDebug()&&z.drawDebug(st);for($=it.entries,K=$.length,D=0;D<K;D++)z=$[D],z.willDrawDebug()&&z.drawDebug(st)}var at=this.pendingDestroy;if(at.size>0){var ut=this.tree,vt=this.staticTree;for($=at.entries,K=$.length,D=0;D<K;D++)z=$[D],z.physicsType===e.DYNAMIC_BODY?(ut.remove(z),Z.delete(z)):z.physicsType===e.STATIC_BODY&&(vt.remove(z),it.delete(z)),z.world=void 0,z.gameObject=void 0;at.clear()}},updateMotion:function(D,z){D.allowRotation&&this.computeAngularVelocity(D,z),this.computeVelocity(D,z)},computeAngularVelocity:function(D,z){var $=D.angularVelocity,K=D.angularAcceleration,Z=D.angularDrag,it=D.maxAngular;K?$+=K*z:D.allowDrag&&Z&&(Z*=z,u($-Z,0,.1)?$-=Z:d($+Z,0,.1)?$+=Z:$=0),$=s($,-it,it);var st=$-D.angularVelocity;D.angularVelocity+=st,D.rotation+=D.angularVelocity*z},computeVelocity:function(D,z){var $=D.velocity.x,K=D.acceleration.x,Z=D.drag.x,it=D.maxVelocity.x,st=D.velocity.y,at=D.acceleration.y,ut=D.drag.y,vt=D.maxVelocity.y,xt=D.speed,Et=D.maxSpeed,yt=D.allowDrag,bt=D.useDamping;D.allowGravity&&($+=(this.gravity.x+D.gravity.x)*z,st+=(this.gravity.y+D.gravity.y)*z),K?$+=K*z:yt&&Z&&(bt?(Z=Math.pow(Z,z),$*=Z,xt=Math.sqrt($*$+st*st),f(xt,0,.001)&&($=0)):(Z*=z,u($-Z,0,.01)?$-=Z:d($+Z,0,.01)?$+=Z:$=0)),at?st+=at*z:yt&&ut&&(bt?(ut=Math.pow(ut,z),st*=ut,xt=Math.sqrt($*$+st*st),f(xt,0,.001)&&(st=0)):(ut*=z,u(st-ut,0,.01)?st-=ut:d(st+ut,0,.01)?st+=ut:st=0)),$=s($,-it,it),st=s(st,-vt,vt),D.velocity.set($,st),Et>-1&&D.velocity.length()>Et&&(D.velocity.normalize().scale(Et),xt=Et),D.speed=xt},separate:function(D,z,$,K,Z){var it,st,at=!1,ut=!0;if(!D.enable||!z.enable||D.checkCollision.none||z.checkCollision.none||!this.intersects(D,z)||$&&$.call(K,D.gameObject,z.gameObject)===!1)return at;if(D.isCircle||z.isCircle){var vt=this.separateCircle(D,z,Z);vt.result?(at=!0,ut=!1):(it=vt.x,st=vt.y,ut=!0)}if(ut){var xt=!1,Et=!1,yt=this.OVERLAP_BIAS;Z?(xt=O(D,z,Z,yt,it),Et=I(D,z,Z,yt,st)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(xt=O(D,z,Z,yt,it),this.intersects(D,z)&&(Et=I(D,z,Z,yt,st))):(Et=I(D,z,Z,yt,st),this.intersects(D,z)&&(xt=O(D,z,Z,yt,it))),at=xt||Et}return at&&(Z?(D.onOverlap||z.onOverlap)&&this.emit(h.OVERLAP,D.gameObject,z.gameObject,D,z):(D.onCollide||z.onCollide)&&this.emit(h.COLLIDE,D.gameObject,z.gameObject,D,z)),at},separateCircle:function(D,z,$){m(D,z,!1,0),x(D,z,!1,0);var K=D.isCircle,Z=z.isCircle,it=D.center,st=z.center,at=D.immovable,ut=z.immovable,vt=D.velocity,xt=z.velocity,Et=0,yt=!0;if(K!==Z){yt=!1;var bt=it.x,Dt=it.y,Vt=D.halfWidth,Nt=z.position.x,Mt=z.position.y,It=z.right,Lt=z.bottom;Z&&(bt=st.x,Dt=st.y,Vt=z.halfWidth,Nt=D.position.x,Mt=D.position.y,It=D.right,Lt=D.bottom),Dt<Mt?bt<Nt?Et=r(bt,Dt,Nt,Mt)-Vt:bt>It&&(Et=r(bt,Dt,It,Mt)-Vt):Dt>Lt&&(bt<Nt?Et=r(bt,Dt,Nt,Lt)-Vt:bt>It&&(Et=r(bt,Dt,It,Lt)-Vt)),Et*=-1}else Et=D.halfWidth+z.halfWidth-l(it,st);D.overlapR=Et,z.overlapR=Et;var kt=o(it,st),qt=(Et+C.EPSILON)*Math.cos(kt),se=(Et+C.EPSILON)*Math.sin(kt),ie={overlap:Et,result:!1,x:qt,y:se};if($&&(!yt||yt&&Et!==0))return ie.result=!0,ie;if(!yt&&Et===0||at&&ut||D.customSeparateX||z.customSeparateX)return ie.x=void 0,ie.y=void 0,ie;var oe=!D.pushable&&!z.pushable;if(yt){var zt=it.x-st.x,Zt=it.y-st.y,Bt=Math.sqrt(Math.pow(zt,2)+Math.pow(Zt,2)),Ot=(st.x-it.x)/Bt||0,St=(st.y-it.y)/Bt||0,At=2*(vt.x*Ot+vt.y*St-xt.x*Ot-xt.y*St)/(D.mass+z.mass);(at||ut)&&(At*=2),at||(vt.x=vt.x-At/D.mass*Ot,vt.y=vt.y-At/D.mass*St,vt.multiply(D.bounce)),ut||(xt.x=xt.x+At/z.mass*Ot,xt.y=xt.y+At/z.mass*St,xt.multiply(z.bounce)),!at&&!ut&&(qt*=.5,se*=.5),at||(D.x-=qt,D.y-=se,D.updateCenter()),ut||(z.x+=qt,z.y+=se,z.updateCenter()),ie.result=!0}else!at||D.pushable||oe?(D.x-=qt,D.y-=se,D.updateCenter()):(!ut||z.pushable||oe)&&(z.x+=qt,z.y+=se,z.updateCenter()),ie.x=void 0,ie.y=void 0;return ie},intersects:function(D,z){return D===z?!1:!D.isCircle&&!z.isCircle?!(D.right<=z.left||D.bottom<=z.top||D.left>=z.right||D.top>=z.bottom):D.isCircle?z.isCircle?l(D.center,z.center)<=D.halfWidth+z.halfWidth:this.circleBodyIntersects(D,z):this.circleBodyIntersects(z,D)},circleBodyIntersects:function(D,z){var $=s(D.center.x,z.left,z.right),K=s(D.center.y,z.top,z.bottom),Z=(D.center.x-$)*(D.center.x-$),it=(D.center.y-K)*(D.center.y-K);return Z+it<=D.halfWidth*D.halfWidth},overlap:function(D,z,$,K,Z){return $===void 0&&($=null),K===void 0&&(K=null),Z===void 0&&(Z=$),this.collideObjects(D,z,$,K,Z,!0)},collide:function(D,z,$,K,Z){return $===void 0&&($=null),K===void 0&&(K=null),Z===void 0&&(Z=$),this.collideObjects(D,z,$,K,Z,!1)},collideObjects:function(D,z,$,K,Z,it){var st,at;D.isParent&&(D.physicsType===void 0||z===void 0||D===z)&&(D=D.children.entries),z&&z.isParent&&z.physicsType===void 0&&(z=z.children.entries);var ut=Array.isArray(D),vt=Array.isArray(z);if(this._total=0,!ut&&!vt)this.collideHandler(D,z,$,K,Z,it);else if(!ut&&vt)for(st=0;st<z.length;st++)this.collideHandler(D,z[st],$,K,Z,it);else if(ut&&!vt)if(z)for(st=0;st<D.length;st++)this.collideHandler(D[st],z,$,K,Z,it);else for(st=0;st<D.length;st++){var xt=D[st];for(at=st+1;at<D.length;at++)st!==at&&this.collideHandler(xt,D[at],$,K,Z,it)}else for(st=0;st<D.length;st++)for(at=0;at<z.length;at++)this.collideHandler(D[st],z[at],$,K,Z,it);return this._total>0},collideHandler:function(D,z,$,K,Z,it){if(z===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,$,K,Z,it);if(!D||!z)return!1;if(D.body||D.isBody){if(z.body||z.isBody)return this.collideSpriteVsSprite(D,z,$,K,Z,it);if(z.isParent)return this.collideSpriteVsGroup(D,z,$,K,Z,it);if(z.isTilemap)return this.collideSpriteVsTilemapLayer(D,z,$,K,Z,it)}else if(D.isParent){if(z.body||z.isBody)return this.collideSpriteVsGroup(z,D,$,K,Z,it);if(z.isParent)return this.collideGroupVsGroup(D,z,$,K,Z,it);if(z.isTilemap)return this.collideGroupVsTilemapLayer(D,z,$,K,Z,it)}else if(D.isTilemap){if(z.body||z.isBody)return this.collideSpriteVsTilemapLayer(z,D,$,K,Z,it);if(z.isParent)return this.collideGroupVsTilemapLayer(z,D,$,K,Z,it)}},canCollide:function(D,z){return D&&z&&(D.collisionMask&z.collisionCategory)!==0&&(z.collisionMask&D.collisionCategory)!==0},collideSpriteVsSprite:function(D,z,$,K,Z,it){var st=D.isBody?D:D.body,at=z.isBody?z:z.body;return this.canCollide(st,at)?(this.separate(st,at,K,Z,it)&&($&&$.call(Z,D,z),this._total++),!0):!1},collideSpriteVsGroup:function(D,z,$,K,Z,it){var st=D.isBody?D:D.body;if(!(z.length===0||!st||!st.enable||st.checkCollision.none||!this.canCollide(st,z))){var at,ut,vt;if(this.useTree||z.physicsType===e.STATIC_BODY){var xt=this.treeMinMax;xt.minX=st.left,xt.minY=st.top,xt.maxX=st.right,xt.maxY=st.bottom;var Et=z.physicsType===e.DYNAMIC_BODY?this.tree.search(xt):this.staticTree.search(xt);for(ut=Et.length,at=0;at<ut;at++)vt=Et[at],!(st===vt||!vt.enable||vt.checkCollision.none||!z.contains(vt.gameObject))&&this.separate(st,vt,K,Z,it)&&($&&$.call(Z,st.gameObject,vt.gameObject),this._total++)}else{var yt=z.getChildren(),bt=z.children.entries.indexOf(D);for(ut=yt.length,at=0;at<ut;at++)vt=yt[at].body,!(!vt||at===bt||!vt.enable)&&this.separate(st,vt,K,Z,it)&&($&&$.call(Z,st.gameObject,vt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,z,$,K,Z,it){if(!this.canCollide(D,z))return!1;var st=D.getChildren();if(st.length===0)return!1;for(var at=!1,ut=0;ut<st.length;ut++)(st[ut].body||st[ut].isBody)&&this.collideSpriteVsTilemapLayer(st[ut],z,$,K,Z,it)&&(at=!0);return at},collideTiles:function(D,z,$,K,Z){return z.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,z,$,K,Z,!1,!1)},overlapTiles:function(D,z,$,K,Z){return z.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,z,$,K,Z,!0,!1)},collideSpriteVsTilemapLayer:function(D,z,$,K,Z,it){var st=D.isBody?D:D.body;if(!st.enable||st.checkCollision.none||!this.canCollide(st,z))return!1;var at=z.layer,ut=st.x-at.tileWidth*z.scaleX,vt=st.y-at.tileHeight*z.scaleY,xt=st.width+at.tileWidth*z.scaleX,Et=st.height+at.tileHeight*z.scaleY,yt=it?null:this.tileFilterOptions,bt=S(ut,vt,xt,Et,yt,z.scene.cameras.main,z.layer);return bt.length===0?!1:this.collideSpriteVsTilesHandler(D,bt,$,K,Z,it,!0)},collideSpriteVsTilesHandler:function(D,z,$,K,Z,it,st){for(var at=D.isBody?D:D.body,ut,vt={left:0,right:0,top:0,bottom:0},xt,Et=!1,yt=0;yt<z.length;yt++){ut=z[yt],xt=ut.tilemapLayer;var bt=xt.tileToWorldXY(ut.x,ut.y);vt.left=bt.x,vt.top=bt.y,vt.right=vt.left+ut.width*xt.scaleX,vt.bottom=vt.top+ut.height*xt.scaleY,H(vt,at)&&(!K||K.call(Z,D,ut))&&b(ut,D)&&(it||L(yt,at,ut,vt,xt,this.TILE_BIAS,st))&&(this._total++,Et=!0,$&&$.call(Z,D,ut),it&&at.onOverlap?this.emit(h.TILE_OVERLAP,D,ut,at):at.onCollide&&this.emit(h.TILE_COLLIDE,D,ut,at))}return Et},collideGroupVsGroup:function(D,z,$,K,Z,it){if(!(D.length===0||z.length===0||!this.canCollide(D,z)))for(var st=D.getChildren(),at=0;at<st.length;at++)this.collideSpriteVsGroup(st[at],z,$,K,Z,it)},wrap:function(D,z){D.body?this.wrapObject(D,z):D.getChildren?this.wrapArray(D.getChildren(),z):Array.isArray(D)?this.wrapArray(D,z):this.wrapObject(D,z)},wrapArray:function(D,z){for(var $=0;$<D.length;$++)this.wrapObject(D[$],z)},wrapObject:function(D,z){z===void 0&&(z=0),D.x=X(D.x,this.bounds.left-z,this.bounds.right+z),D.y=X(D.y,this.bounds.top-z,this.bounds.bottom+z)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=j},1093:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(t,o){return this.body.acceleration.set(t,o),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};c.exports=y},59023:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};c.exports=y},62069:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t,o){return this.body.bounce.set(t,o),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,o,p,s){return this.body.setCollideWorldBounds(t,o,p,s),this}};c.exports=y},78389:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79599),p={setCollisionCategory:function(s){var i=this.body?this.body:this;return i.collisionCategory=s,this},willCollideWith:function(s){var i=this.body?this.body:this;return(i.collisionMask&s)!==0},addCollidesWith:function(s){var i=this.body?this.body:this;return i.collisionMask=i.collisionMask|s,this},removeCollidesWith:function(s){var i=this.body?this.body:this;return i.collisionMask=i.collisionMask&~s,this},setCollidesWith:function(s){var i=this.body?this.body:this;return i.collisionMask=o(s),this},resetCollisionCategory:function(){var s=this.body?this.body:this;return s.collisionCategory=1,s.collisionMask=1,this}};c.exports=p},87118:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(t,o,p){return this.debugShowBody=t,this.debugShowVelocity=o,this.debugBodyColor=p,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};c.exports=y},52819:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(t,o){return this.body.drag.set(t,o),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};c.exports=y},4074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,o,p,s,i){return t&&this.body.reset(o,p),s&&(this.body.gameObject.active=!0),i&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=y},40831:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,o){return this.body.friction.set(t,o),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};c.exports=y},26775:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(t,o){return this.body.gravity.set(t,o),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};c.exports=y},9437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};c.exports=y},30621:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(t){return this.body.mass=t,this}};c.exports=y},72441:(c,y,t)=>{var o=t(47956),p=t(96503),s=t(2044),i=t(81491),n=function(e,r,l,a,h,f){var u=o(e,r-a,l-a,2*a,2*a,h,f);if(u.length===0)return u;for(var d=new p(r,l,a),m=new p,x=[],S=0;S<u.length;S++){var T=u[S];T.isCircle?(m.setTo(T.center.x,T.center.y,T.halfWidth),s(d,m)&&x.push(T)):i(d,T)&&x.push(T)}return x};c.exports=n},47956:c=>{var y=function(t,o,p,s,i,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var r=[],l=[],a=t.treeMinMax;if(a.minX=o,a.minY=p,a.maxX=o+s,a.maxY=p+i,e&&(l=t.staticTree.search(a)),n&&t.useTree)r=t.tree.search(a);else if(n){var h=t.bodies,f={position:{x:o,y:p},left:o,top:p,right:o+s,bottom:p+i,isCircle:!1},u=t.intersects;h.iterate(function(d){u(d,f)&&r.push(d)})}return l.concat(r)};c.exports=y},62121:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};c.exports=y},29384:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(t,o){return this.body.setOffset(t,o),this},setSize:function(t,o,p){return this.body.setSize(t,o,p),this},setBodySize:function(t,o,p){return this.body.setSize(t,o,p),this},setCircle:function(t,o,p){return this.body.setCircle(t,o,p),this}};c.exports=y},15098:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(t,o){return this.body.setVelocity(t,o),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,o){return this.body.maxVelocity.set(t,o),this}};c.exports=y},92209:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=y},20009:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},36768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},60473:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},89954:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},61804:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},7161:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},34689:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},16006:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},63012:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),p=t(79291),s={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};s=p(!1,s,o),c.exports=s},96602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,o,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,o,t):!0};c.exports=y},36294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o<0?(t.blocked.none=!1,t.blocked.left=!0):o>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=o,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};c.exports=y},67013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o<0?(t.blocked.none=!1,t.blocked.up=!0):o>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=o,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};c.exports=y},40012:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21329),p=t(53442),s=t(2483),i=function(n,e,r,l,a,h,f){var u=l.left,d=l.top,m=l.right,x=l.bottom,S=r.faceLeft||r.faceRight,T=r.faceTop||r.faceBottom;if(f||(S=!0,T=!0),!S&&!T)return!1;var C=0,A=0,b=0,R=1;if(e.deltaAbsX()>e.deltaAbsY()?b=-1:e.deltaAbsX()<e.deltaAbsY()&&(R=-1),e.deltaX()!==0&&e.deltaY()!==0&&S&&T&&(b=Math.min(Math.abs(e.position.x-m),Math.abs(e.right-u)),R=Math.min(Math.abs(e.position.y-x),Math.abs(e.bottom-d))),b<R){if(S&&(C=o(e,r,u,m,h,f),C!==0&&!s(l,e)))return!0;T&&(A=p(e,r,d,x,h,f))}else{if(T&&(A=p(e,r,d,x,h,f),A!==0&&!s(l,e)))return!0;S&&(C=o(e,r,u,m,h,f))}return C!==0||A!==0};c.exports=i},21329:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36294),p=function(s,i,n,e,r,l){var a=0,h=i.faceLeft,f=i.faceRight,u=i.collideLeft,d=i.collideRight;return l||(h=!0,f=!0,u=!0,d=!0),s.deltaX()<0&&d&&s.checkCollision.left?f&&s.x<e&&(a=s.x-e,a<-r&&(a=0)):s.deltaX()>0&&u&&s.checkCollision.right&&h&&s.right>n&&(a=s.right-n,a>r&&(a=0)),a!==0&&(s.customSeparateX?s.overlapX=a:o(s,a)),a};c.exports=p},53442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67013),p=function(s,i,n,e,r,l){var a=0,h=i.faceTop,f=i.faceBottom,u=i.collideUp,d=i.collideDown;return l||(h=!0,f=!0,u=!0,d=!0),s.deltaY()<0&&d&&s.checkCollision.up?f&&s.y<e&&(a=s.y-e,a<-r&&(a=0)):s.deltaY()>0&&u&&s.checkCollision.down&&h&&s.bottom>n&&(a=s.bottom-n,a>r&&(a=0)),a!==0&&(s.customSeparateY?s.overlapY=a:o(s,a)),a};c.exports=p},2483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return!(o.right<=t.left||o.bottom<=t.top||o.position.x>=t.right||o.position.y>=t.bottom)};c.exports=y},55173:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};c.exports=o},44563:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(27064),Matter:t(3875)}},68174:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(26099),s=new o({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(i){if(i=i.hasOwnProperty("body")?i.body:i,!i.hasOwnProperty("bounds")||!i.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,r=i.bounds.max.x-i.bounds.min.x,l=i.bounds.max.y-i.bounds.min.y,a=r*i.centerOfMass.x,h=l*i.centerOfMass.y;return n.set(r/2,l/2),e.set(a-n.x,h-n.y),!0},getTopLeft:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new p(n+r.x+l.x,e+r.y+l.y)}return!1},getTopCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new p(n+l.x,e+r.y+l.y)}return!1},getTopRight:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new p(n-(r.x-l.x),e+r.y+l.y)}return!1},getLeftCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new p(n+r.x+l.x,e+l.y)}return!1},getCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.centerDiff;return new p(n+r.x,e+r.y)}return!1},getRightCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new p(n-(r.x-l.x),e+l.y)}return!1},getBottomLeft:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new p(n+r.x+l.x,e-(r.y-l.y))}return!1},getBottomCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new p(n+l.x,e-(r.y-l.y))}return!1},getBottomRight:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new p(n-(r.x-l.x),e-(r.y-l.y))}return!1}});c.exports=s},19933:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6790);o.Body=t(22562),o.Composite=t(69351),o.World=t(4372),o.Collision=t(52284),o.Detector=t(81388),o.Pairs=t(99561),o.Pair=t(4506),o.Query=t(73296),o.Resolver=t(66272),o.Constraint=t(48140),o.Common=t(53402),o.Engine=t(48413),o.Events=t(35810),o.Sleeping=t(53614),o.Plugin=t(73832),o.Bodies=t(66280),o.Composites=t(74116),o.Axes=t(66615),o.Bounds=t(15647),o.Svg=t(74058),o.Vector=t(31725),o.Vertices=t(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,c.exports=o},28137:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(83419),s=t(74116),i=t(48140),n=t(74058),e=t(75803),r=t(23181),l=t(34803),a=t(73834),h=t(19496),f=t(85791),u=t(98713),d=t(41598),m=new p({initialize:function(S){this.world=S,this.scene=S.scene,this.sys=S.scene.sys},rectangle:function(x,S,T,C,A){var b=o.rectangle(x,S,T,C,A);return this.world.add(b),b},trapezoid:function(x,S,T,C,A,b){var R=o.trapezoid(x,S,T,C,A,b);return this.world.add(R),R},circle:function(x,S,T,C,A){var b=o.circle(x,S,T,C,A);return this.world.add(b),b},polygon:function(x,S,T,C,A){var b=o.polygon(x,S,T,C,A);return this.world.add(b),b},fromVertices:function(x,S,T,C,A,b,R){typeof T=="string"&&(T=d.fromPath(T));var F=o.fromVertices(x,S,T,C,A,b,R);return this.world.add(F),F},fromPhysicsEditor:function(x,S,T,C,A){A===void 0&&(A=!0);var b=h.parseBody(x,S,T,C);return A&&!this.world.has(b)&&this.world.add(b),b},fromSVG:function(x,S,T,C,A,b){C===void 0&&(C=1),A===void 0&&(A={}),b===void 0&&(b=!0);for(var R=T.getElementsByTagName("path"),F=[],L=0;L<R.length;L++){var O=n.pathToVertices(R[L],30);C!==1&&d.scale(O,C,C),F.push(O)}var I=o.fromVertices(x,S,F,A);return b&&this.world.add(I),I},fromJSON:function(x,S,T,C,A){C===void 0&&(C={}),A===void 0&&(A=!0);var b=f.parseBody(x,S,T,C);return b&&A&&this.world.add(b),b},imageStack:function(x,S,T,C,A,b,R,F,L){R===void 0&&(R=0),F===void 0&&(F=0),L===void 0&&(L={});var O=this.world,I=this.sys.displayList;L.addToWorld=!1;var B=s.stack(T,C,A,b,R,F,function(U,H){var J=new r(O,U,H,x,S,L);return I.add(J),J.body});return O.add(B),B},stack:function(x,S,T,C,A,b,R){var F=s.stack(x,S,T,C,A,b,R);return this.world.add(F),F},pyramid:function(x,S,T,C,A,b,R){var F=s.pyramid(x,S,T,C,A,b,R);return this.world.add(F),F},chain:function(x,S,T,C,A,b){return s.chain(x,S,T,C,A,b)},mesh:function(x,S,T,C,A){return s.mesh(x,S,T,C,A)},newtonsCradle:function(x,S,T,C,A){var b=s.newtonsCradle(x,S,T,C,A);return this.world.add(b),b},car:function(x,S,T,C,A){var b=s.car(x,S,T,C,A);return this.world.add(b),b},softBody:function(x,S,T,C,A,b,R,F,L,O){var I=s.softBody(x,S,T,C,A,b,R,F,L,O);return this.world.add(I),I},joint:function(x,S,T,C,A){return this.constraint(x,S,T,C,A)},spring:function(x,S,T,C,A){return this.constraint(x,S,T,C,A)},constraint:function(x,S,T,C,A){C===void 0&&(C=1),A===void 0&&(A={}),A.bodyA=x.type==="body"?x:x.body,A.bodyB=S.type==="body"?S:S.body,isNaN(T)||(A.length=T),A.stiffness=C;var b=i.create(A);return this.world.add(b),b},worldConstraint:function(x,S,T,C){T===void 0&&(T=1),C===void 0&&(C={}),C.bodyB=x.type==="body"?x:x.body,isNaN(S)||(C.length=S),C.stiffness=T;var A=i.create(C);return this.world.add(A),A},mouseSpring:function(x){return this.pointerConstraint(x)},pointerConstraint:function(x){x===void 0&&(x={}),x.hasOwnProperty("render")||(x.render={visible:!1});var S=new u(this.scene,this.world,x);return this.world.add(S.constraint),S},image:function(x,S,T,C,A){var b=new r(this.world,x,S,T,C,A);return this.sys.displayList.add(b),b},tileBody:function(x,S){return new a(this.world,x,S)},sprite:function(x,S,T,C,A){var b=new l(this.world,x,S,T,C,A);return this.sys.displayList.add(b),this.sys.updateList.add(b),b},gameObject:function(x,S,T){return e(this.world,x,S,T)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=m},75803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31884),p=t(95540),s=t(26099);function i(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,r,l,a){l===void 0&&(l={}),a===void 0&&(a=!0);var h=r.x,f=r.y;r.body={temp:!0,position:{x:h,y:f}};var u=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(u.forEach(function(m){for(var x in m)i(m[x])?Object.defineProperty(r,x,{get:m[x].get,set:m[x].set}):Object.defineProperty(r,x,{value:m[x]})}),r.world=e,r._tempVec2=new s(h,f),l.hasOwnProperty("type")&&l.type==="body")r.setExistingBody(l,a);else{var d=p(l,"shape",null);d||(d="rectangle"),l.addToWorld=a,r.setBody(d,l)}return r};c.exports=n},23181:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31884),s=t(95643),i=t(95540),n=t(88571),e=t(72699),r=t(26099),l=new o({Extends:n,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,e],initialize:function(h,f,u,d,m,x){s.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,m),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new r(f,u);var S=i(x,"shape",null);S?this.setBody(S,x):this.setRectangle(this.width,this.height,x),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=l},42045:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),p=t(66615),s=t(66280),i=t(22562),n=t(68174),e=t(15647),r=t(83419),l=t(52284),a=t(53402),h=t(69351),f=t(74116),u=t(48140),d=t(81388),m=t(20339),x=t(28137),S=t(95540),T=t(35154),C=t(18210),A=t(40178),b=t(6790),R=t(74507),F=t(46975),L=t(4506),O=t(99561),I=t(73832),B=t(37277),U=t(73296),H=t(66272),J=t(44594),tt=t(74058),X=t(31725),j=t(41598),D=t(68243);a.setDecomp(t(55973));var z=new r({initialize:function(K){this.scene=K,this.systems=K.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=i,this.composite=h,this.collision=l,this.detector=d,this.pair=L,this.pairs=O,this.query=U,this.resolver=H,this.constraint=u,this.bodies=s,this.composites=f,this.axes=p,this.bounds=e,this.svg=tt,this.vector=X,this.vertices=j,this.verts=j,this._tempVec2=X.create(),T(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),T(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),T(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),H._restingThresh=T(this.config,"restingThresh",4),H._restingThreshTangent=T(this.config,"restingThreshTangent",6),H._positionDampen=T(this.config,"positionDampen",.9),H._positionWarming=T(this.config,"positionWarming",.8),H._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),K.sys.events.once(J.BOOT,this.boot,this),K.sys.events.on(J.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new x(this.world),this.bodyBounds=new n,this.systems.events.once(J.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new x(this.world));var $=this.systems.events;$.on(J.UPDATE,this.world.update,this.world),$.on(J.POST_UPDATE,this.world.postUpdate,this.world),$.once(J.SHUTDOWN,this.shutdown,this)},getConfig:function(){var $=this.systems.game.config.physics,K=this.systems.settings.physics,Z=F(S(K,"matter",{}),S($,"matter",{}));return Z},enableAttractorPlugin:function(){return I.register(C),I.use(b,C),this},enableWrapPlugin:function(){return I.register(R),I.use(b,R),this},enableCollisionEventsPlugin:function(){return I.register(A),I.use(b,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function($,K){this.world.step($,K)},containsPoint:function($,K,Z){$=this.getMatterBodies($);var it=X.create(K,Z),st=U.point($,it);return st.length>0},intersectPoint:function($,K,Z){Z=this.getMatterBodies(Z);var it=X.create($,K),st=[],at=U.point(Z,it);return at.forEach(function(ut){st.indexOf(ut)===-1&&st.push(ut)}),st},intersectRect:function($,K,Z,it,st,at){st===void 0&&(st=!1),at=this.getMatterBodies(at);var ut={min:{x:$,y:K},max:{x:$+Z,y:K+it}},vt=[],xt=U.region(at,ut,st);return xt.forEach(function(Et){vt.indexOf(Et)===-1&&vt.push(Et)}),vt},intersectRay:function($,K,Z,it,st,at){st===void 0&&(st=1),at=this.getMatterBodies(at);for(var ut=[],vt=U.ray(at,X.create($,K),X.create(Z,it),st),xt=0;xt<vt.length;xt++)ut.push(vt[xt].body);return ut},intersectBody:function($,K){K=this.getMatterBodies(K);for(var Z=[],it=U.collides($,K),st=0;st<it.length;st++){var at=it[st];at.bodyA===$?Z.push(at.bodyB):Z.push(at.bodyA)}return Z},overlap:function($,K,Z,it,st){Z===void 0&&(Z=null),it===void 0&&(it=null),st===void 0&&(st=Z),Array.isArray($)||($=[$]),$=this.getMatterBodies($),K=this.getMatterBodies(K);for(var at=!1,ut=0;ut<$.length;ut++)for(var vt=$[ut],xt=U.collides(vt,K),Et=0;Et<xt.length;Et++){var yt=xt[Et],bt=yt.bodyA.id===vt.id?yt.bodyB:yt.bodyA;if(!it||it.call(st,vt,bt,yt)){if(at=!0,Z)Z.call(st,vt,bt,yt);else if(!it)return!0}}return at},setCollisionCategory:function($,K){return $=this.getMatterBodies($),$.forEach(function(Z){Z.collisionFilter.category=K}),this},setCollisionGroup:function($,K){return $=this.getMatterBodies($),$.forEach(function(Z){Z.collisionFilter.group=K}),this},setCollidesWith:function($,K){$=this.getMatterBodies($);var Z=0;if(!Array.isArray(K))Z=K;else for(var it=0;it<K.length;it++)Z|=K[it];return $.forEach(function(st){st.collisionFilter.mask=Z}),this},getMatterBodies:function($){if(!$)return this.world.getAllBodies();Array.isArray($)||($=[$]);for(var K=[],Z=0;Z<$.length;Z++){var it=$[Z].hasOwnProperty("body")?$[Z].body:$[Z];K.push(it)}return K},setVelocity:function($,K,Z){$=this.getMatterBodies($);var it=this._tempVec2;return it.x=K,it.y=Z,$.forEach(function(st){i.setVelocity(st,it)}),this},setVelocityX:function($,K){$=this.getMatterBodies($);var Z=this._tempVec2;return Z.x=K,$.forEach(function(it){Z.y=it.velocity.y,i.setVelocity(it,Z)}),this},setVelocityY:function($,K){$=this.getMatterBodies($);var Z=this._tempVec2;return Z.y=K,$.forEach(function(it){Z.x=it.velocity.x,i.setVelocity(it,Z)}),this},setAngularVelocity:function($,K){return $=this.getMatterBodies($),$.forEach(function(Z){i.setAngularVelocity(Z,K)}),this},applyForce:function($,K){$=this.getMatterBodies($);var Z=this._tempVec2;return $.forEach(function(it){Z.x=it.position.x,Z.y=it.position.y,i.applyForce(it,Z,K)}),this},applyForceFromPosition:function($,K,Z,it){$=this.getMatterBodies($);var st=this._tempVec2;return $.forEach(function(at){it===void 0&&(it=at.angle),st.x=Z*Math.cos(it),st.y=Z*Math.sin(it),i.applyForce(at,K,st)}),this},applyForceFromAngle:function($,K,Z){$=this.getMatterBodies($);var it=this._tempVec2;return $.forEach(function(st){Z===void 0&&(Z=st.angle),it.x=K*Math.cos(Z),it.y=K*Math.sin(Z),i.applyForce(st,{x:st.position.x,y:st.position.y},it)}),this},getConstraintLength:function($){var K=$.pointA.x,Z=$.pointA.y,it=$.pointB.x,st=$.pointB.y;return $.bodyA&&(K+=$.bodyA.position.x,Z+=$.bodyA.position.y),$.bodyB&&(it+=$.bodyB.position.x,st+=$.bodyB.position.y),m(K,Z,it,st)},alignBody:function($,K,Z,it){$=$.hasOwnProperty("body")?$.body:$;var st;switch(it){case o.TOP_LEFT:case o.LEFT_TOP:st=this.bodyBounds.getTopLeft($,K,Z);break;case o.TOP_CENTER:st=this.bodyBounds.getTopCenter($,K,Z);break;case o.TOP_RIGHT:case o.RIGHT_TOP:st=this.bodyBounds.getTopRight($,K,Z);break;case o.LEFT_CENTER:st=this.bodyBounds.getLeftCenter($,K,Z);break;case o.CENTER:st=this.bodyBounds.getCenter($,K,Z);break;case o.RIGHT_CENTER:st=this.bodyBounds.getRightCenter($,K,Z);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:st=this.bodyBounds.getBottomLeft($,K,Z);break;case o.BOTTOM_CENTER:st=this.bodyBounds.getBottomCenter($,K,Z);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:st=this.bodyBounds.getBottomRight($,K,Z);break}return st&&i.setPosition($,st),this},shutdown:function(){var $=this.systems.events;this.world&&($.off(J.UPDATE,this.world.update,this.world),$.off(J.POST_UPDATE,this.world.postUpdate,this.world)),$.off(J.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(J.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",z,"matterPhysics"),c.exports=z},34803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(83419),s=t(31884),i=t(95643),n=t(95540),e=t(72699),r=t(68287),l=t(26099),a=new p({Extends:r,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,e],initialize:function(f,u,d,m,x,S){i.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(m,x),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(u,d);var T=n(S,"shape",null);T?this.setBody(T,S):this.setRectangle(this.width,this.height,S),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=a},73834:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),s=t(83419),i=t(31884),n=t(62644),e=t(50792),r=t(95540),l=t(97022),a=t(41598),h=new s({Extends:e,Mixins:[i.Bounce,i.Collision,i.Friction,i.Gravity,i.Mass,i.Sensor,i.Sleep,i.Static],initialize:function(u,d,m){e.call(this),this.tile=d,this.world=u,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var x=r(m,"body",null),S=r(m,"addToWorld",!0);if(x)this.setBody(x,S);else{var T=d.getCollisionGroup(),C=r(T,"objects",[]);C.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(d.flipX||d.flipY){var A={x:d.getCenterX(),y:d.getCenterY()},b=d.flipX?-1:1,R=d.flipY?-1:1;p.scale(x,b,R,A)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var u=this.tile.getBounds(),d=u.x+u.width/2,m=u.y+u.height/2,x=o.rectangle(d,m,u.width,u.height,f);return this.setBody(x,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var u=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),x=this.tile.getTop(),S=this.tile.getCollisionGroup(),T=r(S,"objects",[]),C=[],A=0;A<T.length;A++){var b=T[A],R=m+b.x*u,F=x+b.y*d,L=b.width*u,O=b.height*d,I=null;if(b.rectangle)I=o.rectangle(R+L/2,F+O/2,L,O,f);else if(b.ellipse)I=o.circle(R+L/2,F+O/2,L/2,f);else if(b.polygon||b.polyline){var B=b.polygon?b.polygon:b.polyline,U=B.map(function(X){return{x:X.x*u,y:X.y*d}}),H=a.create(U),J=a.centre(H);R+=J.x,F+=J.y,I=o.fromVertices(R,F,H,f)}I&&C.push(I)}if(C.length===1)this.setBody(C[0],f.addToWorld);else if(C.length>1){var tt=n(f);tt.parts=C,this.setBody(p.create(tt),tt.addToWorld)}return this},setBody:function(f,u){return u===void 0&&(u=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,u&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=h},19496:(c,y,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),s=t(53402),i=t(95540),n=t(41598),e={parseBody:function(r,l,a,h){h===void 0&&(h={});for(var f=i(a,"fixtures",[]),u=[],d=0;d<f.length;d++)for(var m=this.parseFixture(f[d]),x=0;x<m.length;x++)u.push(m[x]);var S=s.clone(a,!0);s.extend(S,h,!0),delete S.fixtures,delete S.type;var T=p.create(S);return p.setParts(T,u),p.setPosition(T,{x:r,y:l}),T},parseFixture:function(r){var l=s.extend({},!1,r);delete l.circle,delete l.vertices;var a;if(r.circle){var h=i(r.circle,"x"),f=i(r.circle,"y"),u=i(r.circle,"radius");a=[o.circle(h,f,u,l)]}else r.vertices&&(a=this.parseVertices(r.vertices,l));return a},parseVertices:function(r,l){l===void 0&&(l={});for(var a=[],h=0;h<r.length;h++)n.clockwiseSort(r[h]),a.push(p.create(s.extend({position:n.centre(r[h]),vertices:r[h]},l)));return o.flagCoincidentParts(a)}};c.exports=e},85791:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),s={parseBody:function(i,n,e,r){r===void 0&&(r={});var l,a=e.vertices;if(a.length===1)r.vertices=a[0],l=p.create(r),o.flagCoincidentParts(l.parts);else{for(var h=[],f=0;f<a.length;f++){var u=p.create({vertices:a[f]});h.push(u)}o.flagCoincidentParts(h),r.parts=h,l=p.create(r)}return l.label=e.label,p.setPosition(l,{x:i,y:n}),l}};c.exports=s},98713:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15647),p=t(83419),s=t(69351),i=t(48140),n=t(81388),e=t(1121),r=t(8214),l=t(46975),a=t(53614),h=t(26099),f=t(41598),u=new p({initialize:function(m,x,S){S===void 0&&(S={});var T={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=x,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=i.create(l(S,T)),this.world.on(e.BEFORE_UPDATE,this.update,this),m.sys.input.on(r.POINTER_DOWN,this.onDown,this),m.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var m=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,m);for(var S=s.allBodies(this.world.localWorld),T=0;T<S.length;T++){var C=S[T];if(!C.ignorePointer&&o.contains(C.bounds,m)&&n.canCollide(C.collisionFilter,x.collisionFilter)&&this.hitTestBody(C,m))return this.world.emit(e.DRAG_START,C,this.part,this),!0}return!1},hitTestBody:function(d,m){for(var x=this.constraint,S=d.parts.length,T=S>1?1:0,C=T;C<S;C++){var A=d.parts[C];if(f.contains(A.vertices,m))return x.pointA=m,x.pointB={x:m.x-d.position.x,y:m.y-d.position.y},x.bodyB=d,x.angleB=d.angle,a.set(d,!1),this.part=A,this.body=d,!0}return!1},update:function(){var d=this.pointer,m=this.body;if(!this.active||!d){m&&this.stopDrag();return}if(!d.isDown&&m){this.stopDrag();return}else if(d.isDown){if(!this.camera||!m&&!this.getBody(d))return;m=this.body;var x=this.position,S=this.constraint;this.camera.getWorldPoint(d.x,d.y,x),S.pointA.x=x.x,S.pointA.y=x.y,a.set(m,!1),this.world.emit(e.DRAG,m,this)}},stopDrag:function(){var d=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});c.exports=u},68243:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),s=t(83419),i=t(53402),n=t(69351),e=t(48413),r=t(50792),l=t(1121),a=t(95540),h=t(35154),f=t(22562),u=t(35810),d=t(73834),m=t(4372),x=t(31725),S=new s({Extends:r,initialize:function(C,A){r.call(this),this.scene=C,this.engine=e.create(A),this.localWorld=this.engine.world;var b=h(A,"gravity",null);b?this.setGravity(b.x,b.y,b.scale):b===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(A,"enabled",!0),this.getDelta=h(A,"getDelta",this.update60Hz);var R=a(A,"runner",{}),F=a(R,"fps",!1),L=a(R,"fps",60),O=a(R,"delta",1e3/L),I=a(R,"deltaMin",1e3/L),B=a(R,"deltaMax",1e3/(L*.5));F||(L=1e3/O),this.runner={fps:L,deltaSampleSize:a(R,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(R,"isFixed",!1),delta:O,deltaMin:I,deltaMax:B},this.autoUpdate=h(A,"autoUpdate",!0);var U=h(A,"debug",!1);if(this.drawDebug=typeof U=="object"?!0:U,this.debugGraphic,this.debugConfig={showAxes:a(U,"showAxes",!1),showAngleIndicator:a(U,"showAngleIndicator",!1),angleColor:a(U,"angleColor",15208787),showBroadphase:a(U,"showBroadphase",!1),broadphaseColor:a(U,"broadphaseColor",16757760),showBounds:a(U,"showBounds",!1),boundsColor:a(U,"boundsColor",16777215),showVelocity:a(U,"showVelocity",!1),velocityColor:a(U,"velocityColor",44783),showCollisions:a(U,"showCollisions",!1),collisionColor:a(U,"collisionColor",16094476),showSeparations:a(U,"showSeparations",!1),separationColor:a(U,"separationColor",16753920),showBody:a(U,"showBody",!0),showStaticBody:a(U,"showStaticBody",!0),showInternalEdges:a(U,"showInternalEdges",!1),renderFill:a(U,"renderFill",!1),renderLine:a(U,"renderLine",!0),fillColor:a(U,"fillColor",1075465),fillOpacity:a(U,"fillOpacity",1),lineColor:a(U,"lineColor",2678297),lineOpacity:a(U,"lineOpacity",1),lineThickness:a(U,"lineThickness",1),staticFillColor:a(U,"staticFillColor",857979),staticLineColor:a(U,"staticLineColor",1255396),showSleeping:a(U,"showSleeping",!1),staticBodySleepOpacity:a(U,"staticBodySleepOpacity",.7),sleepFillColor:a(U,"sleepFillColor",4605510),sleepLineColor:a(U,"sleepLineColor",10066585),showSensors:a(U,"showSensors",!0),sensorFillColor:a(U,"sensorFillColor",857979),sensorLineColor:a(U,"sensorLineColor",1255396),showPositions:a(U,"showPositions",!0),positionSize:a(U,"positionSize",4),positionColor:a(U,"positionColor",14697178),showJoint:a(U,"showJoint",!0),jointColor:a(U,"jointColor",14737474),jointLineOpacity:a(U,"jointLineOpacity",1),jointLineThickness:a(U,"jointLineThickness",2),pinSize:a(U,"pinSize",4),pinColor:a(U,"pinColor",4382944),springColor:a(U,"springColor",14697184),anchorColor:a(U,"anchorColor",15724527),anchorSize:a(U,"anchorSize",4),showConvexHulls:a(U,"showConvexHulls",!1),hullColor:a(U,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(A,"setBounds",!1)){var H=A.setBounds;if(typeof H=="boolean")this.setBounds();else{var J=a(H,"x",0),tt=a(H,"y",0),X=a(H,"width",C.sys.scale.width),j=a(H,"height",C.sys.scale.height),D=a(H,"thickness",64),z=a(H,"left",!0),$=a(H,"right",!0),K=a(H,"top",!0),Z=a(H,"bottom",!0);this.setBounds(J,tt,X,j,D,z,$,K,Z)}}},setCompositeRenderStyle:function(T){var C=T.bodies,A=T.constraints,b=T.composites,R,F,L;for(R=0;R<C.length;R++)F=C[R],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(R=0;R<A.length;R++)F=A[R],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(R=0;R<b.length;R++)F=b[R],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(T,C,A,b,R,F){var L=T.render,O=this.debugConfig;return L?(C==null&&(C=T.isStatic?O.staticLineColor:O.lineColor),A==null&&(A=O.lineOpacity),b==null&&(b=O.lineThickness),R==null&&(R=T.isStatic?O.staticFillColor:O.fillColor),F==null&&(F=O.fillOpacity),C!==!1&&(L.lineColor=C),A!==!1&&(L.lineOpacity=A),b!==!1&&(L.lineThickness=b),R!==!1&&(L.fillColor=R),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(T,C,A,b,R,F,L){var O=T.render,I=this.debugConfig;if(!O)return this;if(C==null){var B=O.type;B==="line"?C=I.jointColor:B==="pin"?C=I.pinColor:B==="spring"&&(C=I.springColor)}return A==null&&(A=I.jointLineOpacity),b==null&&(b=I.jointLineThickness),R==null&&(R=I.pinSize),F==null&&(F=I.anchorColor),L==null&&(L=I.anchorSize),C!==!1&&(O.lineColor=C),A!==!1&&(O.lineOpacity=A),b!==!1&&(O.lineThickness=b),R!==!1&&(O.pinSize=R),F!==!1&&(O.anchorColor=F),L!==!1&&(O.anchorSize=L),this},setEventsProxy:function(){var T=this,C=this.engine,A=this.localWorld;this.drawDebug&&(u.on(A,"compositeModified",function(b){T.setCompositeRenderStyle(b)}),u.on(A,"beforeAdd",function(b){for(var R=[].concat(b.object),F=0;F<R.length;F++){var L=R[F],O=L.render;L.type==="body"?T.setBodyRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):L.type==="composite"?T.setCompositeRenderStyle(L):L.type==="constraint"&&T.setConstraintRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),u.on(A,"beforeAdd",function(b){T.emit(l.BEFORE_ADD,b)}),u.on(A,"afterAdd",function(b){T.emit(l.AFTER_ADD,b)}),u.on(A,"beforeRemove",function(b){T.emit(l.BEFORE_REMOVE,b)}),u.on(A,"afterRemove",function(b){T.emit(l.AFTER_REMOVE,b)}),u.on(C,"beforeUpdate",function(b){T.emit(l.BEFORE_UPDATE,b)}),u.on(C,"afterUpdate",function(b){T.emit(l.AFTER_UPDATE,b)}),u.on(C,"collisionStart",function(b){var R=b.pairs,F,L;R.length>0&&(F=R[0].bodyA,L=R[0].bodyB),T.emit(l.COLLISION_START,b,F,L)}),u.on(C,"collisionActive",function(b){var R=b.pairs,F,L;R.length>0&&(F=R[0].bodyA,L=R[0].bodyB),T.emit(l.COLLISION_ACTIVE,b,F,L)}),u.on(C,"collisionEnd",function(b){var R=b.pairs,F,L;R.length>0&&(F=R[0].bodyA,L=R[0].bodyB),T.emit(l.COLLISION_END,b,F,L)})},setBounds:function(T,C,A,b,R,F,L,O,I){return T===void 0&&(T=0),C===void 0&&(C=0),A===void 0&&(A=this.scene.sys.scale.width),b===void 0&&(b=this.scene.sys.scale.height),R===void 0&&(R=64),F===void 0&&(F=!0),L===void 0&&(L=!0),O===void 0&&(O=!0),I===void 0&&(I=!0),this.updateWall(F,"left",T-R,C-R,R,b+R*2),this.updateWall(L,"right",T+A,C-R,R,b+R*2),this.updateWall(O,"top",T,C-R,A,R),this.updateWall(I,"bottom",T,C+b,A,R),this},updateWall:function(T,C,A,b,R,F){var L=this.walls[C];T?(L&&m.remove(this.localWorld,L),A+=R/2,b+=F/2,this.walls[C]=this.create(A,b,R,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&m.remove(this.localWorld,L),this.walls[C]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,C,A){return T===void 0&&(T=0),C===void 0&&(C=1),A===void 0&&(A=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=C,this.localWorld.gravity.scale=A,this},create:function(T,C,A,b,R){var F=o.rectangle(T,C,A,b,R);return m.add(this.localWorld,F),F},add:function(T){return m.add(this.localWorld,T),this},remove:function(T,C){Array.isArray(T)||(T=[T]);for(var A=0;A<T.length;A++){var b=T[A],R=b.body?b.body:b;n.remove(this.localWorld,R,C)}return this},removeConstraint:function(T,C){return n.remove(this.localWorld,T,C),this},convertTilemapLayer:function(T,C){var A=T.layer,b=T.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(b,C),this},convertTiles:function(T,C){if(T.length===0)return this;for(var A=0;A<T.length;A++)new d(this,T[A],C);return this},nextGroup:function(T){return f.nextGroup(T)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(T,C){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,b=this.runner,R=A.timing;b.isFixed?C=this.getDelta(T,C):(C=T-b.timePrev||b.delta,b.timePrev=T,b.deltaHistory.push(C),b.deltaHistory=b.deltaHistory.slice(-b.deltaSampleSize),C=Math.min.apply(null,b.deltaHistory),C=C<b.deltaMin?b.deltaMin:C,C=C>b.deltaMax?b.deltaMax:C,b.delta=C),b.timeScalePrev=R.timeScale,b.frameCounter+=1,T-b.counterTimestamp>=1e3&&(b.fps=b.frameCounter*((T-b.counterTimestamp)/1e3),b.counterTimestamp=T,b.frameCounter=0),e.update(A,C)}},step:function(T){e.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var C=T.hasOwnProperty("body")?T.body:T;return n.get(this.localWorld,C.id,C.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,C=this.engine,A=this.debugGraphic,b=n.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&C.broadphase.controller&&this.renderGrid(C.broadphase,A,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(b,A,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(b),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(b,A,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(b,A,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(C.pairs.list,A,T.separationColor),T.showCollisions&&this.renderCollisions(C.pairs.list,A,T.collisionColor)}},renderGrid:function(T,C,A,b){C.lineStyle(1,A,b);for(var R=i.keys(T.buckets),F=0;F<R.length;F++){var L=R[F];if(!(T.buckets[L].length<2)){var O=L.split(/C|R/);C.strokeRect(parseInt(O[1],10)*T.bucketWidth,parseInt(O[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,C,A){C.lineStyle(1,A,1);for(var b=0;b<T.length;b++){var R=T[b];if(R.isActive){var F=R.collision,L=F.bodyA,O=F.bodyB,I=L.position,B=O.position,U=F.penetration,H=!L.isStatic&&!O.isStatic?4:1;O.isStatic&&(H=0),C.lineBetween(B.x,B.y,B.x-U.x*H,B.y-U.y*H),H=!L.isStatic&&!O.isStatic?4:1,L.isStatic&&(H=0),C.lineBetween(I.x,I.y,I.x-U.x*H,I.y-U.y*H)}}return this},renderCollisions:function(T,C,A){C.lineStyle(1,A,.5),C.fillStyle(A,1);var b,R;for(b=0;b<T.length;b++)if(R=T[b],!!R.isActive)for(var F=0;F<R.activeContacts.length;F++){var L=R.activeContacts[F],O=L.vertex;C.fillRect(O.x-2,O.y-2,5,5)}for(b=0;b<T.length;b++)if(R=T[b],!!R.isActive){var I=R.collision,B=R.activeContacts;if(B.length>0){var U=B[0].vertex.x,H=B[0].vertex.y;B.length===2&&(U=(B[0].vertex.x+B[1].vertex.x)/2,H=(B[0].vertex.y+B[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic?C.lineBetween(U-I.normal.x*8,H-I.normal.y*8,U,H):C.lineBetween(U+I.normal.x*8,H+I.normal.y*8,U,H)}}return this},renderBodyBounds:function(T,C,A,b){C.lineStyle(1,A,b);for(var R=0;R<T.length;R++){var F=T[R];if(F.render.visible){var L=F.bounds;if(L)C.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var O=F.parts,I=O.length>1?1:0;I<O.length;I++){var B=O[I];C.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(T,C,A,b,R){C.lineStyle(1,b,R);for(var F=0;F<T.length;F++){var L=T[F],O=L.parts;if(L.render.visible){var I,B,U;if(A)for(B=O.length>1?1:0;B<O.length;B++)for(I=O[B],U=0;U<I.axes.length;U++){var H=I.axes[U];C.lineBetween(I.position.x,I.position.y,I.position.x+H.x*20,I.position.y+H.y*20)}else for(B=O.length>1?1:0;B<O.length;B++)for(I=O[B],U=0;U<I.axes.length;U++)C.lineBetween(I.position.x,I.position.y,(I.vertices[0].x+I.vertices[I.vertices.length-1].x)/2,(I.vertices[0].y+I.vertices[I.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,C,A,b,R){C.lineStyle(R,A,b);for(var F=0;F<T.length;F++){var L=T[F];L.render.visible&&C.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(T){for(var C=this.debugGraphic,A=this.debugConfig,b=A.showBody,R=A.showStaticBody,F=A.showSleeping,L=A.showInternalEdges,O=A.showConvexHulls,I=A.renderFill,B=A.renderLine,U=A.staticBodySleepOpacity,H=A.sleepFillColor,J=A.sleepLineColor,tt=A.hullColor,X=0;X<T.length;X++){var j=T[X];if(j.render.visible&&!(!R&&j.isStatic||!b&&!j.isStatic)){var D=j.render.lineColor,z=j.render.lineOpacity,$=j.render.lineThickness,K=j.render.fillColor,Z=j.render.fillOpacity;F&&j.isSleeping&&(j.isStatic?(z*=U,Z*=U):(D=J,K=H)),I||(K=null),B||(D=null),this.renderBody(j,C,L,D,z,$,K,Z);var it=j.parts.length;O&&it>1&&this.renderConvexHull(j,C,tt,$)}}},renderBody:function(T,C,A,b,R,F,L,O){b===void 0&&(b=null),R===void 0&&(R=null),F===void 0&&(F=1),L===void 0&&(L=null),O===void 0&&(O=null);for(var I=this.debugConfig,B=I.sensorFillColor,U=I.sensorLineColor,H=T.parts,J=H.length,tt=J>1?1:0;tt<J;tt++){var X=H[tt],j=X.render,D=j.opacity;if(!(!j.visible||D===0||X.isSensor&&!I.showSensors)){var z=X.circleRadius;if(C.beginPath(),X.isSensor?(L!==null&&C.fillStyle(B,O*D),b!==null&&C.lineStyle(F,U,R*D)):(L!==null&&C.fillStyle(L,O*D),b!==null&&C.lineStyle(F,b,R*D)),z)C.arc(X.position.x,X.position.y,z,0,2*Math.PI);else{var $=X.vertices,K=$.length;C.moveTo($[0].x,$[0].y);for(var Z=1;Z<K;Z++){var it=$[Z];if(!$[Z-1].isInternal||A?C.lineTo(it.x,it.y):C.moveTo(it.x,it.y),Z<K&&it.isInternal&&!A){var st=(Z+1)%K;C.moveTo($[st].x,$[st].y)}}C.closePath()}L!==null&&C.fillPath(),b!==null&&C.strokePath()}}if(I.showPositions&&!T.isStatic){var at=T.position.x,ut=T.position.y,vt=Math.ceil(I.positionSize/2);C.fillStyle(I.positionColor,1),C.fillRect(at-vt,ut-vt,I.positionSize,I.positionSize)}return this},renderConvexHull:function(T,C,A,b){b===void 0&&(b=1);var R=T.parts,F=R.length;if(F>1){var L=T.vertices;C.lineStyle(b,A),C.beginPath(),C.moveTo(L[0].x,L[0].y);for(var O=1;O<L.length;O++)C.lineTo(L[O].x,L[O].y);C.lineTo(L[0].x,L[0].y),C.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,C=n.allConstraints(this.localWorld),A=0;A<C.length;A++){var b=C[A].render,R=b.lineColor,F=b.lineOpacity,L=b.lineThickness,O=b.pinSize,I=b.anchorColor,B=b.anchorSize;this.renderConstraint(C[A],T,R,F,L,O,I,B)}},renderConstraint:function(T,C,A,b,R,F,L,O){var I=T.render;if(!I.visible||!T.pointA||!T.pointB)return this;C.lineStyle(R,A,b);var B=T.bodyA,U=T.bodyB,H,J;if(B?H=x.add(B.position,T.pointA):H=T.pointA,I.type==="pin")C.strokeCircle(H.x,H.y,F);else{if(U?J=x.add(U.position,T.pointB):J=T.pointB,C.beginPath(),C.moveTo(H.x,H.y),I.type==="spring")for(var tt=x.sub(J,H),X=x.perp(x.normalise(tt)),j=Math.ceil(i.clamp(T.length/5,12,20)),D,z=1;z<j;z+=1)D=z%2===0?1:-1,C.lineTo(H.x+tt.x*(z/j)+X.x*D*4,H.y+tt.y*(z/j)+X.y*D*4);C.lineTo(J.x,J.y)}return C.strokePath(),I.anchors&&O>0&&(C.fillStyle(L),C.fillCircle(H.x,H.y,O),C.fillCircle(J.x,J.y,O)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){u.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=S},70410:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t){return this.body.restitution=t,this}};c.exports=y},66968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var o=0;if(!Array.isArray(t))o=t;else for(var p=0;p<t.length;p++)o|=t[p];return this.body.collisionFilter.mask=o,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,o){Array.isArray(t)||(t=[t]);for(var p=0;p<t.length;p++){var s=t[p].hasOwnProperty("body")?t[p].body:t[p];this.body.setOnCollideWith(s,o)}return this}};c.exports=y},51607:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p={applyForce:function(s){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,s),this},applyForceFrom:function(s,i){return o.applyForce(this.body,s,i),this},thrust:function(s){var i=this.body.angle;return this._tempVec2.set(s*Math.cos(i),s*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(s){var i=this.body.angle-Math.PI/2;return this._tempVec2.set(s*Math.cos(i),s*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(s){var i=this.body.angle+Math.PI/2;return this._tempVec2.set(s*Math.cos(i),s*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(s){var i=this.body.angle-Math.PI;return this._tempVec2.set(s*Math.cos(i),s*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=p},5436:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,o,p){return this.body.friction=t,o!==void 0&&(this.body.frictionAir=o),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};c.exports=y},39858:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};c.exports=y},37302:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p=t(26099),s={setMass:function(i){return o.setMass(this.body,i),this},setDensity:function(i){return o.setDensity(this.body,i),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=s},39132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};c.exports=y},57772:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),s=t(43855),i=t(95540),n=t(19496),e=t(85791),r=t(41598),l={setRectangle:function(a,h,f){return this.setBody({type:"rectangle",width:a,height:h},f)},setCircle:function(a,h){return this.setBody({type:"circle",radius:a},h)},setPolygon:function(a,h,f){return this.setBody({type:"polygon",sides:h,radius:a},f)},setTrapezoid:function(a,h,f,u){return this.setBody({type:"trapezoid",width:a,height:h,slope:f},u)},setExistingBody:function(a,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var f=0;f<a.parts.length;f++)a.parts[f].gameObject=this;var u=this;if(a.destroy=function(){u.world.remove(u.body,!0),u.body.gameObject=null},h&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var d=a.render.sprite.xOffset,m=a.render.sprite.yOffset,x=a.centerOfMass.x,S=a.centerOfMass.y;if(s(x,.5)&&s(S,.5))this.setOrigin(d+.5,m+.5);else{var T=a.centerOffset.x,C=a.centerOffset.y;this.setOrigin(d+T/this.displayWidth,m+C/this.displayHeight)}}return this},setBody:function(a,h){if(!a)return this;var f;typeof a=="string"&&(a={type:a});var u=i(a,"type","rectangle"),d=i(a,"x",this._tempVec2.x),m=i(a,"y",this._tempVec2.y),x=i(a,"width",this.width),S=i(a,"height",this.height);switch(u){case"rectangle":f=o.rectangle(d,m,x,S,h);break;case"circle":var T=i(a,"radius",Math.max(x,S)/2),C=i(a,"maxSides",25);f=o.circle(d,m,T,h,C);break;case"trapezoid":var A=i(a,"slope",.5);f=o.trapezoid(d,m,x,S,A,h);break;case"polygon":var b=i(a,"sides",5),R=i(a,"radius",Math.max(x,S)/2);f=o.polygon(d,m,b,R,h);break;case"fromVertices":case"fromVerts":var F=i(a,"verts",null);if(F)if(typeof F=="string"&&(F=r.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,F),f=this.body;else{var L=i(a,"flagInternal",!1),O=i(a,"removeCollinear",.01),I=i(a,"minimumArea",10);f=o.fromVertices(d,m,F,h,L,O,I)}break;case"fromPhysicsEditor":f=n.parseBody(d,m,a,h);break;case"fromPhysicsTracer":f=e.parseBody(d,m,a,h);break}return f&&this.setExistingBody(f,a.addToWorld),this}};c.exports=l},38083:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1121),p=t(53614),s=t(35810),i={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;s.on(this.body,"sleepStart",function(r){e.emit(o.SLEEP_START,r,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;s.on(this.body,"sleepEnd",function(r){e.emit(o.SLEEP_END,r,this)})}else s.off(this.body,"sleepEnd");return this}};c.exports=i},90556:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p={setStatic:function(s){return o.setStatic(this.body,s),this},isStatic:function(){return this.body.isStatic}};c.exports=p},85436:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p=t(36383),s=t(86554),i=t(30954),n=4,e={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),o.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var l=1/this._scaleX,a=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=~n:this.renderFlags|=n,o.scale(this.body,l,a),o.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var l=1/this._scaleX,a=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=~n:this.renderFlags|=n,o.scale(this.body,l,a),o.scale(this.body,this._scaleX,r)}},angle:{get:function(){return i(this.body.angle*p.RAD_TO_DEG)},set:function(r){this.rotation=i(r)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=s(r),o.setAngle(this.body,this._rotation)}},setPosition:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this._tempVec2.set(r,l),o.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=s(r),o.setAngle(this.body,r),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,o.setAngle(this.body,this.rotation),this},setScale:function(r,l,a){r===void 0&&(r=1),l===void 0&&(l=r);var h=1/this._scaleX,f=1/this._scaleY;return this._scaleX=r,this._scaleY=l,o.scale(this.body,h,f,a),o.scale(this.body,r,l,a),this}};c.exports=e},42081:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p={setVelocityX:function(s){return this._tempVec2.set(s,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(s){return this._tempVec2.set(this.body.velocity.x,s),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(s,i){return this._tempVec2.set(s,i),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(s){return o.setAngularVelocity(this.body,s),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(s){return o.setAngularSpeed(this.body,s),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};c.exports=p},31884:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},1213:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},25968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},67205:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},39438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},44823:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},92593:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},60128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},76861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},92362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},76408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},93971:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},5656:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},47861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},79099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},35906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},1121:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(c,y,t)=>{var o={};c.exports=o;var p=t(41598),s=t(31725),i=t(53614),n=t(53402),e=t(15647),r=t(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(a){var h={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=p.centre(a.vertices):a.hasOwnProperty("vertices")||(h.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=n.extend(h,a);return l(f,a),f.setOnCollideWith=function(u,d){return d?this.onCollideWith[u.id]=d:delete this.onCollideWith[u.id],this},f},o.nextGroup=function(a){return a?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var l=function(a,h){if(h=h||{},o.set(a,{bounds:a.bounds||e.create(a.vertices),positionPrev:a.positionPrev||s.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),p.rotate(a.vertices,a.angle,a.position),r.rotate(a.axes,a.angle),e.update(a.bounds,a.vertices,a.velocity),o.set(a,{axes:h.axes||a.axes,area:h.area||a.area,mass:h.mass||a.mass,inertia:h.inertia||a.inertia}),a.parts.length===1){var f=a.bounds,u=a.centerOfMass,d=a.centerOffset,m=f.max.x-f.min.x,x=f.max.y-f.min.y;u.x=-(f.min.x-a.position.x)/m,u.y=-(f.min.y-a.position.y)/x,d.x=m*u.x,d.y=x*u.y}};o.set=function(a,h,f){var u;typeof h=="string"&&(u=h,h={},h[u]=f);for(u in h)if(Object.prototype.hasOwnProperty.call(h,u))switch(f=h[u],u){case"isStatic":o.setStatic(a,f);break;case"isSleeping":i.set(a,f);break;case"mass":o.setMass(a,f);break;case"density":o.setDensity(a,f);break;case"inertia":o.setInertia(a,f);break;case"vertices":o.setVertices(a,f);break;case"position":o.setPosition(a,f);break;case"angle":o.setAngle(a,f);break;case"velocity":o.setVelocity(a,f);break;case"angularVelocity":o.setAngularVelocity(a,f);break;case"speed":o.setSpeed(a,f);break;case"angularSpeed":o.setAngularSpeed(a,f);break;case"parts":o.setParts(a,f);break;case"centre":o.setCentre(a,f);break;default:a[u]=f}},o.setStatic=function(a,h){for(var f=0;f<a.parts.length;f++){var u=a.parts[f];h?(u.isStatic||(u._original={restitution:u.restitution,friction:u.friction,mass:u.mass,inertia:u.inertia,density:u.density,inverseMass:u.inverseMass,inverseInertia:u.inverseInertia}),u.restitution=0,u.friction=1,u.mass=u.inertia=u.density=1/0,u.inverseMass=u.inverseInertia=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.angularVelocity=0,u.speed=0,u.angularSpeed=0,u.motion=0):u._original&&(u.restitution=u._original.restitution,u.friction=u._original.friction,u.mass=u._original.mass,u.inertia=u._original.inertia,u.density=u._original.density,u.inverseMass=u._original.inverseMass,u.inverseInertia=u._original.inverseInertia,u._original=null),u.isStatic=h}},o.setMass=function(a,h){var f=a.inertia/(a.mass/6);a.inertia=f*(h/6),a.inverseInertia=1/a.inertia,a.mass=h,a.inverseMass=1/a.mass,a.density=a.mass/a.area},o.setDensity=function(a,h){o.setMass(a,h*a.area),a.density=h},o.setInertia=function(a,h){a.inertia=h,a.inverseInertia=1/a.inertia},o.setVertices=function(a,h){h[0].body===a?a.vertices=h:a.vertices=p.create(h,a),a.axes=r.fromVertices(a.vertices),a.area=p.area(a.vertices),o.setMass(a,a.density*a.area);var f=p.centre(a.vertices);p.translate(a.vertices,f,-1),o.setInertia(a,o._inertiaScale*p.inertia(a.vertices,a.mass)),p.translate(a.vertices,a.position),e.update(a.bounds,a.vertices,a.velocity)},o.setParts=function(a,h,f){var u;for(h=h.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,u=0;u<h.length;u++){var d=h[u];d!==a&&(d.parent=a,a.parts.push(d))}if(a.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var m=[];for(u=0;u<h.length;u++)m=m.concat(h[u].vertices);p.clockwiseSort(m);var x=p.hull(m),S=p.centre(x);o.setVertices(a,x),p.translate(a.vertices,S)}var T=o._totalProperties(a),C=T.centre.x,A=T.centre.y,b=a.bounds,R=a.centerOfMass,F=a.centerOffset;e.update(b,a.vertices,a.velocity),R.x=-(b.min.x-C)/(b.max.x-b.min.x),R.y=-(b.min.y-A)/(b.max.y-b.min.y),F.x=C,F.y=A,a.area=T.area,a.parent=a,a.position.x=C,a.position.y=A,a.positionPrev.x=C,a.positionPrev.y=A,o.setMass(a,T.mass),o.setInertia(a,T.inertia),o.setPosition(a,T.centre)}},o.setCentre=function(a,h,f){f?(a.positionPrev.x+=h.x,a.positionPrev.y+=h.y,a.position.x+=h.x,a.position.y+=h.y):(a.positionPrev.x=h.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=h.y-(a.position.y-a.positionPrev.y),a.position.x=h.x,a.position.y=h.y)},o.setPosition=function(a,h,f){var u=s.sub(h,a.position);f?(a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.velocity.x=u.x,a.velocity.y=u.y,a.speed=s.magnitude(u)):(a.positionPrev.x+=u.x,a.positionPrev.y+=u.y);for(var d=0;d<a.parts.length;d++){var m=a.parts[d];m.position.x+=u.x,m.position.y+=u.y,p.translate(m.vertices,u),e.update(m.bounds,m.vertices,a.velocity)}},o.setAngle=function(a,h,f){var u=h-a.angle;f?(a.anglePrev=a.angle,a.angularVelocity=u,a.angularSpeed=Math.abs(u)):a.anglePrev+=u;for(var d=0;d<a.parts.length;d++){var m=a.parts[d];m.angle+=u,p.rotate(m.vertices,u,a.position),r.rotate(m.axes,u),e.update(m.bounds,m.vertices,a.velocity),d>0&&s.rotateAbout(m.position,u,a.position,m.position)}},o.setVelocity=function(a,h){var f=a.deltaTime/o._baseDelta;a.positionPrev.x=a.position.x-h.x*f,a.positionPrev.y=a.position.y-h.y*f,a.velocity.x=(a.position.x-a.positionPrev.x)/f,a.velocity.y=(a.position.y-a.positionPrev.y)/f,a.speed=s.magnitude(a.velocity)},o.getVelocity=function(a){var h=o._baseDelta/a.deltaTime;return{x:(a.position.x-a.positionPrev.x)*h,y:(a.position.y-a.positionPrev.y)*h}},o.getSpeed=function(a){return s.magnitude(o.getVelocity(a))},o.setSpeed=function(a,h){o.setVelocity(a,s.mult(s.normalise(o.getVelocity(a)),h))},o.setAngularVelocity=function(a,h){var f=a.deltaTime/o._baseDelta;a.anglePrev=a.angle-h*f,a.angularVelocity=(a.angle-a.anglePrev)/f,a.angularSpeed=Math.abs(a.angularVelocity)},o.getAngularVelocity=function(a){return(a.angle-a.anglePrev)*o._baseDelta/a.deltaTime},o.getAngularSpeed=function(a){return Math.abs(o.getAngularVelocity(a))},o.setAngularSpeed=function(a,h){o.setAngularVelocity(a,n.sign(o.getAngularVelocity(a))*h)},o.translate=function(a,h,f){o.setPosition(a,s.add(a.position,h),f)},o.rotate=function(a,h,f,u){if(!f)o.setAngle(a,a.angle+h,u);else{var d=Math.cos(h),m=Math.sin(h),x=a.position.x-f.x,S=a.position.y-f.y;o.setPosition(a,{x:f.x+(x*d-S*m),y:f.y+(x*m+S*d)},u),o.setAngle(a,a.angle+h,u)}},o.scale=function(a,h,f,u){var d=0,m=0;u=u||a.position;for(var x=a.inertia===1/0,S=0;S<a.parts.length;S++){var T=a.parts[S];T.scale.x=h,T.scale.y=f,p.scale(T.vertices,h,f,u),T.axes=r.fromVertices(T.vertices),T.area=p.area(T.vertices),o.setMass(T,a.density*T.area),p.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),o.setInertia(T,o._inertiaScale*p.inertia(T.vertices,T.mass)),p.translate(T.vertices,{x:T.position.x,y:T.position.y}),S>0&&(d+=T.area,m+=T.inertia),T.position.x=u.x+(T.position.x-u.x)*h,T.position.y=u.y+(T.position.y-u.y)*f,e.update(T.bounds,T.vertices,a.velocity)}a.parts.length>1&&(a.area=d,a.isStatic||(o.setMass(a,a.density*d),o.setInertia(a,m))),a.circleRadius&&(h===f?a.circleRadius*=h:a.circleRadius=null),x&&o.setInertia(a,1/0)},o.update=function(a,h){h=(typeof h<"u"?h:16.666666666666668)*a.timeScale;var f=h*h,u=o._timeCorrection?h/(a.deltaTime||h):1,d=1-a.frictionAir*(h/n._baseDelta),m=(a.position.x-a.positionPrev.x)*u,x=(a.position.y-a.positionPrev.y)*u;a.velocity.x=m*d+a.force.x/a.mass*f,a.velocity.y=x*d+a.force.y/a.mass*f,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.deltaTime=h,a.angularVelocity=(a.angle-a.anglePrev)*d*u+a.torque/a.inertia*f,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=s.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var S=0;S<a.parts.length;S++){var T=a.parts[S];p.translate(T.vertices,a.velocity),S>0&&(T.position.x+=a.velocity.x,T.position.y+=a.velocity.y),a.angularVelocity!==0&&(p.rotate(T.vertices,a.angularVelocity,a.position),r.rotate(T.axes,a.angularVelocity),S>0&&s.rotateAbout(T.position,a.angularVelocity,a.position,T.position)),e.update(T.bounds,T.vertices,a.velocity)}},o.updateVelocities=function(a){var h=o._baseDelta/a.deltaTime,f=a.velocity;f.x=(a.position.x-a.positionPrev.x)*h,f.y=(a.position.y-a.positionPrev.y)*h,a.speed=Math.sqrt(f.x*f.x+f.y*f.y),a.angularVelocity=(a.angle-a.anglePrev)*h,a.angularSpeed=Math.abs(a.angularVelocity)},o.applyForce=function(a,h,f){var u={x:h.x-a.position.x,y:h.y-a.position.y};a.force.x+=f.x,a.force.y+=f.y,a.torque+=u.x*f.y-u.y*f.x},o._totalProperties=function(a){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=a.parts.length===1?0:1;f<a.parts.length;f++){var u=a.parts[f],d=u.mass!==1/0?u.mass:1;h.mass+=d,h.area+=u.area,h.inertia+=u.inertia,h.centre=s.add(h.centre,s.mult(u.position,d))}return h.centre=s.div(h.centre,h.mass),h}})()},69351:(c,y,t)=>{var o={};c.exports=o;var p=t(35810),s=t(53402),i=t(15647),n=t(22562);(function(){o.create=function(e){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},o.setModified=function(e,r,l,a){if(p.trigger(e,"compositeModified",e),e.isModified=r,r&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&o.setModified(e.parent,r,l,a),a)for(var h=0;h<e.composites.length;h++){var f=e.composites[h];o.setModified(f,r,l,a)}},o.add=function(e,r){var l=[].concat(r);p.trigger(e,"beforeAdd",{object:r});for(var a=0;a<l.length;a++){var h=l[a];switch(h.type){case"body":if(h.parent!==h){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,h);break;case"constraint":o.addConstraint(e,h);break;case"composite":o.addComposite(e,h);break;case"mouseConstraint":o.addConstraint(e,h.constraint);break}}return p.trigger(e,"afterAdd",{object:r}),e},o.remove=function(e,r,l){var a=[].concat(r);p.trigger(e,"beforeRemove",{object:r});for(var h=0;h<a.length;h++){var f=a[h];switch(f.type){case"body":o.removeBody(e,f,l);break;case"constraint":o.removeConstraint(e,f,l);break;case"composite":o.removeComposite(e,f,l);break;case"mouseConstraint":o.removeConstraint(e,f.constraint);break}}return p.trigger(e,"afterRemove",{object:r}),e},o.addComposite=function(e,r){return e.composites.push(r),r.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,r,l){var a=s.indexOf(e.composites,r);if(a!==-1&&o.removeCompositeAt(e,a),l)for(var h=0;h<e.composites.length;h++)o.removeComposite(e.composites[h],r,!0);return e},o.removeCompositeAt=function(e,r){return e.composites.splice(r,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,r){return e.bodies.push(r),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,r,l){var a=s.indexOf(e.bodies,r);if(a!==-1&&o.removeBodyAt(e,a),l)for(var h=0;h<e.composites.length;h++)o.removeBody(e.composites[h],r,!0);return e},o.removeBodyAt=function(e,r){return e.bodies.splice(r,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,r){return e.constraints.push(r),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,r,l){var a=s.indexOf(e.constraints,r);if(a!==-1&&o.removeConstraintAt(e,a),l)for(var h=0;h<e.composites.length;h++)o.removeConstraint(e.composites[h],r,!0);return e},o.removeConstraintAt=function(e,r){return e.constraints.splice(r,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,r,l){if(l)for(var a=0;a<e.composites.length;a++)o.clear(e.composites[a],r,!0);return r?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var r=[].concat(e.bodies),l=0;l<e.composites.length;l++)r=r.concat(o.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=r),r},o.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var r=[].concat(e.constraints),l=0;l<e.composites.length;l++)r=r.concat(o.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=r),r},o.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var r=[].concat(e.composites),l=0;l<e.composites.length;l++)r=r.concat(o.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=r),r},o.get=function(e,r,l){var a,h;switch(l){case"body":a=o.allBodies(e);break;case"constraint":a=o.allConstraints(e);break;case"composite":a=o.allComposites(e).concat(e);break}return a?(h=a.filter(function(f){return f.id.toString()===r.toString()}),h.length===0?null:h[0]):null},o.move=function(e,r,l){return o.remove(e,r),o.add(l,r),e},o.rebase=function(e){for(var r=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),l=0;l<r.length;l++)r[l].id=s.nextId();return e},o.translate=function(e,r,l){for(var a=l?o.allBodies(e):e.bodies,h=0;h<a.length;h++)n.translate(a[h],r);return e},o.rotate=function(e,r,l,a){for(var h=Math.cos(r),f=Math.sin(r),u=a?o.allBodies(e):e.bodies,d=0;d<u.length;d++){var m=u[d],x=m.position.x-l.x,S=m.position.y-l.y;n.setPosition(m,{x:l.x+(x*h-S*f),y:l.y+(x*f+S*h)}),n.rotate(m,r)}return e},o.scale=function(e,r,l,a,h){for(var f=h?o.allBodies(e):e.bodies,u=0;u<f.length;u++){var d=f[u],m=d.position.x-a.x,x=d.position.y-a.y;n.setPosition(d,{x:a.x+m*r,y:a.y+x*l}),n.scale(d,r,l)}return e},o.bounds=function(e){for(var r=o.allBodies(e),l=[],a=0;a<r.length;a+=1){var h=r[a];l.push(h.bounds.min,h.bounds.max)}return i.create(l)}})()},4372:(c,y,t)=>{var o={};c.exports=o;var p=t(69351);(function(){o.create=p.create,o.add=p.add,o.remove=p.remove,o.clear=p.clear,o.addComposite=p.addComposite,o.addBody=p.addBody,o.addConstraint=p.addConstraint})()},52284:(c,y,t)=>{var o={};c.exports=o;var p=t(41598),s=t(4506);(function(){var i=[],n={overlap:0,axis:null},e={overlap:0,axis:null};o.create=function(r,l){return{pair:null,collided:!1,bodyA:r,bodyB:l,parentA:r.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},o.collides=function(r,l,a){if(o._overlapAxes(n,r.vertices,l.vertices,r.axes),n.overlap<=0||(o._overlapAxes(e,l.vertices,r.vertices,l.axes),e.overlap<=0))return null;var h=a&&a.table[s.id(r,l)],f;h?f=h.collision:(f=o.create(r,l),f.collided=!0,f.bodyA=r.id<l.id?r:l,f.bodyB=r.id<l.id?l:r,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),r=f.bodyA,l=f.bodyB;var u;n.overlap<e.overlap?u=n:u=e;var d=f.normal,m=f.supports,x=u.axis,S=x.x,T=x.y;S*(l.position.x-r.position.x)+T*(l.position.y-r.position.y)<0?(d.x=S,d.y=T):(d.x=-S,d.y=-T),f.tangent.x=-d.y,f.tangent.y=d.x,f.depth=u.overlap,f.penetration.x=d.x*f.depth,f.penetration.y=d.y*f.depth;var C=o._findSupports(r,l,d,1),A=0;if(p.contains(r.vertices,C[0])&&(m[A++]=C[0]),p.contains(r.vertices,C[1])&&(m[A++]=C[1]),A<2){var b=o._findSupports(l,r,d,-1);p.contains(l.vertices,b[0])&&(m[A++]=b[0]),A<2&&p.contains(l.vertices,b[1])&&(m[A++]=b[1])}return A===0&&(m[A++]=C[0]),m.length=A,f},o._overlapAxes=function(r,l,a,h){var f=l.length,u=a.length,d=l[0].x,m=l[0].y,x=a[0].x,S=a[0].y,T=h.length,C=Number.MAX_VALUE,A=0,b,R,F,L,O,I;for(O=0;O<T;O++){var B=h[O],U=B.x,H=B.y,J=d*U+m*H,tt=x*U+S*H,X=J,j=tt;for(I=1;I<f;I+=1)L=l[I].x*U+l[I].y*H,L>X?X=L:L<J&&(J=L);for(I=1;I<u;I+=1)L=a[I].x*U+a[I].y*H,L>j?j=L:L<tt&&(tt=L);if(R=X-tt,F=j-J,b=R<F?R:F,b<C&&(C=b,A=O,b<=0))break}r.axis=h[A],r.overlap=C},o._projectToAxis=function(r,l,a){for(var h=l[0].x*a.x+l[0].y*a.y,f=h,u=1;u<l.length;u+=1){var d=l[u].x*a.x+l[u].y*a.y;d>f?f=d:d<h&&(h=d)}r.min=h,r.max=f},o._findSupports=function(r,l,a,h){var f=l.vertices,u=f.length,d=r.position.x,m=r.position.y,x=a.x*h,S=a.y*h,T=Number.MAX_VALUE,C,A,b,R,F;for(F=0;F<u;F+=1)A=f[F],R=x*(d-A.x)+S*(m-A.y),R<T&&(T=R,C=A);return b=f[(u+C.index-1)%u],T=x*(d-b.x)+S*(m-b.y),A=f[(C.index+1)%u],x*(d-A.x)+S*(m-A.y)<T?(i[0]=C,i[1]=A,i):(i[0]=C,i[1]=b,i)}})()},43424:c=>{var y={};c.exports=y,function(){y.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,y,t)=>{var o={};c.exports=o;var p=t(53402),s=t(52284);(function(){o.create=function(i){var n={bodies:[],pairs:null};return p.extend(n,i)},o.setBodies=function(i,n){i.bodies=n.slice(0)},o.clear=function(i){i.bodies=[]},o.collisions=function(i){var n=[],e=i.pairs,r=i.bodies,l=r.length,a=o.canCollide,h=s.collides,f,u;for(r.sort(o._compareBoundsX),f=0;f<l;f++){var d=r[f],m=d.bounds,x=d.bounds.max.x,S=d.bounds.max.y,T=d.bounds.min.y,C=d.isStatic||d.isSleeping,A=d.parts.length,b=A===1;for(u=f+1;u<l;u++){var R=r[u],F=R.bounds;if(F.min.x>x)break;if(!(S<F.min.y||T>F.max.y)&&!(C&&(R.isStatic||R.isSleeping))&&a(d.collisionFilter,R.collisionFilter)){var L=R.parts.length;if(b&&L===1){var O=h(d,R,e);O&&n.push(O)}else for(var I=A>1?1:0,B=L>1?1:0,U=I;U<A;U++)for(var H=d.parts[U],m=H.bounds,J=B;J<L;J++){var tt=R.parts[J],F=tt.bounds;if(!(m.min.x>F.max.x||m.max.x<F.min.x||m.max.y<F.min.y||m.min.y>F.max.y)){var O=h(H,tt,e);O&&n.push(O)}}}}}return n},o.canCollide=function(i,n){return i.group===n.group&&i.group!==0?i.group>0:(i.mask&n.category)!==0&&(n.mask&i.category)!==0},o._compareBoundsX=function(i,n){return i.bounds.min.x-n.bounds.min.x}})()},4506:(c,y,t)=>{var o={};c.exports=o;var p=t(43424);(function(){o.create=function(s,i){var n=s.bodyA,e=s.bodyB,r={id:o.id(n,e),bodyA:n,bodyB:e,collision:s,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:i,timeUpdated:i,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(r,s,i),r},o.update=function(s,i,n){var e=s.contacts,r=i.supports,l=s.activeContacts,a=i.parentA,h=i.parentB,f=a.vertices.length;s.isActive=!0,s.timeUpdated=n,s.collision=i,s.separation=i.depth,s.inverseMass=a.inverseMass+h.inverseMass,s.friction=a.friction<h.friction?a.friction:h.friction,s.frictionStatic=a.frictionStatic>h.frictionStatic?a.frictionStatic:h.frictionStatic,s.restitution=a.restitution>h.restitution?a.restitution:h.restitution,s.slop=a.slop>h.slop?a.slop:h.slop,i.pair=s,l.length=0;for(var u=0;u<r.length;u++){var d=r[u],m=d.body===a?d.index:f+d.index,x=e[m];x?l.push(x):l.push(e[m]=p.create(d))}},o.setActive=function(s,i,n){i?(s.isActive=!0,s.timeUpdated=n):(s.isActive=!1,s.activeContacts.length=0)},o.id=function(s,i){return s.id<i.id?"A"+s.id+"B"+i.id:"A"+i.id+"B"+s.id}})()},99561:(c,y,t)=>{var o={};c.exports=o;var p=t(4506),s=t(53402);(function(){o.create=function(i){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},o.update=function(i,n,e){var r=i.list,l=r.length,a=i.table,h=n.length,f=i.collisionStart,u=i.collisionEnd,d=i.collisionActive,m,x,S,T;for(f.length=0,u.length=0,d.length=0,T=0;T<l;T++)r[T].confirmedActive=!1;for(T=0;T<h;T++)m=n[T],S=m.pair,S?(S.isActive?d.push(S):f.push(S),p.update(S,m,e),S.confirmedActive=!0):(S=p.create(m,e),a[S.id]=S,f.push(S),r.push(S));var C=[];for(l=r.length,T=0;T<l;T++)S=r[T],S.confirmedActive||(p.setActive(S,!1,e),u.push(S),!S.collision.bodyA.isSleeping&&!S.collision.bodyB.isSleeping&&C.push(T));for(T=0;T<C.length;T++)x=C[T]-T,S=r[x],r.splice(x,1),delete a[S.id]},o.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},73296:(c,y,t)=>{var o={};c.exports=o;var p=t(31725),s=t(52284),i=t(15647),n=t(66280),e=t(41598);(function(){o.collides=function(r,l){for(var a=[],h=l.length,f=r.bounds,u=s.collides,d=i.overlaps,m=0;m<h;m++){var x=l[m],S=x.parts.length,T=S===1?0:1;if(r!==x&&d(x.bounds,f))for(var C=T;C<S;C++){var A=x.parts[C];if(d(A.bounds,f)){var b=u(A,r);if(b){a.push(b);break}}}}return a},o.ray=function(r,l,a,h){h=h||1e-100;for(var f=p.angle(l,a),u=p.magnitude(p.sub(l,a)),d=(a.x+l.x)*.5,m=(a.y+l.y)*.5,x=n.rectangle(d,m,u,h,{angle:f}),S=o.collides(x,r),T=0;T<S.length;T+=1){var C=S[T];C.body=C.bodyB=C.bodyA}return S},o.region=function(r,l,a){for(var h=[],f=0;f<r.length;f++){var u=r[f],d=i.overlaps(u.bounds,l);(d&&!a||!d&&a)&&h.push(u)}return h},o.point=function(r,l){for(var a=[],h=0;h<r.length;h++){var f=r[h];if(i.contains(f.bounds,l))for(var u=f.parts.length===1?0:1;u<f.parts.length;u++){var d=f.parts[u];if(i.contains(d.bounds,l)&&e.contains(d.vertices,l)){a.push(f);break}}}return a}})()},66272:(c,y,t)=>{var o={};c.exports=o;var p=t(41598),s=t(53402),i=t(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(n){var e,r,l,a=n.length;for(e=0;e<a;e++)r=n[e],r.isActive&&(l=r.activeContacts.length,r.collision.parentA.totalContacts+=l,r.collision.parentB.totalContacts+=l)},o.solvePosition=function(n,e,r){var l,a,h,f,u,d,m,x,S=o._positionDampen*(r||1),T=s.clamp(e/s._baseDelta,0,1),C=n.length;for(l=0;l<C;l++)a=n[l],!(!a.isActive||a.isSensor)&&(h=a.collision,f=h.parentA,u=h.parentB,d=h.normal,a.separation=d.x*(u.positionImpulse.x+h.penetration.x-f.positionImpulse.x)+d.y*(u.positionImpulse.y+h.penetration.y-f.positionImpulse.y));for(l=0;l<C;l++)a=n[l],!(!a.isActive||a.isSensor)&&(h=a.collision,f=h.parentA,u=h.parentB,d=h.normal,x=a.separation-a.slop*T,(f.isStatic||u.isStatic)&&(x*=2),f.isStatic||f.isSleeping||(m=S/f.totalContacts,f.positionImpulse.x+=d.x*x*m,f.positionImpulse.y+=d.y*x*m),u.isStatic||u.isSleeping||(m=S/u.totalContacts,u.positionImpulse.x-=d.x*x*m,u.positionImpulse.y-=d.y*x*m))},o.postSolvePosition=function(n){for(var e=o._positionWarming,r=n.length,l=p.translate,a=i.update,h=0;h<r;h++){var f=n[h],u=f.positionImpulse,d=u.x,m=u.y,x=f.velocity;if(f.totalContacts=0,d!==0||m!==0){for(var S=0;S<f.parts.length;S++){var T=f.parts[S];l(T.vertices,u),a(T.bounds,T.vertices,x),T.position.x+=d,T.position.y+=m}f.positionPrev.x+=d,f.positionPrev.y+=m,d*x.x+m*x.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},o.preSolveVelocity=function(n){var e=n.length,r,l;for(r=0;r<e;r++){var a=n[r];if(!(!a.isActive||a.isSensor)){var h=a.activeContacts,f=h.length,u=a.collision,d=u.parentA,m=u.parentB,x=u.normal,S=u.tangent;for(l=0;l<f;l++){var T=h[l],C=T.vertex,A=T.normalImpulse,b=T.tangentImpulse;if(A!==0||b!==0){var R=x.x*A+S.x*b,F=x.y*A+S.y*b;d.isStatic||d.isSleeping||(d.positionPrev.x+=R*d.inverseMass,d.positionPrev.y+=F*d.inverseMass,d.anglePrev+=d.inverseInertia*((C.x-d.position.x)*F-(C.y-d.position.y)*R)),m.isStatic||m.isSleeping||(m.positionPrev.x-=R*m.inverseMass,m.positionPrev.y-=F*m.inverseMass,m.anglePrev-=m.inverseInertia*((C.x-m.position.x)*F-(C.y-m.position.y)*R))}}}}},o.solveVelocity=function(n,e){var r=e/s._baseDelta,l=r*r,a=l*r,h=-o._restingThresh*r,f=o._restingThreshTangent,u=o._frictionNormalMultiplier*r,d=o._frictionMaxStatic,m=n.length,x,S,T,C;for(T=0;T<m;T++){var A=n[T];if(!(!A.isActive||A.isSensor)){var b=A.collision,R=b.parentA,F=b.parentB,L=R.velocity,O=F.velocity,I=b.normal.x,B=b.normal.y,U=b.tangent.x,H=b.tangent.y,J=A.activeContacts,tt=J.length,X=1/tt,j=R.inverseMass+F.inverseMass,D=A.friction*A.frictionStatic*u;for(L.x=R.position.x-R.positionPrev.x,L.y=R.position.y-R.positionPrev.y,O.x=F.position.x-F.positionPrev.x,O.y=F.position.y-F.positionPrev.y,R.angularVelocity=R.angle-R.anglePrev,F.angularVelocity=F.angle-F.anglePrev,C=0;C<tt;C++){var z=J[C],$=z.vertex,K=$.x-R.position.x,Z=$.y-R.position.y,it=$.x-F.position.x,st=$.y-F.position.y,at=L.x-Z*R.angularVelocity,ut=L.y+K*R.angularVelocity,vt=O.x-st*F.angularVelocity,xt=O.y+it*F.angularVelocity,Et=at-vt,yt=ut-xt,bt=I*Et+B*yt,Dt=U*Et+H*yt,Vt=A.separation+bt,Nt=Math.min(Vt,1);Nt=Vt<0?0:Nt;var Mt=Nt*D;Dt<-Mt||Dt>Mt?(S=Dt>0?Dt:-Dt,x=A.friction*(Dt>0?1:-1)*a,x<-S?x=-S:x>S&&(x=S)):(x=Dt,S=d);var It=K*B-Z*I,Lt=it*B-st*I,kt=X/(j+R.inverseInertia*It*It+F.inverseInertia*Lt*Lt),qt=(1+A.restitution)*bt*kt;if(x*=kt,bt<h)z.normalImpulse=0;else{var se=z.normalImpulse;z.normalImpulse+=qt,z.normalImpulse>0&&(z.normalImpulse=0),qt=z.normalImpulse-se}if(Dt<-f||Dt>f)z.tangentImpulse=0;else{var ie=z.tangentImpulse;z.tangentImpulse+=x,z.tangentImpulse<-S&&(z.tangentImpulse=-S),z.tangentImpulse>S&&(z.tangentImpulse=S),x=z.tangentImpulse-ie}var oe=I*qt+U*x,zt=B*qt+H*x;R.isStatic||R.isSleeping||(R.positionPrev.x+=oe*R.inverseMass,R.positionPrev.y+=zt*R.inverseMass,R.anglePrev+=(K*zt-Z*oe)*R.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=oe*F.inverseMass,F.positionPrev.y-=zt*F.inverseMass,F.anglePrev-=(it*zt-st*oe)*F.inverseInertia)}}}}})()},48140:(c,y,t)=>{var o={};c.exports=o;var p=t(41598),s=t(31725),i=t(53614),n=t(15647),e=t(66615),r=t(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(l){var a=l;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var h=a.bodyA?s.add(a.bodyA.position,a.pointA):a.pointA,f=a.bodyB?s.add(a.bodyB.position,a.pointB):a.pointB,u=s.magnitude(s.sub(h,f));a.length=typeof a.length<"u"?a.length:u,a.id=a.id||r.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return a.length===0&&a.stiffness>.1?(d.type="pin",d.anchors=!1):a.stiffness<.9&&(d.type="spring"),a.render=r.extend(d,a.render),a},o.preSolveAll=function(l){for(var a=0;a<l.length;a+=1){var h=l[a],f=h.constraintImpulse;h.isStatic||f.x===0&&f.y===0&&f.angle===0||(h.position.x+=f.x,h.position.y+=f.y,h.angle+=f.angle)}},o.solveAll=function(l,a){for(var h=r.clamp(a/r._baseDelta,0,1),f=0;f<l.length;f+=1){var u=l[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,m=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(d||m)&&o.solve(l[f],h)}for(f=0;f<l.length;f+=1)u=l[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,m=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!d&&!m&&o.solve(l[f],h)},o.solve=function(l,a){var h=l.bodyA,f=l.bodyB,u=l.pointA,d=l.pointB;if(!(!h&&!f)){h&&!h.isStatic&&(s.rotate(u,h.angle-l.angleA,u),l.angleA=h.angle),f&&!f.isStatic&&(s.rotate(d,f.angle-l.angleB,d),l.angleB=f.angle);var m=u,x=d;if(h&&(m=s.add(h.position,u)),f&&(x=s.add(f.position,d)),!(!m||!x)){var S=s.sub(m,x),T=s.magnitude(S);T<o._minLength&&(T=o._minLength);var C=(T-l.length)/T,A=l.stiffness>=1||l.length===0,b=A?l.stiffness*a:l.stiffness*a*a,R=l.damping*a,F=s.mult(S,C*b),L=(h?h.inverseMass:0)+(f?f.inverseMass:0),O=(h?h.inverseInertia:0)+(f?f.inverseInertia:0),I=L+O,B,U,H,J,tt;if(R>0){var X=s.create();H=s.div(S,T),tt=s.sub(f&&s.sub(f.position,f.positionPrev)||X,h&&s.sub(h.position,h.positionPrev)||X),J=s.dot(H,tt)}h&&!h.isStatic&&(U=h.inverseMass/L,h.constraintImpulse.x-=F.x*U,h.constraintImpulse.y-=F.y*U,h.position.x-=F.x*U,h.position.y-=F.y*U,R>0&&(h.positionPrev.x-=R*H.x*J*U,h.positionPrev.y-=R*H.y*J*U),B=s.cross(u,F)/I*o._torqueDampen*h.inverseInertia*(1-l.angularStiffness),h.constraintImpulse.angle-=B,h.angle-=B),f&&!f.isStatic&&(U=f.inverseMass/L,f.constraintImpulse.x+=F.x*U,f.constraintImpulse.y+=F.y*U,f.position.x+=F.x*U,f.position.y+=F.y*U,R>0&&(f.positionPrev.x+=R*H.x*J*U,f.positionPrev.y+=R*H.y*J*U),B=s.cross(d,F)/I*o._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=B,f.angle+=B)}}},o.postSolveAll=function(l){for(var a=0;a<l.length;a++){var h=l[a],f=h.constraintImpulse;if(!(h.isStatic||f.x===0&&f.y===0&&f.angle===0)){i.set(h,!1);for(var u=0;u<h.parts.length;u++){var d=h.parts[u];p.translate(d.vertices,f),u>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(p.rotate(d.vertices,f.angle,h.position),e.rotate(d.axes,f.angle),u>0&&s.rotateAbout(d.position,f.angle,h.position,d.position)),n.update(d.bounds,d.vertices,h.velocity)}f.angle*=o._warming,f.x*=o._warming,f.y*=o._warming}}},o.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},o.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},o.currentLength=function(l){var a=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),h=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),u=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),d=a-f,m=h-u;return Math.sqrt(d*d+m*m)}})()},53402:(c,y,t)=>{var o={};c.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(s,i){var n,e;typeof i=="boolean"?(n=2,e=i):(n=1,e=!0);for(var r=n;r<arguments.length;r++){var l=arguments[r];if(l)for(var a in l)e&&l[a]&&l[a].constructor===Object&&(!s[a]||s[a].constructor===Object)?(s[a]=s[a]||{},o.extend(s[a],e,l[a])):s[a]=l[a]}return s},o.clone=function(s,i){return o.extend({},i,s)},o.keys=function(s){if(Object.keys)return Object.keys(s);var i=[];for(var n in s)i.push(n);return i},o.values=function(s){var i=[];if(Object.keys){for(var n=Object.keys(s),e=0;e<n.length;e++)i.push(s[n[e]]);return i}for(var r in s)i.push(s[r]);return i},o.get=function(s,i,n,e){i=i.split(".").slice(n,e);for(var r=0;r<i.length;r+=1)s=s[i[r]];return s},o.set=function(s,i,n,e,r){var l=i.split(".").slice(e,r);return o.get(s,i,0,-1)[l[l.length-1]]=n,n},o.shuffle=function(s){for(var i=s.length-1;i>0;i--){var n=Math.floor(o.random()*(i+1)),e=s[i];s[i]=s[n],s[n]=e}return s},o.choose=function(s){return s[Math.floor(o.random()*s.length)]},o.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},o.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},o.isFunction=function(s){return typeof s=="function"},o.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},o.isString=function(s){return toString.call(s)==="[object String]"},o.clamp=function(s,i,n){return s<i?i:s>n?n:s},o.sign=function(s){return s<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(s,i){return s=typeof s<"u"?s:0,i=typeof i<"u"?i:1,s+p()*(i-s)};var p=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[s]||(o.warn(s),o._warnedOnce[s]=!0)},o.deprecated=function(s,i,n){s[i]=o.chain(function(){o.warnOnce("🔅 deprecated 🔅",n)},s[i])},o.nextId=function(){return o._nextId++},o.indexOf=function(s,i){if(s.indexOf)return s.indexOf(i);for(var n=0;n<s.length;n++)if(s[n]===i)return n;return-1},o.map=function(s,i){if(s.map)return s.map(i);for(var n=[],e=0;e<s.length;e+=1)n.push(i(s[e]));return n},o.topologicalSort=function(s){var i=[],n=[],e=[];for(var r in s)!n[r]&&!e[r]&&o._topologicalSort(r,n,e,s,i);return i},o._topologicalSort=function(s,i,n,e,r){var l=e[s]||[];n[s]=!0;for(var a=0;a<l.length;a+=1){var h=l[a];n[h]||i[h]||o._topologicalSort(h,i,n,e,r)}n[s]=!1,i[s]=!0,r.push(s)},o.chain=function(){for(var s=[],i=0;i<arguments.length;i+=1){var n=arguments[i];n._chained?s.push.apply(s,n._chained):s.push(n)}var e=function(){for(var r,l=new Array(arguments.length),a=0,h=arguments.length;a<h;a++)l[a]=arguments[a];for(a=0;a<s.length;a+=1){var f=s[a].apply(r,l);typeof f<"u"&&(r=f)}return r};return e._chained=s,e},o.chainPathBefore=function(s,i,n){return o.set(s,i,o.chain(n,o.get(s,i)))},o.chainPathAfter=function(s,i,n){return o.set(s,i,o.chain(o.get(s,i),n))},o.setDecomp=function(s){o._decomp=s},o.getDecomp=function(){var s=o._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof t.g<"u"&&(s=t.g.decomp)}catch{s=null}return s}}()},48413:(c,y,t)=>{var o={};c.exports=o;var p=t(53614),s=t(66272),i=t(81388),n=t(99561),e=t(35810),r=t(69351),l=t(48140),a=t(53402),h=t(22562);(function(){o.create=function(f){f=f||{};var u={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=a.extend(u,f);return d.world=f.world||r.create({label:"World"}),d.pairs=f.pairs||n.create(),d.detector=f.detector||i.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},o.update=function(f,u){var d=a.now(),m=f.world,x=f.detector,S=f.pairs,T=f.timing,C=T.timestamp,A;u=typeof u<"u"?u:a._baseDelta,u*=T.timeScale,T.timestamp+=u,T.lastDelta=u;var b={timestamp:T.timestamp,delta:u};e.trigger(f,"beforeUpdate",b);var R=r.allBodies(m),F=r.allConstraints(m);for(m.isModified&&(i.setBodies(x,R),r.setModified(m,!1,!1,!0)),f.enableSleeping&&p.update(R,u),o._bodiesApplyGravity(R,f.gravity),u>0&&o._bodiesUpdate(R,u),e.trigger(f,"beforeSolve",b),l.preSolveAll(R),A=0;A<f.constraintIterations;A++)l.solveAll(F,u);l.postSolveAll(R),x.pairs=f.pairs;var L=i.collisions(x);n.update(S,L,C),f.enableSleeping&&p.afterCollisions(S.list),S.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:S.collisionStart,timestamp:T.timestamp,delta:u});var O=a.clamp(20/f.positionIterations,0,1);for(s.preSolvePosition(S.list),A=0;A<f.positionIterations;A++)s.solvePosition(S.list,u,O);for(s.postSolvePosition(R),l.preSolveAll(R),A=0;A<f.constraintIterations;A++)l.solveAll(F,u);for(l.postSolveAll(R),s.preSolveVelocity(S.list),A=0;A<f.velocityIterations;A++)s.solveVelocity(S.list,u);return o._bodiesUpdateVelocities(R),S.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:S.collisionActive,timestamp:T.timestamp,delta:u}),S.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:S.collisionEnd,timestamp:T.timestamp,delta:u}),o._bodiesClearForces(R),e.trigger(f,"afterUpdate",b),f.timing.lastElapsed=a.now()-d,f},o.merge=function(f,u){if(a.extend(f,u),u.world){f.world=u.world,o.clear(f);for(var d=r.allBodies(f.world),m=0;m<d.length;m++){var x=d[m];p.set(x,!1),x.id=a.nextId()}}},o.clear=function(f){n.clear(f.pairs),i.clear(f.detector)},o._bodiesClearForces=function(f){for(var u=f.length,d=0;d<u;d++){var m=f[d];m.force.x=0,m.force.y=0,m.torque=0}},o._bodiesApplyGravity=function(f,u){var d=typeof u.scale<"u"?u.scale:.001,m=f.length;if(!(u.x===0&&u.y===0||d===0))for(var x=0;x<m;x++){var S=f[x];S.ignoreGravity||S.isStatic||S.isSleeping||(S.force.y+=S.mass*u.y*d,S.force.x+=S.mass*u.x*d)}},o._bodiesUpdate=function(f,u){for(var d=f.length,m=0;m<d;m++){var x=f[m];x.isStatic||x.isSleeping||h.update(x,u)}},o._bodiesUpdateVelocities=function(f){for(var u=f.length,d=0;d<u;d++)h.updateVelocities(f[d])}})()},35810:(c,y,t)=>{var o={};c.exports=o;var p=t(53402);(function(){o.on=function(s,i,n){for(var e=i.split(" "),r,l=0;l<e.length;l++)r=e[l],s.events=s.events||{},s.events[r]=s.events[r]||[],s.events[r].push(n);return n},o.off=function(s,i,n){if(!i){s.events={};return}typeof i=="function"&&(n=i,i=p.keys(s.events).join(" "));for(var e=i.split(" "),r=0;r<e.length;r++){var l=s.events[e[r]],a=[];if(n&&l)for(var h=0;h<l.length;h++)l[h]!==n&&a.push(l[h]);s.events[e[r]]=a}},o.trigger=function(s,i,n){var e,r,l,a,h=s.events;if(h&&p.keys(h).length>0){n||(n={}),e=i.split(" ");for(var f=0;f<e.length;f++)if(r=e[f],l=h[r],l){a=p.clone(n,!1),a.name=r,a.source=s;for(var u=0;u<l.length;u++)l[u].apply(s,[a])}}}})()},6790:(c,y,t)=>{var o={};c.exports=o;var p=t(73832),s=t(53402);(function(){o.name="matter-js",o.version="0.19.0",o.uses=[],o.used=[],o.use=function(){p.use(o,Array.prototype.slice.call(arguments))},o.before=function(i,n){return i=i.replace(/^Matter./,""),s.chainPathBefore(o,i,n)},o.after=function(i,n){return i=i.replace(/^Matter./,""),s.chainPathAfter(o,i,n)}})()},73832:(c,y,t)=>{var o={};c.exports=o;var p=t(53402);(function(){o._registry={},o.register=function(s){if(o.isPlugin(s)||p.warn("Plugin.register:",o.toString(s),"does not implement all required fields."),s.name in o._registry){var i=o._registry[s.name],n=o.versionParse(s.version).number,e=o.versionParse(i.version).number;n>e?(p.warn("Plugin.register:",o.toString(i),"was upgraded to",o.toString(s)),o._registry[s.name]=s):n<e?p.warn("Plugin.register:",o.toString(i),"can not be downgraded to",o.toString(s)):s!==i&&p.warn("Plugin.register:",o.toString(s),"is already registered to different plugin object")}else o._registry[s.name]=s;return s},o.resolve=function(s){return o._registry[o.dependencyParse(s).name]},o.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},o.isPlugin=function(s){return s&&s.name&&s.version&&s.install},o.isUsed=function(s,i){return s.used.indexOf(i)>-1},o.isFor=function(s,i){var n=s.for&&o.dependencyParse(s.for);return!s.for||i.name===n.name&&o.versionSatisfies(i.version,n.range)},o.use=function(s,i){if(s.uses=(s.uses||[]).concat(i||[]),s.uses.length===0){p.warn("Plugin.use:",o.toString(s),"does not specify any dependencies to install.");return}for(var n=o.dependencies(s),e=p.topologicalSort(n),r=[],l=0;l<e.length;l+=1)if(e[l]!==s.name){var a=o.resolve(e[l]);if(!a){r.push("❌ "+e[l]);continue}o.isUsed(s,a.name)||(o.isFor(a,s)||(p.warn("Plugin.use:",o.toString(a),"is for",a.for,"but installed on",o.toString(s)+"."),a._warned=!0),a.install?a.install(s):(p.warn("Plugin.use:",o.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(r.push("🔶 "+o.toString(a)),delete a._warned):r.push("✅ "+o.toString(a)),s.used.push(a.name))}r.length>0&&!a.silent&&p.info(r.join("  "))},o.dependencies=function(s,i){var n=o.dependencyParse(s),e=n.name;if(i=i||{},!(e in i)){s=o.resolve(s)||s,i[e]=p.map(s.uses||[],function(l){o.isPlugin(l)&&o.register(l);var a=o.dependencyParse(l),h=o.resolve(l);return h&&!o.versionSatisfies(h.version,a.range)?(p.warn("Plugin.dependencies:",o.toString(h),"does not satisfy",o.toString(a),"used by",o.toString(n)+"."),h._warned=!0,s._warned=!0):h||(p.warn("Plugin.dependencies:",o.toString(l),"used by",o.toString(n),"could not be resolved."),s._warned=!0),a.name});for(var r=0;r<i[e].length;r+=1)o.dependencies(i[e][r],i);return i}},o.dependencyParse=function(s){if(p.isString(s)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return i.test(s)||p.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},o.versionParse=function(s){var i=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;i.test(s)||p.warn("Plugin.versionParse:",s,"is not a valid version or range.");var n=i.exec(s),e=Number(n[4]),r=Number(n[5]),l=Number(n[6]);return{isRange:!!(n[1]||n[2]),version:n[3],range:s,operator:n[1]||n[2]||"",major:e,minor:r,patch:l,parts:[e,r,l],prerelease:n[7],number:e*1e8+r*1e4+l}},o.versionSatisfies=function(s,i){i=i||"*";var n=o.versionParse(i),e=o.versionParse(s);if(n.isRange){if(n.operator==="*"||s==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return s===i||s==="*"}})()},53614:(c,y,t)=>{var o={};c.exports=o;var p=t(22562),s=t(35810),i=t(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(n,e){for(var r=e/i._baseDelta,l=o._motionSleepThreshold,a=0;a<n.length;a++){var h=n[a],f=p.getSpeed(h),u=p.getAngularSpeed(h),d=f*f+u*u;if(h.force.x!==0||h.force.y!==0){o.set(h,!1);continue}var m=Math.min(h.motion,d),x=Math.max(h.motion,d);h.motion=o._minBias*m+(1-o._minBias)*x,h.sleepThreshold>0&&h.motion<l?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/r&&o.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},o.afterCollisions=function(n){for(var e=o._motionSleepThreshold,r=0;r<n.length;r++){var l=n[r];if(l.isActive){var a=l.collision,h=a.bodyA.parent,f=a.bodyB.parent;if(!(h.isSleeping&&f.isSleeping||h.isStatic||f.isStatic)&&(h.isSleeping||f.isSleeping)){var u=h.isSleeping&&!h.isStatic?h:f,d=u===h?f:h;!u.isStatic&&d.motion>e&&o.set(u,!1)}}}},o.set=function(n,e){var r=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,r||s.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,r&&s.trigger(n,"sleepEnd"))}})()},66280:(c,y,t)=>{var o={};c.exports=o;var p=t(41598),s=t(53402),i=t(22562),n=t(15647),e=t(31725);(function(){o.rectangle=function(r,l,a,h,f){f=f||{};var u={label:"Rectangle Body",position:{x:r,y:l},vertices:p.fromPath("L 0 0 L "+a+" 0 L "+a+" "+h+" L 0 "+h)};if(f.chamfer){var d=f.chamfer;u.vertices=p.chamfer(u.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return i.create(s.extend({},u,f))},o.trapezoid=function(r,l,a,h,f,u){u=u||{},f*=.5;var d=(1-f*2)*a,m=a*f,x=m+d,S=x+m,T;f<.5?T="L 0 0 L "+m+" "+-h+" L "+x+" "+-h+" L "+S+" 0":T="L 0 0 L "+x+" "+-h+" L "+S+" 0";var C={label:"Trapezoid Body",position:{x:r,y:l},vertices:p.fromPath(T)};if(u.chamfer){var A=u.chamfer;C.vertices=p.chamfer(C.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete u.chamfer}return i.create(s.extend({},C,u))},o.circle=function(r,l,a,h,f){h=h||{};var u={label:"Circle Body",circleRadius:a};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,a)));return d%2===1&&(d+=1),o.polygon(r,l,d,a,s.extend({},u,h))},o.polygon=function(r,l,a,h,f){if(f=f||{},a<3)return o.circle(r,l,h,f);for(var u=2*Math.PI/a,d="",m=u*.5,x=0;x<a;x+=1){var S=m+x*u,T=Math.cos(S)*h,C=Math.sin(S)*h;d+="L "+T.toFixed(3)+" "+C.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:r,y:l},vertices:p.fromPath(d)};if(f.chamfer){var b=f.chamfer;A.vertices=p.chamfer(A.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete f.chamfer}return i.create(s.extend({},A,f))},o.fromVertices=function(r,l,a,h,f,u,d,m){var x=s.getDecomp(),S,T,C,A,b,R,F,L,O,I,B;for(S=!!(x&&x.quickDecomp),h=h||{},C=[],f=typeof f<"u"?f:!1,u=typeof u<"u"?u:.01,d=typeof d<"u"?d:10,m=typeof m<"u"?m:.01,s.isArray(a[0])||(a=[a]),I=0;I<a.length;I+=1)if(R=a[I],A=p.isConvex(R),b=!A,b&&!S&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!S)A?R=p.clockwiseSort(R):R=p.hull(R),C.push({position:{x:r,y:l},vertices:R});else{var U=R.map(function(it){return[it.x,it.y]});x.makeCCW(U),u!==!1&&x.removeCollinearPoints(U,u),m!==!1&&x.removeDuplicatePoints&&x.removeDuplicatePoints(U,m);var H=x.quickDecomp(U);for(F=0;F<H.length;F++){var J=H[F],tt=J.map(function(it){return{x:it[0],y:it[1]}});d>0&&p.area(tt)<d||C.push({position:p.centre(tt),vertices:tt})}}for(F=0;F<C.length;F++)C[F]=i.create(s.extend(C[F],h));if(f){var X=5;for(F=0;F<C.length;F++){var j=C[F];for(L=F+1;L<C.length;L++){var D=C[L];if(n.overlaps(j.bounds,D.bounds)){var z=j.vertices,$=D.vertices;for(O=0;O<j.vertices.length;O++)for(B=0;B<D.vertices.length;B++){var K=e.magnitudeSquared(e.sub(z[(O+1)%z.length],$[B])),Z=e.magnitudeSquared(e.sub(z[O],$[(B+1)%$.length]));K<X&&Z<X&&(z[O].isInternal=!0,$[B].isInternal=!0)}}}}}return C.length>1?(T=i.create(s.extend({parts:C.slice(0)},h)),i.setPosition(T,{x:r,y:l}),T):C[0]},o.flagCoincidentParts=function(r,l){l===void 0&&(l=5);for(var a=0;a<r.length;a++)for(var h=r[a],f=a+1;f<r.length;f++){var u=r[f];if(n.overlaps(h.bounds,u.bounds))for(var d=h.vertices,m=u.vertices,x=0;x<h.vertices.length;x++)for(var S=0;S<u.vertices.length;S++){var T=e.magnitudeSquared(e.sub(d[(x+1)%d.length],m[S])),C=e.magnitudeSquared(e.sub(d[x],m[(S+1)%m.length]));T<l&&C<l&&(d[x].isInternal=!0,m[S].isInternal=!0)}}return r}})()},74116:(c,y,t)=>{var o={};c.exports=o;var p=t(69351),s=t(48140),i=t(53402),n=t(22562),e=t(66280);(function(){o.stack=function(r,l,a,h,f,u,d){for(var m=p.create({label:"Stack"}),x=r,S=l,T,C=0,A=0;A<h;A++){for(var b=0,R=0;R<a;R++){var F=d(x,S,R,A,T,C);if(F){var L=F.bounds.max.y-F.bounds.min.y,O=F.bounds.max.x-F.bounds.min.x;L>b&&(b=L),n.translate(F,{x:O*.5,y:L*.5}),x=F.bounds.max.x+f,p.addBody(m,F),T=F,C+=1}else x+=f}S+=b+u,x=r}return m},o.chain=function(r,l,a,h,f,u){for(var d=r.bodies,m=1;m<d.length;m++){var x=d[m-1],S=d[m],T=x.bounds.max.y-x.bounds.min.y,C=x.bounds.max.x-x.bounds.min.x,A=S.bounds.max.y-S.bounds.min.y,b=S.bounds.max.x-S.bounds.min.x,R={bodyA:x,pointA:{x:C*l,y:T*a},bodyB:S,pointB:{x:b*h,y:A*f}},F=i.extend(R,u);p.addConstraint(r,s.create(F))}return r.label+=" Chain",r},o.mesh=function(r,l,a,h,f){var u=r.bodies,d,m,x,S,T;for(d=0;d<a;d++){for(m=1;m<l;m++)x=u[m-1+d*l],S=u[m+d*l],p.addConstraint(r,s.create(i.extend({bodyA:x,bodyB:S},f)));if(d>0)for(m=0;m<l;m++)x=u[m+(d-1)*l],S=u[m+d*l],p.addConstraint(r,s.create(i.extend({bodyA:x,bodyB:S},f))),h&&m>0&&(T=u[m-1+(d-1)*l],p.addConstraint(r,s.create(i.extend({bodyA:T,bodyB:S},f)))),h&&m<l-1&&(T=u[m+1+(d-1)*l],p.addConstraint(r,s.create(i.extend({bodyA:T,bodyB:S},f))))}return r.label+=" Mesh",r},o.pyramid=function(r,l,a,h,f,u,d){return o.stack(r,l,a,h,f,u,function(m,x,S,T,C,A){var b=Math.min(h,Math.ceil(a/2)),R=C?C.bounds.max.x-C.bounds.min.x:0;if(!(T>b)){T=b-T;var F=T,L=a-1-T;if(!(S<F||S>L)){A===1&&n.translate(C,{x:(S+(a%2===1?1:-1))*R,y:0});var O=C?S*R:0;return d(r+O+S*f,x,S,T,C,A)}}})},o.newtonsCradle=function(r,l,a,h,f){for(var u=p.create({label:"Newtons Cradle"}),d=0;d<a;d++){var m=1.9,x=e.circle(r+d*(h*m),l+f,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),S=s.create({pointA:{x:r+d*(h*m),y:l},bodyB:x});p.addBody(u,x),p.addConstraint(u,S)}return u},o.car=function(r,l,a,h,f){var u=n.nextGroup(!0),d=20,m=-a*.5+d,x=a*.5-d,S=0,T=p.create({label:"Car"}),C=e.rectangle(r,l,a,h,{collisionFilter:{group:u},chamfer:{radius:h*.5},density:2e-4}),A=e.circle(r+m,l+S,f,{collisionFilter:{group:u},friction:.8}),b=e.circle(r+x,l+S,f,{collisionFilter:{group:u},friction:.8}),R=s.create({bodyB:C,pointB:{x:m,y:S},bodyA:A,stiffness:1,length:0}),F=s.create({bodyB:C,pointB:{x,y:S},bodyA:b,stiffness:1,length:0});return p.addBody(T,C),p.addBody(T,A),p.addBody(T,b),p.addConstraint(T,R),p.addConstraint(T,F),T},o.softBody=function(r,l,a,h,f,u,d,m,x,S){x=i.extend({inertia:1/0},x),S=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},S);var T=o.stack(r,l,a,h,f,u,function(C,A){return e.circle(C,A,m,x)});return o.mesh(T,a,h,d,S),T.label="Soft Body",T}})()},66615:(c,y,t)=>{var o={};c.exports=o;var p=t(31725),s=t(53402);(function(){o.fromVertices=function(i){for(var n={},e=0;e<i.length;e++){var r=(e+1)%i.length,l=p.normalise({x:i[r].y-i[e].y,y:i[e].x-i[r].x}),a=l.y===0?1/0:l.x/l.y;a=a.toFixed(3).toString(),n[a]=l}return s.values(n)},o.rotate=function(i,n){if(n!==0)for(var e=Math.cos(n),r=Math.sin(n),l=0;l<i.length;l++){var a=i[l],h;h=a.x*e-a.y*r,a.y=a.x*r+a.y*e,a.x=h}}})()},15647:c=>{var y={};c.exports=y,function(){y.create=function(t){var o={min:{x:0,y:0},max:{x:0,y:0}};return t&&y.update(o,t),o},y.update=function(t,o,p){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var s=0;s<o.length;s++){var i=o[s];i.x>t.max.x&&(t.max.x=i.x),i.x<t.min.x&&(t.min.x=i.x),i.y>t.max.y&&(t.max.y=i.y),i.y<t.min.y&&(t.min.y=i.y)}p&&(p.x>0?t.max.x+=p.x:t.min.x+=p.x,p.y>0?t.max.y+=p.y:t.min.y+=p.y)},y.contains=function(t,o){return o.x>=t.min.x&&o.x<=t.max.x&&o.y>=t.min.y&&o.y<=t.max.y},y.overlaps=function(t,o){return t.min.x<=o.max.x&&t.max.x>=o.min.x&&t.max.y>=o.min.y&&t.min.y<=o.max.y},y.translate=function(t,o){t.min.x+=o.x,t.max.x+=o.x,t.min.y+=o.y,t.max.y+=o.y},y.shift=function(t,o){var p=t.max.x-t.min.x,s=t.max.y-t.min.y;t.min.x=o.x,t.max.x=o.x+p,t.min.y=o.y,t.max.y=o.y+s}}()},74058:(c,y,t)=>{var o={};c.exports=o,t(15647);var p=t(53402);(function(){o.pathToVertices=function(s,i){typeof window<"u"&&!("SVGPathSeg"in window)&&p.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,r,l,a,h,f,u,d,m,x=[],S,T,C=0,A=0,b=0;i=i||15;var R=function(L,O,I){var B=I%2===1&&I>1;if(!d||L!=d.x||O!=d.y){d&&B?(S=d.x,T=d.y):(S=0,T=0);var U={x:S+L,y:T+O};(B||!d)&&(d=U),x.push(U),A=S+L,b=T+O}},F=function(L){var O=L.pathSegTypeAsLetter.toUpperCase();if(O!=="Z"){switch(O){case"M":case"L":case"T":case"C":case"S":case"Q":A=L.x,b=L.y;break;case"H":A=L.x;break;case"V":b=L.y;break}R(A,b,L.pathSegType)}};for(o._svgPathToAbsolute(s),r=s.getTotalLength(),h=[],n=0;n<s.pathSegList.numberOfItems;n+=1)h.push(s.pathSegList.getItem(n));for(f=h.concat();C<r;){if(m=s.getPathSegAtLength(C),a=h[m],a!=u){for(;f.length&&f[0]!=a;)F(f.shift());u=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=s.getPointAtLength(C),R(l.x,l.y,0);break}C+=i}for(n=0,e=f.length;n<e;++n)F(f[n]);return x},o._svgPathToAbsolute=function(s){for(var i,n,e,r,l,a,h=s.pathSegList,f=0,u=0,d=h.numberOfItems,m=0;m<d;++m){var x=h.getItem(m),S=x.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(S))"x"in x&&(f=x.x),"y"in x&&(u=x.y);else switch("x1"in x&&(e=f+x.x1),"x2"in x&&(l=f+x.x2),"y1"in x&&(r=u+x.y1),"y2"in x&&(a=u+x.y2),"x"in x&&(f+=x.x),"y"in x&&(u+=x.y),S){case"m":h.replaceItem(s.createSVGPathSegMovetoAbs(f,u),m);break;case"l":h.replaceItem(s.createSVGPathSegLinetoAbs(f,u),m);break;case"h":h.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(f),m);break;case"v":h.replaceItem(s.createSVGPathSegLinetoVerticalAbs(u),m);break;case"c":h.replaceItem(s.createSVGPathSegCurvetoCubicAbs(f,u,e,r,l,a),m);break;case"s":h.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(f,u,l,a),m);break;case"q":h.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(f,u,e,r),m);break;case"t":h.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(f,u),m);break;case"a":h.replaceItem(s.createSVGPathSegArcAbs(f,u,x.r1,x.r2,x.angle,x.largeArcFlag,x.sweepFlag),m);break;case"z":case"Z":f=i,u=n;break}(S=="M"||S=="m")&&(i=f,n=u)}}})()},31725:c=>{var y={};c.exports=y,function(){y.create=function(t,o){return{x:t||0,y:o||0}},y.clone=function(t){return{x:t.x,y:t.y}},y.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},y.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},y.rotate=function(t,o,p){var s=Math.cos(o),i=Math.sin(o);p||(p={});var n=t.x*s-t.y*i;return p.y=t.x*i+t.y*s,p.x=n,p},y.rotateAbout=function(t,o,p,s){var i=Math.cos(o),n=Math.sin(o);s||(s={});var e=p.x+((t.x-p.x)*i-(t.y-p.y)*n);return s.y=p.y+((t.x-p.x)*n+(t.y-p.y)*i),s.x=e,s},y.normalise=function(t){var o=y.magnitude(t);return o===0?{x:0,y:0}:{x:t.x/o,y:t.y/o}},y.dot=function(t,o){return t.x*o.x+t.y*o.y},y.cross=function(t,o){return t.x*o.y-t.y*o.x},y.cross3=function(t,o,p){return(o.x-t.x)*(p.y-t.y)-(o.y-t.y)*(p.x-t.x)},y.add=function(t,o,p){return p||(p={}),p.x=t.x+o.x,p.y=t.y+o.y,p},y.sub=function(t,o,p){return p||(p={}),p.x=t.x-o.x,p.y=t.y-o.y,p},y.mult=function(t,o){return{x:t.x*o,y:t.y*o}},y.div=function(t,o){return{x:t.x/o,y:t.y/o}},y.perp=function(t,o){return o=o===!0?-1:1,{x:o*-t.y,y:o*t.x}},y.neg=function(t){return{x:-t.x,y:-t.y}},y.angle=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},41598:(c,y,t)=>{var o={};c.exports=o;var p=t(31725),s=t(53402);(function(){o.create=function(i,n){for(var e=[],r=0;r<i.length;r++){var l=i[r],a={x:l.x,y:l.y,index:r,body:n,isInternal:!1};e.push(a)}return e},o.fromPath=function(i,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return i.replace(e,function(l,a,h){r.push({x:parseFloat(a),y:parseFloat(h)})}),o.create(r,n)},o.centre=function(i){for(var n=o.area(i,!0),e={x:0,y:0},r,l,a,h=0;h<i.length;h++)a=(h+1)%i.length,r=p.cross(i[h],i[a]),l=p.mult(p.add(i[h],i[a]),r),e=p.add(e,l);return p.div(e,6*n)},o.mean=function(i){for(var n={x:0,y:0},e=0;e<i.length;e++)n.x+=i[e].x,n.y+=i[e].y;return p.div(n,i.length)},o.area=function(i,n){for(var e=0,r=i.length-1,l=0;l<i.length;l++)e+=(i[r].x-i[l].x)*(i[r].y+i[l].y),r=l;return n?e/2:Math.abs(e)/2},o.inertia=function(i,n){for(var e=0,r=0,l=i,a,h,f=0;f<l.length;f++)h=(f+1)%l.length,a=Math.abs(p.cross(l[h],l[f])),e+=a*(p.dot(l[h],l[h])+p.dot(l[h],l[f])+p.dot(l[f],l[f])),r+=a;return n/6*(e/r)},o.translate=function(i,n,e){e=typeof e<"u"?e:1;var r=i.length,l=n.x*e,a=n.y*e,h;for(h=0;h<r;h++)i[h].x+=l,i[h].y+=a;return i},o.rotate=function(i,n,e){if(n!==0){var r=Math.cos(n),l=Math.sin(n),a=e.x,h=e.y,f=i.length,u,d,m,x;for(x=0;x<f;x++)u=i[x],d=u.x-a,m=u.y-h,u.x=a+(d*r-m*l),u.y=h+(d*l+m*r);return i}},o.contains=function(i,n){for(var e=n.x,r=n.y,l=i.length,a=i[l-1],h,f=0;f<l;f++){if(h=i[f],(e-a.x)*(h.y-a.y)+(r-a.y)*(a.x-h.x)>0)return!1;a=h}return!0},o.scale=function(i,n,e,r){if(n===1&&e===1)return i;r=r||o.centre(i);for(var l,a,h=0;h<i.length;h++)l=i[h],a=p.sub(l,r),i[h].x=r.x+a.x*n,i[h].y=r.y+a.y*e;return i},o.chamfer=function(i,n,e,r,l){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,r=r||2,l=l||14;for(var a=[],h=0;h<i.length;h++){var f=i[h-1>=0?h-1:i.length-1],u=i[h],d=i[(h+1)%i.length],m=n[h<n.length?h:n.length-1];if(m===0){a.push(u);continue}var x=p.normalise({x:u.y-f.y,y:f.x-u.x}),S=p.normalise({x:d.y-u.y,y:u.x-d.x}),T=Math.sqrt(2*Math.pow(m,2)),C=p.mult(s.clone(x),m),A=p.normalise(p.mult(p.add(x,S),.5)),b=p.sub(u,p.mult(A,T)),R=e;e===-1&&(R=Math.pow(m,.32)*1.75),R=s.clamp(R,r,l),R%2===1&&(R+=1);for(var F=Math.acos(p.dot(x,S)),L=F/R,O=0;O<R;O++)a.push(p.add(p.rotate(C,L*O),b))}return a},o.clockwiseSort=function(i){var n=o.mean(i);return i.sort(function(e,r){return p.angle(n,e)-p.angle(n,r)}),i},o.isConvex=function(i){var n=0,e=i.length,r,l,a,h;if(e<3)return null;for(r=0;r<e;r++)if(l=(r+1)%e,a=(r+2)%e,h=(i[l].x-i[r].x)*(i[a].y-i[l].y),h-=(i[l].y-i[r].y)*(i[a].x-i[l].x),h<0?n|=1:h>0&&(n|=2),n===3)return!1;return n!==0?!0:null},o.hull=function(i){var n=[],e=[],r,l;for(i=i.slice(0),i.sort(function(a,h){var f=a.x-h.x;return f!==0?f:a.y-h.y}),l=0;l<i.length;l+=1){for(r=i[l];e.length>=2&&p.cross3(e[e.length-2],e[e.length-1],r)<=0;)e.pop();e.push(r)}for(l=i.length-1;l>=0;l-=1){for(r=i[l];n.length>=2&&p.cross3(n[n.length-2],n[n.length-1],r)<=0;)n.pop();n.push(r)}return n.pop(),e.pop(),n.concat(e)}})()},18210:(c,y,t)=>{var o=t(19933),p={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Body.create",function(){p.Body.init(this)}),s.before("Engine.update",function(i){p.Engine.update(i)})},Body:{init:function(s){s.plugin.attractors=s.plugin.attractors||[]}},Engine:{update:function(s){for(var i=o.Composite.allBodies(s.world),n=0;n<i.length;n++){var e=i[n],r=e.plugin.attractors;if(r&&r.length>0)for(var l=0;l<i.length;l++){var a=i[l];if(n!==l)for(var h=0;h<r.length;h++){var f=r[h],u=f;o.Common.isFunction(f)&&(u=f(e,a)),u&&o.Body.applyForce(a,a.position,u)}}}}},Attractors:{gravityConstant:.001,gravity:function(s,i){var n=o.Vector.sub(i.position,s.position),e=o.Vector.magnitudeSquared(n)||1e-4,r=o.Vector.normalise(n),l=-p.Attractors.gravityConstant*(s.mass*i.mass/e),a=o.Vector.mult(r,l);o.Body.applyForce(s,s.position,o.Vector.neg(a)),o.Body.applyForce(i,i.position,a)}}};c.exports=p},40178:c=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(o){o.pairs.map(function(p){var s=p.bodyA,i=p.bodyB;s.gameObject&&s.gameObject.emit("collide",s,i,p),i.gameObject&&i.gameObject.emit("collide",i,s,p),t.Events.trigger(s,"onCollide",{pair:p}),t.Events.trigger(i,"onCollide",{pair:p}),s.onCollideCallback&&s.onCollideCallback(p),i.onCollideCallback&&i.onCollideCallback(p),s.onCollideWith[i.id]&&s.onCollideWith[i.id](i,p),i.onCollideWith[s.id]&&i.onCollideWith[s.id](s,p)})}),t.Events.on(this,"collisionActive",function(o){o.pairs.map(function(p){var s=p.bodyA,i=p.bodyB;s.gameObject&&s.gameObject.emit("collideActive",s,i,p),i.gameObject&&i.gameObject.emit("collideActive",i,s,p),t.Events.trigger(s,"onCollideActive",{pair:p}),t.Events.trigger(i,"onCollideActive",{pair:p}),s.onCollideActiveCallback&&s.onCollideActiveCallback(p),i.onCollideActiveCallback&&i.onCollideActiveCallback(p)})}),t.Events.on(this,"collisionEnd",function(o){o.pairs.map(function(p){var s=p.bodyA,i=p.bodyB;s.gameObject&&s.gameObject.emit("collideEnd",s,i,p),i.gameObject&&i.gameObject.emit("collideEnd",i,s,p),t.Events.trigger(s,"onCollideEnd",{pair:p}),t.Events.trigger(i,"onCollideEnd",{pair:p}),s.onCollideEndCallback&&s.onCollideEndCallback(p),i.onCollideEndCallback&&i.onCollideEndCallback(p)})})})}};c.exports=y},74507:(c,y,t)=>{var o=t(19933),p={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Engine.update",function(){p.Engine.update(this)})},Engine:{update:function(s){for(var i=s.world,n=o.Composite.allBodies(i),e=o.Composite.allComposites(i),r=0;r<n.length;r+=1){var l=n[r];l.plugin.wrap&&p.Body.wrap(l,l.plugin.wrap)}for(r=0;r<e.length;r+=1){var a=e[r];a.plugin.wrap&&p.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(s,i){var n=null,e=null;if(typeof i.min.x<"u"&&typeof i.max.x<"u"&&(s.min.x>i.max.x?n=i.min.x-s.max.x:s.max.x<i.min.x&&(n=i.max.x-s.min.x)),typeof i.min.y<"u"&&typeof i.max.y<"u"&&(s.min.y>i.max.y?e=i.min.y-s.max.y:s.max.y<i.min.y&&(e=i.max.y-s.min.y)),n!==null||e!==null)return{x:n||0,y:e||0}}},Body:{wrap:function(s,i){var n=p.Bounds.wrap(s.bounds,i);return n&&o.Body.translate(s,n),n}},Composite:{bounds:function(s){for(var i=o.Composite.allBodies(s),n=[],e=0;e<i.length;e+=1){var r=i[e];n.push(r.bounds.min,r.bounds.max)}return o.Bounds.create(n)},wrap:function(s,i){var n=p.Bounds.wrap(p.Composite.bounds(s),i);return n&&o.Composite.translate(s,n),n}}};c.exports=p},55973:c=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:F,quickDecomp:B,isSimple:O,removeCollinearPoints:U,removeDuplicatePoints:H,makeCCW:d};function y(X,j,D){D=D||0;var z=[0,0],$,K,Z,it,st,at,ut;return $=X[1][1]-X[0][1],K=X[0][0]-X[1][0],Z=$*X[0][0]+K*X[0][1],it=j[1][1]-j[0][1],st=j[0][0]-j[1][0],at=it*j[0][0]+st*j[0][1],ut=$*st-it*K,J(ut,0,D)||(z[0]=(st*Z-K*at)/ut,z[1]=($*at-it*Z)/ut),z}function t(X,j,D,z){var $=j[0]-X[0],K=j[1]-X[1],Z=z[0]-D[0],it=z[1]-D[1];if(Z*K-it*$===0)return!1;var st=($*(D[1]-X[1])+K*(X[0]-D[0]))/(Z*K-it*$),at=(Z*(X[1]-D[1])+it*(D[0]-X[0]))/(it*$-Z*K);return st>=0&&st<=1&&at>=0&&at<=1}function o(X,j,D){return(j[0]-X[0])*(D[1]-X[1])-(D[0]-X[0])*(j[1]-X[1])}function p(X,j,D){return o(X,j,D)>0}function s(X,j,D){return o(X,j,D)>=0}function i(X,j,D){return o(X,j,D)<0}function n(X,j,D){return o(X,j,D)<=0}var e=[],r=[];function l(X,j,D,z){if(z){var $=e,K=r;$[0]=j[0]-X[0],$[1]=j[1]-X[1],K[0]=D[0]-j[0],K[1]=D[1]-j[1];var Z=$[0]*K[0]+$[1]*K[1],it=Math.sqrt($[0]*$[0]+$[1]*$[1]),st=Math.sqrt(K[0]*K[0]+K[1]*K[1]),at=Math.acos(Z/(it*st));return at<z}else return o(X,j,D)===0}function a(X,j){var D=j[0]-X[0],z=j[1]-X[1];return D*D+z*z}function h(X,j){var D=X.length;return X[j<0?j%D+D:j%D]}function f(X){X.length=0}function u(X,j,D,z){for(var $=D;$<z;$++)X.push(j[$])}function d(X){for(var j=0,D=X,z=1;z<X.length;++z)(D[z][1]<D[j][1]||D[z][1]===D[j][1]&&D[z][0]>D[j][0])&&(j=z);return p(h(X,j-1),h(X,j),h(X,j+1))?!1:(m(X),!0)}function m(X){for(var j=[],D=X.length,z=0;z!==D;z++)j.push(X.pop());for(var z=0;z!==D;z++)X[z]=j[z]}function x(X,j){return i(h(X,j-1),h(X,j),h(X,j+1))}var S=[],T=[];function C(X,j,D){var z,$,K=S,Z=T;if(s(h(X,j+1),h(X,j),h(X,D))&&n(h(X,j-1),h(X,j),h(X,D)))return!1;$=a(h(X,j),h(X,D));for(var it=0;it!==X.length;++it)if(!((it+1)%X.length===j||it===j)&&s(h(X,j),h(X,D),h(X,it+1))&&n(h(X,j),h(X,D),h(X,it))&&(K[0]=h(X,j),K[1]=h(X,D),Z[0]=h(X,it),Z[1]=h(X,it+1),z=y(K,Z),a(h(X,j),z)<$))return!1;return!0}function A(X,j,D){for(var z=0;z!==X.length;++z)if(!(z===j||z===D||(z+1)%X.length===j||(z+1)%X.length===D)&&t(h(X,j),h(X,D),h(X,z),h(X,z+1)))return!1;return!0}function b(X,j,D,z){var $=z||[];if(f($),j<D)for(var K=j;K<=D;K++)$.push(X[K]);else{for(var K=0;K<=D;K++)$.push(X[K]);for(var K=j;K<X.length;K++)$.push(X[K])}return $}function R(X){for(var j=[],D=[],z=[],$=[],K=Number.MAX_VALUE,Z=0;Z<X.length;++Z)if(x(X,Z)){for(var it=0;it<X.length;++it)if(C(X,Z,it)){D=R(b(X,Z,it,$)),z=R(b(X,it,Z,$));for(var st=0;st<z.length;st++)D.push(z[st]);D.length<K&&(j=D,K=D.length,j.push([h(X,Z),h(X,it)]))}}return j}function F(X){var j=R(X);return j.length>0?L(X,j):[X]}function L(X,j){if(j.length===0)return[X];if(j instanceof Array&&j.length&&j[0]instanceof Array&&j[0].length===2&&j[0][0]instanceof Array){for(var D=[X],z=0;z<j.length;z++)for(var $=j[z],K=0;K<D.length;K++){var Z=D[K],it=L(Z,$);if(it){D.splice(K,1),D.push(it[0],it[1]);break}}return D}else{var $=j,z=X.indexOf($[0]),K=X.indexOf($[1]);return z!==-1&&K!==-1?[b(X,z,K),b(X,K,z)]:!1}}function O(X){var j=X,D;for(D=0;D<j.length-1;D++)for(var z=0;z<D-1;z++)if(t(j[D],j[D+1],j[z],j[z+1]))return!1;for(D=1;D<j.length-2;D++)if(t(j[0],j[j.length-1],j[D],j[D+1]))return!1;return!0}function I(X,j,D,z,$){$=$||0;var K=j[1]-X[1],Z=X[0]-j[0],it=K*X[0]+Z*X[1],st=z[1]-D[1],at=D[0]-z[0],ut=st*D[0]+at*D[1],vt=K*at-st*Z;return J(vt,0,$)?[0,0]:[(at*it-Z*ut)/vt,(K*ut-st*it)/vt]}function B(X,j,D,z,$,K,Z){K=K||100,Z=Z||0,$=$||25,j=typeof j<"u"?j:[],D=D||[],z=z||[];var it=[0,0],st=[0,0],at=[0,0],ut=0,vt=0,xt=0,Et=0,yt=0,bt=0,Dt=0,Vt=[],Nt=[],Mt=X,It=X;if(It.length<3)return j;if(Z++,Z>K)return console.warn("quickDecomp: max level ("+K+") reached."),j;for(var Lt=0;Lt<X.length;++Lt)if(x(Mt,Lt)){D.push(Mt[Lt]),ut=vt=Number.MAX_VALUE;for(var kt=0;kt<X.length;++kt)p(h(Mt,Lt-1),h(Mt,Lt),h(Mt,kt))&&n(h(Mt,Lt-1),h(Mt,Lt),h(Mt,kt-1))&&(at=I(h(Mt,Lt-1),h(Mt,Lt),h(Mt,kt),h(Mt,kt-1)),i(h(Mt,Lt+1),h(Mt,Lt),at)&&(xt=a(Mt[Lt],at),xt<vt&&(vt=xt,st=at,bt=kt))),p(h(Mt,Lt+1),h(Mt,Lt),h(Mt,kt+1))&&n(h(Mt,Lt+1),h(Mt,Lt),h(Mt,kt))&&(at=I(h(Mt,Lt+1),h(Mt,Lt),h(Mt,kt),h(Mt,kt+1)),p(h(Mt,Lt-1),h(Mt,Lt),at)&&(xt=a(Mt[Lt],at),xt<ut&&(ut=xt,it=at,yt=kt)));if(bt===(yt+1)%X.length)at[0]=(st[0]+it[0])/2,at[1]=(st[1]+it[1])/2,z.push(at),Lt<yt?(u(Vt,Mt,Lt,yt+1),Vt.push(at),Nt.push(at),bt!==0&&u(Nt,Mt,bt,Mt.length),u(Nt,Mt,0,Lt+1)):(Lt!==0&&u(Vt,Mt,Lt,Mt.length),u(Vt,Mt,0,yt+1),Vt.push(at),Nt.push(at),u(Nt,Mt,bt,Lt+1));else{if(bt>yt&&(yt+=X.length),Et=Number.MAX_VALUE,yt<bt)return j;for(var kt=bt;kt<=yt;++kt)s(h(Mt,Lt-1),h(Mt,Lt),h(Mt,kt))&&n(h(Mt,Lt+1),h(Mt,Lt),h(Mt,kt))&&(xt=a(h(Mt,Lt),h(Mt,kt)),xt<Et&&A(Mt,Lt,kt)&&(Et=xt,Dt=kt%X.length));Lt<Dt?(u(Vt,Mt,Lt,Dt+1),Dt!==0&&u(Nt,Mt,Dt,It.length),u(Nt,Mt,0,Lt+1)):(Lt!==0&&u(Vt,Mt,Lt,It.length),u(Vt,Mt,0,Dt+1),u(Nt,Mt,Dt,Lt+1))}return Vt.length<Nt.length?(B(Vt,j,D,z,$,K,Z),B(Nt,j,D,z,$,K,Z)):(B(Nt,j,D,z,$,K,Z),B(Vt,j,D,z,$,K,Z)),j}return j.push(X),j}function U(X,j){for(var D=0,z=X.length-1;X.length>3&&z>=0;--z)l(h(X,z-1),h(X,z),h(X,z+1),j)&&(X.splice(z%X.length,1),D++);return D}function H(X,j){for(var D=X.length-1;D>=1;--D)for(var z=X[D],$=D-1;$>=0;--$)if(tt(z,X[$],j)){X.splice(D,1);continue}}function J(X,j,D){return D=D||0,Math.abs(X-j)<=D}function tt(X,j,D){return J(X[0],j[0],D)&&J(X[1],j[1],D)}},52018:(c,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(83419),p=new o({initialize:function(i){this.pluginManager=i,this.game=i.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=p},42363:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=y},37277:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={},o={};o.register=function(p,s,i,n){n===void 0&&(n=!1),y[p]={plugin:s,mapping:i,custom:n}},o.registerCustom=function(p,s,i,n){t[p]={plugin:s,mapping:i,data:n}},o.hasCore=function(p){return y.hasOwnProperty(p)},o.hasCustom=function(p){return t.hasOwnProperty(p)},o.getCore=function(p){return y[p]},o.getCustom=function(p){return t[p]},o.getCustomClass=function(p){return t.hasOwnProperty(p)?t[p].plugin:null},o.remove=function(p){y.hasOwnProperty(p)&&delete y[p]},o.removeCustom=function(p){t.hasOwnProperty(p)&&delete t[p]},o.destroyCorePlugins=function(){for(var p in y)y.hasOwnProperty(p)&&delete y[p]},o.destroyCustomPlugins=function(){for(var p in t)t.hasOwnProperty(p)&&delete t[p]},c.exports=o},77332:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(8443),s=t(50792),i=t(74099),n=t(44603),e=t(39429),r=t(95540),l=t(37277),a=t(72905),h=new o({Extends:s,initialize:function(u){s.call(this),this.game=u,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],u.isBooted?this.boot():u.events.once(p.BOOT,this.boot,this)},boot:function(){var f,u,d,m,x,S,T,C=this.game.config,A=C.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),f=0;f<A.length;f++)u=A[f],d=r(u,"key",null),m=r(u,"plugin",null),x=r(u,"start",!1),S=r(u,"mapping",null),T=r(u,"data",null),d&&(m?this.install(d,m,x,S,T):console.warn("Missing `plugin` for key: "+d));for(A=C.installScenePlugins,A=A.concat(this._pendingScene),f=0;f<A.length;f++)u=A[f],d=r(u,"key",null),m=r(u,"plugin",null),S=r(u,"mapping",null),d&&(m?this.installScenePlugin(d,m,S):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(f,u,d){var m,x,S,T=this.game,C=f.scene,A=f.settings.map,b=f.settings.isBooted;for(m=0;m<u.length;m++)x=u[m],T[x]?(f[x]=T[x],A.hasOwnProperty(x)&&(C[A[x]]=f[x])):x==="game"&&A.hasOwnProperty(x)&&(C[A[x]]=T);for(var R=0;R<d.length;R++)for(S=d[R],m=0;m<S.length;m++)if(x=S[m],!!l.hasCore(x)){var F=l.getCore(x),L=F.mapping,O=new F.plugin(C,this,L);f[L]=O,F.custom?C[L]=O:A.hasOwnProperty(L)&&(C[A[L]]=O),b&&O.boot()}for(S=this.plugins,m=0;m<S.length;m++){var I=S[m];I.mapping&&(C[I.mapping]=I.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,u,d,m,x){if(x===void 0&&(x=!1),typeof u!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(l.hasCore(f)||l.register(f,u,d,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!x&&l.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(m){var S=new u(m,this,f);m.sys[f]=S,d&&d!==""&&(m[d]=S),S.boot()}},install:function(f,u,d,m,x){if(d===void 0&&(d=!1),m===void 0&&(m=null),x===void 0&&(x=null),typeof u!="function")return console.warn("Invalid Plugin: "+f),null;if(l.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(m!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:u,start:d,mapping:m,data:x});else if(l.registerCustom(f,u,m,x),d)return this.start(f);return null},getIndex:function(f){for(var u=this.plugins,d=0;d<u.length;d++){var m=u[d];if(m.key===f)return d}return-1},getEntry:function(f){var u=this.getIndex(f);if(u!==-1)return this.plugins[u]},isActive:function(f){var u=this.getEntry(f);return u&&u.active},start:function(f,u){u===void 0&&(u=f);var d=this.getEntry(u);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(f,u)),d?d.plugin:null},createEntry:function(f,u){var d=l.getCustom(f);if(d){var m=new d.plugin(this);d={key:u,plugin:m,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),m.init(d.data),m.start()}return d},stop:function(f){var u=this.getEntry(f);return u&&u.active&&(u.active=!1,u.plugin.stop()),this},get:function(f,u){u===void 0&&(u=!0);var d=this.getEntry(f);if(d)return d.plugin;var m=this.getClass(f);return m&&u?(d=this.createEntry(f,f),d?d.plugin:null):m||null},getClass:function(f){return l.getCustomClass(f)},removeGlobalPlugin:function(f){var u=this.getEntry(f);u&&a(this.plugins,u),l.removeCustom(f)},removeScenePlugin:function(f){a(this.scenePlugins,f),l.remove(f)},registerGameObject:function(f,u,d){return u&&e.register(f,u),d&&n.register(f,d),this},removeGameObject:function(f,u,d){return u===void 0&&(u=!0),d===void 0&&(d=!0),u&&e.remove(f),d&&n.remove(f),this},registerFileType:function(f,u,d){i.register(f,u),d&&d.sys.load&&(d.sys.load[f]=u)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=h},45145:(c,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(52018),p=t(83419),s=t(44594),i=new p({Extends:o,initialize:function(e,r,l){o.call(this,r),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=i},18922:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){const y=performance.now(),t=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,p=(s,i)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>o){const r=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,l=i-s;c(i,{presentationTime:i+r*1e3,expectedDisplayTime:i+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:r}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(r=>p(i,r))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(s=>p(y,s)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=y},68627:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19715),p=t(32880),s=t(83419),i=t(8054),n=t(50792),e=t(92503),r=t(56373),l=t(97480),a=t(69442),h=t(61340),f=new s({Extends:n,initialize:function(d){n.call(this);var m=d.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=d,this.type=i.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var x={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",x),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(a.READY,this.boot,this)},boot:function(){var u=this.game,d=u.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,u.scale.on(l.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(u,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(u,d){this.width=u,this.height=d,this.emit(e.RESIZE,u,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(u){return this.currentContext.globalCompositeOperation=u,this},setContext:function(u){return this.currentContext=u||this.gameContext,this},setAlpha:function(u){return this.currentContext.globalAlpha=u,this},preRender:function(){var u=this.gameContext,d=this.config,m=this.width,x=this.height;u.globalAlpha=1,u.globalCompositeOperation="source-over",u.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(u.clearRect(0,0,m,x),d.transparent||(u.fillStyle=d.backgroundColor.rgba,u.fillRect(0,0,m,x))),u.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(u,d,m){var x=d.length;this.emit(e.RENDER,u,m);var S=m.x,T=m.y,C=m.width,A=m.height,b=m.renderToTexture?m.context:u.sys.context;b.save(),this.game.scene.customViewports&&(b.beginPath(),b.rect(S,T,C,A),b.clip()),m.emit(o.PRE_RENDER,m),this.currentContext=b;var R=m.mask;R&&R.preRenderCanvas(this,null,m._maskCamera),m.transparent||(b.fillStyle=m.backgroundColor.rgba,b.fillRect(S,T,C,A)),b.globalAlpha=m.alpha,b.globalCompositeOperation="source-over",this.drawCount+=x,m.renderToTexture&&m.emit(o.PRE_RENDER,m),m.matrix.copyToContext(b);for(var F=0;F<x;F++){var L=d[F];L.mask&&L.mask.preRenderCanvas(this,L,m),L.renderCanvas(this,L,m),L.mask&&L.mask.postRenderCanvas(this,L,m)}b.setTransform(1,0,0,1,0,0),b.globalCompositeOperation="source-over",b.globalAlpha=1,m.flashEffect.postRenderCanvas(b),m.fadeEffect.postRenderCanvas(b),m.dirty=!1,R&&R.postRenderCanvas(this),b.restore(),m.renderToTexture&&(m.emit(o.POST_RENDER,m),m.renderToGame&&u.sys.context.drawImage(m.canvas,S,T)),m.emit(o.POST_RENDER,m)},postRender:function(){var u=this.gameContext;u.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(p(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(u,d,m,x,S,T,C,A,b){m===void 0&&(m=!1),this.snapshotArea(x,S,T,C,d,A,b);var R=this.snapshotState;return R.getPixel=m,p(u,R),R.callback=null,this},snapshot:function(u,d,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,u,d,m)},snapshotArea:function(u,d,m,x,S,T,C){var A=this.snapshotState;return A.callback=S,A.type=T,A.encoder=C,A.getPixel=!1,A.x=u,A.y=d,A.width=Math.min(m,this.gameCanvas.width),A.height=Math.min(x,this.gameCanvas.height),this},snapshotPixel:function(u,d,m){return this.snapshotArea(u,d,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(u,d,m,x){var S=m.alpha*u.alpha;if(S!==0){var T=this.currentContext,C=this._tempMatrix1,A=this._tempMatrix2,b=d.canvasData,R=b.x,F=b.y,L=d.cutWidth,O=d.cutHeight,I=d.customPivot,B=d.source.resolution,U=u.displayOriginX,H=u.displayOriginY,J=-U+d.x,tt=-H+d.y;if(u.isCropped){var X=u._crop;(X.flipX!==u.flipX||X.flipY!==u.flipY)&&d.updateCropUVs(X,u.flipX,u.flipY),L=X.cw,O=X.ch,R=X.cx,F=X.cy,J=-U+X.x,tt=-H+X.y,u.flipX&&(J>=0?J=-(J+L):J<0&&(J=Math.abs(J)-L)),u.flipY&&(tt>=0?tt=-(tt+O):tt<0&&(tt=Math.abs(tt)-O))}var j=1,D=1;u.flipX&&(I||(J+=-d.realWidth+U*2),j=-1),u.flipY&&(I||(tt+=-d.realHeight+H*2),D=-1);var z=u.x,$=u.y;A.applyITRS(z,$,u.rotation,u.scaleX*j,u.scaleY*D),C.copyFrom(m.matrix),x?(C.multiplyWithOffset(x,-m.scrollX*u.scrollFactorX,-m.scrollY*u.scrollFactorY),A.e=z,A.f=$):(A.e-=m.scrollX*u.scrollFactorX,A.f-=m.scrollY*u.scrollFactorY),C.multiply(A),m.roundPixels&&(C.e=Math.round(C.e),C.f=Math.round(C.f)),T.save(),C.setToContext(T),T.globalCompositeOperation=this.blendModes[u.blendMode],T.globalAlpha=S,T.imageSmoothingEnabled=!d.source.scaleMode,u.mask&&u.mask.preRenderCanvas(this,u,m),L>0&&O>0&&(m.roundPixels?T.drawImage(d.source.image,R,F,L,O,Math.round(J),Math.round(tt),Math.round(L/B),Math.round(O/B)):T.drawImage(d.source.image,R,F,L,O,J,tt,L/B,O/B)),u.mask&&u.mask.postRenderCanvas(this,u,m),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=f},55830:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(89289),s=function(){var i=[],n=p.supportNewBlendModes,e="source-over";return i[o.NORMAL]=e,i[o.ADD]="lighter",i[o.MULTIPLY]=n?"multiply":e,i[o.SCREEN]=n?"screen":e,i[o.OVERLAY]=n?"overlay":e,i[o.DARKEN]=n?"darken":e,i[o.LIGHTEN]=n?"lighten":e,i[o.COLOR_DODGE]=n?"color-dodge":e,i[o.COLOR_BURN]=n?"color-burn":e,i[o.HARD_LIGHT]=n?"hard-light":e,i[o.SOFT_LIGHT]=n?"soft-light":e,i[o.DIFFERENCE]=n?"difference":e,i[o.EXCLUSION]=n?"exclusion":e,i[o.HUE]=n?"hue":e,i[o.SATURATION]=n?"saturation":e,i[o.COLOR]=n?"color":e,i[o.LUMINOSITY]=n?"luminosity":e,i[o.ERASE]="destination-out",i[o.SOURCE_IN]="source-in",i[o.SOURCE_OUT]="source-out",i[o.SOURCE_ATOP]="source-atop",i[o.DESTINATION_OVER]="destination-over",i[o.DESTINATION_IN]="destination-in",i[o.DESTINATION_OUT]="destination-out",i[o.DESTINATION_ATOP]="destination-atop",i[o.LIGHTER]="lighter",i[o.COPY]="copy",i[o.XOR]="xor",i};c.exports=s},20926:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(s,i,n,e,r){var l=e.alpha*n.alpha;if(l<=0)return!1;var a=o(n,e,r).calc;return i.globalCompositeOperation=s.blendModes[n.blendMode],i.globalAlpha=l,i.save(),a.setToContext(i),i.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:s.antialias,!0};c.exports=p},63899:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="losewebgl"},6119:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},48070:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},15640:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},8912:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},87124:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restorewebgl"},92503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(92503),Snapshot:t(89966)},c.exports.Canvas=t(55830),c.exports.WebGL=t(4159)},32880:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(40987),s=t(95540),i=function(n,e){var r=s(e,"callback"),l=s(e,"type","image/png"),a=s(e,"encoder",.92),h=Math.abs(Math.round(s(e,"x",0))),f=Math.abs(Math.round(s(e,"y",0))),u=Math.floor(s(e,"width",n.width)),d=Math.floor(s(e,"height",n.height)),m=s(e,"getPixel",!1);if(m){var x=n.getContext("2d",{willReadFrequently:!1}),S=x.getImageData(h,f,1,1),T=S.data;r.call(null,new p(T[0],T[1],T[2],T[3]))}else if(h!==0||f!==0||u!==n.width||d!==n.height){var C=o.createWebGL(this,u,d),A=C.getContext("2d",{willReadFrequently:!0});u>0&&d>0&&A.drawImage(n,h,f,u,d,0,0,u,d);var b=new Image;b.onerror=function(){r.call(null),o.remove(C)},b.onload=function(){r.call(null,b),o.remove(C)},b.src=C.toDataURL(l,a)}else{var R=new Image;R.onerror=function(){r.call(null)},R.onload=function(){r.call(null,R)},R.src=n.toDataURL(l,a)}};c.exports=i},88815:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(40987),s=t(95540),i=function(n,e){var r=n,l=s(e,"callback"),a=s(e,"type","image/png"),h=s(e,"encoder",.92),f=Math.abs(Math.round(s(e,"x",0))),u=Math.abs(Math.round(s(e,"y",0))),d=s(e,"getPixel",!1),m=s(e,"isFramebuffer",!1),x=m?s(e,"bufferWidth",1):r.drawingBufferWidth,S=m?s(e,"bufferHeight",1):r.drawingBufferHeight;if(d){var T=new Uint8Array(4),C=m?u:S-u;r.readPixels(f,C,1,1,r.RGBA,r.UNSIGNED_BYTE,T),l.call(null,new p(T[0],T[1],T[2],T[3]))}else{var A=Math.floor(s(e,"width",x)),b=Math.floor(s(e,"height",S)),R=A*b*4,F=new Uint8Array(R);r.readPixels(f,S-u-b,A,b,r.RGBA,r.UNSIGNED_BYTE,F);for(var L=o.createWebGL(this,A,b),O=L.getContext("2d",{willReadFrequently:!0}),I=O.getImageData(0,0,A,b),B=I.data,U=0;U<b;U++)for(var H=0;H<A;H++){var J=((b-U-1)*A+H)*4,tt=m?R-(U*A+(A-H))*4:(U*A+H)*4;B[tt+0]=F[J+0],B[tt+1]=F[J+1],B[tt+2]=F[J+2],B[tt+3]=F[J+3]}O.putImageData(I,0,0);var X=new Image;X.onerror=function(){l.call(null),o.remove(L)},X.onload=function(){l.call(null,X),o.remove(L)},X.src=L.toDataURL(a,h)}};c.exports=i},89966:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(36060),s=t(90330),i=t(82264),n=t(95540),e=t(32302),r=t(63448),l=t(31302),a=t(58918),h=t(14811),f=t(92651),u=t(96569),d=t(56527),m=t(57516),x=t(43439),S=t(81041),T=t(12385),C=t(7589),A=t(95428),b=t(72905),R=new o({initialize:function(L){this.game=L.game,this.renderer=L,this.classes=new s([[p.UTILITY_PIPELINE,C],[p.MULTI_PIPELINE,m],[p.BITMAPMASK_PIPELINE,l],[p.SINGLE_PIPELINE,T],[p.ROPE_PIPELINE,S],[p.LIGHT_PIPELINE,u],[p.POINTLIGHT_PIPELINE,x],[p.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new s,this.pipelines=new s,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,L,O){var I=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(n(F,"frameInc",32));var U=I.width,H=I.height,J=this.game.config.disablePreFX,tt=this.game.config.disablePostFX;if(tt||this.postPipelineClasses.setAll([[String(h.BARREL),a.Barrel],[String(h.BLOOM),a.Bloom],[String(h.BLUR),a.Blur],[String(h.BOKEH),a.Bokeh],[String(h.CIRCLE),a.Circle],[String(h.COLOR_MATRIX),a.ColorMatrix],[String(h.DISPLACEMENT),a.Displacement],[String(h.GLOW),a.Glow],[String(h.GRADIENT),a.Gradient],[String(h.PIXELATE),a.Pixelate],[String(h.SHADOW),a.Shadow],[String(h.SHINE),a.Shine],[String(h.VIGNETTE),a.Vignette],[String(h.WIPE),a.Wipe]]),!J){this.classes.set(p.FX_PIPELINE,f);for(var X=Math.min(U,H),j=Math.ceil(X/this.frameInc),D=1;D<j;D++){var z=D*this.frameInc;B.push(new e(I,z,z)),B.push(new e(I,z,z)),B.push(new e(I,z,z)),this.maxDimension=z}B.push(new e(I,U,H,1,0,!0,!0)),B.push(new e(I,U,H,1,0,!0,!0)),B.push(new e(I,U,H,1,0,!0,!0))}var $,K,Z=this,it=this.game;if(this.classes.each(function(at,ut){$=Z.add(at,new ut({game:it})),at===p.UTILITY_PIPELINE&&(Z.UTILITY_PIPELINE=$,Z.fullFrame1=$.fullFrame1,Z.fullFrame2=$.fullFrame2,Z.halfFrame1=$.halfFrame1,Z.halfFrame2=$.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),J||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),F)for(K in F){var st=F[K];$=new st(it),$.name=K,$.isPostFX?this.postPipelineClasses.set(K,st):this.has(K)||(this.classes.set(K,st),this.add(K,$))}this.default=this.get(L),O&&!i.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var L=this.get(F);return L&&(this.default=L),L},add:function(F,L){if(L.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var O=this.pipelines,I=this.renderer;return O.has(F)?console.warn("Pipeline exists: "+F):(L.name=F,L.manager=this,O.set(F,L)),L.hasBooted||L.boot(),I.width!==0&&I.height!==0&&!L.isPreFX&&L.resize(I.width,I.height),L},addPostPipeline:function(F,L){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,L)},flush:function(){this.current&&this.current.flush()},has:function(F){var L=this.pipelines;return typeof F=="string"?L.has(F):!!L.contains(F)},get:function(F){var L=this.pipelines;if(typeof F=="string")return L.get(F);if(L.contains(F))return F},getPostPipeline:function(F,L,O){var I=this.postPipelineClasses,B,U="",H=typeof F;if(H==="string"||H==="number"?(B=I.get(F),U=F):H==="function"?(I.contains(F)&&(B=F),U=F.name):H==="object"&&(B=I.get(F.name),U=F.name),B){var J=new B(this.game,O);return J.name=U,L&&(J.gameObject=L),this.postPipelineInstances.push(J),J}},removePostPipeline:function(F){b(this.postPipelineInstances,F)},remove:function(F,L,O){L===void 0&&(L=!0),O===void 0&&(O=!0),this.pipelines.delete(F),L&&this.classes.delete(F),O&&this.postPipelineClasses.delete(F)},set:function(F,L,O){if(!F.isPostFX)return this.isCurrent(F,O)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(O)),F.updateProjectionMatrix(),F.onBind(L),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,O=L.length-1;O>=0;O--){var I=L[O];I.active&&I.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,O=0;O<L.length;O++){var I=L[O];I.active&&I.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,O=L.length-1;O>=0;O--){var I=L[O];I.active&&I.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,O=0;O<L.length;O++){var I=L[O];I.active&&I.postBatch(F)}}},isCurrent:function(F,L){var O=this.renderer,I=this.current;return I&&!L&&(L=I.currentShader),!(I!==F||L.program!==O.currentProgram)},copyFrame:function(F,L,O,I,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,L,O,I,B),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,L,O,I){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,L,O,I),this},blendFrames:function(F,L,O,I,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,L,O,I,B),this},blendFramesAdditive:function(F,L,O,I,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,L,O,I,B),this},clearFrame:function(F,L){return this.UTILITY_PIPELINE.clearFrame(F,L),this},blitFrame:function(F,L,O,I,B,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,L,O,I,B,U),this},copyFrameRect:function(F,L,O,I,B,U,H,J){return this.UTILITY_PIPELINE.copyFrameRect(F,L,O,I,B,U,H,J),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,L){L.restoreContext()}),A(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var L=this.renderer,O=L.gl;O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),L.hasActiveStencilMask()?O.clear(O.DEPTH_BUFFER_BIT):(O.disable(O.STENCIL_TEST),O.clear(O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)),O.viewport(0,0,L.width,L.height),L.currentProgram=null,L.setBlendMode(0,!0);var I=L.vaoExtension;I&&I.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var U in B)B[U].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var L=F.vaoExtension;L&&L.bindVertexArrayOES(null)},getRenderTarget:function(F){var L=this.renderTargets,O=3;if(F>this.maxDimension)return this.targetIndex=L.length-O,L[this.targetIndex];var I=(r(F,this.frameInc,0,!0)-1)*O;return this.targetIndex=I,L[I]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=R},32302:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92503),s=new o({initialize:function(n,e,r,l,a,h,f,u,d){l===void 0&&(l=1),a===void 0&&(a=0),h===void 0&&(h=!0),f===void 0&&(f=!1),u===void 0&&(u=!0),d===void 0&&(d=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=a,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=u,this.forceClamp=d,this.resize(e,r),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(i){return i&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!i&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(i,n){if(i=Math.round(i*this.scale),n=Math.round(n*this.scale),i<=0&&(i=1),n<=0&&(n=1),this.autoResize&&(i!==this.width||n!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,i,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(i,n,this.texture,this.hasDepthBuffer),this.width=i,this.height=n}return this},willResize:function(i,n){return i=Math.round(i*this.scale),n=Math.round(n*this.scale),i<=0&&(i=1),n<=0&&(n=1),i!==this.width||n!==this.height},bind:function(i,n,e){i===void 0&&(i=!1);var r=this.renderer;if(i&&r.flush(),n&&e&&this.resize(n,e),r.pushFramebuffer(this.framebuffer,!1,!1),i&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var i=this.renderer.gl;i.viewport(0,0,this.width,this.height),i.disable(i.SCISSOR_TEST)},clear:function(){var i=this.renderer,n=i.gl;i.pushFramebuffer(this.framebuffer),n.disable(n.SCISSOR_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),i.popFramebuffer(),i.resetScissor()},unbind:function(i){i===void 0&&(i=!1);var n=this.renderer;return i&&n.flush(),n.popFramebuffer()},destroy:function(){var i=this.renderer;i.off(p.RESIZE,this.resize,this),i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=s},70554:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(y,t,o,p){var s=(y*255|0)&255,i=(t*255|0)&255,n=(o*255|0)&255,e=(p*255|0)&255;return(e<<24|s<<16|i<<8|n)>>>0},getTintAppendFloatAlpha:function(y,t){var o=(t*255|0)&255;return(o<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,t){var o=(y>>16|0)&255,p=(y>>8|0)&255,s=(y|0)&255,i=(t*255|0)&255;return(i<<24|s<<16|p<<8|o)>>>0},getFloatsFromUintRGB:function(y){var t=(y>>16|0)&255,o=(y>>8|0)&255,p=(y|0)&255;return[t/255,o/255,p/255]},checkShaderMax:function(y,t){var o=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?o:Math.min(o,t)},parseFragmentShaderMaxTextures:function(y,t){if(!y)return"";for(var o="",p=0;p<t;p++)p>0&&(o+=`
	else `),p<t-1&&(o+="if (outTexId < "+p+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",o+=`
	}`;return y=y.replace(/%count%/gi,t.toString()),y.replace(/%forloop%/gi,o)},setGlowQuality:function(y,t,o,p){return o===void 0&&(o=t.config.glowFXQuality),p===void 0&&(p=t.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/o/p).toFixed(7)),y=y.replace(/__DIST__/gi,p.toFixed(0)+".0"),y}}},29100:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(62644),s=t(50792),i=t(77085),n=t(95540),e=t(37867),r=t(92503),l=t(32302),a=t(70554),h=t(38683),f=new o({Extends:s,initialize:function(d){s.call(this);var m=d.game,x=m.renderer,S=x.gl;this.name=n(d,"name","WebGLPipeline"),this.game=m,this.renderer=x,this.manager,this.gl=S,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(d,"topology",S.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=n(d,"resizeUniform","")},boot:function(){var u,d=this.gl,m=this.config,x=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var S=this.renderTargets,T=n(m,"renderTarget",!1);typeof T=="boolean"&&T&&(T=1);var C=x.width,A=x.height;if(typeof T=="number")for(u=0;u<T;u++)S.push(new l(x,C,A,1,0,!0));else if(Array.isArray(T))for(u=0;u<T.length;u++){var b=n(T[u],"scale",1),R=n(T[u],"minFilter",0),F=n(T[u],"autoClear",1),L=n(T[u],"autoResize",!1),O=n(T[u],"width",null),I=n(T[u],"height",O);O?S.push(new l(x,O,I,1,R,F,L)):S.push(new l(x,C,A,b,R,F,L))}S.length&&(this.currentRenderTarget=S[0]),this.setShadersFromConfig(m);var B=this.shaders,U=0;for(u=0;u<B.length;u++)B[u].vertexSize>U&&(U=B[u].vertexSize);var H=n(m,"batchSize",x.config.batchSize);this.vertexCapacity=H*6;var J=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=J,this.bytes=new Uint8Array(J),this.vertexViewF32=new Float32Array(J),this.vertexViewU32=new Uint32Array(J);var tt=n(m,"vertices",null);for(tt?(this.vertexViewF32.set(tt),this.vertexBuffer=x.createVertexBuffer(J,d.STATIC_DRAW)):this.vertexBuffer=x.createVertexBuffer(J.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),u=B.length-1;u>=0;u--)B[u].rebind();this.hasBooted=!0,x.on(r.RESIZE,this.resize,this),x.on(r.PRE_RENDER,this.onPreRender,this),x.on(r.RENDER,this.onRender,this),x.on(r.POST_RENDER,this.onPostRender,this),this.emit(i.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(u,d,m){var x=this.renderer;if(u!==this.currentShader||x.currentProgram!==this.currentShader.program){this.flush();var S=this.setVertexBuffer(m);S&&!d&&(d=!0),u.bind(d,!1),this.currentShader=u}return this},getShaderByName:function(u){for(var d=this.shaders,m=0;m<d.length;m++)if(d[m].name===u)return d[m]},setShadersFromConfig:function(u){var d,m=this.shaders,x=this.renderer;for(d=0;d<m.length;d++)m[d].destroy();var S="vertShader",T="fragShader",C="attributes",A=n(u,S,null),b=a.parseFragmentShaderMaxTextures(n(u,T,null),x.maxTextures),R=n(u,C,null),F=n(u,"shaders",[]),L=F.length;if(L===0)A&&b&&(this.shaders=[new h(this,"default",A,b,p(R))]);else{var O=[];for(d=0;d<L;d++){var I=F[d],B,U,H,J;if(typeof I=="string"?(B="default",U=A,H=a.parseFragmentShaderMaxTextures(I,x.maxTextures),J=R):(B=n(I,"name","default"),U=n(I,S,A),H=a.parseFragmentShaderMaxTextures(n(I,T,b),x.maxTextures),J=n(I,C,R)),B==="default"){var tt=H.split(`
`),X=tt[0].trim();X.indexOf("#define SHADER_NAME")>-1&&(B=X.substring(20))}U&&H&&O.push(new h(this,B,U,H,p(J)))}this.shaders=O}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(u){return this.currentBatch={start:this.vertexCount,count:0,texture:[u],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=u,this.batch.push(this.currentBatch),0},addTextureToBatch:function(u){var d=this.currentBatch;d&&(d.texture.push(u),d.unit++,d.maxUnit++)},pushBatch:function(u){if(!this.currentBatch||this.forceZero&&u!==this.currentTexture)return this.createBatch(u);if(u===this.currentTexture)return this.currentUnit;var d=this.currentBatch,m=d.texture.indexOf(u);return m===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(u):(d.unit++,d.maxUnit++,d.texture.push(u),this.currentUnit=d.unit,this.currentTexture=u,d.unit):(this.currentUnit=m,this.currentTexture=u,m)},setGameObject:function(u,d){return d===void 0&&(d=u.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(u){return u===void 0&&(u=0),this.vertexCount+u>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(u,d){(u!==this.width||d!==this.height)&&this.flush(),this.width=u,this.height=d;for(var m=this.renderTargets,x=0;x<m.length;x++)m[x].resize(u,d);return this.setProjectionMatrix(u,d),this.resizeUniform&&this.set2f(this.resizeUniform,u,d),this.emit(i.RESIZE,u,d,this),this.onResize(u,d),this},setProjectionMatrix:function(u,d){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=u,this.projectionHeight=d,m.ortho(0,u,d,0,-1e3,1e3);for(var x=this.shaders,S="uProjectionMatrix",T=0;T<x.length;T++){var C=x[T];C.hasUniform(S)&&(C.resetUniform(S),C.setMatrix4fv(S,!1,m.val,C))}return this},flipProjectionMatrix:function(u){u===void 0&&(u=!0);var d=this.projectionMatrix;if(!d)return this;var m=this.projectionWidth,x=this.projectionHeight;u?d.ortho(0,m,0,x,-1e3,1e3):d.ortho(0,m,x,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var u=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==u||this.projectionHeight!==d)&&this.setProjectionMatrix(u,d)}},bind:function(u){if(u===void 0&&(u=this.currentShader),this.glReset)return this.rebind(u);var d=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),u.bind(d),this.currentShader=u,this.activeTextures.length=0,this.emit(i.BIND,this,u),this.onActive(u),this},rebind:function(u){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,m=d.length-1;m>=0;m--){var x=d[m].rebind();(!u||x===u)&&(this.currentShader=x)}return this.activeTextures.length=0,this.emit(i.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var u=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var m=0;m<u.length;m++){var x=u[m];x.syncUniforms(),d&&x.rebind()}},setVertexBuffer:function(u){if(u===void 0&&(u=this.vertexBuffer),u!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,u.webGLBuffer),this.activeBuffer=u,!0}return!1},preBatch:function(u){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(u),this},postBatch:function(u){return this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(u){if(u===void 0&&(u=!1),this.vertexCount>0){this.emit(i.BEFORE_FLUSH,this,u),this.onBeforeFlush(u);var d=this.gl,m=this.vertexCount,x=this.currentShader.vertexSize,S=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,m*x));var T,C,A,b=this.batch,R=this.activeTextures;if(this.forceZero)for(R[0]||d.activeTexture(d.TEXTURE0),T=0;T<b.length;T++)C=b[T],A=C.texture[0],R[0]!==A&&(d.bindTexture(d.TEXTURE_2D,A.webGLTexture),R[0]=A),d.drawArrays(S,C.start,C.count);else for(T=0;T<b.length;T++){C=b[T];for(var F=0;F<=C.maxUnit;F++)A=C.texture[F],R[F]!==A&&(d.activeTexture(d.TEXTURE0+F),d.bindTexture(d.TEXTURE_2D,A.webGLTexture),R[F]=A);d.drawArrays(S,C.start,C.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(i.AFTER_FLUSH,this,u),this.onAfterFlush(u)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(u,d,m,x,S,T,C){var A=this.vertexViewF32,b=this.vertexViewU32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++R]=u,A[++R]=d,A[++R]=m,A[++R]=x,A[++R]=S,A[++R]=T,b[++R]=C,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(u,d,m,x,S,T,C,A,b,R,F,L,O,I,B,U,H,J,tt,X){X===void 0&&(X=this.currentUnit);var j=!1;this.shouldFlush(6)&&(this.flush(),j=!0),this.currentBatch||(X=this.setTexture2D(tt));var D=this.vertexViewF32,z=this.vertexViewU32,$=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++$]=d,D[++$]=m,D[++$]=R,D[++$]=F,D[++$]=X,D[++$]=J,z[++$]=I,D[++$]=x,D[++$]=S,D[++$]=R,D[++$]=O,D[++$]=X,D[++$]=J,z[++$]=U,D[++$]=T,D[++$]=C,D[++$]=L,D[++$]=O,D[++$]=X,D[++$]=J,z[++$]=H,D[++$]=d,D[++$]=m,D[++$]=R,D[++$]=F,D[++$]=X,D[++$]=J,z[++$]=I,D[++$]=T,D[++$]=C,D[++$]=L,D[++$]=O,D[++$]=X,D[++$]=J,z[++$]=H,D[++$]=A,D[++$]=b,D[++$]=L,D[++$]=F,D[++$]=X,D[++$]=J,z[++$]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),j},batchTri:function(u,d,m,x,S,T,C,A,b,R,F,L,O,I,B,U,H){H===void 0&&(H=this.currentUnit);var J=!1;this.shouldFlush(3)&&(this.flush(),J=!0),this.currentBatch||(H=this.setTexture2D(U));var tt=this.vertexViewF32,X=this.vertexViewU32,j=this.vertexCount*this.currentShader.vertexComponentCount-1;return tt[++j]=d,tt[++j]=m,tt[++j]=A,tt[++j]=b,tt[++j]=H,tt[++j]=B,X[++j]=L,tt[++j]=x,tt[++j]=S,tt[++j]=A,tt[++j]=F,tt[++j]=H,tt[++j]=B,X[++j]=O,tt[++j]=T,tt[++j]=C,tt[++j]=R,tt[++j]=F,tt[++j]=H,tt[++j]=B,X[++j]=I,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),J},drawFillRect:function(u,d,m,x,S,T,C,A){C===void 0&&(C=this.renderer.whiteTexture),A===void 0&&(A=!0),u=Math.floor(u),d=Math.floor(d);var b=Math.floor(u+m),R=Math.floor(d+x),F=this.setTexture2D(C),L=a.getTintAppendFloatAlphaAndSwap(S,T),O=0,I=0,B=1,U=1;A&&(I=1,U=0),this.batchQuad(null,u,d,u,R,b,R,b,d,O,I,B,U,L,L,L,L,0,C,F)},setTexture2D:function(u){return u===void 0&&(u=this.renderer.whiteTexture),this.pushBatch(u)},bindTexture:function(u,d){d===void 0&&(d=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+d),m.bindTexture(m.TEXTURE_2D,u.webGLTexture),this},bindRenderTarget:function(u,d){return this.bindTexture(u.texture,d)},setTime:function(u,d){return this.set1f(u,this.game.loop.getDuration(),d),this},setBoolean:function(u,d,m){return m===void 0&&(m=this.currentShader),m.setBoolean(u,d),this},set1f:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set1f(u,d),this},set2f:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.set2f(u,d,m),this},set3f:function(u,d,m,x,S){return S===void 0&&(S=this.currentShader),S.set3f(u,d,m,x),this},set4f:function(u,d,m,x,S,T){return T===void 0&&(T=this.currentShader),T.set4f(u,d,m,x,S),this},set1fv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set1fv(u,d),this},set2fv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set2fv(u,d),this},set3fv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set3fv(u,d),this},set4fv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set4fv(u,d),this},set1iv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set1iv(u,d),this},set2iv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set2iv(u,d),this},set3iv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set3iv(u,d),this},set4iv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set4iv(u,d),this},set1i:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set1i(u,d),this},set2i:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.set2i(u,d,m),this},set3i:function(u,d,m,x,S){return S===void 0&&(S=this.currentShader),S.set3i(u,d,m,x),this},set4i:function(u,d,m,x,S,T){return T===void 0&&(T=this.currentShader),T.set4i(u,d,m,x,S),this},setMatrix2fv:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.setMatrix2fv(u,d,m),this},setMatrix3fv:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.setMatrix3fv(u,d,m),this},setMatrix4fv:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.setMatrix4fv(u,d,m),this},destroy:function(){this.emit(i.DESTROY,this);var u,d=this.shaders;for(u=0;u<d.length;u++)d[u].destroy();var m=this.renderTargets;for(u=0;u<m.length;u++)m[u].destroy();var x=this.renderer;return x.deleteBuffer(this.vertexBuffer),x.off(r.RESIZE,this.resize,this),x.off(r.PRE_RENDER,this.onPreRender,this),x.off(r.RENDER,this.onRender,this),x.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=f},74797:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95428),p=t(72905),s=t(19715),i=t(83419),n=t(8054),e=t(50792),r=t(92503),l=t(50030),a=t(37867),h=t(29747),f=t(7530),u=t(32302),d=t(97480),m=t(69442),x=t(70554),S=t(88815),T=t(26128),C=t(1482),A=t(82751),b=t(84387),R=t(93567),F=t(57183),L=new i({Extends:e,initialize:function(I){e.call(this);var B=I.config,U={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:U,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=I,this.type=n.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=I.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(O){var I,B=this.game,U=this.canvas,H=O.backgroundColor;if(B.config.context?I=B.config.context:I=U.getContext("webgl",O.contextCreation)||U.getContext("experimental-webgl",O.contextCreation),!I||I.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=I;var J=this,tt=function(){var D=I.getSupportedExtensions();J.supportedExtensions=D;var z="ANGLE_instanced_arrays";J.instancedArraysExtension=D.indexOf(z)>-1?I.getExtension(z):null;var $="OES_vertex_array_object";J.vaoExtension=D.indexOf($)>-1?I.getExtension($):null};tt(),this.contextLostHandler=function(D){J.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),J.emit(r.LOSE_WEBGL,J),D.preventDefault()},U.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(D){if(I.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}J.currentProgram=null,J.currentFramebuffer=null,J.setBlendMode(n.BlendModes.NORMAL),I.disable(I.BLEND),I.disable(I.DEPTH_TEST),I.enable(I.CULL_FACE),J.compression=J.getCompressedTextures();var z=function($){$.createResource()};o(J.glTextureWrappers,z),o(J.glBufferWrappers,z),o(J.glFramebufferWrappers,z),o(J.glProgramWrappers,z),o(J.glAttribLocationWrappers,z),o(J.glUniformLocationWrappers,z),J.createTemporaryTextures(),J.pipelines.restoreContext(),J.resize(J.game.scale.baseSize.width,J.game.scale.baseSize.height),tt(),J.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),J.emit(r.RESTORE_WEBGL,J),D.preventDefault()},U.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),B.context=I;for(var X=0;X<=27;X++)this.blendModes.push({func:[I.ONE,I.ONE_MINUS_SRC_ALPHA],equation:I.FUNC_ADD});this.blendModes[1].func=[I.ONE,I.DST_ALPHA],this.blendModes[2].func=[I.DST_COLOR,I.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[I.ONE,I.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[I.ZERO,I.ONE_MINUS_SRC_ALPHA],equation:I.FUNC_REVERSE_SUBTRACT},this.glFormats=[I.BYTE,I.SHORT,I.UNSIGNED_BYTE,I.UNSIGNED_SHORT,I.FLOAT],this.glFuncMap={mat2:{func:I.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:I.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:I.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:I.uniform1f,length:1},"1fv":{func:I.uniform1fv,length:1},"1i":{func:I.uniform1i,length:1},"1iv":{func:I.uniform1iv,length:1},"2f":{func:I.uniform2f,length:2},"2fv":{func:I.uniform2fv,length:1},"2i":{func:I.uniform2i,length:2},"2iv":{func:I.uniform2iv,length:1},"3f":{func:I.uniform3f,length:3},"3fv":{func:I.uniform3fv,length:1},"3i":{func:I.uniform3i,length:3},"3iv":{func:I.uniform3iv,length:1},"4f":{func:I.uniform4f,length:4},"4fv":{func:I.uniform4fv,length:1},"4i":{func:I.uniform4i,length:4},"4iv":{func:I.uniform4iv,length:1}},(!O.maxTextures||O.maxTextures===-1)&&(O.maxTextures=I.getParameter(I.MAX_TEXTURE_IMAGE_UNITS)),O.maxTextureSize||(O.maxTextureSize=I.getParameter(I.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),I.disable(I.DEPTH_TEST),I.disable(I.CULL_FACE),I.enable(I.BLEND),I.clearColor(H.redGL,H.greenGL,H.blueGL,H.alphaGL);var j=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return j.indexOf(O.mipmapFilter)!==-1&&(this.mipmapFilter=I[O.mipmapFilter]),this.maxTextures=x.checkShaderMax(I,O.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(n.BlendModes.NORMAL),this.projectionMatrix=new a().identity(),B.textures.once(m.READY,this.boot,this),this},boot:function(){var O=this.game,I=this.pipelines,B=O.scale.baseSize,U=B.width,H=B.height;this.width=U,this.height=H,this.isBooted=!0,this.renderTarget=new u(this,U,H,1,0,!0,!0),this.maskTarget=new u(this,U,H,1,0,!0,!0),this.maskSource=new u(this,U,H,1,0,!0,!0);var J=O.config;I.boot(J.pipeline,J.defaultPipeline,J.autoMobilePipeline),this.blankTexture=O.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=O.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=O.textures.getFrame("__WHITE").glTexture;var tt=this.gl;tt.bindFramebuffer(tt.FRAMEBUFFER,null),tt.enable(tt.SCISSOR_TEST),O.scale.on(d.RESIZE,this.onResize,this),this.resize(U,H)},createTemporaryTextures:function(){for(var O=this.gl,I=0;I<this.maxTextures;I++){var B=O.createTexture();O.activeTexture(O.TEXTURE0+I),O.bindTexture(O.TEXTURE_2D,B),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,1,1,0,O.RGBA,O.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(I)}},captureFrame:function(O,I){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(O,I,B){},stopCapture:function(){},onCapture:function(O){},onResize:function(O,I){(I.width!==this.width||I.height!==this.height)&&this.resize(I.width,I.height)},beginCapture:function(O,I){O===void 0&&(O=this.width),I===void 0&&(I=this.height),this.renderTarget.bind(!0,O,I),this.setProjectionMatrix(O,I)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(O,I){var B=this.gl;return this.width=O,this.height=I,this.setProjectionMatrix(O,I),B.viewport(0,0,O,I),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-I,O,I),this.defaultScissor[2]=O,this.defaultScissor[3]=I,this.emit(r.RESIZE,O,I),this},getCompressedTextures:function(){var O="WEBGL_compressed_texture_",I="WEBKIT_"+O,B="EXT_texture_compression_",U=function(J,tt){var X=J.getExtension(O+tt)||J.getExtension(I+tt)||J.getExtension(B+tt);if(X){var j={};for(var D in X)j[X[D]]=D;return j}},H=this.gl;return{ETC:U(H,"etc"),ETC1:U(H,"etc1"),ATC:U(H,"atc"),ASTC:U(H,"astc"),BPTC:U(H,"bptc"),RGTC:U(H,"rgtc"),PVRTC:U(H,"pvrtc"),S3TC:U(H,"s3tc"),S3TCSRGB:U(H,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(O,I){var B=this.compression[O.toUpperCase()];if(I in B)return B[I]},supportsCompressedTexture:function(O,I){var B=this.compression[O.toUpperCase()];return B?I?I in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(O,I){return(O!==this.projectionWidth||I!==this.projectionHeight)&&(this.projectionWidth=O,this.projectionHeight=I,this.projectionMatrix.ortho(0,O,I,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(O){return this.supportedExtensions?this.supportedExtensions.indexOf(O):!1},getExtension:function(O){return this.hasExtension(O)?(O in this.extensions||(this.extensions[O]=this.gl.getExtension(O)),this.extensions[O]):null},flush:function(){this.pipelines.flush()},pushScissor:function(O,I,B,U,H){H===void 0&&(H=this.drawingBufferHeight);var J=this.scissorStack,tt=[O,I,B,U];return J.push(tt),this.setScissor(O,I,B,U,H),this.currentScissor=tt,tt},setScissor:function(O,I,B,U,H){H===void 0&&(H=this.drawingBufferHeight);var J=this.gl,tt=this.currentScissor,X=B>0&&U>0;if(tt&&X){var j=tt[0],D=tt[1],z=tt[2],$=tt[3];X=j!==O||D!==I||z!==B||$!==U}X&&(this.flush(),J.scissor(O,H-I-U,B,U))},resetScissor:function(){var O=this.gl;O.enable(O.SCISSOR_TEST);var I=this.currentScissor;if(I){var B=I[0],U=I[1],H=I[2],J=I[3];H>0&&J>0&&O.scissor(B,this.drawingBufferHeight-U-J,H,J)}},popScissor:function(){var O=this.scissorStack;O.pop();var I=O[O.length-1];I&&this.setScissor(I[0],I[1],I[2],I[3]),this.currentScissor=I},hasActiveStencilMask:function(){var O=this.currentMask.mask,I=this.currentCameraMask.mask;return O&&O.isStencil||I&&I.isStencil},resetViewport:function(){var O=this.gl;O.viewport(0,0,this.width,this.height),this.drawingBufferHeight=O.drawingBufferHeight},setBlendMode:function(O,I){I===void 0&&(I=!1);var B=this.gl,U=this.blendModes[O];return I||O!==n.BlendModes.SKIP_CHECK&&this.currentBlendMode!==O?(this.flush(),B.enable(B.BLEND),B.blendEquation(U.equation),U.func.length>2?B.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):B.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=O,!0):!1},addBlendMode:function(O,I){var B=this.blendModes.push({func:O,equation:I});return B-1},updateBlendMode:function(O,I,B){return this.blendModes[O]&&(this.blendModes[O].func=I,B&&(this.blendModes[O].equation=B)),this},removeBlendMode:function(O){return O>17&&this.blendModes[O]&&this.blendModes.splice(O,1),this},pushFramebuffer:function(O,I,B,U,H){return O===this.currentFramebuffer?this:(this.fboStack.push(O),this.setFramebuffer(O,I,B,U,H))},setFramebuffer:function(O,I,B,U,H){if(I===void 0&&(I=!1),B===void 0&&(B=!0),U===void 0&&(U=null),H===void 0&&(H=!1),O===this.currentFramebuffer)return this;var J=this.gl,tt=this.width,X=this.height;return O&&O.renderTexture&&B?(tt=O.renderTexture.width,X=O.renderTexture.height):this.flush(),O?J.bindFramebuffer(J.FRAMEBUFFER,O.webGLFramebuffer):J.bindFramebuffer(J.FRAMEBUFFER,null),B&&J.viewport(0,0,tt,X),U&&J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,U.webGLTexture,0),H&&(J.clearColor(0,0,0,0),J.clear(J.COLOR_BUFFER_BIT)),I&&(O?(this.drawingBufferHeight=X,this.pushScissor(0,0,tt,X)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=O,this},popFramebuffer:function(O,I){O===void 0&&(O=!1),I===void 0&&(I=!0);var B=this.fboStack;B.pop();var U=B[B.length-1];return U||(U=null),this.setFramebuffer(U,O,I),U},restoreFramebuffer:function(O,I){O===void 0&&(O=!1),I===void 0&&(I=!0);var B=this.fboStack,U=B[B.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,O,I)},setProgram:function(O){return O!==this.currentProgram?(this.flush(),this.gl.useProgram(O.webGLProgram),this.currentProgram=O,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(O,I,B,U,H){H===void 0&&(H=!1);var J=this.gl,tt=J.NEAREST,X=J.NEAREST,j=J.CLAMP_TO_EDGE,D=null;I=O?O.width:I,B=O?O.height:B;var z=l(I,B);if(z&&!H&&(j=J.REPEAT),U===n.ScaleModes.LINEAR&&this.config.antialias){var $=O&&O.compressed,K=!$&&z||$&&O.mipmaps.length>1;tt=this.mipmapFilter&&K?this.mipmapFilter:J.LINEAR,X=J.LINEAR}return!O&&typeof I=="number"&&typeof B=="number"?D=this.createTexture2D(0,tt,X,j,j,J.RGBA,null,I,B):D=this.createTexture2D(0,tt,X,j,j,J.RGBA,O),D},createTexture2D:function(O,I,B,U,H,J,tt,X,j,D,z,$){typeof X!="number"&&(X=tt?tt.width:1),typeof j!="number"&&(j=tt?tt.height:1);var K=new A(this.gl,O,I,B,U,H,J,tt,X,j,D,z,$);return this.glTextureWrappers.push(K),K},createFramebuffer:function(O,I,B,U){this.currentFramebuffer=null;var H=new b(this.gl,O,I,B,U);return this.glFramebufferWrappers.push(H),H},beginBitmapMask:function(O,I){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==O&&(this.currentMask.mask=O,this.currentMask.camera=I))},drawBitmapMask:function(O,I,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),O.renderWebGL(this,O,I),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,H=this.getCurrentStencilMask();H?(U.enable(U.STENCIL_TEST),H.mask.applyStencil(this,H.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(O,I){var B=new C(this.gl,O,I);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(O,I){var B=this.gl,U=new T(B,O,B.ARRAY_BUFFER,I);return this.glBufferWrappers.push(U),U},createAttribLocation:function(O,I){var B=new R(this.gl,O,I);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(O,I){var B=new F(this.gl,O,I);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(O,I){var B=this.gl,U=new T(B,O,B.ELEMENT_ARRAY_BUFFER,I);return this.glBufferWrappers.push(U),U},deleteTexture:function(O){if(O)return p(this.glTextureWrappers,O),O.destroy(),this},deleteFramebuffer:function(O){return O?(p(this.fboStack,O),p(this.glFramebufferWrappers,O),O.destroy(),this):this},deleteProgram:function(O){return O&&(p(this.glProgramWrappers,O),O.destroy()),this},deleteAttribLocation:function(O){return O&&(p(this.glAttribLocationWrappers,O),O.destroy()),this},deleteUniformLocation:function(O){return O&&(p(this.glUniformLocationWrappers,O),O.destroy()),this},deleteBuffer:function(O){return O?(p(this.glBufferWrappers,O),O.destroy(),this):this},preRenderCamera:function(O){var I=O.x,B=O.y,U=O.width,H=O.height,J=O.backgroundColor;if(O.emit(s.PRE_RENDER,O),this.pipelines.preBatchCamera(O),this.pushScissor(I,B,U,H),O.mask&&(this.currentCameraMask.mask=O.mask,this.currentCameraMask.camera=O._maskCamera,O.mask.preRenderWebGL(this,O,O._maskCamera)),J.alphaGL>0){var tt=this.pipelines.setMulti();tt.drawFillRect(I,B,U,H,x.getTintFromFloats(J.blueGL,J.greenGL,J.redGL,1),J.alphaGL)}},getCurrentStencilMask:function(){var O=null,I=this.maskStack,B=this.currentCameraMask;return I.length>0?O=I[I.length-1]:B.mask&&B.mask.isStencil&&(O=B),O},postRenderCamera:function(O){var I=O.flashEffect,B=O.fadeEffect;if(I.isRunning||B.isRunning||B.isComplete){var U=this.pipelines.setMulti();I.postRenderWebGL(U,x.getTintFromFloats),B.postRenderWebGL(U,x.getTintFromFloats)}O.dirty=!1,this.popScissor(),O.mask&&(this.currentCameraMask.mask=null,O.mask.postRenderWebGL(this,O._maskCamera)),this.pipelines.postBatchCamera(O),O.emit(s.POST_RENDER,O)},preRender:function(){if(!this.contextLost){var O=this.gl;if(O.bindFramebuffer(O.FRAMEBUFFER,null),this.config.clearBeforeRender){var I=this.config.backgroundColor;O.clearColor(I.redGL,I.greenGL,I.blueGL,I.alphaGL),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)}O.enable(O.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&O.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(r.PRE_RENDER)}},render:function(O,I,B){if(!this.contextLost){var U=I.length;if(this.emit(r.RENDER,O,B),this.preRenderCamera(B),U===0){this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var H=this.currentMask,J=0;J<U;J++){this.finalType=J===U-1;var tt=I[J],X=tt.mask;H=this.currentMask,H.mask&&H.mask!==X&&H.mask.postRenderWebGL(this,H.camera),X&&H.mask!==X&&X.preRenderWebGL(this,tt,B),tt.blendMode!==this.currentBlendMode&&this.setBlendMode(tt.blendMode);var j=tt.type;j!==this.currentType&&(this.newType=!0,this.currentType=j),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=I[J+1].type===this.currentType,tt.renderWebGL(this,tt,B),this.newType=!1}H=this.currentMask,H.mask&&H.mask.postRenderWebGL(this,H.camera),this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(r.POST_RENDER);var O=this.snapshotState;O.callback&&(S(this.gl,O),O.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var O=this.gl,I=this.getCurrentStencilMask();if(I){var B=I.mask;O.enable(O.STENCIL_TEST),B.invertAlpha?O.stencilFunc(O.NOTEQUAL,B.level,255):O.stencilFunc(O.EQUAL,B.level,255)}},snapshot:function(O,I,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,O,I,B)},snapshotArea:function(O,I,B,U,H,J,tt){var X=this.snapshotState;return X.callback=H,X.type=J,X.encoder=tt,X.getPixel=!1,X.x=O,X.y=I,X.width=B,X.height=U,this},snapshotPixel:function(O,I,B){return this.snapshotArea(O,I,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(O,I,B,U,H,J,tt,X,j,D,z){H===void 0&&(H=!1),J===void 0&&(J=0),tt===void 0&&(tt=0),X===void 0&&(X=I),j===void 0&&(j=B),D==="pixel"&&(H=!0,D="image/png");var $=this.currentFramebuffer;this.snapshotArea(J,tt,X,j,U,D,z);var K=this.snapshotState;return K.getPixel=H,K.isFramebuffer=!0,K.bufferWidth=I,K.bufferHeight=B,K.width=Math.min(K.width,I),K.height=Math.min(K.height,B),this.setFramebuffer(O),S(this.gl,K),this.setFramebuffer($),K.callback=null,K.isFramebuffer=!1,this},canvasToTexture:function(O,I,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var H=this.gl,J=H.NEAREST,tt=H.NEAREST,X=O.width,j=O.height,D=H.CLAMP_TO_EDGE,z=l(X,j);return!B&&z&&(D=H.REPEAT),this.config.antialias&&(J=z&&this.mipmapFilter?this.mipmapFilter:H.LINEAR,tt=H.LINEAR),I?(I.update(O,X,j,U,D,D,J,tt,I.format),I):this.createTexture2D(0,J,tt,D,D,H.RGBA,O,X,j,!0,!1,U)},createCanvasTexture:function(O,I,B){return I===void 0&&(I=!1),B===void 0&&(B=!1),this.canvasToTexture(O,null,I,B)},updateCanvasTexture:function(O,I,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.canvasToTexture(O,I,U,B)},videoToTexture:function(O,I,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var H=this.gl,J=H.NEAREST,tt=H.NEAREST,X=O.videoWidth,j=O.videoHeight,D=H.CLAMP_TO_EDGE,z=l(X,j);return!B&&z&&(D=H.REPEAT),this.config.antialias&&(J=z&&this.mipmapFilter?this.mipmapFilter:H.LINEAR,tt=H.LINEAR),I?(I.update(O,X,j,U,D,D,J,tt,I.format),I):this.createTexture2D(0,J,tt,D,D,H.RGBA,O,X,j,!0,!0,U)},createVideoTexture:function(O,I,B){return I===void 0&&(I=!1),B===void 0&&(B=!1),this.videoToTexture(O,null,I,B)},updateVideoTexture:function(O,I,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.videoToTexture(O,I,U,B)},createUint8ArrayTexture:function(O,I,B){var U=this.gl,H=U.NEAREST,J=U.NEAREST,tt=U.CLAMP_TO_EDGE,X=l(I,B);return X&&(tt=U.REPEAT),this.createTexture2D(0,H,J,tt,tt,U.RGBA,O,I,B)},setTextureFilter:function(O,I){var B=this.gl,U=I===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var H=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,O.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,U),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,U),O.minFilter=U,O.magFilter=U,H&&B.bindTexture(B.TEXTURE_2D,H),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var O=function(I){I.destroy()};o(this.glAttribLocationWrappers,O),o(this.glBufferWrappers,O),o(this.glFramebufferWrappers,O),o(this.glProgramWrappers,O),o(this.glTextureWrappers,O),o(this.glUniformLocationWrappers,O),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});c.exports=L},38683:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95428),s=t(95540),i=t(14500),n=new o({initialize:function(r,l,a,h,f){this.pipeline=r,this.name=l,this.renderer=r.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=a,this.program=this.renderer.createProgram(a,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var r=0,l=0,a=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var f=e[h],u=f.name,d=s(f,"size",1),m=s(f,"type",i.FLOAT),x=m.enum,S=m.size,T=!!f.normalized;a.push({name:u,size:d,type:x,normalized:T,offset:l,enabled:!1,location:-1}),S===4?r+=d:r++,l+=d*S}this.vertexSize=l,this.vertexComponentCount=r,this.attributes=a},bind:function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),r&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var r=this.gl,l=this.renderer,a=this.vertexSize,h=this.attributes,f=this.program,u=0;u<h.length;u++){var d=h[u],m=d.size,x=d.type,S=d.offset,T=d.enabled,C=d.location,A=!!d.normalized;if(e){C!==-1&&l.deleteAttribLocation(C);var b=this.renderer.createAttribLocation(f,d.name);b.webGLAttribLocation>=0?(r.enableVertexAttribArray(b.webGLAttribLocation),r.vertexAttribPointer(b.webGLAttribLocation,m,x,A,a,S),d.enabled=!0,d.location=b):b.webGLAttribLocation!==-1&&r.disableVertexAttribArray(b.webGLAttribLocation)}else T?r.vertexAttribPointer(C.webGLAttribLocation,m,x,A,a,S):!T&&C!==-1&&C.webGLAttribLocation>-1&&(r.disableVertexAttribArray(C.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,r=this.program,l=this.uniforms,a,h,f,u=e.getProgramParameter(r.webGLProgram,e.ACTIVE_UNIFORMS);for(a=0;a<u;a++){var d=e.getActiveUniform(r.webGLProgram,a);if(d){h=d.name,f=this.renderer.createUniformLocation(r,h),f!==null&&(l[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var m=h.indexOf("[");m>0&&(h=h.substr(0,m),l.hasOwnProperty(h)||(f=this.renderer.createUniformLocation(r,h),f!==null&&(l[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var r in this.uniforms){var l=this.uniforms[r];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var r=this.uniforms[e];return r&&(r.value1=null,r.value2=null,r.value3=null,r.value4=null),this},setUniform1:function(e,r,l,a){var h=this.uniforms[r];return h?((a||h.value1!==l)&&(h.setter||(h.setter=e),h.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,r,l,a,h){var f=this.uniforms[r];return f?((h||f.value1!==l||f.value2!==a)&&(f.setter||(f.setter=e),f.value1=l,f.value2=a,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,a),this.pipeline.currentShader=this),this):this},setUniform3:function(e,r,l,a,h,f){var u=this.uniforms[r];return u?((f||u.value1!==l||u.value2!==a||u.value3!==h)&&(u.setter||(u.setter=e),u.value1=l,u.value2=a,u.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l,a,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,r,l,a,h,f,u){var d=this.uniforms[r];return d?((u||d.value1!==l||d.value2!==a||d.value3!==h||d.value4!==f)&&(d.setter||(d.setter=e),d.value1=l,d.value2=a,d.value3=h,d.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,a,h,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,r){return this.setUniform1(this.gl.uniform1i,e,Number(r))},set1f:function(e,r){return this.setUniform1(this.gl.uniform1f,e,r)},set2f:function(e,r,l){return this.setUniform2(this.gl.uniform2f,e,r,l)},set3f:function(e,r,l,a){return this.setUniform3(this.gl.uniform3f,e,r,l,a)},set4f:function(e,r,l,a,h){return this.setUniform4(this.gl.uniform4f,e,r,l,a,h)},set1fv:function(e,r){return this.setUniform1(this.gl.uniform1fv,e,r,!0)},set2fv:function(e,r){return this.setUniform1(this.gl.uniform2fv,e,r,!0)},set3fv:function(e,r){return this.setUniform1(this.gl.uniform3fv,e,r,!0)},set4fv:function(e,r){return this.setUniform1(this.gl.uniform4fv,e,r,!0)},set1iv:function(e,r){return this.setUniform1(this.gl.uniform1iv,e,r,!0)},set2iv:function(e,r){return this.setUniform1(this.gl.uniform2iv,e,r,!0)},set3iv:function(e,r){return this.setUniform1(this.gl.uniform3iv,e,r,!0)},set4iv:function(e,r){return this.setUniform1(this.gl.uniform4iv,e,r,!0)},set1i:function(e,r){return this.setUniform1(this.gl.uniform1i,e,r)},set2i:function(e,r,l){return this.setUniform2(this.gl.uniform2i,e,r,l)},set3i:function(e,r,l,a){return this.setUniform3(this.gl.uniform3i,e,r,l,a)},set4i:function(e,r,l,a,h){return this.setUniform4(this.gl.uniform4i,e,r,l,a,h)},setMatrix2fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,r,l,!0)},setMatrix3fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,r,l,!0)},setMatrix4fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,r,l,!0)},createProgram:function(e,r){return e===void 0&&(e=this.vertSrc),r===void 0&&(r=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=r,this.program=this.renderer.createProgram(e,r),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;p(this.uniforms,function(r){e.deleteUniformLocation(r.location)}),this.uniforms=null,p(this.attributes,function(r){e.deleteAttribLocation(r.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=n},14500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=y},4159:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14500),p=t(79291),s={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};s=p(!1,s,o),c.exports=s},31302:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=t(78908),i=t(85191),n=t(14500),e=t(29100),r=new o({Extends:e,initialize:function(a){a.fragShader=p(a,"fragShader",s),a.vertShader=p(a,"vertShader",i),a.batchSize=p(a,"batchSize",1),a.vertices=p(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=p(a,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,a)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,a){e.prototype.resize.call(this,l,a),this.set2f("uResolution",l,a)},beginMask:function(l,a,h){this.renderer.beginBitmapMask(l,h)},endMask:function(l,a,h){var f=this.gl,u=this.renderer,d=l.bitmapMask;d&&f&&(u.drawBitmapMask(d,a,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});c.exports=r},92651:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(58918),s=t(14811),i=t(95540),n=t(43558),e=t(89350),r=t(70554),l=new o({Extends:n,initialize:function(h){h.shaders=[r.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,h);var f=this.game;this.glow=new p.Glow(f),this.shadow=new p.Shadow(f),this.pixelate=new p.Pixelate(f),this.vignette=new p.Vignette(f),this.shine=new p.Shine(f),this.gradient=new p.Gradient(f),this.circle=new p.Circle(f),this.barrel=new p.Barrel(f),this.wipe=new p.Wipe(f),this.bokeh=new p.Bokeh(f);var u=[];u[s.GLOW]=this.onGlow,u[s.SHADOW]=this.onShadow,u[s.PIXELATE]=this.onPixelate,u[s.VIGNETTE]=this.onVignette,u[s.SHINE]=this.onShine,u[s.BLUR]=this.onBlur,u[s.GRADIENT]=this.onGradient,u[s.BLOOM]=this.onBloom,u[s.COLOR_MATRIX]=this.onColorMatrix,u[s.CIRCLE]=this.onCircle,u[s.BARREL]=this.onBarrel,u[s.DISPLACEMENT]=this.onDisplacement,u[s.WIPE]=this.onWipe,u[s.BOKEH]=this.onBokeh,this.fxHandlers=u,this.source,this.target,this.swap},onDraw:function(a,h,f){this.source=a,this.target=h,this.swap=f;var u=a.width,d=a.height,m=this.tempSprite,x=this.fxHandlers;if(m&&m.preFX)for(var S=m.preFX.list,T=0;T<S.length;T++){var C=S[T];C.active&&x[C.type].call(this,C,u,d)}this.drawToGame(this.source)},runDraw:function(){var a=this.source,h=this.target;this.copy(a,h),this.source=h,this.target=a},onGlow:function(a,h,f){var u=this.shaders[s.GLOW];this.setShader(u),this.glow.onPreRender(a,u,h,f),this.runDraw()},onShadow:function(a){var h=this.shaders[s.SHADOW];this.setShader(h),this.shadow.onPreRender(a,h),this.runDraw()},onPixelate:function(a,h,f){var u=this.shaders[s.PIXELATE];this.setShader(u),this.pixelate.onPreRender(a,u,h,f),this.runDraw()},onVignette:function(a){var h=this.shaders[s.VIGNETTE];this.setShader(h),this.vignette.onPreRender(a,h),this.runDraw()},onShine:function(a,h,f){var u=this.shaders[s.SHINE];this.setShader(u),this.shine.onPreRender(a,u,h,f),this.runDraw()},onBlur:function(a,h,f){var u=i(a,"quality"),d=this.shaders[s.BLUR+u];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",h,f),this.set1f("strength",i(a,"strength")),this.set3fv("color",i(a,"glcolor"));for(var m=i(a,"x"),x=i(a,"y"),S=i(a,"steps"),T=0;T<S;T++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,x),this.runDraw()},onGradient:function(a){var h=this.shaders[s.GRADIENT];this.setShader(h),this.gradient.onPreRender(a,h),this.runDraw()},onBloom:function(a,h,f){var u=this.shaders[s.BLOOM];this.copySprite(this.source,this.swap),this.setShader(u),this.set1i("uMainSampler",0),this.set1f("strength",i(a,"blurStrength")),this.set3fv("color",i(a,"glcolor"));for(var d=2/h*i(a,"offsetX"),m=2/f*i(a,"offsetY"),x=i(a,"steps"),S=0;S<x;S++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,i(a,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(a){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha),this.runDraw()},onCircle:function(a,h,f){var u=this.shaders[s.CIRCLE];this.setShader(u),this.circle.onPreRender(a,u,h,f),this.runDraw()},onBarrel:function(a){var h=this.shaders[s.BARREL];this.setShader(h),this.barrel.onPreRender(a,h),this.runDraw()},onDisplacement:function(a){this.setShader(this.shaders[s.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.runDraw()},onWipe:function(a){var h=this.shaders[s.WIPE];this.setShader(h),this.wipe.onPreRender(a,h),this.runDraw()},onBokeh:function(a,h,f){var u=this.shaders[s.BOKEH];this.setShader(u),this.bokeh.onPreRender(a,u,h,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});c.exports=l},96569:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=t(31063),i=t(57516),n=t(61340),e=t(26099),r=t(29100),l=new o({Extends:i,initialize:function(h){var f=p(h,"fragShader",s);h.fragShader=f.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),i.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){r.prototype.boot.call(this)},onRender:function(a,h){var f=a.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var u=f.getLights(h),d=u.length;this.lightsActive=!0;var m,x=this.renderer,S=x.height,T=h.matrix,C=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),m=0;m<d;m++){var A=u[m].light,b=A.color,R="uLights["+m+"].";T.transformPoint(A.x,A.y,C),this.set2f(R+"position",C.x-h.scrollX*A.scrollFactorX*h.zoom,S-(C.y-h.scrollY*A.scrollFactorY*h.zoom)),this.set3f(R+"color",b.r,b.g,b.b),this.set1f(R+"intensity",A.intensity),this.set1f(R+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(a){if(a!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(a){var f=-a,u=Math.cos(f),d=Math.sin(f);h[1]=d,h[3]=-d,h[0]=h[4]=u}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=a}},setTexture2D:function(a,h){var f=this.renderer;a===void 0&&(a=f.whiteTexture);var u=this.getNormalMap(h);this.isNewNormalMap(a,u)&&(this.flush(),this.createBatch(a),this.addTextureToBatch(u),this.currentNormalMap=u);var d=0;if(h&&h.parentContainer){var m=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=m.rotationNormalized}else h&&(d=h.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(a,h){h===void 0&&(h=a.frame);var f=h.glTexture,u=this.getNormalMap(a);if(this.isNewNormalMap(f,u)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(u),this.currentNormalMap=u),a.parentContainer){var d=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(a.rotation);return 0},isNewNormalMap:function(a,h){return this.currentTexture!==a||this.currentNormalMap!==h},getNormalMap:function(a){var h;if(a)a.displayTexture?h=a.displayTexture.dataSource[a.displayFrame.sourceIndex]:a.texture?h=a.texture.dataSource[a.frame.sourceIndex]:a.tileset&&(Array.isArray(a.tileset)?h=a.tileset[0].image.dataSource[0]:h=a.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(a,h,f){this.lightsActive&&i.prototype.batchSprite.call(this,a,h,f)},batchTexture:function(a,h,f,u,d,m,x,S,T,C,A,b,R,F,L,O,I,B,U,H,J,tt,X,j,D,z,$,K,Z,it,st,at){this.lightsActive&&i.prototype.batchTexture.call(this,a,h,f,u,d,m,x,S,T,C,A,b,R,F,L,O,I,B,U,H,J,tt,X,j,D,z,$,K,Z,it,st,at)},batchTextureFrame:function(a,h,f,u,d,m,x){this.lightsActive&&i.prototype.batchTextureFrame.call(this,a,h,f,u,d,m,x)}});c.exports=l},56527:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=t(57516),i=t(45561),n=t(60722),e=t(14500),r=t(29100),l=new o({Extends:s,initialize:function(h){h.fragShader=p(h,"fragShader",i),h.vertShader=p(h,"vertShader",n),h.attributes=p(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",s.call(this,h)},boot:function(){r.prototype.boot.call(this);var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height),this.set1i("uRoundPixels",a.config.roundPixels)}});c.exports=l},57516:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(94811),s=t(95540),i=t(98840),n=t(44667),e=t(61340),r=t(70554),l=t(14500),a=t(29100),h=new o({Extends:a,initialize:function(u){var d=u.game.renderer,m=s(u,"fragShader",i);u.fragShader=r.parseFragmentShaderMaxTextures(m,d.maxTextures),u.vertShader=s(u,"vertShader",n),u.attributes=s(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),u.resizeUniform="uResolution",a.call(this,u),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height),this.set1i("uRoundPixels",f.config.roundPixels)},batchSprite:function(f,u,d){this.manager.set(this,f);var m=this._tempMatrix1,x=this._tempMatrix2,S=this._tempMatrix3,T=f.frame,C=T.glTexture,A=T.u0,b=T.v0,R=T.u1,F=T.v1,L=T.x,O=T.y,I=T.cutWidth,B=T.cutHeight,U=T.customPivot,H=f.displayOriginX,J=f.displayOriginY,tt=-H+L,X=-J+O;if(f.isCropped){var j=f._crop;(j.flipX!==f.flipX||j.flipY!==f.flipY)&&T.updateCropUVs(j,f.flipX,f.flipY),A=j.u0,b=j.v0,R=j.u1,F=j.v1,I=j.width,B=j.height,L=j.x,O=j.y,tt=-H+L,X=-J+O}var D=1,z=1;f.flipX&&(U||(tt+=-T.realWidth+H*2),D=-1),f.flipY&&(U||(X+=-T.realHeight+J*2),z=-1);var $=f.x,K=f.y;x.applyITRS($,K,f.rotation,f.scaleX*D,f.scaleY*z),m.copyFrom(u.matrix),d?(m.multiplyWithOffset(d,-u.scrollX*f.scrollFactorX,-u.scrollY*f.scrollFactorY),x.e=$,x.f=K):(x.e-=u.scrollX*f.scrollFactorX,x.f-=u.scrollY*f.scrollFactorY),m.multiply(x,S);var Z=S.setQuad(tt,X,tt+I,X+B),it=r.getTintAppendFloatAlpha,st=u.alpha,at=it(f.tintTopLeft,st*f._alphaTL),ut=it(f.tintTopRight,st*f._alphaTR),vt=it(f.tintBottomLeft,st*f._alphaBL),xt=it(f.tintBottomRight,st*f._alphaBR);this.shouldFlush(6)&&this.flush();var Et=this.setGameObject(f,T);this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",u.roundPixels),this.batchQuad(f,Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],A,b,R,F,at,ut,vt,xt,f.tintFill,C,Et),this.manager.postBatch(f)},batchTexture:function(f,u,d,m,x,S,T,C,A,b,R,F,L,O,I,B,U,H,J,tt,X,j,D,z,$,K,Z,it,st,at,ut,vt,xt){xt===void 0&&(xt=!1),this.manager.set(this,f);var Et=this._tempMatrix1,yt=this._tempMatrix2,bt=this._tempMatrix3,Dt=H/d+Z,Vt=J/m+it,Nt=(H+tt)/d+Z,Mt=(J+X)/m+it,It=T,Lt=C,kt=-B,qt=-U;if(f.isCropped){var se=f._crop,ie=se.width,oe=se.height;It=ie,Lt=oe,T=ie,C=oe,H=se.x,J=se.y;var zt=H,Zt=J;F&&(zt=tt-se.x-ie),L&&(Zt=X-se.y-oe),Dt=zt/d+Z,Vt=Zt/m+it,Nt=(zt+ie)/d+Z,Mt=(Zt+oe)/m+it,kt=-B+H,qt=-U+J}L=L^(!ut&&u.isRenderTexture?1:0),F&&(It*=-1,kt+=T),L&&(Lt*=-1,qt+=C),yt.applyITRS(x,S,R,A,b),Et.copyFrom(st.matrix),at?(Et.multiplyWithOffset(at,-st.scrollX*O,-st.scrollY*I),yt.e=x,yt.f=S):(yt.e-=st.scrollX*O,yt.f-=st.scrollY*I),Et.multiply(yt,bt);var Bt=bt.setQuad(kt,qt,kt+It,qt+Lt);vt==null&&(vt=this.setTexture2D(u)),f&&!xt&&this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",st.roundPixels),this.batchQuad(f,Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5],Bt[6],Bt[7],Dt,Vt,Nt,Mt,j,D,z,$,K,u,vt),f&&!xt&&this.manager.postBatch(f)},batchTextureFrame:function(f,u,d,m,x,S,T){this.manager.set(this);var C=this._tempMatrix1.copyFrom(S),A=this._tempMatrix2;T?C.multiply(T,A):A=C;var b=A.setQuad(u,d,u+f.width,d+f.height),R=this.setTexture2D(f.source.glTexture);m=r.getTintAppendFloatAlpha(m,x),this.batchQuad(null,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],f.u0,f.v0,f.u1,f.v1,m,m,m,m,0,f.glTexture,R)},batchFillRect:function(f,u,d,m,x,S){this.renderer.pipelines.set(this);var T=this.calcMatrix;S&&S.multiply(x,T);var C=T.setQuad(f,u,f+d,u+m),A=this.fillTint;this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(f,u,d,m,x,S,T,C){this.renderer.pipelines.set(this);var A=this.calcMatrix;C&&C.multiply(T,A);var b=A.getX(f,u),R=A.getY(f,u),F=A.getX(d,m),L=A.getY(d,m),O=A.getX(x,S),I=A.getY(x,S),B=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,b,R,F,L,O,I,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(f,u,d,m,x,S,T,C,A){var b=this.tempTriangle;b[0].x=f,b[0].y=u,b[0].width=T,b[1].x=d,b[1].y=m,b[1].width=T,b[2].x=x,b[2].y=S,b[2].width=T,b[3].x=f,b[3].y=u,b[3].width=T,this.batchStrokePath(b,T,!1,C,A)},batchFillPath:function(f,u,d){this.renderer.pipelines.set(this);var m=this.calcMatrix;d&&d.multiply(u,m);for(var x=f.length,S=this.polygonCache,T,C,A=this.fillTint.TL,b=this.fillTint.TR,R=this.fillTint.BL,F=0;F<x;++F)C=f[F],S.push(C.x,C.y);T=p(S),x=T.length,this.currentShader.set1i("uRoundPixels",!1);for(var L=0;L<x;L+=3){var O=T[L+0]*2,I=T[L+1]*2,B=T[L+2]*2,U=S[O+0],H=S[O+1],J=S[I+0],tt=S[I+1],X=S[B+0],j=S[B+1],D=m.getX(U,H),z=m.getY(U,H),$=m.getX(J,tt),K=m.getY(J,tt),Z=m.getX(X,j),it=m.getY(X,j);this.batchTri(null,D,z,$,K,Z,it,0,0,1,1,A,b,R,2)}S.length=0},batchStrokePath:function(f,u,d,m,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var S=f.length-1,T=0;T<S;T++){var C=f[T],A=f[T+1];this.batchLine(C.x,C.y,A.x,A.y,C.width/2,A.width/2,u,T,!d&&T===S-1,m,x)}},batchLine:function(f,u,d,m,x,S,T,C,A,b,R){this.renderer.pipelines.set(this);var F=this.calcMatrix;R&&R.multiply(b,F);var L=d-f,O=m-u,I=Math.sqrt(L*L+O*O);if(I!==0){var B=x*(m-u)/I,U=x*(f-d)/I,H=S*(m-u)/I,J=S*(f-d)/I,tt=d-H,X=m-J,j=f-B,D=u-U,z=d+H,$=m+J,K=f+B,Z=u+U,it=F.getX(tt,X),st=F.getY(tt,X),at=F.getX(j,D),ut=F.getY(j,D),vt=F.getX(z,$),xt=F.getY(z,$),Et=F.getX(K,Z),yt=F.getY(K,Z),bt=this.strokeTint,Dt=bt.TL,Vt=bt.TR,Nt=bt.BL,Mt=bt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,Et,yt,at,ut,it,st,vt,xt,0,0,1,1,Dt,Vt,Nt,Mt,2),!(T<=2)){var It=this.prevQuad,Lt=this.firstQuad;C>0&&It[4]?this.batchQuad(null,Et,yt,at,ut,It[0],It[1],It[2],It[3],0,0,1,1,Dt,Vt,Nt,Mt,2):(Lt[0]=Et,Lt[1]=yt,Lt[2]=at,Lt[3]=ut,Lt[4]=1),A&&Lt[4]?this.batchQuad(null,it,st,vt,xt,Lt[0],Lt[1],Lt[2],Lt[3],0,0,1,1,Dt,Vt,Nt,Mt,2):(It[0]=it,It[1]=st,It[2]=vt,It[3]=xt,It[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,a.prototype.destroy.call(this),this}});c.exports=h},43439:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=t(4127),i=t(89924),n=t(29100),e=new o({Extends:n,initialize:function(l){l.vertShader=p(l,"vertShader",i),l.fragShader=p(l,"fragShader",s),l.attributes=p(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,l)},onRender:function(r,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(r,l,a,h,f,u,d,m,x,S,T,C){var A=r.color,b=r.intensity,R=r.radius,F=r.attenuation,L=A.r*b,O=A.g*b,I=A.b*b,B=l.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(a,h,T,C,R,F,L,O,I,B),this.batchLightVert(f,u,T,C,R,F,L,O,I,B),this.batchLightVert(d,m,T,C,R,F,L,O,I,B),this.batchLightVert(a,h,T,C,R,F,L,O,I,B),this.batchLightVert(d,m,T,C,R,F,L,O,I,B),this.batchLightVert(x,S,T,C,R,F,L,O,I,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(r,l,a,h,f,u,d,m,x,S){var T=this.vertexViewF32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++C]=r,T[++C]=l,T[++C]=a,T[++C]=h,T[++C]=f,T[++C]=u,T[++C]=d,T[++C]=m,T[++C]=x,T[++C]=S,this.vertexCount++}});c.exports=e},84057:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89422),s=t(95540),i=t(27681),n=t(49627),e=t(29100),r=new o({Extends:e,initialize:function(a){a.renderTarget=s(a,"renderTarget",1),a.fragShader=s(a,"fragShader",i),a.vertShader=s(a,"vertShader",n),a.attributes=s(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,a),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height),this.set1i("uRoundPixels",a.config.roundPixels);for(var h=this.renderTargets,f=0;f<h.length;f++)h[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,a,h){h===void 0&&(h=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var u=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,a.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),h&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,u))},copyFrame:function(l,a,h,f,u){this.manager.copyFrame(l,a,h,f,u)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,a,h){this.manager.drawFrame(l,a,h,this.colorMatrix)},blendFrames:function(l,a,h,f,u){this.manager.blendFrames(l,a,h,f,u)},blendFramesAdditive:function(l,a,h,f,u){this.manager.blendFramesAdditive(l,a,h,f,u)},clearFrame:function(l,a){this.manager.clearFrame(l,a)},blitFrame:function(l,a,h,f,u,d){this.manager.blitFrame(l,a,h,f,u,d)},copyFrameRect:function(l,a,h,f,u,d,m,x){this.manager.copyFrameRect(l,a,h,f,u,d,m,x)},bindAndDraw:function(l,a,h,f,u){h===void 0&&(h=!0),f===void 0&&(f=!0);var d=this.gl,m=this.renderer;this.bind(u),this.set1i("uMainSampler",0),a?(d.viewport(0,0,a.width,a.height),d.bindFramebuffer(d.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a.texture.webGLTexture,0),h&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||d.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),a&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});c.exports=r},43558:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(67502),s=t(83419),i=t(96293),n=t(95540),e=t(57516),r=t(27681),l=t(87841),a=t(32302),h=t(45561),f=t(60722),u=t(29100),d=new s({Extends:e,initialize:function(x){var S=n(x,"fragShader",r),T=n(x,"vertShader",f),C=n(x,"drawShader",r),A=[{name:"DrawSprite",fragShader:h,vertShader:f},{name:"CopySprite",fragShader:S,vertShader:T},{name:"DrawGame",fragShader:C,vertShader:f},{name:"ColorMatrix",fragShader:i}],b=n(x,"shaders",[]);x.shaders=A.concat(b),x.vertShader||(x.vertShader=T),x.batchSize=1,e.call(this,x),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){u.prototype.boot.call(this);var m=this.shaders,x=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new a(x,x.width,x.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var S=new ArrayBuffer(168);this.quadVertexData=S,this.quadVertexViewF32=new Float32Array(S),this.quadVertexBuffer=x.createVertexBuffer(S,this.gl.STATIC_DRAW),this.onResize(x.width,x.height),this.currentShader=this.copyShader,this.set2f("uResolution",x.width,x.height),this.set1i("uRoundPixels",x.config.roundPixels)},onResize:function(m,x){var S=this.quadVertexViewF32;S[1]=x,S[22]=x,S[14]=m,S[28]=m,S[35]=m,S[36]=x},batchQuad:function(m,x,S,T,C,A,b,R,F,L,O,I,B,U,H,J,tt,X,j){var D=Math.min(x,T,A,R),z=Math.min(S,C,b,F),$=Math.max(x,T,A,R),K=Math.max(S,C,b,F),Z=$-D,it=K-z,st=this.spriteBounds.setTo(D,z,Z,it),at=m?m.preFX.padding:0,ut=Z+at*2,vt=it+at*2,xt=Math.abs(Math.max(ut,vt)),Et=this.manager.getRenderTarget(xt),yt=this.targetBounds.setTo(0,0,Et.width,Et.height);p(yt,st.centerX,st.centerY),this.tempSprite=m;var bt=this.gl,Dt=this.renderer;Dt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Dt.width,Dt.height),this.set1i("uRoundPixels",Dt.config.roundPixels),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,Et),m.preFX.onFX(this));var Vt=this.fsTarget;return this.flush(),bt.viewport(0,0,Dt.width,Dt.height),bt.bindFramebuffer(bt.FRAMEBUFFER,Vt.framebuffer.webGLFramebuffer),bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,Vt.texture.webGLTexture,0),bt.clearColor(0,0,0,0),bt.clear(bt.COLOR_BUFFER_BIT),this.setTexture2D(j),this.batchVert(x,S,L,O,0,X,U),this.batchVert(T,C,L,B,0,X,J),this.batchVert(A,b,I,B,0,X,tt),this.batchVert(x,S,L,O,0,X,U),this.batchVert(A,b,I,B,0,X,tt),this.batchVert(R,F,I,O,0,X,H),this.flush(),this.flipProjectionMatrix(!1),bt.activeTexture(bt.TEXTURE0),bt.bindTexture(bt.TEXTURE_2D,Et.texture.webGLTexture),bt.copyTexSubImage2D(bt.TEXTURE_2D,0,0,0,yt.x,yt.y,yt.width,yt.height),bt.bindFramebuffer(bt.FRAMEBUFFER,null),bt.bindTexture(bt.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(Et,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,x,S,T,C,A,b){S===void 0&&(S=!0),T===void 0&&(T=!0),C===void 0&&(C=!1),b===void 0&&(b=this.copyShader);var R=this.gl,F=this.tempSprite;A&&(b=this.colorMatrixShader),this.currentShader=b;var L=this.setVertexBuffer(this.quadVertexBuffer);b.bind(L,!1);var O=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",O.width,O.height),this.set1i("uRoundPixels",O.config.roundPixels),F.preFX.onFXCopy(this),this.onCopySprite(m,x,F),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture.webGLTexture),m.height>x.height)R.viewport(0,0,m.width,m.height),this.setTargetUVs(m,x);else{var I=x.height-m.height;R.viewport(0,I,m.width,m.height),this.resetUVs()}if(R.bindFramebuffer(R.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,x.texture.webGLTexture,0),S&&(R.clearColor(0,0,0,+!T),R.clear(R.COLOR_BUFFER_BIT)),C){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}R.bufferData(R.ARRAY_BUFFER,this.quadVertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),C&&this.renderer.setBlendMode(B),R.bindFramebuffer(R.FRAMEBUFFER,null)},copy:function(m,x){var S=this.gl;this.set1i("uMainSampler",0),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,m.texture.webGLTexture),S.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),S.bindFramebuffer(S.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,x.texture.webGLTexture,0),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.quadVertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null)},blendFrames:function(m,x,S,T,C){this.manager.blendFrames(m,x,S,T,C)},blendFramesAdditive:function(m,x,S,T,C){this.manager.blendFramesAdditive(m,x,S,T,C)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var x=this.gl,S=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var T=this._tempMatrix1.loadIdentity(),C=this.targetBounds.x,A=this.targetBounds.y,b=C+m.width,R=A+m.height,F=T.getX(C,A),L=T.getX(C,R),O=T.getX(b,R),I=T.getX(b,A),B=T.getY(C,A),U=T.getY(C,R),H=T.getY(b,R),J=T.getY(b,A),tt=16777215;this.batchVert(F,B,0,0,0,0,tt),this.batchVert(L,U,0,1,0,0,tt),this.batchVert(O,H,1,1,0,0,tt),this.batchVert(F,B,0,0,0,0,tt),this.batchVert(O,H,1,1,0,0,tt),this.batchVert(I,J,1,0,0,0,tt),S.restoreFramebuffer(!1,!0),S.currentFramebuffer||x.viewport(0,0,S.width,S.height),S.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,x,S,T,C,A,b,R){var F=this.quadVertexViewF32;F[2]=m,F[3]=x,F[9]=S,F[10]=T,F[16]=C,F[17]=A,F[23]=m,F[24]=x,F[30]=C,F[31]=A,F[37]=b,F[38]=R},setTargetUVs:function(m,x){var S=x.height/m.height;S>.5?S=.5-(S-.5):S=.5+(.5-S),this.setUVs(0,S,0,1+S,1,1+S,1,S)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});c.exports=d},81041:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=t(57516),i=new o({Extends:s,initialize:function(e){e.topology=5,e.batchSize=p(e,"batchSize",256),s.call(this,e)}});c.exports=i},12385:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=t(57516),i=t(45561),n=t(60722),e=t(29100),r=new o({Extends:s,initialize:function(a){a.fragShader=p(a,"fragShader",i),a.vertShader=p(a,"vertShader",n),a.forceZero=!0,s.call(this,a)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels)}});c.exports=r},7589:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35407),p=t(10312),s=t(83419),i=t(89422),n=t(96293),e=t(36682),r=t(95540),l=t(48247),a=t(49627),h=t(29100),f=new s({Extends:h,initialize:function(d){d.renderTarget=r(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=r(d,"vertShader",a),d.shaders=r(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:n}]),d.attributes=r(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,h.call(this,d),this.colorMatrix=new i,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var u=this.shaders,d=this.renderTargets;this.copyShader=u[0],this.addShader=u[1],this.linearShader=u[2],this.colorMatrixShader=u[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(u,d,m,x,S){m===void 0&&(m=1),x===void 0&&(x=!0),S===void 0&&(S=!0);var T=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,u.texture.webGLTexture),d?(T.viewport(0,0,d.width,d.height),T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture.webGLTexture,0)):T.viewport(0,0,u.width,u.height),x&&(S?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blitFrame:function(u,d,m,x,S,T,C){m===void 0&&(m=1),x===void 0&&(x=!0),S===void 0&&(S=!0),T===void 0&&(T=!1),C===void 0&&(C=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,u.texture.webGLTexture),u.height>d.height)A.viewport(0,0,u.width,u.height),this.setTargetUVs(u,d);else{var b=d.height-u.height;A.viewport(0,b,u.width,u.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,d.texture.webGLTexture,0),x&&(S?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),T){var R=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}C&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),T&&this.renderer.setBlendMode(R),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(u,d,m,x,S,T,C,A){C===void 0&&(C=!0),A===void 0&&(A=!0);var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,u.texture.webGLTexture,0),C&&(A?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT)),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,d.texture.webGLTexture),b.copyTexSubImage2D(b.TEXTURE_2D,0,0,0,m,x,S,T),b.bindFramebuffer(b.FRAMEBUFFER,null),b.bindTexture(b.TEXTURE_2D,null)},copyToGame:function(u){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(u,d,m,x){m===void 0&&(m=!0),x===void 0&&(x=this.colorMatrix);var S=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",x.getData()),this.set1f("uAlpha",x.alpha),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,u.texture.webGLTexture),d?(S.viewport(0,0,d.width,d.height),S.bindFramebuffer(S.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,d.texture.webGLTexture,0)):S.viewport(0,0,u.width,u.height),m?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFrames:function(u,d,m,x,S,T){x===void 0&&(x=1),S===void 0&&(S=!0),T===void 0&&(T=this.linearShader);var C=this.gl;this.setShader(T),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",x),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,u.texture.webGLTexture),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),m?(C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,m.texture.webGLTexture,0),C.viewport(0,0,m.width,m.height)):C.viewport(0,0,u.width,u.height),S?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFramesAdditive:function(u,d,m,x,S){this.blendFrames(u,d,m,x,S,this.addShader)},clearFrame:function(u,d){d===void 0&&(d=!0);var m=this.gl;m.viewport(0,0,u.width,u.height),m.bindFramebuffer(m.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),d?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var x=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,x.webGLFramebuffer)},setUVs:function(u,d,m,x,S,T,C,A){var b=this.vertexViewF32;b[2]=u,b[3]=d,b[6]=m,b[7]=x,b[10]=S,b[11]=T,b[14]=u,b[15]=d,b[18]=S,b[19]=T,b[22]=C,b[23]=A},setTargetUVs:function(u,d){var m=d.height/u.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=f},36060:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=y},84817:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineafterflush"},36712:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebeforeflush"},40285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebind"},65918:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineboot"},92852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinedestroy"},56072:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinerebind"},57566:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineresize"},77085:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(99155),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});c.exports=i},67329:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(24400),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),r=this.fullFrame1,l=this.fullFrame2;this.copyFrame(n,l);for(var a=2/n.width*e.offsetX,h=2/n.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",a,0),this.copySprite(n,r),this.set2f("offset",0,h),this.copySprite(r,n);this.blendFrames(l,n,r,e.strength),this.copyToGame(r)}});c.exports=i},8861:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(41514),s=t(51078),i=t(94328),n=t(84057),e=new o({Extends:n,initialize:function(l){n.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:s},{name:"Gaussian13",fragShader:i}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(r){var l=this.getController(),a=this.gl,h=this.fullFrame1,f=a.getParameter(a.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),a.activeTexture(a.TEXTURE0),a.viewport(0,0,r.width,r.height),this.set1i("uMainSampler",0),this.set2f("resolution",r.width,r.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var u=0;u<l.steps;u++)this.set2f("offset",l.x,0),this.copySprite(r,h),this.set2f("offset",0,l.y),this.copySprite(h,r);a.bindFramebuffer(a.FRAMEBUFFER,f),a.bindTexture(a.TEXTURE_2D,null),this.copyToGame(r)}});c.exports=e},51051:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(90610),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,r,l){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},89428:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(91899),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,r,l){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},88904:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(84057),s=new o({Extends:p,initialize:function(n){p.call(this,{game:n})},onDraw:function(i){var n=this.fullFrame1;this.controller?this.manager.drawFrame(i,n,!0,this.controller):this.drawFrame(i,n),this.copyToGame(n)}});c.exports=s},63563:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(47838),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),r=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,r),this.copyToGame(r)}});c.exports=i},94045:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=t(98656),i=t(84057),n=t(70554),e=new o({Extends:i,initialize:function(l,a){var h=p(a,"quality",.1),f=p(a,"distance",10);i.call(this,{game:l,fragShader:n.setGlowQuality(s,l,h,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(r,l,a,h){r=this.getController(r),this.set1f("outerStrength",r.outerStrength,l),this.set1f("innerStrength",r.innerStrength,l),this.set4fv("glowColor",r.glcolor,l),this.setBoolean("knockout",r.knockout,l),a&&h&&this.set2f("resolution",a,h,l)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=e},74088:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(70463),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});c.exports=i},99636:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50831),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(n,e,r,l){n=this.getController(n),this.set1f("amount",n.amount,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},34700:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92595),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var r=n.samples;this.set1i("samples",r,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/r,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});c.exports=i},91157:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72464),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,r,l){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},27797:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(39249),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});c.exports=i},67603:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(2878),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var r=n.progress,l=n.wipeWidth,a=n.direction,h=n.axis;this.set4f("config",r,l,a,h,e),this.setBoolean("reveal",n.reveal,e)}});c.exports=i},58918:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};c.exports=o},96615:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36060),p=t(79291),s={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};s=p(!1,s,o),c.exports=s},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e){this.webGLAttribLocation=-1,this.gl=i,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var s=this.gl;s.isContextLost()||(this.webGLAttribLocation=s.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=p},26128:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e,r){this.webGLBuffer=null,this.gl=i,this.initialDataOrSize=n,this.bufferType=e,this.bufferUsage=r,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var s=this.gl;if(!s.isContextLost()){var i=this.bufferType,n=s.createBuffer();this.webGLBuffer=n,s.bindBuffer(i,this.webGLBuffer),s.bufferData(i,this.initialDataOrSize,this.bufferUsage),s.bindBuffer(i,null)}}},destroy:function(){var s=this.gl;s.isContextLost()||s.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=p},84387:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},s=new o({initialize:function(n,e,r,l,a){this.webGLFramebuffer=null,this.gl=n,this.width=e,this.height=r,this.renderTexture=l,this.addDepthStencilBuffer=!!a,this.createResource()},createResource:function(){var i=this.gl;if(!i.isContextLost()){var n=this.renderTexture,e=0,r=i.createFramebuffer();if(this.webGLFramebuffer=r,i.bindFramebuffer(i.FRAMEBUFFER,r),n.isRenderTexture=!0,n.isAlphaPremultiplied=!1,i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n.webGLTexture,0),e=i.checkFramebufferStatus(i.FRAMEBUFFER),e!==i.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[e]||e));if(this.addDepthStencilBuffer){var l=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,l),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,this.width,this.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,l)}i.bindFramebuffer(i.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var i=this.gl;if(!i.isContextLost()){i.bindFramebuffer(i.FRAMEBUFFER,this.webGLFramebuffer);var n=i.getFramebufferAttachmentParameter(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,null,0),i.deleteTexture(n));var e=i.getFramebufferAttachmentParameter(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&i.deleteRenderbuffer(e),i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=s},1482:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e){this.webGLProgram=null,this.gl=i,this.vertexSource=n,this.fragmentSource=e,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var i=s.createProgram(),n=s.createShader(s.VERTEX_SHADER),e=s.createShader(s.FRAGMENT_SHADER);s.shaderSource(n,this.vertexSource),s.shaderSource(e,this.fragmentSource),s.compileShader(n),s.compileShader(e);var r=`Shader failed:
`;if(!s.getShaderParameter(n,s.COMPILE_STATUS))throw new Error("Vertex "+r+s.getShaderInfoLog(n));if(!s.getShaderParameter(e,s.COMPILE_STATUS))throw new Error("Fragment "+r+s.getShaderInfoLog(e));if(s.attachShader(i,n),s.attachShader(i,e),s.linkProgram(i),!s.getProgramParameter(i,s.LINK_STATUS))throw new Error("Link "+r+s.getProgramInfoLog(i));s.useProgram(i),this.webGLProgram=i}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=p},82751:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50030),s=new o({initialize:function(n,e,r,l,a,h,f,u,d,m,x,S,T){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=n,this.mipLevel=e,this.minFilter=r,this.magFilter=l,this.wrapT=a,this.wrapS=h,this.format=f,this.pixels=u,this.width=d,this.height=m,this.pma=x??!0,this.forceSize=!!S,this.flipY=!!T,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var i=this.gl;if(!i.isContextLost()){if(this.pixels instanceof s){this.webGLTexture=this.pixels.webGLTexture;return}var n=i.createTexture();n.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=n,this._processTexture()}},update:function(i,n,e,r,l,a,h,f,u){if(!(n===0||e===0)){this.pixels=i,this.width=n,this.height=e,this.flipY=r,this.wrapS=l,this.wrapT=a,this.minFilter=h,this.magFilter=f,this.format=u;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var i=this.gl;i.activeTexture(i.TEXTURE0);var n=i.getParameter(i.TEXTURE_BINDING_2D);i.bindTexture(i.TEXTURE_2D,this.webGLTexture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.minFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.magFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.wrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.wrapT),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,r=this.mipLevel,l=this.width,a=this.height,h=this.format,f=!1;if(e==null)i.texImage2D(i.TEXTURE_2D,r,h,l,a,0,h,i.UNSIGNED_BYTE,null),f=p(l,a);else if(e.compressed){l=e.width,a=e.height,f=e.generateMipmap;for(var u=0;u<e.mipmaps.length;u++)i.compressedTexImage2D(i.TEXTURE_2D,u,e.internalFormat,e.mipmaps[u].width,e.mipmaps[u].height,0,e.mipmaps[u].data)}else e instanceof Uint8Array?(i.texImage2D(i.TEXTURE_2D,r,h,l,a,0,h,i.UNSIGNED_BYTE,e),f=p(l,a)):(this.forceSize||(l=e.width,a=e.height),i.texImage2D(i.TEXTURE_2D,r,h,h,i.UNSIGNED_BYTE,e),f=p(l,a));f&&i.generateMipmap(i.TEXTURE_2D),n?i.bindTexture(i.TEXTURE_2D,n):i.bindTexture(i.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(i){this.__SPECTOR_Metadata=i,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=i)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof s||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=s},57183:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e){this.webGLUniformLocation=null,this.gl=i,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var s=this.gl;s.isContextLost()||(this.webGLUniformLocation=s.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=p},9503:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};c.exports=o},76531:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),p=t(83419),s=t(50792),i=t(97480),n=t(8443),e=t(57811),r=t(74403),l=t(45818),a=t(29747),h=t(87841),f=t(86555),u=t(56583),d=t(26099),m=t(38058),x=new p({Extends:s,initialize:function(T){s.call(this),this.game=T,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:a,windowResize:a,fullScreenChange:a,fullScreenError:a}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen,this.scaleMode!==o.SCALE_MODE.RESIZE&&this.scaleMode!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(n.PRE_STEP,this.step,this),S.events.once(n.READY,this.refresh,this),S.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var T=S.width,C=S.height,A=S.scaleMode,b=S.zoom,R=S.autoRound;if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var L=parseInt(T,10)/100;T=Math.floor(F*L)}if(typeof C=="string")if(C.substr(-1)!=="%")C=parseInt(C,10);else{var O=this.parentSize.height;O===0&&(O=window.innerHeight);var I=parseInt(C,10)/100;C=Math.floor(O*I)}this.scaleMode=A,this.autoRound=R,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,R&&(T=Math.floor(T),C=Math.floor(C)),this.gameSize.setSize(T,C),b===o.ZOOM.MAX_ZOOM&&(b=this.getMaxZoom()),this.zoom=b,b!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,C),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*b,S.minHeight*b),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*b,S.maxHeight*b),this.displaySize.setSize(T,C),(S.snapWidth>0||S.snapHeight>0)&&this.displaySize.setSnap(S.snapWidth,S.snapHeight),this.orientation=l(T,C)},getParent:function(S){var T=S.parent;if(T!==null){if(this.parent=r(T),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==o.SCALE_MODE.NONE){var C=this.parent.getBoundingClientRect();(this.parentIsWindow||C.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",C=this.parent.getBoundingClientRect(),!this.parentIsWindow&&C.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=e(!0));var C=T.width,A=T.height;if(S.width!==C||S.height!==A)return S.setSize(C,A),!0;if(this.canvas){var b=this.canvasBounds,R=this.canvas.getBoundingClientRect();if(R.x!==b.x||R.y!==b.y)return!0}return!1},lockOrientation:function(S){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,S):!1},setParentSize:function(S,T){return this.parentSize.setSize(S,T),this.refresh()},setGameSize:function(S,T){var C=this.autoRound;C&&(S=Math.floor(S),T=Math.floor(T));var A=this.width,b=this.height;return this.gameSize.resize(S,T),this.baseSize.resize(S,T),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,b)},resize:function(S,T){var C=this.zoom,A=this.autoRound;A&&(S=Math.floor(S),T=Math.floor(T));var b=this.width,R=this.height;this.gameSize.resize(S,T),this.baseSize.resize(S,T),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*C,T*C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,L=S*C,O=T*C;return A&&(L=Math.floor(L),O=Math.floor(O)),(L!==S||O!==T)&&(F.width=L+"px",F.height=O+"px"),this.refresh(b,R)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(S,T){return S===void 0&&(S=0),T===void 0&&(T=S),this.displaySize.setSnap(S,T),this.refresh()},refresh:function(S,T){S===void 0&&(S=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var C=this.game.domContainer;if(C){this.baseSize.setCSS(C);var A=this.canvas.style,b=C.style;b.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",b.marginLeft=A.marginLeft,b.marginTop=A.marginTop}return this.emit(i.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=l(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(i.ORIENTATION_CHANGE,S))}},updateScale:function(){var S=this.canvas.style,T=this.gameSize.width,C=this.gameSize.height,A,b,R=this.zoom,F=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(T*R,C*R),A=this.displaySize.width,b=this.displaySize.height,F&&(A=Math.floor(A),b=Math.floor(b)),this._resetZoom&&(S.width=A+"px",S.height=b+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,b=this.displaySize.height,F&&(A=Math.floor(A),b=Math.floor(b)),this.canvas.width=A,this.canvas.height=b;else if(this.scaleMode===o.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,b=this.displaySize.height,F&&(A=Math.floor(A),b=Math.floor(b)),S.width=A+"px",S.height=b+"px";var L=this.parentSize.width/this.gameSize.width,O=this.parentSize.height/this.gameSize.height;L<O?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/L):this.baseSize.setSize(this.displaySize.width/O,this.gameSize.height),A=this.baseSize.width,b=this.baseSize.height,F&&(A=Math.floor(A),b=Math.floor(b)),this.canvas.width=A,this.canvas.height=b}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,b=this.displaySize.height,F&&(A=Math.floor(A),b=Math.floor(b)),S.width=A+"px",S.height=b+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=u(this.parentSize.width,this.gameSize.width,0,!0),T=u(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,T),1)},updateCenter:function(){var S=this.autoCenter;if(S!==o.CENTER.NO_CENTER){var T=this.canvas,C=T.style,A=T.getBoundingClientRect(),b=A.width,R=A.height,F=Math.floor((this.parentSize.width-b)/2),L=Math.floor((this.parentSize.height-R)/2);S===o.CENTER.CENTER_HORIZONTALLY?L=0:S===o.CENTER.CENTER_VERTICALLY&&(F=0),C.marginLeft=F+"px",C.marginTop=L+"px"}},updateBounds:function(){var S=this.canvasBounds,T=this.canvas.getBoundingClientRect();S.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=T.width,S.height=T.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){S===void 0&&(S={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(i.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var C=this.getFullscreenTarget();T.keyboard?C[T.request](Element.ALLOW_KEYBOARD_INPUT):C[T.request](S)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(i.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(i.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var T=S.parentNode;T.insertBefore(this.canvas,S),T.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(i.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(i.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,T=this.domlisteners;if(T.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0,S.refresh()},T.windowResize=function(){S.updateBounds(),S.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(A){return S.onFullScreenChange(A)},T.fullScreenError=function(A){return S.onFullScreenError(A)};var C=["webkit","moz",""];C.forEach(function(A){document.addEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,T){S instanceof m||(T=S,S=void 0),T===void 0&&(T=new h);var C=this.baseSize,A=this.parentSize,b=this.canvasBounds,R=this.displayScale,F=b.x>=0?0:-(b.x*R.x),L=b.y>=0?0:-(b.y*R.y),O;A.width>=b.width?O=C.width:O=C.width-(b.width-A.width)*R.x;var I;return A.height>=b.height?I=C.height:I=C.height-(b.height-A.height)*R.y,T.setTo(F,L,O,I),S&&(T.width/=S.zoomX,T.height/=S.zoomY,T.centerX=S.centerX+S.scrollX,T.centerY=S.centerY+S.scrollY),T},step:function(S,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(C){document.removeEventListener(C+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(C+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=x},64743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};c.exports=o},56139:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},2336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},47412:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},51452:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},20666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},47945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},97480:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(13560),s={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};s=o(!1,s,p.CENTER),s=o(!1,s,p.ORIENTATION),s=o(!1,s,p.SCALE_MODE),s=o(!1,s,p.ZOOM),c.exports=s},27397:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=t(35355),s=function(i){var n=i.game.config.defaultPhysicsSystem,e=o(i.settings,"physics",!1);if(!(!n&&!e)){var r=[];if(n&&r.push(p(n+"Physics")),e)for(var l in e)l=p(l.concat("Physics")),r.indexOf(l)===-1&&r.push(l);return r}};c.exports=s},52106:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(s){var i=s.plugins.getDefaultScenePlugins(),n=o(s.settings,"plugins",!1);return Array.isArray(n)?n:i||[]};c.exports=p},87033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=y},97482:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(2368),s=new o({initialize:function(n){this.sys=new p(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=s},60903:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89993),s=t(44594),i=t(8443),n=t(35154),e=t(54899),r=t(29747),l=t(97482),a=t(2368),h=new o({initialize:function(u,d){if(this.game=u,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)this._pending.push({key:"default",scene:d[m],autoStart:m===0,data:{}})}u.events.once(i.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(i.SYSTEM_READY,this.systemScene,this);var f,u,d,m;for(f=0;f<this._pending.length;f++){u=this._pending[f],d=u.key,m=u.scene;var x;m instanceof l?x=this.createSceneFromInstance(d,m):typeof m=="object"?x=this.createSceneFromObject(d,m):typeof m=="function"&&(x=this.createSceneFromFunction(d,m)),d=x.sys.settings.key,this.keys[d]=x,this.scenes.push(x),this._data[d]&&(x.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(u.autoStart=!0)),(u.autoStart||x.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)u=this._start[f],this.start(u);this._start.length=0}},processQueue:function(){var f=this._pending.length,u=this._queue.length;if(!(f===0&&u===0)){var d,m;if(f){for(d=0;d<f;d++)m=this._pending[d],this.add(m.key,m.scene,m.autoStart,m.data);for(d=0;d<this._start.length;d++)m=this._start[d],this.start(m);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)m=this._queue[d],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(f,u,d,m){if(d===void 0&&(d=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:u,autoStart:d,data:m}),this.isBooted||(this._data[f]={data:m}),null;f=this.getKey(f,u);var x;return u instanceof l?x=this.createSceneFromInstance(f,u):typeof u=="object"?(u.key=f,x=this.createSceneFromObject(f,u)):typeof u=="function"&&(x=this.createSceneFromFunction(f,u)),x.sys.settings.data=m,f=x.sys.settings.key,this.keys[f]=x,this.scenes.push(x),(d||x.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),x},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var u=this.getScene(f);if(!u||u.sys.isTransitioning())return this;var d=this.scenes.indexOf(u),m=u.sys.settings.key;d>-1&&(delete this.keys[m],this.scenes.splice(d,1),this._start.indexOf(m)>-1&&(d=this._start.indexOf(m),this._start.splice(d,1)),u.sys.destroy())}return this},bootScene:function(f){var u=f.sys,d=u.settings;u.sceneUpdate=r,f.init&&(f.init.call(f,d.data),d.status=p.INIT,d.isTransition&&u.events.emit(s.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var m;u.load&&(m=u.load,m.reset()),m&&f.preload?(f.preload.call(f),d.status=p.LOADING,m.once(e.COMPLETE,this.loadComplete,this),m.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,u){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var m=this.scenes[d].sys;m.settings.status>p.START&&m.settings.status<=p.RUNNING&&m.step(f,u),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(f,u)}},render:function(f){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.settings.visible&&d.settings.status>=p.LOADING&&d.settings.status<p.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var u=f.sys,d=u.settings;f.create&&(d.status=p.CREATING,f.create.call(f,d.data),d.status===p.DESTROYED)||(d.isTransition&&u.events.emit(s.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(u.sceneUpdate=f.update),d.status=p.RUNNING,u.events.emit(s.CREATE,f))},createSceneFromFunction:function(f,u){var d=new u;if(d instanceof l){var m=d.sys.settings.key;if(m!==""&&(f=m),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new a(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,u){var d=u.sys.settings.key;return d===""&&(u.sys.settings.key=f),u.sys.init(this.game),u},createSceneFromObject:function(f,u){var d=new l(u),m=d.sys.settings.key;m!==""?f=m:d.sys.settings.key=f,d.sys.init(this.game);for(var x=["init","preload","create","update","render"],S=0;S<x.length;S++){var T=n(u,x[S],null);T&&(d[x[S]]=T)}if(u.hasOwnProperty("extend")){for(var C in u.extend)if(u.extend.hasOwnProperty(C)){var A=u.extend[C];C==="data"&&d.hasOwnProperty("data")&&typeof A=="object"?d.data.merge(A):C!=="sys"&&(d[C]=A)}}return d},getKey:function(f,u){if(f||(f="default"),typeof u=="function")return f;if(u instanceof l?f=u.sys.settings.key:typeof u=="object"&&u.hasOwnProperty("key")&&(f=u.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,u){f===void 0&&(f=!0),u===void 0&&(u=!1);for(var d=[],m=this.scenes,x=0;x<m.length;x++){var S=m[x];S&&(!f||f&&S.sys.isActive())&&d.push(S)}return u?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var u=0;u<this.scenes.length;u++)if(f===this.scenes[u])return f;return null},isActive:function(f){var u=this.getScene(f);return u?u.sys.isActive():null},isPaused:function(f){var u=this.getScene(f);return u?u.sys.isPaused():null},isVisible:function(f){var u=this.getScene(f);return u?u.sys.isVisible():null},isSleeping:function(f){var u=this.getScene(f);return u?u.sys.isSleeping():null},pause:function(f,u){var d=this.getScene(f);return d&&d.sys.pause(u),this},resume:function(f,u){var d=this.getScene(f);return d&&d.sys.resume(u),this},sleep:function(f,u){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(u),this},wake:function(f,u){var d=this.getScene(f);return d&&d.sys.wake(u),this},run:function(f,u){var d=this.getScene(f);if(!d){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===f){this.queueOp("start",f,u);break}return this}d.sys.isSleeping()?d.sys.wake(u):d.sys.isPaused()?d.sys.resume(u):this.start(f,u)},start:function(f,u){if(!this.isBooted)return this._data[f]={autoStart:!0,data:u},this;var d=this.getScene(f);if(!d)return console.warn("Scene not found for key: "+f),this;var m=d.sys,x=m.settings.status;if(x>=p.START&&x<=p.CREATING)return this;if(x>=p.RUNNING&&x<=p.SLEEPING)m.shutdown(),m.sceneUpdate=r,m.start(u);else{m.sceneUpdate=r,m.start(u);var S;if(m.load&&(S=m.load),S&&m.settings.hasOwnProperty("pack")&&(S.reset(),S.addPack({payload:m.settings.pack})))return m.settings.status=p.LOADING,S.once(e.COMPLETE,this.payloadComplete,this),S.start(),this}return this.bootScene(d),this},stop:function(f,u){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==p.SHUTDOWN){var m=d.sys.load;m&&(m.off(e.COMPLETE,this.loadComplete,this),m.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(u)}return this},switch:function(f,u){var d=this.getScene(f),m=this.getScene(u);return d&&m&&d!==m&&(this.sleep(f),this.isSleeping(u)?this.wake(u):this.start(u)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var u=this.getScene(f);return this.scenes.indexOf(u)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u<this.scenes.length){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.push(d)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u>0){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.unshift(d)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u>0){var d=u-1,m=this.getScene(f),x=this.getAt(d);this.scenes[u]=x,this.scenes[d]=m}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u<this.scenes.length-1){var d=u+1,m=this.getScene(f),x=this.getAt(d);this.scenes[u]=x,this.scenes[d]=m}}return this},moveAbove:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:u});else{var d=this.getIndex(f),m=this.getIndex(u);if(d!==-1&&m!==-1&&m<d){var x=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(d+(m>d),0,x)}}return this},moveBelow:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:u});else{var d=this.getIndex(f),m=this.getIndex(u);if(d!==-1&&m!==-1&&m>d){var x=this.getAt(m);this.scenes.splice(m,1),d===0?this.scenes.unshift(x):this.scenes.splice(d-(m<d),0,x)}}return this},queueOp:function(f,u,d){return this._queue.push({op:f,keyA:u,keyB:d}),this},swapPosition:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:u});else{var d=this.getIndex(f),m=this.getIndex(u);if(d!==m&&d!==-1&&m!==-1){var x=this.getAt(d);this.scenes[d]=this.scenes[m],this.scenes[m]=x}}return this},dump:function(){for(var f=[],u=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var m=this.scenes[d].sys,x=m.settings.visible&&(m.settings.status===p.RUNNING||m.settings.status===p.PAUSED)?"[*] ":"[-] ";x+=m.settings.key+" ("+u[m.settings.status]+")",f.push(x)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var u=this.scenes[f].sys;u.destroy()}this.systemScene.sys.destroy(),this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=h},52209:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(44594),i=t(95540),n=t(37277),e=new p({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(s.BOOT,this.boot,this),l.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,l),this},restart:function(r){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,r),this},transition:function(r){r===void 0&&(r={});var l=i(r,"target",!1),a=this.manager.getScene(l);if(!l||!this.checkValidTransition(a))return!1;var h=i(r,"duration",1e3);this._elapsed=0,this._target=a,this._duration=h,this._willSleep=i(r,"sleep",!1),this._willRemove=i(r,"remove",!1);var f=i(r,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=i(r,"onUpdateScope",this.scene));var u=i(r,"allowInput",!1);this.settings.transitionAllowInput=u;var d=a.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=h,d.transitionAllowInput=u,i(r,"moveAbove",!1)?this.manager.moveAbove(this.key,l):i(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),a.sys.isSleeping()?a.sys.wake(i(r,"data")):this.manager.start(l,i(r,"data"));var m=i(r,"onStart",null),x=i(r,"onStartScope",this.scene);return m&&m.call(x,this.scene,a,h),this.systems.events.emit(s.TRANSITION_OUT,a,h),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,l){this._elapsed+=l,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,l=this._target.sys.settings;r.events.emit(s.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,l,a,h){return this.manager.add(r,l,a,h)},launch:function(r,l){return r&&r!==this.key&&this.manager.queueOp("start",r,l),this},run:function(r,l){return r&&r!==this.key&&this.manager.queueOp("run",r,l),this},pause:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,l),this},resume:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,l),this},sleep:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,l),this},wake:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,l),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,l),this},setActive:function(r,l,a){l===void 0&&(l=this.key);var h=this.manager.getScene(l);return h&&h.sys.setActive(r,a),this},setVisible:function(r,l){l===void 0&&(l=this.key);var a=this.manager.getScene(l);return a&&a.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.swapPosition(r,l),this},moveAbove:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.moveAbove(r,l),this},moveBelow:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.moveBelow(r,l),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getStatus:function(r){var l=this.manager.getScene(r);if(l)return l.sys.getStatus()},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(s.SHUTDOWN,this.shutdown,this),r.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),c.exports=e},55681:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),p=t(35154),s=t(46975),i=t(87033),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:o.PENDING,key:p(e,"key",""),active:p(e,"active",!1),visible:p(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(e,"pack",!1),cameras:p(e,"cameras",null),map:p(e,"map",s(i,p(e,"mapAdd",{}))),physics:p(e,"physics",{}),loader:p(e,"loader",{}),plugins:p(e,"plugins",!1),input:p(e,"input",{})}}};c.exports=n},2368:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89993),s=t(42363),i=t(44594),n=t(27397),e=t(52106),r=t(29747),l=t(55681),a=new o({initialize:function(f,u){this.scene=f,this.game,this.renderer,this.config=u,this.settings=l.create(u),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(h){this.settings.status=p.INIT,this.sceneUpdate=r,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var f=h.plugins;this.plugins=f,f.addToScene(this,s.Global,[s.CoreScene,e(this),n(this)]),this.events.emit(i.BOOT,this),this.settings.isBooted=!0},step:function(h,f){var u=this.events;u.emit(i.PRE_UPDATE,h,f),u.emit(i.UPDATE,h,f),this.sceneUpdate.call(this.scene,h,f),u.emit(i.POST_UPDATE,h,f)},render:function(h){var f=this.displayList;f.depthSort(),this.events.emit(i.PRE_RENDER,h),this.cameras.render(h,f),this.events.emit(i.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var f=this.settings,u=this.getStatus();return u!==p.CREATING&&u!==p.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=p.PAUSED,f.active=!1,this.events.emit(i.PAUSE,this,h)),this},resume:function(h){var f=this.events,u=this.settings;return this.settings.active||(u.status=p.RUNNING,u.active=!0,f.emit(i.RESUME,this,h)),this},sleep:function(h){var f=this.settings,u=this.getStatus();return u!==p.CREATING&&u!==p.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=p.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(i.SLEEP,this,h)),this},wake:function(h){var f=this.events,u=this.settings;return u.status=p.RUNNING,u.active=!0,u.visible=!0,f.emit(i.WAKE,this,h),u.isTransition&&f.emit(i.TRANSITION_WAKE,u.transitionFrom,u.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>p.PENDING&&h<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,f){return h?this.resume(f):this.pause(f)},start:function(h){var f=this.events,u=this.settings;h&&(u.data=h),u.status=p.START,u.active=!0,u.visible=!0,f.emit(i.START,this),f.emit(i.READY,this,h)},shutdown:function(h){var f=this.events,u=this.settings;f.off(i.TRANSITION_INIT),f.off(i.TRANSITION_START),f.off(i.TRANSITION_COMPLETE),f.off(i.TRANSITION_OUT),u.status=p.SHUTDOWN,u.active=!1,u.visible=!1,f.emit(i.SHUTDOWN,this,h)},destroy:function(){var h=this.events,f=this.settings;f.status=p.DESTROYED,f.active=!1,f.visible=!1,h.emit(i.DESTROY,this),h.removeAllListeners();for(var u=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<u.length;d++)this[u[d]]=null}});c.exports=a},89993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=y},69830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},7919:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},46763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},11763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},71555:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},36735:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},3809:c=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},90716:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},58262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},91633:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},10319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},87132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},81961:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},90194:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},6265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},33178:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},43063:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},11259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},61611:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},45209:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},22966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},21747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},44594:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),p=t(79291),s={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};s=p(!1,s,o),c.exports=s},30341:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),s=t(14463),i=t(79291),n=t(29747),e=new o({Extends:p,initialize:function(l,a,h){p.call(this),this.manager=l,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=i(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=i(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=i(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var l=this.markers[r];return l?(this.markers[r]=null,l):null},play:function(r,l){if(r===void 0&&(r=""),typeof r=="object"&&(l=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=i(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var r=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,a=Math.pow(r,l);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.stop(),this.emit(s.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=e},85034:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(41786),s=t(50792),i=t(14463),n=t(8443),e=t(46710),r=t(58731),l=t(29747),a=t(26099),h=new o({Extends:s,initialize:function(u){s.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new a,u.events.on(n.BLUR,this.onGameBlur,this),u.events.on(n.FOCUS,this.onGameFocus,this),u.events.on(n.PRE_STEP,this.update,this),u.events.once(n.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,u){u===void 0&&(u={});var d=this.add(f,u);d.spritemap=this.jsonCache.get(f).spritemap;for(var m in d.spritemap)if(d.spritemap.hasOwnProperty(m)){var x=p(u),S=d.spritemap[m];x.loop=S.hasOwnProperty("loop")?S.loop:!1,d.addMarker({name:m,start:S.start,duration:S.end-S.start,config:x})}return d},get:function(f){return r(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,u){var d=this.add(f);return d.once(i.COMPLETE,d.destroy,d),u?u.name?(d.addMarker(u),d.play(u.name)):d.play(u):d.play()},playAudioSprite:function(f,u,d){var m=this.addAudioSprite(f);return m.once(i.COMPLETE,m.destroy,m),m.play(u,d)},remove:function(f){var u=this.sounds.indexOf(f);return u!==-1?(f.destroy(),this.sounds.splice(u,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var u=0,d=this.sounds.length-1;d>=0;d--){var m=this.sounds[d];m.key===f&&(m.destroy(),this.sounds.splice(d,1),u++)}return u},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(i.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(i.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(i.STOP_ALL,this)},stopByKey:function(f){var u=0;return this.getAll(f).forEach(function(d){d.stop()&&u++}),u},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,u){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(i.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(m){m.update(f,u)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,u){var d=this;this.sounds.forEach(function(m,x){m&&!m.pendingRemove&&f.call(u||d,m,x,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(i.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(i.GLOBAL_DETUNE,this,f)}}});c.exports=h},14747:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33684),p=t(25960),s=t(57490),i={create:function(n){var e=n.config.audio,r=n.device.audio;return e.noAudio||!r.webAudio&&!r.audioData?new p(n):r.webAudio&&!e.disableWebAudio?new s(n):new o(n)}};c.exports=i},19723:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},98882:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},57506:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},73146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},11305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},40577:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},30333:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},20394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},21802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},1299:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},99190:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},97125:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},89259:c=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pan"},79986:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},17586:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},19618:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},42306:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},10387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},48959:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},9960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},19180:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},98328:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},50401:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},52498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},14463:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),p=t(83419),s=t(14463),i=t(45319),n=new p({Extends:o,initialize:function(r,l,a){if(a===void 0&&(a={}),this.tags=r.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,r,l,a)},play:function(e,r){return this.manager.isLocked(this,"play",[e,r])||!o.prototype.play.call(this,e,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,r=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var r=this.tags[e];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&l.push(h)},this),l.sort(function(h,f){return h.loop===f.loop?f.seek/f.duration-h.seek/h.duration:h.loop?1:-1});var a=l[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,l=r+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=l-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,a-l),a=this.audio.currentTime):a<r&&(this.audio.currentTime+=r,a=this.audio.currentTime),a<this.previousTime&&this.emit(s.LOOPED,this);else if(a>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(s.COMPLETE,this);return}this.previousTime=a}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=i(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(s.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(s.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,s.RATE,e)&&(this.calculateRate(),this.emit(s.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,s.DETUNE,e)&&(this.calculateRate(),this.emit(s.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(s.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(s.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(s.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=n},33684:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),p=t(83419),s=t(14463),i=t(64895),n=new p({Extends:o,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,r)},add:function(e,r){var l=new i(this,e,r);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,f){for(var u=0;u<f.length;u++)if(f[u].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var r=!1,l=function(){r=!0},a=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",a);var h=[];if(e.game.cache.audio.entries.each(function(u,d){for(var m=0;m<d.length;m++){var x=d[m];x.dataset.locked==="true"&&h.push(x)}return!0}),h.length!==0){var f=h[h.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,h.forEach(function(u){u.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(u){u.load()})}};this.once(s.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,r,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:r,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(s.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(s.GLOBAL_VOLUME,this,e)}}});c.exports=n},23717:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),p=t(83419),s=t(50792),i=t(79291),n=t(29747),e=function(){return!1},r=function(){return null},l=function(){return this},a=new p({Extends:s,initialize:function(f,u,d){d===void 0&&(d={}),s.call(this),this.manager=f,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=i({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:r,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:r,resetConfig:r,update:n,calculateRate:r,destroy:function(){o.prototype.destroy.call(this)}});c.exports=a},25960:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),p=t(83419),s=t(50792),i=t(4603),n=t(29747),e=new p({Extends:s,initialize:function(l){s.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,l){var a=new i(this,r,l);return this.sounds.push(a),a},addAudioSprite:function(r,l){var a=this.add(r,l);return a.spritemap={},a},get:function(r){return o.prototype.get.call(this,r)},getAll:function(r){return o.prototype.getAll.call(this,r)},play:function(r,l){return!1},playAudioSprite:function(r,l,a){return!1},remove:function(r){return o.prototype.remove.call(this,r)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(r){return o.prototype.removeByKey.call(this,r)},stopByKey:function(r){return o.prototype.stopByKey.call(this,r)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(r,l){o.prototype.forEachActiveSound.call(this,r,l)},destroy:function(){o.prototype.destroy.call(this)}});c.exports=e},71741:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),p=t(83419),s=t(14463),i=t(95540),n=new p({Extends:o,initialize:function(r,l,a){if(a===void 0&&(a={}),this.audioBuffer=r.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createPanner&&(this.spatialNode=r.context.createPanner(),this.volumeNode.connect(this.spatialNode)),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),r.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):r.context.createPanner?this.spatialNode.connect(r.destination):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,r,l,a)},play:function(e,r){return o.prototype.play.call(this,e,r)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,r=this.currentConfig.delay,l=this.manager.context.currentTime+r,a=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,a),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),r=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,r),Math.max(0,l))},createBufferSource:function(){var e=this,r=this.manager.context.createBufferSource();return r.buffer=this.audioBuffer,r.connect(this.muteNode),r.onended=function(l){l.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},r},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var r=this.spatialNode;r.panningModel=i(e,"panningModel","equalpower"),r.distanceModel=i(e,"distanceModel","inverse"),r.orientationX.value=i(e,"orientationX",0),r.orientationY.value=i(e,"orientationY",0),r.orientationZ.value=i(e,"orientationZ",-1),r.refDistance=i(e,"refDistance",1),r.maxDistance=i(e,"maxDistance",1e4),r.rolloffFactor=i(e,"rolloffFactor",1),r.coneInnerAngle=i(e,"coneInnerAngle",360),r.coneOuterAngle=i(e,"coneOuterAngle",0),r.coneOuterGain=i(e,"coneOuterGain",0),this.spatialSource=i(e,"follow",null),this.spatialSource||(r.positionX.value=i(e,"x",0),r.positionY.value=i(e,"y",0),r.positionZ.value=i(e,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=i(this.spatialSource,"x",null),r=i(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),r&&r!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=r)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,r=0;r<this.rateUpdates.length;r++){var l=0;r<this.rateUpdates.length-1?l=this.rateUpdates[r+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[r].time)*this.rateUpdates[r].rate}return e},getLoopTime:function(){for(var e=0,r=0;r<this.rateUpdates.length-1;r++)e+=(this.rateUpdates[r+1].time-this.rateUpdates[r].time)*this.rateUpdates[r].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(s.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(s.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(s.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(s.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(s.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=n},57490:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(53134),p=t(85034),s=t(83419),i=t(14463),n=t(8443),e=t(71741),r=t(95540),l=new s({Extends:p,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),p.call(this,h),this.locked&&h.isBooted?this.unlock():h.events.once(n.BOOT,this.unlock,this)},createAudioContext:function(a){var h=a.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(a){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=a,this.masterMuteNode=a.createGain(),this.masterVolumeNode=a.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(a.destination),this.destination=this.masterMuteNode,this},add:function(a,h){var f=new e(this,a,h);return this.sounds.push(f),f},decodeAudio:function(a,h){var f;Array.isArray(a)?f=a:f=[{key:a,data:h}];for(var u=this.game.cache.audio,d=f.length,m=0;m<f.length;m++){var x=f[m],S=x.key,T=x.data;typeof T=="string"&&(T=o(T));var C=(function(b,R){u.add(b,R),this.emit(i.DECODED,b),d--,d===0&&this.emit(i.DECODED_ALL)}).bind(this,S),A=(function(b,R){console.error("Error decoding audio: "+b+" - ",R?R.message:""),d--,d===0&&this.emit(i.DECODED_ALL)}).bind(this,S);this.context.decodeAudioData(T,C,A)}},setListenerPosition:function(a,h){return a===void 0&&(a=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(a,h),this},unlock:function(){var a=this,h=document.body,f=function u(){if(a.context&&h){var d=h.removeEventListener.bind(h);a.context.resume().then(function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u),a.unlocked=!0},function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u)})}};h&&(h.addEventListener("touchstart",f,!1),h.addEventListener("touchend",f,!1),h.addEventListener("click",f,!1),h.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var a=this.context;a&&!this.locked&&(a.state==="suspended"||a.state==="interrupted")&&a.resume()},update:function(a,h){var f=this.context.listener;if(f&&f.positionX!==void 0){var u=r(this.listenerPosition,"x",null),d=r(this.listenerPosition,"y",null);u&&u!==this._spatialx&&(this._spatialx=f.positionX.value=u),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d)}p.prototype.update.call(this,a,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var a=this;this.context.close().then(function(){a.context=null})}p.prototype.destroy.call(this)},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(a){this.masterMuteNode.gain.setValueAtTime(a?0:1,0),this.emit(i.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(a){this.masterVolumeNode.gain.setValueAtTime(a,0),this.emit(i.GLOBAL_VOLUME,this,a)}}});c.exports=l},73162:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),p=t(83419),s=t(29747),i=t(19186),n=new p({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(e,r){return r?o.Add(this.list,e):o.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,r,l){return l?o.AddAt(this.list,e,r):o.AddAt(this.list,e,r,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,r){return e?(r===void 0&&(r=function(l,a){return l[e]-a[e]}),i(this.list,r),this):this},getByName:function(e){return o.GetFirst(this.list,"name",e)},getRandom:function(e,r){return o.GetRandom(this.list,e,r)},getFirst:function(e,r,l,a){return o.GetFirst(this.list,e,r,l,a)},getAll:function(e,r,l,a){return o.GetAll(this.list,e,r,l,a)},count:function(e,r){return o.CountAllMatching(this.list,e,r)},swap:function(e,r){o.Swap(this.list,e,r)},moveTo:function(e,r){return o.MoveTo(this.list,e,r)},moveAbove:function(e,r){return o.MoveAbove(this.list,e,r)},moveBelow:function(e,r){return o.MoveBelow(this.list,e,r)},remove:function(e,r){return r?o.Remove(this.list,e):o.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,r){return r?o.RemoveAt(this.list,e):o.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,r,l){return l?o.RemoveBetween(this.list,e,r):o.RemoveBetween(this.list,e,r,this.removeCallback,this)},removeAll:function(e){for(var r=this.list.length;r--;)this.remove(this.list[r],e);return this},bringToTop:function(e){return o.BringToTop(this.list,e)},sendToBack:function(e){return o.SendToBack(this.list,e)},moveUp:function(e){return o.MoveUp(this.list,e),e},moveDown:function(e){return o.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(e,r){return o.Replace(this.list,e,r)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,r,l,a){return o.SetAll(this.list,e,r,l,a),this},each:function(e,r){for(var l=[null],a=2;a<arguments.length;a++)l.push(arguments[a]);for(a=0;a<this.list.length;a++)l[0]=this.list[a],e.apply(r,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=n},90330:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i){this.entries={},this.size=0,this.setAll(i)},setAll:function(s){if(Array.isArray(s))for(var i=0;i<s.length;i++)this.set(s[i][0],s[i][1]);return this},set:function(s,i){return this.has(s)||this.size++,this.entries[s]=i,this},get:function(s){if(this.has(s))return this.entries[s]},getArray:function(){var s=[],i=this.entries;for(var n in i)s.push(i[n]);return s},has:function(s){return this.entries.hasOwnProperty(s)},delete:function(s){return this.has(s)&&(delete this.entries[s],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(s){delete this.entries[s]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var s=[],i=this.entries;for(var n in i)s.push(i[n]);return s},dump:function(){var s=this.entries;console.group("Map");for(var i in s)console.log(i,s[i]);console.groupEnd()},each:function(s){var i=this.entries;for(var n in i)if(s(n,i[n])===!1)break;return this},contains:function(s){var i=this.entries;for(var n in i)if(i[n]===s)return!0;return!1},merge:function(s,i){i===void 0&&(i=!1);var n=this.entries,e=s.entries;for(var r in e)n.hasOwnProperty(r)&&i?n[r]=e[r]:this.set(r,e[r]);return this}});c.exports=p},25774:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),s=t(82348),i=new o({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive(n)&&!this.isDestroying(n)||this.isPending(n)||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,r=e.indexOf(n);r!==-1&&e.splice(r,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,r=n.length;r--;)e.push(n[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,r,l;for(r=0;r<n.length;r++){l=n[r];var a=e.indexOf(l);a!==-1&&(e.splice(a,1),this.emit(s.PROCESS_QUEUE_REMOVE,l))}for(n.length=0,n=this._pending,r=0;r<n.length;r++)l=n[r],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(s.PROCESS_QUEUE_ADD,l));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=i},59542:(c,y,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43886);function p(T){if(!(this instanceof p))return new p(T);this._maxEntries=Math.max(4,T||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(T){var C=this.data,A=[],b=this.toBBox;if(!m(T,C))return A;for(var R=[],F,L,O,I;C;){for(F=0,L=C.children.length;F<L;F++)O=C.children[F],I=C.leaf?b(O):O,m(T,I)&&(C.leaf?A.push(O):d(T,I)?this._all(O,A):R.push(O));C=R.pop()}return A},collides:function(T){var C=this.data,A=this.toBBox;if(!m(T,C))return!1;for(var b=[],R,F,L,O;C;){for(R=0,F=C.children.length;R<F;R++)if(L=C.children[R],O=C.leaf?A(L):L,m(T,O)){if(C.leaf||d(T,O))return!0;b.push(L)}C=b.pop()}return!1},load:function(T){if(!(T&&T.length))return this;if(T.length<this._minEntries){for(var C=0,A=T.length;C<A;C++)this.insert(T[C]);return this}var b=this._build(T.slice(),0,T.length-1,0);if(!this.data.children.length)this.data=b;else if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){var R=this.data;this.data=b,b=R}this._insert(b,this.data.height-b.height-1,!0)}return this},insert:function(T){return T&&this._insert(T,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(T,C){if(!T)return this;for(var A=this.data,b=this.toBBox(T),R=[],F=[],L,O,I,B;A||R.length;){if(A||(A=R.pop(),O=R[R.length-1],L=F.pop(),B=!0),A.leaf&&(I=s(T,A.children,C),I!==-1))return A.children.splice(I,1),R.push(A),this._condense(R),this;!B&&!A.leaf&&d(A,b)?(R.push(A),F.push(L),L=0,O=A,A=A.children[0]):O?(L++,A=O.children[L],B=!1):A=null}return this},toBBox:function(T){return T},compareMinX:r,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(T){return this.data=T,this},_all:function(T,C){for(var A=[];T;)T.leaf?C.push.apply(C,T.children):A.push.apply(A,T.children),T=A.pop();return C},_build:function(T,C,A,b){var R=A-C+1,F=this._maxEntries,L;if(R<=F)return L=x(T.slice(C,A+1)),i(L,this.toBBox),L;b||(b=Math.ceil(Math.log(R)/Math.log(F)),F=Math.ceil(R/Math.pow(F,b-1))),L=x([]),L.leaf=!1,L.height=b;var O=Math.ceil(R/F),I=O*Math.ceil(Math.sqrt(F)),B,U,H,J;for(S(T,C,A,I,this.compareMinX),B=C;B<=A;B+=I)for(H=Math.min(B+I-1,A),S(T,B,H,O,this.compareMinY),U=B;U<=H;U+=O)J=Math.min(U+O-1,H),L.children.push(this._build(T,U,J,b-1));return i(L,this.toBBox),L},_chooseSubtree:function(T,C,A,b){for(var R,F,L,O,I,B,U,H;b.push(C),!(C.leaf||b.length-1===A);){for(U=H=1/0,R=0,F=C.children.length;R<F;R++)L=C.children[R],I=a(L),B=f(T,L)-I,B<H?(H=B,U=I<U?I:U,O=L):B===H&&I<U&&(U=I,O=L);C=O||C.children[0]}return C},_insert:function(T,C,A){var b=this.toBBox,R=A?T:b(T),F=[],L=this._chooseSubtree(R,this.data,C,F);for(L.children.push(T),e(L,R);C>=0&&F[C].children.length>this._maxEntries;)this._split(F,C),C--;this._adjustParentBBoxes(R,F,C)},_split:function(T,C){var A=T[C],b=A.children.length,R=this._minEntries;this._chooseSplitAxis(A,R,b);var F=this._chooseSplitIndex(A,R,b),L=x(A.children.splice(F,A.children.length-F));L.height=A.height,L.leaf=A.leaf,i(A,this.toBBox),i(L,this.toBBox),C?T[C-1].children.push(L):this._splitRoot(A,L)},_splitRoot:function(T,C){this.data=x([T,C]),this.data.height=T.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},_chooseSplitIndex:function(T,C,A){var b,R,F,L,O,I,B,U;for(I=B=1/0,b=C;b<=A-C;b++)R=n(T,0,b,this.toBBox),F=n(T,b,A,this.toBBox),L=u(R,F),O=a(R)+a(F),L<I?(I=L,U=b,B=O<B?O:B):L===I&&O<B&&(B=O,U=b);return U},_chooseSplitAxis:function(T,C,A){var b=T.leaf?this.compareMinX:r,R=T.leaf?this.compareMinY:l,F=this._allDistMargin(T,C,A,b),L=this._allDistMargin(T,C,A,R);F<L&&T.children.sort(b)},_allDistMargin:function(T,C,A,b){T.children.sort(b);var R=this.toBBox,F=n(T,0,C,R),L=n(T,A-C,A,R),O=h(F)+h(L),I,B;for(I=C;I<A-C;I++)B=T.children[I],e(F,T.leaf?R(B):B),O+=h(F);for(I=A-C-1;I>=C;I--)B=T.children[I],e(L,T.leaf?R(B):B),O+=h(L);return O},_adjustParentBBoxes:function(T,C,A){for(var b=A;b>=0;b--)e(C[b],T)},_condense:function(T){for(var C=T.length-1,A;C>=0;C--)T[C].children.length===0?C>0?(A=T[C-1].children,A.splice(A.indexOf(T[C]),1)):this.clear():i(T[C],this.toBBox)},compareMinX:function(T,C){return T.left-C.left},compareMinY:function(T,C){return T.top-C.top},toBBox:function(T){return{minX:T.left,minY:T.top,maxX:T.right,maxY:T.bottom}}};function s(T,C,A){if(!A)return C.indexOf(T);for(var b=0;b<C.length;b++)if(A(T,C[b]))return b;return-1}function i(T,C){n(T,0,T.children.length,C,T)}function n(T,C,A,b,R){R||(R=x(null)),R.minX=1/0,R.minY=1/0,R.maxX=-1/0,R.maxY=-1/0;for(var F=C,L;F<A;F++)L=T.children[F],e(R,T.leaf?b(L):L);return R}function e(T,C){return T.minX=Math.min(T.minX,C.minX),T.minY=Math.min(T.minY,C.minY),T.maxX=Math.max(T.maxX,C.maxX),T.maxY=Math.max(T.maxY,C.maxY),T}function r(T,C){return T.minX-C.minX}function l(T,C){return T.minY-C.minY}function a(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function h(T){return T.maxX-T.minX+(T.maxY-T.minY)}function f(T,C){return(Math.max(C.maxX,T.maxX)-Math.min(C.minX,T.minX))*(Math.max(C.maxY,T.maxY)-Math.min(C.minY,T.minY))}function u(T,C){var A=Math.max(T.minX,C.minX),b=Math.max(T.minY,C.minY),R=Math.min(T.maxX,C.maxX),F=Math.min(T.maxY,C.maxY);return Math.max(0,R-A)*Math.max(0,F-b)}function d(T,C){return T.minX<=C.minX&&T.minY<=C.minY&&C.maxX<=T.maxX&&C.maxY<=T.maxY}function m(T,C){return C.minX<=T.maxX&&C.minY<=T.maxY&&C.maxX>=T.minX&&C.maxY>=T.minY}function x(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function S(T,C,A,b,R){for(var F=[C,A],L;F.length;)A=F.pop(),C=F.pop(),!(A-C<=b)&&(L=C+Math.ceil((A-C)/b/2)*b,o(T,L,C,A,R),F.push(C,L,L,A))}c.exports=p},35072:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i){if(this.entries=[],Array.isArray(i))for(var n=0;n<i.length;n++)this.set(i[n])},set:function(s){return this.entries.indexOf(s)===-1&&this.entries.push(s),this},get:function(s,i){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[s]===i)return e}},getArray:function(){return this.entries.slice(0)},delete:function(s){var i=this.entries.indexOf(s);return i>-1&&this.entries.splice(i,1),this},dump:function(){console.group("Set");for(var s=0;s<this.entries.length;s++){var i=this.entries[s];console.log(i)}console.groupEnd()},each:function(s,i){var n,e=this.entries.slice(),r=e.length;if(i)for(n=0;n<r&&s.call(i,e[n],n)!==!1;n++);else for(n=0;n<r&&s(e[n],n)!==!1;n++);return this},iterate:function(s,i){var n,e=this.entries.length;if(i)for(n=0;n<e&&s.call(i,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&s(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(s){var i,n=[];for(i=1;i<arguments.length;i++)n.push(arguments[i]);var e=this.entries.length;for(i=0;i<e;i++){var r=this.entries[i];r[s].apply(r,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(s){return this.entries.indexOf(s)>-1},union:function(s){var i=new p;return s.entries.forEach(function(n){i.set(n)}),this.entries.forEach(function(n){i.set(n)}),i},intersect:function(s){var i=new p;return this.entries.forEach(function(n){s.contains(n)&&i.set(n)}),i},difference:function(s){var i=new p;return this.entries.forEach(function(n){s.contains(n)||i.set(n)}),i},size:{get:function(){return this.entries.length},set:function(s){return s<this.entries.length?this.entries.length=s:this.entries.length}}});c.exports=p},86555:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),s=t(56583),i=t(26099),n=new p({initialize:function(r,l,a,h){r===void 0&&(r=0),l===void 0&&(l=r),a===void 0&&(a=0),h===void 0&&(h=null),this._width=r,this._height=l,this._parent=h,this.aspectMode=a,this.aspectRatio=l===0?1:r/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new i},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.snapTo.set(e,r),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.minWidth=o(e,0,this.maxWidth),this.minHeight=o(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,r){return e===void 0&&(e=Number.MAX_VALUE),r===void 0&&(r=e),this.maxWidth=o(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,r){switch(e===void 0&&(e=0),r===void 0&&(r=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(s(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,r,!0);break;case n.ENVELOP:this.constrain(e,r,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,r){return this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(s(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,r){return r===void 0&&(r=!0),e=o(e,this.minWidth,this.maxWidth),r&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,r){return r===void 0&&(r=!0),e=o(e,this.minHeight,this.maxHeight),r&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,r,l){e===void 0&&(e=0),r===void 0&&(r=e),l===void 0&&(l=!0),e=this.getNewWidth(e),r=this.getNewHeight(r);var a=this.snapTo,h=r===0?1:e/r;return l&&this.aspectRatio>h||!l&&this.aspectRatio<h?(e=s(e,a.x),r=e/this.aspectRatio,a.y>0&&(r=s(r,a.y),e=r*this.aspectRatio)):(l&&this.aspectRatio<h||!l&&this.aspectRatio>h)&&(r=s(r,a.y),e=r*this.aspectRatio,a.x>0&&(e=s(e,a.x),r=e*(1/this.aspectRatio))),this._width=e,this._height=r,this},fitTo:function(e,r){return this.constrain(e,r,!0)},envelop:function(e,r){return this.constrain(e,r,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,c.exports=n},15238:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},56187:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},82348:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(45319),s=t(40987),i=t(8054),n=t(50030),e=t(79237),r=new o({Extends:e,initialize:function(a,h,f,u,d){e.call(this,a,h,f,u,d),this.add("__BASE",0,0,0,u,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=u,this.height=d,this.imageData=this.context.getImageData(0,0,u,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===i.WEBGL&&this.refresh(),this},draw:function(l,a,h,f){return f===void 0&&(f=!0),this.context.drawImage(h,l,a),f&&this.update(),this},drawFrame:function(l,a,h,f,u){h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=!0);var d=this.manager.getFrame(l,a);if(d){var m=d.canvasData,x=d.cutWidth,S=d.cutHeight,T=d.source.resolution;this.context.drawImage(d.source.image,m.x,m.y,x,S,h,f,x/T,S/T),u&&this.update()}return this},setPixel:function(l,a,h,f,u,d){d===void 0&&(d=255),l=Math.abs(Math.floor(l)),a=Math.abs(Math.floor(a));var m=this.getIndex(l,a);if(m>-1){var x=this.context.getImageData(l,a,1,1);x.data[0]=h,x.data[1]=f,x.data[2]=u,x.data[3]=d,this.context.putImageData(x,l,a)}return this},putData:function(l,a,h,f,u,d,m){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=l.width),m===void 0&&(m=l.height),this.context.putImageData(l,a,h,f,u,d,m),this},getData:function(l,a,h,f){l=p(Math.floor(l),0,this.width-1),a=p(Math.floor(a),0,this.height-1),h=p(h,1,this.width-l),f=p(f,1,this.height-a);var u=this.context.getImageData(l,a,h,f);return u},getPixel:function(l,a,h){h||(h=new s);var f=this.getIndex(l,a);if(f>-1){var u=this.data,d=u[f+0],m=u[f+1],x=u[f+2],S=u[f+3];h.setTo(d,m,x,S)}return h},getPixels:function(l,a,h,f){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=this.width),f===void 0&&(f=h),l=Math.abs(Math.round(l)),a=Math.abs(Math.round(a));for(var u=p(l,0,this.width),d=p(l+h,0,this.width),m=p(a,0,this.height),x=p(a+f,0,this.height),S=new s,T=[],C=m;C<x;C++){for(var A=[],b=u;b<d;b++)S=this.getPixel(b,C,S),A.push({x:b,y:C,color:S.color,alpha:S.alphaGL});T.push(A)}return T},getIndex:function(l,a){return l=Math.abs(Math.round(l)),a=Math.abs(Math.round(a)),l<this.width&&a<this.height?(l+a*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,a,h,f,u){return l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=this.width),f===void 0&&(f=this.height),u===void 0&&(u=!0),this.context.clearRect(l,a,h,f),u&&this.update(),this},setSize:function(l,a){return a===void 0&&(a=l),(l!==this.width||a!==this.height)&&(this.canvas.width=l,this.canvas.height=a,this._source.width=l,this._source.height=a,this._source.isPowerOf2=n(l,a),this.frames.__BASE.setSize(l,a,0,0),this.width=l,this.height=a,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=r},81320:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(71911),s=t(27919),i=t(83419),n=t(8054),e=t(4327),r=t(95540),l=t(36060),a=t(32302),h=t(79237),f=t(70554),u=new i({Extends:h,initialize:function(m,x,S,T){S===void 0&&(S=256),T===void 0&&(T=256),this.type="DynamicTexture";var C=m.game.renderer,A=C&&C.type===n.CANVAS,b=A?s.create2D(this,S,T):[this];h.call(this,m,x,b,S,T),this.add("__BASE",0,0,0,S,T),this.renderer=C,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?b:null,this.context=A?b.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,S,T).setScene(m.game.scene.systemScene,!1),this.renderTarget=A?null:new a(C,S,T,1,0,!1,!0,!0,!1),this.pipeline=A?null:C.pipelines.get(l.SINGLE_PIPELINE),this.setSize(S,T)},setSize:function(d,m){m===void 0&&(m=d);var x=this.get(),S=x.source;if(d!==this.width||m!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=m);var T=this.renderTarget;T&&(T.willResize(d,m)&&T.resize(d,m),T.texture!==S.glTexture&&this.renderer.deleteTexture(S.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,m),S.width=d,S.height=m,x.setSize(d,m),this.width=d,this.height=m}else{var C=this.getSourceImage();x.cutX+d>C.width&&(d=C.width-x.cutX),x.cutY+m>C.height&&(m=C.height-x.cutY),x.setSize(d,m,x.cutX,x.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),m=d.source,x=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=x.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,m,x,S,T,C){var A=this.camera,b=this.renderer;m===void 0&&(m=1),x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=this.width),C===void 0&&(C=this.height);var R=d>>16&255,F=d>>8&255,L=d&255,O=this.renderTarget;if(A.preRender(),O){O.bind(!0);var I=this.pipeline.manager.set(this.pipeline),B=b.width/O.width,U=b.height/O.height,H=O.height-(S+C);I.drawFillRect(x*B,H*U,T*B,C*U,f.getTintFromFloats(L/255,F/255,R/255,1),m),O.unbind(!0)}else{var J=this.context;b.setContext(J),J.globalCompositeOperation="source-over",J.fillStyle="rgba("+R+","+F+","+L+","+m+")",J.fillRect(x,S,T,C),b.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,m=this.renderTarget;m?m.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,m,x,S,T){x===void 0&&(x=0),S===void 0&&(S=0);var C=r(T,"alpha",1),A=r(T,"tint",16777215),b=r(T,"angle",0),R=r(T,"rotation",0),F=r(T,"scale",1),L=r(T,"scaleX",F),O=r(T,"scaleY",F),I=r(T,"originX",.5),B=r(T,"originY",.5),U=r(T,"blendMode",0),H=r(T,"erase",!1),J=r(T,"skipBatch",!1),tt=this.manager.resetStamp(C,A);return tt.setAngle(0),b!==0?tt.setAngle(b):R!==0&&tt.setRotation(R),tt.setScale(L,O),tt.setTexture(d,m),tt.setOrigin(I,B),tt.setBlendMode(U),H&&(this._eraseMode=!0),J?this.batchGameObject(tt,x,S):this.draw(tt,x,S),H&&(this._eraseMode=!1),this},erase:function(d,m,x){return this._eraseMode=!0,this.draw(d,m,x),this._eraseMode=!1,this},draw:function(d,m,x,S,T){return this.beginDraw(),this.batchDraw(d,m,x,S,T),this.endDraw(),this},drawFrame:function(d,m,x,S,T,C){return this.beginDraw(),this.batchDrawFrame(d,m,x,S,T,C),this.endDraw(),this},repeat:function(d,m,x,S,T,C,A,b,R){if(x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=this.width),C===void 0&&(C=this.height),A===void 0&&(A=1),b===void 0&&(b=16777215),R===void 0&&(R=!1),d instanceof e?m=d:m=this.manager.getFrame(d,m),!m)return this;var F=this.manager.resetStamp(A,b);F.setFrame(m),F.setOrigin(0);var L=m.width,O=m.height;T=Math.floor(T),C=Math.floor(C);var I=Math.ceil(T/L),B=Math.ceil(C/O),U=I*L-T,H=B*O-C;U>0&&(U=L-U),H>0&&(H=O-H),x<0&&(I+=Math.ceil(Math.abs(x)/L)),S<0&&(B+=Math.ceil(Math.abs(S)/O));var J=x,tt=S,X=!1,j=this.manager.stampCrop.setTo(0,0,L,O);R||this.beginDraw();for(var D=0;D<B;D++){if(tt+O<0){tt+=O;continue}for(var z=0;z<I;z++){if(X=!1,J+L<0){J+=L;continue}else J<0&&(X=!0,j.width=L+J,j.x=L-j.width);tt<0&&(X=!0,j.height=O+tt,j.y=O-j.height),U>0&&z===I-1&&(X=!0,j.width=U),H>0&&D===B-1&&(X=!0,j.height=H),X&&F.setCrop(j),this.batchGameObject(F,J,tt),F.isCropped=!1,j.setTo(0,0,L,O),J+=L}J=x,tt+=O}return R||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,m=this.renderer,x=this.renderTarget;d.preRender(),x?m.beginCapture(x.width,x.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,m,x,S,T){return Array.isArray(d)||(d=[d]),this.batchList(d,m,x,S,T),this},batchDrawFrame:function(d,m,x,S,T,C){x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=1),C===void 0&&(C=16777215);var A=this.manager.getFrame(d,m);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,x,S,C,T,this.camera.matrix,null):this.batchTextureFrame(A,x,S,T,C)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var m=this.renderer,x=this.renderTarget;if(x){var S=m.endCapture(),T=m.pipelines.setUtility();T.blitFrame(S,x,1,!1,!1,d,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,m,x,S,T){var C=d.length;if(C!==0)for(var A=0;A<C;A++){var b=d[A];!b||b===this||(b.renderWebGL||b.renderCanvas?this.batchGameObject(b,m,x):b.isParent||b.list?this.batchGroup(b.getChildren(),m,x):typeof b=="string"?this.batchTextureFrameKey(b,null,m,x,S,T):b instanceof e?this.batchTextureFrame(b,m,x,S,T):Array.isArray(b)&&this.batchList(b,m,x,S,T))}},batchGroup:function(d,m,x){m===void 0&&(m=0),x===void 0&&(x=0);for(var S=0;S<d.length;S++){var T=d[S];T.willRender(this.camera)&&this.batchGameObject(T,T.x+m,T.y+x)}},batchGameObject:function(d,m,x){m===void 0&&(m=d.x),x===void 0&&(x=d.y);var S=d.x,T=d.y,C=this.camera,A=this.renderer,b=this._eraseMode,R=d.mask;if(d.setPosition(m,x),this.canvas){if(b){var F=d.blendMode;d.blendMode=o.ERASE}R&&R.preRenderCanvas(A,d,C),d.renderCanvas(A,d,C,null),R&&R.postRenderCanvas(A,d,C),b&&(d.blendMode=F)}else A&&(R&&R.preRenderWebGL(A,d,C),b||A.setBlendMode(d.blendMode),d.renderWebGL(A,d,C),R&&R.postRenderWebGL(A,C,this.renderTarget));d.setPosition(S,T)},batchTextureFrameKey:function(d,m,x,S,T,C){var A=this.manager.getFrame(d,m);A&&this.batchTextureFrame(A,x,S,T,C)},batchTextureFrame:function(d,m,x,S,T){m===void 0&&(m=0),x===void 0&&(x=0),S===void 0&&(S=1),T===void 0&&(T=16777215);var C=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(d,m,x,T,S,C,null);else{var b=this.context,R=d.canvasData,F=d.source.image;b.save(),b.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",b.globalAlpha=S,C.setToContext(b),R.width>0&&R.height>0&&b.drawImage(F,R.x,R.y,R.width,R.height,m,x,R.width,R.height),b.restore()}},snapshotArea:function(d,m,x,S,T,C,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,d,m,x,S,C,A):this.renderer.snapshotCanvas(this.canvas,T,!1,d,m,x,S,C,A),this},snapshot:function(d,m,x){return this.snapshotArea(0,0,this.width,this.height,d,m,x)},snapshotPixel:function(d,m,x){return this.snapshotArea(d,m,1,1,x,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,m,x,S){var T=this.manager.resetStamp();T.setTexture(this),T.setOrigin(0),T.renderWebGL(d,T,x,S)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=u},4327:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(45319),s=t(79291),i=new o({initialize:function(e,r,l,a,h,f,u){this.texture=e,this.name=r,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,u,a,h)},setSize:function(n,e,r,l){r===void 0&&(r=0),l===void 0&&(l=0),this.cutX=r,this.cutY=l,this.cutWidth=n,this.cutHeight=e,this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var a=this.data,h=a.cut;h.x=r,h.y=l,h.w=n,h.h=e,h.r=r+n,h.b=l+e,a.sourceSize.w=n,a.sourceSize.h=e,a.spriteSourceSize.w=n,a.spriteSourceSize.h=e,a.radius=.5*Math.sqrt(n*n+e*e);var f=a.drawImage;return f.x=r,f.y=l,f.width=n,f.height=e,this.updateUVs()},setTrim:function(n,e,r,l,a,h){var f=this.data,u=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=n,f.sourceSize.h=e,u.x=r,u.y=l,u.w=a,u.h=h,u.r=r+a,u.b=l+h,this.x=r,this.y=l,this.width=a,this.height=h,this.halfWidth=a*.5,this.halfHeight=h*.5,this.centerX=Math.floor(a/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(n,e,r,l){var a=this.data;return a.scale9=!0,a.is3Slice=e===0&&l===this.height,a.scale9Borders.x=n,a.scale9Borders.y=e,a.scale9Borders.w=r,a.scale9Borders.h=l,this},setCropUVs:function(n,e,r,l,a,h,f){var u=this.cutX,d=this.cutY,m=this.cutWidth,x=this.cutHeight,S=this.realWidth,T=this.realHeight;e=p(e,0,S),r=p(r,0,T),l=p(l,0,S-e),a=p(a,0,T-r);var C=u+e,A=d+r,b=l,R=a,F=this.data;if(F.trim){var L=F.spriteSourceSize;l=p(l,0,m-e),a=p(a,0,x-r);var O=e+l,I=r+a,B=!(L.r<e||L.b<r||L.x>O||L.y>I);if(B){var U=Math.max(L.x,e),H=Math.max(L.y,r),J=Math.min(L.r,O)-U,tt=Math.min(L.b,I)-H;b=J,R=tt,h?C=u+(m-(U-L.x)-J):C=u+(U-L.x),f?A=d+(x-(H-L.y)-tt):A=d+(H-L.y),e=U,r=H,l=J,a=tt}else C=0,A=0,b=0,R=0}else h&&(C=u+(m-e-l)),f&&(A=d+(x-r-a));var X=this.source.width,j=this.source.height;return n.u0=Math.max(0,C/X),n.v0=Math.max(0,A/j),n.u1=Math.min(1,(C+b)/X),n.v1=Math.min(1,(A+R)/j),n.x=e,n.y=r,n.cx=C,n.cy=A,n.cw=b,n.ch=R,n.width=l,n.height=a,n.flipX=h,n.flipY=f,n},updateCropUVs:function(n,e,r){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,r)},setUVs:function(n,e,r,l,a,h){var f=this.data.drawImage;return f.width=n,f.height=e,this.u0=r,this.v0=l,this.u1=a,this.v1=h,this},updateUVs:function(){var n=this.cutX,e=this.cutY,r=this.cutWidth,l=this.cutHeight,a=this.data.drawImage;a.width=r,a.height=l;var h=this.source.width,f=this.source.height;return this.u0=n/h,this.v0=e/f,this.u1=(n+r)/h,this.v1=(e+l)/f,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new i(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=s(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=i},79237:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(4327),s=t(11876),i='Texture "%s" has no frame "%s"',n=new o({initialize:function(r,l,a,h,f){Array.isArray(a)||(a=[a]),this.manager=r,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var u=0;u<a.length;u++)this.source.push(new s(this,a[u],h,f))},add:function(e,r,l,a,h,f){if(this.has(e))return null;var u=new p(this,e,r,l,a,h,f);return this.frames[e]=u,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,u},remove:function(e){if(this.has(e)){var r=this.get(e);return r.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var r=this.frames[e];return r||(console.warn(i,this.key,e),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(e){for(var r=0;r<this.source.length;r++)if(this.source[r]===e)return r;return-1},getFramesFromTextureSource:function(e,r){r===void 0&&(r=!1);var l=[];for(var a in this.frames)if(!(a==="__BASE"&&!r)){var h=this.frames[a];h.sourceIndex===e&&l.push(h)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var r=this.getFramesFromTextureSource(e),l=1/0,a=1/0,h=0,f=0,u=0;u<r.length;u++){var d=r[u];d.cutX<l&&(l=d.cutX),d.cutY<a&&(a=d.cutY),d.cutX+d.cutWidth>h&&(h=d.cutX+d.cutWidth),d.cutY+d.cutHeight>f&&(f=d.cutY+d.cutHeight)}return{x:l,y:a,width:h-l,height:f-a}},getFrameNames:function(e){e===void 0&&(e=!1);var r=Object.keys(this.frames);if(!e){var l=r.indexOf("__BASE");l!==-1&&r.splice(l,1)}return r},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e];return r?r.source.image:(console.warn(i,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e],l;return r?l=r.sourceIndex:(console.warn(i,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var l=this.source[r];this.dataSource.push(new s(this,e[r],l.width,l.height))}},setFilter:function(e){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(e);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(e)},destroy:function(){var e,r=this.source,l=this.dataSource;for(e=0;e<r.length;e++)r[e]&&r[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var a in this.frames){var h=this.frames[a];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=n},17130:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(57382),s=t(83419),i=t(40987),n=t(8054),e=t(81320),r=t(50792),l=t(69442),a=t(4327),h=t(8443),f=t(99584),u=t(35154),d=t(88571),m=t(41212),x=t(61309),S=t(87841),T=t(79237),C=new s({Extends:r,initialize:function(b){r.call(this),this.game=b,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new S,this.silentWarnings=!1,b.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(b){this.stamp=new d(b).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var b=A.key;return this.list.hasOwnProperty(b)&&(A.destroy(),this.emit(l.REMOVE,b),this.emit(l.REMOVE_KEY+b)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,b){if(this.checkKey(A)){var R=this,F=new Image;F.onerror=function(){R.emit(l.ERROR,A)},F.onload=function(){var L=R.create(A,F);x.Image(L,0),R.emit(l.ADD,A,L),R.emit(l.ADD_KEY+A,L),R.emit(l.LOAD,A,L)},F.src=b}return this},getBase64:function(A,b,R,F){R===void 0&&(R="image/png"),F===void 0&&(F=.92);var L="",O=this.getFrame(A,b);if(O&&(O.source.isRenderTexture||O.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(O){var I=O.canvasData,B=o.create2D(this,I.width,I.height),U=B.getContext("2d",{willReadFrequently:!0});I.width>0&&I.height>0&&U.drawImage(O.source.image,I.x,I.y,I.width,I.height,0,0,I.width,I.height),L=B.toDataURL(R,F),o.remove(B)}return L},addImage:function(A,b,R){var F=null;return this.checkKey(A)&&(F=this.create(A,b),x.Image(F,0),R&&F.setDataSource(R),this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)),F},addGLTexture:function(A,b){var R=null;if(this.checkKey(A)){var F=b.width,L=b.height;R=this.create(A,b,F,L),R.add("__BASE",0,0,0,F,L),this.emit(l.ADD,A,R),this.emit(l.ADD_KEY+A,R)}return R},addCompressedTexture:function(A,b,R){var F=null;if(this.checkKey(A)){if(F=this.create(A,b),F.add("__BASE",0,0,0,b.width,b.height),R){var L=function(I,B,U){Array.isArray(U.textures)||Array.isArray(U.frames)?x.JSONArray(I,B,U):x.JSONHash(I,B,U)};if(Array.isArray(R))for(var O=0;O<R.length;O++)L(F,O,R[O]);else L(F,0,R)}this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)}return F},addRenderTexture:function(A,b){var R=null;return this.checkKey(A)&&(R=this.create(A,b),R.add("__BASE",0,0,0,b.width,b.height),this.emit(l.ADD,A,R),this.emit(l.ADD_KEY+A,R)),R},generate:function(A,b){if(this.checkKey(A)){var R=o.create(this,1,1);return b.canvas=R,f(b),this.addCanvas(A,R)}else return null},createCanvas:function(A,b,R){if(b===void 0&&(b=256),R===void 0&&(R=256),this.checkKey(A)){var F=o.create(this,b,R,n.CANVAS,!0);return this.addCanvas(A,F)}return null},addCanvas:function(A,b,R){R===void 0&&(R=!1);var F=null;return R?F=new p(this,A,b,b.width,b.height):this.checkKey(A)&&(F=new p(this,A,b,b.width,b.height),this.list[A]=F,this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)),F},addDynamicTexture:function(A,b,R){var F=null;return typeof A=="string"&&!this.exists(A)?F=new e(this,A,b,R):(F=A,A=F.key),this.checkKey(A)?(this.list[A]=F,this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)):F=null,F},addAtlas:function(A,b,R,F){return Array.isArray(R.textures)||Array.isArray(R.frames)?this.addAtlasJSONArray(A,b,R,F):this.addAtlasJSONHash(A,b,R,F)},addAtlasJSONArray:function(A,b,R,F){var L=null;if(b instanceof T?(A=b.key,L=b):this.checkKey(A)&&(L=this.create(A,b)),L){if(Array.isArray(R))for(var O=R.length===1,I=0;I<L.source.length;I++){var B=O?R[0]:R[I];x.JSONArray(L,I,B)}else x.JSONArray(L,0,R);F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)}return L},addAtlasJSONHash:function(A,b,R,F){var L=null;if(b instanceof T?(A=b.key,L=b):this.checkKey(A)&&(L=this.create(A,b)),L){if(Array.isArray(R))for(var O=0;O<R.length;O++)x.JSONHash(L,O,R[O]);else x.JSONHash(L,0,R);F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)}return L},addAtlasXML:function(A,b,R,F){var L=null;return b instanceof T?(A=b.key,L=b):this.checkKey(A)&&(L=this.create(A,b)),L&&(x.AtlasXML(L,0,R),F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)),L},addUnityAtlas:function(A,b,R,F){var L=null;return b instanceof T?(A=b.key,L=b):this.checkKey(A)&&(L=this.create(A,b)),L&&(x.UnityYAML(L,0,R),F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)),L},addSpriteSheet:function(A,b,R,F){var L=null;if(b instanceof T?(A=b.key,L=b):this.checkKey(A)&&(L=this.create(A,b)),L){var O=L.source[0].width,I=L.source[0].height;x.SpriteSheet(L,0,0,0,O,I,R),F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)}return L},addSpriteSheetFromAtlas:function(A,b){if(!this.checkKey(A))return null;var R=u(b,"atlas",null),F=u(b,"frame",null);if(!(!R||!F)){var L=this.get(R),O=L.get(F);if(O){var I=O.source.image;I||(I=O.source.glTexture);var B=this.create(A,I);return O.trimmed?x.SpriteSheetFromAtlas(B,O,b):x.SpriteSheet(B,0,O.cutX,O.cutY,O.cutWidth,O.cutHeight,b),this.emit(l.ADD,A,B),this.emit(l.ADD_KEY+A,B),B}}},addUint8Array:function(A,b,R,F){if(!this.checkKey(A)||b.length/4!==R*F)return null;var L=this.create(A,b,R,F);return L.add("__BASE",0,0,0,R,F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L),L},create:function(A,b,R,F){var L=null;return this.checkKey(A)&&(L=new T(this,A,b,R,F),this.list[A]=L),L},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof T?A:A instanceof a?A.texture:this.list.__MISSING},cloneFrame:function(A,b){if(this.list[A])return this.list[A].get(b).clone()},getFrame:function(A,b){if(this.list[A])return this.list[A].get(b)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(m(A))return this.getFrame(A.key,A.frame);if(A instanceof T)return A.get();if(A instanceof a)return A}else return},getTextureKeys:function(){var A=[];for(var b in this.list)b!=="__DEFAULT"&&b!=="__MISSING"&&b!=="__WHITE"&&b!=="__NORMAL"&&A.push(b);return A},getPixel:function(A,b,R,F){var L=this.getFrame(R,F);if(L){A-=L.x,b-=L.y;var O=L.data.cut;if(A+=O.x,b+=O.y,A>=O.x&&A<O.r&&b>=O.y&&b<O.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(L.source.image,A,b,1,1,0,0,1,1);var B=I.getImageData(0,0,1,1);return new i(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(A,b,R,F){var L=this.getFrame(R,F);if(L){A-=L.x,b-=L.y;var O=L.data.cut;if(A+=O.x,b+=O.y,A>=O.x&&A<O.r&&b>=O.y&&b<O.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(L.source.image,A,b,1,1,0,0,1,1);var B=I.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(A,b,R){return this.list[b]&&(A.texture=this.list[b],A.frame=A.texture.get(R)),A},renameTexture:function(A,b){var R=this.get(A);return R&&A!==b?(R.key=b,this.list[b]=R,delete this.list[A],!0):!1},each:function(A,b){for(var R=[null],F=1;F<arguments.length;F++)R.push(arguments[F]);for(var L in this.list)R[0]=this.list[L],A.apply(b,R)},resetStamp:function(A,b){A===void 0&&(A=1),b===void 0&&(b=16777215);var R=this.stamp;return R.setCrop(),R.setPosition(0),R.setAngle(0),R.setScale(1),R.setAlpha(A),R.setTint(b),R.setTexture("__WHITE"),R},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});c.exports=C},11876:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(83419),s=t(50030),i=t(29795),n=t(82751),e=new p({initialize:function(l,a,h,f,u){u===void 0&&(u=!1);var d=l.manager.game;this.renderer=d.renderer,this.texture=l,this.source=a,this.image=a.compressed?null:a,this.compressionAlgorithm=a.compressed?a.format:null,this.resolution=1,this.width=h||a.naturalWidth||a.videoWidth||a.width||0,this.height=f||a.naturalHeight||a.videoHeight||a.height||0,this.scaleMode=i.DEFAULT,this.isCanvas=a instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&a instanceof HTMLVideoElement,this.isRenderTexture=a.type==="RenderTexture"||a.type==="DynamicTexture",this.isGLTexture=a instanceof n,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.flipY=u,this.init(d)},init:function(r){var l=this.renderer;if(l){var a=this.source;if(l.gl){var h=this.image,f=this.flipY,u=this.width,d=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(h,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(h,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,u,d,m):this.isGLTexture?this.glTexture=a:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(a,void 0,void 0,m):a instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(a,u,d,m):this.glTexture=l.createTextureFromSource(h,u,d,m)}else this.isRenderTexture&&(this.image=a.canvas)}r.config.antialias||this.setFilter(1)},setFilter:function(r){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,r),this.scaleMode=r},setFlipY:function(r){return r===void 0&&(r=!0),r===this.flipY?this:(this.flipY=r,this.update(),this)},update:function(){var r=this.renderer,l=this.image,a=this.flipY,h=r.gl;h&&this.isCanvas?r.updateCanvasTexture(l,this.glTexture,a):h&&this.isVideo&&r.updateVideoTexture(l,this.glTexture,a)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=e},19673:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};c.exports=y},44538:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},63486:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture-"},94851:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},29099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},8678:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},86415:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},30879:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture-"},69442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(19673),s={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:p,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};s=o(!1,s,p),c.exports=s},89905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var s=t.source[o];t.add("__BASE",o,0,0,s.width,s.height);for(var i=p.getElementsByTagName("SubTexture"),n,e=0;e<i.length;e++){var r=i[e].attributes,l=r.name.value,a=parseInt(r.x.value,10),h=parseInt(r.y.value,10),f=parseInt(r.width.value,10),u=parseInt(r.height.value,10);if(n=t.add(l,o,a,h,f,u),r.frameX){var d=Math.abs(parseInt(r.frameX.value,10)),m=Math.abs(parseInt(r.frameY.value,10)),x=parseInt(r.frameWidth.value,10),S=parseInt(r.frameHeight.value,10);n.setTrim(f,u,d,m,x,S)}}return t};c.exports=y},72893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.source[o];return t.add("__BASE",o,0,0,p.width,p.height),t};c.exports=y},4832:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.source[o];return t.add("__BASE",o,0,0,p.width,p.height),t};c.exports=y},78566:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),p=function(s,i,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=s.source[i];s.add("__BASE",i,0,0,e.width,e.height);for(var r=Array.isArray(n.textures)?n.textures[i].frames:n.frames,l,a=0;a<r.length;a++){var h=r[a];if(l=s.add(h.filename,i,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=h.anchor||h.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=o(h)}for(var u in n)u!=="frames"&&(Array.isArray(n[u])?s.customData[u]=n[u].slice(0):s.customData[u]=n[u]);return s};c.exports=p},39711:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),p=function(s,i,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=s.source[i];s.add("__BASE",i,0,0,e.width,e.height);var r=n.frames,l;for(var a in r)if(r.hasOwnProperty(a)){var h=r[a];if(l=s.add(a,i,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+a);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=h.anchor||h.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=o(h)}for(var u in n)u!=="frames"&&(Array.isArray(n[u])?s.customData[u]=n[u].slice(0):s.customData[u]=n[u]);return s};c.exports=p},31403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=[171,75,84,88,32,49,49,187,13,10,26,10],p,s=new Uint8Array(t,0,12);for(p=0;p<s.length;p++)if(s[p]!==o[p]){console.warn("KTXParser - Invalid file format");return}var i=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*i),e=n.getUint32(0,!0)===67305985,r=n.getUint32(1*i,e);if(r!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=n.getUint32(4*i,e),a=n.getUint32(6*i,e),h=n.getUint32(7*i,e),f=Math.max(1,n.getUint32(11*i,e)),u=n.getUint32(12*i,e),d=new Array(f),m=12+13*4+u,x=a,S=h;for(p=0;p<f;p++){var T=new Int32Array(t,m,1)[0];m+=4,d[p]={data:new Uint8Array(t,m,T),width:x,height:S},x=Math.max(1,x>>1),S=Math.max(1,S>>1),m+=T}return{mipmaps:d,width:a,height:h,internalFormat:l,compressed:!0,generateMipmap:!1}};c.exports=y},82038:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(b,R,F,L,O,I,B){return B===void 0&&(B=16),Math.floor((b+F)/O)*Math.floor((R+L)/I)*B}function t(b,R){return b=Math.max(b,16),R=Math.max(R,8),b*R/4}function o(b,R){return b=Math.max(b,8),R=Math.max(R,8),b*R/2}function p(b,R){return Math.ceil(b/4)*Math.ceil(R/4)*16}function s(b,R){return y(b,R,3,3,4,4,8)}function i(b,R){return y(b,R,3,3,4,4)}function n(b,R){return y(b,R,4,3,5,4)}function e(b,R){return y(b,R,4,4,5,5)}function r(b,R){return y(b,R,5,4,6,5)}function l(b,R){return y(b,R,5,5,6,6)}function a(b,R){return y(b,R,7,4,8,5)}function h(b,R){return y(b,R,7,5,8,6)}function f(b,R){return y(b,R,7,7,8,8)}function u(b,R){return y(b,R,9,4,10,5)}function d(b,R){return y(b,R,9,5,10,6)}function m(b,R){return y(b,R,9,7,10,8)}function x(b,R){return y(b,R,9,9,10,10)}function S(b,R){return y(b,R,11,9,12,10)}function T(b,R){return y(b,R,11,11,12,12)}var C={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:s,glFormat:[36196]},7:{sizeFunc:s,glFormat:[33776,35916]},8:{sizeFunc:i,glFormat:[33777,35917]},9:{sizeFunc:i,glFormat:[33778,35918]},11:{sizeFunc:i,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:s,glFormat:[37492,37493]},23:{sizeFunc:i,glFormat:[37496,37497]},24:{sizeFunc:s,glFormat:[37494,37495]},25:{sizeFunc:s,glFormat:[37488]},26:{sizeFunc:i,glFormat:[37490]},27:{sizeFunc:i,glFormat:[37808,37840]},28:{sizeFunc:n,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:r,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:a,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:u,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:x,glFormat:[37819,37851]},39:{sizeFunc:S,glFormat:[37820,37852]},40:{sizeFunc:T,glFormat:[37821,37853]}},A=function(b){for(var R=new Uint32Array(b,0,13),F=R[0],L=F===55727696,O=L?R[2]:R[3],I=R[4],B=C[O].glFormat[I],U=C[O].sizeFunc,H=R[11],J=R[7],tt=R[6],X=52+R[12],j=new Uint8Array(b,X),D=new Array(H),z=0,$=J,K=tt,Z=0;Z<H;Z++){var it=U($,K);D[Z]={data:new Uint8Array(j.buffer,j.byteOffset+z,it),width:$,height:K},$=Math.max(1,$>>1),K=Math.max(1,K>>1),z+=it}return{mipmaps:D,width:J,height:tt,internalFormat:B,compressed:!0,generateMipmap:!1}};c.exports=A},75549:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(s,i,n,e,r,l,a){var h=o(a,"frameWidth",null),f=o(a,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=s.source[i];s.add("__BASE",i,0,0,u.width,u.height);var d=o(a,"startFrame",0),m=o(a,"endFrame",-1),x=o(a,"margin",0),S=o(a,"spacing",0),T=Math.floor((r-x+S)/(h+S)),C=Math.floor((l-x+S)/(f+S)),A=T*C;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",s.key),(d>A||d<-A)&&(d=0),d<0&&(d=A+d),(m===-1||m>A||m<d)&&(m=A);for(var b=x,R=x,F=0,L=0,O=0,I=0;I<A;I++){F=0,L=0;var B=b+h,U=R+f;B>r&&(F=B-r),U>l&&(L=U-l),I>=d&&I<=m&&(s.add(O,i,n+b,e+R,h-F,f-L),O++),b+=h+S,b+h>r&&(b=x,R+=f+S)}return s};c.exports=p},47534:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(s,i,n){var e=o(n,"frameWidth",null),r=o(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=s.source[0];s.add("__BASE",0,0,0,l.width,l.height),o(n,"startFrame",0),o(n,"endFrame",-1);for(var a=o(n,"margin",0),h=o(n,"spacing",0),f=i.cutX,u=i.cutY,d=i.cutWidth,m=i.cutHeight,x=i.realWidth,S=i.realHeight,T=Math.floor((x-a+h)/(e+h)),C=Math.floor((S-a+h)/(r+h)),A=i.x,b=e-A,R=e-(x-d-A),F=i.y,L=r-F,O=r-(S-m-F),I,B=a,U=a,H=0,J=0,tt=0;tt<C;tt++){for(var X=tt===0,j=tt===C-1,D=0;D<T;D++){var z=D===0,$=D===T-1;if(I=s.add(H,J,f+B,u+U,e,r),z||X||$||j){var K=z?A:0,Z=X?F:0,it=0,st=0;z&&(it+=e-b),$&&(it+=e-R),X&&(st+=r-L),j&&(st+=r-O);var at=e-it,ut=r-st;I.cutWidth=at,I.cutHeight=ut,I.setTrim(e,r,K,Z,at,ut)}B+=h,z?B+=b:$?B+=R:B+=e,H++}B=a,U+=h,X?U+=L:j?U+=O:U+=r}return s};c.exports=p},86147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,t=function(p,s,i,n){var e=y-n.y-n.height;p.add(i,s,n.x,e,n.width,n.height)},o=function(p,s,i){var n=p.source[s];p.add("__BASE",s,0,0,n.width,n.height),y=n.height;for(var e=i.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",a="",h={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var u=e[f].match(r);if(u){var d=u[1]==="- ",m=u[2],x=u[3];if(d&&(a!==l&&(t(p,s,a,h),l=a),h={x:0,y:0,width:0,height:0}),m==="name"){a=x;continue}switch(m){case"x":case"y":case"width":case"height":h[m]=parseInt(x,10);break}}}return a!==l&&t(p,s,a,h),p};c.exports=o},55222:(c,y,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50030),p=function(l){for(var a=l.mipmaps,h=1;h<a.length;h++){var f=a[h].width,u=a[h].height;if(!o(f,u))return console.warn("Mip level "+h+" is not a power-of-two size: "+f+"x"+u),!1}var d=r[l.internalFormat];return d?d(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function s(l){for(var a=l.mipmaps,h=0;h<a.length;h++){var f=a[h].width,u=a[h].height;if((f<<h)%4!==0||(u<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+f+"x"+u),!1}return!0}function i(){return!0}function n(l){var a=l.mipmaps,h=a[0];return o(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(l){var a=l.mipmaps,h=a[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var r={37488:i,37489:i,37490:i,37491:i,37492:i,37493:i,37494:i,37495:i,37496:i,37497:i,36196:i,37808:i,37809:i,37810:i,37811:i,37812:i,37813:i,37814:i,37815:i,37816:i,37817:i,37818:i,37819:i,37820:i,37821:i,37840:i,37841:i,37842:i,37843:i,37844:i,37845:i,37846:i,37847:i,37848:i,37849:i,37850:i,37851:i,37852:i,37853:i,36492:s,36493:s,36494:s,36495:s,36283:s,36284:s,36285:s,36286:s,35840:n,35841:n,35842:n,35843:n,33776:s,33777:s,33778:s,33779:s,35916:e,35917:e,35918:e,35919:e};c.exports=p},61309:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i,n,e,r,l,a,h){(e===void 0||e<=0)&&(e=32),(r===void 0||r<=0)&&(r=32),l===void 0&&(l=0),a===void 0&&(a=0),this.name=i,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=r|0,this.imageMargin=l|0,this.imageSpacing=a|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},addImage:function(s,i){return this.images.push({gid:s,image:i}),this.total++,this}});c.exports=p},27462:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(i){if(this.gids=[],i!==void 0)for(var n=0;n<i.length;++n)for(var e=i[n],r=0;r<e.total;++r)this.gids[e.firstgid+r]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(s){this.gids=s?this._gids:void 0}},getTypeIncludingTile:function(s){if(s.type!==void 0&&s.type!=="")return s.type;if(!(!this.gids||s.gid===void 0)){var i=this.gids[s.gid];if(i){var n=i.getTileData(s.gid);if(n)return n.type}}},setTextureAndFrame:function(s,i,n,e){if(i===null&&this.gids&&e.gid!==void 0){var r=this.gids[e.gid];r&&(i===null&&r.image!==void 0&&(i=r.image.key),n===null&&(n=e.gid-r.firstgid),s.scene.textures.getFrame(i,n)||(i=null,n=null))}s.setTexture(i,n)},setPropertiesFromTiledObject:function(s,i){if(this.gids!==void 0&&i.gid!==void 0){var n=this.gids[i.gid];n!==void 0&&this.setFromJSON(s,n.getTileProperties(i.gid))}this.setFromJSON(s,i.properties)},setFromJSON:function(s,i){if(i){if(Array.isArray(i)){for(var n=0;n<i.length;n++){var e=i[n];s[e.name]!==void 0?s[e.name]=e.value:s.setData(e.name,e.value)}return}for(var r in i)s[r]!==void 0?s[r]=i[r]:s.setData(r,i[r])}}});c.exports=p},31989:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(87010),s=t(46177),i=t(49075),n=function(e,r,l,a,h,f,u,d){l===void 0&&(l=32),a===void 0&&(a=32),h===void 0&&(h=10),f===void 0&&(f=10),d===void 0&&(d=!1);var m=null;if(Array.isArray(u)){var x=r!==void 0?r:"map";m=s(x,o.ARRAY_2D,u,l,a,d)}else if(r!==void 0){var S=e.cache.tilemap.get(r);S?m=s(r,S.format,S.data,l,a,d):console.warn("No map data found for key "+r)}return m===null&&(m=new p({tileWidth:l,tileHeight:a,width:h,height:f})),new i(e,m)};c.exports=n},23029:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),s=t(91907),i=t(62644),n=t(93232),e=new o({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(l,a,h,f,u,d,m,x){this.layer=l,this.index=a,this.x=h,this.y=f,this.width=u,this.height=d,this.right,this.bottom,this.baseWidth=m!==void 0?m:u,this.baseHeight=x!==void 0?x:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(r,l){return!(r<this.pixelX||l<this.pixelY||r>this.right||l>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=i(r.properties),this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var l=this.tilemapLayer;if(l){var a=l.tileToWorldXY(this.x,this.y,void 0,r);return a.x}return this.x*this.baseWidth},getRight:function(r){var l=this.tilemapLayer;return l?this.getLeft(r)+this.width*l.scaleX:this.getLeft(r)+this.width},getTop:function(r){var l=this.tilemapLayer;if(l){var a=l.tileToWorldXY(this.x,this.y,void 0,r);return a.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(r){var l=this.tilemapLayer;return l?this.getTop(r)+this.height*l.scaleY:this.getTop(r)+this.height},getBounds:function(r,l){return l===void 0&&(l=new n),l.x=this.getLeft(r),l.y=this.getTop(r),l.width=this.getRight(r)-l.x,l.height=this.getBottom(r)-l.y,l},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},intersects:function(r,l,a,h){return!(a<=this.pixelX||h<=this.pixelY||r>=this.right||l>=this.bottom)},isInteresting:function(r,l){return r&&l?this.canCollide||this.hasInterestingFace:r?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,l,a,h,f){if(l===void 0&&(l=r),a===void 0&&(a=r),h===void 0&&(h=r),f===void 0&&(f=!0),this.collideLeft=r,this.collideRight=l,this.collideUp=a,this.collideDown=h,this.faceLeft=r,this.faceRight=l,this.faceTop=a,this.faceBottom=h,f){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,l){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=l),this},setSize:function(r,l,a,h){return r!==void 0&&(this.width=r),l!==void 0&&(this.height=l),a!==void 0&&(this.baseWidth=a),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var r=this.layer.orientation;if(r===s.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(r===s.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(r===s.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(r===s.HEXAGONAL){var l=this.layer.staggerAxis,a=this.layer.staggerIndex,h=this.layer.hexSideLength,f,u;l==="y"?(u=(this.baseHeight-h)/2+h,a==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*u):l==="x"&&(f=(this.baseWidth-h)/2+h,this.pixelX=this.x*f,a==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var l=r.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});c.exports=e},49075:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84101),p=t(83419),s=t(39506),i=t(80341),n=t(95540),e=t(14977),r=t(27462),l=t(91907),a=t(36305),h=t(19133),f=t(68287),u=t(23029),d=t(81086),m=t(20442),x=t(33629),S=new p({initialize:function(C,A){this.scene=C,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var b=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(b),WorldToTileX:d.GetWorldToTileXFunction(b),WorldToTileY:d.GetWorldToTileYFunction(b),TileToWorldXY:d.GetTileToWorldXYFunction(b),TileToWorldX:d.GetTileToWorldXFunction(b),TileToWorldY:d.GetTileToWorldYFunction(b),GetTileCorners:d.GetTileCornersFunction(b)}},setRenderOrder:function(T){var C=["right-down","left-down","right-up","left-up"];return typeof T=="number"&&(T=C[T]),C.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,C,A,b,R,F,L,O){if(T===void 0)return null;C==null&&(C=T);var I=this.scene.sys.textures;if(!I.exists(C))return console.warn('Texture key "%s" not found',C),null;var B=I.get(C),U=this.getTilesetIndex(T);if(U===null&&this.format===i.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',T,this.tilesets),null;var H=this.tilesets[U];return H?(H.setTileSize(A,b),H.setSpacing(R,F),H.setImage(B),H):(A===void 0&&(A=this.tileWidth),b===void 0&&(b=this.tileHeight),R===void 0&&(R=0),F===void 0&&(F=0),L===void 0&&(L=0),O===void 0&&(O={x:0,y:0}),H=new x(T,L,A,b,R,F,void 0,void 0,O),H.setImage(B),this.tilesets.push(H),this.tiles=o(this),H)},copy:function(T,C,A,b,R,F,L,O){return O=this.getLayer(O),O!==null?(d.Copy(T,C,A,b,R,F,L,O),this):null},createBlankLayer:function(T,C,A,b,R,F,L,O){A===void 0&&(A=0),b===void 0&&(b=0),R===void 0&&(R=this.width),F===void 0&&(F=this.height),L===void 0&&(L=this.tileWidth),O===void 0&&(O=this.tileHeight);var I=this.getLayerIndex(T);if(I!==null)return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var B=new e({name:T,tileWidth:L,tileHeight:O,width:R,height:F,orientation:this.orientation}),U,H=0;H<F;H++){U=[];for(var J=0;J<R;J++)U.push(new u(B,-1,J,H,L,O,this.tileWidth,this.tileHeight));B.data.push(U)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var tt=new m(this.scene,this,this.currentLayerIndex,C,A,b);return tt.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(tt),tt},createLayer:function(T,C,A,b){var R=this.getLayerIndex(T);if(R===null)return console.warn("Invalid Tilemap Layer ID: "+T),typeof T=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[R];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=R,A===void 0&&(A=F.x),b===void 0&&(b=F.y);var L=new m(this.scene,this,R,C,A,b);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(T,C,A){A===void 0&&(A=!0);var b=[],R=this.getObjectLayer(T);if(!R)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),b;var F=new r(A?this.tilesets:void 0);Array.isArray(C)||(C=[C]);for(var L=R.objects,O=0;O<C.length;O++){var I=C[O],B=n(I,"id",null),U=n(I,"gid",null),H=n(I,"name",null),J=n(I,"type",null);F.enabled=!n(I,"ignoreTileset",null);for(var tt,X=[],j=0;j<L.length;j++)tt=L[j],(B===null&&U===null&&H===null&&J===null||B!==null&&tt.id===B||U!==null&&tt.gid===U||H!==null&&tt.name===H||J!==null&&F.getTypeIncludingTile(tt)===J)&&X.push(tt);for(var D=n(I,"classType",f),z=n(I,"scene",this.scene),$=n(I,"container",null),K=n(I,"key",null),Z=n(I,"frame",null),it=0;it<X.length;it++){tt=X[it];var st=new D(z);if(st.setName(tt.name),st.setPosition(tt.x,tt.y),F.setTextureAndFrame(st,K,Z,tt),tt.width&&(st.displayWidth=tt.width),tt.height&&(st.displayHeight=tt.height),this.orientation===l.ISOMETRIC){var at=this.tileWidth/this.tileHeight,ut={x:st.x-st.y,y:(st.x+st.y)/at};st.x=ut.x,st.y=ut.y}var vt={x:st.originX*tt.width,y:(st.originY-(tt.gid?1:0))*tt.height};if(tt.rotation){var xt=s(tt.rotation);a(vt,xt),st.rotation=xt}st.x+=vt.x,st.y+=vt.y,(tt.flippedHorizontal!==void 0||tt.flippedVertical!==void 0)&&st.setFlip(tt.flippedHorizontal,tt.flippedVertical),tt.visible||(st.visible=!1),F.setPropertiesFromTiledObject(st,tt),$?$.add(st):z.add.existing(st),b.push(st)}}return b},createFromTiles:function(T,C,A,b,R,F){return F=this.getLayer(F),F===null?null:d.CreateFromTiles(T,C,A,b,R,F)},fill:function(T,C,A,b,R,F,L){return F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(d.Fill(T,C,A,b,R,F,L),this)},filterObjects:function(T,C,A){if(typeof T=="string"){var b=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+b),null}return T.objects.filter(C,A)},filterTiles:function(T,C,A,b,R,F,L,O){return O=this.getLayer(O),O===null?null:d.FilterTiles(T,C,A,b,R,F,L,O)},findByIndex:function(T,C,A,b){return b=this.getLayer(b),b===null?null:d.FindByIndex(T,C,A,b)},findObject:function(T,C,A){if(typeof T=="string"){var b=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+b),null}return T.objects.find(C,A)||null},findTile:function(T,C,A,b,R,F,L,O){return O=this.getLayer(O),O===null?null:d.FindTile(T,C,A,b,R,F,L,O)},forEachTile:function(T,C,A,b,R,F,L,O){return O=this.getLayer(O),O===null?null:(d.ForEachTile(T,C,A,b,R,F,L,O),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(T){return T.name})},getIndex:function(T,C){for(var A=0;A<T.length;A++)if(T[A].name===C)return A;return null},getLayer:function(T){var C=this.getLayerIndex(T);return C!==null?this.layers[C]:null},getObjectLayer:function(T){var C=this.getIndex(this.objects,T);return C!==null?this.objects[C]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(T){return T.name})},getLayerIndex:function(T){return T===void 0?this.currentLayerIndex:typeof T=="string"?this.getLayerIndexByName(T):typeof T=="number"&&T<this.layers.length?T:T instanceof m&&T.tilemap===this?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,C,A,b){return b=this.getLayer(b),b===null?null:d.GetTileAt(T,C,A,b)},getTileAtWorldXY:function(T,C,A,b,R){return R=this.getLayer(R),R===null?null:d.GetTileAtWorldXY(T,C,A,b,R)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(T){return T.name})},getTilesWithin:function(T,C,A,b,R,F){return F=this.getLayer(F),F===null?null:d.GetTilesWithin(T,C,A,b,R,F)},getTilesWithinShape:function(T,C,A,b){return b=this.getLayer(b),b===null?null:d.GetTilesWithinShape(T,C,A,b)},getTilesWithinWorldXY:function(T,C,A,b,R,F,L){return L=this.getLayer(L),L===null?null:d.GetTilesWithinWorldXY(T,C,A,b,R,F,L)},getTileset:function(T){var C=this.getIndex(this.tilesets,T);return C!==null?this.tilesets[C]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,C,A){return A=this.getLayer(A),A===null?null:d.HasTileAt(T,C,A)},hasTileAtWorldXY:function(T,C,A,b){return b=this.getLayer(b),b===null?null:d.HasTileAtWorldXY(T,C,A,b)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,C,A,b,R){return b===void 0&&(b=!0),R=this.getLayer(R),R===null?null:d.PutTileAt(T,C,A,b,R)},putTileAtWorldXY:function(T,C,A,b,R,F){return b===void 0&&(b=!0),F=this.getLayer(F),F===null?null:d.PutTileAtWorldXY(T,C,A,b,R,F)},putTilesAt:function(T,C,A,b,R){return b===void 0&&(b=!0),R=this.getLayer(R),R===null?null:(d.PutTilesAt(T,C,A,b,R),this)},randomize:function(T,C,A,b,R,F){return F=this.getLayer(F),F===null?null:(d.Randomize(T,C,A,b,R,F),this)},calculateFacesAt:function(T,C,A){return A=this.getLayer(A),A===null?null:(d.CalculateFacesAt(T,C,A),this)},calculateFacesWithin:function(T,C,A,b,R){return R=this.getLayer(R),R===null?null:(d.CalculateFacesWithin(T,C,A,b,R),this)},removeLayer:function(T){var C=this.getLayerIndex(T);if(C!==null){h(this.layers,C);for(var A=C;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===C&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(T){var C=this.getLayerIndex(T);return C!==null?(T=this.layers[C],T.tilemapLayer.destroy(),h(this.layers,C),this.currentLayerIndex===C&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,C=0;C<T.length;C++)T[C].tilemapLayer&&T[C].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,C,A){C===void 0&&(C=-1),A===void 0&&(A=!0);var b=[];Array.isArray(T)||(T=[T]);for(var R=0;R<T.length;R++){var F=T[R];b.push(this.removeTileAt(F.x,F.y,!0,A,F.tilemapLayer)),C>-1&&this.putTileAt(C,F.x,F.y,A,F.tilemapLayer)}return b},removeTileAt:function(T,C,A,b,R){return A===void 0&&(A=!0),b===void 0&&(b=!0),R=this.getLayer(R),R===null?null:d.RemoveTileAt(T,C,A,b,R)},removeTileAtWorldXY:function(T,C,A,b,R,F){return A===void 0&&(A=!0),b===void 0&&(b=!0),F=this.getLayer(F),F===null?null:d.RemoveTileAtWorldXY(T,C,A,b,R,F)},renderDebug:function(T,C,A){return A=this.getLayer(A),A===null?null:(this.orientation===l.ORTHOGONAL&&d.RenderDebug(T,C,A),this)},renderDebugFull:function(T,C){for(var A=this.layers,b=0;b<A.length;b++)d.RenderDebug(T,C,A[b]);return this},replaceByIndex:function(T,C,A,b,R,F,L){return L=this.getLayer(L),L===null?null:(d.ReplaceByIndex(T,C,A,b,R,F,L),this)},setCollision:function(T,C,A,b,R){return C===void 0&&(C=!0),A===void 0&&(A=!0),R===void 0&&(R=!0),b=this.getLayer(b),b===null?null:(d.SetCollision(T,C,A,b,R),this)},setCollisionBetween:function(T,C,A,b,R){return A===void 0&&(A=!0),b===void 0&&(b=!0),R=this.getLayer(R),R===null?null:(d.SetCollisionBetween(T,C,A,b,R),this)},setCollisionByProperty:function(T,C,A,b){return C===void 0&&(C=!0),A===void 0&&(A=!0),b=this.getLayer(b),b===null?null:(d.SetCollisionByProperty(T,C,A,b),this)},setCollisionByExclusion:function(T,C,A,b){return C===void 0&&(C=!0),A===void 0&&(A=!0),b=this.getLayer(b),b===null?null:(d.SetCollisionByExclusion(T,C,A,b),this)},setCollisionFromCollisionGroup:function(T,C,A){return T===void 0&&(T=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(d.SetCollisionFromCollisionGroup(T,C,A),this)},setTileIndexCallback:function(T,C,A,b){return b=this.getLayer(b),b===null?null:(d.SetTileIndexCallback(T,C,A,b),this)},setTileLocationCallback:function(T,C,A,b,R,F,L){return L=this.getLayer(L),L===null?null:(d.SetTileLocationCallback(T,C,A,b,R,F,L),this)},setLayer:function(T){var C=this.getLayerIndex(T);return C!==null&&(this.currentLayerIndex=C),this},setBaseTileSize:function(T,C){this.tileWidth=T,this.tileHeight=C,this.widthInPixels=this.width*T,this.heightInPixels=this.height*C;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=T,this.layers[A].baseTileHeight=C;for(var b=this.layers[A].data,R=this.layers[A].width,F=this.layers[A].height,L=0;L<F;L++)for(var O=0;O<R;O++){var I=b[L][O];I!==null&&I.setSize(void 0,void 0,T,C)}}return this},setLayerTileSize:function(T,C,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=T,A.tileHeight=C;for(var b=A.data,R=A.width,F=A.height,L=0;L<F;L++)for(var O=0;O<R;O++){var I=b[L][O];I!==null&&I.setSize(T,C)}return this},shuffle:function(T,C,A,b,R){return R=this.getLayer(R),R===null?null:(d.Shuffle(T,C,A,b,R),this)},swapByIndex:function(T,C,A,b,R,F,L){return L=this.getLayer(L),L===null?null:(d.SwapByIndex(T,C,A,b,R,F,L),this)},tileToWorldX:function(T,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(T,C,A)},tileToWorldY:function(T,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(T,C,A)},tileToWorldXY:function(T,C,A,b,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldXY(T,C,A,b,R)},getTileCorners:function(T,C,A,b){return b=this.getLayer(b),b===null?null:this._convert.GetTileCorners(T,C,A,b)},weightedRandomize:function(T,C,A,b,R,F){return F=this.getLayer(F),F===null?null:(d.WeightedRandomize(C,A,b,R,T,F),this)},worldToTileX:function(T,C,A,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileX(T,C,A,b)},worldToTileY:function(T,C,A,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileY(T,C,A,b)},worldToTileXY:function(T,C,A,b,R,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(T,C,A,b,R,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=S},45939:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),p=t(31989);o.register("tilemap",function(s){var i=s!==void 0?s:{};return p(this.scene,i.key,i.tileWidth,i.tileHeight,i.width,i.height,i.data,i.insertNull)})},46029:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(31989);o.register("tilemap",function(s,i,n,e,r,l,a){return s===null&&(s=void 0),i===null&&(i=void 0),n===null&&(n=void 0),e===null&&(e=void 0),r===null&&(r=void 0),p(this.scene,s,i,n,e,r,l,a)})},20442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(78389),s=t(31401),i=t(95643),n=t(81086),e=t(19218),r=t(26099),l=new o({Extends:i,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,p,e],initialize:function(h,f,u,d,m,x){i.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=u,this.layer=f.layers[u],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new r,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(m,x),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(a){var h=[],f=[],u=this.tilemap;Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var m=a[d];if(typeof m=="string"&&(m=u.getTileset(m)),m){f.push(m);for(var x=m.firstgid,S=0;S<m.total;S++)h[x+S]=m}}this.gidMap=h,this.tileset=f},setRenderOrder:function(a){var h=["right-down","left-down","right-up","left-up"];return typeof a=="string"&&(a=h.indexOf(a)),a>=0&&a<4&&(this._renderOrder=a),this},calculateFacesAt:function(a,h){return n.CalculateFacesAt(a,h,this.layer),this},calculateFacesWithin:function(a,h,f,u){return n.CalculateFacesWithin(a,h,f,u,this.layer),this},createFromTiles:function(a,h,f,u,d){return n.CreateFromTiles(a,h,f,u,d,this.layer)},cull:function(a){return this.cullCallback(this.layer,a,this.culledTiles,this._renderOrder)},copy:function(a,h,f,u,d,m,x){return n.Copy(a,h,f,u,d,m,x,this.layer),this},fill:function(a,h,f,u,d,m){return n.Fill(a,h,f,u,d,m,this.layer),this},filterTiles:function(a,h,f,u,d,m,x){return n.FilterTiles(a,h,f,u,d,m,x,this.layer)},findByIndex:function(a,h,f){return n.FindByIndex(a,h,f,this.layer)},findTile:function(a,h,f,u,d,m,x){return n.FindTile(a,h,f,u,d,m,x,this.layer)},forEachTile:function(a,h,f,u,d,m,x){return n.ForEachTile(a,h,f,u,d,m,x,this.layer),this},setTint:function(a,h,f,u,d,m){a===void 0&&(a=16777215);var x=function(S){S.tint=a,S.tintFill=!1};return this.forEachTile(x,this,h,f,u,d,m)},setTintFill:function(a,h,f,u,d,m){a===void 0&&(a=16777215);var x=function(S){S.tint=a,S.tintFill=!0};return this.forEachTile(x,this,h,f,u,d,m)},getTileAt:function(a,h,f){return n.GetTileAt(a,h,f,this.layer)},getTileAtWorldXY:function(a,h,f,u){return n.GetTileAtWorldXY(a,h,f,u,this.layer)},getIsoTileAtWorldXY:function(a,h,f,u,d){f===void 0&&(f=!0);var m=this.tempVec;return n.IsometricWorldToTileXY(a,h,!0,m,d,this.layer,f),this.getTileAt(m.x,m.y,u)},getTilesWithin:function(a,h,f,u,d){return n.GetTilesWithin(a,h,f,u,d,this.layer)},getTilesWithinShape:function(a,h,f){return n.GetTilesWithinShape(a,h,f,this.layer)},getTilesWithinWorldXY:function(a,h,f,u,d,m){return n.GetTilesWithinWorldXY(a,h,f,u,d,m,this.layer)},hasTileAt:function(a,h){return n.HasTileAt(a,h,this.layer)},hasTileAtWorldXY:function(a,h,f){return n.HasTileAtWorldXY(a,h,f,this.layer)},putTileAt:function(a,h,f,u){return n.PutTileAt(a,h,f,u,this.layer)},putTileAtWorldXY:function(a,h,f,u,d){return n.PutTileAtWorldXY(a,h,f,u,d,this.layer)},putTilesAt:function(a,h,f,u){return n.PutTilesAt(a,h,f,u,this.layer),this},randomize:function(a,h,f,u,d){return n.Randomize(a,h,f,u,d,this.layer),this},removeTileAt:function(a,h,f,u){return n.RemoveTileAt(a,h,f,u,this.layer)},removeTileAtWorldXY:function(a,h,f,u,d){return n.RemoveTileAtWorldXY(a,h,f,u,d,this.layer)},renderDebug:function(a,h){return n.RenderDebug(a,h,this.layer),this},replaceByIndex:function(a,h,f,u,d,m){return n.ReplaceByIndex(a,h,f,u,d,m,this.layer),this},setSkipCull:function(a){return a===void 0&&(a=!0),this.skipCull=a,this},setCullPadding:function(a,h){return a===void 0&&(a=1),h===void 0&&(h=1),this.cullPaddingX=a,this.cullPaddingY=h,this},setCollision:function(a,h,f,u){return n.SetCollision(a,h,f,this.layer,u),this},setCollisionBetween:function(a,h,f,u){return n.SetCollisionBetween(a,h,f,u,this.layer),this},setCollisionByProperty:function(a,h,f){return n.SetCollisionByProperty(a,h,f,this.layer),this},setCollisionByExclusion:function(a,h,f){return n.SetCollisionByExclusion(a,h,f,this.layer),this},setCollisionFromCollisionGroup:function(a,h){return n.SetCollisionFromCollisionGroup(a,h,this.layer),this},setTileIndexCallback:function(a,h,f){return n.SetTileIndexCallback(a,h,f,this.layer),this},setTileLocationCallback:function(a,h,f,u,d,m){return n.SetTileLocationCallback(a,h,f,u,d,m,this.layer),this},shuffle:function(a,h,f,u){return n.Shuffle(a,h,f,u,this.layer),this},swapByIndex:function(a,h,f,u,d,m){return n.SwapByIndex(a,h,f,u,d,m,this.layer),this},tileToWorldX:function(a,h){return this.tilemap.tileToWorldX(a,h,this)},tileToWorldY:function(a,h){return this.tilemap.tileToWorldY(a,h,this)},tileToWorldXY:function(a,h,f,u){return this.tilemap.tileToWorldXY(a,h,f,u,this)},getTileCorners:function(a,h,f){return this.tilemap.getTileCorners(a,h,f,this)},weightedRandomize:function(a,h,f,u,d){return n.WeightedRandomize(h,f,u,d,a,this.layer),this},worldToTileX:function(a,h,f){return this.tilemap.worldToTileX(a,h,f,this)},worldToTileY:function(a,h,f){return this.tilemap.worldToTileY(a,h,f,this)},worldToTileXY:function(a,h,f,u,d){return this.tilemap.worldToTileXY(a,h,f,u,d,this)},destroy:function(a){a===void 0&&(a=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),a&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],i.prototype.destroy.call(this))}});c.exports=l},16153:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),p=new o,s=new o,i=new o,n=function(e,r,l,a){var h=r.cull(l),f=h.length,u=l.alpha*r.alpha;if(!(f===0||u<=0)){var d=p,m=s,x=i;m.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),d.copyFrom(l.matrix);var S=e.currentContext,T=r.gidMap;S.save(),a?(d.multiplyWithOffset(a,-l.scrollX*r.scrollFactorX,-l.scrollY*r.scrollFactorY),m.e=r.x,m.f=r.y,d.multiply(m,x),x.copyToContext(S)):(m.e-=l.scrollX*r.scrollFactorX,m.f-=l.scrollY*r.scrollFactorY,m.copyToContext(S)),(!e.antialias||r.scaleX>1||r.scaleY>1)&&(S.imageSmoothingEnabled=!1);for(var C=0;C<f;C++){var A=h[C],b=T[A.index];if(b){var R=b.image.getSourceImage(),F=b.getTileTextureCoordinates(A.index),L=b.tileWidth,O=b.tileHeight;if(!(F===null||L===0||O===0)){var I=L*.5,B=O*.5;F.x+=b.tileOffset.x,F.y+=b.tileOffset.y,S.save(),S.translate(A.pixelX+I,A.pixelY+B),A.rotation!==0&&S.rotate(A.rotation),(A.flipX||A.flipY)&&S.scale(A.flipX?-1:1,A.flipY?-1:1),S.globalAlpha=u*A.alpha,S.drawImage(R,F.x,F.y,L,O,-I,-B,L,O),S.restore()}}}S.restore()}};c.exports=n},19218:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,s=o;p=t(99558),s=t(16153),c.exports={renderWebGL:p,renderCanvas:s}},99558:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(s,i,n){var e=i.cull(n),r=e.length,l=n.alpha*i.alpha;if(!(r===0||l<=0)){var a=i.gidMap,h=s.pipelines.set(i.pipeline,i),f=o.getTintAppendFloatAlpha,u=i.scrollFactorX,d=i.scrollFactorY,m=i.x,x=i.y,S=i.scaleX,T=i.scaleY;s.pipelines.preBatch(i);for(var C=0;C<r;C++){var A=e[C],b=a[A.index];if(b){var R=b.getTileTextureCoordinates(A.index),F=b.tileWidth,L=b.tileHeight;if(!(!R||F===0||L===0)){var O=F*.5,I=L*.5,B=b.glTexture,U=h.setTexture2D(B,i),H=F,J=L,tt=R.x,X=R.y,j=b.tileOffset.x,D=b.tileOffset.y,z=f(A.tint,l*A.alpha);h.batchTexture(i,B,B.width,B.height,m+A.pixelX*S+(O*S-j),x+A.pixelY*T+(I*T-D),F,L,S,T,A.rotation,A.flipX,A.flipY,u,d,O,I,tt,X,H,J,z,z,z,z,A.tintFill,0,0,n,null,!0,U,!0)}}}s.pipelines.postBatch(i)}};c.exports=p},33629:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(26099),s=new o({initialize:function(n,e,r,l,a,h,f,u,d){(r===void 0||r<=0)&&(r=32),(l===void 0||l<=0)&&(l=32),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f={}),u===void 0&&(u={}),this.name=n,this.firstgid=e,this.tileWidth=r,this.tileHeight=l,this.tileMargin=a,this.tileSpacing=h,this.tileProperties=f,this.tileData=u,this.tileOffset=new p,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var n=this.getTileData(i);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){this.image=i;var n=i.get(),e=i.getFrameBounds();return this.glTexture=n.source.glTexture,n.width>e.width||n.height>e.height?this.updateTileData(n.width,n.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(i,n){return i!==void 0&&(this.tileWidth=i),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,n){return i!==void 0&&(this.tileMargin=i),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,n,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var l=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),a=(i-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||a%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),a=Math.floor(a),this.rows=l,this.columns=a,this.total=l*a,this.texCoordinates.length=0;for(var h=this.tileMargin+e,f=this.tileMargin+r,u=0;u<this.rows;u++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:h,y:f}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});c.exports=s},72023:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),p=function(s,i,n){var e=o(s,i,!0,n),r=o(s,i-1,!0,n),l=o(s,i+1,!0,n),a=o(s-1,i,!0,n),h=o(s+1,i,!0,n),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),r&&r.collides&&(f&&(e.faceTop=!1),r.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),a&&a.collides&&(f&&(e.faceLeft=!1),a.faceRight=!f),h&&h.collides&&(f&&(e.faceRight=!1),h.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};c.exports=p},42573:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),p=t(7386),s=function(i,n,e,r,l){for(var a=null,h=null,f=null,u=null,d=p(i,n,e,r,null,l),m=0;m<d.length;m++){var x=d[m];x&&(x.collides?(a=o(x.x,x.y-1,!0,l),h=o(x.x,x.y+1,!0,l),f=o(x.x-1,x.y,!0,l),u=o(x.x+1,x.y,!0,l),x.faceTop=!(a&&a.collides),x.faceBottom=!(h&&h.collides),x.faceLeft=!(f&&f.collides),x.faceRight=!(u&&u.collides)):x.resetFaces())}};c.exports=s},33528:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=new o,s=function(i,n,e,r){var l=e.tilemapLayer,a=l.cullPaddingX,h=l.cullPaddingY,f=l.tilemap.tileToWorldXY(i,n,p,r,l);return f.x>r.worldView.x+l.scaleX*e.tileWidth*(-a-.5)&&f.x<r.worldView.right+l.scaleX*e.tileWidth*(a-.5)&&f.y>r.worldView.y+l.scaleY*e.tileHeight*(-h-1)&&f.y<r.worldView.bottom+l.scaleY*e.tileHeight*(h-.5)};c.exports=s},1785:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),p=t(7386),s=t(62991),i=t(23029),n=function(e,r,l,a,h,f,u,d){u===void 0&&(u=!0);var m=p(e,r,l,a,null,d),x=[];m.forEach(function(F){var L=new i(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);L.copy(F),x.push(L)});for(var S=h-e,T=f-r,C=0;C<x.length;C++){var A=x[C],b=A.x+S,R=A.y+T;s(b,R,d)&&d.data[R][b]&&(A.x=b,A.y=R,A.updatePixelXY(),d.data[R][b]=A)}u&&o(h-1,f-1,l+2,a+2,d),m.length=0,x.length=0};c.exports=n},78419:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),p=t(7386),s=t(27987),i=function(n,e,r,l,a,h){r||(r={}),Array.isArray(n)||(n=[n]);var f=h.tilemapLayer;l||(l=f.scene),a||(a=l.cameras.main);var u=h.width,d=h.height,m=p(0,0,u,d,null,h),x=[],S,T=function(R,F,L){for(var O=0;O<L.length;O++){var I=L[O];R.hasOwnProperty(I)||(R[I]=F[I])}};for(S=0;S<m.length;S++){var C=m[S],A=o(r);if(n.indexOf(C.index)!==-1){var b=f.tileToWorldXY(C.x,C.y,void 0,a,h);A.x=b.x,A.y=b.y,T(A,C,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=C.width*.5,A.y+=C.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=C.tileset.image,A.frame=C.index-1),x.push(l.make.sprite(A))}}if(Array.isArray(e))for(S=0;S<n.length;S++)s(n[S],e[S],0,0,u,d,h);else if(e!==null)for(S=0;S<n.length;S++)s(n[S],e,0,0,u,d,h);return x};c.exports=i},19545:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(63448),s=t(56583),i=new o,n=function(e,r){var l=e.tilemapLayer.tilemap,a=e.tilemapLayer,h=Math.floor(l.tileWidth*a.scaleX),f=Math.floor(l.tileHeight*a.scaleY),u=s(r.worldView.x-a.x,h,0,!0)-a.cullPaddingX,d=p(r.worldView.right-a.x,h,0,!0)+a.cullPaddingX,m=s(r.worldView.y-a.y,f,0,!0)-a.cullPaddingY,x=p(r.worldView.bottom-a.y,f,0,!0)+a.cullPaddingY;return i.setTo(u,m,d-u,x-m)};c.exports=n},30003:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19545),p=t(32483),s=function(i,n,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=i.tilemapLayer,a=o(i,n);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(a.left=0,a.right=i.width,a.top=0,a.bottom=i.height),p(i,a,r,e),e};c.exports=s},35137:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(42573),s=t(20576),i=function(n,e,r,l,a,h,f){for(var u=f.collideIndexes.indexOf(n)!==-1,d=o(e,r,l,a,null,f),m=0;m<d.length;m++)d[m].index=n,s(d[m],u);h&&p(e-1,r-1,l+2,a+2,f)};c.exports=i},40253:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(s,i,n,e,r,l,a,h){var f=o(n,e,r,l,a,h);return f.filter(s,i)};c.exports=p},52692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){o===void 0&&(o=0),p===void 0&&(p=!1);var i=0,n,e,r;if(p){for(e=s.height-1;e>=0;e--)for(n=s.width-1;n>=0;n--)if(r=s.data[e][n],r&&r.index===t){if(i===o)return r;i+=1}}else for(e=0;e<s.height;e++)for(n=0;n<s.width;n++)if(r=s.data[e][n],r&&r.index===t){if(i===o)return r;i+=1}return null};c.exports=y},66151:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(s,i,n,e,r,l,a,h){var f=o(n,e,r,l,a,h);return f.find(s,i)||null};c.exports=p},97560:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(s,i,n,e,r,l,a,h){var f=o(n,e,r,l,a,h);f.forEach(s,i)};c.exports=p},43305:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(30003),s=t(9474),i=t(14018),n=t(29747),e=t(54503),r=function(l){return l===o.ORTHOGONAL?p:l===o.HEXAGONAL?s:l===o.STAGGERED?e:l===o.ISOMETRIC?i:n};c.exports=r},7423:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),p=function(s,i,n,e){if(n===void 0&&(n=!1),o(s,i,e)){var r=e.data[i][s]||null;return r?r.index===-1?n?r:null:r:null}else return null};c.exports=p},60540:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),p=t(26099),s=new p,i=function(n,e,r,l,a){return a.tilemapLayer.worldToTileXY(n,e,!0,s,l),o(s.x,s.y,r,a)};c.exports=i},55826:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e){var r=e.baseTileWidth,l=e.baseTileHeight,a=e.tilemapLayer,h=0,f=0;a&&(n||(n=a.scene.cameras.main),h=a.x+n.scrollX*(1-a.scrollFactorX),f=a.y+n.scrollY*(1-a.scrollFactorY),r*=a.scaleX,l*=a.scaleY);var u=h+s*r,d=f+i*l;return[new o(u,d),new o(u+r,d),new o(u+r,d+l),new o(u,d+l)]};c.exports=p},11758:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(27229),s=t(29747),i=t(55826),n=function(e){return e===o.ORTHOGONAL?i:e===o.ISOMETRIC?s:e===o.HEXAGONAL?p:(e===o.STAGGERED,s)};c.exports=n},39167:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(29747),s=t(97281),i=function(n){return n===o.ORTHOGONAL?s:p};c.exports=i},62e3:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(19951),s=t(14127),i=t(29747),n=t(97202),e=t(70326),r=function(l){return l===o.ORTHOGONAL?e:l===o.ISOMETRIC?s:l===o.HEXAGONAL?p:l===o.STAGGERED?n:i};c.exports=r},5984:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(29747),s=t(28054),i=t(29650),n=function(e){return e===o.ORTHOGONAL?i:e===o.STAGGERED?s:p};c.exports=n},7386:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(s,i,n,e,r,l){s===void 0&&(s=0),i===void 0&&(i=0),n===void 0&&(n=l.width),e===void 0&&(e=l.height),r||(r={});var a=o(r,"isNotEmpty",!1),h=o(r,"isColliding",!1),f=o(r,"hasInterestingFace",!1);s<0&&(n+=s,s=0),i<0&&(e+=i,i=0),s+n>l.width&&(n=Math.max(l.width-s,0)),i+e>l.height&&(e=Math.max(l.height-i,0));for(var u=[],d=i;d<i+e;d++)for(var m=s;m<s+n;m++){var x=l.data[d][m];if(x!==null){if(a&&x.index===-1||h&&!x.collides||f&&!x.hasInterestingFace)continue;u.push(x)}}return u};c.exports=p},91141:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55738),p=t(7386),s=t(91865),i=t(29747),n=t(26099),e=function(f,u){return s.RectangleToTriangle(u,f)},r=new n,l=new n,a=new n,h=function(f,u,d,m){if(f===void 0)return[];var x=i;f instanceof o.Circle?x=s.CircleToRectangle:f instanceof o.Rectangle?x=s.RectangleToRectangle:f instanceof o.Triangle?x=e:f instanceof o.Line&&(x=s.LineToRectangle),m.tilemapLayer.worldToTileXY(f.left,f.top,!0,l,d);var S=l.x,T=l.y;m.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,a,d);var C=Math.ceil(a.x),A=Math.ceil(a.y),b=Math.max(C-S,1),R=Math.max(A-T,1),F=p(S,T,b,R,u,m),L=m.tileWidth,O=m.tileHeight;m.tilemapLayer&&(L*=m.tilemapLayer.scaleX,O*=m.tilemapLayer.scaleY);for(var I=[],B=new o.Rectangle(0,0,L,O),U=0;U<F.length;U++){var H=F[U];m.tilemapLayer.tileToWorldXY(H.x,H.y,r,d),B.x=r.x,B.y=r.y,x(f,B)&&I.push(H)}return I};c.exports=h},96523:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(26099),s=new p,i=new p,n=function(e,r,l,a,h,f,u){var d=u.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,r,!0,s,f,u);var m=s.x,x=s.y;d(e+l,r+a,!1,i,f,u);var S=Math.ceil(i.x),T=Math.ceil(i.y);return o(m,x,S-m,T-x,h,u)};c.exports=n},96113:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(20242),s=t(10095),i=function(n){return n===o.ORTHOGONAL?s:p};c.exports=i},16926:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(86625),s=t(96897),i=t(29747),n=t(15108),e=t(85896),r=function(l){return l===o.ORTHOGONAL?e:l===o.ISOMETRIC?s:l===o.HEXAGONAL?p:l===o.STAGGERED?n:i};c.exports=r},55762:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(20242),s=t(51900),i=t(63288),n=function(e){return e===o.ORTHOGONAL?i:e===o.STAGGERED?s:p};c.exports=n},45091:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),p=function(s,i,n){if(o(s,i,n)){var e=n.data[i][s];return e!==null&&e.index>-1}else return!1};c.exports=p},24152:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45091),p=t(26099),s=new p,i=function(n,e,r,l){l.tilemapLayer.worldToTileXY(n,e,!0,s,r);var a=s.x,h=s.y;return o(a,h,l)};c.exports=i},90454:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),p=t(56583),s=function(i,n){var e=i.tilemapLayer.tilemap,r=i.tilemapLayer,l=Math.floor(e.tileWidth*r.scaleX),a=Math.floor(e.tileHeight*r.scaleY),h=i.hexSideLength,f,u,d,m;if(i.staggerAxis==="y"){var x=(a-h)/2+h;f=p(n.worldView.x-r.x,l,0,!0)-r.cullPaddingX,u=o(n.worldView.right-r.x,l,0,!0)+r.cullPaddingX,d=p(n.worldView.y-r.y,x,0,!0)-r.cullPaddingY,m=o(n.worldView.bottom-r.y,x,0,!0)+r.cullPaddingY}else{var S=(l-h)/2+h;f=p(n.worldView.x-r.x,S,0,!0)-r.cullPaddingX,u=o(n.worldView.right-r.x,S,0,!0)+r.cullPaddingX,d=p(n.worldView.y-r.y,a,0,!0)-r.cullPaddingY,m=o(n.worldView.bottom-r.y,a,0,!0)+r.cullPaddingY}return{left:f,right:u,top:d,bottom:m}};c.exports=s},9474:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90454),p=t(32483),s=function(i,n,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=i.tilemapLayer,a=o(i,n);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(a.left=0,a.right=i.width,a.top=0,a.bottom=i.height),p(i,a,r,e),e};c.exports=s},27229:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19951),p=t(26099),s=new p,i=function(n,e,r,l){var a=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(a*=f.scaleX,h*=f.scaleY);var u=o(n,e,s,r,l),d=[],m=.5773502691896257,x,S;l.staggerAxis==="y"?(x=m*a,S=h/2):(x=a/2,S=m*h);for(var T=0;T<6;T++){var C=2*Math.PI*(.5-T)/6;d.push(new p(u.x+x*Math.cos(C),u.y+S*Math.sin(C)))}return d};c.exports=i},19951:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r){n||(n=new o);var l=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,f=0,u=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),u=h.y+e.scrollY*(1-h.scrollFactorY),l*=h.scaleX,a*=h.scaleY);var d=l/2,m=a/2,x,S;return r.staggerAxis==="y"?(x=f+l*s+l,S=u+1.5*i*m+m,i%2===0&&(this.staggerIndex==="odd"?x-=d:x+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(x=f+1.5*s*d+d,S=u+a*s+a,s%2===0&&(this.staggerIndex==="odd"?S-=m:S+=m)),n.set(x,S)};c.exports=p},86625:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r,l){e||(e=new o);var a=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(r||(r=f.scene.cameras.main),s=s-(f.x+r.scrollX*(1-f.scrollFactorX)),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),a*=f.scaleX,h*=f.scaleY);var u=.5773502691896257,d=-.3333333333333333,m=0,x=.6666666666666666,S=a/2,T=h/2,C,A,b,R,F;l.staggerAxis==="y"?(C=(s-S)/(u*a),A=(i-T)/T,b=u*C+d*A,R=m*C+x*A):(C=(s-S)/S,A=(i-T)/(u*h),b=d*C+u*A,R=x*C+m*A),F=-b-R;var L=Math.round(b),O=Math.round(R),I=Math.round(F),B=Math.abs(L-b),U=Math.abs(O-R),H=Math.abs(I-F);B>U&&B>H?L=-O-I:U>H&&(O=-L-I);var J,tt=O;return l.staggerIndex==="odd"?J=tt%2===0?O/2+L:O/2+L-.5:J=tt%2===0?O/2+L:O/2+L+.5,e.set(J,tt)};c.exports=p},62991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t>=0&&t<p.width&&o>=0&&o<p.height};c.exports=y},14018:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33528),p=function(s,i,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var r=s.tilemapLayer,l=s.data,a=s.width,h=s.height,f=r.skipCull,u=0,d=a,m=0,x=h,S,T,C;if(e===0)for(T=m;T<x;T++)for(S=u;S<d;S++)C=l[T][S],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(S,T,s,i)||n.push(C));else if(e===1)for(T=m;T<x;T++)for(S=d;S>=u;S--)C=l[T][S],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(S,T,s,i)||n.push(C));else if(e===2)for(T=x;T>=m;T--)for(S=u;S<d;S++)C=l[T][S],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(S,T,s,i)||n.push(C));else if(e===3)for(T=x;T>=m;T--)for(S=d;S>=u;S--)C=l[T][S],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(S,T,s,i)||n.push(C));return r.tilesDrawn=n.length,r.tilesTotal=a*h,n};c.exports=p},14127:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r){n||(n=new o);var l=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,f=0,u=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,u=h.y+e.scrollY*(1-h.scrollFactorY),a*=h.scaleY);var d=f+(s-i)*(l/2),m=u+(s+i)*(a/2);return n.set(d,m)};c.exports=p},96897:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r,l,a){e||(e=new o);var h=l.baseTileWidth,f=l.baseTileHeight,u=l.tilemapLayer;u&&(r||(r=u.scene.cameras.main),i=i-(u.y+r.scrollY*(1-u.scrollFactorY)),f*=u.scaleY,s=s-(u.x+r.scrollX*(1-u.scrollFactorX)),h*=u.scaleX);var d=h/2,m=f/2;s=s-d,a||(i=i-f);var x=.5*(s/d+i/m),S=.5*(-s/d+i/m);return n&&(x=Math.floor(x),S=Math.floor(S)),e.set(x,S)};c.exports=p},71558:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),p=t(62991),s=t(72023),i=t(20576),n=function(e,r,l,a,h){if(a===void 0&&(a=!0),!p(r,l,h))return null;var f,u=h.data[l][r],d=u&&u.collides;e instanceof o?(h.data[l][r]===null&&(h.data[l][r]=new o(h,e.index,r,l,h.tileWidth,h.tileHeight)),h.data[l][r].copy(e)):(f=e,h.data[l][r]===null?h.data[l][r]=new o(h,f,r,l,h.tileWidth,h.tileHeight):h.data[l][r].index=f);var m=h.data[l][r],x=h.collideIndexes.indexOf(m.index)!==-1;if(f=e instanceof o?e.index:e,f===-1)m.width=h.tileWidth,m.height=h.tileHeight;else{var S=h.tilemapLayer.tilemap,T=S.tiles,C=T[f][2],A=S.tilesets[C];m.width=A.tileWidth,m.height=A.tileHeight}return i(m,x),a&&d!==m.collides&&s(r,l,h),m};c.exports=n},26303:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71558),p=t(26099),s=new p,i=function(n,e,r,l,a,h){return h.tilemapLayer.worldToTileXY(e,r,!0,s,a,h),o(n,s.x,s.y,l,h)};c.exports=i},14051:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),p=t(71558),s=function(i,n,e,r,l){if(r===void 0&&(r=!0),!Array.isArray(i))return null;Array.isArray(i[0])||(i=[i]);for(var a=i.length,h=i[0].length,f=0;f<a;f++)for(var u=0;u<h;u++){var d=i[f][u];p(d,n+u,e+f,!1,l)}r&&o(n-1,e-1,h+2,a+2,l)};c.exports=s},77389:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(26546),s=function(i,n,e,r,l,a){var h,f=o(i,n,e,r,{},a);if(!l)for(l=[],h=0;h<f.length;h++)l.indexOf(f[h].index)===-1&&l.push(f[h].index);for(h=0;h<f.length;h++)f[h].index=p(l)};c.exports=s},63557:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),p=t(62991),s=t(72023),i=function(n,e,r,l,a){if(r===void 0&&(r=!0),l===void 0&&(l=!0),!p(n,e,a))return null;var h=a.data[e][n];if(h)a.data[e][n]=r?null:new o(a,-1,n,e,a.tileWidth,a.tileHeight);else return null;return l&&h&&h.collides&&s(n,e,a),h};c.exports=i},94178:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63557),p=t(26099),s=new p,i=function(n,e,r,l,a,h){return h.tilemapLayer.worldToTileXY(n,e,!0,s,a,h),o(s.x,s.y,r,l,h)};c.exports=i},15533:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(3956),s=new p(105,210,231,150),i=new p(243,134,48,200),n=new p(40,39,37,150),e=function(r,l,a){l===void 0&&(l={});var h=l.tileColor!==void 0?l.tileColor:s,f=l.collidingTileColor!==void 0?l.collidingTileColor:i,u=l.faceColor!==void 0?l.faceColor:n,d=o(0,0,a.width,a.height,null,a);r.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),r.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var m=0;m<d.length;m++){var x=d[m],S=x.width,T=x.height,C=x.pixelX,A=x.pixelY,b=x.collides?f:h;b!==null&&(r.fillStyle(b.color,b.alpha/255),r.fillRect(C,A,S,T)),C+=1,A+=1,S-=2,T-=2,u!==null&&(r.lineStyle(1,u.color,u.alpha/255),x.faceTop&&r.lineBetween(C,A,C+S,A),x.faceRight&&r.lineBetween(C+S,A,C+S,A+T),x.faceBottom&&r.lineBetween(C,A+T,C+S,A+T),x.faceLeft&&r.lineBetween(C,A,C,A+T))}};c.exports=e},27987:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(s,i,n,e,r,l,a){for(var h=o(n,e,r,l,null,a),f=0;f<h.length;f++)h[f]&&h[f].index===s&&(h[f].index=i)};c.exports=p},32483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=t.data,n=t.width,e=t.height,r=t.tilemapLayer,l=Math.max(0,o.left),a=Math.min(n,o.right),h=Math.max(0,o.top),f=Math.min(e,o.bottom),u,d,m;if(p===0)for(d=h;d<f;d++)for(u=l;i[d]&&u<a;u++)m=i[d][u],!(!m||m.index===-1||!m.visible||m.alpha===0)&&s.push(m);else if(p===1)for(d=h;d<f;d++)for(u=a;i[d]&&u>=l;u--)m=i[d][u],!(!m||m.index===-1||!m.visible||m.alpha===0)&&s.push(m);else if(p===2)for(d=f;d>=h;d--)for(u=l;i[d]&&u<a;u++)m=i[d][u],!(!m||m.index===-1||!m.visible||m.alpha===0)&&s.push(m);else if(p===3)for(d=f;d>=h;d--)for(u=a;i[d]&&u>=l;u--)m=i[d][u],!(!m||m.index===-1||!m.visible||m.alpha===0)&&s.push(m);return r.tilesDrawn=s.length,r.tilesTotal=n*e,s};c.exports=y},57068:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),s=t(9589),i=function(n,e,r,l,a){e===void 0&&(e=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++)s(n[h],e,l);if(a)for(var f=0;f<l.height;f++)for(var u=0;u<l.width;u++){var d=l.data[f][u];d&&n.indexOf(d.index)!==-1&&o(d,e)}r&&p(0,0,l.width,l.height,l)};c.exports=i},37266:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),s=t(9589),i=function(n,e,r,l,a,h){if(r===void 0&&(r=!0),l===void 0&&(l=!0),h===void 0&&(h=!0),!(n>e)){for(var f=n;f<=e;f++)s(f,r,a);if(h)for(var u=0;u<a.height;u++)for(var d=0;d<a.width;d++){var m=a.data[u][d];m&&m.index>=n&&m.index<=e&&o(m,r)}l&&p(0,0,a.width,a.height,a)}};c.exports=i},75661:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),s=t(9589),i=function(n,e,r,l){e===void 0&&(e=!0),r===void 0&&(r=!0),Array.isArray(n)||(n=[n]);for(var a=0;a<l.height;a++)for(var h=0;h<l.width;h++){var f=l.data[a][h];f&&n.indexOf(f.index)===-1&&(o(f,e),s(f.index,e,l))}r&&p(0,0,l.width,l.height,l)};c.exports=i},64740:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),s=t(97022),i=function(n,e,r,l){e===void 0&&(e=!0),r===void 0&&(r=!0);for(var a=0;a<l.height;a++)for(var h=0;h<l.width;h++){var f=l.data[a][h];if(f){for(var u in n)if(s(f.properties,u)){var d=n[u];Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)f.properties[u]===d[m]&&o(f,e)}}}r&&p(0,0,l.width,l.height,l)};c.exports=i},63307:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),s=function(i,n,e){i===void 0&&(i=!0),n===void 0&&(n=!0);for(var r=0;r<e.height;r++)for(var l=0;l<e.width;l++){var a=e.data[r][l];if(a){var h=a.getCollisionGroup();h&&h.objects&&h.objects.length>0&&o(a,i)}}n&&p(0,0,e.width,e.height,e)};c.exports=s},9589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=p.collideIndexes.indexOf(t);o&&s===-1?p.collideIndexes.push(t):!o&&s!==-1&&p.collideIndexes.splice(s,1)};c.exports=y},20576:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};c.exports=y},79583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){if(typeof t=="number")s.callbacks[t]=o!==null?{callback:o,callbackContext:p}:void 0;else for(var i=0,n=t.length;i<n;i++)s.callbacks[t[i]]=o!==null?{callback:o,callbackContext:p}:void 0};c.exports=y},93254:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(s,i,n,e,r,l,a){for(var h=o(s,i,n,e,null,a),f=0;f<h.length;f++)h[f].setCollisionCallback(r,l)};c.exports=p},32903:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(33680),s=function(i,n,e,r,l){var a=o(i,n,e,r,null,l),h=a.map(function(u){return u.index});p(h);for(var f=0;f<a.length;f++)a[f].index=h[f]};c.exports=s},61325:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),p=t(56583),s=function(i,n){var e=i.tilemapLayer.tilemap,r=i.tilemapLayer,l=Math.floor(e.tileWidth*r.scaleX),a=Math.floor(e.tileHeight*r.scaleY),h=p(n.worldView.x-r.x,l,0,!0)-r.cullPaddingX,f=o(n.worldView.right-r.x,l,0,!0)+r.cullPaddingX,u=p(n.worldView.y-r.y,a/2,0,!0)-r.cullPaddingY,d=o(n.worldView.bottom-r.y,a/2,0,!0)+r.cullPaddingY;return{left:h,right:f,top:u,bottom:d}};c.exports=s},54503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61325),p=t(32483),s=function(i,n,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=i.tilemapLayer,a=o(i,n);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(a.left=0,a.right=i.width,a.top=0,a.bottom=i.height),p(i,a,r,e),e};c.exports=s},97202:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r){n||(n=new o);var l=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,f=0,u=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,u=h.y+e.scrollY*(1-h.scrollFactorY),a*=h.scaleY);var d=f+s*l+i%2*(l/2),m=u+i*(a/2);return n.set(d,m)};c.exports=p},28054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=p.baseTileHeight,i=p.tilemapLayer,n=0;return i&&(o===void 0&&(o=i.scene.cameras.main),n=i.y+o.scrollY*(1-i.scrollFactorY),s*=i.scaleY),n+t*(s/2)+s};c.exports=y},15108:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r,l){e||(e=new o);var a=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(r||(r=f.scene.cameras.main),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),h*=f.scaleY,s=s-(f.x+r.scrollX*(1-f.scrollFactorX)),a*=f.scaleX);var u=n?Math.floor(i/(h/2)):i/(h/2),d=n?Math.floor((s+u%2*.5*a)/a):(s+u%2*.5*a)/a;return e.set(d,u)};c.exports=p},51900:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=s.baseTileHeight,n=s.tilemapLayer;return n&&(p||(p=n.scene.cameras.main),t=t-(n.y+p.scrollY*(1-n.scrollFactorY)),i*=n.scaleY),o?Math.floor(t/(i/2)):t/(i/2)};c.exports=y},86560:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(s,i,n,e,r,l,a){for(var h=o(n,e,r,l,null,a),f=0;f<h.length;f++)h[f]&&(h[f].index===s?h[f].index=i:h[f].index===i&&(h[f].index=s))};c.exports=p},97281:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=p.baseTileWidth,i=p.tilemapLayer,n=0;return i&&(o||(o=i.scene.cameras.main),n=i.x+o.scrollX*(1-i.scrollFactorX),s*=i.scaleX),n+t*s};c.exports=y},70326:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97281),p=t(29650),s=t(26099),i=function(n,e,r,l,a){return r||(r=new s(0,0)),r.x=o(n,l,a),r.y=p(e,l,a),r};c.exports=i},29650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=p.baseTileHeight,i=p.tilemapLayer,n=0;return i&&(o||(o=i.scene.cameras.main),n=i.y+o.scrollY*(1-i.scrollFactorY),s*=i.scaleY),n+t*s};c.exports=y},77366:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(75508),s=function(i,n,e,r,l,a){if(l){var h,f=o(i,n,e,r,null,a),u=0;for(h=0;h<l.length;h++)u+=l[h].weight;if(!(u<=0))for(h=0;h<f.length;h++){for(var d=p.RND.frac()*u,m=0,x=-1,S=0;S<l.length;S++)if(m+=l[S].weight,d<=m){var T=l[S].index;x=Array.isArray(T)?T[Math.floor(p.RND.frac()*T.length)]:T;break}f[h].index=x}}};c.exports=s},10095:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),p=t(26099),s=new p,i=function(n,e,r,l){return o(n,0,e,s,r,l),s.x};c.exports=i},85896:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(s,i,n,e,r,l){n===void 0&&(n=!0),e||(e=new o);var a=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(r||(r=f.scene.cameras.main),s=s-(f.x+r.scrollX*(1-f.scrollFactorX)),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),a*=f.scaleX,h*=f.scaleY);var u=s/a,d=i/h;return n&&(u=Math.floor(u),d=Math.floor(d)),e.set(u,d)};c.exports=p},63288:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),p=t(26099),s=new p,i=function(n,e,r,l){return o(0,n,e,s,r,l),s.y};c.exports=i},81086:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:t(91907)};c.exports=o},62501:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(21829),s={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};s=o(!1,s,p.ORIENTATION),c.exports=s},14977:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(91907),s=t(95540),i=new o({initialize:function(e){e===void 0&&(e={}),this.name=s(e,"name","layer"),this.id=s(e,"id",0),this.x=s(e,"x",0),this.y=s(e,"y",0),this.width=s(e,"width",0),this.height=s(e,"height",0),this.tileWidth=s(e,"tileWidth",0),this.tileHeight=s(e,"tileHeight",0),this.baseTileWidth=s(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(e,"baseTileHeight",this.tileHeight),this.orientation=s(e,"orientation",p.ORTHOGONAL),this.widthInPixels=s(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(e,"alpha",1),this.visible=s(e,"visible",!0),this.properties=s(e,"properties",[]),this.indexes=s(e,"indexes",[]),this.collideIndexes=s(e,"collideIndexes",[]),this.callbacks=s(e,"callbacks",[]),this.bodies=s(e,"bodies",[]),this.data=s(e,"data",[]),this.tilemapLayer=s(e,"tilemapLayer",null),this.hexSideLength=s(e,"hexSideLength",0),this.staggerAxis=s(e,"staggerAxis","y"),this.staggerIndex=s(e,"staggerIndex","odd")}});c.exports=i},87010:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(91907),s=t(95540),i=new o({initialize:function(e){e===void 0&&(e={}),this.name=s(e,"name","map"),this.width=s(e,"width",0),this.height=s(e,"height",0),this.infinite=s(e,"infinite",!1),this.tileWidth=s(e,"tileWidth",0),this.tileHeight=s(e,"tileHeight",0),this.widthInPixels=s(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(e,"heightInPixels",this.height*this.tileHeight),this.format=s(e,"format",null),this.orientation=s(e,"orientation",p.ORTHOGONAL),this.renderOrder=s(e,"renderOrder","right-down"),this.version=s(e,"version","1"),this.properties=s(e,"properties",{}),this.layers=s(e,"layers",[]),this.images=s(e,"images",[]),this.objects=s(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=s(e,"collision",{}),this.tilesets=s(e,"tilesets",[]),this.imageCollections=s(e,"imageCollections",[]),this.tiles=s(e,"tiles",[]),this.hexSideLength=s(e,"hexSideLength",0),this.staggerAxis=s(e,"staggerAxis","y"),this.staggerIndex=s(e,"staggerIndex","odd")}});c.exports=i},48700:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=new o({initialize:function(n){n===void 0&&(n={}),this.name=p(n,"name","object layer"),this.id=p(n,"id",0),this.opacity=p(n,"opacity",1),this.properties=p(n,"properties",{}),this.propertyTypes=p(n,"propertytypes",{}),this.type=p(n,"type","objectgroup"),this.visible=p(n,"visible",!0),this.objects=p(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=s},6641:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=function(s){return s=s.toLowerCase(),s==="isometric"?o.ISOMETRIC:s==="staggered"?o.STAGGERED:s==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};c.exports=p},46177:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(2342),s=t(82593),i=t(46594),n=t(87021),e=function(r,l,a,h,f,u){var d;switch(l){case o.ARRAY_2D:d=p(r,a,h,f,u);break;case o.CSV:d=s(r,a,h,f,u);break;case o.TILED_JSON:d=i(r,a,u);break;case o.WELTMEISTER:d=n(r,a,u);break;default:console.warn("Unrecognized tilemap data format: "+l),d=null}return d};c.exports=e},2342:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(14977),s=t(87010),i=t(23029),n=function(e,r,l,a,h){for(var f=new p({tileWidth:l,tileHeight:a}),u=new s({name:e,tileWidth:l,tileHeight:a,format:o.ARRAY_2D,layers:[f]}),d=[],m=r.length,x=0,S=0;S<r.length;S++){d[S]=[];for(var T=r[S],C=0;C<T.length;C++){var A=parseInt(T[C],10);isNaN(A)||A===-1?d[S][C]=h?null:new i(f,-1,C,S,l,a):d[S][C]=new i(f,A,C,S,l,a)}x===0&&(x=T.length)}return u.width=f.width=x,u.height=f.height=m,u.widthInPixels=f.widthInPixels=x*l,u.heightInPixels=f.heightInPixels=m*a,f.data=d,u};c.exports=n},82593:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(2342),s=function(i,n,e,r,l){var a=n.trim().split(`
`).map(function(f){return f.split(",")}),h=p(i,a,e,r,l);return h.format=o.CSV,h};c.exports=s},6656:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14977),p=t(23029),s=function(i,n){for(var e=[],r=0;r<i.layer.length;r++){for(var l=i.layer[r],a=new o({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),h=[],f=[],u=0;u<l.data.length;u++){for(var d=0;d<l.data[u].length;d++){var m=l.data[u][d]-1,x;m>-1?x=new p(a,m,d,u,l.tilesize,l.tilesize):x=n?null:new p(a,-1,d,u,l.tilesize,l.tilesize),h.push(x)}f.push(h),h=[]}a.data=f,e.push(a)}return e};c.exports=s},96483:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),p=function(s){for(var i=[],n=[],e=0;e<s.layer.length;e++){var r=s.layer[e],l=r.tilesetName;l!==""&&n.indexOf(l)===-1&&(n.push(l),i.push(new o(l,0,r.tilesize,r.tilesize,0,0)))}return i};c.exports=p},87021:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(87010),s=t(6656),i=t(96483),n=function(e,r,l){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var a=0,h=0,f=0;f<r.layer.length;f++)r.layer[f].width>a&&(a=r.layer[f].width),r.layer[f].height>h&&(h=r.layer[f].height);var u=new p({width:a,height:h,name:e,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:o.WELTMEISTER});return u.layers=s(r,l),u.tilesets=i(r),u};c.exports=n},52833:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=function(s){for(var i,n,e,r,l,a=0;a<s.layers.length;a++){i=s.layers[a],r=null;for(var h=0;h<i.data.length;h++){l=i.data[h];for(var f=0;f<l.length;f++)n=l[f],!(n===null||n.index<0)&&(e=s.tiles[n.index][2],r=s.tilesets[e],n.width=r.tileWidth,n.height=r.tileHeight,r.tileProperties&&r.tileProperties[n.index-r.firstgid]&&(n.properties=o(n.properties,r.tileProperties[n.index-r.firstgid])))}}};c.exports=p},41868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=window.atob(t),p=o.length,s=new Array(p/4),i=0;i<p;i+=4)s[i/4]=(o.charCodeAt(i)|o.charCodeAt(i+1)<<8|o.charCodeAt(i+2)<<16|o.charCodeAt(i+3)<<24)>>>0;return s};c.exports=y},84101:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),p=function(s){var i,n,e=[];for(i=0;i<s.imageCollections.length;i++)for(var r=s.imageCollections[i],l=r.images,a=0;a<l.length;a++){var h=l[a];n=new o(h.image,h.gid,r.imageWidth,r.imageHeight,0,0),n.updateTileData(r.imageWidth,r.imageHeight),s.tilesets.push(n)}for(i=0;i<s.tilesets.length;i++){n=s.tilesets[i];for(var f=n.tileMargin,u=n.tileMargin,d=0,m=0,x=0,S=n.firstgid;S<n.firstgid+n.total&&(e[S]=[f,u,i],f+=n.tileWidth+n.tileSpacing,d++,!(d===n.total||(m++,m===n.columns&&(f=n.tileMargin,u+=n.tileHeight+n.tileSpacing,m=0,x++,x===n.rows))));S++);}return e};c.exports=p},79677:(c,y,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(s,i,n){if(!i)return{i:0,layers:s.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=i.x+o(i,"startx",0)*s.tilewidth+o(i,"offsetx",0),r=i.y+o(i,"starty",0)*s.tileheight+o(i,"offsety",0);return{i:0,layers:i.layers,name:n.name+i.name+"/",opacity:n.opacity*i.opacity,visible:n.visible&&i.visible,x:n.x+e,y:n.y+r}};c.exports=p},29920:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,t=1073741824,o=536870912,p=function(s){var i=!!(s&y),n=!!(s&t),e=!!(s&o);s=s&~(y|t|o);var r=0,l=!1;return i&&n&&e?(r=Math.PI/2,l=!0):i&&n&&!e?(r=Math.PI,l=!1):i&&!n&&e?(r=Math.PI/2,l=!1):i&&!n&&!e?(r=0,l=!0):!i&&n&&e?(r=3*Math.PI/2,l=!1):!i&&n&&!e?(r=Math.PI,l=!0):!i&&!n&&e?(r=3*Math.PI/2,l=!0):!i&&!n&&!e&&(r=0,l=!1),{gid:s,flippedHorizontal:i,flippedVertical:n,flippedAntiDiagonal:e,rotation:r,flipped:l}};c.exports=p},12635:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=t(79677),s=function(i){for(var n=[],e=[],r=p(i);r.i<r.layers.length||e.length>0;){if(r.i>=r.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=e.pop();continue}var l=r.layers[r.i];if(r.i++,l.type!=="imagelayer"){if(l.type==="group"){var a=p(i,l,r);e.push(r),r=a}continue}var h=o(l,"offsetx",0)+o(l,"startx",0),f=o(l,"offsety",0)+o(l,"starty",0);n.push({name:r.name+l.name,image:l.image,x:r.x+h+l.x,y:r.y+f+l.y,alpha:r.opacity*l.opacity,visible:r.visible&&l.visible,properties:o(l,"properties",{})})}return n};c.exports=s},46594:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(51233),p=t(84101),s=t(91907),i=t(62644),n=t(80341),e=t(6641),r=t(87010),l=t(12635),a=t(22611),h=t(28200),f=t(24619),u=function(d,m,x){var S=i(m),T=new r({width:S.width,height:S.height,name:d,tileWidth:S.tilewidth,tileHeight:S.tileheight,orientation:e(S.orientation),format:n.TILED_JSON,version:S.version,properties:S.properties,renderOrder:S.renderorder,infinite:S.infinite});T.orientation===s.HEXAGONAL&&(T.hexSideLength=S.hexsidelength,T.staggerAxis=S.staggeraxis,T.staggerIndex=S.staggerindex),T.layers=h(S,x),T.images=l(S);var C=f(S);return T.tilesets=C.tilesets,T.imageCollections=C.imageCollections,T.objects=a(S),T.tiles=p(T),o(T),T};c.exports=u},52205:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18254),p=t(29920),s=function(e){return{x:e.x,y:e.y}},i=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,r,l){r===void 0&&(r=0),l===void 0&&(l=0);var a=o(e,i);if(a.x+=r,a.y+=l,e.gid){var h=p(e.gid);a.gid=h.gid,a.flippedHorizontal=h.flippedHorizontal,a.flippedVertical=h.flippedVertical,a.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?a.polyline=e.polyline.map(s):e.polygon?a.polygon=e.polygon.map(s):e.ellipse?a.ellipse=e.ellipse:e.text?a.text=e.text:e.point?a.point=!0:a.rectangle=!0;return a};c.exports=n},22611:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=t(52205),s=t(48700),i=t(79677),n=function(e){for(var r=[],l=[],a=i(e);a.i<a.layers.length||l.length>0;){if(a.i>=a.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=l.pop();continue}var h=a.layers[a.i];if(a.i++,h.opacity*=a.opacity,h.visible=a.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var f=i(e,h,a);l.push(a),a=f}continue}h.name=a.name+h.name;for(var u=a.x+o(h,"startx",0)+o(h,"offsetx",0),d=a.y+o(h,"starty",0)+o(h,"offsety",0),m=[],x=0;x<h.objects.length;x++){var S=p(h.objects[x],u,d);m.push(S)}var T=new s(h);T.objects=m,r.push(T)}return r};c.exports=n},28200:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41868),p=t(91907),s=t(79677),i=t(6641),n=t(95540),e=t(14977),r=t(29920),l=t(23029),a=function(h,f){for(var u=n(h,"infinite",!1),d=[],m=[],x=s(h);x.i<x.layers.length||m.length>0;){if(x.i>=x.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}x=m.pop();continue}var S=x.layers[x.i];if(x.i++,S.type!=="tilelayer"){if(S.type==="group"){var T=s(h,S,x);m.push(x),x=T}continue}if(S.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+S.name+"'");continue}else if(S.encoding&&S.encoding==="base64"){if(S.chunks)for(var C=0;C<S.chunks.length;C++)S.chunks[C].data=o(S.chunks[C].data);S.data&&(S.data=o(S.data)),delete S.encoding}var A,b,R,F,L=[],O=0;if(u){var I=n(S,"startx",0)+S.x,B=n(S,"starty",0)+S.y;A=new e({name:x.name+S.name,id:S.id,x:x.x+n(S,"offsetx",0)+I*h.tilewidth,y:x.y+n(S,"offsety",0)+B*h.tileheight,width:S.width,height:S.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:x.opacity*S.opacity,visible:x.visible&&S.visible,properties:n(S,"properties",[]),orientation:i(h.orientation)}),A.orientation===p.HEXAGONAL&&(A.hexSideLength=h.hexsidelength,A.staggerAxis=h.staggeraxis,A.staggerIndex=h.staggerindex);for(var U=0;U<S.height;U++){L[U]=[null];for(var H=0;H<S.width;H++)L[U][H]=null}for(U=0,st=S.chunks.length;U<st;U++)for(var J=S.chunks[U],tt=J.x-I,X=J.y-B,j=0,D=0,z=J.data.length;D<z;D++){var $=O+tt,K=j+X;b=r(J.data[D]),b.gid>0?(R=new l(A,b.gid,$,K,h.tilewidth,h.tileheight),R.rotation=b.rotation,R.flipX=b.flipped,L[K][$]=R):(F=f?null:new l(A,-1,$,K,h.tilewidth,h.tileheight),L[K][$]=F),O++,O===J.width&&(j++,O=0)}}else{A=new e({name:x.name+S.name,id:S.id,x:x.x+n(S,"offsetx",0)+S.x,y:x.y+n(S,"offsety",0)+S.y,width:S.width,height:S.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:x.opacity*S.opacity,visible:x.visible&&S.visible,properties:n(S,"properties",[]),orientation:i(h.orientation)}),A.orientation===p.HEXAGONAL&&(A.hexSideLength=h.hexsidelength,A.staggerAxis=h.staggeraxis,A.staggerIndex=h.staggerindex);for(var Z=[],it=0,st=S.data.length;it<st;it++)b=r(S.data[it]),b.gid>0?(R=new l(A,b.gid,O,L.length,h.tilewidth,h.tileheight),R.rotation=b.rotation,R.flipX=b.flipped,Z.push(R)):(F=f?null:new l(A,-1,O,L.length,h.tilewidth,h.tileheight),Z.push(F)),O++,O===S.width&&(L.push(Z),O=0,Z=[])}A.data=L,d.push(A)}return d};c.exports=a},24619:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),p=t(16536),s=t(52205),i=t(57880),n=function(e){for(var r=[],l=[],a=null,h,f=0;f<e.tilesets.length;f++){var u=e.tilesets[f];if(u.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(u.image){var d=new o(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(e.version>1){var m=void 0,x=void 0;if(Array.isArray(u.tiles)){m=m||{},x=x||{};for(var S=0;S<u.tiles.length;S++){var T=u.tiles[S];if(T.properties){var C={};T.properties.forEach(function(U){C[U.name]=U.value}),x[T.id]=C}if(T.objectgroup&&((m[T.id]||(m[T.id]={})).objectgroup=T.objectgroup,T.objectgroup.objects)){var A=T.objectgroup.objects.map(function(U){return s(U)});m[T.id].objectgroup.objects=A}T.animation&&((m[T.id]||(m[T.id]={})).animation=T.animation),T.type&&((m[T.id]||(m[T.id]={})).type=T.type)}}Array.isArray(u.wangsets)&&(m=m||{},x=x||{},i(u.wangsets,m)),m&&(d.tileData=m,d.tileProperties=x)}else if(u.tileproperties&&(d.tileProperties=u.tileproperties),u.tiles){d.tileData=u.tiles;for(h in d.tileData){var b=d.tileData[h].objectgroup;if(b&&b.objects){var R=b.objects.map(function(U){return s(U)});d.tileData[h].objectgroup.objects=R}}}d.updateTileData(u.imagewidth,u.imageheight),r.push(d)}else{var F=new p(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties),L=0;for(S=0;S<u.tiles.length;S++){T=u.tiles[S];var O=T.image,I=parseInt(T.id,10),B=u.firstgid+I;F.addImage(B,O),L=Math.max(I,L)}F.maxId=L,l.push(F)}a&&(a.lastgid=u.firstgid-1),a=u}return{tilesets:r,imageCollections:l}};c.exports=n},57880:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var p=0;p<t.length;p++){var s=t[p],i=p;if(s.name&&s.name!==""&&(i=s.name),Array.isArray(s.wangtiles)&&s.wangtiles.length>0){var n={},e={},r,l,a;if(Array.isArray(s.edgecolors))for(r=0;r<s.edgecolors.length;r++)a=1+r,l=s.edgecolors[r],l.name!==""&&(n[a]=l.name);if(Array.isArray(s.cornercolors))for(r=0;r<s.cornercolors.length;r++)a=1+r,l=s.cornercolors[r],l.name!==""&&(e[a]=l.name);if(Array.isArray(s.colors))for(r=0;r<s.colors.length;r++)l=s.colors[r],a=1+r,l.name!==""&&(n[a]=e[a]=l.name);for(var h=[n,e,n,e,n,e,n,e],f=0;f<s.wangtiles.length;f++){var u=s.wangtiles[f],d=o[u.tileid]||(o[u.tileid]={});d=d.wangid||(d.wangid={});for(var m=[],x=0;x<Math.min(h.length,u.wangid.length);x++){if(l=u.wangid[x],l===0){m.push(void 0);continue}var S=h[x][l];if(S!==void 0){m.push(S);continue}m.push(l)}d[i]=m}}}};c.exports=y},96761:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37277),s=t(44594),i=t(94880),n=t(72905),e=new o({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(s.BOOT,this.boot,this),l.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var r=this.systems.events;r.on(s.PRE_UPDATE,this.preUpdate,this),r.on(s.UPDATE,this.update,this),r.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var l;return r instanceof i?(l=r,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new i(r),this._pendingInsertion.push(l),l},delayedCall:function(r,l,a,h){return this.addEvent({delay:r,callback:l,args:a,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var a=r[l];n(this._pendingRemoval,a),n(this._pendingInsertion,a),n(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(r===0&&l===0)){var a,h;for(a=0;a<r;a++){h=this._pendingRemoval[a];var f=this._active.indexOf(h);f>-1&&this._active.splice(f,1),h.destroy()}for(a=0;a<l;a++)h=this._pendingInsertion[a],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,l){if(this.now=r,!this.paused){l*=this.timeScale;for(var a=0;a<this._active.length;a++){var h=this._active[a];if(!h.paused&&(h.elapsed+=l*h.timeScale,h.elapsed>=h.delay)){var f=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,f>=h.delay)for(;f>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),f-=h.delay,h.repeatCount--;h.elapsed=f,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(s.PRE_UPDATE,this.preUpdate,this),l.off(s.UPDATE,this.update,this),l.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",e,"time"),c.exports=e},96120:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),s=t(39429),i=t(95540),n=t(44594),e=t(89809),r=new o({Extends:p,initialize:function(a,h){p.call(this),this.scene=a,this.systems=a.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(n.PRE_UPDATE,this.preUpdate,this),f.on(n.UPDATE,this.update,this),f.once(n.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(l,a){this.paused||(this.elapsed+=a)},update:function(){if(!(this.paused||this.complete)){var l,a=this.events,h=!1,f=this.systems,u;for(l=0;l<a.length;l++){var d=a[l];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,u=d.target?d.target:this,d.if&&!d.if.call(u,d))continue;if(d.once&&(h=!0),d.set&&d.target)for(var m in d.set)d.target[m]=d.set[m];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(u),d.tween&&f.tweens.add(d.tween),d.sound&&(typeof d.sound=="string"?f.sound.play(d.sound):f.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,u),d.run&&d.run.call(u),d.stop&&this.stop()}}if(h)for(l=0;l<a.length;l++)a[l].complete&&a[l].once&&(a.splice(l,1),l--);this.totalComplete>=a.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var a=0;a<this.events.length;a++)this.events[a].complete=!1,l||(this.events[a].repeat=0);return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var a=this.events,h=0;a.length>0&&(h=a[a.length-1].time);for(var f=0;f<l.length;f++){var u=l[f],d=i(u,"at",0),m=i(u,"in",null);m!==null&&(d=this.elapsed+m);var x=i(u,"from",null);x!==null&&(d=h+x),a.push({complete:!1,time:d,repeat:0,if:i(u,"if",null),run:i(u,"run",null),loop:i(u,"loop",null),event:i(u,"event",null),target:i(u,"target",null),set:i(u,"set",null),tween:i(u,"tween",null),sound:i(u,"sound",null),once:i(u,"once",!1),stop:i(u,"stop",!1)}),h=d}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(n.PRE_UPDATE,this.preUpdate,this),l.off(n.UPDATE,this.update,this),l.off(n.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});s.register("timeline",function(l){return new r(this.scene,l)}),c.exports=r},94880:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),s=new o({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(i){if(this.delay=p(i,"delay",0),this.repeat=p(i,"repeat",0),this.loop=p(i,"loop",!1),this.callback=p(i,"callback",void 0),this.callbackScope=p(i,"callbackScope",this),this.args=p(i,"args",[]),this.timeScale=p(i,"timeScale",1),this.startAt=p(i,"startAt",0),this.paused=p(i,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var i=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/i}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(i){i===void 0&&(i=!1),this.elapsed=this.delay,this.hasDispatched=!i,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=s},35945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},89809:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(35945)}},90291:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),p=t(83419),s=t(43491),i=t(88032),n=t(37277),e=t(44594),r=t(93109),l=t(86081),a=t(8357),h=t(43960),f=t(26012),u=new p({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var m=[],x=0;x<d.length;x++){var S=d[x];S instanceof l||S instanceof h?m.push(S):Array.isArray(S.tweens)?m.push(f(this,S)):m.push(a(this,S))}return m.length===1?m[0]:m},add:function(d){var m=d,x=this.tweens;return m instanceof l||m instanceof h||(Array.isArray(m.tweens)?m=f(this,m):m=a(this,m)),x.push(m.reset()),m},addMultiple:function(d){for(var m,x=[],S=this.tweens,T=0;T<d.length;T++)m=d[T],m instanceof l||m instanceof h||(Array.isArray(m.tweens)?m=f(this,m):m=a(this,m)),S.push(m.reset()),x.push(m);return x},chain:function(d){var m=f(this,d);return this.tweens.push(m.init()),m},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var m=i(this,d);return this.tweens.push(m.reset()),m},stagger:function(d,m){return r(d,m)},setLagSmooth:function(d,m){return d===void 0&&(d=1/1e-8),m===void 0&&(m=0),this.maxLag=d,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var x=this.prevTime-this.startTime,S=x-this.nextTime,T=x-this.time*1e3;return S>0||d?(x/=1e3,this.time=x,this.nextTime+=S+(S>=this.gap?4:this.gap-S)):T=0,T},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var m=this.getDelta(d);if(!(m<=0)){this.processing=!0;var x,S,T=[],C=this.tweens;for(x=0;x<C.length;x++)S=C[x],S.update(m)&&T.push(S);var A=T.length;if(A&&C.length>0){for(x=0;x<A;x++){S=T[x];var b=C.indexOf(S);b>-1&&(S.isPendingRemove()||S.isDestroyed())&&(C.splice(b,1),S.destroy())}T.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(o(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,m){var x,S=[null];for(x=1;x<arguments.length;x++)S.push(arguments[x]);return this.tweens.forEach(function(T){S[0]=T,d.apply(m,S)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var m=[],x=this.tweens;Array.isArray(d)?d=s(d):d=[d];for(var S=d.length,T=0;T<x.length;T++)for(var C=x[T],A=0;A<S;A++)!C.isDestroyed()&&C.hasTarget(d[A])&&m.push(C);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var m=this.tweens,x,S=0;S<m.length;S++)if(x=m[S],x.isPlaying()&&x.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,m=0;m<d.length;m++)d[m].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var m=this.getTweensOf(d),x=0;x<m.length;x++)m[x].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",u,"tweens"),c.exports=u},57355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t&&t.hasOwnProperty(o)?t[o]:p};c.exports=y},6113:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62640),p=t(35355),s=function(i,n){var e=o.Power0;if(typeof i=="string")if(o.hasOwnProperty(i))e=o[i];else{var r="";if(i.indexOf(".")){r=i.substring(i.indexOf(".")+1);var l=r.toLowerCase();l==="in"?r="easeIn":l==="out"?r="easeOut":l==="inout"&&(r="easeInOut")}i=p(i.substring(0,i.indexOf(".")+1)+r),o.hasOwnProperty(i)&&(e=o[i])}else typeof i=="function"&&(e=i);if(!n)return e;var a=n.slice(0);return a.unshift(0),function(h){return a[0]=h,e.apply(this,a)}};c.exports=s},91389:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89318),p=t(77259),s=t(28392),i={bezier:o,catmull:p,catmullrom:p,linear:s},n=function(e){if(e===null)return null;var r=i.linear;return typeof e=="string"?i.hasOwnProperty(e)&&(r=i[e]):typeof e=="function"&&(r=e),r};c.exports=n},55292:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s;if(t.hasOwnProperty(o)){var i=typeof t[o];i==="function"?s=function(n,e,r,l,a,h){return t[o](n,e,r,l,a,h)}:s=function(){return t[o]}}else typeof p=="function"?s=p:s=function(){return p};return s};c.exports=y},82985:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81076),p=function(s){var i,n=[];if(s.hasOwnProperty("props"))for(i in s.props)i.substring(0,1)!=="_"&&n.push({key:i,value:s.props[i]});else for(i in s)o.indexOf(i)===-1&&i.substring(0,1)!=="_"&&n.push({key:i,value:s[i]});return n};c.exports=p},62329:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p=function(s){var i=o(s,"targets",null);return i===null||(typeof i=="function"&&(i=i.call()),Array.isArray(i)||(i=[i])),i};c.exports=p},17777:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),p=t(99472);function s(l){return!!l.getActive&&typeof l.getActive=="function"}function i(l){return!!l.getStart&&typeof l.getStart=="function"}function n(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return i(l)||n(l)||s(l)}var r=function(l,a){var h,f=function(J,tt,X){return X},u=function(J,tt,X){return X},d=null,m=typeof a;if(m==="number")f=function(){return a};else if(Array.isArray(a))u=function(){return a[0]},f=function(){return a[a.length-1]};else if(m==="string"){var x=a.toLowerCase(),S=x.substring(0,6)==="random",T=x.substring(0,3)==="int";if(S||T){var C=x.indexOf("("),A=x.indexOf(")"),b=x.indexOf(",");if(C&&A&&b){var R=parseFloat(x.substring(C+1,b)),F=parseFloat(x.substring(b+1,A));S?f=function(){return p(R,F)}:f=function(){return o(R,F)}}else throw new Error("invalid random() format")}else{x=x[0];var L=parseFloat(a.substr(2));switch(x){case"+":f=function(J,tt,X){return X+L};break;case"-":f=function(J,tt,X){return X-L};break;case"*":f=function(J,tt,X){return X*L};break;case"/":f=function(J,tt,X){return X/L};break;default:f=function(){return parseFloat(a)}}}}else if(m==="function")f=a;else if(m==="object")if(e(a))s(a)&&(d=a.getActive),n(a)&&(f=a.getEnd),i(a)&&(u=a.getStart);else if(a.hasOwnProperty("value"))h=r(l,a.value);else{var O=a.hasOwnProperty("to"),I=a.hasOwnProperty("from"),B=a.hasOwnProperty("start");if(O&&(I||B)){if(h=r(l,a.to),B){var U=r(l,a.start);h.getActive=U.getEnd}if(I){var H=r(l,a.from);h.getStart=H.getEnd}}}return h||(h={getActive:d,getEnd:f,getStart:u}),h};c.exports=r},88032:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),p=t(69902),s=t(23568),i=t(57355),n=t(6113),e=t(55292),r=t(35154),l=t(17777),a=t(269),h=t(86081),f=function(u,d,m){if(d instanceof h)return d.parent=u,d;m===void 0?m=p:m=a(p,m);var x=r(d,"from",0),S=r(d,"to",1),T=[{value:x}],C=r(d,"delay",m.delay),A=r(d,"easeParams",m.easeParams),b=r(d,"ease",m.ease),R=l("value",S),F=new h(u,T),L=F.add(0,"value",R.getEnd,R.getStart,R.getActive,n(r(d,"ease",b),r(d,"easeParams",A)),e(d,"delay",C),r(d,"duration",m.duration),i(d,"yoyo",m.yoyo),r(d,"hold",m.hold),r(d,"repeat",m.repeat),r(d,"repeatDelay",m.repeatDelay),!1,!1);L.start=x,L.current=x,F.completeDelay=s(d,"completeDelay",0),F.loop=Math.round(s(d,"loop",0)),F.loopDelay=Math.round(s(d,"loopDelay",0)),F.paused=i(d,"paused",!1),F.persist=i(d,"persist",!1),F.callbackScope=r(d,"callbackScope",F);for(var O=o.TYPES,I=0;I<O.length;I++){var B=O[I],U=r(d,B,!1);if(U){var H=r(d,B+"Params",[]);F.setCallback(B,U,H)}}return F};c.exports=f},93109:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6113),p=t(35154),s=t(36383),i=function(n,e){e===void 0&&(e={});var r,l=p(e,"start",0),a=p(e,"ease",null),h=p(e,"grid",null),f=p(e,"from",0),u=f==="first",d=f==="center",m=f==="last",x=typeof f=="number",S=Array.isArray(n),T=parseFloat(S?n[0]:n),C=S?parseFloat(n[1]):0,A=Math.max(T,C);if(S&&(l+=T),h){var b=h[0],R=h[1],F=0,L=0,O=0,I=0,B=[];m?(F=b-1,L=R-1):x?(F=f%b,L=Math.floor(f/b)):d&&(F=(b-1)/2,L=(R-1)/2);for(var U=s.MIN_SAFE_INTEGER,H=0;H<R;H++){B[H]=[];for(var J=0;J<b;J++){O=F-J,I=L-H;var tt=Math.sqrt(O*O+I*I);tt>U&&(U=tt),B[H][J]=tt}}}var X=a?o(a):null;return h?r=function(j,D,z,$){var K=0,Z=$%b,it=Math.floor($/b);Z>=0&&Z<b&&it>=0&&it<R&&(K=B[it][Z]);var st;if(S){var at=C-T;X?st=K/U*at*X(K/U):st=K/U*at}else X?st=K*T*X(K/U):st=K*T;return st+l}:r=function(j,D,z,$,K){K--;var Z;u?Z=$:d?Z=Math.abs(K/2-$):m?Z=K-$:x&&(Z=Math.abs(f-$));var it;if(S){var st;d?st=(C-T)/K*(Z*2):st=(C-T)/K*Z,X?it=st*X(Z/K):it=st}else X?it=K*A*X(Z/K):it=Z*T;return it+l},r};c.exports=i},8357:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),p=t(69902),s=t(23568),i=t(57355),n=t(6113),e=t(91389),r=t(55292),l=t(82985),a=t(62329),h=t(35154),f=t(17777),u=t(269),d=t(86081),m=function(x,S,T){if(S instanceof d)return S.parent=x,S;T===void 0?T=p:T=u(p,T);var C=a(S);!C&&T.targets&&(C=T.targets);for(var A=l(S),b=h(S,"delay",T.delay),R=h(S,"duration",T.duration),F=h(S,"easeParams",T.easeParams),L=h(S,"ease",T.ease),O=h(S,"hold",T.hold),I=h(S,"repeat",T.repeat),B=h(S,"repeatDelay",T.repeatDelay),U=i(S,"yoyo",T.yoyo),H=i(S,"flipX",T.flipX),J=i(S,"flipY",T.flipY),tt=h(S,"interpolation",T.interpolation),X=function(vt,xt,Et,yt){if(Et==="texture"){var bt=yt,Dt=void 0;Array.isArray(yt)?(bt=yt[0],Dt=yt[1]):yt.hasOwnProperty("value")?(bt=yt.value,Array.isArray(yt.value)?(bt=yt.value[0],Dt=yt.value[1]):typeof yt.value=="string"&&(bt=yt.value)):typeof yt=="string"&&(bt=yt),vt.addFrame(xt,bt,Dt,r(yt,"delay",b),h(yt,"duration",R),h(yt,"hold",O),h(yt,"repeat",I),h(yt,"repeatDelay",B),i(yt,"flipX",H),i(yt,"flipY",J))}else{var Vt=f(Et,yt),Nt=e(h(yt,"interpolation",tt));vt.add(xt,Et,Vt.getEnd,Vt.getStart,Vt.getActive,n(h(yt,"ease",L),h(yt,"easeParams",F)),r(yt,"delay",b),h(yt,"duration",R),i(yt,"yoyo",U),h(yt,"hold",O),h(yt,"repeat",I),h(yt,"repeatDelay",B),i(yt,"flipX",H),i(yt,"flipY",J),Nt,Nt?yt:null)}},j=new d(x,C),D=0;D<A.length;D++)for(var z=A[D].key,$=A[D].value,K=0;K<C.length;K++)z==="scale"&&!C[K].hasOwnProperty("scale")?(X(j,K,"scaleX",$),X(j,K,"scaleY",$)):X(j,K,z,$);j.completeDelay=s(S,"completeDelay",0),j.loop=Math.round(s(S,"loop",0)),j.loopDelay=Math.round(s(S,"loopDelay",0)),j.paused=i(S,"paused",!1),j.persist=i(S,"persist",!1),j.callbackScope=h(S,"callbackScope",j);for(var Z=o.TYPES,it=0;it<Z.length;it++){var st=Z[it],at=h(S,st,!1);if(at){var ut=h(S,st+"Params",[]);j.setCallback(st,at,ut)}}return j};c.exports=m},26012:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),p=t(23568),s=t(57355),i=t(62329),n=t(35154),e=t(8357),r=t(43960),l=function(a,h){if(h instanceof r)return h.parent=a,h;var f=new r(a);f.startDelay=n(h,"delay",0),f.completeDelay=p(h,"completeDelay",0),f.loop=Math.round(p(h,"loop",n(h,"repeat",0))),f.loopDelay=Math.round(p(h,"loopDelay",n(h,"repeatDelay",0))),f.paused=s(h,"paused",!1),f.persist=s(h,"persist",!1),f.callbackScope=n(h,"callbackScope",f);var u,d=o.TYPES;for(u=0;u<d.length;u++){var m=d[u],x=n(h,m,!1);if(x){var S=n(h,m+"Params",[]);f.setCallback(m,x,S)}}var T=n(h,"tweens",null);if(Array.isArray(T)){var C=[],A=i(h),b=void 0;for(A&&(b={targets:A}),u=0;u<T.length;u++)C.push(e(f,T[u],b));f.add(C)}return f};c.exports=l},30231:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},98540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},67233:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},2859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},98336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},25764:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},32193:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},84371:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},70766:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},55659:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},842:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};c.exports=o},70402:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),s=t(842),i=t(86353),n=new o({Extends:p,initialize:function(r){p.call(this),this.parent=r,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=i.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(s.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(s.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(s.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(s.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(s.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,r,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:r,params:l}),this},setPendingState:function(){this.state=i.PENDING},setActiveState:function(){this.state=i.ACTIVE},setLoopDelayState:function(){this.state=i.LOOP_DELAY},setCompleteDelayState:function(){this.state=i.COMPLETE_DELAY},setStartDelayState:function(){this.state=i.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=i.PENDING_REMOVE},setRemovedState:function(){this.state=i.REMOVED},setFinishedState:function(){this.state=i.FINISHED},setDestroyedState:function(){this.state=i.DESTROYED},isPending:function(){return this.state===i.PENDING},isActive:function(){return this.state===i.ACTIVE},isLoopDelayed:function(){return this.state===i.LOOP_DELAY},isCompleteDelayed:function(){return this.state===i.COMPLETE_DELAY},isStartDelayed:function(){return this.state===i.START_DELAY},isPendingRemove:function(){return this.state===i.PENDING_REMOVE},isRemoved:function(){return this.state===i.REMOVED},isFinished:function(){return this.state===i.FINISHED},isDestroyed:function(){return this.state===i.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=n},95042:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(842),s=t(86353),i=new o({initialize:function(e,r,l,a,h,f,u,d,m,x){this.tween=e,this.targetIndex=r,this.duration=a,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=h,this.hold=f,this.repeat=u,this.repeatDelay=d,this.repeatCounter=0,this.flipX=m,this.flipY=x,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=s.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=s.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=s.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=s.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=s.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=s.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=s.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=s.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===s.CREATED},isDelayed:function(){return this.state===s.DELAY},isPendingRender:function(){return this.state===s.PENDING_RENDER},isPlayingForward:function(){return this.state===s.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===s.PLAYING_BACKWARD},isHolding:function(){return this.state===s.HOLD_DELAY},isRepeating:function(){return this.state===s.REPEAT_DELAY},isComplete:function(){return this.state===s.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,r=this.targetIndex,l=n.targets[r],a=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,a,0,r,e,n),this.repeatCounter=this.repeat===-1?s.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var f=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=f*s.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,r){var l=this.tween,a=l.totalTargets,h=this.targetIndex,f=l.targets[h],u=this.key,d=u!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||r)&&(this.start=this.getStartValue(f,u,this.start,h,a,l)),r){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,u,this.start,h,a,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,d&&(this.current=this.start,f[u]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=i},69902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=y},81076:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),p=t(83419),s=t(842),i=t(44603),n=t(39429),e=t(36383),r=t(86353),l=t(48177),a=t(42220),h=new p({Extends:o,initialize:function(u,d){o.call(this,u),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,u,d,m,x,S,T,C,A,b,R,F,L,O,I,B){var U=new l(this,f,u,d,m,x,S,T,C,A,b,R,F,L,O,I,B);return this.totalData=this.data.push(U),U},addFrame:function(f,u,d,m,x,S,T,C,A,b){var R=new a(this,f,u,d,m,x,S,T,C,A,b);return this.totalData=this.data.push(R),R},getValue:function(f){f===void 0&&(f=0);var u=null;return this.data&&(u=this.data[f].current),u},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,u,d){if(d===void 0&&(d=!1),f!=="texture")for(var m=0;m<this.totalData;m++){var x=this.data[m];x.key===f&&(x.isPlayingForward()||x.isPlayingBackward())&&(x.end=u,d&&(x.start=x.current))}return this},restart:function(){switch(this.state){case r.REMOVED:case r.FINISHED:this.seek(),this.parent.makeActive(this);break;case r.PENDING:case r.PENDING_REMOVE:this.parent.reset(this);break;case r.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,u,d){if(f===void 0&&(f=0),u===void 0&&(u=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,f>0){for(var x=Math.floor(f/u),S=f-x*u,T=0;T<x;T++)this.update(u);S>0&&this.update(S)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var u=this.data,d=0;d<this.totalData;d++)u[d].reset(f);this.duration=Math.max(this.duration,.01);var m=this.duration,x=this.completeDelay,S=this.loopCounter,T=this.loopDelay;S>0?this.totalDuration=m+x+(m+T)*S:this.totalDuration=m+x},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=r.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),f=0));var u=!1;if(this.isActive())for(var d=this.data,m=0;m<this.totalData;m++)d[m].update(f)&&(u=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),u||this.nextState();var x=this.isPendingRemove();return x&&this.persist&&(this.setFinishedState(),x=!1),x},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,u){if(!this.isSeeking){this.emit(f,this,this.targets);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(f){return this.scene.sys.tweens.add(f)}),i.register("tween",function(f){return this.scene.sys.tweens.create(f)}),c.exports=h},43960:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),p=t(70402),s=t(83419),i=t(842),n=t(44603),e=t(39429),r=t(86353),l=new s({Extends:p,initialize:function(h){p.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?r.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(i.TWEEN_ACTIVE,"onActive"),this},add:function(a){var h=this.parent.create(a);Array.isArray(h)||(h=[h]);for(var f=this.data,u=0;u<h.length;u++){var d=h[u];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(a){return o(this.data,a),a.setRemovedState(),a===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(a){for(var h=this.data,f=0;f<this.totalData;f++)if(h[f].hasTarget(a))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(a){return a.seek(),a.setActiveState(),this},makeActive:function(a){return a.reset(),a.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(i.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var a=this.data,h=this.totalData,f=0;f<h;f++)a[f].reset(!1);this.currentIndex=0,this.currentTween=a[0]},update:function(a){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;a*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(a):this.isCompleteDelayed()?this.updateCompleteDelay(a):this.isStartDelayed()&&(a=this.updateStartCountdown(a));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(a)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(a){this.currentIndex=a,this.currentTween=this.data[a],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(i.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(a,h){this.emit(a,this);var f=this.callbacks[h];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(a){return this.scene.sys.tweens.chain(a)}),n.register("tweenchain",function(a){return this.scene.sys.tweens.create(a)}),c.exports=l},48177:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),p=t(45319),s=t(83419),i=t(842),n=new s({Extends:o,initialize:function(r,l,a,h,f,u,d,m,x,S,T,C,A,b,R,F,L){o.call(this,r,l,m,x,S,T,C,A,b,R),this.key=a,this.getActiveValue=u,this.getEndValue=h,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=L},reset:function(e){o.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex],l=this.key;e&&(r[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(r[l]=this.getActiveValue(r,l,0))},update:function(e){var r=this.tween,l=r.totalTargets,a=this.targetIndex,h=r.targets[a],f=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(i.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,f,h[f],a,l,r),this.end=this.getEndValue(h,f,this.start,a,l,r),this.current=this.start,h[f]=this.start,this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var m=this.elapsed,x=this.duration,S=0,T=!1;m+=e,m>=x?(S=m-x,m=x,T=!0):m<0&&(m=0);var C=p(m/x,0,1);if(this.elapsed=m,this.progress=C,this.previous=this.current,T)u?(this.current=this.end,h[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(S)):(this.current=this.start,h[f]=this.start,this.setStateFromStart(S));else{u||(C=1-C);var A=this.ease(C);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,h[f]=this.current}this.dispatchEvent(i.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var l=this.tween;if(!l.isSeeking){var a=l.targets[this.targetIndex],h=this.key,f=this.current,u=this.previous;l.emit(e,l,h,a,f,u);var d=l.callbacks[r];d&&d.func.apply(l.callbackScope,[l,a,h,f,u].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=n},42220:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),p=t(45319),s=t(83419),i=t(842),n=new s({Extends:o,initialize:function(r,l,a,h,f,u,d,m,x,S,T){o.call(this,r,l,f,u,!1,d,m,x,S,T),this.key="texture",this.startTexture=null,this.endTexture=a,this.startFrame=null,this.endFrame=h,this.yoyo=m!==0},reset:function(e){o.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=r.texture.key,this.startFrame=r.frame.name),e&&r.setTexture(this.startTexture,this.startFrame)},update:function(e){var r=this.tween,l=this.targetIndex,a=r.targets[l];if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(i.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&a.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),f=this.isPlayingBackward();if(h||f){var u=this.elapsed,d=this.duration,m=0,x=!1;u+=e,u>=d?(m=u-d,u=d,x=!0):u<0&&(u=0);var S=p(u/d,0,1);this.elapsed=u,this.progress=S,x&&(h?(a.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(a.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(i.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var l=this.tween;if(!l.isSeeking){var a=l.targets[this.targetIndex],h=this.key;l.emit(e,l,h,a);var f=l.callbacks[r];f&&f.func.apply(l.callbackScope,[l,a,h].concat(f.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=n},86353:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=y},83419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,r){var l=r?n[e]:Object.getOwnPropertyDescriptor(n,e);return!r&&l.value&&typeof l.value=="object"&&(l=l.value),l&&y(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function o(n,e){var r=Object.getOwnPropertyDescriptor(n,e);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function p(n,e,r,l){for(var a in e)if(e.hasOwnProperty(a)){var h=t(e,a,r);if(h!==!1){var f=l||n;if(o(f.prototype,a)){if(i.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,a,h)}else n.prototype[a]=e[a]}}function s(n,e){if(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++)p(n,e[r].prototype||e[r])}}function i(n){n||(n={});var e,r;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var l=n.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,r=n.Extends,delete n.Extends):e.prototype.constructor=e;var a=null;return n.Mixins&&(a=n.Mixins,delete n.Mixins),s(e,a),p(e,n,!0,r),e}i.extend=p,i.mixin=s,i.ignoreFinals=!1,c.exports=i},29747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};c.exports=y},20242:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return null};c.exports=y},71146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i){if(i===void 0&&(i=t),p>0){var n=p-t.length;if(n<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.push(o),s&&s.call(i,o),o):null;for(var e=o.length-1;e>=0;)t.indexOf(o[e])!==-1&&o.splice(e,1),e--;if(e=o.length,e===0)return null;p>0&&e>n&&(o.splice(n),e=n);for(var r=0;r<e;r++){var l=o[r];t.push(l),s&&s.call(i,l)}return o};c.exports=y},51067:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s,i,n){if(p===void 0&&(p=0),n===void 0&&(n=t),s>0){var e=s-t.length;if(e<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.splice(p,0,o),i&&i.call(n,o),o):null;for(var r=o.length-1;r>=0;)t.indexOf(o[r])!==-1&&o.pop(),r--;if(r=o.length,r===0)return null;s>0&&r>e&&(o.splice(e),r=e);for(var l=r-1;l>=0;l--){var a=o[l];t.splice(p,0,a),i&&i.call(n,a)}return o};c.exports=y},66905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.indexOf(o);return p!==-1&&p<t.length&&(t.splice(p,1),t.push(o)),o};c.exports=y},21612:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(s,i,n,e,r){e===void 0&&(e=0),r===void 0&&(r=s.length);var l=0;if(o(s,e,r))for(var a=e;a<r;a++){var h=s[a];h[i]===n&&l++}return l};c.exports=p},95428:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s,i=[null];for(s=3;s<arguments.length;s++)i.push(arguments[s]);for(s=0;s<t.length;s++)i[0]=t[s],o.apply(p,i);return t};c.exports=y},36914:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(s,i,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=s.length),o(s,e,r)){var l,a=[null];for(l=5;l<arguments.length;l++)a.push(arguments[l]);for(l=e;l<r;l++)a[0]=s[l],i.apply(n,a)}return s};c.exports=p},81957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o.length){if(o.length===1)return o[0]}else return NaN;var s=1,i,n;if(p){if(t<o[0][p])return o[0];for(;o[s][p]<t;)s++}else for(;o[s]<t;)s++;return s>o.length&&(s=o.length),p?(i=o[s-1][p],n=o[s][p],n-t<=t-i?o[s]:o[s-1]):(i=o[s-1],n=o[s],n-t<=t-i?n:i)};c.exports=y},43491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=[]);for(var p=0;p<t.length;p++)Array.isArray(t[p])?y(t[p],o):o.push(t[p]);return o};c.exports=y},46710:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(s,i,n,e,r){e===void 0&&(e=0),r===void 0&&(r=s.length);var l=[];if(o(s,e,r))for(var a=e;a<r;a++){var h=s[a];(!i||i&&n===void 0&&h.hasOwnProperty(i)||i&&n!==void 0&&h[i]===n)&&l.push(h)}return l};c.exports=p},58731:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(s,i,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=s.length),o(s,e,r))for(var l=e;l<r;l++){var a=s[l];if(!i||i&&n===void 0&&a.hasOwnProperty(i)||i&&n!==void 0&&a[i]===n)return a}return null};c.exports=p},26546:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=0),p===void 0&&(p=t.length);var s=o+Math.floor(Math.random()*p);return t[s]===void 0?null:t[s]};c.exports=y},85835:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===p)return t;var s=t.indexOf(o),i=t.indexOf(p);if(s<0||i<0)throw new Error("Supplied items must be elements of the same array");return s>i||(t.splice(s,1),i===t.length-1?t.push(o):t.splice(i,0,o)),t};c.exports=y},83371:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===p)return t;var s=t.indexOf(o),i=t.indexOf(p);if(s<0||i<0)throw new Error("Supplied items must be elements of the same array");return s<i||(t.splice(s,1),i===0?t.unshift(o):t.splice(i,0,o)),t};c.exports=y},70864:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.indexOf(o);if(p>0){var s=t[p-1],i=t.indexOf(s);t[p]=s,t[i]=o}return t};c.exports=y},69693:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=t.indexOf(o);if(s===-1||p<0||p>=t.length)throw new Error("Supplied index out of bounds");return s!==p&&(t.splice(s,1),t.splice(p,0,o)),o};c.exports=y},40853:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.indexOf(o);if(p!==-1&&p<t.length-1){var s=t[p+1],i=t.indexOf(s);t[p]=s,t[i]=o}return t};c.exports=y},20283:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=[],n,e=!1;if((p||s)&&(e=!0,p||(p=""),s||(s="")),o<t)for(n=t;n>=o;n--)e?i.push(p+n.toString()+s):i.push(n);else for(n=t;n<=o;n++)e?i.push(p+n.toString()+s):i.push(n);return i};c.exports=y},593:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2284),p=function(s,i,n){s===void 0&&(s=0),i===void 0&&(i=null),n===void 0&&(n=1),i===null&&(i=s,s=0);for(var e=[],r=Math.max(o((i-s)/(n||1)),0),l=0;l<r;l++)e.push(s),s+=n;return e};c.exports=p},43886:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(p,s,i){var n=p[s];p[s]=p[i],p[i]=n}function t(p,s){return p<s?-1:p>s?1:0}var o=function(p,s,i,n,e){for(i===void 0&&(i=0),n===void 0&&(n=p.length-1),e===void 0&&(e=t);n>i;){if(n-i>600){var r=n-i+1,l=s-i+1,a=Math.log(r),h=.5*Math.exp(2*a/3),f=.5*Math.sqrt(a*h*(r-h)/r)*(l-r/2<0?-1:1),u=Math.max(i,Math.floor(s-l*h/r+f)),d=Math.min(n,Math.floor(s+(r-l)*h/r+f));o(p,s,u,d,e)}var m=p[s],x=i,S=n;for(y(p,i,s),e(p[n],m)>0&&y(p,i,n);x<S;){for(y(p,x,S),x++,S--;e(p[x],m)<0;)x++;for(;e(p[S],m)>0;)S--}e(p[i],m)===0?y(p,i,S):(S++,y(p,S,n)),S<=s&&(i=S+1),s<=S&&(n=S-1)}};c.exports=o},88492:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p=t(33680),s=function(n,e,r){for(var l=[],a=0;a<n.length;a++)for(var h=0;h<e.length;h++)for(var f=0;f<r;f++)l.push({a:n[a],b:e[h]});return l},i=function(n,e,r){var l=o(r,"max",0),a=o(r,"qty",1),h=o(r,"random",!1),f=o(r,"randomB",!1),u=o(r,"repeat",0),d=o(r,"yoyo",!1),m=[];if(f&&p(e),u===-1)if(l===0)u=0;else{var x=n.length*e.length*a;d&&(x*=2),u=Math.ceil(l/x)}for(var S=0;S<=u;S++){var T=s(n,e,a);h&&p(T),m=m.concat(T),d&&(T.reverse(),m=m.concat(T))}return l&&m.splice(l),m};c.exports=i},72905:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),p=function(s,i,n,e){e===void 0&&(e=s);var r;if(!Array.isArray(i))return r=s.indexOf(i),r!==-1?(o(s,r),n&&n.call(e,i),i):null;for(var l=i.length-1,a=[];l>=0;){var h=i[l];r=s.indexOf(h),r!==-1&&(o(s,r),a.push(h),n&&n.call(e,h)),l--}return a};c.exports=p},60248:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),p=function(s,i,n,e){if(e===void 0&&(e=s),i<0||i>s.length-1)throw new Error("Index out of bounds");var r=o(s,i);return n&&n.call(e,r),r};c.exports=p},81409:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(s,i,n,e,r){if(i===void 0&&(i=0),n===void 0&&(n=s.length),r===void 0&&(r=s),o(s,i,n)){var l=n-i,a=s.splice(i,l);if(e)for(var h=0;h<a.length;h++){var f=a[h];e.call(r,f)}return a}else return[]};c.exports=p},31856:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),p=function(s,i,n){i===void 0&&(i=0),n===void 0&&(n=s.length);var e=i+Math.floor(Math.random()*n);return o(s,e)};c.exports=p},42169:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=t.indexOf(o),i=t.indexOf(p);return s!==-1&&i===-1?(t[s]=p,!0):!1};c.exports=y},86003:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);for(var p=null,s=0;s<o;s++)p=t.shift(),t.push(p);return p};c.exports=y},49498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);for(var p=null,s=0;s<o;s++)p=t.pop(),t.unshift(p);return p};c.exports=y},82011:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){var i=t.length;if(o<0||o>i||o>=p||p>i){if(s)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=y},89545:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.indexOf(o);return p!==-1&&p>0&&(t.splice(p,1),t.unshift(o)),o};c.exports=y},17810:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(s,i,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=s.length),o(s,e,r))for(var l=e;l<r;l++){var a=s[l];a.hasOwnProperty(i)&&(a[i]=n)}return s};c.exports=p},33680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=t.length-1;o>0;o--){var p=Math.floor(Math.random()*(o+1)),s=t[o];t[o]=t[p],t[p]=s}return t};c.exports=y},90126:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=/\D/g;return t.sort(function(p,s){return parseInt(p.replace(o,""),10)-parseInt(s.replace(o,""),10)}),t};c.exports=y},19133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){if(!(o>=t.length)){for(var p=t.length-1,s=t[o],i=o;i<p;i++)t[i]=t[i+1];return t.length=p,s}};c.exports=y},19186:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82264);function p(e,r){return String(e).localeCompare(r)}function s(e,r){var l=e.length;if(l<=1)return e;for(var a=new Array(l),h=1;h<l;h*=2){i(e,r,h,a);var f=e;e=a,a=f}return e}function i(e,r,l,a){var h=e.length,f=0,u=l*2,d,m,x,S,T;for(d=0;d<h;d+=u)for(m=d+l,x=m+l,m>h&&(m=h),x>h&&(x=h),S=d,T=m;;)if(S<m&&T<x)r(e[S],e[T])<=0?a[f++]=e[S++]:a[f++]=e[T++];else if(S<m)a[f++]=e[S++];else if(T<x)a[f++]=e[T++];else break}var n=function(e,r){if(r===void 0&&(r=p),!e||e.length<2)return e;if(o.features.stableSort)return e.sort(r);var l=s(e,r);return l!==e&&i(l,null,e.length,e),e};c.exports=n},25630:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===p)return t;var s=t.indexOf(o),i=t.indexOf(p);if(s<0||i<0)throw new Error("Supplied items must be elements of the same array");return t[s]=p,t[i]=o,t};c.exports=y},37105:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var o=t[0].length,p=1;p<t.length;p++)if(t[p].length!==o)return!1;return!0};c.exports=y},63362:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41836),p=t(86922),s=function(i){var n="";if(!p(i))return n;for(var e=0;e<i.length;e++){for(var r=0;r<i[e].length;r++){var l=i[e][r].toString();l!=="undefined"?n+=o(l,2):n+="?",r<i[e].length-1&&(n+=" |")}if(e<i.length-1){n+=`
`;for(var a=0;a<i[e].length;a++)n+="---",a<i[e].length-1&&(n+="+");n+=`
`}}return n};c.exports=s},92598:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.reverse()};c.exports=y},21224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0;o<t.length;o++)t[o].reverse();return t};c.exports=y},98717:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),p=function(s){return o(s,180)};c.exports=p},44657:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),p=function(s,i){i===void 0&&(i=1);for(var n=0;n<i;n++)s=o(s,90);return s};c.exports=p},37829:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86922),p=t(2429),s=function(i,n){if(n===void 0&&(n=90),!o(i))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")i=p(i),i.reverse();else if(n===-90||n===270||n==="rotateRight")i.reverse(),i=p(i);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<i.length;e++)i[e].reverse();i.reverse()}return i};c.exports=s},92632:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),p=function(s,i){i===void 0&&(i=1);for(var n=0;n<i;n++)s=o(s,-90);return s};c.exports=p},69512:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86003),p=t(49498),s=function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?o(i,Math.abs(e)):p(i,e)),n!==0)for(var r=0;r<i.length;r++){var l=i[r];n<0?o(l,Math.abs(n)):p(l,n)}return i};c.exports=s},2429:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=t.length,p=t[0].length,s=new Array(p),i=0;i<p;i++){s[i]=new Array(o);for(var n=o-1;n>-1;n--)s[i][n]=t[n][i]}return s};c.exports=y},54915:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(o,p){for(var s=new Uint8Array(o),i=s.length,n=p?"data:"+p+";base64,":"",e=0;e<i;e+=3)n+=y[s[e]>>2],n+=y[(s[e]&3)<<4|s[e+1]>>4],n+=y[(s[e+1]&15)<<2|s[e+2]>>6],n+=y[s[e+2]&63];return i%3===2?n=n.substring(0,n.length-1)+"=":i%3===1&&(n=n.substring(0,n.length-2)+"=="),n};c.exports=t},53134:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),o=0;o<y.length;o++)t[y.charCodeAt(o)]=o;var p=function(s){s=s.substr(s.indexOf(",")+1);var i=s.length,n=i*.75,e=0,r,l,a,h;s[i-1]==="="&&(n--,s[i-2]==="="&&n--);for(var f=new ArrayBuffer(n),u=new Uint8Array(f),d=0;d<i;d+=4)r=t[s.charCodeAt(d)],l=t[s.charCodeAt(d+1)],a=t[s.charCodeAt(d+2)],h=t[s.charCodeAt(d+3)],u[e++]=r<<2|l>>4,u[e++]=(l&15)<<4|a>>2,u[e++]=(a&3)<<6|h&63;return f};c.exports=p},65839:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={};for(var p in t)Array.isArray(t[p])?o[p]=t[p].slice(0):o[p]=t[p];return o};c.exports=y},62644:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o,p,s;if(typeof t!="object"||t===null)return t;o=Array.isArray(t)?[]:{};for(s in t)p=t[s],o[s]=y(p);return o};c.exports=y},79291:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41212),p=function(){var s,i,n,e,r,l,a=arguments[0]||{},h=1,f=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},h=2),f===h&&(a=this,--h);h<f;h++)if((s=arguments[h])!=null)for(i in s)n=a[i],e=s[i],a!==e&&(u&&e&&(o(e)||(r=Array.isArray(e)))?(r?(r=!1,l=n&&Array.isArray(n)?n:[]):l=n&&o(n)?n:{},a[i]=p(u,l,e)):e!==void 0&&(a[i]=e));return a};c.exports=p},23568:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75508),p=t(35154),s=function(i,n,e){var r=p(i,n,null);if(r===null)return e;if(Array.isArray(r))return o.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return o.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return o.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(n);return r};c.exports=s},95540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var s=typeof t;return!t||s==="number"||s==="string"?p:t.hasOwnProperty(o)&&t[o]!==void 0?t[o]:p};c.exports=y},82840:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p=t(45319),s=function(i,n,e,r,l){l===void 0&&(l=e);var a=o(i,n,l);return p(a,e,r)};c.exports=s},35154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){if(!t&&!s||typeof t=="number")return p;if(t&&t.hasOwnProperty(o))return t[o];if(s&&s.hasOwnProperty(o))return s[o];if(o.indexOf(".")!==-1){for(var i=o.split("."),n=t,e=s,r=p,l=p,a=!0,h=!0,f=0;f<i.length;f++)n&&n.hasOwnProperty(i[f])?(r=n[i[f]],n=n[i[f]]):a=!1,e&&e.hasOwnProperty(i[f])?(l=e[i[f]],e=e[i[f]]):h=!1;return a?r:h?l:p}else return p};c.exports=y},69036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var p=0;p<o.length;p++)if(!t.hasOwnProperty(o[p]))return!1;return!0};c.exports=y},1985:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var p=0;p<o.length;p++)if(t.hasOwnProperty(o[p]))return!0;return!1};c.exports=y},97022:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.hasOwnProperty(o)};c.exports=y},41212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=y},46975:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),p=function(s,i){var n=o(s);for(var e in i)n.hasOwnProperty(e)||(n[e]=i[e]);return n};c.exports=p},269:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),p=function(s,i){var n=o(s);for(var e in i)n.hasOwnProperty(e)&&(n[e]=i[e]);return n};c.exports=p},18254:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97022),p=function(s,i){for(var n={},e=0;e<i.length;e++){var r=i[e];o(s,r)&&(n[r]=s[r])}return n};c.exports=p},61622:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(o))return t[o]=p,!0;if(o.indexOf(".")!==-1){for(var s=o.split("."),i=t,n=t,e=0;e<s.length;e++)if(i.hasOwnProperty(s[e]))n=i,i=i[s[e]];else return!1;return n[s[s.length-1]]=p,!0}return!1};c.exports=y},1183:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.replace(/%([0-9]+)/g,function(p,s){return o[Number(s)-1]})};c.exports=y},41836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,s){o===void 0&&(o=0),p===void 0&&(p=" "),s===void 0&&(s=3),t=t.toString();var i=0;if(o+1>=t.length)switch(s){case 1:t=new Array(o+1-t.length).join(p)+t;break;case 3:var n=Math.ceil((i=o-t.length)/2),e=i-n;t=new Array(e+1).join(p)+t+new Array(n+1).join(p);break;default:t=t+new Array(o+1-t.length).join(p);break}return t};c.exports=y},33628:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===0?t.slice(1):t.slice(0,o-1)+t.slice(o)};c.exports=y},27671:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.split("").reverse().join("")};c.exports=y},45650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=Math.random()*16|0,p=t==="x"?o:o&3|8;return p.toString(16)})};c.exports=y},35355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t&&t[0].toUpperCase()+t.slice(1)};c.exports=y},31749:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},E={};function M(c){var y=E[c];if(y!==void 0)return y.exports;var t=E[c]={exports:{}};return g[c](t,t.exports,M),t.exports}M.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var P=M(85454);return P})())})(yu);var vs=yu.exports;function Ap(w){let v,g,E=`<div class="spinner-border svelte-v2081u" role="status"></div>
    Connecting...`,M,P,c,y,t="";return{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),P=Q("div"),c=Q("div"),y=Q("div"),y.innerHTML=t,this.h()},l(o){v=q(o,"DIV",{class:!0});var p=nt(v);g=q(p,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-q21l6j"&&(g.innerHTML=E),M=ht(p),P=q(p,"DIV",{class:!0});var s=nt(P);c=q(s,"DIV",{class:!0});var i=nt(c);y=q(i,"DIV",{class:!0,"data-svelte-h":!0}),Rt(y)!=="svelte-bclbik"&&(y.innerHTML=t),i.forEach(k),s.forEach(k),p.forEach(k),this.h()},h(){Y(g,"class","loader svelte-v2081u"),Y(y,"class","gamerender-canvas"),Y(c,"class","gamerender svelte-v2081u"),Y(P,"class","aspected svelte-v2081u"),Y(v,"class","gamearea svelte-v2081u")},m(o,p){dt(o,v,p),V(v,g),V(v,M),V(v,P),V(P,c),V(c,y),w[3](y)},p:jt,i:jt,o:jt,d(o){o&&k(v),w[3](null)}}}function wp(w,v,g){let E,M=jt,P=()=>(M(),M=ds(y,p=>g(4,E=p)),y);w.$$.on_destroy.push(()=>M());let{minigame:c}=v,y,t;ti(()=>(P(g(0,y=c.resetInstance())),c.sounds.start.play(),t.appendChild(E.canvas),()=>{}));function o(p){Vi[p?"unshift":"push"](()=>{t=p,g(1,t)})}return w.$$set=p=>{"minigame"in p&&g(2,c=p.minigame)},[y,t,c,o]}class Mp extends Se{constructor(v){super(),Ee(this,v,wp,Ap,Te,{minigame:2})}}function bp(w){let v,g=`Pepe, Hop!
  <img src="/pics/emotes/gigalul.webp" alt="MEGALUL" class="svelte-oabnnr"/> <img src="/pics/emotes/pphop.webp" alt="MEGALUL" class="svelte-oabnnr"/>`;return{c(){v=Q("h2"),v.innerHTML=g,this.h()},l(E){v=q(E,"H2",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1hkv57y"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","svelte-oabnnr")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}class Pp extends Se{constructor(v){super(),Ee(this,v,null,bp,Te,{})}}class Rp extends qs{constructor(){super("flappy-bird"),this.title="Pepe, Hop!",this.icon="/pics/flappy-bird/pp.png",this.chatMessages=["ppHop","ppHop","ppHop","ppHopper","ppHopper"],this.minStartsToTry=3,this.minTimeToPlay=15e4,this.gameDuration=1e4,this.overtimeDuration=te(5,8),this.allowsTrainingMode=!1,this.controls.space="Press to jump",this.mainMenuImage="/pics/backdrops/flappy-bird-menu.webp",this.components.game=Mp,this.components.mainMenuTitle=Pp,this.ost=new Cs("flappy-bird-ost","/sounds/music/flappy-bird-ost.mp3"),this.sounds={start:new Ye("flappy-bird-start","/sounds/egg-rush/start.mp3"),hop:new Ye("flappy-bird-jump","/sounds/flappy-bird/jump.mp3"),death:new Ye("flappy-bird-dead","/sounds/flappy-bird/dead.mp3")},this.game=ii(null)}getInstance(){return this.game}resetInstance(){return this.game.update(v=>{if(!v){const g=Ip();return g.__minigame=this,g}return v.resume(),v}),this.game}startMusic(){this.ost&&(this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play())}pauseMusic(){this.ost&&this.ost.pause()}stopMusic(){this.ost&&this.ost.stop().unload()}toMenu(){return this.startMusic(),super.toMenu()}pauseGame(){return this.pauseMusic(),this.game.update(v=>(v&&v.pause(),v)),this}resumeGame(){return this.ost.isLoaded()?this.ost.play():this.startMusic(),this.game.update(v=>(v&&v.resume(),v)),this}destroy(){return this.stopMusic(),this.ost=null,this.game.update(v=>(v&&v.destroy(),v)),super.destroy()}}const ve={bird:null,pipes:null,cursors:null,scoreText:null,pipeBuilder:null,ground:null,score:0,jump:!1,gameOver:!1,config:{type:vs.AUTO,width:1280,height:720,physics:{default:"arcade",arcade:{gravity:{y:1200},debug:Js}},scene:{preload:Lp,create:Fp,update:Dp}}};function Lp(){this.load.image("background","/pics/backdrops/flappy-bird-menu.webp"),this.load.image("bird","/pics/flappy-bird/pp.png"),this.load.image("pipe","/pics/flappy-bird/pipe.png"),this.load.image("ground","/pics/flappy-bird/ground.png")}function Fp(){this.add.image(ve.config.width/2,ve.config.height/2,"background"),ve.score=0,ve.jump=!1,ve.gameOver=!1,ve.scoreText=this.add.text(ve.config.width*.9,ve.config.height/2,"0",{fontSize:"64px",fill:"#000"}),ve.scoreText.setOrigin(.5,.5),ve.scoreText.setDepth(50),ve.bird=this.physics.add.sprite(100,450,"bird"),ve.bird.setCollideWorldBounds(!0),ve.bird.setScale(.7),ve.bird.setDepth(10),ve.bird.setVelocityY(-ve.config.height),ve.pipes=this.physics.add.group({allowGravity:!1,immovable:!0}),this.physics.add.collider(ve.bird,ve.pipes,dl,null,this),ve.cursors=this.input.keyboard.createCursorKeys(),ve.pipeBuilder=this.time.addEvent({delay:3e3,callback:Tu,callbackScope:this,loop:!0}),ve.ground=this.physics.add.group({allowGravity:!1,immovable:!0});for(let w=0;w<4;w++){const v=ve.config.width*w,g=ve.ground.create(v,ve.config.height-8,"ground");g.__startX=v,g.setVelocityX(-.3*ve.config.width)}this.physics.add.collider(ve.bird,ve.ground,dl,null,this)}function Tu(){const w=ve.config.height*.28,v=ve.config.height/15,g=te(1,9);for(let E=0;E<2;E++){const M=w*E+v*g;Op(E,ve.config.width,M)}}function Op(w,v,g){let E=ve.pipes.create(v,g,"pipe");E.setOrigin(0,1-w),E.setVelocityX(-.3*ve.config.width),E.checkWorldBounds=!0,E.outOfBoundsKill=!0,E.on("destroy",function(){ve.score+=w,ve.scoreText.setText(ve.score),w&&(ve.score>0&&ve.score%10===0&&(this.scene.game.__minigame.modifier.modifyLoyalty(4+Math.floor(ve.score/10)),de.spawner.queueEventfulMessages("hype",te(1,2))),ve.score===5&&ve.pipeBuilder.reset({delay:1500,callback:Tu,callbackScope:this,loop:!0}))})}function Dp(){!ve.gameOver&&ve.cursors.space.isDown?ve.jump||(ve.jump=!0,ve.bird.setVelocityY(-.4*ve.config.physics.arcade.gravity.y),this.game.__minigame.sounds.hop.play()):ve.jump=!1,vs.Actions.Call(ve.pipes.getChildren(),function(w){w.x<-w.width&&w.destroy()},this),vs.Actions.Call(ve.ground.getChildren(),function(w){w.x<-w.width&&(w.x=ve.config.width*2)},this),ve.bird.body.bottom>=ve.config.height&&Su.apply(this)}function dl(){Su.apply(this)}function Su(){ve.gameOver||(ve.gameOver=!0,console.log("PPHOP: Game Over"),ve.pipes.children.iterate(function(w){w==null||w.setVelocityX(0)}),ve.ground.children.iterate(function(w){w==null||w.setVelocityX(0)}),ve.pipeBuilder.remove(),ve.bird.body.checkCollision.none=!0,ve.bird.body.collideWorldBounds=!1,ve.bird.setAngle(160),ve.bird.setVelocity(.3*ve.config.width,-ve.config.height),ve.bird.setTint(16742263),this.game.__minigame.pauseMusic(),this.game.__minigame.sounds.death.play(),this.game.__minigame.modifier.modifyRage(te(10,20)),de.spawner.queueEventfulMessages("fail",4),new ri(()=>{this.game.__minigame.toMenu(),this.game.pause(),this.scene.restart()},3e3))}function Ip(){return new vs.Game(ve.config)}function cl(w,v,g){const E=w.slice();return E[14]=v[g],E}function vl(w){let v,g;return{c(){v=Q("img"),this.h()},l(E){v=q(E,"IMG",{src:!0,alt:!0,title:!0,class:!0}),this.h()},h(){Ae(v.src,g=`/pics/forsenga/${w[14]}.png`)||Y(v,"src",g),Y(v,"alt",w[14]),Y(v,"title",w[14]),Y(v,"class","svelte-1jid1y8"),pe(v,"opacity-25",w[14]>w[5])},m(E,M){dt(E,v,M)},p(E,M){M&2080&&pe(v,"opacity-25",E[14]>E[5])},d(E){E&&k(v)}}}function pl(w){let v,g="GAME ☠️ OVER",E,M;return{c(){v=Q("div"),v.textContent=g,this.h()},l(P){v=q(P,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-jb34fx"&&(v.textContent=g),this.h()},h(){Y(v,"class","gameover svelte-1jid1y8")},m(P,c){dt(P,v,c),M=!0},i(P){M||(P&&$e(()=>{M&&(E||(E=yi(v,$i,{duration:500},!0)),E.run(1))}),M=!0)},o(P){P&&(E||(E=yi(v,$i,{duration:500},!1)),E.run(0)),M=!1},d(P){P&&k(v),P&&E&&E.end()}}}function Bp(w){let v,g,E='<img src="/pics/backdrops/forsenga.webp" alt="backdrop" class="svelte-1jid1y8"/>',M,P,c=`<div class="spinner-border svelte-1jid1y8" role="status"></div>
    Loading...`,y,t,o,p,s="",i,n,e,r,l,a,h="Next up:",f,u,d,m,x,S,T,C="Progression:",A,b,R,F,L,O,I="Score:",B,U,H=(w[6]|0)+"",J,tt,X,j='<div class="stat-caption svelte-1jid1y8">Forsen:</div> <div class="stat-value forsen svelte-1jid1y8"><img src="/pics/forsenga/forsen.png" alt="forsen" class="svelte-1jid1y8"/></div>',D,z=ke(w[11]),$=[];for(let Z=0;Z<z.length;Z+=1)$[Z]=vl(cl(w,z,Z));let K=w[3]>w[0].timeToGameOver&&pl();return{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),P=Q("div"),P.innerHTML=c,y=lt(),t=Q("div"),o=Q("div"),p=Q("div"),p.innerHTML=s,i=lt(),n=Q("div"),e=lt(),r=Q("div"),l=Q("div"),a=Q("div"),a.textContent=h,f=lt(),u=Q("div"),d=Q("img"),x=lt(),S=Q("div"),T=Q("div"),T.textContent=C,A=lt(),b=Q("div");for(let Z=0;Z<$.length;Z+=1)$[Z].c();R=lt(),F=Q("div"),L=Q("div"),O=Q("div"),O.textContent=I,B=lt(),U=Q("div"),J=mt(H),tt=lt(),X=Q("div"),X.innerHTML=j,D=lt(),K&&K.c(),this.h()},l(Z){v=q(Z,"DIV",{class:!0});var it=nt(v);g=q(it,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-jfmrbw"&&(g.innerHTML=E),M=ht(it),P=q(it,"DIV",{class:!0,"data-svelte-h":!0}),Rt(P)!=="svelte-x5eqwj"&&(P.innerHTML=c),y=ht(it),t=q(it,"DIV",{class:!0});var st=nt(t);o=q(st,"DIV",{class:!0});var at=nt(o);p=q(at,"DIV",{class:!0,"data-svelte-h":!0}),Rt(p)!=="svelte-bclbik"&&(p.innerHTML=s),i=ht(at),n=q(at,"DIV",{class:!0}),nt(n).forEach(k),at.forEach(k),st.forEach(k),e=ht(it),r=q(it,"DIV",{class:!0});var ut=nt(r);l=q(ut,"DIV",{class:!0});var vt=nt(l);a=q(vt,"DIV",{class:!0,"data-svelte-h":!0}),Rt(a)!=="svelte-aqgqr2"&&(a.textContent=h),f=ht(vt),u=q(vt,"DIV",{class:!0});var xt=nt(u);d=q(xt,"IMG",{src:!0,alt:!0,class:!0}),xt.forEach(k),vt.forEach(k),x=ht(ut),S=q(ut,"DIV",{class:!0});var Et=nt(S);T=q(Et,"DIV",{class:!0,"data-svelte-h":!0}),Rt(T)!=="svelte-7s069x"&&(T.textContent=C),A=ht(Et),b=q(Et,"DIV",{class:!0});var yt=nt(b);for(let Nt=0;Nt<$.length;Nt+=1)$[Nt].l(yt);yt.forEach(k),Et.forEach(k),ut.forEach(k),R=ht(it),F=q(it,"DIV",{class:!0});var bt=nt(F);L=q(bt,"DIV",{class:!0});var Dt=nt(L);O=q(Dt,"DIV",{class:!0,"data-svelte-h":!0}),Rt(O)!=="svelte-1091o9a"&&(O.textContent=I),B=ht(Dt),U=q(Dt,"DIV",{class:!0});var Vt=nt(U);J=gt(Vt,H),Vt.forEach(k),Dt.forEach(k),tt=ht(bt),X=q(bt,"DIV",{class:!0,"data-svelte-h":!0}),Rt(X)!=="svelte-qpolyx"&&(X.innerHTML=j),bt.forEach(k),D=ht(it),K&&K.l(it),it.forEach(k),this.h()},h(){Y(g,"class","backdrop svelte-1jid1y8"),Y(P,"class","loader svelte-1jid1y8"),Y(p,"class","gamerender-canvas"),Y(n,"class","game-over-strip svelte-1jid1y8"),pe(n,"visually-hidden",w[3]<0),Ht(n,"width",je(100*w[3]/w[0].timeToGameOver)),Y(o,"class","gamerender svelte-1jid1y8"),Y(t,"class","aspected svelte-1jid1y8"),Y(a,"class","stat-caption svelte-1jid1y8"),Ae(d.src,m=`/pics/forsenga/${w[4]}.png`)||Y(d,"src",m),Y(d,"alt",w[4]),Y(d,"class","svelte-1jid1y8"),Y(u,"class","stat-value next svelte-1jid1y8"),Y(l,"class","stat svelte-1jid1y8"),Y(T,"class","stat-caption svelte-1jid1y8"),Y(b,"class","stat-value list svelte-1jid1y8"),Y(S,"class","stat svelte-1jid1y8"),Y(r,"class","stats left svelte-1jid1y8"),Y(O,"class","stat-caption svelte-1jid1y8"),Y(U,"class","stat-value mono svelte-1jid1y8"),Y(L,"class","stat svelte-1jid1y8"),Y(X,"class","stat svelte-1jid1y8"),Y(F,"class","stats right svelte-1jid1y8"),Y(v,"class","gamearea svelte-1jid1y8")},m(Z,it){dt(Z,v,it),V(v,g),V(v,M),V(v,P),V(v,y),V(v,t),V(t,o),V(o,p),w[12](p),V(o,i),V(o,n),V(v,e),V(v,r),V(r,l),V(l,a),V(l,f),V(l,u),V(u,d),V(r,x),V(r,S),V(S,T),V(S,A),V(S,b);for(let st=0;st<$.length;st+=1)$[st]&&$[st].m(b,null);V(v,R),V(v,F),V(F,L),V(L,O),V(L,B),V(L,U),V(U,J),V(F,tt),V(F,X),V(v,D),K&&K.m(v,null)},p(Z,[it]){if(it&8&&pe(n,"visually-hidden",Z[3]<0),it&9&&Ht(n,"width",je(100*Z[3]/Z[0].timeToGameOver)),it&16&&!Ae(d.src,m=`/pics/forsenga/${Z[4]}.png`)&&Y(d,"src",m),it&16&&Y(d,"alt",Z[4]),it&2080){z=ke(Z[11]);let st;for(st=0;st<z.length;st+=1){const at=cl(Z,z,st);$[st]?$[st].p(at,it):($[st]=vl(at),$[st].c(),$[st].m(b,null))}for(;st<$.length;st+=1)$[st].d(1);$.length=z.length}it&64&&H!==(H=(Z[6]|0)+"")&&ee(J,H),Z[3]>Z[0].timeToGameOver?K?it&9&&Tt(K,1):(K=pl(),K.c(),Tt(K,1),K.m(v,null)):K&&(Oe(),wt(K,1,1,()=>{K=null}),De())},i(Z){Tt(K)},o(Z){wt(K)},d(Z){Z&&k(v),w[12](null),Ii($,Z),K&&K.d()}}}function Gp(w,v,g){let E,M=jt,P=()=>(M(),M=ds(r,f=>g(13,E=f)),r),c,y,t,o;w.$$.on_destroy.push(()=>M());let{minigame:p}=v;const s=p.score;Ve(w,s,f=>g(6,o=f));const i=p.nextPiece;Ve(w,i,f=>g(4,y=f));const n=p.maxLevel;Ve(w,n,f=>g(5,t=f));const e=p.gameOverTimer;Ve(w,e,f=>g(3,c=f));let r,l;const a=new Array(15).fill(1).map((f,u)=>u+f);ti(()=>(P(g(1,r=p.resetInstance())),l.appendChild(E.canvas),()=>{}));function h(f){Vi[f?"unshift":"push"](()=>{l=f,g(2,l)})}return w.$$set=f=>{"minigame"in f&&g(0,p=f.minigame)},[p,r,l,c,y,t,o,s,i,n,e,a,h]}class Np extends Se{constructor(v){super(),Ee(this,v,Gp,Bp,Te,{minigame:0})}}function Vp(w){let v,g=`<img src="/pics/forsenga/icon.png" alt="forsenGa"/>
  The
  <b class="svelte-1bncmq1">ForsenGa</b>
  Game`;return{c(){v=Q("h2"),v.innerHTML=g,this.h()},l(E){v=q(E,"H2",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-so9yj6"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","svelte-1bncmq1")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}class zp extends Se{constructor(v){super(),Ee(this,v,null,Vp,Te,{})}}class Up extends qs{constructor(){super("flappy-bird"),this.title="forsenGa",this.icon="/pics/forsenga/icon.png",this.chatMessages=["forsenD","forsenE","GOLDEN LEGENDARY forsenE PagMan","PauseMan forsenPirate ?","PauseMan forsenE ?","PauseMan diamond forsenE ?","forsenPls forsenDiscoSnake","forsenPls forsenDiscoSnake","forsenPls forsenDiscoSnake","forsenPls forsenDiscoSnake","SourPls forsenDiscoSnake","forsenPls SourPls","forsenPls","forsenDiscoSnake"],this.minStartsToTry=3,this.minTimeToPlay=6e4*5,this.overtimeDuration=te(12,25),this.gameDuration=45e3,this.looksLikeMultiplayerGame=!1,this.allowsTrainingMode=!1,this.controls.mouse="Drag and drop balls to stack",this.mainMenuImage="/pics/backdrops/forsenga.webp",this.components.game=Np,this.components.mainMenuTitle=zp,this.ost=new Cs("forsenga-ost","/sounds/music/forsenga-ost.mp3"),this.sounds={click:new Ye("forsenga-click","/sounds/forsenga/click.mp3"),crack:new Ye("forsenga-crack","/sounds/forsenga/break.mp3")},this.game=ii(null),this.score=ki(0,{duration:1e3}),this.gameOverTimer=ki(-500,{duration:500}),this.nextPiece=ii(1),this.maxLevel=ii(3),this.timeToGameOver=3e3,this.maxLevel.subscribe(v=>{this.timeToGameOver=v*1e3})}init(){return super.init(),this._startCount=1,this}getInstance(){return this.game}resetInstance(){return this.game.update(v=>{if(!v){const g=kp();return g.__minigame=this,g}return v.resume(),v}),this.game}startMusic(){this.ost&&(this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play())}pauseMusic(){this.ost&&this.ost.pause()}stopMusic(){this.ost&&this.ost.stop().unload()}toMenu(){return this.startMusic(),this.score.set(0),this.gameOverTimer.set(-500),this.nextPiece.set(1),this.maxLevel.set(3),super.toMenu()}pauseGame(){return this.pauseMusic(),this.game.update(v=>(v&&v.pause(),v)),this}resumeGame(){return this.ost.isLoaded()?this.ost.play():this.startMusic(),this.game.update(v=>(v&&v.resume(),v)),this}destroy(){return this.stopMusic(),this.ost=null,this.game.update(v=>(v&&v.destroy(),v)),super.destroy()}}const ze={maxLevel:10,nextPiece:1,gameOver:!1,gameOverTimer:-500,zone:null,fruitsInZone:new Set,fruits:new Set,config:{type:Phaser.AUTO,width:960,height:1280,scene:{preload:Xp,create:Yp,update:Wp},physics:{default:"matter",matter:{gravity:{y:1},debug:Js}}}};function Xp(){this.load.image("background","/pics/forsenga/background.png"),this.load.image("overflow","/pics/forsenga/overflow.png"),this.load.spritesheet("fireworks","/pics/forsenga/firework.png",{frameWidth:64,frameHeight:64});for(let w=1;w<=ze.maxLevel;w++)this.load.image(`ga${w}`,`/pics/forsenga/${w}.png`)}function Yp(){this.add.image(ze.config.width/2,ze.config.height/2,"background"),this.anims.create({key:"explode",frames:this.anims.generateFrameNumbers("fireworks",{start:0,end:7}),frameRate:10,repeat:0}),ze.zone=this.matter.add.image(ze.config.width/2,128,"overflow",null,{isStatic:!0,isSensor:!0,ignoreGravity:!0}),this.matter.world.engine.timing.timeScale=.5,this.matter.world.setBounds(0,0,ze.config.width,ze.config.height),ze.gameOverTimer=-500,ze.gameOver=!1,ze.fruits.clear(),ze.fruitsInZone.clear(),ze.nextPiece=1,this.time.addEvent({delay:2e3,callback:ml,callbackScope:this}),this.input.on("drag",(v,g,E,M)=>{g.x=E}),this.input.on("dragend",(v,g)=>{g.__lvl&&(g.setInteractive(!1),this.input.setDraggable(g,!1),g.setIgnoreGravity(!1),this.time.addEvent({delay:2e3,callback:ml,callbackScope:this}))});const w=qn(50,()=>this.game.__minigame.sounds.click.play(),{noTrailing:!0});this.matter.world.on(vs.Physics.Matter.Events.COLLISION_START,function(v){var g,E,M,P;for(const c of v.pairs)if((g=c.bodyA.gameObject)!=null&&g.__lvl||(E=c.bodyB.gameObject)!=null&&E.__lvl){if(c.bodyA===ze.zone.body||c.bodyB===ze.zone.body){const y=c.bodyA===ze.zone.body?c.bodyB:c.bodyA;ze.fruitsInZone.add(y.gameObject);continue}else w();(M=c.bodyA.gameObject)!=null&&M.__lvl&&((P=c.bodyB.gameObject)!=null&&P.__lvl)&&$p.call(this,c.bodyA.gameObject,c.bodyB.gameObject)}},this),this.matter.world.on(vs.Physics.Matter.Events.COLLISION_END,function(v){var g,E;for(const M of v.pairs)if((M.bodyA===ze.zone.body||M.bodyB===ze.zone.body)&&((g=M.bodyA.gameObject)!=null&&g.__lvl||(E=M.bodyB.gameObject)!=null&&E.__lvl)){const P=M.bodyA===ze.zone.body?M.bodyB:M.bodyA;ze.fruitsInZone.delete(P.gameObject)}},this),this.time.addEvent({loop:!0,delay:500,callback:()=>{ze.fruitsInZone.size>0?ze.gameOverTimer+=500:ze.gameOverTimer=-500,this.game.__minigame.gameOverTimer.set(ze.gameOverTimer).then(()=>{ze.gameOverTimer>this.game.__minigame.timeToGameOver&&Hp.call(this)})}})}function Eu(w=480,v=32,g=1,E=!1){const M="ga"+Math.min(g,ze.maxLevel),P=1+.5*g,c=this.add.sprite(0,0,M).setScale(P),y=c.width*P/2,t=this.make.graphics({x:0,y:0,add:!1});t.fillStyle(16777215),t.fillCircle(w,v,y);const o=t.createGeometryMask();c.setMask(o);const p=this.add.container(w,v,[c]),s=this.matter.add.gameObject(p,{shape:{type:"circle",radius:y}});return s.__lvl=g,s.__children={radius:y,mask:o,shape:t,container:p,image:c},s.setMass(P),E&&(s.setIgnoreGravity(!0),s.setInteractive(new vs.Geom.Circle(s.width/2,s.height/2,y),vs.Geom.Circle.Contains),this.input.setDraggable(s)),ze.fruits.add(s),s}function ml(){const w=ze.nextPiece;return ze.nextPiece=te(1,3),this.game.__minigame.nextPiece.set(ze.nextPiece),Eu.call(this,ze.config.width/2,ze.config.height*.1,w,!0)}function $p(w,v){if(w.__lvl===v.__lvl){const g=w.__lvl+1,E=(w.x+v.x)/2,M=(w.y+v.y)/2;this.game.__minigame.score.update(c=>{const y=c+g+w.__lvl+v.__lvl;return(y/1e3|0)>(c/1e3|0)&&this.game.__minigame.modifier.modifyLoyalty(te(5,7)),y}),this.game.__minigame.maxLevel.update(c=>{const y=Math.max(c,g);return y>c&&y>5&&this.game.__minigame.modifier.modifyLoyalty(g),y}),ze.fruits.delete(w),ze.fruitsInZone.delete(w),w.destroy(),ze.fruits.delete(v),ze.fruitsInZone.delete(v),v.destroy(),this.game.__minigame.sounds.crack.play();const P=Eu.call(this,E,M,g);if(g>3){const c=this.add.sprite(0,0,"fireworks");P.__children.container.add(c),c.setScale(1+.5*g),c.play("explode"),c.on("animationcomplete",()=>c.destroy(),this)}}}function Wp(){ze.fruits.forEach(w=>{w.__children.shape.clear(),w.__children.shape.fillCircle(w.__children.container.x,w.__children.container.y,w.__children.radius)})}function Hp(){ze.gameOver||(ze.gameOver=!0,console.log("FORSENGA: Game Over"),this.game.pause(),this.game.__minigame.pauseMusic(),this.game.__minigame.modifier.modifyRage(te(18,28)),de.spawner.queueEventfulMessages("fail",4),new ri(()=>{this.game.__minigame.toMenu(),this.scene.restart()},3e3))}function kp(){return new vs.Game(ze.config)}function gl(w,v,g){const E=w.slice();return E[21]=v[g],E}function xl(w){let v,g,E='<img src="/pics/rps/battle.webp" alt="backdrop" class="svelte-bv1smc"/>',M,P,c,y,t=w[7].left.profile.name+"",o,p,s,i=w[7].left.livesString+"",n,e,r,l,a,h,f,u,d,m,x=w[7].right.profile.name+"",S,T,C,A=w[7].right.livesString+"",b,R,F,L,O,I,B,U,H,J,tt,X,j='<img src="/pics/rps/left.webp" alt="left-fighter" class="svelte-bv1smc"/>',D,z,$,K,Z,it,st,at,ut='<img src="/pics/rps/right.webp" alt="right-fighter" class="svelte-bv1smc"/>',vt,xt,Et,yt,bt,Dt,Vt,Nt,Mt,It,Lt=w[0]&&yl(w);function kt(At,Ft){return At[5]?Kp:jp}let qt=kt(w),se=qt(w);function ie(At,Ft){return At[5]?Jp:Zp}let oe=ie(w),zt=oe(w),Zt=w[4]&&!w[5]&&w[7].player&&El(w),Bt=w[4]&&!w[5]&&w[7].right.isChat&&Cl(w),Ot=w[2]&&wl(w),St=w[3]&&Ml(w);return{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),P=Q("div"),c=Q("div"),y=Q("div"),o=mt(t),p=lt(),s=Q("div"),n=mt(i),e=lt(),r=Q("div"),l=Q("img"),u=lt(),d=Q("div"),m=Q("div"),S=mt(x),T=lt(),C=Q("div"),b=mt(A),R=lt(),F=Q("div"),L=Q("img"),U=lt(),Lt&&Lt.c(),H=lt(),J=Q("div"),tt=Q("div"),X=Q("div"),X.innerHTML=j,D=lt(),z=Q("div"),se.c(),$=lt(),K=Q("img"),it=lt(),st=Q("div"),at=Q("div"),at.innerHTML=ut,vt=lt(),xt=Q("div"),zt.c(),Et=lt(),yt=Q("img"),Dt=lt(),Zt&&Zt.c(),Vt=lt(),Bt&&Bt.c(),Nt=lt(),Ot&&Ot.c(),Mt=lt(),St&&St.c(),this.h()},l(At){v=q(At,"DIV",{class:!0});var Ft=nt(v);g=q(Ft,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-1mdqn4n"&&(g.innerHTML=E),M=ht(Ft),P=q(Ft,"DIV",{class:!0});var ae=nt(P);c=q(ae,"DIV",{class:!0});var Qt=nt(c);y=q(Qt,"DIV",{class:!0});var xe=nt(y);o=gt(xe,t),xe.forEach(k),p=ht(Qt),s=q(Qt,"DIV",{class:!0});var ye=nt(s);n=gt(ye,i),ye.forEach(k),e=ht(Qt),r=q(Qt,"DIV",{class:!0});var we=nt(r);l=q(we,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),we.forEach(k),Qt.forEach(k),u=ht(ae),d=q(ae,"DIV",{class:!0});var $t=nt(d);m=q($t,"DIV",{class:!0});var re=nt(m);S=gt(re,x),re.forEach(k),T=ht($t),C=q($t,"DIV",{class:!0});var be=nt(C);b=gt(be,A),be.forEach(k),R=ht($t),F=q($t,"DIV",{class:!0});var Ie=nt(F);L=q(Ie,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),Ie.forEach(k),$t.forEach(k),U=ht(ae),Lt&&Lt.l(ae),ae.forEach(k),H=ht(Ft),J=q(Ft,"DIV",{class:!0});var Fe=nt(J);tt=q(Fe,"DIV",{class:!0});var ce=nt(tt);X=q(ce,"DIV",{class:!0,"data-svelte-h":!0}),Rt(X)!=="svelte-1d4w8d2"&&(X.innerHTML=j),D=ht(ce),z=q(ce,"DIV",{class:!0});var Me=nt(z);se.l(Me),$=ht(Me),K=q(Me,"IMG",{src:!0,alt:!0,class:!0}),Me.forEach(k),ce.forEach(k),it=ht(Fe),st=q(Fe,"DIV",{class:!0});var Ue=nt(st);at=q(Ue,"DIV",{class:!0,"data-svelte-h":!0}),Rt(at)!=="svelte-1rvfepf"&&(at.innerHTML=ut),vt=ht(Ue),xt=q(Ue,"DIV",{class:!0});var Xe=nt(xt);zt.l(Xe),Et=ht(Xe),yt=q(Xe,"IMG",{src:!0,alt:!0,class:!0}),Xe.forEach(k),Ue.forEach(k),Fe.forEach(k),Dt=ht(Ft),Zt&&Zt.l(Ft),Vt=ht(Ft),Bt&&Bt.l(Ft),Nt=ht(Ft),Ot&&Ot.l(Ft),Mt=ht(Ft),St&&St.l(Ft),Ft.forEach(k),this.h()},h(){Y(g,"class","backdrop svelte-bv1smc"),Y(y,"class","unit-name svelte-bv1smc"),Ht(y,"color",w[7].left.profile.color),Y(s,"class","unit-status svelte-bv1smc"),Ae(l.src,a=w[7].left.profile.picture)||Y(l,"src",a),Y(l,"alt",h=w[7].left.profile.name),Y(l,"width","144"),Y(l,"height","144"),Y(l,"class","svelte-bv1smc"),Y(r,"class","unit-avatar svelte-bv1smc"),Y(c,"class","unit-info unit-left svelte-bv1smc"),Y(m,"class","unit-name svelte-bv1smc"),Ht(m,"color",w[7].right.profile.color),Y(C,"class","unit-status svelte-bv1smc"),Ae(L.src,O=w[7].right.profile.picture)||Y(L,"src",O),Y(L,"alt",I=w[7].right.profile.name),Y(L,"width","144"),Y(L,"height","144"),Y(L,"class","svelte-bv1smc"),Y(F,"class","unit-avatar svelte-bv1smc"),Y(d,"class","unit-info unit-right svelte-bv1smc"),Y(P,"class","topbar svelte-bv1smc"),Y(X,"class","fighter svelte-bv1smc"),pe(X,"dead",!w[7].left.isAlive),Ae(K.src,Z="/pics/rps/palm.png")||Y(K,"src",Z),Y(K,"alt","palm"),Y(K,"class","img-palm svelte-bv1smc"),Y(z,"class","choice-container svelte-bv1smc"),pe(z,"visually-hidden",!w[4]),Y(tt,"class","dojo-side dojo-left svelte-bv1smc"),Y(at,"class","fighter svelte-bv1smc"),pe(at,"dead",!w[7].right.isAlive),Ae(yt.src,bt="/pics/rps/palm.png")||Y(yt,"src",bt),Y(yt,"alt","palm"),Y(yt,"class","img-palm svelte-bv1smc"),Y(xt,"class","choice-container svelte-bv1smc"),pe(xt,"visually-hidden",!w[4]),Y(st,"class","dojo-side dojo-right svelte-bv1smc"),Y(J,"class","dojo svelte-bv1smc"),Y(v,"class","section svelte-bv1smc")},m(At,Ft){dt(At,v,Ft),V(v,g),V(v,M),V(v,P),V(P,c),V(c,y),V(y,o),V(c,p),V(c,s),V(s,n),V(c,e),V(c,r),V(r,l),V(P,u),V(P,d),V(d,m),V(m,S),V(d,T),V(d,C),V(C,b),V(d,R),V(d,F),V(F,L),V(P,U),Lt&&Lt.m(P,null),V(v,H),V(v,J),V(J,tt),V(tt,X),V(tt,D),V(tt,z),se.m(z,null),V(z,$),V(z,K),V(J,it),V(J,st),V(st,at),V(st,vt),V(st,xt),zt.m(xt,null),V(xt,Et),V(xt,yt),V(v,Dt),Zt&&Zt.m(v,null),V(v,Vt),Bt&&Bt.m(v,null),V(v,Nt),Ot&&Ot.m(v,null),V(v,Mt),St&&St.m(v,null)},p(At,Ft){Ft&128&&t!==(t=At[7].left.profile.name+"")&&ee(o,t),Ft&128&&Ht(y,"color",At[7].left.profile.color),Ft&128&&i!==(i=At[7].left.livesString+"")&&ee(n,i),Ft&128&&!Ae(l.src,a=At[7].left.profile.picture)&&Y(l,"src",a),Ft&128&&h!==(h=At[7].left.profile.name)&&Y(l,"alt",h),Ft&128&&x!==(x=At[7].right.profile.name+"")&&ee(S,x),Ft&128&&Ht(m,"color",At[7].right.profile.color),Ft&128&&A!==(A=At[7].right.livesString+"")&&ee(b,A),Ft&128&&!Ae(L.src,O=At[7].right.profile.picture)&&Y(L,"src",O),Ft&128&&I!==(I=At[7].right.profile.name)&&Y(L,"alt",I),At[0]?Lt?(Lt.p(At,Ft),Ft&1&&Tt(Lt,1)):(Lt=yl(At),Lt.c(),Tt(Lt,1),Lt.m(P,null)):Lt&&(Oe(),wt(Lt,1,1,()=>{Lt=null}),De()),Ft&128&&pe(X,"dead",!At[7].left.isAlive),qt===(qt=kt(At))&&se?se.p(At,Ft):(se.d(1),se=qt(At),se&&(se.c(),se.m(z,$))),Ft&16&&pe(z,"visually-hidden",!At[4]),Ft&128&&pe(at,"dead",!At[7].right.isAlive),oe===(oe=ie(At))&&zt?zt.p(At,Ft):(zt.d(1),zt=oe(At),zt&&(zt.c(),zt.m(xt,Et))),Ft&16&&pe(xt,"visually-hidden",!At[4]),At[4]&&!At[5]&&At[7].player?Zt?Zt.p(At,Ft):(Zt=El(At),Zt.c(),Zt.m(v,Vt)):Zt&&(Zt.d(1),Zt=null),At[4]&&!At[5]&&At[7].right.isChat?Bt?Bt.p(At,Ft):(Bt=Cl(At),Bt.c(),Bt.m(v,Nt)):Bt&&(Bt.d(1),Bt=null),At[2]?Ot?(Ot.p(At,Ft),Ft&4&&Tt(Ot,1)):(Ot=wl(At),Ot.c(),Tt(Ot,1),Ot.m(v,Mt)):Ot&&(Oe(),wt(Ot,1,1,()=>{Ot=null}),De()),At[3]?St?(St.p(At,Ft),Ft&8&&Tt(St,1)):(St=Ml(At),St.c(),Tt(St,1),St.m(v,null)):St&&(Oe(),wt(St,1,1,()=>{St=null}),De())},i(At){At&&(f||$e(()=>{f=Je(c,Di,{duration:2e3,x:-200}),f.start()})),At&&(B||$e(()=>{B=Je(d,Di,{duration:2500,x:200}),B.start()})),Tt(Lt),Tt(Ot),Tt(St),At&&(It||$e(()=>{It=Je(v,Ns,{duration:500}),It.start()}))},o(At){wt(Lt),wt(Ot),wt(St)},d(At){At&&k(v),Lt&&Lt.d(),se.d(),zt.d(),Zt&&Zt.d(),Bt&&Bt.d(),Ot&&Ot.d(),St&&St.d()}}}function yl(w){let v,g,E,M;return{c(){v=Q("div"),g=mt(w[0]),this.h()},l(P){v=q(P,"DIV",{class:!0});var c=nt(v);g=gt(c,w[0]),c.forEach(k),this.h()},h(){Y(v,"class","timer svelte-bv1smc")},m(P,c){dt(P,v,c),V(v,g),M=!0},p(P,c){(!M||c&1)&&ee(g,P[0])},i(P){M||(P&&$e(()=>{M&&(E||(E=yi(v,$i,{duration:500},!0)),E.run(1))}),M=!0)},o(P){P&&(E||(E=yi(v,$i,{duration:500},!1)),E.run(0)),M=!1},d(P){P&&k(v),P&&E&&E.end()}}}function jp(w){let v,g;return{c(){v=Q("img"),this.h()},l(E){v=q(E,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(v.src,g="/pics/rps/fist.png")||Y(v,"src",g),Y(v,"alt","fist"),Y(v,"class","img-fist svelte-bv1smc"),pe(v,"fist-moving",!w[7].left.choice)},m(E,M){dt(E,v,M)},p(E,M){M&128&&pe(v,"fist-moving",!E[7].left.choice)},d(E){E&&k(v)}}}function Kp(w){let v,g=w[7].left.choice&&Tl(w);return{c(){g&&g.c(),v=Le()},l(E){g&&g.l(E),v=Le()},m(E,M){g&&g.m(E,M),dt(E,v,M)},p(E,M){E[7].left.choice?g?g.p(E,M):(g=Tl(E),g.c(),g.m(v.parentNode,v)):g&&(g.d(1),g=null)},d(E){E&&k(v),g&&g.d(E)}}}function Tl(w){let v,g,E;return{c(){v=Q("img"),this.h()},l(M){v=q(M,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(v.src,g=`/pics/rps/${String(w[7].left.choice).toLowerCase()}.webp`)||Y(v,"src",g),Y(v,"alt",E=w[7].left.choice),Y(v,"class","img-choice svelte-bv1smc")},m(M,P){dt(M,v,P)},p(M,P){P&128&&!Ae(v.src,g=`/pics/rps/${String(M[7].left.choice).toLowerCase()}.webp`)&&Y(v,"src",g),P&128&&E!==(E=M[7].left.choice)&&Y(v,"alt",E)},d(M){M&&k(v)}}}function Zp(w){let v,g;return{c(){v=Q("img"),this.h()},l(E){v=q(E,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(v.src,g="/pics/rps/fist.png")||Y(v,"src",g),Y(v,"alt","fist"),Y(v,"class","img-fist svelte-bv1smc"),pe(v,"fist-moving",!w[7].right.choice)},m(E,M){dt(E,v,M)},p(E,M){M&128&&pe(v,"fist-moving",!E[7].right.choice)},d(E){E&&k(v)}}}function Jp(w){let v,g=w[7].right.choice&&Sl(w);return{c(){g&&g.c(),v=Le()},l(E){g&&g.l(E),v=Le()},m(E,M){g&&g.m(E,M),dt(E,v,M)},p(E,M){E[7].right.choice?g?g.p(E,M):(g=Sl(E),g.c(),g.m(v.parentNode,v)):g&&(g.d(1),g=null)},d(E){E&&k(v),g&&g.d(E)}}}function Sl(w){let v,g,E;return{c(){v=Q("img"),this.h()},l(M){v=q(M,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(v.src,g=`/pics/rps/${String(w[7].right.choice).toLowerCase()}.webp`)||Y(v,"src",g),Y(v,"alt",E=w[7].right.choice),Y(v,"class","img-choice svelte-bv1smc")},m(M,P){dt(M,v,P)},p(M,P){P&128&&!Ae(v.src,g=`/pics/rps/${String(M[7].right.choice).toLowerCase()}.webp`)&&Y(v,"src",g),P&128&&E!==(E=M[7].right.choice)&&Y(v,"alt",E)},d(M){M&&k(v)}}}function El(w){let v,g,E="Choose your destiny:",M,P,c,y=Bs.R+"",t,o,p,s,i=Bs.P+"",n,e,r,l,a=Bs.S+"",h,f,u,d;return{c(){v=Q("div"),g=Q("h5"),g.textContent=E,M=lt(),P=Q("div"),c=Q("button"),t=mt(y),p=lt(),s=Q("button"),n=mt(i),r=lt(),l=Q("button"),h=mt(a),this.h()},l(m){v=q(m,"DIV",{class:!0});var x=nt(v);g=q(x,"H5",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-1o8qgmo"&&(g.textContent=E),M=ht(x),P=q(x,"DIV",{class:!0});var S=nt(P);c=q(S,"BUTTON",{class:!0});var T=nt(c);t=gt(T,y),T.forEach(k),p=ht(S),s=q(S,"BUTTON",{class:!0});var C=nt(s);n=gt(C,i),C.forEach(k),r=ht(S),l=q(S,"BUTTON",{class:!0});var A=nt(l);h=gt(A,a),A.forEach(k),S.forEach(k),x.forEach(k),this.h()},h(){Y(g,"class","svelte-bv1smc"),Y(c,"class",o=Rs(`btn ${w[7].player.choice==="R"?"btn-success":"btn-info"}`)+" svelte-bv1smc"),Y(s,"class",e=Rs(`btn ${w[7].player.choice==="P"?"btn-success":"btn-info"}`)+" svelte-bv1smc"),Y(l,"class",f=Rs(`btn ${w[7].player.choice==="S"?"btn-success":"btn-info"}`)+" svelte-bv1smc"),Y(P,"class","input-group"),Y(v,"class","game-controls svelte-bv1smc")},m(m,x){dt(m,v,x),V(v,g),V(v,M),V(v,P),V(P,c),V(c,t),V(P,p),V(P,s),V(s,n),V(P,r),V(P,l),V(l,h),u||(d=[Ai(wi.call(null,c,{content:"Rock"})),ne(c,"click",w[10]),Ai(wi.call(null,s,{content:"Paper"})),ne(s,"click",w[11]),Ai(wi.call(null,l,{content:"Scissors"})),ne(l,"click",w[12])],u=!0)},p(m,x){x&128&&o!==(o=Rs(`btn ${m[7].player.choice==="R"?"btn-success":"btn-info"}`)+" svelte-bv1smc")&&Y(c,"class",o),x&128&&e!==(e=Rs(`btn ${m[7].player.choice==="P"?"btn-success":"btn-info"}`)+" svelte-bv1smc")&&Y(s,"class",e),x&128&&f!==(f=Rs(`btn ${m[7].player.choice==="S"?"btn-success":"btn-info"}`)+" svelte-bv1smc")&&Y(l,"class",f)},d(m){m&&k(v),u=!1,ui(d)}}}function Cl(w){let v,g,E="Vote in chat:",M,P,c,y,t,o,p=ke(Object.keys(Bs)),s=[];for(let i=0;i<p.length;i+=1)s[i]=Al(gl(w,p,i));return{c(){v=Q("div"),g=Q("h5"),g.textContent=E,M=lt();for(let i=0;i<s.length;i+=1)s[i].c();P=lt(),c=Q("div"),y=mt("Total votes: "),t=Q("i"),o=mt(w[6]),this.h()},l(i){v=q(i,"DIV",{class:!0});var n=nt(v);g=q(n,"H5",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-bzq05j"&&(g.textContent=E),M=ht(n);for(let l=0;l<s.length;l+=1)s[l].l(n);P=ht(n),c=q(n,"DIV",{class:!0});var e=nt(c);y=gt(e,"Total votes: "),t=q(e,"I",{class:!0});var r=nt(t);o=gt(r,w[6]),r.forEach(k),e.forEach(k),n.forEach(k),this.h()},h(){Y(g,"class","svelte-bv1smc"),Y(t,"class","svelte-bv1smc"),Y(c,"class","vote-option vote-footer svelte-bv1smc"),Y(v,"class","game-chatvote svelte-bv1smc")},m(i,n){dt(i,v,n),V(v,g),V(v,M);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(v,null);V(v,P),V(v,c),V(c,y),V(c,t),V(t,o)},p(i,n){if(n&0){p=ke(Object.keys(Bs));let e;for(e=0;e<p.length;e+=1){const r=gl(i,p,e);s[e]?s[e].p(r,n):(s[e]=Al(r),s[e].c(),s[e].m(v,P))}for(;e<s.length;e+=1)s[e].d(1);s.length=p.length}n&64&&ee(o,i[6])},d(i){i&&k(v),Ii(s,i)}}}function Al(w){let v,g,E,M=w[21]+"",P,c,y,t=Bs[w[21]]+"",o;return{c(){v=Q("div"),g=Q("b"),E=mt("+"),P=mt(M),c=lt(),y=Q("span"),o=mt(t),this.h()},l(p){v=q(p,"DIV",{class:!0});var s=nt(v);g=q(s,"B",{});var i=nt(g);E=gt(i,"+"),P=gt(i,M),i.forEach(k),c=ht(s),y=q(s,"SPAN",{});var n=nt(y);o=gt(n,t),n.forEach(k),s.forEach(k),this.h()},h(){Y(v,"class","vote-option svelte-bv1smc")},m(p,s){dt(p,v,s),V(v,g),V(g,E),V(g,P),V(v,c),V(v,y),V(y,o)},p:jt,d(p){p&&k(v)}}}function wl(w){let v,g,E,M=w[7].round+"",P,c,y;return{c(){v=Q("div"),g=mt("Round "),E=Q("b"),P=mt(M),this.h()},l(t){v=q(t,"DIV",{class:!0});var o=nt(v);g=gt(o,"Round "),E=q(o,"B",{class:!0});var p=nt(E);P=gt(p,M),p.forEach(k),o.forEach(k),this.h()},h(){Y(E,"class","svelte-bv1smc"),Y(v,"class","modal-alike round-start svelte-bv1smc")},m(t,o){dt(t,v,o),V(v,g),V(v,E),V(E,P),y=!0},p(t,o){(!y||o&128)&&M!==(M=t[7].round+"")&&ee(P,M)},i(t){y||(t&&$e(()=>{y&&(c||(c=yi(v,$i,{duration:300},!0)),c.run(1))}),y=!0)},o(t){t&&(c||(c=yi(v,$i,{duration:300},!1)),c.run(0)),y=!1},d(t){t&&k(v),t&&c&&c.end()}}}function Ml(w){let v,g,E;function M(y,t){return y[7].winner?qp:Qp}let P=M(w),c=P(w);return{c(){v=Q("div"),c.c(),this.h()},l(y){v=q(y,"DIV",{class:!0});var t=nt(v);c.l(t),t.forEach(k),this.h()},h(){Y(v,"class","modal-alike winner svelte-bv1smc")},m(y,t){dt(y,v,t),c.m(v,null),E=!0},p(y,t){P===(P=M(y))&&c?c.p(y,t):(c.d(1),c=P(y),c&&(c.c(),c.m(v,null)))},i(y){E||(y&&$e(()=>{E&&(g||(g=yi(v,$i,{duration:300},!0)),g.run(1))}),E=!0)},o(y){y&&(g||(g=yi(v,$i,{duration:300},!1)),g.run(0)),E=!1},d(y){y&&k(v),c.d(),y&&g&&g.end()}}}function Qp(w){let v,g,E="TIE";return{c(){v=mt("It's a "),g=Q("b"),g.textContent=E,this.h()},l(M){v=gt(M,"It's a "),g=q(M,"B",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-1eylxfi"&&(g.textContent=E),this.h()},h(){Y(g,"class","svelte-bv1smc")},m(M,P){dt(M,v,P),dt(M,g,P)},p:jt,d(M){M&&(k(v),k(g))}}}function qp(w){let v,g=w[7].winner.profile.name+"",E,M;return{c(){v=Q("strong"),E=mt(g),M=mt(" wins"),this.h()},l(P){v=q(P,"STRONG",{});var c=nt(v);E=gt(c,g),c.forEach(k),M=gt(P," wins"),this.h()},h(){Ht(v,"color",w[7].winner.profile.color)},m(P,c){dt(P,v,c),V(v,E),dt(P,M,c)},p(P,c){c&128&&g!==(g=P[7].winner.profile.name+"")&&ee(E,g),c&128&&Ht(v,"color",P[7].winner.profile.color)},d(P){P&&(k(v),k(M))}}}function _p(w){let v,g=w[1]&&xl(w);return{c(){g&&g.c(),v=Le()},l(E){g&&g.l(E),v=Le()},m(E,M){g&&g.m(E,M),dt(E,v,M)},p(E,[M]){E[1]?g?(g.p(E,M),M&2&&Tt(g,1)):(g=xl(E),g.c(),Tt(g,1),g.m(v.parentNode,v)):g&&(g.d(1),g=null)},i(E){Tt(g)},o:jt,d(E){E&&k(v),g&&g.d(E)}}}function tm(w,v,g){let E,{minigame:M}=v,P=0,c=!1,y=!1,t=!1,o=!1,p=!1,s;const i=M.battle;Ve(w,i,S=>g(7,E=S));const n=new Set,e={R:0,P:0,S:0};let r=0;function l(S,T){if(!n.has(S.username)&&!(S.username===Yh.channel||S.username===Wr)&&T.charAt(0)==="+"){const C=T.charAt(1).toUpperCase();C in e&&(n.add(S.username),e[C]+=1,g(6,r=n.size))}}function a(){for(const S in e)e[S]=0;n.clear(),g(6,r=n.size)}function h(){if(n.size===0)return null;console.log("Final chat votes:",JSON.stringify(e));const S=Math.max(...Object.values(e)),T=Object.keys(e).filter(C=>e[C]===S);return Ke(T)}function f(){g(2,y=!1),g(4,o=!0),g(0,P=12),za(l),s=new Li(()=>{g(0,P-=1),(E.left.choice&&E.right.choice||P<1)&&(cn(l),g(0,P=0),s.clear(),E.right.isChat&&E.right.makeChoice(h()),g(5,p=!0),s=new ri(()=>{if(E.doFight(),E.active)u();else{g(4,o=!1),g(3,t=!0);let S=null;E.winner?(S=M.sounds[E.winner===E.player?"win":"lose"],E.winner.__flawless&&E.winner.lives===3?S=M.sounds.flawless:E.loser.__flawless&&(S=M.sounds.comeback)):S=M.sounds.lose,E.player&&(E.winner===E.player?(M.modifier.modifyLoyalty(te(5,10)),de.spawner.queueEventfulMessages("hype",3)):(M.modifier.modifyRage(te(8,14)),de.spawner.queueEventfulMessages("fail",3))),S.once("end",()=>M.toMenu()),S.play()}},2500))},1e3)}function u(){zi(i,E.round+=1,E),g(2,y=!0),g(4,o=!1),g(5,p=!1),a(),E.left.makeAutoChoice(te(5e3,1e4)),E.right.makeAutoChoice(te(5e3,1e4));const S=M.sounds["r"+E.round],T=M.sounds.fight;S.once("end",()=>{f(),T.play()}),S.play()}ti(()=>(g(1,c=!0),u(),()=>{cn(l),s==null||s.clear()}));const d=()=>E.player.makeChoice("R"),m=()=>E.player.makeChoice("P"),x=()=>E.player.makeChoice("S");return w.$$set=S=>{"minigame"in S&&g(9,M=S.minigame)},[P,c,y,t,o,p,r,E,i,M,d,m,x]}class em extends Se{constructor(v){super(),Ee(this,v,tm,_p,Te,{minigame:9})}}function bl(w,v,g){const E=w.slice();E[6]=v[g];const M=E[0].controls[E[6]];return E[7]=M,E}function im(w){let v,g,E,M,P,c,y,t,o,p;return g=new he({props:{size:"120%",$$slots:{default:[nm]},$$scope:{ctx:w}}}),c=new he({props:{size:"120%",$$slots:{default:[rm]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),E=mt(" Quick match"),M=lt(),P=Q("button"),Ut(c.$$.fragment),y=mt(" Play versus chat"),this.h()},l(s){v=q(s,"BUTTON",{type:!0,class:!0});var i=nt(v);Wt(g.$$.fragment,i),E=gt(i," Quick match"),i.forEach(k),M=ht(s),P=q(s,"BUTTON",{type:!0,class:!0});var n=nt(P);Wt(c.$$.fragment,n),y=gt(n," Play versus chat"),n.forEach(k),this.h()},h(){Y(v,"type","button"),Y(v,"class","btn btn-outline-primary text-start svelte-1b1ogoy"),Y(P,"type","button"),Y(P,"class","btn btn-outline-info text-start svelte-1b1ogoy")},m(s,i){dt(s,v,i),Xt(g,v,null),V(v,E),dt(s,M,i),dt(s,P,i),Xt(c,P,null),V(P,y),t=!0,o||(p=[ne(v,"click",w[2]),ne(P,"click",w[4])],o=!0)},p(s,i){const n={};i&1024&&(n.$$scope={dirty:i,ctx:s}),g.$set(n);const e={};i&1024&&(e.$$scope={dirty:i,ctx:s}),c.$set(e)},i(s){t||(Tt(g.$$.fragment,s),Tt(c.$$.fragment,s),t=!0)},o(s){wt(g.$$.fragment,s),wt(c.$$.fragment,s),t=!1},d(s){s&&(k(v),k(M),k(P)),Yt(g),Yt(c),o=!1,ui(p)}}}function sm(w){let v,g=`<div class="spinner-border svelte-1b1ogoy" role="status"><span class="visually-hidden">Loading...</span></div>
          Looking for an opponent...`,E,M,P,c,y,t,o;return P=new he({props:{size:"120%",$$slots:{default:[am]},$$scope:{ctx:w}}}),{c(){v=Q("div"),v.innerHTML=g,E=lt(),M=Q("button"),Ut(P.$$.fragment),c=mt(`\r
          Stop searching`),this.h()},l(p){v=q(p,"DIV",{"data-svelte-h":!0}),Rt(v)!=="svelte-1vwytnj"&&(v.innerHTML=g),E=ht(p),M=q(p,"BUTTON",{type:!0,class:!0});var s=nt(M);Wt(P.$$.fragment,s),c=gt(s,`\r
          Stop searching`),s.forEach(k),this.h()},h(){Y(M,"type","button"),Y(M,"class","btn btn-outline-danger text-start svelte-1b1ogoy")},m(p,s){dt(p,v,s),dt(p,E,s),dt(p,M,s),Xt(P,M,null),V(M,c),y=!0,t||(o=ne(M,"click",w[3]),t=!0)},p(p,s){const i={};s&1024&&(i.$$scope={dirty:s,ctx:p}),P.$set(i)},i(p){y||(Tt(P.$$.fragment,p),y=!0)},o(p){wt(P.$$.fragment,p),y=!1},d(p){p&&(k(v),k(E),k(M)),Yt(P),t=!1,o()}}}function nm(w){let v;return{c(){v=mt("not_started")},l(g){v=gt(g,"not_started")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function rm(w){let v;return{c(){v=mt("grading")},l(g){v=gt(g,"grading")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function am(w){let v;return{c(){v=mt("cancel")},l(g){v=gt(g,"cancel")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Pl(w){let v,g,E,M,P,c=w[6]+"",y,t,o,p=w[7]+"",s,i;return{c(){v=Q("div"),g=Q("div"),E=lt(),M=Q("div"),P=Q("div"),y=mt(c),t=lt(),o=Q("div"),s=mt(p),i=lt(),this.h()},l(n){v=q(n,"DIV",{class:!0});var e=nt(v);g=q(e,"DIV",{class:!0}),nt(g).forEach(k),E=ht(e),M=q(e,"DIV",{class:!0});var r=nt(M);P=q(r,"DIV",{class:!0});var l=nt(P);y=gt(l,c),l.forEach(k),t=ht(r),o=q(r,"DIV",{class:!0});var a=nt(o);s=gt(a,p),a.forEach(k),r.forEach(k),i=ht(e),e.forEach(k),this.h()},h(){Y(g,"class","control-icon svelte-1b1ogoy"),Ht(g,"color","red"),Ht(g,"background-image",`url(/pics/icons/${w[6]}.png)`),Y(P,"class","control-header svelte-1b1ogoy"),Y(o,"class","control-desc svelte-1b1ogoy"),Y(M,"class","control-desc svelte-1b1ogoy"),Y(v,"class","control-layout svelte-1b1ogoy")},m(n,e){dt(n,v,e),V(v,g),V(v,E),V(v,M),V(M,P),V(P,y),V(M,t),V(M,o),V(o,s),V(v,i)},p(n,e){e&1&&Ht(g,"background-image",`url(/pics/icons/${n[6]}.png)`),e&1&&c!==(c=n[6]+"")&&ee(y,c),e&1&&p!==(p=n[7]+"")&&ee(s,p)},d(n){n&&k(v)}}}function Rl(w){let v,g=w[7]&&Pl(w);return{c(){g&&g.c(),v=Le()},l(E){g&&g.l(E),v=Le()},m(E,M){g&&g.m(E,M),dt(E,v,M)},p(E,M){E[7]?g?g.p(E,M):(g=Pl(E),g.c(),g.m(v.parentNode,v)):g&&(g.d(1),g=null)},d(E){E&&k(v),g&&g.d(E)}}}function om(w){let v,g,E,M,P,c,y,t='<h2 class="svelte-1b1ogoy">✊ ✌️ ✋</h2> <h1>DOJO WISDOM</h1>',o,p,s,i,n,e,r,l;const a=[sm,im],h=[];function f(m,x){return m[1]?0:1}s=f(w),i=h[s]=a[s](w);let u=ke(Object.keys(w[0].controls)),d=[];for(let m=0;m<u.length;m+=1)d[m]=Rl(bl(w,u,m));return{c(){v=Q("div"),g=Q("div"),E=Q("img"),P=lt(),c=Q("div"),y=Q("div"),y.innerHTML=t,o=lt(),p=Q("div"),i.c(),n=lt(),e=Q("div");for(let m=0;m<d.length;m+=1)d[m].c();this.h()},l(m){v=q(m,"DIV",{class:!0});var x=nt(v);g=q(x,"DIV",{class:!0});var S=nt(g);E=q(S,"IMG",{src:!0,alt:!0,class:!0}),S.forEach(k),P=ht(x),c=q(x,"DIV",{class:!0});var T=nt(c);y=q(T,"DIV",{class:!0,"data-svelte-h":!0}),Rt(y)!=="svelte-sp5zbe"&&(y.innerHTML=t),o=ht(T),p=q(T,"DIV",{class:!0});var C=nt(p);i.l(C),C.forEach(k),T.forEach(k),n=ht(x),e=q(x,"DIV",{class:!0});var A=nt(e);for(let b=0;b<d.length;b+=1)d[b].l(A);A.forEach(k),x.forEach(k),this.h()},h(){Ae(E.src,M=w[0].mainMenuImage)||Y(E,"src",M),Y(E,"alt","backdrop"),Y(E,"class","svelte-1b1ogoy"),Y(g,"class","backdrop svelte-1b1ogoy"),Y(y,"class","my-auto"),Y(p,"class","menu-buttons svelte-1b1ogoy"),Y(c,"class","part svelte-1b1ogoy"),Y(e,"class","part right svelte-1b1ogoy"),Y(v,"class","menu-section svelte-1b1ogoy")},m(m,x){dt(m,v,x),V(v,g),V(g,E),V(v,P),V(v,c),V(c,y),V(c,o),V(c,p),h[s].m(p,null),V(v,n),V(v,e);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(e,null);l=!0},p(m,[x]){(!l||x&1&&!Ae(E.src,M=m[0].mainMenuImage))&&Y(E,"src",M);let S=s;if(s=f(m),s===S?h[s].p(m,x):(Oe(),wt(h[S],1,1,()=>{h[S]=null}),De(),i=h[s],i?i.p(m,x):(i=h[s]=a[s](m),i.c()),Tt(i,1),i.m(p,null)),x&1){u=ke(Object.keys(m[0].controls));let T;for(T=0;T<u.length;T+=1){const C=bl(m,u,T);d[T]?d[T].p(C,x):(d[T]=Rl(C),d[T].c(),d[T].m(e,null))}for(;T<d.length;T+=1)d[T].d(1);d.length=u.length}},i(m){l||(Tt(i),m&&(r||$e(()=>{r=Je(v,Vs,{}),r.start()})),l=!0)},o(m){wt(i),l=!1},d(m){m&&k(v),h[s].d(),Ii(d,m)}}}function lm(w,v,g){let{minigame:E}=v,M=null;function P(){E.quickBattle()}function c(){g(1,M=new ri(P,te(4e3,2e4)))}function y(){M==null||M.clear(),g(1,M=null)}function t(){E.chatBattle()}return ti(()=>y),w.$$set=o=>{"minigame"in o&&g(0,E=o.minigame)},[E,M,c,y,t]}class hm extends Se{constructor(v){super(),Ee(this,v,lm,om,Te,{minigame:0})}}class um extends qs{constructor(){super("rock-paper-scissors"),this.title="Dojo Wisdom",this.icon="/pics/rps/icon.png",this.chatMessages=["pepeLaugh ✌️","pepeLaugh ✊","pepeLaugh ✋","FeelsDankMan ✂️"],this.minStartsToTry=6,this.minTimeToPlay=6e4*4,this.allowsTrainingMode=!1,this.overtimeDuration=11,this.gameDuration=2e4,this.controls.mouse="Click to make a choice",this.mainMenuImage="/pics/rps/menu.webp",this.components.game=em,this.components.menu=hm,this.components.mainMenuTitle=null,this.ost=new Cs("rps-ost","/sounds/music/rps-ost.mp3"),this.sounds={r1:new Ye("rps-r1","/sounds/rps/r1.mp3"),r2:new Ye("rps-r2","/sounds/rps/r2.mp3"),r3:new Ye("rps-r3","/sounds/rps/r3.mp3"),r4:new Ye("rps-r4","/sounds/rps/r4.mp3"),r5:new Ye("rps-r5","/sounds/rps/r5.mp3"),win:new Ye("rps-win","/sounds/rps/welldone.mp3"),lose:new Ye("rps-lose","/sounds/rps/laugh.mp3"),flawless:new Ye("rps-flawless","/sounds/rps/flawless.mp3"),fight:new Ye("rps-fight","/sounds/rps/fight.mp3"),comeback:new Ye("rps-comeback","/sounds/rps/impressive.mp3")},this.battle=ii(null)}quickBattle(){return new Fl(this.battle).updateStoreInfo(),this.start()}chatBattle(){const v=new qi(`${_i.channel.slice(0,15)}'s chat`,"nam","#333"),g=new ba(v);return g.isChat=!0,new Fl(this.battle,null,g).updateStoreInfo(),this.start()}startMusic(){this.ost&&(this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play())}pauseMusic(){this.ost&&this.ost.pause()}stopMusic(){this.ost&&this.ost.stop().unload()}toMenu(){return this.startMusic(),super.toMenu()}pauseGame(){return this.pauseMusic(),this}resumeGame(){return this.ost.isLoaded()?this.ost.play():this.startMusic(),this}destroy(){this.stopMusic(),this.ost=null;for(const v in this.sounds)this.sounds[v].stop(),this.sounds[v].off();return super.destroy()}}const Ll="❤️",fm="☠️",Bs={R:"✊",P:"✋",S:"✌️"},Ma=Object.keys(Bs);class ba{constructor(v){this.__battle=null,this.profile=v,this.isPlayer=!1,this.isAI=!1,this.isAlive=!0,this.reset()}getBasicInfo(){return{profile:this.profile,isAlive:this.isAlive,lives:this.lives}}reset(){this.lives=3,this.livesString=Ll.repeat(this.lives),this.choice=null}updateBattle(){return this.__battle.updateStoreInfo(),this}makeAutoChoice(v=2e3){return this.isAI?(this.__choice=new ri(()=>{this.makeChoice(Ke(Ma))},v),this):this}makeChoice(v){return this.choice||(v in Bs?this.choice=v:this.choice=null),this.updateBattle()}takeDamage(v=1){return this.lives-=v,this.isAlive=this.lives>0,this.livesString=this.isAlive?Ll.repeat(this.lives):fm,this.updateBattle()}}class Fl{constructor(v,g,E){if(this.__store=v,this.active=!0,this.drawCount=0,this.round=0,this.winner=null,this.loser=null,g)this.left=g;else{const M=Ea(Wr);this.left=new ba(M),this.left.isPlayer=!0}if(E)this.right=E;else{const M=Ea();this.right=new ba(M),this.right.isAI=!0}this.left.__battle=this,this.right.__battle=this,this.player=null,this.left.isPlayer&&(this.player=this.left),this.right.isPlayer&&(this.player=this.right)}updateStoreInfo(){return this.__store.set(this),this}doFight(){const v=this.left.choice,g=this.right.choice;let E=null;if(v!==null&&g!==null){const M=Ma.indexOf(v),P=Ma.indexOf(g);if(M===P)this.drawCount+=1,this.drawCount%3===0?(this.left.takeDamage(),this.right.takeDamage()):this.round-=1;else{const c=M-P;c===1||c<-1?(this.left,E=this.right):(this.right,E=this.left),E.takeDamage()}}else v===null&&this.left.takeDamage(),g===null&&this.right.takeDamage();return this.left.choice=null,this.right.choice=null,this.left.lives===3&&this.right.lives===1&&(this.left.__flawless=!0),this.left.lives===1&&this.right.lives===3&&(this.right.__flawless=!0),this.checkOutcome()}checkOutcome(){return this.left.isAlive?this.right.isAlive||(this.active=!1,this.winner=this.left,this.loser=this.right):this.right.isAlive?(this.active=!1,this.winner=this.right,this.loser=this.left):(this.active=!1,this.winner=null,this.loser=null),this.updateStoreInfo()}}const xr=Object.freeze({minViews:5e4,minTimeToWatch:15e4,badCategories:["songs"]}),dm=[Sp,lp,Rp,um,Vv,Up],Is={},$n={},cm={gags:["LULE","LULW","MegaLUL","MegaLUL I CANNOT","MegaLUL SO FUNNY"],songs:["forsenJAM","KKool GuitarTime","KKool","SourPls","SourPls banger"],scary:["forsenS","monkaS","monkaOMEGA","monkaOMEGA ZOZO","forsenFaint"]};fetch("/data/videos.json").then(w=>w.json()).then(w=>{for(const v in w){const g=w[v];for(const E of g)E.category=v,E.chat=E.chat||cm[v]||null;Is[v]=g}}).catch(w=>{console.error("Failed to fetch the list of YT videos! Error: ",w),Is.generic=[{id:"VTFyFwHgi6w",title:"[Trailer] Jackbox Forsen Pack 6: Trivia Murder Party 2",description:"",author:"G7Eternal",avatar:"https://yt4.ggpht.com/ytc/AIdro_n-YI1GTvvc47dxQJEp_22_h-Ht3qvCBlChwDYxGE2Sm1Q=s88-c-k-c0x00ffffff-no-rj",subs:"5",likes:"33",views:"50000",createdAt:"2021-10-03T09:59:26Z",category:"generic"}]}).then(Cu);function Cu(w=""){if(w&&Is.hasOwnProperty(w))$n[w]=Zs(Is[w]);else for(const v in Is)$n[v]=Zs(Is[v])}function vm(w){if(!w)return null;for(const v in Is){const g=Is[v].find(E=>E.id===w);if(g)return g}return null}function pm(w=te(6,8)){const v=[],g=te(1,3);let E=te(1,2),M=g-E;if(new Date().getMonth()===9){const c=E;E=M,M=c}for(;E-- >0;)v.push(yr("gags"));for(;M-- >0;)v.push(yr("scary"));for(;v.length<w;)v.push(yr());te(5)<3&&v.push(Ke(v));let P=Math.floor(Math.random()*2.25);for(;P-- >0;)v.push(yr("songs"));return Zs(v)}function yr(w="generic"){return $n.hasOwnProperty(w)||(console.warn("Requested a random video from non-existing pool: ",w),w="generic"),$n[w].length===0&&Cu(w),$n[w].pop()}function mm(w=3){return $h(dm,w)}var Ir={exports:{}};Ir.exports;(function(w,v){(function(g,E){w.exports=E()})(js,function(){function g(N,G){var W=Object.keys(N);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(N);G&&(_=_.filter(function(et){return Object.getOwnPropertyDescriptor(N,et).enumerable})),W.push.apply(W,_)}return W}function E(N){for(var G=1;G<arguments.length;G++){var W=arguments[G]!=null?arguments[G]:{};G%2?g(Object(W),!0).forEach(function(_){t(N,_,W[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(W)):g(Object(W)).forEach(function(_){Object.defineProperty(N,_,Object.getOwnPropertyDescriptor(W,_))})}return N}function M(N){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},M(N)}function P(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")}function c(N,G){for(var W=0;W<G.length;W++){var _=G[W];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(N,r(_.key),_)}}function y(N,G,W){return G&&c(N.prototype,G),W&&c(N,W),Object.defineProperty(N,"prototype",{writable:!1}),N}function t(N,G,W){return(G=r(G))in N?Object.defineProperty(N,G,{value:W,enumerable:!0,configurable:!0,writable:!0}):N[G]=W,N}function o(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(G&&G.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),G&&s(N,G)}function p(N){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},p(N)}function s(N,G){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,_){return W.__proto__=_,W},s(N,G)}function i(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function n(N){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,_=p(N);if(G){var et=p(this).constructor;W=Reflect.construct(_,arguments,et)}else W=_.apply(this,arguments);return function(rt,ot){if(ot&&(typeof ot=="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(rt)}(this,W)}}function e(){return e=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(N,G,W){var _=function(rt,ot){for(;!Object.prototype.hasOwnProperty.call(rt,ot)&&(rt=p(rt))!==null;);return rt}(N,G);if(_){var et=Object.getOwnPropertyDescriptor(_,G);return et.get?et.get.call(arguments.length<3?N:W):et.value}},e.apply(this,arguments)}function r(N){var G=function(W,_){if(typeof W!="object"||W===null)return W;var et=W[Symbol.toPrimitive];if(et!==void 0){var rt=et.call(W,_||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(W)}(N,"string");return typeof G=="symbol"?G:G+""}var l=function(N){return!(!N||!N.Window)&&N instanceof N.Window},a=void 0,h=void 0;function f(N){a=N;var G=N.document.createTextNode("");G.ownerDocument!==N.document&&typeof N.wrap=="function"&&N.wrap(G)===G&&(N=N.wrap(N)),h=N}function u(N){return l(N)?N:(N.ownerDocument||N).defaultView||h.window}typeof window<"u"&&window&&f(window);var d=function(N){return!!N&&M(N)==="object"},m=function(N){return typeof N=="function"},x={window:function(N){return N===h||l(N)},docFrag:function(N){return d(N)&&N.nodeType===11},object:d,func:m,number:function(N){return typeof N=="number"},bool:function(N){return typeof N=="boolean"},string:function(N){return typeof N=="string"},element:function(N){if(!N||M(N)!=="object")return!1;var G=u(N)||h;return/object|function/.test(typeof Element>"u"?"undefined":M(Element))?N instanceof Element||N instanceof G.Element:N.nodeType===1&&typeof N.nodeName=="string"},plainObject:function(N){return d(N)&&!!N.constructor&&/function Object\b/.test(N.constructor.toString())},array:function(N){return d(N)&&N.length!==void 0&&m(N.splice)}};function S(N){var G=N.interaction;if(G.prepared.name==="drag"){var W=G.prepared.axis;W==="x"?(G.coords.cur.page.y=G.coords.start.page.y,G.coords.cur.client.y=G.coords.start.client.y,G.coords.velocity.client.y=0,G.coords.velocity.page.y=0):W==="y"&&(G.coords.cur.page.x=G.coords.start.page.x,G.coords.cur.client.x=G.coords.start.client.x,G.coords.velocity.client.x=0,G.coords.velocity.page.x=0)}}function T(N){var G=N.iEvent,W=N.interaction;if(W.prepared.name==="drag"){var _=W.prepared.axis;if(_==="x"||_==="y"){var et=_==="x"?"y":"x";G.page[et]=W.coords.start.page[et],G.client[et]=W.coords.start.client[et],G.delta[et]=0}}}var C={id:"actions/drag",install:function(N){var G=N.actions,W=N.Interactable,_=N.defaults;W.prototype.draggable=C.draggable,G.map.drag=C,G.methodDict.drag="draggable",_.actions.drag=C.defaults},listeners:{"interactions:before-action-move":S,"interactions:action-resume":S,"interactions:action-move":T,"auto-start:check":function(N){var G=N.interaction,W=N.interactable,_=N.buttons,et=W.options.drag;if(et&&et.enabled&&(!G.pointerIsDown||!/mouse|pointer/.test(G.pointerType)||_&W.options.drag.mouseButtons))return N.action={name:"drag",axis:et.lockAxis==="start"?et.startAxis:et.lockAxis},!1}},draggable:function(N){return x.object(N)?(this.options.drag.enabled=N.enabled!==!1,this.setPerAction("drag",N),this.setOnEvents("drag",N),/^(xy|x|y|start)$/.test(N.lockAxis)&&(this.options.drag.lockAxis=N.lockAxis),/^(xy|x|y)$/.test(N.startAxis)&&(this.options.drag.startAxis=N.startAxis),this):x.bool(N)?(this.options.drag.enabled=N,this):this.options.drag},beforeMove:S,move:T,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(N){return N.search("drag")===0}},A=C,b={init:function(N){var G=N;b.document=G.document,b.DocumentFragment=G.DocumentFragment||R,b.SVGElement=G.SVGElement||R,b.SVGSVGElement=G.SVGSVGElement||R,b.SVGElementInstance=G.SVGElementInstance||R,b.Element=G.Element||R,b.HTMLElement=G.HTMLElement||b.Element,b.Event=G.Event,b.Touch=G.Touch||R,b.PointerEvent=G.PointerEvent||G.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function R(){}var F=b,L={init:function(N){var G=F.Element,W=N.navigator||{};L.supportsTouch="ontouchstart"in N||x.func(N.DocumentTouch)&&F.document instanceof N.DocumentTouch,L.supportsPointerEvent=W.pointerEnabled!==!1&&!!F.PointerEvent,L.isIOS=/iP(hone|od|ad)/.test(W.platform),L.isIOS7=/iP(hone|od|ad)/.test(W.platform)&&/OS 7[^\d]/.test(W.appVersion),L.isIe9=/MSIE 9/.test(W.userAgent),L.isOperaMobile=W.appName==="Opera"&&L.supportsTouch&&/Presto/.test(W.userAgent),L.prefixedMatchesSelector="matches"in G.prototype?"matches":"webkitMatchesSelector"in G.prototype?"webkitMatchesSelector":"mozMatchesSelector"in G.prototype?"mozMatchesSelector":"oMatchesSelector"in G.prototype?"oMatchesSelector":"msMatchesSelector",L.pEventTypes=L.supportsPointerEvent?F.PointerEvent===N.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,L.wheelEvent=F.document&&"onmousewheel"in F.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},O=L;function I(N,G){if(N.contains)return N.contains(G);for(;G;){if(G===N)return!0;G=G.parentNode}return!1}function B(N,G){for(;x.element(N);){if(H(N,G))return N;N=U(N)}return null}function U(N){var G=N.parentNode;if(x.docFrag(G)){for(;(G=G.host)&&x.docFrag(G););return G}return G}function H(N,G){return h!==a&&(G=G.replace(/\/deep\//g," ")),N[O.prefixedMatchesSelector](G)}var J=function(N){return N.parentNode||N.host};function tt(N,G){for(var W,_=[],et=N;(W=J(et))&&et!==G&&W!==et.ownerDocument;)_.unshift(et),et=W;return _}function X(N,G,W){for(;x.element(N);){if(H(N,G))return!0;if((N=U(N))===W)return H(N,G)}return!1}function j(N){return N.correspondingUseElement||N}function D(N){var G=N instanceof F.SVGElement?N.getBoundingClientRect():N.getClientRects()[0];return G&&{left:G.left,right:G.right,top:G.top,bottom:G.bottom,width:G.width||G.right-G.left,height:G.height||G.bottom-G.top}}function z(N){var G,W=D(N);if(!O.isIOS7&&W){var _={x:(G=(G=u(N))||h).scrollX||G.document.documentElement.scrollLeft,y:G.scrollY||G.document.documentElement.scrollTop};W.left+=_.x,W.right+=_.x,W.top+=_.y,W.bottom+=_.y}return W}function $(N){for(var G=[];N;)G.push(N),N=U(N);return G}function K(N){return!!x.string(N)&&(F.document.querySelector(N),!0)}function Z(N,G){for(var W in G)N[W]=G[W];return N}function it(N,G,W){return N==="parent"?U(W):N==="self"?G.getRect(W):B(W,N)}function st(N,G,W,_){var et=N;return x.string(et)?et=it(et,G,W):x.func(et)&&(et=et.apply(void 0,_)),x.element(et)&&(et=z(et)),et}function at(N){return N&&{x:"x"in N?N.x:N.left,y:"y"in N?N.y:N.top}}function ut(N){return!N||"x"in N&&"y"in N||((N=Z({},N)).x=N.left||0,N.y=N.top||0,N.width=N.width||(N.right||0)-N.x,N.height=N.height||(N.bottom||0)-N.y),N}function vt(N,G,W){N.left&&(G.left+=W.x),N.right&&(G.right+=W.x),N.top&&(G.top+=W.y),N.bottom&&(G.bottom+=W.y),G.width=G.right-G.left,G.height=G.bottom-G.top}function xt(N,G,W){var _=W&&N.options[W];return at(st(_&&_.origin||N.options.origin,N,G,[N&&G]))||{x:0,y:0}}function Et(N,G){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ct){return!0},_=arguments.length>3?arguments[3]:void 0;if(_=_||{},x.string(N)&&N.search(" ")!==-1&&(N=yt(N)),x.array(N))return N.forEach(function(ct){return Et(ct,G,W,_)}),_;if(x.object(N)&&(G=N,N=""),x.func(G)&&W(N))_[N]=_[N]||[],_[N].push(G);else if(x.array(G))for(var et=0,rt=G;et<rt.length;et++){var ot=rt[et];Et(N,ot,W,_)}else if(x.object(G))for(var ft in G)Et(yt(ft).map(function(ct){return"".concat(N).concat(ct)}),G[ft],W,_);return _}function yt(N){return N.trim().split(/ +/)}var bt=function(N,G){return Math.sqrt(N*N+G*G)},Dt=["webkit","moz"];function Vt(N,G){N.__set||(N.__set={});var W=function(et){if(Dt.some(function(rt){return et.indexOf(rt)===0}))return 1;typeof N[et]!="function"&&et!=="__set"&&Object.defineProperty(N,et,{get:function(){return et in N.__set?N.__set[et]:N.__set[et]=G[et]},set:function(rt){N.__set[et]=rt},configurable:!0})};for(var _ in G)W(_);return N}function Nt(N,G){N.page=N.page||{},N.page.x=G.page.x,N.page.y=G.page.y,N.client=N.client||{},N.client.x=G.client.x,N.client.y=G.client.y,N.timeStamp=G.timeStamp}function Mt(N){N.page.x=0,N.page.y=0,N.client.x=0,N.client.y=0}function It(N){return N instanceof F.Event||N instanceof F.Touch}function Lt(N,G,W){return N=N||"page",(W=W||{}).x=G[N+"X"],W.y=G[N+"Y"],W}function kt(N,G){return G=G||{x:0,y:0},O.isOperaMobile&&It(N)?(Lt("screen",N,G),G.x+=window.scrollX,G.y+=window.scrollY):Lt("page",N,G),G}function qt(N){return x.number(N.pointerId)?N.pointerId:N.identifier}function se(N,G,W){var _=G.length>1?oe(G):G[0];kt(_,N.page),function(et,rt){rt=rt||{},O.isOperaMobile&&It(et)?Lt("screen",et,rt):Lt("client",et,rt)}(_,N.client),N.timeStamp=W}function ie(N){var G=[];return x.array(N)?(G[0]=N[0],G[1]=N[1]):N.type==="touchend"?N.touches.length===1?(G[0]=N.touches[0],G[1]=N.changedTouches[0]):N.touches.length===0&&(G[0]=N.changedTouches[0],G[1]=N.changedTouches[1]):(G[0]=N.touches[0],G[1]=N.touches[1]),G}function oe(N){for(var G={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},W=0;W<N.length;W++){var _=N[W];for(var et in G)G[et]+=_[et]}for(var rt in G)G[rt]/=N.length;return G}function zt(N){if(!N.length)return null;var G=ie(N),W=Math.min(G[0].pageX,G[1].pageX),_=Math.min(G[0].pageY,G[1].pageY),et=Math.max(G[0].pageX,G[1].pageX),rt=Math.max(G[0].pageY,G[1].pageY);return{x:W,y:_,left:W,top:_,right:et,bottom:rt,width:et-W,height:rt-_}}function Zt(N,G){var W=G+"X",_=G+"Y",et=ie(N),rt=et[0][W]-et[1][W],ot=et[0][_]-et[1][_];return bt(rt,ot)}function Bt(N,G){var W=G+"X",_=G+"Y",et=ie(N),rt=et[1][W]-et[0][W],ot=et[1][_]-et[0][_];return 180*Math.atan2(ot,rt)/Math.PI}function Ot(N){return x.string(N.pointerType)?N.pointerType:x.number(N.pointerType)?[void 0,void 0,"touch","pen","mouse"][N.pointerType]:/touch/.test(N.type||"")||N instanceof F.Touch?"touch":"mouse"}function St(N){var G=x.func(N.composedPath)?N.composedPath():N.path;return[j(G?G[0]:N.target),j(N.currentTarget)]}var At=function(){function N(G){P(this,N),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=G}return y(N,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),N}();Object.defineProperty(At.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Ft=function(N,G){for(var W=0;W<G.length;W++){var _=G[W];N.push(_)}return N},ae=function(N){return Ft([],N)},Qt=function(N,G){for(var W=0;W<N.length;W++)if(G(N[W],W,N))return W;return-1},xe=function(N,G){return N[Qt(N,G)]},ye=function(N){o(W,N);var G=n(W);function W(_,et,rt){var ot;P(this,W),(ot=G.call(this,et._interaction)).dropzone=void 0,ot.dragEvent=void 0,ot.relatedTarget=void 0,ot.draggable=void 0,ot.propagationStopped=!1,ot.immediatePropagationStopped=!1;var ft=rt==="dragleave"?_.prev:_.cur,ct=ft.element,Ct=ft.dropzone;return ot.type=rt,ot.target=ct,ot.currentTarget=ct,ot.dropzone=Ct,ot.dragEvent=et,ot.relatedTarget=et.target,ot.draggable=et.interactable,ot.timeStamp=et.timeStamp,ot}return y(W,[{key:"reject",value:function(){var _=this,et=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&et.cur.dropzone===this.dropzone&&et.cur.element===this.target)if(et.prev.dropzone=this.dropzone,et.prev.element=this.target,et.rejected=!0,et.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var rt=et.activeDrops,ot=Qt(rt,function(ct){var Ct=ct.dropzone,pt=ct.element;return Ct===_.dropzone&&pt===_.target});et.activeDrops.splice(ot,1);var ft=new W(et,this.dragEvent,"dropdeactivate");ft.dropzone=this.dropzone,ft.target=this.target,this.dropzone.fire(ft)}else this.dropzone.fire(new W(et,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),W}(At);function we(N,G){for(var W=0,_=N.slice();W<_.length;W++){var et=_[W],rt=et.dropzone,ot=et.element;G.dropzone=rt,G.target=ot,rt.fire(G),G.propagationStopped=G.immediatePropagationStopped=!1}}function $t(N,G){for(var W=function(rt,ot){for(var ft=[],ct=0,Ct=rt.interactables.list;ct<Ct.length;ct++){var pt=Ct[ct];if(pt.options.drop.enabled){var Pt=pt.options.drop.accept;if(!(x.element(Pt)&&Pt!==ot||x.string(Pt)&&!H(ot,Pt)||x.func(Pt)&&!Pt({dropzone:pt,draggableElement:ot})))for(var Gt=0,Jt=pt.getAllElements();Gt<Jt.length;Gt++){var Kt=Jt[Gt];Kt!==ot&&ft.push({dropzone:pt,element:Kt,rect:pt.getRect(Kt)})}}}return ft}(N,G),_=0;_<W.length;_++){var et=W[_];et.rect=et.dropzone.getRect(et.element)}return W}function re(N,G,W){for(var _=N.dropState,et=N.interactable,rt=N.element,ot=[],ft=0,ct=_.activeDrops;ft<ct.length;ft++){var Ct=ct[ft],pt=Ct.dropzone,Pt=Ct.element,Gt=Ct.rect,Jt=pt.dropCheck(G,W,et,rt,Pt,Gt);ot.push(Jt?Pt:null)}var Kt=function(_t){for(var fe,le,Ce,Be=[],He=0;He<_t.length;He++){var Re=_t[He],Ne=_t[fe];if(Re&&He!==fe)if(Ne){var Ci=J(Re),ei=J(Ne);if(Ci!==Re.ownerDocument)if(ei!==Re.ownerDocument)if(Ci!==ei){Be=Be.length?Be:tt(Ne);var Ni=void 0;if(Ne instanceof F.HTMLElement&&Re instanceof F.SVGElement&&!(Re instanceof F.SVGSVGElement)){if(Re===ei)continue;Ni=Re.ownerSVGElement}else Ni=Re;for(var Qi=tt(Ni,Ne.ownerDocument),Ts=0;Qi[Ts]&&Qi[Ts]===Be[Ts];)Ts++;var ar=[Qi[Ts-1],Qi[Ts],Be[Ts]];if(ar[0])for(var On=ar[0].lastChild;On;){if(On===ar[1]){fe=He,Be=Qi;break}if(On===ar[2])break;On=On.previousSibling}}else Ce=Ne,(parseInt(u(le=Re).getComputedStyle(le).zIndex,10)||0)>=(parseInt(u(Ce).getComputedStyle(Ce).zIndex,10)||0)&&(fe=He);else fe=He}else fe=He}return fe}(ot);return _.activeDrops[Kt]||null}function be(N,G,W){var _=N.dropState,et={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return W.type==="dragstart"&&(et.activate=new ye(_,W,"dropactivate"),et.activate.target=null,et.activate.dropzone=null),W.type==="dragend"&&(et.deactivate=new ye(_,W,"dropdeactivate"),et.deactivate.target=null,et.deactivate.dropzone=null),_.rejected||(_.cur.element!==_.prev.element&&(_.prev.dropzone&&(et.leave=new ye(_,W,"dragleave"),W.dragLeave=et.leave.target=_.prev.element,W.prevDropzone=et.leave.dropzone=_.prev.dropzone),_.cur.dropzone&&(et.enter=new ye(_,W,"dragenter"),W.dragEnter=_.cur.element,W.dropzone=_.cur.dropzone)),W.type==="dragend"&&_.cur.dropzone&&(et.drop=new ye(_,W,"drop"),W.dropzone=_.cur.dropzone,W.relatedTarget=_.cur.element),W.type==="dragmove"&&_.cur.dropzone&&(et.move=new ye(_,W,"dropmove"),W.dropzone=_.cur.dropzone)),et}function Ie(N,G){var W=N.dropState,_=W.activeDrops,et=W.cur,rt=W.prev;G.leave&&rt.dropzone.fire(G.leave),G.enter&&et.dropzone.fire(G.enter),G.move&&et.dropzone.fire(G.move),G.drop&&et.dropzone.fire(G.drop),G.deactivate&&we(_,G.deactivate),W.prev.dropzone=et.dropzone,W.prev.element=et.element}function Fe(N,G){var W=N.interaction,_=N.iEvent,et=N.event;if(_.type==="dragmove"||_.type==="dragend"){var rt=W.dropState;G.dynamicDrop&&(rt.activeDrops=$t(G,W.element));var ot=_,ft=re(W,ot,et);rt.rejected=rt.rejected&&!!ft&&ft.dropzone===rt.cur.dropzone&&ft.element===rt.cur.element,rt.cur.dropzone=ft&&ft.dropzone,rt.cur.element=ft&&ft.element,rt.events=be(W,0,ot)}}var ce={id:"actions/drop",install:function(N){var G=N.actions,W=N.interactStatic,_=N.Interactable,et=N.defaults;N.usePlugin(A),_.prototype.dropzone=function(rt){return function(ot,ft){if(x.object(ft)){if(ot.options.drop.enabled=ft.enabled!==!1,ft.listeners){var ct=Et(ft.listeners),Ct=Object.keys(ct).reduce(function(Pt,Gt){return Pt[/^(enter|leave)/.test(Gt)?"drag".concat(Gt):/^(activate|deactivate|move)/.test(Gt)?"drop".concat(Gt):Gt]=ct[Gt],Pt},{}),pt=ot.options.drop.listeners;pt&&ot.off(pt),ot.on(Ct),ot.options.drop.listeners=Ct}return x.func(ft.ondrop)&&ot.on("drop",ft.ondrop),x.func(ft.ondropactivate)&&ot.on("dropactivate",ft.ondropactivate),x.func(ft.ondropdeactivate)&&ot.on("dropdeactivate",ft.ondropdeactivate),x.func(ft.ondragenter)&&ot.on("dragenter",ft.ondragenter),x.func(ft.ondragleave)&&ot.on("dragleave",ft.ondragleave),x.func(ft.ondropmove)&&ot.on("dropmove",ft.ondropmove),/^(pointer|center)$/.test(ft.overlap)?ot.options.drop.overlap=ft.overlap:x.number(ft.overlap)&&(ot.options.drop.overlap=Math.max(Math.min(1,ft.overlap),0)),"accept"in ft&&(ot.options.drop.accept=ft.accept),"checker"in ft&&(ot.options.drop.checker=ft.checker),ot}return x.bool(ft)?(ot.options.drop.enabled=ft,ot):ot.options.drop}(this,rt)},_.prototype.dropCheck=function(rt,ot,ft,ct,Ct,pt){return function(Pt,Gt,Jt,Kt,_t,fe,le){var Ce=!1;if(!(le=le||Pt.getRect(fe)))return!!Pt.options.drop.checker&&Pt.options.drop.checker(Gt,Jt,Ce,Pt,fe,Kt,_t);var Be=Pt.options.drop.overlap;if(Be==="pointer"){var He=xt(Kt,_t,"drag"),Re=kt(Gt);Re.x+=He.x,Re.y+=He.y;var Ne=Re.x>le.left&&Re.x<le.right,Ci=Re.y>le.top&&Re.y<le.bottom;Ce=Ne&&Ci}var ei=Kt.getRect(_t);if(ei&&Be==="center"){var Ni=ei.left+ei.width/2,Qi=ei.top+ei.height/2;Ce=Ni>=le.left&&Ni<=le.right&&Qi>=le.top&&Qi<=le.bottom}return ei&&x.number(Be)&&(Ce=Math.max(0,Math.min(le.right,ei.right)-Math.max(le.left,ei.left))*Math.max(0,Math.min(le.bottom,ei.bottom)-Math.max(le.top,ei.top))/(ei.width*ei.height)>=Be),Pt.options.drop.checker&&(Ce=Pt.options.drop.checker(Gt,Jt,Ce,Pt,fe,Kt,_t)),Ce}(this,rt,ot,ft,ct,Ct,pt)},W.dynamicDrop=function(rt){return x.bool(rt)?(N.dynamicDrop=rt,W):N.dynamicDrop},Z(G.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),G.methodDict.drop="dropzone",N.dynamicDrop=!1,et.actions.drop=ce.defaults},listeners:{"interactions:before-action-start":function(N){var G=N.interaction;G.prepared.name==="drag"&&(G.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(N,G){var W=N.interaction,_=(N.event,N.iEvent);if(W.prepared.name==="drag"){var et=W.dropState;et.activeDrops=[],et.events={},et.activeDrops=$t(G,W.element),et.events=be(W,0,_),et.events.activate&&(we(et.activeDrops,et.events.activate),G.fire("actions/drop:start",{interaction:W,dragEvent:_}))}},"interactions:action-move":Fe,"interactions:after-action-move":function(N,G){var W=N.interaction,_=N.iEvent;if(W.prepared.name==="drag"){var et=W.dropState;Ie(W,et.events),G.fire("actions/drop:move",{interaction:W,dragEvent:_}),et.events={}}},"interactions:action-end":function(N,G){if(N.interaction.prepared.name==="drag"){var W=N.interaction,_=N.iEvent;Fe(N,G),Ie(W,W.dropState.events),G.fire("actions/drop:end",{interaction:W,dragEvent:_})}},"interactions:stop":function(N){var G=N.interaction;if(G.prepared.name==="drag"){var W=G.dropState;W&&(W.activeDrops=null,W.events=null,W.cur.dropzone=null,W.cur.element=null,W.prev.dropzone=null,W.prev.element=null,W.rejected=!1)}}},getActiveDrops:$t,getDrop:re,getDropEvents:be,fireDropEvents:Ie,filterEventType:function(N){return N.search("drag")===0||N.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Me=ce;function Ue(N){var G=N.interaction,W=N.iEvent,_=N.phase;if(G.prepared.name==="gesture"){var et=G.pointers.map(function(Ct){return Ct.pointer}),rt=_==="start",ot=_==="end",ft=G.interactable.options.deltaSource;if(W.touches=[et[0],et[1]],rt)W.distance=Zt(et,ft),W.box=zt(et),W.scale=1,W.ds=0,W.angle=Bt(et,ft),W.da=0,G.gesture.startDistance=W.distance,G.gesture.startAngle=W.angle;else if(ot||G.pointers.length<2){var ct=G.prevEvent;W.distance=ct.distance,W.box=ct.box,W.scale=ct.scale,W.ds=0,W.angle=ct.angle,W.da=0}else W.distance=Zt(et,ft),W.box=zt(et),W.scale=W.distance/G.gesture.startDistance,W.angle=Bt(et,ft),W.ds=W.scale-G.gesture.scale,W.da=W.angle-G.gesture.angle;G.gesture.distance=W.distance,G.gesture.angle=W.angle,x.number(W.scale)&&W.scale!==1/0&&!isNaN(W.scale)&&(G.gesture.scale=W.scale)}}var Xe={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(N){var G=N.actions,W=N.Interactable,_=N.defaults;W.prototype.gesturable=function(et){return x.object(et)?(this.options.gesture.enabled=et.enabled!==!1,this.setPerAction("gesture",et),this.setOnEvents("gesture",et),this):x.bool(et)?(this.options.gesture.enabled=et,this):this.options.gesture},G.map.gesture=Xe,G.methodDict.gesture="gesturable",_.actions.gesture=Xe.defaults},listeners:{"interactions:action-start":Ue,"interactions:action-move":Ue,"interactions:action-end":Ue,"interactions:new":function(N){N.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(N){if(!(N.interaction.pointers.length<2)){var G=N.interactable.options.gesture;if(G&&G.enabled)return N.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(N){return N.search("gesture")===0}},hi=Xe;function Qe(N,G,W,_,et,rt,ot){if(!G)return!1;if(G===!0){var ft=x.number(rt.width)?rt.width:rt.right-rt.left,ct=x.number(rt.height)?rt.height:rt.bottom-rt.top;if(ot=Math.min(ot,Math.abs((N==="left"||N==="right"?ft:ct)/2)),ft<0&&(N==="left"?N="right":N==="right"&&(N="left")),ct<0&&(N==="top"?N="bottom":N==="bottom"&&(N="top")),N==="left"){var Ct=ft>=0?rt.left:rt.right;return W.x<Ct+ot}if(N==="top"){var pt=ct>=0?rt.top:rt.bottom;return W.y<pt+ot}if(N==="right")return W.x>(ft>=0?rt.right:rt.left)-ot;if(N==="bottom")return W.y>(ct>=0?rt.bottom:rt.top)-ot}return!!x.element(_)&&(x.element(G)?G===_:X(_,G,et))}function gi(N){var G=N.iEvent,W=N.interaction;if(W.prepared.name==="resize"&&W.resizeAxes){var _=G;W.interactable.options.resize.square?(W.resizeAxes==="y"?_.delta.x=_.delta.y:_.delta.y=_.delta.x,_.axes="xy"):(_.axes=W.resizeAxes,W.resizeAxes==="x"?_.delta.y=0:W.resizeAxes==="y"&&(_.delta.x=0))}}var si,We,Ge={id:"actions/resize",before:["actions/drag"],install:function(N){var G=N.actions,W=N.browser,_=N.Interactable,et=N.defaults;Ge.cursors=function(rt){return rt.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(W),Ge.defaultMargin=W.supportsTouch||W.supportsPointerEvent?20:10,_.prototype.resizable=function(rt){return function(ot,ft,ct){return x.object(ft)?(ot.options.resize.enabled=ft.enabled!==!1,ot.setPerAction("resize",ft),ot.setOnEvents("resize",ft),x.string(ft.axis)&&/^x$|^y$|^xy$/.test(ft.axis)?ot.options.resize.axis=ft.axis:ft.axis===null&&(ot.options.resize.axis=ct.defaults.actions.resize.axis),x.bool(ft.preserveAspectRatio)?ot.options.resize.preserveAspectRatio=ft.preserveAspectRatio:x.bool(ft.square)&&(ot.options.resize.square=ft.square),ot):x.bool(ft)?(ot.options.resize.enabled=ft,ot):ot.options.resize}(this,rt,N)},G.map.resize=Ge,G.methodDict.resize="resizable",et.actions.resize=Ge.defaults},listeners:{"interactions:new":function(N){N.interaction.resizeAxes="xy"},"interactions:action-start":function(N){(function(G){var W=G.iEvent,_=G.interaction;if(_.prepared.name==="resize"&&_.prepared.edges){var et=W,rt=_.rect;_._rects={start:Z({},rt),corrected:Z({},rt),previous:Z({},rt),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},et.edges=_.prepared.edges,et.rect=_._rects.corrected,et.deltaRect=_._rects.delta}})(N),gi(N)},"interactions:action-move":function(N){(function(G){var W=G.iEvent,_=G.interaction;if(_.prepared.name==="resize"&&_.prepared.edges){var et=W,rt=_.interactable.options.resize.invert,ot=rt==="reposition"||rt==="negate",ft=_.rect,ct=_._rects,Ct=ct.start,pt=ct.corrected,Pt=ct.delta,Gt=ct.previous;if(Z(Gt,pt),ot){if(Z(pt,ft),rt==="reposition"){if(pt.top>pt.bottom){var Jt=pt.top;pt.top=pt.bottom,pt.bottom=Jt}if(pt.left>pt.right){var Kt=pt.left;pt.left=pt.right,pt.right=Kt}}}else pt.top=Math.min(ft.top,Ct.bottom),pt.bottom=Math.max(ft.bottom,Ct.top),pt.left=Math.min(ft.left,Ct.right),pt.right=Math.max(ft.right,Ct.left);for(var _t in pt.width=pt.right-pt.left,pt.height=pt.bottom-pt.top,pt)Pt[_t]=pt[_t]-Gt[_t];et.edges=_.prepared.edges,et.rect=pt,et.deltaRect=Pt}})(N),gi(N)},"interactions:action-end":function(N){var G=N.iEvent,W=N.interaction;if(W.prepared.name==="resize"&&W.prepared.edges){var _=G;_.edges=W.prepared.edges,_.rect=W._rects.corrected,_.deltaRect=W._rects.delta}},"auto-start:check":function(N){var G=N.interaction,W=N.interactable,_=N.element,et=N.rect,rt=N.buttons;if(et){var ot=Z({},G.coords.cur.page),ft=W.options.resize;if(ft&&ft.enabled&&(!G.pointerIsDown||!/mouse|pointer/.test(G.pointerType)||rt&ft.mouseButtons)){if(x.object(ft.edges)){var ct={left:!1,right:!1,top:!1,bottom:!1};for(var Ct in ct)ct[Ct]=Qe(Ct,ft.edges[Ct],ot,G._latestPointer.eventTarget,_,et,ft.margin||Ge.defaultMargin);ct.left=ct.left&&!ct.right,ct.top=ct.top&&!ct.bottom,(ct.left||ct.right||ct.top||ct.bottom)&&(N.action={name:"resize",edges:ct})}else{var pt=ft.axis!=="y"&&ot.x>et.right-Ge.defaultMargin,Pt=ft.axis!=="x"&&ot.y>et.bottom-Ge.defaultMargin;(pt||Pt)&&(N.action={name:"resize",axes:(pt?"x":"")+(Pt?"y":"")})}return!N.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(N){var G=N.edges,W=N.axis,_=N.name,et=Ge.cursors,rt=null;if(W)rt=et[_+W];else if(G){for(var ot="",ft=0,ct=["top","bottom","left","right"];ft<ct.length;ft++){var Ct=ct[ft];G[Ct]&&(ot+=Ct)}rt=et[ot]}return rt},filterEventType:function(N){return N.search("resize")===0},defaultMargin:null},ni=Ge,xi={id:"actions",install:function(N){N.usePlugin(hi),N.usePlugin(ni),N.usePlugin(A),N.usePlugin(Me)}},me=0,_e={request:function(N){return si(N)},cancel:function(N){return We(N)},init:function(N){if(si=N.requestAnimationFrame,We=N.cancelAnimationFrame,!si)for(var G=["ms","moz","webkit","o"],W=0;W<G.length;W++){var _=G[W];si=N["".concat(_,"RequestAnimationFrame")],We=N["".concat(_,"CancelAnimationFrame")]||N["".concat(_,"CancelRequestAnimationFrame")]}si=si&&si.bind(N),We=We&&We.bind(N),si||(si=function(et){var rt=Date.now(),ot=Math.max(0,16-(rt-me)),ft=N.setTimeout(function(){et(rt+ot)},ot);return me=rt+ot,ft},We=function(et){return clearTimeout(et)})}},ge={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(N){ge.isScrolling=!0,_e.cancel(ge.i),N.autoScroll=ge,ge.interaction=N,ge.prevTime=ge.now(),ge.i=_e.request(ge.scroll)},stop:function(){ge.isScrolling=!1,ge.interaction&&(ge.interaction.autoScroll=null),_e.cancel(ge.i)},scroll:function(){var N=ge.interaction,G=N.interactable,W=N.element,_=N.prepared.name,et=G.options[_].autoScroll,rt=Mi(et.container,G,W),ot=ge.now(),ft=(ot-ge.prevTime)/1e3,ct=et.speed*ft;if(ct>=1){var Ct={x:ge.x*ct,y:ge.y*ct};if(Ct.x||Ct.y){var pt=Ti(rt);x.window(rt)?rt.scrollBy(Ct.x,Ct.y):rt&&(rt.scrollLeft+=Ct.x,rt.scrollTop+=Ct.y);var Pt=Ti(rt),Gt={x:Pt.x-pt.x,y:Pt.y-pt.y};(Gt.x||Gt.y)&&G.fire({type:"autoscroll",target:W,interactable:G,delta:Gt,interaction:N,container:rt})}ge.prevTime=ot}ge.isScrolling&&(_e.cancel(ge.i),ge.i=_e.request(ge.scroll))},check:function(N,G){var W;return(W=N.options[G].autoScroll)==null?void 0:W.enabled},onInteractionMove:function(N){var G=N.interaction,W=N.pointer;if(G.interacting()&&ge.check(G.interactable,G.prepared.name))if(G.simulation)ge.x=ge.y=0;else{var _,et,rt,ot,ft=G.interactable,ct=G.element,Ct=G.prepared.name,pt=ft.options[Ct].autoScroll,Pt=Mi(pt.container,ft,ct);if(x.window(Pt))ot=W.clientX<ge.margin,_=W.clientY<ge.margin,et=W.clientX>Pt.innerWidth-ge.margin,rt=W.clientY>Pt.innerHeight-ge.margin;else{var Gt=D(Pt);ot=W.clientX<Gt.left+ge.margin,_=W.clientY<Gt.top+ge.margin,et=W.clientX>Gt.right-ge.margin,rt=W.clientY>Gt.bottom-ge.margin}ge.x=et?1:ot?-1:0,ge.y=rt?1:_?-1:0,ge.isScrolling||(ge.margin=pt.margin,ge.speed=pt.speed,ge.start(G))}}};function Mi(N,G,W){return(x.string(N)?it(N,G,W):N)||u(W)}function Ti(N){return x.window(N)&&(N=window.document.body),{x:N.scrollLeft,y:N.scrollTop}}var As={id:"auto-scroll",install:function(N){var G=N.defaults,W=N.actions;N.autoScroll=ge,ge.now=function(){return N.now()},W.phaselessTypes.autoscroll=!0,G.perAction.autoScroll=ge.defaults},listeners:{"interactions:new":function(N){N.interaction.autoScroll=null},"interactions:destroy":function(N){N.interaction.autoScroll=null,ge.stop(),ge.interaction&&(ge.interaction=null)},"interactions:stop":ge.stop,"interactions:action-move":function(N){return ge.onInteractionMove(N)}}},ps=As;function Bi(N,G){var W=!1;return function(){return W||(h.console.warn(G),W=!0),N.apply(this,arguments)}}function _s(N,G){return N.name=G.name,N.axis=G.axis,N.edges=G.edges,N}function Cn(N){return x.bool(N)?(this.options.styleCursor=N,this):N===null?(delete this.options.styleCursor,this):this.options.styleCursor}function An(N){return x.func(N)?(this.options.actionChecker=N,this):N===null?(delete this.options.actionChecker,this):this.options.actionChecker}var ji={id:"auto-start/interactableMethods",install:function(N){var G=N.Interactable;G.prototype.getAction=function(W,_,et,rt){var ot=function(ft,ct,Ct,pt,Pt){var Gt=ft.getRect(pt),Jt=ct.buttons||{0:1,1:4,3:8,4:16}[ct.button],Kt={action:null,interactable:ft,interaction:Ct,element:pt,rect:Gt,buttons:Jt};return Pt.fire("auto-start:check",Kt),Kt.action}(this,_,et,rt,N);return this.options.actionChecker?this.options.actionChecker(W,_,ot,this,rt,et):ot},G.prototype.ignoreFrom=Bi(function(W){return this._backCompatOption("ignoreFrom",W)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),G.prototype.allowFrom=Bi(function(W){return this._backCompatOption("allowFrom",W)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),G.prototype.actionChecker=An,G.prototype.styleCursor=Cn}};function es(N,G,W,_,et){return G.testIgnoreAllow(G.options[N.name],W,_)&&G.options[N.name].enabled&&fi(G,W,N,et)?N:null}function is(N,G,W,_,et,rt,ot){for(var ft=0,ct=_.length;ft<ct;ft++){var Ct=_[ft],pt=et[ft],Pt=Ct.getAction(G,W,N,pt);if(Pt){var Gt=es(Pt,Ct,pt,rt,ot);if(Gt)return{action:Gt,interactable:Ct,element:pt}}}return{action:null,interactable:null,element:null}}function tn(N,G,W,_,et){var rt=[],ot=[],ft=_;function ct(pt){rt.push(pt),ot.push(ft)}for(;x.element(ft);){rt=[],ot=[],et.interactables.forEachMatch(ft,ct);var Ct=is(N,G,W,rt,ot,_,et);if(Ct.action&&!Ct.interactable.options[Ct.action.name].manualStart)return Ct;ft=U(ft)}return{action:null,interactable:null,element:null}}function en(N,G,W){var _=G.action,et=G.interactable,rt=G.element;_=_||{name:null},N.interactable=et,N.element=rt,_s(N.prepared,_),N.rect=et&&_.name?et.getRect(rt):null,ms(N,W),W.fire("autoStart:prepared",{interaction:N})}function fi(N,G,W,_){var et=N.options,rt=et[W.name].max,ot=et[W.name].maxPerElement,ft=_.autoStart.maxInteractions,ct=0,Ct=0,pt=0;if(!(rt&&ot&&ft))return!1;for(var Pt=0,Gt=_.interactions.list;Pt<Gt.length;Pt++){var Jt=Gt[Pt],Kt=Jt.prepared.name;if(Jt.interacting()&&(++ct>=ft||Jt.interactable===N&&((Ct+=Kt===W.name?1:0)>=rt||Jt.element===G&&(pt++,Kt===W.name&&pt>=ot))))return!1}return ft>0}function Si(N,G){return x.number(N)?(G.autoStart.maxInteractions=N,this):G.autoStart.maxInteractions}function Us(N,G,W){var _=W.autoStart.cursorElement;_&&_!==N&&(_.style.cursor=""),N.ownerDocument.documentElement.style.cursor=G,N.style.cursor=G,W.autoStart.cursorElement=G?N:null}function ms(N,G){var W=N.interactable,_=N.element,et=N.prepared;if(N.pointerType==="mouse"&&W&&W.options.styleCursor){var rt="";if(et.name){var ot=W.options[et.name].cursorChecker;rt=x.func(ot)?ot(et,W,_,N._interacting):G.actions.map[et.name].getCursor(et)}Us(N.element,rt||"",G)}else G.autoStart.cursorElement&&Us(G.autoStart.cursorElement,"",G)}var gs={id:"auto-start/base",before:["actions"],install:function(N){var G=N.interactStatic,W=N.defaults;N.usePlugin(ji),W.base.actionChecker=null,W.base.styleCursor=!0,Z(W.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),G.maxInteractions=function(_){return Si(_,N)},N.autoStart={maxInteractions:1/0,withinInteractionLimit:fi,cursorElement:null}},listeners:{"interactions:down":function(N,G){var W=N.interaction,_=N.pointer,et=N.event,rt=N.eventTarget;W.interacting()||en(W,tn(W,_,et,rt,G),G)},"interactions:move":function(N,G){(function(W,_){var et=W.interaction,rt=W.pointer,ot=W.event,ft=W.eventTarget;et.pointerType!=="mouse"||et.pointerIsDown||et.interacting()||en(et,tn(et,rt,ot,ft,_),_)})(N,G),function(W,_){var et=W.interaction;if(et.pointerIsDown&&!et.interacting()&&et.pointerWasMoved&&et.prepared.name){_.fire("autoStart:before-start",W);var rt=et.interactable,ot=et.prepared.name;ot&&rt&&(rt.options[ot].manualStart||!fi(rt,et.element,et.prepared,_)?et.stop():(et.start(et.prepared,rt,et.element),ms(et,_)))}}(N,G)},"interactions:stop":function(N,G){var W=N.interaction,_=W.interactable;_&&_.options.styleCursor&&Us(W.element,"",G)}},maxInteractions:Si,withinInteractionLimit:fi,validateAction:es},bi=gs,wn={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(N,G){var W=N.interaction,_=N.eventTarget,et=N.dx,rt=N.dy;if(W.prepared.name==="drag"){var ot=Math.abs(et),ft=Math.abs(rt),ct=W.interactable.options.drag,Ct=ct.startAxis,pt=ot>ft?"x":ot<ft?"y":"xy";if(W.prepared.axis=ct.lockAxis==="start"?pt[0]:ct.lockAxis,pt!=="xy"&&Ct!=="xy"&&Ct!==pt){W.prepared.name=null;for(var Pt=_,Gt=function(Kt){if(Kt!==W.interactable){var _t=W.interactable.options.drag;if(!_t.manualStart&&Kt.testIgnoreAllow(_t,Pt,_)){var fe=Kt.getAction(W.downPointer,W.downEvent,W,Pt);if(fe&&fe.name==="drag"&&function(le,Ce){if(!Ce)return!1;var Be=Ce.options.drag.startAxis;return le==="xy"||Be==="xy"||Be===le}(pt,Kt)&&bi.validateAction(fe,Kt,Pt,_,G))return Kt}}};x.element(Pt);){var Jt=G.interactables.forEachMatch(Pt,Gt);if(Jt){W.prepared.name="drag",W.interactable=Jt,W.element=Pt;break}Pt=U(Pt)}}}}}};function sn(N){var G=N.prepared&&N.prepared.name;if(!G)return null;var W=N.interactable.options;return W[G].hold||W[G].delay}var _n={id:"auto-start/hold",install:function(N){var G=N.defaults;N.usePlugin(bi),G.perAction.hold=0,G.perAction.delay=0},listeners:{"interactions:new":function(N){N.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(N){var G=N.interaction,W=sn(G);W>0&&(G.autoStartHoldTimer=setTimeout(function(){G.start(G.prepared,G.interactable,G.element)},W))},"interactions:move":function(N){var G=N.interaction,W=N.duplicate;G.autoStartHoldTimer&&G.pointerWasMoved&&!W&&(clearTimeout(G.autoStartHoldTimer),G.autoStartHoldTimer=null)},"autoStart:before-start":function(N){var G=N.interaction;sn(G)>0&&(G.prepared.name=null)}},getHoldDuration:sn},ss=_n,tr={id:"auto-start",install:function(N){N.usePlugin(bi),N.usePlugin(ss),N.usePlugin(wn)}},ue=function(N){return/^(always|never|auto)$/.test(N)?(this.options.preventDefault=N,this):x.bool(N)?(this.options.preventDefault=N?"always":"never",this):this.options.preventDefault};function Pe(N){var G=N.interaction,W=N.event;G.interactable&&G.interactable.checkAndPreventDefault(W)}var ns={id:"core/interactablePreventDefault",install:function(N){var G=N.Interactable;G.prototype.preventDefault=ue,G.prototype.checkAndPreventDefault=function(W){return function(_,et,rt){var ot=_.options.preventDefault;if(ot!=="never")if(ot!=="always"){if(et.events.supportsPassive&&/^touch(start|move)$/.test(rt.type)){var ft=u(rt.target).document,ct=et.getDocOptions(ft);if(!ct||!ct.events||ct.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(rt.type)||x.element(rt.target)&&H(rt.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||rt.preventDefault()}else rt.preventDefault()}(this,N,W)},N.interactions.docEvents.push({type:"dragstart",listener:function(W){for(var _=0,et=N.interactions.list;_<et.length;_++){var rt=et[_];if(rt.element&&(rt.element===W.target||I(rt.element,W.target)))return void rt.interactable.checkAndPreventDefault(W)}}})},listeners:["down","move","up","cancel"].reduce(function(N,G){return N["interactions:".concat(G)]=Pe,N},{})};function Ki(N,G){if(G.phaselessTypes[N])return!0;for(var W in G.map)if(N.indexOf(W)===0&&N.substr(W.length)in G.phases)return!0;return!1}function Pi(N){var G={};for(var W in N){var _=N[W];x.plainObject(_)?G[W]=Pi(_):x.array(_)?G[W]=ae(_):G[W]=_}return G}var xs=function(){function N(G){P(this,N),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=G,this.result=Xi(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return y(N,[{key:"start",value:function(G,W){var _,et,rt=G.phase,ot=this.interaction,ft=function(Ct){var pt=Ct.interactable.options[Ct.prepared.name],Pt=pt.modifiers;return Pt&&Pt.length?Pt:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(Gt){var Jt=pt[Gt];return Jt&&Jt.enabled&&{options:Jt,methods:Jt._methods}}).filter(function(Gt){return!!Gt})}(ot);this.prepareStates(ft),this.startEdges=Z({},ot.edges),this.edges=Z({},this.startEdges),this.startOffset=(_=ot.rect,et=W,_?{left:et.x-_.left,top:et.y-_.top,right:_.right-et.x,bottom:_.bottom-et.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var ct=this.fillArg({phase:rt,pageCoords:W,preEnd:!1});return this.result=Xi(),this.startAll(ct),this.result=this.setAll(ct)}},{key:"fillArg",value:function(G){var W=this.interaction;return G.interaction=W,G.interactable=W.interactable,G.element=W.element,G.rect||(G.rect=W.rect),G.edges||(G.edges=this.startEdges),G.startOffset=this.startOffset,G}},{key:"startAll",value:function(G){for(var W=0,_=this.states;W<_.length;W++){var et=_[W];et.methods.start&&(G.state=et,et.methods.start(G))}}},{key:"setAll",value:function(G){var W=G.phase,_=G.preEnd,et=G.skipModifiers,rt=G.rect,ot=G.edges;G.coords=Z({},G.pageCoords),G.rect=Z({},rt),G.edges=Z({},ot);for(var ft=et?this.states.slice(et):this.states,ct=Xi(G.coords,G.rect),Ct=0;Ct<ft.length;Ct++){var pt,Pt=ft[Ct],Gt=Pt.options,Jt=Z({},G.coords),Kt=null;(pt=Pt.methods)!=null&&pt.set&&this.shouldDo(Gt,_,W)&&(G.state=Pt,Kt=Pt.methods.set(G),vt(G.edges,G.rect,{x:G.coords.x-Jt.x,y:G.coords.y-Jt.y})),ct.eventProps.push(Kt)}Z(this.edges,G.edges),ct.delta.x=G.coords.x-G.pageCoords.x,ct.delta.y=G.coords.y-G.pageCoords.y,ct.rectDelta.left=G.rect.left-rt.left,ct.rectDelta.right=G.rect.right-rt.right,ct.rectDelta.top=G.rect.top-rt.top,ct.rectDelta.bottom=G.rect.bottom-rt.bottom;var _t=this.result.coords,fe=this.result.rect;if(_t&&fe){var le=ct.rect.left!==fe.left||ct.rect.right!==fe.right||ct.rect.top!==fe.top||ct.rect.bottom!==fe.bottom;ct.changed=le||_t.x!==ct.coords.x||_t.y!==ct.coords.y}return ct}},{key:"applyToInteraction",value:function(G){var W=this.interaction,_=G.phase,et=W.coords.cur,rt=W.coords.start,ot=this.result,ft=this.startDelta,ct=ot.delta;_==="start"&&Z(this.startDelta,ot.delta);for(var Ct=0,pt=[[rt,ft],[et,ct]];Ct<pt.length;Ct++){var Pt=pt[Ct],Gt=Pt[0],Jt=Pt[1];Gt.page.x+=Jt.x,Gt.page.y+=Jt.y,Gt.client.x+=Jt.x,Gt.client.y+=Jt.y}var Kt=this.result.rectDelta,_t=G.rect||W.rect;_t.left+=Kt.left,_t.right+=Kt.right,_t.top+=Kt.top,_t.bottom+=Kt.bottom,_t.width=_t.right-_t.left,_t.height=_t.bottom-_t.top}},{key:"setAndApply",value:function(G){var W=this.interaction,_=G.phase,et=G.preEnd,rt=G.skipModifiers,ot=this.setAll(this.fillArg({preEnd:et,phase:_,pageCoords:G.modifiedCoords||W.coords.cur.page}));if(this.result=ot,!ot.changed&&(!rt||rt<this.states.length)&&W.interacting())return!1;if(G.modifiedCoords){var ft=W.coords.cur.page,ct={x:G.modifiedCoords.x-ft.x,y:G.modifiedCoords.y-ft.y};ot.coords.x+=ct.x,ot.coords.y+=ct.y,ot.delta.x+=ct.x,ot.delta.y+=ct.y}this.applyToInteraction(G)}},{key:"beforeEnd",value:function(G){var W=G.interaction,_=G.event,et=this.states;if(et&&et.length){for(var rt=!1,ot=0;ot<et.length;ot++){var ft=et[ot];G.state=ft;var ct=ft.options,Ct=ft.methods,pt=Ct.beforeEnd&&Ct.beforeEnd(G);if(pt)return this.endResult=pt,!1;rt=rt||!rt&&this.shouldDo(ct,!0,G.phase,!0)}rt&&W.move({event:_,preEnd:!0})}}},{key:"stop",value:function(G){var W=G.interaction;if(this.states&&this.states.length){var _=Z({states:this.states,interactable:W.interactable,element:W.element,rect:null},G);this.fillArg(_);for(var et=0,rt=this.states;et<rt.length;et++){var ot=rt[et];_.state=ot,ot.methods.stop&&ot.methods.stop(_)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(G){this.states=[];for(var W=0;W<G.length;W++){var _=G[W],et=_.options,rt=_.methods,ot=_.name;this.states.push({options:et,methods:rt,index:W,name:ot})}return this.states}},{key:"restoreInteractionCoords",value:function(G){var W=G.interaction,_=W.coords,et=W.rect,rt=W.modification;if(rt.result){for(var ot=rt.startDelta,ft=rt.result,ct=ft.delta,Ct=ft.rectDelta,pt=0,Pt=[[_.start,ot],[_.cur,ct]];pt<Pt.length;pt++){var Gt=Pt[pt],Jt=Gt[0],Kt=Gt[1];Jt.page.x-=Kt.x,Jt.page.y-=Kt.y,Jt.client.x-=Kt.x,Jt.client.y-=Kt.y}et.left-=Ct.left,et.right-=Ct.right,et.top-=Ct.top,et.bottom-=Ct.bottom}}},{key:"shouldDo",value:function(G,W,_,et){return!(!G||G.enabled===!1||et&&!G.endOnly||G.endOnly&&!W||_==="start"&&!G.setStart)}},{key:"copyFrom",value:function(G){this.startOffset=G.startOffset,this.startDelta=G.startDelta,this.startEdges=G.startEdges,this.edges=G.edges,this.states=G.states.map(function(W){return Pi(W)}),this.result=Xi(Z({},G.result.coords),Z({},G.result.rect))}},{key:"destroy",value:function(){for(var G in this)this[G]=null}}]),N}();function Xi(N,G){return{rect:G,coords:N,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function di(N,G){var W=N.defaults,_={start:N.start,set:N.set,beforeEnd:N.beforeEnd,stop:N.stop},et=function(rt){var ot=rt||{};for(var ft in ot.enabled=ot.enabled!==!1,W)ft in ot||(ot[ft]=W[ft]);var ct={options:ot,methods:_,name:G,enable:function(){return ot.enabled=!0,ct},disable:function(){return ot.enabled=!1,ct}};return ct};return G&&typeof G=="string"&&(et._defaults=W,et._methods=_),et}function li(N){var G=N.iEvent,W=N.interaction.modification.result;W&&(G.modifiers=W.eventProps)}var ws={id:"modifiers/base",before:["actions"],install:function(N){N.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(N){var G=N.interaction;G.modification=new xs(G)},"interactions:before-action-start":function(N){var G=N.interaction,W=N.interaction.modification;W.start(N,G.coords.start.page),G.edges=W.edges,W.applyToInteraction(N)},"interactions:before-action-move":function(N){var G=N.interaction,W=G.modification,_=W.setAndApply(N);return G.edges=W.edges,_},"interactions:before-action-end":function(N){var G=N.interaction,W=G.modification,_=W.beforeEnd(N);return G.edges=W.startEdges,_},"interactions:action-start":li,"interactions:action-move":li,"interactions:action-end":li,"interactions:after-action-start":function(N){return N.interaction.modification.restoreInteractionCoords(N)},"interactions:after-action-move":function(N){return N.interaction.modification.restoreInteractionCoords(N)},"interactions:stop":function(N){return N.interaction.modification.stop(N)}}},Ri=ws,ys={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},rs=function(N){o(W,N);var G=n(W);function W(_,et,rt,ot,ft,ct,Ct){var pt;P(this,W),(pt=G.call(this,_)).relatedTarget=null,pt.screenX=void 0,pt.screenY=void 0,pt.button=void 0,pt.buttons=void 0,pt.ctrlKey=void 0,pt.shiftKey=void 0,pt.altKey=void 0,pt.metaKey=void 0,pt.page=void 0,pt.client=void 0,pt.delta=void 0,pt.rect=void 0,pt.x0=void 0,pt.y0=void 0,pt.t0=void 0,pt.dt=void 0,pt.duration=void 0,pt.clientX0=void 0,pt.clientY0=void 0,pt.velocity=void 0,pt.speed=void 0,pt.swipe=void 0,pt.axes=void 0,pt.preEnd=void 0,ft=ft||_.element;var Pt=_.interactable,Gt=(Pt&&Pt.options||ys).deltaSource,Jt=xt(Pt,ft,rt),Kt=ot==="start",_t=ot==="end",fe=Kt?i(pt):_.prevEvent,le=Kt?_.coords.start:_t?{page:fe.page,client:fe.client,timeStamp:_.coords.cur.timeStamp}:_.coords.cur;return pt.page=Z({},le.page),pt.client=Z({},le.client),pt.rect=Z({},_.rect),pt.timeStamp=le.timeStamp,_t||(pt.page.x-=Jt.x,pt.page.y-=Jt.y,pt.client.x-=Jt.x,pt.client.y-=Jt.y),pt.ctrlKey=et.ctrlKey,pt.altKey=et.altKey,pt.shiftKey=et.shiftKey,pt.metaKey=et.metaKey,pt.button=et.button,pt.buttons=et.buttons,pt.target=ft,pt.currentTarget=ft,pt.preEnd=ct,pt.type=Ct||rt+(ot||""),pt.interactable=Pt,pt.t0=Kt?_.pointers[_.pointers.length-1].downTime:fe.t0,pt.x0=_.coords.start.page.x-Jt.x,pt.y0=_.coords.start.page.y-Jt.y,pt.clientX0=_.coords.start.client.x-Jt.x,pt.clientY0=_.coords.start.client.y-Jt.y,pt.delta=Kt||_t?{x:0,y:0}:{x:pt[Gt].x-fe[Gt].x,y:pt[Gt].y-fe[Gt].y},pt.dt=_.coords.delta.timeStamp,pt.duration=pt.timeStamp-pt.t0,pt.velocity=Z({},_.coords.velocity[Gt]),pt.speed=bt(pt.velocity.x,pt.velocity.y),pt.swipe=_t||ot==="inertiastart"?pt.getSwipe():null,pt}return y(W,[{key:"getSwipe",value:function(){var _=this._interaction;if(_.prevEvent.speed<600||this.timeStamp-_.prevEvent.timeStamp>150)return null;var et=180*Math.atan2(_.prevEvent.velocityY,_.prevEvent.velocityX)/Math.PI;et<0&&(et+=360);var rt=112.5<=et&&et<247.5,ot=202.5<=et&&et<337.5;return{up:ot,down:!ot&&22.5<=et&&et<157.5,left:rt,right:!rt&&(292.5<=et||et<67.5),angle:et,speed:_.prevEvent.speed,velocity:{x:_.prevEvent.velocityX,y:_.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),W}(At);Object.defineProperties(rs.prototype,{pageX:{get:function(){return this.page.x},set:function(N){this.page.x=N}},pageY:{get:function(){return this.page.y},set:function(N){this.page.y=N}},clientX:{get:function(){return this.client.x},set:function(N){this.client.x=N}},clientY:{get:function(){return this.client.y},set:function(N){this.client.y=N}},dx:{get:function(){return this.delta.x},set:function(N){this.delta.x=N}},dy:{get:function(){return this.delta.y},set:function(N){this.delta.y=N}},velocityX:{get:function(){return this.velocity.x},set:function(N){this.velocity.x=N}},velocityY:{get:function(){return this.velocity.y},set:function(N){this.velocity.y=N}}});var Xs=y(function N(G,W,_,et,rt){P(this,N),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=G,this.pointer=W,this.event=_,this.downTime=et,this.downTarget=rt}),Gi=function(N){return N.interactable="",N.element="",N.prepared="",N.pointerIsDown="",N.pointerWasMoved="",N._proxy="",N}({}),as=function(N){return N.start="",N.move="",N.end="",N.stop="",N.interacting="",N}({}),Mn=0,er=function(){function N(G){var W=this,_=G.pointerType,et=G.scopeFire;P(this,N),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Bi(function(pt){this.move(pt)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Mn++,this._scopeFire=et,this.pointerType=_;var rt=this;this._proxy={};var ot=function(pt){Object.defineProperty(W._proxy,pt,{get:function(){return rt[pt]}})};for(var ft in Gi)ot(ft);var ct=function(pt){Object.defineProperty(W._proxy,pt,{value:function(){return rt[pt].apply(rt,arguments)}})};for(var Ct in as)ct(Ct);this._scopeFire("interactions:new",{interaction:this})}return y(N,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(G,W,_){var et=this.updatePointer(G,W,_,!0),rt=this.pointers[et];this._scopeFire("interactions:down",{pointer:G,event:W,eventTarget:_,pointerIndex:et,pointerInfo:rt,type:"down",interaction:this})}},{key:"start",value:function(G,W,_){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(G.name==="gesture"?2:1)||!W.options[G.name].enabled)&&(_s(this.prepared,G),this.interactable=W,this.element=_,this.rect=W.getRect(_),this.edges=this.prepared.edges?Z({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(G,W,_){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(G,W,_,!1);var et,rt,ot=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(et=this.coords.cur.client.x-this.coords.start.client.x,rt=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=bt(et,rt)>this.pointerMoveTolerance);var ft,ct,Ct,pt=this.getPointerIndex(G),Pt={pointer:G,pointerIndex:pt,pointerInfo:this.pointers[pt],event:W,type:"move",eventTarget:_,dx:et,dy:rt,duplicate:ot,interaction:this};ot||(ft=this.coords.velocity,ct=this.coords.delta,Ct=Math.max(ct.timeStamp/1e3,.001),ft.page.x=ct.page.x/Ct,ft.page.y=ct.page.y/Ct,ft.client.x=ct.client.x/Ct,ft.client.y=ct.client.y/Ct,ft.timeStamp=Ct),this._scopeFire("interactions:move",Pt),ot||this.simulation||(this.interacting()&&(Pt.type=null,this.move(Pt)),this.pointerWasMoved&&Nt(this.coords.prev,this.coords.cur))}},{key:"move",value:function(G){G&&G.event||Mt(this.coords.delta),(G=Z({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},G||{})).phase="move",this._doPhase(G)}},{key:"pointerUp",value:function(G,W,_,et){var rt=this.getPointerIndex(G);rt===-1&&(rt=this.updatePointer(G,W,_,!1));var ot=/cancel$/i.test(W.type)?"cancel":"up";this._scopeFire("interactions:".concat(ot),{pointer:G,pointerIndex:rt,pointerInfo:this.pointers[rt],event:W,eventTarget:_,type:ot,curEventTarget:et,interaction:this}),this.simulation||this.end(W),this.removePointer(G,W)}},{key:"documentBlur",value:function(G){this.end(G),this._scopeFire("interactions:blur",{event:G,type:"blur",interaction:this})}},{key:"end",value:function(G){var W;this._ending=!0,G=G||this._latestPointer.event,this.interacting()&&(W=this._doPhase({event:G,interaction:this,phase:"end"})),this._ending=!1,W===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(G){var W=qt(G);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Qt(this.pointers,function(_){return _.id===W})}},{key:"getPointerInfo",value:function(G){return this.pointers[this.getPointerIndex(G)]}},{key:"updatePointer",value:function(G,W,_,et){var rt,ot,ft,ct=qt(G),Ct=this.getPointerIndex(G),pt=this.pointers[Ct];return et=et!==!1&&(et||/(down|start)$/i.test(W.type)),pt?pt.pointer=G:(pt=new Xs(ct,G,W,null,null),Ct=this.pointers.length,this.pointers.push(pt)),se(this.coords.cur,this.pointers.map(function(Pt){return Pt.pointer}),this._now()),rt=this.coords.delta,ot=this.coords.prev,ft=this.coords.cur,rt.page.x=ft.page.x-ot.page.x,rt.page.y=ft.page.y-ot.page.y,rt.client.x=ft.client.x-ot.client.x,rt.client.y=ft.client.y-ot.client.y,rt.timeStamp=ft.timeStamp-ot.timeStamp,et&&(this.pointerIsDown=!0,pt.downTime=this.coords.cur.timeStamp,pt.downTarget=_,Vt(this.downPointer,G),this.interacting()||(Nt(this.coords.start,this.coords.cur),Nt(this.coords.prev,this.coords.cur),this.downEvent=W,this.pointerWasMoved=!1)),this._updateLatestPointer(G,W,_),this._scopeFire("interactions:update-pointer",{pointer:G,event:W,eventTarget:_,down:et,pointerInfo:pt,pointerIndex:Ct,interaction:this}),Ct}},{key:"removePointer",value:function(G,W){var _=this.getPointerIndex(G);if(_!==-1){var et=this.pointers[_];this._scopeFire("interactions:remove-pointer",{pointer:G,event:W,eventTarget:null,pointerIndex:_,pointerInfo:et,interaction:this}),this.pointers.splice(_,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(G,W,_){this._latestPointer.pointer=G,this._latestPointer.event=W,this._latestPointer.eventTarget=_}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(G,W,_,et){return new rs(this,G,this.prepared.name,W,this.element,_,et)}},{key:"_fireEvent",value:function(G){var W;(W=this.interactable)==null||W.fire(G),(!this.prevEvent||G.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=G)}},{key:"_doPhase",value:function(G){var W=G.event,_=G.phase,et=G.preEnd,rt=G.type,ot=this.rect;if(ot&&_==="move"&&(vt(this.edges,ot,this.coords.delta[this.interactable.options.deltaSource]),ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top),this._scopeFire("interactions:before-action-".concat(_),G)===!1)return!1;var ft=G.iEvent=this._createPreparedEvent(W,_,et,rt);return this._scopeFire("interactions:action-".concat(_),G),_==="start"&&(this.prevEvent=ft),this._fireEvent(ft),this._scopeFire("interactions:after-action-".concat(_),G),!0}},{key:"_now",value:function(){return Date.now()}}]),N}();function Zi(N){nn(N.interaction)}function nn(N){if(!function(W){return!(!W.offset.pending.x&&!W.offset.pending.y)}(N))return!1;var G=N.offset.pending;return rn(N.coords.cur,G),rn(N.coords.delta,G),vt(N.edges,N.rect,G),G.x=0,G.y=0,!0}function bn(N){var G=N.x,W=N.y;this.offset.pending.x+=G,this.offset.pending.y+=W,this.offset.total.x+=G,this.offset.total.y+=W}function rn(N,G){var W=N.page,_=N.client,et=G.x,rt=G.y;W.x+=et,W.y+=rt,_.x+=et,_.y+=rt}as.offsetBy="";var os={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(N){N.Interaction.prototype.offsetBy=bn},listeners:{"interactions:new":function(N){N.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(N){return function(G){G.pointerIsDown&&(rn(G.coords.cur,G.offset.total),G.offset.pending.x=0,G.offset.pending.y=0)}(N.interaction)},"interactions:before-action-start":Zi,"interactions:before-action-move":Zi,"interactions:before-action-end":function(N){var G=N.interaction;if(nn(G))return G.move({offset:!0}),G.end(),!1},"interactions:stop":function(N){var G=N.interaction;G.offset.total.x=0,G.offset.total.y=0,G.offset.pending.x=0,G.offset.pending.y=0}}},an=os,Pn=function(){function N(G){P(this,N),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=G}return y(N,[{key:"start",value:function(G){var W=this.interaction,_=Ys(W);if(!_||!_.enabled)return!1;var et=W.coords.velocity.client,rt=bt(et.x,et.y),ot=this.modification||(this.modification=new xs(W));if(ot.copyFrom(W.modification),this.t0=W._now(),this.allowResume=_.allowResume,this.v0=rt,this.currentOffset={x:0,y:0},this.startCoords=W.coords.cur.page,this.modifierArg=ot.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-W.coords.cur.timeStamp<50&&rt>_.minSpeed&&rt>_.endSpeed)this.startInertia();else{if(ot.result=ot.setAll(this.modifierArg),!ot.result.changed)return!1;this.startSmoothEnd()}return W.modification.result.rect=null,W.offsetBy(this.targetOffset),W._doPhase({interaction:W,event:G,phase:"inertiastart"}),W.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),W.modification.result.rect=null,this.active=!0,W.simulation=this,!0}},{key:"startInertia",value:function(){var G=this,W=this.interaction.coords.velocity.client,_=Ys(this.interaction),et=_.resistance,rt=-Math.log(_.endSpeed/this.v0)/et;this.targetOffset={x:(W.x-rt)/et,y:(W.y-rt)/et},this.te=rt,this.lambda_v0=et/this.v0,this.one_ve_v0=1-_.endSpeed/this.v0;var ot=this.modification,ft=this.modifierArg;ft.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},ot.result=ot.setAll(ft),ot.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+ot.result.delta.x,y:this.targetOffset.y+ot.result.delta.y}),this.onNextFrame(function(){return G.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var G=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return G.smoothEndTick()})}},{key:"onNextFrame",value:function(G){var W=this;this.timeout=_e.request(function(){W.active&&G()})}},{key:"inertiaTick",value:function(){var G,W,_,et,rt,ot,ft,ct=this,Ct=this.interaction,pt=Ys(Ct).resistance,Pt=(Ct._now()-this.t0)/1e3;if(Pt<this.te){var Gt,Jt=1-(Math.exp(-pt*Pt)-this.lambda_v0)/this.one_ve_v0;this.isModified?(G=0,W=0,_=this.targetOffset.x,et=this.targetOffset.y,rt=this.modifiedOffset.x,ot=this.modifiedOffset.y,Gt={x:Ji(ft=Jt,G,_,rt),y:Ji(ft,W,et,ot)}):Gt={x:this.targetOffset.x*Jt,y:this.targetOffset.y*Jt};var Kt={x:Gt.x-this.currentOffset.x,y:Gt.y-this.currentOffset.y};this.currentOffset.x+=Kt.x,this.currentOffset.y+=Kt.y,Ct.offsetBy(Kt),Ct.move(),this.onNextFrame(function(){return ct.inertiaTick()})}else Ct.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var G=this,W=this.interaction,_=W._now()-this.t0,et=Ys(W).smoothEndDuration;if(_<et){var rt={x:ln(_,0,this.targetOffset.x,et),y:ln(_,0,this.targetOffset.y,et)},ot={x:rt.x-this.currentOffset.x,y:rt.y-this.currentOffset.y};this.currentOffset.x+=ot.x,this.currentOffset.y+=ot.y,W.offsetBy(ot),W.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return G.smoothEndTick()})}else W.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(G){var W=G.pointer,_=G.event,et=G.eventTarget,rt=this.interaction;rt.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),rt.updatePointer(W,_,et,!0),rt._doPhase({interaction:rt,event:_,phase:"resume"}),Nt(rt.coords.prev,rt.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,_e.cancel(this.timeout)}}]),N}();function Ys(N){var G=N.interactable,W=N.prepared;return G&&G.options&&W.name&&G.options[W.name].inertia}var on={id:"inertia",before:["modifiers","actions"],install:function(N){var G=N.defaults;N.usePlugin(an),N.usePlugin(Ri),N.actions.phases.inertiastart=!0,N.actions.phases.resume=!0,G.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(N){var G=N.interaction;G.inertia=new Pn(G)},"interactions:before-action-end":function(N){var G=N.interaction,W=N.event;return(!G._interacting||G.simulation||!G.inertia.start(W))&&null},"interactions:down":function(N){var G=N.interaction,W=N.eventTarget,_=G.inertia;if(_.active)for(var et=W;x.element(et);){if(et===G.element){_.resume(N);break}et=U(et)}},"interactions:stop":function(N){var G=N.interaction.inertia;G.active&&G.stop()},"interactions:before-action-resume":function(N){var G=N.interaction.modification;G.stop(N),G.start(N,N.interaction.coords.cur.page),G.applyToInteraction(N)},"interactions:before-action-inertiastart":function(N){return N.interaction.modification.setAndApply(N)},"interactions:action-resume":li,"interactions:action-inertiastart":li,"interactions:after-action-inertiastart":function(N){return N.interaction.modification.restoreInteractionCoords(N)},"interactions:after-action-resume":function(N){return N.interaction.modification.restoreInteractionCoords(N)}}};function Ji(N,G,W,_){var et=1-N;return et*et*G+2*et*N*W+N*N*_}function ln(N,G,W,_){return-W*(N/=_)*(N-2)+G}var ls=on;function hn(N,G){for(var W=0;W<G.length;W++){var _=G[W];if(N.immediatePropagationStopped)break;_(N)}}var $s=function(){function N(G){P(this,N),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Z({},G||{})}return y(N,[{key:"fire",value:function(G){var W,_=this.global;(W=this.types[G.type])&&hn(G,W),!G.propagationStopped&&_&&(W=_[G.type])&&hn(G,W)}},{key:"on",value:function(G,W){var _=Et(G,W);for(G in _)this.types[G]=Ft(this.types[G]||[],_[G])}},{key:"off",value:function(G,W){var _=Et(G,W);for(G in _){var et=this.types[G];if(et&&et.length)for(var rt=0,ot=_[G];rt<ot.length;rt++){var ft=ot[rt],ct=et.indexOf(ft);ct!==-1&&et.splice(ct,1)}}}},{key:"getRect",value:function(G){return null}}]),N}(),Rn=function(){function N(G){P(this,N),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=G,Vt(this,G)}return y(N,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),N}();function Ms(N){return x.object(N)?{capture:!!N.capture,passive:!!N.passive}:{capture:!!N,passive:!1}}function ir(N,G){return N===G||(typeof N=="boolean"?!!G.capture===N&&!G.passive:!!N.capture==!!G.capture&&!!N.passive==!!G.passive)}var zu={id:"events",install:function(N){var G,W=[],_={},et=[],rt={add:ot,remove:ft,addDelegate:function(pt,Pt,Gt,Jt,Kt){var _t=Ms(Kt);if(!_[Gt]){_[Gt]=[];for(var fe=0;fe<et.length;fe++){var le=et[fe];ot(le,Gt,ct),ot(le,Gt,Ct,!0)}}var Ce=_[Gt],Be=xe(Ce,function(He){return He.selector===pt&&He.context===Pt});Be||(Be={selector:pt,context:Pt,listeners:[]},Ce.push(Be)),Be.listeners.push({func:Jt,options:_t})},removeDelegate:function(pt,Pt,Gt,Jt,Kt){var _t,fe=Ms(Kt),le=_[Gt],Ce=!1;if(le)for(_t=le.length-1;_t>=0;_t--){var Be=le[_t];if(Be.selector===pt&&Be.context===Pt){for(var He=Be.listeners,Re=He.length-1;Re>=0;Re--){var Ne=He[Re];if(Ne.func===Jt&&ir(Ne.options,fe)){He.splice(Re,1),He.length||(le.splice(_t,1),ft(Pt,Gt,ct),ft(Pt,Gt,Ct,!0)),Ce=!0;break}}if(Ce)break}}},delegateListener:ct,delegateUseCapture:Ct,delegatedEvents:_,documents:et,targets:W,supportsOptions:!1,supportsPassive:!1};function ot(pt,Pt,Gt,Jt){if(pt.addEventListener){var Kt=Ms(Jt),_t=xe(W,function(fe){return fe.eventTarget===pt});_t||(_t={eventTarget:pt,events:{}},W.push(_t)),_t.events[Pt]||(_t.events[Pt]=[]),xe(_t.events[Pt],function(fe){return fe.func===Gt&&ir(fe.options,Kt)})||(pt.addEventListener(Pt,Gt,rt.supportsOptions?Kt:Kt.capture),_t.events[Pt].push({func:Gt,options:Kt}))}}function ft(pt,Pt,Gt,Jt){if(pt.addEventListener&&pt.removeEventListener){var Kt=Qt(W,function(Ci){return Ci.eventTarget===pt}),_t=W[Kt];if(_t&&_t.events)if(Pt!=="all"){var fe=!1,le=_t.events[Pt];if(le){if(Gt==="all"){for(var Ce=le.length-1;Ce>=0;Ce--){var Be=le[Ce];ft(pt,Pt,Be.func,Be.options)}return}for(var He=Ms(Jt),Re=0;Re<le.length;Re++){var Ne=le[Re];if(Ne.func===Gt&&ir(Ne.options,He)){pt.removeEventListener(Pt,Gt,rt.supportsOptions?He:He.capture),le.splice(Re,1),le.length===0&&(delete _t.events[Pt],fe=!0);break}}}fe&&!Object.keys(_t.events).length&&W.splice(Kt,1)}else for(Pt in _t.events)_t.events.hasOwnProperty(Pt)&&ft(pt,Pt,"all")}}function ct(pt,Pt){for(var Gt=Ms(Pt),Jt=new Rn(pt),Kt=_[pt.type],_t=St(pt)[0],fe=_t;x.element(fe);){for(var le=0;le<Kt.length;le++){var Ce=Kt[le],Be=Ce.selector,He=Ce.context;if(H(fe,Be)&&I(He,_t)&&I(He,fe)){var Re=Ce.listeners;Jt.currentTarget=fe;for(var Ne=0;Ne<Re.length;Ne++){var Ci=Re[Ne];ir(Ci.options,Gt)&&Ci.func(Jt)}}}fe=U(fe)}}function Ct(pt){return ct(pt,!0)}return(G=N.document)==null||G.createElement("div").addEventListener("test",null,{get capture(){return rt.supportsOptions=!0},get passive(){return rt.supportsPassive=!0}}),N.events=rt,rt}},Zr={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(N){for(var G=0,W=Zr.methodOrder;G<W.length;G++){var _=W[G],et=Zr[_](N);if(et)return et}return null},simulationResume:function(N){var G=N.pointerType,W=N.eventType,_=N.eventTarget,et=N.scope;if(!/down|start/i.test(W))return null;for(var rt=0,ot=et.interactions.list;rt<ot.length;rt++){var ft=ot[rt],ct=_;if(ft.simulation&&ft.simulation.allowResume&&ft.pointerType===G)for(;ct;){if(ct===ft.element)return ft;ct=U(ct)}}return null},mouseOrPen:function(N){var G,W=N.pointerId,_=N.pointerType,et=N.eventType,rt=N.scope;if(_!=="mouse"&&_!=="pen")return null;for(var ot=0,ft=rt.interactions.list;ot<ft.length;ot++){var ct=ft[ot];if(ct.pointerType===_){if(ct.simulation&&!qa(ct,W))continue;if(ct.interacting())return ct;G||(G=ct)}}if(G)return G;for(var Ct=0,pt=rt.interactions.list;Ct<pt.length;Ct++){var Pt=pt[Ct];if(!(Pt.pointerType!==_||/down/i.test(et)&&Pt.simulation))return Pt}return null},hasPointer:function(N){for(var G=N.pointerId,W=0,_=N.scope.interactions.list;W<_.length;W++){var et=_[W];if(qa(et,G))return et}return null},idle:function(N){for(var G=N.pointerType,W=0,_=N.scope.interactions.list;W<_.length;W++){var et=_[W];if(et.pointers.length===1){var rt=et.interactable;if(rt&&(!rt.options.gesture||!rt.options.gesture.enabled))continue}else if(et.pointers.length>=2)continue;if(!et.interacting()&&G===et.pointerType)return et}return null}};function qa(N,G){return N.pointers.some(function(W){return W.id===G})}var Uu=Zr,Jr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function _a(N,G){return function(W){var _=G.interactions.list,et=Ot(W),rt=St(W),ot=rt[0],ft=rt[1],ct=[];if(/^touch/.test(W.type)){G.prevTouchTime=G.now();for(var Ct=0,pt=W.changedTouches;Ct<pt.length;Ct++){var Pt=pt[Ct],Gt={pointer:Pt,pointerId:qt(Pt),pointerType:et,eventType:W.type,eventTarget:ot,curEventTarget:ft,scope:G},Jt=to(Gt);ct.push([Gt.pointer,Gt.eventTarget,Gt.curEventTarget,Jt])}}else{var Kt=!1;if(!O.supportsPointerEvent&&/mouse/.test(W.type)){for(var _t=0;_t<_.length&&!Kt;_t++)Kt=_[_t].pointerType!=="mouse"&&_[_t].pointerIsDown;Kt=Kt||G.now()-G.prevTouchTime<500||W.timeStamp===0}if(!Kt){var fe={pointer:W,pointerId:qt(W),pointerType:et,eventType:W.type,curEventTarget:ft,eventTarget:ot,scope:G},le=to(fe);ct.push([fe.pointer,fe.eventTarget,fe.curEventTarget,le])}}for(var Ce=0;Ce<ct.length;Ce++){var Be=ct[Ce],He=Be[0],Re=Be[1],Ne=Be[2];Be[3][N](He,W,Re,Ne)}}}function to(N){var G=N.pointerType,W=N.scope,_={interaction:Uu.search(N),searchDetails:N};return W.fire("interactions:find",_),_.interaction||W.interactions.new({pointerType:G})}function Qr(N,G){var W=N.doc,_=N.scope,et=N.options,rt=_.interactions.docEvents,ot=_.events,ft=ot[G];for(var ct in _.browser.isIOS&&!et.events&&(et.events={passive:!1}),ot.delegatedEvents)ft(W,ct,ot.delegateListener),ft(W,ct,ot.delegateUseCapture,!0);for(var Ct=et&&et.events,pt=0;pt<rt.length;pt++){var Pt=rt[pt];ft(W,Pt.type,Pt.listener,Ct)}}var Xu={id:"core/interactions",install:function(N){for(var G={},W=0;W<Jr.length;W++){var _=Jr[W];G[_]=_a(_,N)}var et,rt=O.pEventTypes;function ot(){for(var ft=0,ct=N.interactions.list;ft<ct.length;ft++){var Ct=ct[ft];if(Ct.pointerIsDown&&Ct.pointerType==="touch"&&!Ct._interacting)for(var pt=function(){var Jt=Gt[Pt];N.documents.some(function(Kt){return I(Kt.doc,Jt.downTarget)})||Ct.removePointer(Jt.pointer,Jt.event)},Pt=0,Gt=Ct.pointers;Pt<Gt.length;Pt++)pt()}}(et=F.PointerEvent?[{type:rt.down,listener:ot},{type:rt.down,listener:G.pointerDown},{type:rt.move,listener:G.pointerMove},{type:rt.up,listener:G.pointerUp},{type:rt.cancel,listener:G.pointerUp}]:[{type:"mousedown",listener:G.pointerDown},{type:"mousemove",listener:G.pointerMove},{type:"mouseup",listener:G.pointerUp},{type:"touchstart",listener:ot},{type:"touchstart",listener:G.pointerDown},{type:"touchmove",listener:G.pointerMove},{type:"touchend",listener:G.pointerUp},{type:"touchcancel",listener:G.pointerUp}]).push({type:"blur",listener:function(ft){for(var ct=0,Ct=N.interactions.list;ct<Ct.length;ct++)Ct[ct].documentBlur(ft)}}),N.prevTouchTime=0,N.Interaction=function(ft){o(Ct,ft);var ct=n(Ct);function Ct(){return P(this,Ct),ct.apply(this,arguments)}return y(Ct,[{key:"pointerMoveTolerance",get:function(){return N.interactions.pointerMoveTolerance},set:function(pt){N.interactions.pointerMoveTolerance=pt}},{key:"_now",value:function(){return N.now()}}]),Ct}(er),N.interactions={list:[],new:function(ft){ft.scopeFire=function(Ct,pt){return N.fire(Ct,pt)};var ct=new N.Interaction(ft);return N.interactions.list.push(ct),ct},listeners:G,docEvents:et,pointerMoveTolerance:1},N.usePlugin(ns)},listeners:{"scope:add-document":function(N){return Qr(N,"add")},"scope:remove-document":function(N){return Qr(N,"remove")},"interactable:unset":function(N,G){for(var W=N.interactable,_=G.interactions.list.length-1;_>=0;_--){var et=G.interactions.list[_];et.interactable===W&&(et.stop(),G.fire("interactions:destroy",{interaction:et}),et.destroy(),G.interactions.list.length>2&&G.interactions.list.splice(_,1))}}},onDocSignal:Qr,doOnInteractions:_a,methodNames:Jr},Yu=Xu,bs=function(N){return N[N.On=0]="On",N[N.Off=1]="Off",N}(bs||{}),$u=function(){function N(G,W,_,et){P(this,N),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new $s,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=W.actions,this.target=G,this._context=W.context||_,this._win=u(K(G)?this._context:G),this._doc=this._win.document,this._scopeEvents=et,this.set(W)}return y(N,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(G,W){return x.func(W.onstart)&&this.on("".concat(G,"start"),W.onstart),x.func(W.onmove)&&this.on("".concat(G,"move"),W.onmove),x.func(W.onend)&&this.on("".concat(G,"end"),W.onend),x.func(W.oninertiastart)&&this.on("".concat(G,"inertiastart"),W.oninertiastart),this}},{key:"updatePerActionListeners",value:function(G,W,_){var et,rt=this,ot=(et=this._actions.map[G])==null?void 0:et.filterEventType,ft=function(ct){return(ot==null||ot(ct))&&Ki(ct,rt._actions)};(x.array(W)||x.object(W))&&this._onOff(bs.Off,G,W,void 0,ft),(x.array(_)||x.object(_))&&this._onOff(bs.On,G,_,void 0,ft)}},{key:"setPerAction",value:function(G,W){var _=this._defaults;for(var et in W){var rt=et,ot=this.options[G],ft=W[rt];rt==="listeners"&&this.updatePerActionListeners(G,ot.listeners,ft),x.array(ft)?ot[rt]=ae(ft):x.plainObject(ft)?(ot[rt]=Z(ot[rt]||{},Pi(ft)),x.object(_.perAction[rt])&&"enabled"in _.perAction[rt]&&(ot[rt].enabled=ft.enabled!==!1)):x.bool(ft)&&x.object(_.perAction[rt])?ot[rt].enabled=ft:ot[rt]=ft}}},{key:"getRect",value:function(G){return G=G||(x.element(this.target)?this.target:null),x.string(this.target)&&(G=G||this._context.querySelector(this.target)),z(G)}},{key:"rectChecker",value:function(G){var W=this;return x.func(G)?(this.getRect=function(_){var et=Z({},G.apply(W,_));return"width"in et||(et.width=et.right-et.left,et.height=et.bottom-et.top),et},this):G===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(G,W){if(K(W)||x.object(W)){for(var _ in this.options[G]=W,this._actions.map)this.options[_][G]=W;return this}return this.options[G]}},{key:"origin",value:function(G){return this._backCompatOption("origin",G)}},{key:"deltaSource",value:function(G){return G==="page"||G==="client"?(this.options.deltaSource=G,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var G=this.target;return x.string(G)?Array.from(this._context.querySelectorAll(G)):x.func(G)&&G.getAllElements?G.getAllElements():x.element(G)?[G]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(G){return this._context===G.ownerDocument||I(this._context,G)}},{key:"testIgnoreAllow",value:function(G,W,_){return!this.testIgnore(G.ignoreFrom,W,_)&&this.testAllow(G.allowFrom,W,_)}},{key:"testAllow",value:function(G,W,_){return!G||!!x.element(_)&&(x.string(G)?X(_,G,W):!!x.element(G)&&I(G,_))}},{key:"testIgnore",value:function(G,W,_){return!(!G||!x.element(_))&&(x.string(G)?X(_,G,W):!!x.element(G)&&I(G,_))}},{key:"fire",value:function(G){return this.events.fire(G),this}},{key:"_onOff",value:function(G,W,_,et,rt){x.object(W)&&!x.array(W)&&(et=_,_=null);var ot=Et(W,_,rt);for(var ft in ot){ft==="wheel"&&(ft=O.wheelEvent);for(var ct=0,Ct=ot[ft];ct<Ct.length;ct++){var pt=Ct[ct];Ki(ft,this._actions)?this.events[G===bs.On?"on":"off"](ft,pt):x.string(this.target)?this._scopeEvents[G===bs.On?"addDelegate":"removeDelegate"](this.target,this._context,ft,pt,et):this._scopeEvents[G===bs.On?"add":"remove"](this.target,ft,pt,et)}}return this}},{key:"on",value:function(G,W,_){return this._onOff(bs.On,G,W,_)}},{key:"off",value:function(G,W,_){return this._onOff(bs.Off,G,W,_)}},{key:"set",value:function(G){var W=this._defaults;for(var _ in x.object(G)||(G={}),this.options=Pi(W.base),this._actions.methodDict){var et=_,rt=this._actions.methodDict[et];this.options[et]={},this.setPerAction(et,Z(Z({},W.perAction),W.actions[et])),this[rt](G[et])}for(var ot in G)ot!=="getRect"?x.func(this[ot])&&this[ot](G[ot]):this.rectChecker(G.getRect);return this}},{key:"unset",value:function(){if(x.string(this.target))for(var G in this._scopeEvents.delegatedEvents)for(var W=this._scopeEvents.delegatedEvents[G],_=W.length-1;_>=0;_--){var et=W[_],rt=et.selector,ot=et.context,ft=et.listeners;rt===this.target&&ot===this._context&&W.splice(_,1);for(var ct=ft.length-1;ct>=0;ct--)this._scopeEvents.removeDelegate(this.target,this._context,G,ft[ct][0],ft[ct][1])}else this._scopeEvents.remove(this.target,"all")}}]),N}(),Wu=function(){function N(G){var W=this;P(this,N),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=G,G.addListeners({"interactable:unset":function(_){var et=_.interactable,rt=et.target,ot=x.string(rt)?W.selectorMap[rt]:rt[W.scope.id],ft=Qt(ot,function(ct){return ct===et});ot.splice(ft,1)}})}return y(N,[{key:"new",value:function(G,W){W=Z(W||{},{actions:this.scope.actions});var _=new this.scope.Interactable(G,W,this.scope.document,this.scope.events);return this.scope.addDocument(_._doc),this.list.push(_),x.string(G)?(this.selectorMap[G]||(this.selectorMap[G]=[]),this.selectorMap[G].push(_)):(_.target[this.scope.id]||Object.defineProperty(G,this.scope.id,{value:[],configurable:!0}),G[this.scope.id].push(_)),this.scope.fire("interactable:new",{target:G,options:W,interactable:_,win:this.scope._win}),_}},{key:"getExisting",value:function(G,W){var _=W&&W.context||this.scope.document,et=x.string(G),rt=et?this.selectorMap[G]:G[this.scope.id];if(rt)return xe(rt,function(ot){return ot._context===_&&(et||ot.inContext(G))})}},{key:"forEachMatch",value:function(G,W){for(var _=0,et=this.list;_<et.length;_++){var rt=et[_],ot=void 0;if((x.string(rt.target)?x.element(G)&&H(G,rt.target):G===rt.target)&&rt.inContext(G)&&(ot=W(rt)),ot!==void 0)return ot}}}]),N}(),Hu=function(){function N(){var G=this;P(this,N),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=O,this.defaults=Pi(ys),this.Eventable=$s,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(_){var et=function rt(ot,ft){var ct=_.interactables.getExisting(ot,ft);return ct||((ct=_.interactables.new(ot,ft)).events.global=rt.globalEvents),ct};return et.getPointerAverage=oe,et.getTouchBBox=zt,et.getTouchDistance=Zt,et.getTouchAngle=Bt,et.getElementRect=z,et.getElementClientRect=D,et.matchesSelector=H,et.closest=B,et.globalEvents={},et.version="1.10.27",et.scope=_,et.use=function(rt,ot){return this.scope.usePlugin(rt,ot),this},et.isSet=function(rt,ot){return!!this.scope.interactables.get(rt,ot&&ot.context)},et.on=Bi(function(rt,ot,ft){if(x.string(rt)&&rt.search(" ")!==-1&&(rt=rt.trim().split(/ +/)),x.array(rt)){for(var ct=0,Ct=rt;ct<Ct.length;ct++){var pt=Ct[ct];this.on(pt,ot,ft)}return this}if(x.object(rt)){for(var Pt in rt)this.on(Pt,rt[Pt],ot);return this}return Ki(rt,this.scope.actions)?this.globalEvents[rt]?this.globalEvents[rt].push(ot):this.globalEvents[rt]=[ot]:this.scope.events.add(this.scope.document,rt,ot,{options:ft}),this},"The interact.on() method is being deprecated"),et.off=Bi(function(rt,ot,ft){if(x.string(rt)&&rt.search(" ")!==-1&&(rt=rt.trim().split(/ +/)),x.array(rt)){for(var ct=0,Ct=rt;ct<Ct.length;ct++){var pt=Ct[ct];this.off(pt,ot,ft)}return this}if(x.object(rt)){for(var Pt in rt)this.off(Pt,rt[Pt],ot);return this}var Gt;return Ki(rt,this.scope.actions)?rt in this.globalEvents&&(Gt=this.globalEvents[rt].indexOf(ot))!==-1&&this.globalEvents[rt].splice(Gt,1):this.scope.events.remove(this.scope.document,rt,ot,ft),this},"The interact.off() method is being deprecated"),et.debug=function(){return this.scope},et.supportsTouch=function(){return O.supportsTouch},et.supportsPointerEvent=function(){return O.supportsPointerEvent},et.stop=function(){for(var rt=0,ot=this.scope.interactions.list;rt<ot.length;rt++)ot[rt].stop();return this},et.pointerMoveTolerance=function(rt){return x.number(rt)?(this.scope.interactions.pointerMoveTolerance=rt,this):this.scope.interactions.pointerMoveTolerance},et.addDocument=function(rt,ot){this.scope.addDocument(rt,ot)},et.removeDocument=function(rt){this.scope.removeDocument(rt)},et}(this),this.InteractEvent=rs,this.Interactable=void 0,this.interactables=new Wu(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(_){return G.removeDocument(_.target)};var W=this;this.Interactable=function(_){o(rt,_);var et=n(rt);function rt(){return P(this,rt),et.apply(this,arguments)}return y(rt,[{key:"_defaults",get:function(){return W.defaults}},{key:"set",value:function(ot){return e(p(rt.prototype),"set",this).call(this,ot),W.fire("interactable:set",{options:ot,interactable:this}),this}},{key:"unset",value:function(){e(p(rt.prototype),"unset",this).call(this);var ot=W.interactables.list.indexOf(this);ot<0||(W.interactables.list.splice(ot,1),W.fire("interactable:unset",{interactable:this}))}}]),rt}($u)}return y(N,[{key:"addListeners",value:function(G,W){this.listenerMaps.push({id:W,map:G})}},{key:"fire",value:function(G,W){for(var _=0,et=this.listenerMaps;_<et.length;_++){var rt=et[_].map[G];if(rt&&rt(W,this,G)===!1)return!1}}},{key:"init",value:function(G){return this.isInitialized?this:function(W,_){return W.isInitialized=!0,x.window(_)&&f(_),F.init(_),O.init(_),_e.init(_),W.window=_,W.document=_.document,W.usePlugin(Yu),W.usePlugin(zu),W}(this,G)}},{key:"pluginIsInstalled",value:function(G){var W=G.id;return W?!!this._plugins.map[W]:this._plugins.list.indexOf(G)!==-1}},{key:"usePlugin",value:function(G,W){if(!this.isInitialized)return this;if(this.pluginIsInstalled(G))return this;if(G.id&&(this._plugins.map[G.id]=G),this._plugins.list.push(G),G.install&&G.install(this,W),G.listeners&&G.before){for(var _=0,et=this.listenerMaps.length,rt=G.before.reduce(function(ft,ct){return ft[ct]=!0,ft[eo(ct)]=!0,ft},{});_<et;_++){var ot=this.listenerMaps[_].id;if(ot&&(rt[ot]||rt[eo(ot)]))break}this.listenerMaps.splice(_,0,{id:G.id,map:G.listeners})}else G.listeners&&this.listenerMaps.push({id:G.id,map:G.listeners});return this}},{key:"addDocument",value:function(G,W){if(this.getDocIndex(G)!==-1)return!1;var _=u(G);W=W?Z({},W):{},this.documents.push({doc:G,options:W}),this.events.documents.push(G),G!==this.document&&this.events.add(_,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:G,window:_,scope:this,options:W})}},{key:"removeDocument",value:function(G){var W=this.getDocIndex(G),_=u(G),et=this.documents[W].options;this.events.remove(_,"unload",this.onWindowUnload),this.documents.splice(W,1),this.events.documents.splice(W,1),this.fire("scope:remove-document",{doc:G,window:_,scope:this,options:et})}},{key:"getDocIndex",value:function(G){for(var W=0;W<this.documents.length;W++)if(this.documents[W].doc===G)return W;return-1}},{key:"getDocOptions",value:function(G){var W=this.getDocIndex(G);return W===-1?null:this.documents[W].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),N}();function eo(N){return N&&N.replace(/\/.*$/,"")}var io=new Hu,Ei=io.interactStatic,ku=typeof globalThis<"u"?globalThis:window;io.init(ku);var ju=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(N){var G=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(_){var et=_[0],rt=_[1];return et in N||rt in N}),W=function(_,et){for(var rt=N.range,ot=N.limits,ft=ot===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:ot,ct=N.offset,Ct=ct===void 0?{x:0,y:0}:ct,pt={range:rt,grid:N,x:null,y:null},Pt=0;Pt<G.length;Pt++){var Gt=G[Pt],Jt=Gt[0],Kt=Gt[1],_t=Math.round((_-Ct.x)/N[Jt]),fe=Math.round((et-Ct.y)/N[Kt]);pt[Jt]=Math.max(ft.left,Math.min(ft.right,_t*N[Jt]+Ct.x)),pt[Kt]=Math.max(ft.top,Math.min(ft.bottom,fe*N[Kt]+Ct.y))}return pt};return W.grid=N,W.coordFields=G,W}}),Ku={id:"snappers",install:function(N){var G=N.interactStatic;G.snappers=Z(G.snappers||{},ju),G.createSnapGrid=G.snappers.grid}},Zu=Ku,Ju={start:function(N){var G=N.state,W=N.rect,_=N.edges,et=N.pageCoords,rt=G.options,ot=rt.ratio,ft=rt.enabled,ct=G.options,Ct=ct.equalDelta,pt=ct.modifiers;ot==="preserve"&&(ot=W.width/W.height),G.startCoords=Z({},et),G.startRect=Z({},W),G.ratio=ot,G.equalDelta=Ct;var Pt=G.linkedEdges={top:_.top||_.left&&!_.bottom,left:_.left||_.top&&!_.right,bottom:_.bottom||_.right&&!_.top,right:_.right||_.bottom&&!_.left};if(G.xIsPrimaryAxis=!(!_.left&&!_.right),G.equalDelta){var Gt=(Pt.left?1:-1)*(Pt.top?1:-1);G.edgeSign={x:Gt,y:Gt}}else G.edgeSign={x:Pt.left?-1:1,y:Pt.top?-1:1};if(ft!==!1&&Z(_,Pt),pt!=null&&pt.length){var Jt=new xs(N.interaction);Jt.copyFrom(N.interaction.modification),Jt.prepareStates(pt),G.subModification=Jt,Jt.startAll(E({},N))}},set:function(N){var G=N.state,W=N.rect,_=N.coords,et=G.linkedEdges,rt=Z({},_),ot=G.equalDelta?Qu:qu;if(Z(N.edges,et),ot(G,G.xIsPrimaryAxis,_,W),!G.subModification)return null;var ft=Z({},W);vt(et,ft,{x:_.x-rt.x,y:_.y-rt.y});var ct=G.subModification.setAll(E(E({},N),{},{rect:ft,edges:et,pageCoords:_,prevCoords:_,prevRect:ft})),Ct=ct.delta;return ct.changed&&(ot(G,Math.abs(Ct.x)>Math.abs(Ct.y),ct.coords,ct.rect),Z(_,ct.coords)),ct.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Qu(N,G,W){var _=N.startCoords,et=N.edgeSign;G?W.y=_.y+(W.x-_.x)*et.y:W.x=_.x+(W.y-_.y)*et.x}function qu(N,G,W,_){var et=N.startRect,rt=N.startCoords,ot=N.ratio,ft=N.edgeSign;if(G){var ct=_.width/ot;W.y=rt.y+(ct-et.height)*ft.y}else{var Ct=_.height*ot;W.x=rt.x+(Ct-et.width)*ft.x}}var _u=di(Ju,"aspectRatio"),so=function(){};so._defaults={};var sr=so;function Ws(N,G,W){return x.func(N)?st(N,G.interactable,G.element,[W.x,W.y,G]):st(N,G.interactable,G.element)}var nr={start:function(N){var G=N.rect,W=N.startOffset,_=N.state,et=N.interaction,rt=N.pageCoords,ot=_.options,ft=ot.elementRect,ct=Z({left:0,top:0,right:0,bottom:0},ot.offset||{});if(G&&ft){var Ct=Ws(ot.restriction,et,rt);if(Ct){var pt=Ct.right-Ct.left-G.width,Pt=Ct.bottom-Ct.top-G.height;pt<0&&(ct.left+=pt,ct.right+=pt),Pt<0&&(ct.top+=Pt,ct.bottom+=Pt)}ct.left+=W.left-G.width*ft.left,ct.top+=W.top-G.height*ft.top,ct.right+=W.right-G.width*(1-ft.right),ct.bottom+=W.bottom-G.height*(1-ft.bottom)}_.offset=ct},set:function(N){var G=N.coords,W=N.interaction,_=N.state,et=_.options,rt=_.offset,ot=Ws(et.restriction,W,G);if(ot){var ft=function(ct){return!ct||"left"in ct&&"top"in ct||((ct=Z({},ct)).left=ct.x||0,ct.top=ct.y||0,ct.right=ct.right||ct.left+ct.width,ct.bottom=ct.bottom||ct.top+ct.height),ct}(ot);G.x=Math.max(Math.min(ft.right-rt.right,G.x),ft.left+rt.left),G.y=Math.max(Math.min(ft.bottom-rt.bottom,G.y),ft.top+rt.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},tf=di(nr,"restrict"),no={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ro={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function ao(N,G){for(var W=0,_=["top","left","bottom","right"];W<_.length;W++){var et=_[W];et in N||(N[et]=G[et])}return N}var Ln={noInner:no,noOuter:ro,start:function(N){var G,W=N.interaction,_=N.startOffset,et=N.state,rt=et.options;rt&&(G=at(Ws(rt.offset,W,W.coords.start.page))),G=G||{x:0,y:0},et.offset={top:G.y+_.top,left:G.x+_.left,bottom:G.y-_.bottom,right:G.x-_.right}},set:function(N){var G=N.coords,W=N.edges,_=N.interaction,et=N.state,rt=et.offset,ot=et.options;if(W){var ft=Z({},G),ct=Ws(ot.inner,_,ft)||{},Ct=Ws(ot.outer,_,ft)||{};ao(ct,no),ao(Ct,ro),W.top?G.y=Math.min(Math.max(Ct.top+rt.top,ft.y),ct.top+rt.top):W.bottom&&(G.y=Math.max(Math.min(Ct.bottom+rt.bottom,ft.y),ct.bottom+rt.bottom)),W.left?G.x=Math.min(Math.max(Ct.left+rt.left,ft.x),ct.left+rt.left):W.right&&(G.x=Math.max(Math.min(Ct.right+rt.right,ft.x),ct.right+rt.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},ef=di(Ln,"restrictEdges"),sf=Z({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(N){}},nr.defaults),nf=di({start:nr.start,set:nr.set,defaults:sf},"restrictRect"),rf={width:-1/0,height:-1/0},af={width:1/0,height:1/0},of=di({start:function(N){return Ln.start(N)},set:function(N){var G=N.interaction,W=N.state,_=N.rect,et=N.edges,rt=W.options;if(et){var ot=ut(Ws(rt.min,G,N.coords))||rf,ft=ut(Ws(rt.max,G,N.coords))||af;W.options={endOnly:rt.endOnly,inner:Z({},Ln.noInner),outer:Z({},Ln.noOuter)},et.top?(W.options.inner.top=_.bottom-ot.height,W.options.outer.top=_.bottom-ft.height):et.bottom&&(W.options.inner.bottom=_.top+ot.height,W.options.outer.bottom=_.top+ft.height),et.left?(W.options.inner.left=_.right-ot.width,W.options.outer.left=_.right-ft.width):et.right&&(W.options.inner.right=_.left+ot.width,W.options.outer.right=_.left+ft.width),Ln.set(N),W.options=rt}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),qr={start:function(N){var G,W=N.interaction,_=N.interactable,et=N.element,rt=N.rect,ot=N.state,ft=N.startOffset,ct=ot.options,Ct=ct.offsetWithOrigin?function(Gt){var Jt=Gt.interaction.element,Kt=at(st(Gt.state.options.origin,null,null,[Jt])),_t=Kt||xt(Gt.interactable,Jt,Gt.interaction.prepared.name);return _t}(N):{x:0,y:0};if(ct.offset==="startCoords")G={x:W.coords.start.page.x,y:W.coords.start.page.y};else{var pt=st(ct.offset,_,et,[W]);(G=at(pt)||{x:0,y:0}).x+=Ct.x,G.y+=Ct.y}var Pt=ct.relativePoints;ot.offsets=rt&&Pt&&Pt.length?Pt.map(function(Gt,Jt){return{index:Jt,relativePoint:Gt,x:ft.left-rt.width*Gt.x+G.x,y:ft.top-rt.height*Gt.y+G.y}}):[{index:0,relativePoint:null,x:G.x,y:G.y}]},set:function(N){var G=N.interaction,W=N.coords,_=N.state,et=_.options,rt=_.offsets,ot=xt(G.interactable,G.element,G.prepared.name),ft=Z({},W),ct=[];et.offsetWithOrigin||(ft.x-=ot.x,ft.y-=ot.y);for(var Ct=0,pt=rt;Ct<pt.length;Ct++)for(var Pt=pt[Ct],Gt=ft.x-Pt.x,Jt=ft.y-Pt.y,Kt=0,_t=et.targets.length;Kt<_t;Kt++){var fe=et.targets[Kt],le=void 0;(le=x.func(fe)?fe(Gt,Jt,G._proxy,Pt,Kt):fe)&&ct.push({x:(x.number(le.x)?le.x:Gt)+Pt.x,y:(x.number(le.y)?le.y:Jt)+Pt.y,range:x.number(le.range)?le.range:et.range,source:fe,index:Kt,offset:Pt})}for(var Ce={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Be=0;Be<ct.length;Be++){var He=ct[Be],Re=He.range,Ne=He.x-ft.x,Ci=He.y-ft.y,ei=bt(Ne,Ci),Ni=ei<=Re;Re===1/0&&Ce.inRange&&Ce.range!==1/0&&(Ni=!1),Ce.target&&!(Ni?Ce.inRange&&Re!==1/0?ei/Re<Ce.distance/Ce.range:Re===1/0&&Ce.range!==1/0||ei<Ce.distance:!Ce.inRange&&ei<Ce.distance)||(Ce.target=He,Ce.distance=ei,Ce.range=Re,Ce.inRange=Ni,Ce.delta.x=Ne,Ce.delta.y=Ci)}return Ce.inRange&&(W.x=Ce.target.x,W.y=Ce.target.y),_.closest=Ce,Ce},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},lf=di(qr,"snap"),rr={start:function(N){var G=N.state,W=N.edges,_=G.options;if(!W)return null;N.state={options:{targets:null,relativePoints:[{x:W.left?0:1,y:W.top?0:1}],offset:_.offset||"self",origin:{x:0,y:0},range:_.range}},G.targetFields=G.targetFields||[["width","height"],["x","y"]],qr.start(N),G.offsets=N.state.offsets,N.state=G},set:function(N){var G=N.interaction,W=N.state,_=N.coords,et=W.options,rt=W.offsets,ot={x:_.x-rt[0].x,y:_.y-rt[0].y};W.options=Z({},et),W.options.targets=[];for(var ft=0,ct=et.targets||[];ft<ct.length;ft++){var Ct=ct[ft],pt=void 0;if(pt=x.func(Ct)?Ct(ot.x,ot.y,G):Ct){for(var Pt=0,Gt=W.targetFields;Pt<Gt.length;Pt++){var Jt=Gt[Pt],Kt=Jt[0],_t=Jt[1];if(Kt in pt||_t in pt){pt.x=pt[Kt],pt.y=pt[_t];break}}W.options.targets.push(pt)}}var fe=qr.set(N);return W.options=et,fe},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},hf=di(rr,"snapSize"),_r={aspectRatio:_u,restrictEdges:ef,restrict:tf,restrictRect:nf,restrictSize:of,snapEdges:di({start:function(N){var G=N.edges;return G?(N.state.targetFields=N.state.targetFields||[[G.left?"left":"right",G.top?"top":"bottom"]],rr.start(N)):null},set:rr.set,defaults:Z(Pi(rr.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:lf,snapSize:hf,spring:sr,avoid:sr,transform:sr,rubberband:sr},uf={id:"modifiers",install:function(N){var G=N.interactStatic;for(var W in N.usePlugin(Ri),N.usePlugin(Zu),G.modifiers=_r,_r){var _=_r[W],et=_._defaults,rt=_._methods;et._methods=rt,N.defaults.perAction[W]=et}}},ff=uf,oo=function(N){o(W,N);var G=n(W);function W(_,et,rt,ot,ft,ct){var Ct;if(P(this,W),Vt(i(Ct=G.call(this,ft)),rt),rt!==et&&Vt(i(Ct),et),Ct.timeStamp=ct,Ct.originalEvent=rt,Ct.type=_,Ct.pointerId=qt(et),Ct.pointerType=Ot(et),Ct.target=ot,Ct.currentTarget=null,_==="tap"){var pt=ft.getPointerIndex(et);Ct.dt=Ct.timeStamp-ft.pointers[pt].downTime;var Pt=Ct.timeStamp-ft.tapTime;Ct.double=!!ft.prevTap&&ft.prevTap.type!=="doubletap"&&ft.prevTap.target===Ct.target&&Pt<500}else _==="doubletap"&&(Ct.dt=et.timeStamp-ft.tapTime,Ct.double=!0);return Ct}return y(W,[{key:"_subtractOrigin",value:function(_){var et=_.x,rt=_.y;return this.pageX-=et,this.pageY-=rt,this.clientX-=et,this.clientY-=rt,this}},{key:"_addOrigin",value:function(_){var et=_.x,rt=_.y;return this.pageX+=et,this.pageY+=rt,this.clientX+=et,this.clientY+=rt,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),W}(At),Fn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(N){N.pointerEvents=Fn,N.defaults.actions.pointerEvents=Fn.defaults,Z(N.actions.phaselessTypes,Fn.types)},listeners:{"interactions:new":function(N){var G=N.interaction;G.prevTap=null,G.tapTime=0},"interactions:update-pointer":function(N){var G=N.down,W=N.pointerInfo;!G&&W.hold||(W.hold={duration:1/0,timeout:null})},"interactions:move":function(N,G){var W=N.interaction,_=N.pointer,et=N.event,rt=N.eventTarget;N.duplicate||W.pointerIsDown&&!W.pointerWasMoved||(W.pointerIsDown&&ta(N),Ps({interaction:W,pointer:_,event:et,eventTarget:rt,type:"move"},G))},"interactions:down":function(N,G){(function(W,_){for(var et=W.interaction,rt=W.pointer,ot=W.event,ft=W.eventTarget,ct=W.pointerIndex,Ct=et.pointers[ct].hold,pt=$(ft),Pt={interaction:et,pointer:rt,event:ot,eventTarget:ft,type:"hold",targets:[],path:pt,node:null},Gt=0;Gt<pt.length;Gt++){var Jt=pt[Gt];Pt.node=Jt,_.fire("pointerEvents:collect-targets",Pt)}if(Pt.targets.length){for(var Kt=1/0,_t=0,fe=Pt.targets;_t<fe.length;_t++){var le=fe[_t].eventable.options.holdDuration;le<Kt&&(Kt=le)}Ct.duration=Kt,Ct.timeout=setTimeout(function(){Ps({interaction:et,eventTarget:ft,pointer:rt,event:ot,type:"hold"},_)},Kt)}})(N,G),Ps(N,G)},"interactions:up":function(N,G){ta(N),Ps(N,G),function(W,_){var et=W.interaction,rt=W.pointer,ot=W.event,ft=W.eventTarget;et.pointerWasMoved||Ps({interaction:et,eventTarget:ft,pointer:rt,event:ot,type:"tap"},_)}(N,G)},"interactions:cancel":function(N,G){ta(N),Ps(N,G)}},PointerEvent:oo,fire:Ps,collectEventTargets:lo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Ps(N,G){var W=N.interaction,_=N.pointer,et=N.event,rt=N.eventTarget,ot=N.type,ft=N.targets,ct=ft===void 0?lo(N,G):ft,Ct=new oo(ot,_,et,rt,W,G.now());G.fire("pointerEvents:new",{pointerEvent:Ct});for(var pt={interaction:W,pointer:_,event:et,eventTarget:rt,targets:ct,type:ot,pointerEvent:Ct},Pt=0;Pt<ct.length;Pt++){var Gt=ct[Pt];for(var Jt in Gt.props||{})Ct[Jt]=Gt.props[Jt];var Kt=xt(Gt.eventable,Gt.node);if(Ct._subtractOrigin(Kt),Ct.eventable=Gt.eventable,Ct.currentTarget=Gt.node,Gt.eventable.fire(Ct),Ct._addOrigin(Kt),Ct.immediatePropagationStopped||Ct.propagationStopped&&Pt+1<ct.length&&ct[Pt+1].node!==Ct.currentTarget)break}if(G.fire("pointerEvents:fired",pt),ot==="tap"){var _t=Ct.double?Ps({interaction:W,pointer:_,event:et,eventTarget:rt,type:"doubletap"},G):Ct;W.prevTap=_t,W.tapTime=_t.timeStamp}return Ct}function lo(N,G){var W=N.interaction,_=N.pointer,et=N.event,rt=N.eventTarget,ot=N.type,ft=W.getPointerIndex(_),ct=W.pointers[ft];if(ot==="tap"&&(W.pointerWasMoved||!ct||ct.downTarget!==rt))return[];for(var Ct=$(rt),pt={interaction:W,pointer:_,event:et,eventTarget:rt,type:ot,path:Ct,targets:[],node:null},Pt=0;Pt<Ct.length;Pt++){var Gt=Ct[Pt];pt.node=Gt,G.fire("pointerEvents:collect-targets",pt)}return ot==="hold"&&(pt.targets=pt.targets.filter(function(Jt){var Kt,_t;return Jt.eventable.options.holdDuration===((Kt=W.pointers[ft])==null||(_t=Kt.hold)==null?void 0:_t.duration)})),pt.targets}function ta(N){var G=N.interaction,W=N.pointerIndex,_=G.pointers[W].hold;_&&_.timeout&&(clearTimeout(_.timeout),_.timeout=null)}var df=Object.freeze({__proto__:null,default:Fn});function cf(N){var G=N.interaction;G.holdIntervalHandle&&(clearInterval(G.holdIntervalHandle),G.holdIntervalHandle=null)}var vf={id:"pointer-events/holdRepeat",install:function(N){N.usePlugin(Fn);var G=N.pointerEvents;G.defaults.holdRepeatInterval=0,G.types.holdrepeat=N.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(N,G){return N["pointerEvents:".concat(G)]=cf,N},{"pointerEvents:new":function(N){var G=N.pointerEvent;G.type==="hold"&&(G.count=(G.count||0)+1)},"pointerEvents:fired":function(N,G){var W=N.interaction,_=N.pointerEvent,et=N.eventTarget,rt=N.targets;if(_.type==="hold"&&rt.length){var ot=rt[0].eventable.options.holdRepeatInterval;ot<=0||(W.holdIntervalHandle=setTimeout(function(){G.pointerEvents.fire({interaction:W,eventTarget:et,type:"hold",pointer:_,event:_},G)},ot))}}})},pf=vf,mf={id:"pointer-events/interactableTargets",install:function(N){var G=N.Interactable;G.prototype.pointerEvents=function(_){return Z(this.events.options,_),this};var W=G.prototype._backCompatOption;G.prototype._backCompatOption=function(_,et){var rt=W.call(this,_,et);return rt===this&&(this.events.options[_]=et),rt}},listeners:{"pointerEvents:collect-targets":function(N,G){var W=N.targets,_=N.node,et=N.type,rt=N.eventTarget;G.interactables.forEachMatch(_,function(ot){var ft=ot.events,ct=ft.options;ft.types[et]&&ft.types[et].length&&ot.testIgnoreAllow(ct,_,rt)&&W.push({node:_,eventable:ft,props:{interactable:ot}})})},"interactable:new":function(N){var G=N.interactable;G.events.getRect=function(W){return G.getRect(W)}},"interactable:set":function(N,G){var W=N.interactable,_=N.options;Z(W.events.options,G.pointerEvents.defaults),Z(W.events.options,_.pointerEvents||{})}}},gf=mf,xf={id:"pointer-events",install:function(N){N.usePlugin(df),N.usePlugin(pf),N.usePlugin(gf)}},yf=xf,Tf={id:"reflow",install:function(N){var G=N.Interactable;N.actions.phases.reflow=!0,G.prototype.reflow=function(W){return function(_,et,rt){for(var ot=_.getAllElements(),ft=rt.window.Promise,ct=ft?[]:null,Ct=function(){var Pt=ot[pt],Gt=_.getRect(Pt);if(!Gt)return 1;var Jt,Kt=xe(rt.interactions.list,function(le){return le.interacting()&&le.interactable===_&&le.element===Pt&&le.prepared.name===et.name});if(Kt)Kt.move(),ct&&(Jt=Kt._reflowPromise||new ft(function(le){Kt._reflowResolve=le}));else{var _t=ut(Gt),fe=function(le){return{coords:le,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:_t.x,y:_t.y},client:{x:_t.x,y:_t.y},timeStamp:rt.now()});Jt=function(le,Ce,Be,He,Re){var Ne=le.interactions.new({pointerType:"reflow"}),Ci={interaction:Ne,event:Re,pointer:Re,eventTarget:Be,phase:"reflow"};Ne.interactable=Ce,Ne.element=Be,Ne.prevEvent=Re,Ne.updatePointer(Re,Re,Be,!0),Mt(Ne.coords.delta),_s(Ne.prepared,He),Ne._doPhase(Ci);var ei=le.window,Ni=ei.Promise,Qi=Ni?new Ni(function(Ts){Ne._reflowResolve=Ts}):void 0;return Ne._reflowPromise=Qi,Ne.start(He,Ce,Be),Ne._interacting?(Ne.move(Ci),Ne.end(Re)):(Ne.stop(),Ne._reflowResolve()),Ne.removePointer(Re,Re),Qi}(rt,_,Pt,et,fe)}ct&&ct.push(Jt)},pt=0;pt<ot.length&&!Ct();pt++);return ct&&ft.all(ct).then(function(){return _})}(this,W,N)}},listeners:{"interactions:stop":function(N,G){var W=N.interaction;W.pointerType==="reflow"&&(W._reflowResolve&&W._reflowResolve(),function(_,et){_.splice(_.indexOf(et),1)}(G.interactions.list,W))}}},Sf=Tf;if(Ei.use(ns),Ei.use(an),Ei.use(yf),Ei.use(ls),Ei.use(ff),Ei.use(tr),Ei.use(xi),Ei.use(ps),Ei.use(Sf),Ei.default=Ei,M(w)==="object"&&w)try{w.exports=Ei}catch{}return Ei.default=Ei,Ei})})(Ir,Ir.exports);var gm=Ir.exports;const oa=Wh(gm);function Ol(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a,h,f,u,d=w[4]&&Dl(w);t=new he({props:{$$slots:{default:[xm]},$$scope:{ctx:w}}}),n=new he({props:{$$slots:{default:[ym]},$$scope:{ctx:w}}});const m=w[18].default,x=bf(m,w,w[20],null);return{c(){v=Q("div"),g=Q("div"),E=Q("div"),d&&d.c(),M=lt(),P=mt(w[3]),c=lt(),y=Q("button"),Ut(t.$$.fragment),s=lt(),i=Q("button"),Ut(n.$$.fragment),r=lt(),l=Q("div"),x&&x.c(),this.h()},l(S){v=q(S,"DIV",{tabindex:!0,class:!0});var T=nt(v);g=q(T,"DIV",{class:!0});var C=nt(g);E=q(C,"DIV",{class:!0});var A=nt(E);d&&d.l(A),M=ht(A),P=gt(A,w[3]),A.forEach(k),c=ht(C),y=q(C,"BUTTON",{class:!0,title:!0});var b=nt(y);Wt(t.$$.fragment,b),b.forEach(k),s=ht(C),i=q(C,"BUTTON",{title:!0,class:!0});var R=nt(i);Wt(n.$$.fragment,R),R.forEach(k),C.forEach(k),r=ht(T),l=q(T,"DIV",{class:!0});var F=nt(l);x&&x.l(F),F.forEach(k),T.forEach(k),this.h()},h(){Y(E,"class","title-caption svelte-c3n5rq"),y.disabled=o=!w[0],Y(y,"class","btn btn-outline-dark title-button svelte-c3n5rq"),Y(y,"title",p=w[7]?"Restore size":"Maximize window"),i.disabled=e=!w[1],Y(i,"title","Close window"),Y(i,"class","btn btn-outline-danger title-button svelte-c3n5rq"),Y(g,"class","window-title svelte-c3n5rq"),Y(l,"class","window-content svelte-c3n5rq"),Y(v,"tabindex","-1"),Y(v,"class","window svelte-c3n5rq"),pe(v,"active",w[6]===w[13]),pe(v,"maximized",w[0]&&w[7]),pe(v,"scaleable",w[2]),Ht(v,"top",ai(w[9])),Ht(v,"left",ai(w[8])),Ht(v,"width",ai(w[10])),Ht(v,"height",ai(w[11])),Ht(v,"font-size",w[2]?ai(w[12]):null)},m(S,T){dt(S,v,T),V(v,g),V(g,E),d&&d.m(E,null),V(E,M),V(E,P),V(g,c),V(g,y),Xt(t,y,null),V(g,s),V(g,i),Xt(n,i,null),V(v,r),V(v,l),x&&x.m(l,null),w[19](v),h=!0,f||(u=[ne(y,"click",w[15]),ne(i,"click",w[16]),ne(v,"focus",w[14],!0)],f=!0)},p(S,T){S[4]?d?d.p(S,T):(d=Dl(S),d.c(),d.m(E,M)):d&&(d.d(1),d=null),(!h||T&8)&&ee(P,S[3]);const C={};T&1048704&&(C.$$scope={dirty:T,ctx:S}),t.$set(C),(!h||T&1&&o!==(o=!S[0]))&&(y.disabled=o),(!h||T&128&&p!==(p=S[7]?"Restore size":"Maximize window"))&&Y(y,"title",p);const A={};T&1048576&&(A.$$scope={dirty:T,ctx:S}),n.$set(A),(!h||T&2&&e!==(e=!S[1]))&&(i.disabled=e),x&&x.p&&(!h||T&1048576)&&Pf(x,m,S,S[20],h?Lf(m,S[20],T,null):Rf(S[20]),null),(!h||T&8256)&&pe(v,"active",S[6]===S[13]),(!h||T&129)&&pe(v,"maximized",S[0]&&S[7]),(!h||T&4)&&pe(v,"scaleable",S[2]),T&512&&Ht(v,"top",ai(S[9])),T&256&&Ht(v,"left",ai(S[8])),T&1024&&Ht(v,"width",ai(S[10])),T&2048&&Ht(v,"height",ai(S[11])),T&4100&&Ht(v,"font-size",S[2]?ai(S[12]):null)},i(S){h||(Tt(t.$$.fragment,S),Tt(n.$$.fragment,S),Tt(x,S),S&&$e(()=>{h&&(a||(a=yi(v,Di,{duration:200,y:-20},!0)),a.run(1))}),h=!0)},o(S){wt(t.$$.fragment,S),wt(n.$$.fragment,S),wt(x,S),S&&(a||(a=yi(v,Di,{duration:200,y:-20},!1)),a.run(0)),h=!1},d(S){S&&k(v),d&&d.d(),Yt(t),Yt(n),x&&x.d(S),w[19](null),S&&a&&a.end(),f=!1,ui(u)}}}function Dl(w){let v,g;return{c(){v=Q("img"),this.h()},l(E){v=q(E,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){Ae(v.src,g=w[4])||Y(v,"src",g),Y(v,"alt","Icon"),Y(v,"width","64"),Y(v,"height","64"),Y(v,"class","window-icon svelte-c3n5rq")},m(E,M){dt(E,v,M)},p(E,M){M&16&&!Ae(v.src,g=E[4])&&Y(v,"src",g)},d(E){E&&k(v)}}}function xm(w){let v=w[7]?"unfold_less":"unfold_more",g;return{c(){g=mt(v)},l(E){g=gt(E,v)},m(E,M){dt(E,g,M)},p(E,M){M&128&&v!==(v=E[7]?"unfold_less":"unfold_more")&&ee(g,v)},d(E){E&&k(g)}}}function ym(w){let v;return{c(){v=mt("close")},l(g){v=gt(g,"close")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Tm(w){let v,g,E=w[5]&&Ol(w);return{c(){E&&E.c(),v=Le()},l(M){E&&E.l(M),v=Le()},m(M,P){E&&E.m(M,P),dt(M,v,P),g=!0},p(M,[P]){M[5]?E?(E.p(M,P),P&32&&Tt(E,1)):(E=Ol(M),E.c(),Tt(E,1),E.m(v.parentNode,v)):E&&(Oe(),wt(E,1,1,()=>{E=null}),De())},i(M){g||(Tt(E),g=!0)},o(M){wt(E),g=!1},d(M){M&&k(v),E&&E.d(M)}}}const Il=ii(null);let Sm=0;function Em(w,v,g){let E;Ve(w,Il,b=>g(13,E=b));let{$$slots:M={},$$scope:P}=v,{isResizable:c=!0}=v,{isCloseable:y=!0}=v,{isScaleable:t=!1}=v,{title:o=""}=v,{icon:p=""}=v;const s=Ur();let i=!1;const n=Sm++;let e,r,l=32+16*(n%10),a=32+16*(n%5),h=Math.min(.75*window.innerWidth,1080),f=Math.round(h*9/16),u=h/50,d=!1;function m(){Il.set(r)}function x(){g(7,d=!d),d?(m(),C()):T()}function S(){g(5,i=!1),C(),s("close")}function T(){r&&(m(),g(17,e=oa(r)),c&&e.resizable({edges:{top:!0,left:!0,bottom:!0,right:!0},modifiers:[oa.modifiers.restrict({restriction:"parent"})],listeners:{start(b){b.target.style.userSelect="none"},move(b){g(8,l+=b.deltaRect.left),g(9,a+=b.deltaRect.top),g(10,h=b.rect.width),g(11,f=b.rect.height),g(12,u=h/50)},end(b){b.target.style.userSelect=""}}}),e.draggable({allowFrom:".window-title",ignoreFrom:".btn",modifiers:[oa.modifiers.restrictRect({restriction:"parent"})],listeners:{move(b){g(8,l+=b.dx),g(9,a+=b.dy)}}}))}async function C(){e&&i&&(await e.reflow({name:"resize",edges:{left:!0,bottom:!0,top:!0,right:!0}}),e.unset()),g(17,e=null)}ti(()=>(g(5,i=!0),()=>{i&&c&&C()}));function A(b){Vi[b?"unshift":"push"](()=>{r=b,g(6,r)})}return w.$$set=b=>{"isResizable"in b&&g(0,c=b.isResizable),"isCloseable"in b&&g(1,y=b.isCloseable),"isScaleable"in b&&g(2,t=b.isScaleable),"title"in b&&g(3,o=b.title),"icon"in b&&g(4,p=b.icon),"$$scope"in b&&g(20,P=b.$$scope)},w.$$.update=()=>{w.$$.dirty&131297&&i&&c&&!d&&!e&&r&&T()},[c,y,t,o,p,i,r,d,l,a,h,f,u,E,m,x,S,e,M,A,P]}class Au extends Se{constructor(v){super(),Ee(this,v,Em,Tm,Te,{isResizable:0,isCloseable:1,isScaleable:2,title:3,icon:4})}}var Pa={exports:{}},wu;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/wu=function(){var w={},v={};return w.on=function(g,E){var M={name:g,handler:E};return v[g]=v[g]||[],v[g].unshift(M),M},w.off=function(g){var E=v[g.name].indexOf(g);E!==-1&&v[g.name].splice(E,1)},w.trigger=function(g,E){var M=v[g],P;if(M)for(P=M.length;P--;)M[P].handler(E)},w};var Cm=wu,Ra={exports:{}},La={exports:{}},la,Bl;function Am(){if(Bl)return la;Bl=1;var w=1e3,v=w*60,g=v*60,E=g*24,M=E*7,P=E*365.25;la=function(p,s){s=s||{};var i=typeof p;if(i==="string"&&p.length>0)return c(p);if(i==="number"&&isFinite(p))return s.long?t(p):y(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function c(p){if(p=String(p),!(p.length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(s){var i=parseFloat(s[1]),n=(s[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*P;case"weeks":case"week":case"w":return i*M;case"days":case"day":case"d":return i*E;case"hours":case"hour":case"hrs":case"hr":case"h":return i*g;case"minutes":case"minute":case"mins":case"min":case"m":return i*v;case"seconds":case"second":case"secs":case"sec":case"s":return i*w;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function y(p){var s=Math.abs(p);return s>=E?Math.round(p/E)+"d":s>=g?Math.round(p/g)+"h":s>=v?Math.round(p/v)+"m":s>=w?Math.round(p/w)+"s":p+"ms"}function t(p){var s=Math.abs(p);return s>=E?o(p,s,E,"day"):s>=g?o(p,s,g,"hour"):s>=v?o(p,s,v,"minute"):s>=w?o(p,s,w,"second"):p+" ms"}function o(p,s,i,n){var e=s>=i*1.5;return Math.round(p/i)+" "+n+(e?"s":"")}return la}function wm(w){g.debug=g,g.default=g,g.coerce=t,g.disable=P,g.enable=M,g.enabled=c,g.humanize=Am(),g.destroy=o,Object.keys(w).forEach(p=>{g[p]=w[p]}),g.names=[],g.skips=[],g.formatters={};function v(p){let s=0;for(let i=0;i<p.length;i++)s=(s<<5)-s+p.charCodeAt(i),s|=0;return g.colors[Math.abs(s)%g.colors.length]}g.selectColor=v;function g(p){let s,i=null,n,e;function r(...l){if(!r.enabled)return;const a=r,h=Number(new Date),f=h-(s||h);a.diff=f,a.prev=s,a.curr=h,s=h,l[0]=g.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let u=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(m,x)=>{if(m==="%%")return"%";u++;const S=g.formatters[x];if(typeof S=="function"){const T=l[u];m=S.call(a,T),l.splice(u,1),u--}return m}),g.formatArgs.call(a,l),(a.log||g.log).apply(a,l)}return r.namespace=p,r.useColors=g.useColors(),r.color=g.selectColor(p),r.extend=E,r.destroy=g.destroy,Object.defineProperty(r,"enabled",{enumerable:!0,configurable:!1,get:()=>i!==null?i:(n!==g.namespaces&&(n=g.namespaces,e=g.enabled(p)),e),set:l=>{i=l}}),typeof g.init=="function"&&g.init(r),r}function E(p,s){const i=g(this.namespace+(typeof s>"u"?":":s)+p);return i.log=this.log,i}function M(p){g.save(p),g.namespaces=p,g.names=[],g.skips=[];let s;const i=(typeof p=="string"?p:"").split(/[\s,]+/),n=i.length;for(s=0;s<n;s++)i[s]&&(p=i[s].replace(/\*/g,".*?"),p[0]==="-"?g.skips.push(new RegExp("^"+p.slice(1)+"$")):g.names.push(new RegExp("^"+p+"$")))}function P(){const p=[...g.names.map(y),...g.skips.map(y).map(s=>"-"+s)].join(",");return g.enable(""),p}function c(p){if(p[p.length-1]==="*")return!0;let s,i;for(s=0,i=g.skips.length;s<i;s++)if(g.skips[s].test(p))return!1;for(s=0,i=g.names.length;s<i;s++)if(g.names[s].test(p))return!0;return!1}function y(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function t(p){return p instanceof Error?p.stack||p.message:p}function o(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return g.enable(g.load()),g}var Mm=wm;(function(w,v){v.formatArgs=E,v.save=M,v.load=P,v.useColors=g,v.storage=c(),v.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),v.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function g(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function E(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+w.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;t.splice(1,0,o,"color: inherit");let p=0,s=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(p++,i==="%c"&&(s=p))}),t.splice(s,0,o)}v.log=console.debug||console.log||(()=>{});function M(t){try{t?v.storage.setItem("debug",t):v.storage.removeItem("debug")}catch{}}function P(){let t;try{t=v.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t={}.DEBUG),t}function c(){try{return localStorage}catch{}}w.exports=Mm(v);const{formatters:y}=w.exports;y.j=function(t){try{return JSON.stringify(t)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}}})(La,La.exports);var bm=La.exports,Fa={exports:{}},Oa={exports:{}};(function(w,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},w.exports=v.default})(Oa,Oa.exports);var Pm=Oa.exports;(function(w,v){Object.defineProperty(v,"__esModule",{value:!0});var g=Pm,E=M(g);function M(P){return P&&P.__esModule?P:{default:P}}v.default={pauseVideo:{acceptableStates:[E.default.ENDED,E.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[E.default.ENDED,E.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[E.default.ENDED,E.default.PLAYING,E.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},w.exports=v.default})(Fa,Fa.exports);var Rm=Fa.exports,Da={exports:{}};(function(w,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],w.exports=v.default})(Da,Da.exports);var Lm=Da.exports,Ia={exports:{}};(function(w,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],w.exports=v.default})(Ia,Ia.exports);var Fm=Ia.exports;(function(w,v){Object.defineProperty(v,"__esModule",{value:!0});var g=bm,E=p(g),M=Rm,P=p(M),c=Lm,y=p(c),t=Fm,o=p(t);function p(n){return n&&n.__esModule?n:{default:n}}const s=(0,E.default)("youtube-player"),i={};i.proxyEvents=n=>{const e={};for(const r of y.default){const l="on"+r.slice(0,1).toUpperCase()+r.slice(1);e[l]=a=>{s('event "%s"',l,a),n.trigger(r,a)}}return e},i.promisifyPlayer=(n,e=!1)=>{const r={};for(const l of o.default)e&&P.default[l]?r[l]=(...a)=>n.then(h=>{const f=P.default[l],u=h.getPlayerState(),d=h[l].apply(h,a);return f.stateChangeRequired||Array.isArray(f.acceptableStates)&&!f.acceptableStates.includes(u)?new Promise(m=>{const x=()=>{const S=h.getPlayerState();let T;typeof f.timeout=="number"&&(T=setTimeout(()=>{h.removeEventListener("onStateChange",x),m()},f.timeout)),Array.isArray(f.acceptableStates)&&f.acceptableStates.includes(S)&&(h.removeEventListener("onStateChange",x),clearTimeout(T),m())};h.addEventListener("onStateChange",x)}).then(()=>d):d}):r[l]=(...a)=>n.then(h=>h[l].apply(h,a));return r},v.default=i,w.exports=v.default})(Ra,Ra.exports);var Om=Ra.exports,Ba={exports:{}},Dm=function(v,g,E){var M=document.head||document.getElementsByTagName("head")[0],P=document.createElement("script");typeof g=="function"&&(E=g,g={}),g=g||{},E=E||function(){},P.type=g.type||"text/javascript",P.charset=g.charset||"utf8",P.async="async"in g?!!g.async:!0,P.src=v,g.attrs&&Im(P,g.attrs),g.text&&(P.text=""+g.text);var c="onload"in P?Gl:Bm;c(P,E),P.onload||Gl(P,E),M.appendChild(P)};function Im(w,v){for(var g in v)w.setAttribute(g,v[g])}function Gl(w,v){w.onload=function(){this.onerror=this.onload=null,v(null,w)},w.onerror=function(){this.onerror=this.onload=null,v(new Error("Failed to load "+this.src),w)}}function Bm(w,v){w.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,v(null,w))}}(function(w,v){Object.defineProperty(v,"__esModule",{value:!0});var g=Dm,E=M(g);function M(P){return P&&P.__esModule?P:{default:P}}v.default=P=>new Promise(y=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){y(window.YT);return}else{const o=window.location.protocol==="http:"?"http:":"https:";(0,E.default)(o+"//www.youtube.com/iframe_api",p=>{p&&P.trigger("error",p)})}const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{t&&t(),y(window.YT)}}),w.exports=v.default})(Ba,Ba.exports);var Gm=Ba.exports;(function(w,v){Object.defineProperty(v,"__esModule",{value:!0});var g=Cm,E=t(g),M=Om,P=t(M),c=Gm,y=t(c);function t(p){return p&&p.__esModule?p:{default:p}}let o;v.default=(p,s={},i=!1)=>{const n=(0,E.default)();if(o||(o=(0,y.default)(n)),s.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');s.events=P.default.proxyEvents(n);const e=new Promise(l=>{typeof p=="object"&&p.playVideo instanceof Function?l(p):o.then(a=>{const h=new a.Player(p,s);return n.on("ready",()=>{l(h)}),null})}),r=P.default.promisifyPlayer(e,i);return r.on=n.on,r.off=n.off,r},w.exports=v.default})(Pa,Pa.exports);var Nm=Pa.exports;const Vm=Wh(Nm);function zm(w){let v,g;return{c(){v=Q("div"),g=Q("div"),this.h()},l(E){v=q(E,"DIV",{class:!0});var M=nt(v);g=q(M,"DIV",{id:!0}),nt(g).forEach(k),M.forEach(k),this.h()},h(){Y(g,"id",w[0]),Y(v,"class",w[1])},m(E,M){dt(E,v,M),V(v,g),w[5](g)},p(E,[M]){M&1&&Y(g,"id",E[0]),M&2&&Y(v,"class",E[1])},i:jt,o:jt,d(E){E&&k(v),w[5](null)}}}const Os={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function Um(w,v,g){let{id:E=void 0}=v,{videoId:M}=v,{options:P=void 0}=v,{class:c}=v,y,t;ti(()=>o());function o(){return t=Vm(y,P),t.on("ready",i),t.on("error",n),t.on("stateChange",e),t.on("playbackRateChange",r),t.on("playbackQualityChange",l),()=>t.destroy()}function p(h){t&&h&&(P&&P.playerVars&&P.playerVars.autoplay===1?t.loadVideoById(h):t.cueVideoById(h))}const s=Ur();function i(h){s("ready",h),p(M)}function n(h){s("error",h)}function e(h){switch(s("stateChange",h),h.data){case Os.ENDED:s("end",h);break;case Os.PLAYING:s("play",h);break;case Os.PAUSED:s("pause",h);break}}function r(h){s("playbackRateChange",h)}function l(h){s("playbackQualityChange",h)}function a(h){Vi[h?"unshift":"push"](()=>{y=h,g(2,y)})}return w.$$set=h=>{"id"in h&&g(0,E=h.id),"videoId"in h&&g(3,M=h.videoId),"options"in h&&g(4,P=h.options),"class"in h&&g(1,c=h.class)},w.$$.update=()=>{w.$$.dirty&8&&p(M)},[E,c,y,M,P,a]}class Xm extends Se{constructor(v){super(),Ee(this,v,Um,zm,Te,{id:0,videoId:3,options:4,class:1})}}function Nl(w,v,g){const E=w.slice();return E[1]=v[g],E}function Vl(w){let v,g,E,M,P,c,y=w[1].title+"",t,o,p,s=w[1].author+"",i,n,e,r=w[1].views.toLocaleString()+"",l,a,h;return{c(){v=Q("div"),g=Q("img"),M=lt(),P=Q("div"),c=Q("div"),t=mt(y),o=lt(),p=Q("div"),i=mt(s),n=lt(),e=Q("div"),l=mt(r),a=mt(" views"),h=lt(),this.h()},l(f){v=q(f,"DIV",{class:!0});var u=nt(v);g=q(u,"IMG",{src:!0,alt:!0,class:!0}),M=ht(u),P=q(u,"DIV",{class:!0});var d=nt(P);c=q(d,"DIV",{class:!0});var m=nt(c);t=gt(m,y),m.forEach(k),o=ht(d),p=q(d,"DIV",{class:!0});var x=nt(p);i=gt(x,s),x.forEach(k),n=ht(d),e=q(d,"DIV",{class:!0});var S=nt(e);l=gt(S,r),a=gt(S," views"),S.forEach(k),d.forEach(k),h=ht(u),u.forEach(k),this.h()},h(){Ae(g.src,E=`/pics/youtube/related/${w[1].id}.png`)||Y(g,"src",E),Y(g,"alt",w[1].id),Y(g,"class","svelte-1o6h3mm"),Y(c,"class","relvideo-title svelte-1o6h3mm"),Y(p,"class","relvideo-subtitle svelte-1o6h3mm"),Y(e,"class","relvideo-subtitle svelte-1o6h3mm"),Y(P,"class","relvideo-info svelte-1o6h3mm"),Y(v,"class","relvideo svelte-1o6h3mm")},m(f,u){dt(f,v,u),V(v,g),V(v,M),V(v,P),V(P,c),V(c,t),V(P,o),V(P,p),V(p,i),V(P,n),V(P,e),V(e,l),V(e,a),V(v,h)},p:jt,d(f){f&&k(v)}}}function Ym(w){let v,g,E=ke(w[0]),M=[];for(let P=0;P<E.length;P+=1)M[P]=Vl(Nl(w,E,P));return{c(){v=Q("content"),g=Q("div");for(let P=0;P<M.length;P+=1)M[P].c();this.h()},l(P){v=q(P,"CONTENT",{class:!0});var c=nt(v);g=q(c,"DIV",{class:!0});var y=nt(g);for(let t=0;t<M.length;t+=1)M[t].l(y);y.forEach(k),c.forEach(k),this.h()},h(){Y(g,"class","related-videos svelte-1o6h3mm"),Y(v,"class","svelte-1o6h3mm")},m(P,c){dt(P,v,c),V(v,g);for(let y=0;y<M.length;y+=1)M[y]&&M[y].m(g,null)},p(P,[c]){if(c&1){E=ke(P[0]);let y;for(y=0;y<E.length;y+=1){const t=Nl(P,E,y);M[y]?M[y].p(t,c):(M[y]=Vl(t),M[y].c(),M[y].m(g,null))}for(;y<M.length;y+=1)M[y].d(1);M.length=E.length}},i:jt,o:jt,d(P){P&&k(v),Ii(M,P)}}}let Mu=[];fetch("/data/related-videos.json").then(w=>w.json()).then(w=>{Mu=Zs(w)}).catch(w=>{console.error("Failed to fetch related videos",w)});function $m(w){return[$h(Mu,10)]}class Wm extends Se{constructor(v){super(),Ee(this,v,$m,Ym,Te,{})}}function Hm(w){let v=w[1]>0?"thumb_up_alt":"thumb_up_off_alt",g;return{c(){g=mt(v)},l(E){g=gt(E,v)},m(E,M){dt(E,g,M)},p(E,M){M&2&&v!==(v=E[1]>0?"thumb_up_alt":"thumb_up_off_alt")&&ee(g,v)},d(E){E&&k(g)}}}function km(w){let v=w[1]<0?"thumb_down_alt":"thumb_down_off_alt",g;return{c(){g=mt(v)},l(E){g=gt(E,v)},m(E,M){dt(E,g,M)},p(E,M){M&2&&v!==(v=E[1]<0?"thumb_down_alt":"thumb_down_off_alt")&&ee(g,v)},d(E){E&&k(g)}}}function jm(w){let v;return{c(){v=mt("share")},l(g){v=gt(g,"share")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Km(w){let v;return{c(){v=mt("bookmark_border")},l(g){v=gt(g,"bookmark_border")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Zm(w){let v;return{c(){v=mt("more_horiz")},l(g){v=gt(g,"more_horiz")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Jm(w){let v,g="No description provided";return{c(){v=Q("em"),v.textContent=g},l(E){v=q(E,"EM",{"data-svelte-h":!0}),Rt(v)!=="svelte-15p38ce"&&(v.textContent=g)},m(E,M){dt(E,v,M)},p:jt,d(E){E&&k(v)}}}function Qm(w){let v,g=vo(w[0].description).replace(/\r?\n/g,"<br>")+"",E;return{c(){v=new Xr(!1),E=Le(),this.h()},l(M){v=Yr(M,!1),E=Le(),this.h()},h(){v.a=E},m(M,P){v.m(g,M,P),dt(M,E,P)},p(M,P){P&1&&g!==(g=vo(M[0].description).replace(/\r?\n/g,"<br>")+"")&&v.p(g)},d(M){M&&(k(E),v.d())}}}function qm(w){let v,g,E,M=w[0].title+"",P,c,y,t,o,p,s,i,n,e=w[0].author+"",r,l,a,h=ur(w[0].subs)+"",f,u,d,m,x='<button class="btn btn-primary yt-subscribe-btn svelte-8mtob3">Subscribe</button>',S,T,C,A,b,R,F=ur(w[0].likes+Math.max(0,w[1]))+"",L,O,I,B,U,H,J,tt,X,j,D,z,$,K,Z,it,st,at,ut,vt=co(w[0].views)+"",xt,Et,yt,bt,Dt=Pr(w[0].createdAt)+"",Vt,Nt,Mt,It,Lt,kt="Comments are turned off.",qt,se,ie;b=new he({props:{$$slots:{default:[Hm]},$$scope:{ctx:w}}}),B=new he({props:{$$slots:{default:[km]},$$scope:{ctx:w}}}),J=new he({props:{$$slots:{default:[jm]},$$scope:{ctx:w}}}),D=new he({props:{$$slots:{default:[Km]},$$scope:{ctx:w}}}),Z=new he({props:{$$slots:{default:[Zm]},$$scope:{ctx:w}}});function oe(Bt,Ot){return Bt[0].description?Qm:Jm}let zt=oe(w),Zt=zt(w);return{c(){v=Q("content"),g=Q("div"),E=Q("h1"),P=mt(M),c=lt(),y=Q("div"),t=Q("div"),o=Q("img"),s=lt(),i=Q("div"),n=Q("div"),r=mt(e),l=lt(),a=Q("div"),f=mt(h),u=mt(" subscribers"),d=lt(),m=Q("div"),m.innerHTML=x,S=lt(),T=Q("div"),C=Q("div"),A=Q("button"),Ut(b.$$.fragment),R=lt(),L=mt(F),O=lt(),I=Q("button"),Ut(B.$$.fragment),U=lt(),H=Q("button"),Ut(J.$$.fragment),tt=mt(" Share"),X=lt(),j=Q("button"),Ut(D.$$.fragment),z=mt(" Save"),$=lt(),K=Q("button"),Ut(Z.$$.fragment),it=lt(),st=Q("div"),at=Q("div"),ut=Q("div"),xt=mt(vt),Et=mt(" views"),yt=lt(),bt=Q("div"),Vt=mt(Dt),Nt=lt(),Mt=Q("div"),Zt.c(),It=lt(),Lt=Q("div"),Lt.textContent=kt,this.h()},l(Bt){v=q(Bt,"CONTENT",{class:!0});var Ot=nt(v);g=q(Ot,"DIV",{class:!0});var St=nt(g);E=q(St,"H1",{class:!0});var At=nt(E);P=gt(At,M),At.forEach(k),c=ht(St),y=q(St,"DIV",{class:!0});var Ft=nt(y);t=q(Ft,"DIV",{class:!0});var ae=nt(t);o=q(ae,"IMG",{src:!0,alt:!0,class:!0}),ae.forEach(k),s=ht(Ft),i=q(Ft,"DIV",{class:!0});var Qt=nt(i);n=q(Qt,"DIV",{class:!0});var xe=nt(n);r=gt(xe,e),xe.forEach(k),l=ht(Qt),a=q(Qt,"DIV",{class:!0});var ye=nt(a);f=gt(ye,h),u=gt(ye," subscribers"),ye.forEach(k),Qt.forEach(k),d=ht(Ft),m=q(Ft,"DIV",{class:!0,"data-svelte-h":!0}),Rt(m)!=="svelte-5jbaaf"&&(m.innerHTML=x),S=ht(Ft),T=q(Ft,"DIV",{class:!0});var we=nt(T);C=q(we,"DIV",{class:!0,role:!0});var $t=nt(C);A=q($t,"BUTTON",{class:!0});var re=nt(A);Wt(b.$$.fragment,re),R=ht(re),L=gt(re,F),re.forEach(k),O=ht($t),I=q($t,"BUTTON",{class:!0});var be=nt(I);Wt(B.$$.fragment,be),be.forEach(k),$t.forEach(k),U=ht(we),H=q(we,"BUTTON",{class:!0});var Ie=nt(H);Wt(J.$$.fragment,Ie),tt=gt(Ie," Share"),Ie.forEach(k),X=ht(we),j=q(we,"BUTTON",{class:!0});var Fe=nt(j);Wt(D.$$.fragment,Fe),z=gt(Fe," Save"),Fe.forEach(k),$=ht(we),K=q(we,"BUTTON",{class:!0});var ce=nt(K);Wt(Z.$$.fragment,ce),ce.forEach(k),we.forEach(k),Ft.forEach(k),it=ht(St),st=q(St,"DIV",{class:!0});var Me=nt(st);at=q(Me,"DIV",{class:!0});var Ue=nt(at);ut=q(Ue,"DIV",{class:!0});var Xe=nt(ut);xt=gt(Xe,vt),Et=gt(Xe," views"),Xe.forEach(k),yt=ht(Ue),bt=q(Ue,"DIV",{class:!0});var hi=nt(bt);Vt=gt(hi,Dt),hi.forEach(k),Ue.forEach(k),Nt=ht(Me),Mt=q(Me,"DIV",{class:!0});var Qe=nt(Mt);Zt.l(Qe),Qe.forEach(k),Me.forEach(k),It=ht(St),Lt=q(St,"DIV",{class:!0,"data-svelte-h":!0}),Rt(Lt)!=="svelte-xaamfu"&&(Lt.textContent=kt),St.forEach(k),Ot.forEach(k),this.h()},h(){Y(E,"class","yt-video-title svelte-8mtob3"),Ae(o.src,p=w[0].avatar)||Y(o,"src",p),Y(o,"alt","avatar"),Y(o,"class","svelte-8mtob3"),Y(t,"class","yt-avatar svelte-8mtob3"),Y(n,"class","yt-channel-name svelte-8mtob3"),Y(a,"class","yt-channel-subs svelte-8mtob3"),Y(i,"class","yt-channel svelte-8mtob3"),Y(m,"class","yt-subscribe svelte-8mtob3"),Y(A,"class","btn btn-light svelte-8mtob3"),Y(I,"class","btn btn-light svelte-8mtob3"),Y(C,"class","btn-group svelte-8mtob3"),Y(C,"role","group"),Y(H,"class","btn btn-light svelte-8mtob3"),Y(j,"class","btn btn-light svelte-8mtob3"),Y(K,"class","btn btn-light svelte-8mtob3"),Y(T,"class","yt-video-buttons svelte-8mtob3"),Y(y,"class","yt-video-author svelte-8mtob3"),Y(ut,"class","yt-views"),Y(bt,"class","yt-created-ad"),Y(at,"class","yt-video-subdata svelte-8mtob3"),Y(Mt,"class","yt-video-desc-text"),Y(st,"class","yt-video-desc svelte-8mtob3"),pe(st,"minimized",!w[2]),Y(Lt,"class","yt-comments svelte-8mtob3"),Y(g,"class","video-description svelte-8mtob3"),Y(v,"class","svelte-8mtob3")},m(Bt,Ot){dt(Bt,v,Ot),V(v,g),V(g,E),V(E,P),V(g,c),V(g,y),V(y,t),V(t,o),V(y,s),V(y,i),V(i,n),V(n,r),V(i,l),V(i,a),V(a,f),V(a,u),V(y,d),V(y,m),V(y,S),V(y,T),V(T,C),V(C,A),Xt(b,A,null),V(A,R),V(A,L),V(C,O),V(C,I),Xt(B,I,null),V(T,U),V(T,H),Xt(J,H,null),V(H,tt),V(T,X),V(T,j),Xt(D,j,null),V(j,z),V(T,$),V(T,K),Xt(Z,K,null),V(g,it),V(g,st),V(st,at),V(at,ut),V(ut,xt),V(ut,Et),V(at,yt),V(at,bt),V(bt,Vt),V(st,Nt),V(st,Mt),Zt.m(Mt,null),V(g,It),V(g,Lt),qt=!0,se||(ie=[ne(A,"click",w[3]),ne(I,"click",w[4]),ne(st,"click",w[5])],se=!0)},p(Bt,[Ot]){(!qt||Ot&1)&&M!==(M=Bt[0].title+"")&&ee(P,M),(!qt||Ot&1&&!Ae(o.src,p=Bt[0].avatar))&&Y(o,"src",p),(!qt||Ot&1)&&e!==(e=Bt[0].author+"")&&ee(r,e),(!qt||Ot&1)&&h!==(h=ur(Bt[0].subs)+"")&&ee(f,h);const St={};Ot&66&&(St.$$scope={dirty:Ot,ctx:Bt}),b.$set(St),(!qt||Ot&3)&&F!==(F=ur(Bt[0].likes+Math.max(0,Bt[1]))+"")&&ee(L,F);const At={};Ot&66&&(At.$$scope={dirty:Ot,ctx:Bt}),B.$set(At);const Ft={};Ot&64&&(Ft.$$scope={dirty:Ot,ctx:Bt}),J.$set(Ft);const ae={};Ot&64&&(ae.$$scope={dirty:Ot,ctx:Bt}),D.$set(ae);const Qt={};Ot&64&&(Qt.$$scope={dirty:Ot,ctx:Bt}),Z.$set(Qt),(!qt||Ot&1)&&vt!==(vt=co(Bt[0].views)+"")&&ee(xt,vt),(!qt||Ot&1)&&Dt!==(Dt=Pr(Bt[0].createdAt)+"")&&ee(Vt,Dt),zt===(zt=oe(Bt))&&Zt?Zt.p(Bt,Ot):(Zt.d(1),Zt=zt(Bt),Zt&&(Zt.c(),Zt.m(Mt,null))),(!qt||Ot&4)&&pe(st,"minimized",!Bt[2])},i(Bt){qt||(Tt(b.$$.fragment,Bt),Tt(B.$$.fragment,Bt),Tt(J.$$.fragment,Bt),Tt(D.$$.fragment,Bt),Tt(Z.$$.fragment,Bt),qt=!0)},o(Bt){wt(b.$$.fragment,Bt),wt(B.$$.fragment,Bt),wt(J.$$.fragment,Bt),wt(D.$$.fragment,Bt),wt(Z.$$.fragment,Bt),qt=!1},d(Bt){Bt&&k(v),Yt(b),Yt(B),Yt(J),Yt(D),Yt(Z),Zt.d(),se=!1,ui(ie)}}}function _m(w,v,g){let{video:E}=v,M=0,P=!1;const c=()=>g(1,M=1),y=()=>g(1,M=-1),t=()=>g(2,P=!0);return w.$$set=o=>{"video"in o&&g(0,E=o.video)},[E,M,P,c,y,t]}class tg extends Se{constructor(v){super(),Ee(this,v,_m,qm,Te,{video:0})}}function eg(w){let v,g,E='<img src="/pics/youtube/backdrop2.webp" alt="YouTube backdrop" class="svelte-1e7d44"/>',M,P,c,y,t,o,p,s;return c=new Xm({props:{videoId:w[0].id,class:"w-100 h-100",options:w[7]}}),c.$on("error",w[8]),c.$on("ready",w[9]),c.$on("stateChange",w[10]),t=new tg({props:{video:w[0]}}),p=new Wm({}),{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),P=Q("div"),Ut(c.$$.fragment),y=lt(),Ut(t.$$.fragment),o=lt(),Ut(p.$$.fragment),this.h()},l(i){v=q(i,"DIV",{class:!0});var n=nt(v);g=q(n,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-1ux4w5c"&&(g.innerHTML=E),M=ht(n),P=q(n,"DIV",{class:!0});var e=nt(P);Wt(c.$$.fragment,e),e.forEach(k),y=ht(n),Wt(t.$$.fragment,n),o=ht(n),Wt(p.$$.fragment,n),n.forEach(k),this.h()},h(){Y(g,"class","backdrop svelte-1e7d44"),Y(P,"class","youtube-video-container svelte-1e7d44"),Y(v,"class","youtube svelte-1e7d44")},m(i,n){dt(i,v,n),V(v,g),V(v,M),V(v,P),Xt(c,P,null),V(v,y),Xt(t,v,null),V(v,o),Xt(p,v,null),s=!0},p(i,[n]){const e={};n&1&&(e.videoId=i[0].id),c.$set(e);const r={};n&1&&(r.video=i[0]),t.$set(r)},i(i){s||(Tt(c.$$.fragment,i),Tt(t.$$.fragment,i),Tt(p.$$.fragment,i),s=!0)},o(i){wt(c.$$.fragment,i),wt(t.$$.fragment,i),wt(p.$$.fragment,i),s=!1},d(i){i&&k(v),Yt(c),Yt(t),Yt(p)}}}function ig(w,v,g){let E,M;Ve(w,qe,e=>g(4,M=e));let{video:P}=v;const c=Ur(),y=de.state;Ve(w,y,e=>g(3,E=e));const t={width:"1280",height:"720",playerVars:{autoplay:1,enablejsapi:1,fs:0,rel:0,origin:window.location.origin}};let o,p=!1;function s(e){Nh.call(this,w,e)}const i=e=>{g(1,o=e.detail.target),o.setVolume(M.volume),c("ready")},n=e=>{switch(e.detail.data){case Os.CUED:{o.setVolume(M.volume);break}case Os.PAUSED:{E.isPaused||g(2,p=!0);break}case Os.PLAYING:{g(2,p=!1);break}case Os.ENDED:{g(2,p=!0);break}}e.detail.data===Os.PLAYING?c("playback-started"):c("playback-stopped")};return w.$$set=e=>{"video"in e&&g(0,P=e.video)},w.$$.update=()=>{w.$$.dirty&14&&(o&&E.isPaused?o.pauseVideo():o&&!p&&o.playVideo())},[P,o,p,E,M,c,y,t,s,i,n]}class sg extends Se{constructor(v){super(),Ee(this,v,ig,eg,Te,{video:0})}}function ng(w){let v,g;return v=new sg({props:{video:w[0]}}),v.$on("ready",w[3]),v.$on("error",w[4]),v.$on("playback-started",w[5]),v.$on("playback-stopped",w[6]),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,M){const P={};M&1&&(P.video=E[0]),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function rg(w){let v,g;return v=new Au({props:{icon:w[2],title:w[1],$$slots:{default:[ng]},$$scope:{ctx:w}}}),v.$on("close",w[7]),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,[M]){const P={};M&4&&(P.icon=E[2]),M&2&&(P.title=E[1]),M&8193&&(P.$$scope={dirty:M,ctx:E}),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function ag(w,v,g){let{video:E}=v,{title:M}=v,{icon:P}=v;const c=Ur(),y=new Jn;let t;const o={loaded:!0,duration:0,_lastStartAt:0,link:{isDuplicate:!1,isLowViews:!1,isBadCategory:!1}};function p(){}function s(l){var h;((h=l.detail)==null?void 0:h.data)>=100&&(o.loaded=!1)}function i(){o._lastStartAt=Date.now()}function n(){o._lastStartAt&&(o.duration+=Date.now()-o._lastStartAt,o._lastStartAt=0)}function e(){c("close",o)}function r(l){var h,f,u;if(typeof l.data!="string")return;const a=JSON.parse(l.data);if(a.event==="infoDelivery"){const d=((h=a.info)==null?void 0:h.duration)||0;(((u=(f=a.info)==null?void 0:f.videoData)==null?void 0:u.video_id)||"")===E.id&&g(0,E.duration=d*1e3,E)}}return ti(()=>{window.addEventListener("message",r),o.link.isDuplicate=de.seenVideos.has(E.id),o.link.isLowViews=E.views<xr.minViews,o.link.isBadCategory=xr.badCategories.includes(E.category);const l=Object.values(o.link).some(a=>a===!0);return l&&(t&&t.clear(),t=new Li(()=>{y.modifyRage(1)},800),new ri(()=>Tn("invalidVideo"),2e3)),()=>{if(window.removeEventListener("message",r),t==null||t.clear(),!l&&o.loaded){const a=E.duration?Math.min(xr.minTimeToWatch,.9*E.duration):xr.minTimeToWatch;n();const h=o.duration/a;h<.75&&Tn("skippedVideo");const f=-50*(1-h);y.modifyLoyalty(Math.min(0,f))}}}),w.$$set=l=>{"video"in l&&g(0,E=l.video),"title"in l&&g(1,M=l.title),"icon"in l&&g(2,P=l.icon)},[E,M,P,p,s,i,n,e]}class og extends Se{constructor(v){super(),Ee(this,v,ag,rg,Te,{video:0,title:1,icon:2})}}function lg(w){let v,g,E;var M=w[1];function P(c,y){return{props:{minigame:c[0]}}}return M&&(g=Gs(M,P(w))),{c(){v=Q("div"),g&&Ut(g.$$.fragment),this.h()},l(c){v=q(c,"DIV",{class:!0});var y=nt(v);g&&Wt(g.$$.fragment,y),y.forEach(k),this.h()},h(){Y(v,"class","minigame svelte-1kmouo5")},m(c,y){dt(c,v,y),g&&Xt(g,v,null),E=!0},p(c,[y]){if(y&2&&M!==(M=c[1])){if(g){Oe();const t=g;wt(t.$$.fragment,1,0,()=>{Yt(t,1)}),De()}M?(g=Gs(M,P(c)),Ut(g.$$.fragment),Tt(g.$$.fragment,1),Xt(g,v,null)):g=null}else if(M){const t={};y&1&&(t.minigame=c[0]),g.$set(t)}},i(c){E||(g&&Tt(g.$$.fragment,c),E=!0)},o(c){g&&wt(g.$$.fragment,c),E=!1},d(c){c&&k(v),g&&Yt(g)}}}function hg(w,v,g){let{minigame:E}=v,M;return ti(()=>{E.init();const P=E.activeComponent.subscribe(c=>{g(1,M=c)});return()=>{P(),E.destroy()}}),w.$$set=P=>{"minigame"in P&&g(0,E=P.minigame)},[E,M]}class ug extends Se{constructor(v){super(),Ee(this,v,hg,lg,Te,{minigame:0})}}function fg(w){let v,g;return v=new ug({props:{minigame:w[4]}}),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,M){const P={};M&16&&(P.minigame=E[4]),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function dg(w){let v,g;return v=new Au({props:{icon:w[2],title:w[1],isScaleable:w[3],$$slots:{default:[fg]},$$scope:{ctx:w}}}),v.$on("close",w[5]),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,[M]){const P={};M&4&&(P.icon=E[2]),M&2&&(P.title=E[1]),M&8&&(P.isScaleable=E[3]),M&80&&(P.$$scope={dirty:M,ctx:E}),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function cg(w,v,g){let E,M=jt,P=()=>(M(),M=ds(c,s=>g(4,E=s)),c);w.$$.on_destroy.push(()=>M());let{minigame:c}=v;P();let{title:y}=v,{icon:t}=v,{isScaleable:o=!0}=v;function p(s){Nh.call(this,w,s)}return w.$$set=s=>{"minigame"in s&&P(g(0,c=s.minigame)),"title"in s&&g(1,y=s.title),"icon"in s&&g(2,t=s.icon),"isScaleable"in s&&g(3,o=s.isScaleable)},[c,y,t,o,E,p]}class zl extends Se{constructor(v){super(),Ee(this,v,cg,dg,Te,{minigame:0,title:1,icon:2,isScaleable:3})}}function Ul(w){let v,g,E="Killed by:",M,P,c=w[1].name+"",y,t,o,p,s,i,n,e,r,l;return{c(){v=Q("div"),g=Q("h3"),g.textContent=E,M=lt(),P=Q("span"),y=mt(c),t=lt(),o=Q("div"),p=Q("img"),n=lt(),e=Q("img"),this.h()},l(a){v=q(a,"DIV",{class:!0});var h=nt(v);g=q(h,"H3",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-37q3j4"&&(g.textContent=E),M=ht(h),P=q(h,"SPAN",{});var f=nt(P);y=gt(f,c),f.forEach(k),t=ht(h),o=q(h,"DIV",{class:!0});var u=nt(o);p=q(u,"IMG",{src:!0,alt:!0,class:!0}),n=ht(u),e=q(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(k),h.forEach(k),this.h()},h(){Y(g,"class","svelte-1ntjbut"),Ht(P,"color",w[1].color),Ae(p.src,s=`/pics/m4/${w[1].class}.png`)||Y(p,"src",s),Y(p,"alt",i=w[1].class),Y(p,"class","svelte-1ntjbut"),Ae(e.src,r=`/pics/m4/${w[1].weaponDesc.texture}.png`)||Y(e,"src",r),Y(e,"alt",l=w[1].weaponDesc.texture),Y(e,"class","weapon svelte-1ntjbut"),Y(o,"class","unit-portrait svelte-1ntjbut"),Y(v,"class","killed-by svelte-1ntjbut")},m(a,h){dt(a,v,h),V(v,g),V(v,M),V(v,P),V(P,y),V(v,t),V(v,o),V(o,p),V(o,n),V(o,e)},p(a,h){h&2&&c!==(c=a[1].name+"")&&ee(y,c),h&2&&Ht(P,"color",a[1].color),h&2&&!Ae(p.src,s=`/pics/m4/${a[1].class}.png`)&&Y(p,"src",s),h&2&&i!==(i=a[1].class)&&Y(p,"alt",i),h&2&&!Ae(e.src,r=`/pics/m4/${a[1].weaponDesc.texture}.png`)&&Y(e,"src",r),h&2&&l!==(l=a[1].weaponDesc.texture)&&Y(e,"alt",l)},d(a){a&&k(v)}}}function vg(w){let v;return{c(){v=mt("exit_to_app")},l(g){v=gt(g,"exit_to_app")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function pg(w){let v,g,E,M,P=w[0].arena.player.name+"",c,y,t,o,p,s=w[3]+!w[2]+"",i,n,e,r,l=w[0].arena.maxSpawnCount+"",a,h,f,u=w[2]?"The winner gets TEA!":"Better luck next time!",d,m,x,S,T,C,A,b="Kills",R,F,L=w[0].arena.player.stats.frag+"",O,I,B,U,H="Damage",J,tt,X=w[0].arena.player.stats.damage+"",j,D,z,$,K="Heals used",Z,it,st=w[0].arena.player.stats.medkit+"",at,ut,vt,xt,Et="Grenades used",yt,bt,Dt=w[0].arena.player.stats.ability+"",Vt,Nt,Mt,It,Lt,kt,qt,se,ie,oe,zt=!w[2]&&Ul(w);return kt=new he({props:{size:"120%",$$slots:{default:[vg]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("div"),E=Q("div"),M=Q("span"),c=mt(P),y=lt(),t=Q("div"),o=Q("span"),p=mt("#"),i=mt(s),n=lt(),e=Q("span"),r=mt("/ "),a=mt(l),h=lt(),f=Q("h1"),d=mt(u),m=lt(),x=Q("div"),S=Q("table"),T=Q("tbody"),C=Q("tr"),A=Q("td"),A.textContent=b,R=lt(),F=Q("td"),O=mt(L),I=lt(),B=Q("tr"),U=Q("td"),U.textContent=H,J=lt(),tt=Q("td"),j=mt(X),D=lt(),z=Q("tr"),$=Q("td"),$.textContent=K,Z=lt(),it=Q("td"),at=mt(st),ut=lt(),vt=Q("tr"),xt=Q("td"),xt.textContent=Et,yt=lt(),bt=Q("td"),Vt=mt(Dt),Nt=lt(),zt&&zt.c(),Mt=lt(),It=Q("div"),Lt=Q("button"),Ut(kt.$$.fragment),qt=mt(" Leave game"),this.h()},l(Zt){v=q(Zt,"DIV",{class:!0});var Bt=nt(v);g=q(Bt,"DIV",{class:!0});var Ot=nt(g);E=q(Ot,"DIV",{class:!0});var St=nt(E);M=q(St,"SPAN",{});var At=nt(M);c=gt(At,P),At.forEach(k),y=ht(St),t=q(St,"DIV",{class:!0});var Ft=nt(t);o=q(Ft,"SPAN",{class:!0});var ae=nt(o);p=gt(ae,"#"),i=gt(ae,s),ae.forEach(k),n=ht(Ft),e=q(Ft,"SPAN",{});var Qt=nt(e);r=gt(Qt,"/ "),a=gt(Qt,l),Qt.forEach(k),Ft.forEach(k),St.forEach(k),h=ht(Ot),f=q(Ot,"H1",{class:!0});var xe=nt(f);d=gt(xe,u),xe.forEach(k),Ot.forEach(k),m=ht(Bt),x=q(Bt,"DIV",{class:!0});var ye=nt(x);S=q(ye,"TABLE",{class:!0});var we=nt(S);T=q(we,"TBODY",{});var $t=nt(T);C=q($t,"TR",{});var re=nt(C);A=q(re,"TD",{class:!0,"data-svelte-h":!0}),Rt(A)!=="svelte-1y1yg9x"&&(A.textContent=b),R=ht(re),F=q(re,"TD",{class:!0});var be=nt(F);O=gt(be,L),be.forEach(k),re.forEach(k),I=ht($t),B=q($t,"TR",{});var Ie=nt(B);U=q(Ie,"TD",{class:!0,"data-svelte-h":!0}),Rt(U)!=="svelte-nev7qb"&&(U.textContent=H),J=ht(Ie),tt=q(Ie,"TD",{class:!0});var Fe=nt(tt);j=gt(Fe,X),Fe.forEach(k),Ie.forEach(k),D=ht($t),z=q($t,"TR",{});var ce=nt(z);$=q(ce,"TD",{class:!0,"data-svelte-h":!0}),Rt($)!=="svelte-svypui"&&($.textContent=K),Z=ht(ce),it=q(ce,"TD",{class:!0});var Me=nt(it);at=gt(Me,st),Me.forEach(k),ce.forEach(k),ut=ht($t),vt=q($t,"TR",{});var Ue=nt(vt);xt=q(Ue,"TD",{class:!0,"data-svelte-h":!0}),Rt(xt)!=="svelte-1tw31ve"&&(xt.textContent=Et),yt=ht(Ue),bt=q(Ue,"TD",{class:!0});var Xe=nt(bt);Vt=gt(Xe,Dt),Xe.forEach(k),Ue.forEach(k),$t.forEach(k),we.forEach(k),Nt=ht(ye),zt&&zt.l(ye),ye.forEach(k),Mt=ht(Bt),It=q(Bt,"DIV",{class:!0});var hi=nt(It);Lt=q(hi,"BUTTON",{class:!0});var Qe=nt(Lt);Wt(kt.$$.fragment,Qe),qt=gt(Qe," Leave game"),Qe.forEach(k),hi.forEach(k),Bt.forEach(k),this.h()},h(){Y(o,"class","your-place svelte-1ntjbut"),Y(t,"class","rating svelte-1ntjbut"),Y(E,"class","player svelte-1ntjbut"),Y(f,"class","svelte-1ntjbut"),Y(g,"class","w-100"),Y(A,"class","svelte-1ntjbut"),Y(F,"class","svelte-1ntjbut"),Y(U,"class","svelte-1ntjbut"),Y(tt,"class","svelte-1ntjbut"),Y($,"class","svelte-1ntjbut"),Y(it,"class","svelte-1ntjbut"),Y(xt,"class","svelte-1ntjbut"),Y(bt,"class","svelte-1ntjbut"),Y(S,"class","table svelte-1ntjbut"),Y(x,"class","content svelte-1ntjbut"),Y(Lt,"class","btn btn-danger"),Y(It,"class","buttons svelte-1ntjbut"),Y(v,"class","game-over svelte-1ntjbut")},m(Zt,Bt){dt(Zt,v,Bt),V(v,g),V(g,E),V(E,M),V(M,c),V(E,y),V(E,t),V(t,o),V(o,p),V(o,i),V(t,n),V(t,e),V(e,r),V(e,a),V(g,h),V(g,f),V(f,d),V(v,m),V(v,x),V(x,S),V(S,T),V(T,C),V(C,A),V(C,R),V(C,F),V(F,O),V(T,I),V(T,B),V(B,U),V(B,J),V(B,tt),V(tt,j),V(T,D),V(T,z),V(z,$),V(z,Z),V(z,it),V(it,at),V(T,ut),V(T,vt),V(vt,xt),V(vt,yt),V(vt,bt),V(bt,Vt),V(x,Nt),zt&&zt.m(x,null),V(v,Mt),V(v,It),V(It,Lt),Xt(kt,Lt,null),V(Lt,qt),se=!0,ie||(oe=ne(Lt,"click",w[5]),ie=!0)},p(Zt,[Bt]){(!se||Bt&1)&&P!==(P=Zt[0].arena.player.name+"")&&ee(c,P),(!se||Bt&12)&&s!==(s=Zt[3]+!Zt[2]+"")&&ee(i,s),(!se||Bt&1)&&l!==(l=Zt[0].arena.maxSpawnCount+"")&&ee(a,l),(!se||Bt&4)&&u!==(u=Zt[2]?"The winner gets TEA!":"Better luck next time!")&&ee(d,u),(!se||Bt&1)&&L!==(L=Zt[0].arena.player.stats.frag+"")&&ee(O,L),(!se||Bt&1)&&X!==(X=Zt[0].arena.player.stats.damage+"")&&ee(j,X),(!se||Bt&1)&&st!==(st=Zt[0].arena.player.stats.medkit+"")&&ee(at,st),(!se||Bt&1)&&Dt!==(Dt=Zt[0].arena.player.stats.ability+"")&&ee(Vt,Dt),Zt[2]?zt&&(zt.d(1),zt=null):zt?zt.p(Zt,Bt):(zt=Ul(Zt),zt.c(),zt.m(x,null));const Ot={};Bt&64&&(Ot.$$scope={dirty:Bt,ctx:Zt}),kt.$set(Ot)},i(Zt){se||(Tt(kt.$$.fragment,Zt),se=!0)},o(Zt){wt(kt.$$.fragment,Zt),se=!1},d(Zt){Zt&&k(v),zt&&zt.d(),Yt(kt),ie=!1,oe()}}}function mg(w,v,g){let E,{minigame:M}=v,{winner:P}=v,{chickenDinner:c=!1}=v;const y=M.arena.winCondition;Ve(w,y,o=>g(3,E=o));function t(){M.endGame()}return w.$$set=o=>{"minigame"in o&&g(0,M=o.minigame),"winner"in o&&g(1,P=o.winner),"chickenDinner"in o&&g(2,c=o.chickenDinner)},[M,P,c,E,y,t]}class gg extends Se{constructor(v){super(),Ee(this,v,mg,pg,Te,{minigame:0,winner:1,chickenDinner:2})}}const Ja=190;class bu{constructor(){this.texture="ground",this.group="platforms",this.levelHeight=Ja,this.depth=1,this.highest=!1}build(v){return{x:v.params.width*this.x,y:v.params.height-this.levelHeight*this.level,group:this.group,texture:this.texture,scaleX:this.scaleX,scaleY:this.scaleY,highest:this.highest}}}class ci extends bu{constructor(v,g=1,E=1){super(),this.x=v,this.level=g,this.scaleX=E,this.scaleY=1,this.depth=2}}class xg extends ci{constructor(v){super(v,7,2.27),this.scaleY=1.7,this.depth=3,this.highest=!0}}class yg extends bu{constructor(v){super(),this.texture="building",this.group="walls",this.x=v,this.level=3.5,this.scaleX=1.7,this.scaleY=2.45}}const Tg=[new ci(.18,1,2),new ci(.82,1,2),new ci(-.15,2,4),new ci(.32,2,1.7),new ci(.68,2,1.7),new ci(1.15,2,4),new ci(.13,3),new ci(.37,3,1.5),new ci(.63,3,1.5),new ci(.87,3),new ci(.74,4,1.25),new ci(.26,4,1.25),new ci(-.05,5,4),new ci(1.05,5,4),new ci(.74,6,1.5),new ci(.26,6,1.5),new yg(.5),new xg(.5)];qn(150,console.log);function Xl(w,v){return(w.x<v.x[0]||w.x>v.x[1])&&(w.y<v.y[0]||w.y>v.y[1])}function ha(w,v){return Math.sign(w/v-.5)}function Sg(w,v=!1){if(w.ai._init&&!v){console.warn("[ArenaBetterAi] This arena was already initialized!");return}w.ai._init=!0,w.ai.consts={halfAcrossMap:400,jumpThreshold:200,elevatorToTargetThreshold:322,elevatorHeightThreshold:50,enemyColorMap:{blue:"red",red:"blue"},characters:["chad","soy"],behaviors:{melee:{chad:"meleeAction",soy:"idleMeleeAction"},ranged:{chad:"rangedAction",soy:"idleRangedAction"}},alignment:{}},w.ai.walls=[],w.groups.walls.children.iterate(g=>{const E=g.getTopLeft(),M=g.getTopRight();w.ai.walls.push({x:[E.x,M.x],y:[E.y,M.y]})}),w.ai.elevators=[],w.ai.floors=[],w.groups.platforms.children.iterate(g=>{const E=g.getTopLeft(),M=g.getTopRight(),P=Math.ceil((E.y+M.y)/2),c={y:P,planks:[]};let y;if(w.ai.floors.length>0){for(y=w.ai.floors.length-1;y>=0;y--)if(w.ai.floors[y].y>=P){w.ai.floors[y].y>P&&w.ai.floors.splice(++y,0,c);break}}else y=0,w.ai.floors.splice(y,0,c);w.ai.floors[y].planks.push({y:P,fromX:Math.max(E.x,0),toX:Math.min(M.x,w.params.width)}),E.x>0&&E.x<w.params.width&&w.ai.walls.every(o=>Xl(E,o))&&(E.jumpDirection=1,E.dropDirection=-1,w.ai.elevators.push(E)),M.x>0&&M.x<w.params.width&&w.ai.walls.every(o=>Xl(M,o))&&(M.jumpDirection=-1,M.dropDirection=1,w.ai.elevators.push(M))}),w.ai.highestFloor=w.ai.floors[w.ai.floors.length-1],w.ai.elevators.forEach(g=>{g.floor=0;for(let E=0;E<w.ai.floors.length;E++)Math.abs(w.ai.floors[E].y-g.y)<1&&(g.floor=E);w.source.physics.config.debug&&w.source.add.rectangle(g.x,g.y,8,8).setFillStyle(16711680).setDepth(50)}),w.ai.consts.elevatorToTargetThreshold=w.params.height/3,w.ai.consts.elevatorHeightThreshold=Ja/2,w.ai.consts.halfAcrossMap=w.params.width*.5,w.ai.getMultiUnitFloor=function(){const g=new Array(arguments.length).fill(0);for(let E=0;E<w.ai.floors.length;E++)for(let M=0;M<arguments.length;M++)arguments[M].object.y<=w.ai.floors[E].y&&(g[M]=E);return g},console.log("[ArenaBetterAi] Initialization complete!")}class Eg{constructor(v,g){this.arena=v,this.unit=g,this.log=oi;const E=this.arena.source.time.now;this.unit.bot.nextJump=E+te(4567),this.unit.bot.nextAttack=E+te(1234,7890),this.unit.bot.nextAbility=E+te(1234,5678),this.unit.bot.nextChangeDirection=1,this.unit.bot.isSmart=!0,this.unit.bot.nextSmartMove=E+te(1234,3210),this.unit.bot.smartBehavior=v.ai.consts.alignment[this.unit.class]||Ke(v.ai.consts.characters)}checkBlockBotAction(v){return this.arena.state!=="started"||this.unit.dead||this.unit.bot.isPassive||this.unit.bot.nextSmartMove>v}getDistanceInfoTo(v){const g={unit:v};return g.dx=v.object.x-this.unit.object.x,g.dy=v.object.y-this.unit.object.y,g.distance=Math.sqrt(g.dx*g.dx+g.dy*g.dy),g}getUnitDistanceToElevator(v){const g={elevator:v};return g.dx=v.x-this.unit.object.x,g.dy=v.y-this.unit.object.y,g.distance=Math.sqrt(g.dx*g.dx+g.dy*g.dy),g}getSimpleDistanceToElevator(v,g){let E=g.x-v.object.x,M=g.y-v.object.y;return Math.sqrt(E*E+M*M)}findOptimalElevator(v){const g={closest:{elevator:{bad:1},distance:Number.MAX_SAFE_INTEGER,dToTarget:Number.MAX_SAFE_INTEGER,dToUnit:Number.MAX_SAFE_INTEGER},best:{elevator:{bad:1},distance:Number.MAX_SAFE_INTEGER,dToTarget:Number.MAX_SAFE_INTEGER,dToUnit:Number.MAX_SAFE_INTEGER}},E=v.object.x>this.unit.object.x?[this.unit.object.x,v.object.x]:[v.object.x,this.unit.object.x],M=this.arena.ai.getMultiUnitFloor(this.unit,v);if(this.log("floor info",M,v.object),M[0]===M[1])return null;const P=M[0]<M[1];if(this.arena.ai.elevators.forEach(t=>{if(t.floor-M[0]!==+P)return;if(t.x<=E[1]&&t.x>=E[0]){let s=this.getSimpleDistanceToElevator(v,t);s<g.best.dToTarget&&(g.best.elevator=t,g.best.dToTarget=s)}let p=this.getSimpleDistanceToElevator(this.unit,t);p<g.closest.dToUnit&&(g.closest.elevator=t,g.closest.dToUnit=p)}),g.closest.elevator.bad&&g.best.elevator.bad)return null;const c=g.closest.elevator.bad?g.best:g.best.elevator.bad||P&&M[1]-M[0]!==1?g.closest:g.best;if(c===null)return null;const y=this.getUnitDistanceToElevator(c.elevator);return y.jumpX=c.elevator.x-this.unit.speed*.6*y.elevator.jumpDirection,y.dropX=c.elevator.x+y.elevator.dropDirection*10,y}getClosestUnitInfo(){let v={unit:null,distance:Number.MAX_SAFE_INTEGER};const g=E=>{if(E===this.unit||E.dead)return;const M=this.getDistanceInfoTo(E);v.distance>M.distance&&(v=M)};return this.unit.enemyUnits.forEach(g),v}getClosestUnitsInfoForRanged(){let v={unit:null,ady:Number.MAX_SAFE_INTEGER},g={unit:null,distance:Number.MAX_SAFE_INTEGER};const E=M=>{if(M===this.unit||M.dead||this.unit.object.y>this.arena.ai.highestFloor.y&&ha(M.object.x,this.arena.params.width)!==this._sideOfMap)return;const P=this.getDistanceInfoTo(M);P.ady=Math.abs(P.dy),g.distance>P.distance&&(g=P),(v.ady>P.ady||v.ady==P.ady&&v.distance>P.distance)&&(v=P)};return this.unit.enemyUnits.forEach(E),[v,g]}processAction(v){var g;if(!this.checkBlockBotAction(v)){if(this.unit.bot.preferredRange=Math.max(80,Math.floor(((g=this.unit.weapon)==null?void 0:g.speedX)*.4))||0,this.unit.ability.charges>0&&this.unit.bot.nextAbility<v){const M=this.getClosestUnitsInfoForRanged()[0];M.unit&&M.distance>300&&M.distance<700&&(this.unit.bot.nextAbility=v+this.unit.ability.cooldown+te(1234),this.unit.doAbility())}this._sideOfMap=ha(this.unit.object.x,this.arena.params.width),this.unit.bot.preferredRange>99?this[this.arena.ai.consts.behaviors.ranged[this.unit.bot.smartBehavior]](v):this[this.arena.ai.consts.behaviors.melee[this.unit.bot.smartBehavior]](v),this.unit.bot.nextSmartMove=Math.max(this.unit.bot.nextSmartMove,v+200)}}adjustDirectionToTargetOnOtherSide(v){return this.unit.object.body.y<=this.arena.ai.highestFloor.y?v:ha(v.unit.object.x,this.arena.params.width)!==this._sideOfMap?this.getDistanceInfoTo({object:this.arena.midpoint,dead:!0}):v}meleeAction(v){let g=this.getClosestUnitInfo();if(!g.unit){this.log("no target found");const M=Math.random();this.unit.doMove(Math.random()-.5),M<.1&&this.unit.doJump(),this.unit.bot.nextSmartMove=v+555;return}g=this.adjustDirectionToTargetOnOtherSide(g);const E=Math.abs(g.dy);if(E>this.arena.ai.consts.elevatorHeightThreshold){const M=this.findOptimalElevator(g.unit);if(!M){this.log("[!] bad elevator",M),this.unit.bot.nextSmartMove=v+555,this.unit.doMove(Math.random()-.5);return}if(g.dy<0){if(this.log("looking to jump",M,M.jumpX,M.elevator.jumpDirection),Math.abs(M.jumpX-this.unit.object.x)<30){this.log("jumping!"),this.unit.doMove(M.elevator.jumpDirection),this.unit.doJump(),this.unit.bot.nextSmartMove=v+1234;return}this.unit.doMove(M.jumpX-this.unit.object.x)}else{this.log("looking to drop",M.dropX,M.elevator.dropDirection);const P=M.dropX-this.unit.object.x;this.unit.doMove(Math.abs(P<50)?M.elevator.dropDirection:P),this.unit.bot.nextSmartMove=v+888}return}this.log("leveled -- seek target"),g.unit.object.body.velocity.y<-this.arena.ai.consts.jumpThreshold&&this.unit.doJump(),this.unit.doMove(Math.sign(g.dx)),Math.abs(g.dx)<this.unit.bot.preferredRange&&E<10&&this.unit.doAttack()}idleMeleeAction(v){let g=this.getClosestUnitInfo();if(!g.unit){this.log("no target found");const E=Math.random();this.unit.doMove(Math.random()-.5),E<.1&&this.unit.doJump(),this.unit.bot.nextSmartMove=v+777;return}if(g=this.adjustDirectionToTargetOnOtherSide(g),Math.abs(g.dx)<this.unit.bot.preferredRange&&Math.abs(g.dy)<20){this.unit.doMove(Math.sign(g.dx)),this.unit.doAttack();return}if(g.distance<150){this.unit.doMove(-g.dx),Math.random()<.3&&this.unit.doJump();return}this.unit.doMove(1-2*Math.random()),Math.random()<.3&&this.unit.doJump()}rangedAction(v){const g=this.getClosestUnitsInfoForRanged();let E=g[0].unit?g[0]:g[1];if(!E.unit){this.log("no target found");const P=Math.random();this.unit.doMove(Math.random()-.5),P<.1&&this.unit.doJump(),this.unit.bot.nextSmartMove=v+777;return}if(E=this.adjustDirectionToTargetOnOtherSide(E),E.ady<10&&(this.unit.doMove(Math.sign(E.dx)),this.unit.doAttack()),Math.abs(E.dy)>this.arena.ai.elevatorHeightThreshold){const P=this.findOptimalElevator(E.unit);if(!P){this.log("[!] bad elevator",P),this.unit.bot.nextSmartMove=v+555,this.unit.doMove(Math.random()-.5);return}if(E.dy<0){if(this.log("looking to jump",P,P.jumpX,P.elevator.jumpDirection),Math.abs(P.jumpX-this.unit.object.x)<30){this.log("jumping!"),this.unit.doMove(P.elevator.jumpDirection),this.unit.doJump(),this.unit.bot.nextSmartMove=v+1234;return}this.unit.doMove(P.jumpX-this.unit.object.x)}else{this.log("looking to drop",P.dropX,P.elevator.dropDirection);const c=P.dropX-this.unit.object.x;this.unit.doMove(Math.abs(c<50)?P.elevator.dropDirection:c),this.unit.bot.nextSmartMove=v+888}return}if(E=g[1].unit?g[1]:g[0],!!E.unit){if(E.distance<this.unit.bot.preferredRange){let P=-E.dx;this.unit.object.x<this.unit.bot.preferredRange&&(P=1),this.unit.object.x>this.arena.params.width-this.unit.bot.preferredRange&&(P=-1),this.unit.doMove(P),Math.random()<.5&&this.unit.doJump();return}this.unit.doMove(0)}}idleRangedAction(v){const g=this.getClosestUnitsInfoForRanged();let E=g[0].unit?g[0]:g[1];if(!E.unit){this.log("no target found");const M=Math.random();this.unit.doMove(Math.random()-.5),M<.1&&this.unit.doJump(),this.unit.bot.nextSmartMove=v+777;return}if(E=this.adjustDirectionToTargetOnOtherSide(E),Math.abs(E.dy)<20&&(this.unit.doMove(Math.sign(E.dx)),this.unit.doAttack()),E=g[1].unit?g[1]:g[0],E.distance<this.unit.bot.preferredRange){let M=-E.dx;this.unit.object.x<this.unit.bot.preferredRange&&(M=1),this.unit.object.x>this.arena.params.width-this.unit.bot.preferredRange&&(M=-1),this.unit.doMove(M),Math.random()<.5&&this.unit.doJump();return}this.unit.doMove(1-2*Math.random()),Math.random()<.3&&this.unit.doJump()}}class Br{constructor(v){this.arena=v,this.source=v.source,this.isEmpty=!0,this.owner=null,this.weaponIcon="👊",this.speedX=0,this.speedY=0,this.gravitate=!1,this.persistent=!0,this.type="hit-melee",this.texture="null",this.priority=0,this.projectileSpeed=0,this.damage=22,this.maxAmmo=Number.MAX_SAFE_INTEGER,this.ammo=this.maxAmmo,this.reserveAmmo=0,this.attackDelay=400,this.reloadDelay=1e3,this.isReloading=!1,this.isDepleted=!1,this.attackDelayer=null,this._attackTick=!1,this.hitscans=["collider","overlap"],this.collideBehavior=oi,this.sound=this.source.sound.get("attack-melee"),this.soundOfDamage=this.source.sound.get("hit-fist"),this.soundOfReload=this.source.sound.get("reload")}setOwner(v){return this.owner=v,this}reloadAmmo(){this.ammo=this.maxAmmo,this.isReloading=!1}shoot(v){if(!(this._attackTick||this.ammo<1))return this._attackTick=!0,this.attackDelayer=this.source.time.addEvent({delay:this.attackDelay,callback:()=>{this._attackTick=!1}}),this.ammo-=1,this.ammo===0&&this.reloadAmmo(),new Ga(this.arena,this.source,v,this)}lifecycle(){this.object.on("animationcomplete",()=>{this.object.destroy()})}}class Gr extends Br{constructor(v){super(v),this.isEmpty=!1,this.type="hit-melee",this.weaponIcon="🍳",this.texture="pan",this.priority=1,this.damage=98,this.attackDelay=550,this.sound=this.source.sound.get("attack-melee"),this.soundOfDamage=this.source.sound.get("hit-melee"),this.ammo=Number.MAX_SAFE_INTEGER,this.maxAmmo=Number.MAX_SAFE_INTEGER}}class En extends Br{constructor(v){super(v),this.isEmpty=!1,this.weaponIcon="🔫",this.persistent=!1,this.type="hit-bullet",this.texture="pistol",this.projectileSpeed=650,this.damage=81,this.speedX=this.projectileSpeed,this.priority=2,this.attackDelay=400,this.reloadDelay=1800,this.ammo=12,this.maxAmmo=12,this.reserveAmmo=this.maxAmmo*4,this.hitscans=["collider","overlap"],this.collideBehavior=function(){this.object.destroy()},this.sound=this.source.sound.get("attack-ranged"),this.soundOfDamage=this.source.sound.get("hit-ranged")}reloadAmmo(v=!1){var E;if(this.isReloading||this.isDepleted)return this;if(this.isReloading=!0,this._isReloadingSince=Date.now(),this.reserveAmmo<1)return this.isDepleted=!0,this;const g=()=>{var P;const M=Math.min(this.maxAmmo,this.reserveAmmo);this.ammo=M,this.reserveAmmo-=M,this.isReloading=!1,(P=this.owner)!=null&&P.isPlayer&&this.arena.playerStore.update(c=>c)};return v?g():((E=this.owner)!=null&&E.isPlayer&&this.soundOfReload.play({volume:this.arena.settings.soundVolume*this.source.sound.getCustomExponent(),mute:!this.arena.settings.sound}),new ri(g,this.reloadDelay)),this}lifecycle(){this.object.setCollideWorldBounds(!0),this.object.body.onWorldBounds=!0,this.object.body.world.on("worldbounds",function(v){v.gameObject===this&&this.destroy()},this.object)}isSameClassAs(v){return this.constructor===(v==null?void 0:v.constructor)}}class Cg extends En{constructor(v){super(v),this.weaponIcon="🎯🔫",this.texture="sniper",this.projectileSpeed=1200,this.speedX=this.projectileSpeed,this.priority=3,this.attackDelay=800,this.reloadDelay=4e3,this.damage=220,this.ammo=5,this.maxAmmo=5,this.reserveAmmo=this.maxAmmo*3,this.sound=this.source.sound.get("attack-sniper"),this.soundOfDamage=this.source.sound.get("hit-ranged")}}class Ag extends En{constructor(v){super(v),this.weaponIcon="🔫⚙️",this.texture="rifle",this.projectileSpeed=800,this.speedX=this.projectileSpeed,this.priority=3,this.attackDelay=100,this.reloadDelay=3e3,this.damage=112,this.ammo=30,this.maxAmmo=30,this.reserveAmmo=this.maxAmmo*2,this.sound=this.source.sound.get("attack-rifle"),this.soundOfDamage=this.source.sound.get("hit-ranged")}}const wg={dead:!0,takeDamage:oi,takeHeal:oi};function Yl(w){w.destroy()}class Ga{constructor(v,g,E,M){this.arena=v,this.source=g,this.owner=E,this.x=M.x||E.object.x+.5*E.object.displayWidth-E.object.displayWidth*E.subobjects.weapon.flipX,this.y=M.y||E.object.y,this.damage=M.damage||0,this.allowFriendlyFire=M.allowFriendlyFire||!1,this.icon=M.weaponIcon,this.collideBehavior=M.collideBehavior,this.soundOfDamage=M.soundOfDamage,this.nullUnit=wg,this.object=g.physics.add.sprite(this.x,this.y,M.type),this.arena.groups.projectiles.add(this.object),this.object.ownerUnit=this.owner,this.object.body.setAllowGravity(M.gravitate),this.object.setDepth(10).setScale((M.scale||1)*this.arena.internals.globalScale).setFlipX(E.subobjects.weapon.flipX).setBounceX(1).setVelocityX((-E.subobjects.weapon.flipX*2+1)*M.speedX).setVelocityY(M.speedY),M.lifecycle.apply(this),this._processCallback=this.allowFriendlyFire?()=>!0:(P,c)=>{var y,t;return((y=P.ownerUnit)==null?void 0:y.guid)!==((t=c.ownerUnit)==null?void 0:t.guid)},this._colliderCallback=(P,c)=>{c.ownerUnit.takeDamage(this.owner,this,!c.ownerUnit.dead*this.damage),this.collideBehavior.apply(this)},M.persistent||(g.physics.add.collider(this.object,v.groups.platforms,Yl,null,this),g.physics.add.collider(this.object,v.groups.walls,Yl,null,this)),M.hitscans.forEach(P=>{this.source.physics.add[P](this.object,this.arena.groups.units.all,this._colliderCallback,this._processCallback,this)}),M.sound.play({volume:this.arena.settings.soundVolume*this.source.sound.getCustomExponent(),mute:!this.arena.settings.sound}),this.object.play("anim-"+M.type),v.camera2.ignore(this.object)}}class Mg{constructor(){this.isEmpty=!0,this.cooldown=1e3,this.charges=0,this.lastUsed=0,this.availableAt=0,this._action=oi}addCharge(v=1){this.charges=Math.min(99,this.charges+v)}overrideAction(v){this.isEmpty=typeof v!="function"||v===oi,this._action=v}isAvailable(){return Date.now()>this.availableAt}fire(){if(!this.isAvailable()||this.charges<1)return!1;const v=Date.now();return v<this.availableAt?!1:(this._action(),this.lastUsed=v,this.availableAt=this.lastUsed+this.cooldown,this.charges-=1,!0)}}class Mr{constructor(v,g,E,M=!1){this.arena=v,this.dead=!1,this.startX=typeof g=="number"?g:v.params.width/2,this.startY=typeof E=="number"?E:Math.max(32,v.internals.notificationLastObject.active?v.internals.notificationLastObject.y:v.internals.notificationLastY),this.collisionClass=v.internals.KILLFEED_COLLISION_MASKS.BIGTOAST,this.container=v.source.add.container(this.startX,this.startY+24),M&&(v.internals.notificationLastObject=this.container),v.source.cameras.main.ignore(this.container)}fillWithText(v,g){const E=this.arena.source.add.text(0,0,v,{font:"bold 96px Arial",fill:g,align:"center"});return E.setOrigin(.5,0),E.setShadow(0,0,"#000",16),this.container.add(E),this.container.setSize(E.width,E.height),this}show(v=-1){return this.arena.source.matter.add.gameObject(this.container,{position:{x:this.container.x,y:this.container.y},collisionFilter:{category:this.collisionClass}},!0),this.container.setCollidesWith([this.collisionClass,this.arena.internals.KILLFEED_COLLISION_MASKS.PADDER]),v&&v>0?this.selfDestruct=this.arena.source.time.addEvent({delay:v,callback:()=>this.destroy()}):this.destroy(),this}destroy(){var v;(v=this.selfDestruct)==null||v.remove(),delete this.selfDestruct,!this.dead&&(this.dead=!0,this.container.setCollisionCategory(this.arena.internals.KILLFEED_COLLISION_MASKS.DYING),this.isDying=setInterval(()=>{var g;((g=this.container)==null?void 0:g.y)>-100||(clearInterval(this.isDying),this.container.destroy())},1e3))}}class Pu extends Mr{constructor(v,g,E,M){if(super(v,v.params.width-4,4+Math.max(32,v.internals.killFeedLastObject.active?v.internals.killFeedLastObject.y:v.internals.killFeedLastY),!1),this.victim=g,this.originalKiller=E,this.icon=M,this.killer=E||{name:"",color:"black",class:"",weapon:""},!v.params.killfeed)return;let P=v.units.size+v.teams.blue.units.size+v.teams.red.units.size;if(E&&P>v.params.killFeedHardLimit)return;this.dead=!1,this.collisionClass=v.internals.KILLFEED_COLLISION_MASKS.TOAST,v.internals.killFeedLastObject=this.container,this.container.add(v.source.add.text(0,0,this.killer.name,{font:"bold 36px Arial",fill:this.killer.color,align:"right"})),this.container.add(v.source.add.text(0,0,M||this.killer.weapon,{font:"36px",fill:"#fff",align:"right"})),this.container.add(v.source.add.text(0,0,g.name,{font:"bold 36px Arial",fill:g.color,align:"right"}));const c=this.container.getAll();let y=0;for(let t=c.length-1;t>=0;t--)y+=c[t].width+4,c[t].setOrigin(1,0),c[t].setShadow(0,0,"#000",4),c[t+1]&&c[t].setPosition(c[t+1].x-c[t+1].width-4*(c.length-t),c[t+1].y);this.container.setSize(y,c[0].height),this.show(v.params.killFeedDuration+this.startY),v.internals.killFeedLastObject=this.container}emitEvent(){return this.arena.source.events.emit("arena-unit-died",this.victim,this.originalKiller,this.icon),this}destroy(){this.arena.internals.killFeedLastY=this.arena.internals.killFeedLastObject.y,super.destroy()}}function bg(w,v){w.body.setVelocityX(0)}class Qa{constructor(v,g,E,M=0,P=0,c="",y=null,t=null){if(this.arena=v,this.source=g,this.__voicechat=null,this.guid=Phaser.Utils.String.UUID(),this.type=E,this.class=E,this.x=M,this.y=P,this.attack=new Br(v),this.weapon=this.attack,this.isMeleeUnlocked=!1,this.ability=new Mg,this.master=null,this.summons=new Set,this.team=null,this.group="all",this.enemies=v.groups.units.all,this.enemyUnits=v.units,v.units.add(this),v.internals.isTeamMode){this.team=t in v.internals.TEAMS?t:this.getRandomTeam(),this.group=this.team;const p=this.team===v.internals.TEAMS.RED?v.internals.TEAMS.BLUE:v.internals.TEAMS.RED;this.enemies=v.groups.units[p],this.enemyUnits=v.teams[p].units,v.teams[this.team].units.add(this),v.teams[this.team].alive.add(this.guid)}else v.units.add(this),v.internals.aliveReporter.add(this.guid);v.unitsByGuid.set(this.guid,this),v.unitsByName.set(this.name,this),this.source=g,this.subobjects={unit:g.add.image(0,0,E),weapon:g.add.image(0,0,"null"),healthbar:g.add.rectangle(0,0,0,12,65280)},this.subobjects.weapon.setScale(.7,.7).setOrigin(.12,.25),this.subobjects.healthbar.setPosition(0,this.subobjects.unit.height*.6).setStrokeStyle(1,"black"),v.params.showUnitNames&&(this.subobjects.overheadText=g.add.text(0,-.69*this.subobjects.unit.height,this.name,{font:"36px Arial",color:this.color}).setScale(1,1).setOrigin(.5,.5).setStroke("black",1)),this.object=g.add.container(M,P,Object.values(this.subobjects)),this.object.setName(this.guid).setDepth(5).setSize(this.subobjects.unit.width,this.subobjects.unit.height).setScale(.4*v.internals.globalScale),this.object.ownerUnit=this,v.groups.units.all.add(this.object),v.groups.units[this.group].add(this.object),v.camera2.ignore(this.object),g.physics.world.enable(this.object),this.object.body.setBounce(.2).setFrictionX(1).setCollideWorldBounds(!0),g.physics.add.collider(this.object,v.groups.platforms,()=>{this.canJump=!0},null,this),g.physics.add.collider(this.object,v.groups.walls,bg,null,this),this.bot={nextAttack:Number.MAX_SAFE_INTEGER,nextJump:Number.MAX_SAFE_INTEGER,nextAbility:Number.MAX_SAFE_INTEGER,nextChangeDirection:Number.MAX_SAFE_INTEGER},this.stats={lastKilledBy:null,ability:0,dead:0,damage:0,tank:0,restored:0,heal:0,medkit:0,frag:0},this.dead=!1,this.invulnerable=!1,this.immmovable=!1,this.disarmed=!1,this.canAttack=!0,this.canJump=!1,this.setName(c,y).setMaxHP().setSpeed().setJumpSpeed().setFrozen(v.state!=="started"),this.timers={},this.aiBrain=new Eg(this.arena,this);const o=this;this.defineAbility(3500,()=>{new Ga(this.arena,this.source,this,{x:this.object.x,y:this.object.y,weaponIcon:"",speedX:1*this.speed,speedY:-1*this.jumpSpeed,scale:1,gravitate:!0,sound:g.sound.get("grenade"),type:"abil-grenade",hitscans:[],persistent:!0,collideBehavior:oi,lifecycle:function(){this.object.body.setCollideWorldBounds(!0,1,1),this.source.physics.add.collider(this.object,o.arena.groups.walls,oi),this.source.physics.add.collider(this.object,o.arena.groups.platforms,(p,s)=>{this.object.destroy(),new Ga(o.arena,o.source,o,{x:p.x,y:p.y-32,weaponIcon:"💣",speedX:0,speedY:0,scale:1,damage:te(180,240),gravitate:!1,persistent:!0,allowFriendlyFire:!0,collideBehavior:oi,sound:g.sound.get("grenade-explode"),soundOfDamage:{play:oi},type:"explosion",hitscans:["overlap"],lifecycle:function(){this.object.on("animationcomplete",()=>{this.object.destroy()})}})},null,this)}})})}getRandomTeam(){return this.arena.teams.red.units.size>this.arena.teams.blue.units.size?"blue":"red"}expose(){var v;return{guid:this.guid,name:this.name,twitchUsername:this.correspondingTwitchUsername||this.name,color:this.color,team:this.team,class:this.class,weapon:((v=this.attack)==null?void 0:v.weaponIcon)||"",weaponDesc:this.weapon,stats:this.stats}}setName(v,g,E=!0){if(this.arena.internals.isTeamMode)switch(this.team){case this.arena.internals.TEAMS.RED:this.color="#ff7777";break;case this.arena.internals.TEAMS.BLUE:this.color="#66ccff";break}else this.color=g||"#"+Math.floor(6710886+Math.random()*10066329).toString(16);return E&&v?(this.name&&this.arena.unitStats.delete(this.name),this.name=v,this.arena.unitStats.set(this.name,this.expose())):this.name=v||"",this.subobjects.overheadText&&(this.subobjects.overheadText.setText(this.name),this.subobjects.overheadText.setColor(this.color)),this}setDamage(v=25){return console.warn("ArenaUnit.setDamage should not be called like this!"),this.damage=v,this}setSpeed(v=350){return this.speed=v,this.object.body.setMaxVelocityX(v),this}setJumpSpeed(v=.33*this.arena.params.height){return this.jumpSpeed=v,this}setAttackSpeed(v=2){return console.warn("ArenaUnit.setAttackSpeed should not be called like this!"),this.attackDelay=1e3/v,this}setProjectileSpeed(v=0){return console.warn("ArenaUnit.setProjectileSpeed should not be called like this!"),this.attack.speedX=v*this.arena.params.width/1280,this}setMaxHP(v=100,g=!1){return this.hasOwnProperty("maxHP")||(this.maxHP=v),this.hasOwnProperty("hp")&&!g?this.hp=Math.max(0,Math.min(v,v*this.hp/this.maxHP)):this.hp=v,this.maxHP=v,this.updateHealthBar()}setAttackType(v){return this.attack=v,this}setPassive(){return this.bot.isPassive=!0,this}setWeapon(v){return this.weapon=v,v==null||v.setOwner(this),v instanceof Gr&&(this.isMeleeUnlocked=!0),this.setAttackType(this.weapon),this.subobjects.weapon.setTexture((v==null?void 0:v.texture)||"null"),this}dropWeapon(){return this.setWeapon(this.isMeleeUnlocked?new Gr(this.arena):new Br(this.arena))}setControllable(){return this.arena.player=this.setPassive(),this.arena.playerStore.set(this),this.isPlayer=!0,this._winConditionSubscription=this.arena.winCondition.subscribe(v=>{if(this.arena.player.dead)this.arena.victory=!1,this.source.events.emit("arena-finished",this.arena.player.stats.lastKilledBy);else if(v<2){this.arena.victory=!0;let g=this.arena.internals.aliveReporter.values().next();if(g.done){this.source.events.emit("arena-finished",this.expose());return}g=g.value;const E=this.arena.findUnitByGuid(g);if(E){this.source.events.emit("arena-finished",E.expose());return}for(const M of arena.summons)if(M.master.guid===g){this.source.events.emit("arena-finished",M.master.expose());return}this.source.events.emit("arena-finished",{name:"...?",color:"white",class:"dummy"})}}),this.subobjects.arrowPointer=this.source.add.text(0,-1*this.subobjects.unit.height,"▼",{fontSize:"64px",fill:"#fcf",boundsAlignH:"center",boundsAlignV:"middle"}),this.subobjects.arrowPointer.setShadow(0,0,"#000",4).setOrigin(.5,.5),this.object.add(this.subobjects.arrowPointer),this.setSpeed(this.speed),this.object.body.setBounce(.1).setCollideWorldBounds(!0),this}setFrozen(v){return this.immovable=!!v,this.invulnerable=!!v,this.disarmed=!!v,this}defineAbility(v,g){this.ability.cooldown=v,this.ability.overrideAction(g)}updateHealthBar(){const v=this.hp/this.maxHP;return this.subobjects.healthbar.setSize(this.object.width*v,this.subobjects.healthbar.height).setFillStyle((this.arena.internals.HEALTHBAR_COLOR_FLAGS.RED&this.arena.internals.HEALTHBAR_COLOR_FLAGS.RED*Math.min(2-v*2,1))+(this.arena.internals.HEALTHBAR_COLOR_FLAGS.GREEN&this.arena.internals.HEALTHBAR_COLOR_FLAGS.GREEN*Math.min(1,v*2))),this}drawFrame(){this.dead&&(this.object.scale>0?this.object.setScale(Math.max(0,this.object.scale-.005)):this.destroy())}takeDamage(v,g,E=0){this.invulnerable||!E||(this.hp=Math.max(this.hp-E,0),this.stats.tank+=E,v.stats.damage+=E,this.subobjects.unit.setTint(16751001),this.object.body.setVelocityY(this.object.body.velocity.y-this.jumpSpeed*.4),this.updateHealthBar(),g==null||g.soundOfDamage.play({volume:this.arena.settings.soundVolume*this.source.sound.getCustomExponent(),mute:!this.arena.settings.sound}),this.hp<=0?(v.stats.frag+=1,this.die(v,g)):(this.invulnerable=!0,this.timers.damageTint||(this.timers.damageTint=this.source.time.addEvent({delay:E*7,callback:()=>{this.subobjects.unit.clearTint(),delete this.timers.damageTint,this.invulnerable=!1}}))))}takeHeal(v,g,E=0){this.dead||(this.hp=Math.min(this.hp+E,this.maxHP),this.stats.restored+=E,v.stats.heal+=E,this.subobjects.unit.setTint(7864183),this.updateHealthBar(),this.timers.healTint||(this.timers.healTint=this.source.time.addEvent({delay:200,callback:()=>{this.subobjects.unit.clearTint(),delete this.timers.healTint}})))}doJump(v=this.jumpSpeed){!this.immovable&&this.canJump&&this.object.body.touching.down&&(this.canJump=!1,this.object.body.setVelocityY(-v))}doMove(v){this.immovable||(v&&(this.subobjects.unit.setFlipX(v<0),this.subobjects.weapon.setFlipX(v<0).setOrigin(.12+(1-.12)*(v<0),this.subobjects.weapon.originY)),this.object.body.setVelocityX(this.object.body.maxVelocity.x*Math.sign(v)))}doAttack(){if(!this.attack||this.dead||this.disarmed)return this;if(this.weapon.isDepleted)return this.dropWeapon();this.weapon.shoot(this)}doAbility(){this.dead||this.disarmed||this.ability.isEmpty||this.ability.fire()&&(this.stats.ability+=1)}initializeBot(v){this.bot.nextJump=v+4567*Math.random(),this.bot.nextAttack=v+1234+7890*Math.random(),this.bot.nextAbility=this.ability.isEmpty?Number.MAX_SAFE_INTEGER:v+4567+7890*Math.random(),this.bot.nextChangeDirection=1}_processBotAction(v){if(!(this.dead||this.bot.isPassive)&&(this.bot.nextJump<v&&(this.bot.nextJump=v+3434*Math.random(),this.doJump()),this.attack&&this.bot.nextAttack<v&&(this.bot.nextAttack=v+this.attack.attackDelay+this.attack.attackDelay*(1+Math.random()),this.doAttack()),this.ability.charges>0&&this.bot.nextAbility<v&&(this.bot.nextAbility=v+this.ability.cooldown+this.ability.cooldown*Math.random(),this.doAbility()),this.bot.nextChangeDirection<v)){this.bot.nextChangeDirection=v+2345*Math.random();let g=Math.random()-.5+(this.object.x/this.arena.params.width-.5);this.doMove(Math.sign(-g))}}processBotAction(v){return this.aiBrain.processAction(v)}die(v,g){var E,M,P,c;this.arena.groups.units.all.remove(this.object),this.arena.groups.units[this.group].remove(this.object),this.subobjects.unit.setTintFill(13487565),this.subobjects.healthbar.destroy(),this.subobjects.weapon.setAlpha(0),(E=this.subobjects.overheadText)==null||E.destroy(),(M=this.subobjects.arrowPointer)==null||M.destroy(),this.dead=!0,this.invulnerable=!0,this.immmovable=!0,this.stats.dead+=1,this.hp=0,this.__voicechat&&(this.__voicechat.stop(),this.arena.cancerMap.delete(this.__voicechat)),(P=this.master)!=null&&P.guid?(this.master.summons.delete(this),this.master.dead&&this.master.summons.size<1&&(this.arena.teams.blue.alive.delete(this.master.guid),this.arena.teams.red.alive.delete(this.master.guid),this.arena.internals.aliveReporter.delete(this.master.guid),this.arena.winCondition.update(y=>y-1))):(this.stats.lastKilledBy=(c=v.master)!=null&&c.guid?v.master.expose():v.expose(),this.summons.size<1&&(this.arena.teams.blue.alive.delete(this.guid),this.arena.teams.red.alive.delete(this.guid),this.arena.internals.aliveReporter.delete(this.guid),this.arena.winCondition.update(y=>y-1))),new Pu(this.arena,this.expose(),v?v.expose():null,(g==null?void 0:g.icon)||"").emitEvent()}destroy(){this._winConditionSubscription&&this._winConditionSubscription(),this.summons.size||(this.arena.teams.blue.alive.delete(this.guid),this.arena.teams.red.alive.delete(this.guid),this.arena.internals.aliveReporter.delete(this.guid)),this.object.destroy();for(const v in this.subobjects)this.subobjects[v].destroy();this.arena.units.delete(this),this.arena.teams.red.units.delete(this),this.arena.teams.blue.units.delete(this),this.arena.summons.delete(this)}}class Pg extends Qa{constructor(v,g,E,M,P,c,y){super(v,g,"mainguy",E,M,P,c,y),this.setMaxHP(300,!0),this.invulnerable=!0}setWeapon(v){return super.setWeapon(v),this.triggerStoreUpdate()}dropWeapon(){return super.dropWeapon(),this.triggerStoreUpdate()}takeDamage(v,g,E){return super.takeDamage(v,g,E),this.triggerStoreUpdate()}takeHeal(v,g,E){return super.takeHeal(v,g,E),this.triggerStoreUpdate()}doAttack(){return super.doAttack(),this.triggerStoreUpdate()}doAbility(){return super.doAbility(),this.triggerStoreUpdate()}die(v,g){return super.die(v,g),this.triggerStoreUpdate()}triggerStoreUpdate(){return this.isPlayer&&this.arena.playerStore.update(v=>v),this}}class Ru extends Qa{constructor(v,g,E,M,P,c,y){super(v,g,"warrior",E,M,P,c,y),this.setMaxHP(220,!0),te(10)>5&&this.setWeapon(new Gr(v)),this.ability.addCharge(Math.max(0,te(-2,2))),this.bot.smartBehavior="chad"}}class Rg extends Qa{constructor(v,g,E,M,P,c,y){super(v,g,"norman",E,M,P,c,y),this.setMaxHP(220,!0),te(10)>3&&this.setWeapon(new En(v)),this.ability.addCharge(Math.max(0,te(-5,5))),this.bot.smartBehavior="soy",this.enemies=v.groups.units.all,this.enemyUnits=v.units}}const $l={norman:Rg,warrior:Ru};function Wl(w){return w?$l[w]:Uh($l)}class Lg{constructor(v){this.showUnitNames=!0,this.unitScale=1.25,this.exponentialSoundLevels=!0,this.notify=!0,this.notifyDuration=3333,this.killfeed=!0,this.killFeedDuration=3333,this.killFeedHardLimit=150,this.width=3840,this.height=2160,this.backgroundTransparency=!0,this.style="",this.parent=v}}class Fg{constructor(){this.goFullscreenOnStart=!1,this.exitFullscreenOnEnd=!1,this.applyCloseUpCamera=!0,this.unitLimit=0,this.allowNewUnitsAfterStart=!0,this.playerCanWalkWhileFreezeTime=!1,this.music=!0,this.musicVolume=.4,this.sound=!0,this.soundVolume=1}}class Og{constructor(){}arenaStart(){this.playerNamePool.clear(),this.streamsnipersPool=Zs(jc());for(const g of this.streamsnipersPool)this.playerNamePool.add(g.name);let v=25;for(;v-- >0;){const g=(te(5)>2?this.streamsnipersPool.pop():Sa())||Sa();this.playerNamePool.add(g.name),this.addContender(g)}}unitDied(v,g,E){}arenaEnd(v){}arenaRestart(){this.addPlayer("forsen",this.internals.TEAMS.BLUE,this.internals.TEAMS.BLUE),this.startArena()}}const hs={image:{sky:"/pics/m4/arena-bg.webp",ground:"/pics/m4/arena-longbar.png",building:"/pics/m4/building-stub.png",antenna:"/pics/m4/antenna.png","icon-grenade":"/pics/m4/icon-grenade.png",mainguy:"/pics/m4/mainguy.png",warrior:"/pics/m4/warrior.png",norman:"/pics/m4/norman.png",null:"/pics/m4/null.png",fist:"/pics/m4/null.png",pan:"/pics/m4/pan.png",pistol:"/pics/m4/pistol.png",rifle:"/pics/m4/rifle.png",sniper:"/pics/m4/sniper.png",grenade:"/pics/m4/grenade.png",medkit:"/pics/m4/medkit.png"},audio:{reload:"/sounds/m4/reload.mp3","attack-melee":"/sounds/m4/attack-melee.mp3","hit-fist":"/sounds/m4/hit-fist.mp3","hit-melee":"/sounds/m4/hit-melee.mp3","hit-ranged":"/sounds/m4/hit-ranged.mp3","attack-sniper":"/sounds/m4/attack-sniper.mp3","attack-ranged":"/sounds/m4/attack-ranged.mp3","attack-rifle":"/sounds/m4/attack-rifle.mp3","unit-death":"/sounds/m4/unit-death.mp3",grenade:"/sounds/m4/grenade.mp3","grenade-explode":"/sounds/m4/grenade-impact.mp3"},spritesheet:{"hit-melee":["/pics/m4/hit-melee.png",{frameWidth:32,frameHeight:32}],"hit-bullet":["/pics/m4/hit-bullet.png",{frameWidth:16,frameHeight:16}],"gift-fly":["/pics/m4/gift-fly.png",{frameWidth:64,frameHeight:64}],"abil-grenade":["/pics/m4/grenade-flying.png",{frameWidth:16,frameHeight:16}],explosion:["/pics/m4/nuke.png",{frameWidth:128,frameHeight:128}]},cancer:["/sounds/m4/canca-01.mp3","/sounds/m4/canca-02.mp3","/sounds/m4/canca-03.mp3","/sounds/m4/canca-04.mp3","/sounds/m4/canca-05.mp3","/sounds/m4/canca-06.mp3"]};class jr{constructor(v,g){this.arena=g,this.type=v,this.isFalling=!0,this.isMarkedBy=null,this.startX=Math.round(this.arena.params.width*(.15+.7*Math.random())),this.startY=-256,this.source=g.source}drop(){this.object=this.source.physics.add.sprite(this.startX,this.startY,"gift-fly"),this.arena.camera2.ignore(this.object),this.objectScale=1.2,this.object.setOrigin(.5,.5).setSize(64,64).setScale(this.objectScale*this.arena.internals.globalScale).setMass(1).setBounce(0).setGravityY(80).setMaxVelocity(0,400).setCollideWorldBounds(!0).play("anim-airdrop-fly"),this.source.physics.add.collider(this.object,this.arena.groups.platforms,()=>{this.object.stop(),this.object.setTexture(this.type).setSize(128,128).setScale(this.objectScale*this.arena.internals.globalScale*.25),this.object.body.setVelocityY(-36),this.isFalling=!1},null,this),this.source.physics.add.overlap(this.object,this.arena.groups.units.all,(v,g)=>{const E=g.ownerUnit||oi;this.isMarkedBy===E&&(this.collect(E),this.destroy())},(v,g)=>{if(this.isFalling)return!1;const E=g.ownerUnit;return!E||E.master&&"guid"in E.master?!1:this.checkUnitCanCollect(E)},this)}collect(v){console.info("Generic airdrop collected. Owner: ",v)}checkUnitCanCollect(v){return this.isMarkedBy?!1:(this.isMarkedBy=v,!0)}destroy(){this.object.destroy()}}class Kr extends jr{constructor(v,g,E){super(v,g),this.weapon=new E(g)}collect(v){(!v.weapon||this.weapon.isSameClassAs(v.weapon)||v.weapon.priority<this.weapon.priority)&&v.setWeapon(this.weapon)}checkUnitCanCollect(v){return v instanceof Ru?!1:this.weapon.isSameClassAs(v.weapon)?super.checkUnitCanCollect(v):v.weapon instanceof En&&v.weapon.priority>=this.weapon.priority?!1:super.checkUnitCanCollect(v)}}class Dg extends Kr{constructor(v){super("pan",v,Gr)}checkUnitCanCollect(v){return v.isMeleeUnlocked?!1:jr.prototype.checkUnitCanCollect.call(this,v)}collect(v){v.isMeleeUnlocked=!0,(!v.weapon||v.weapon.priority<this.weapon.priority)&&v.setWeapon(this.weapon)}}class Tr extends Kr{constructor(v){super("pistol",v,En)}}class Hl extends Kr{constructor(v){super("rifle",v,Ag)}}class Ig extends Kr{constructor(v){super("sniper",v,Cg)}}const Bg=[Tr,Tr,Tr,Tr,Hl,Hl,Ig];function kl(){return Ke(Bg)}class jl extends jr{constructor(v){super("medkit",v),this.heal=te(140,210)}collect(v){v.takeHeal(v,null,this.heal),v.stats.medkit+=1}}class Gg extends jr{constructor(v){super("grenade",v),this.charges=1}collect(v){v.ability.addCharge(this.charges),v.takeDamage(v,null,0)}}class Ng{constructor(){this.params=Object.freeze(new Lg(null)),this.settings=new Fg,this.callbacks=new Og,this.state="init",this.units=new Set,this.unitsByName=new Map,this.unitsByGuid=new Map,this.teams={red:{units:new Set,alive:new Set},blue:{units:new Set,alive:new Set}},this.summons=new Set,this.unitStats=new Map,this.player=null,this.playerStore=ii(null),this.groups={killfeedDelayer:null,projectiles:null,platforms:null,walls:null,neutral:null,units:{all:null,red:null,blue:null}},this.buttons={},this.cursors=null,this.engine=null,this.ai={},this.midpoint=null,this.maxSpawnCount=100,this.spawned=1,this.winCondition=ii(this.maxSpawnCount),this.victory=!1,this.streamsnipersPool=[],this.playerNamePool=new Set,this.cancerMap=new Map,this.cancerPool=[],this.source=null,this.camera2=null,this.particles=null,this.internals={isTeamMode:!0,globalScale:this.params.unitScale||1,aliveReporter:new Set,plugdj:null,drops:null,spawner:null,randomNamePool:["Forsen clone #","Twitch viewer #","Pepega #"],notificationLastObject:{active:!1},notificationLastY:128,killFeedLastObject:{active:!1},killFeedLastY:64,HEALTHBAR_COLOR_FLAGS:{RED:16711680,GREEN:65280},KILLFEED_COLLISION_MASKS:{PADDER:8,BIGTOAST:4,TOAST:2,DYING:1},TEAMS:{RED:"red",BLUE:"blue",red:"red",blue:"blue"},playerStub:{dead:!0}}}startEngine(){if(this.engine)return void console.warn("Engine was already initialized once!");this.cancerPool.length===0&&(this.cancerPool=hs.cancer.map((g,E)=>{const M=new Ye("babag-voice-cancer-"+E,g);return M.sound.loop(!0),M}));const v=this;this.engine=new vs.Game({type:Phaser.AUTO,width:v.params.width,height:v.params.height,powerPreference:"high-performance",transparent:v.params.backgroundTransparency||!1,canvasStyle:v.params.style||null,parent:typeof v.params.parent=="string"?document.querySelector(v.params.parent):v.params.parent,callbacks:{},scene:{active:!0,physics:{arcade:{gravity:{y:999},friction:{x:500},enableBody:!0,debug:Js},matter:{gravity:{y:-.2},restitution:0,debug:Js}},preload:function(){Object.keys(hs).forEach(g=>{Object.keys(hs[g]).forEach(E=>{switch(g){case"cancer":break;case"audio":typeof hs[g][E]=="object"?this.load.audioSprite(E,hs[g][E]):this.load.audio(E,hs[g][E]);break;default:Array.isArray(hs[g][E])?this.load[g](E,...hs[g][E]):this.load[g](E,hs[g][E]);break}})})},create:function(){v.source=this,this.sound.pauseOnBlur=!1,this.sound.getCustomExponent=v.params.exponentialSoundLevels?()=>.045+Math.exp(-.05*v.units.size):()=>1;for(const M in hs.audio)this.sound.add(M);const g=this.add.image(0,0,"sky").setOrigin(0,0).setAlpha(.5).setDisplaySize(v.params.width,v.params.height);this.anims.create({key:"anim-hit-melee",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("hit-melee",{start:0,end:3}),duration:100}),this.anims.create({key:"anim-hit-bullet",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("hit-bullet"),repeat:-1}),this.anims.create({key:"anim-airdrop-fly",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("gift-fly"),repeat:-1}),this.anims.create({key:"anim-abil-grenade",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("abil-grenade"),repeat:-1}),this.anims.create({key:"anim-explosion",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("explosion"),repeat:0}),v.groups.platforms=this.physics.add.staticGroup(),v.groups.walls=this.physics.add.staticGroup();let E=v.groups.platforms.create(v.params.width*.5,v.params.height,"ground");E.setDepth(3),E.setDisplaySize(v.params.width*1.2,E.height*2).refreshBody();for(const M of Tg){const P=M.build(v);P.highest&&(v.midpoint=this.physics.add.staticImage(P.x,P.y,"antenna"),v.midpoint.setOrigin(.5,0).setDepth(0).setY(v.midpoint.y-v.midpoint.height).refreshBody()),v.groups[P.group].create(P.x,P.y,P.texture).setScale(P.scaleX,P.scaleY).setDepth(P.depth).refreshBody()}v.groups.units.all=this.physics.add.group(),v.groups.units.red=this.physics.add.group(),v.groups.units.blue=this.physics.add.group(),v.groups.controllable=this.physics.add.group(),v.groups.projectiles=this.physics.add.group(),v.camera2=this.cameras.add(0,0,v.params.width,v.params.height),v.camera2.ignore(g),v.camera2.ignore(v.midpoint);for(const M in v.groups)M==="units"?v.camera2.ignore(Object.values(v.groups.units)):v.groups[M]!==null&&v.camera2.ignore(v.groups[M]);v.groups.killfeedDelayer=this.matter.add.rectangle(v.params.width/2,-12,v.params.width*3,24,{isStatic:!0,collisionFilter:{category:v.internals.KILLFEED_COLLISION_MASKS.PADDER,mask:v.internals.KILLFEED_COLLISION_MASKS.TOAST|v.internals.KILLFEED_COLLISION_MASKS.BIGTOAST}}),Sg(v),v.cursors=this.input.keyboard.createCursorKeys(),this.events.on("arena-cleanup",()=>{var M;console.log("Arena: cleanup is in order, re-initializing everything."),v.source.sound.stopAll(),v.cancerPool.forEach(P=>P.stop()),v.cancerMap.clear(),v.internals.aliveReporter.clear(),v.teams.blue.alive.clear(),v.teams.red.alive.clear(),v.unitStats.clear();for(const P of v.units)P.destroy();for(const P of v.teams.red.units)P.destroy();for(const P of v.teams.blue.units)P.destroy();for(const P of v.summons)P.destroy();delete v.player,v.playerStore.set(null),v.maxSpawnCount=te(90,100),v.spawned=1,v.winCondition.set(v.maxSpawnCount),v.victory=!1,v.source.cameras.main.fadeIn(1e3,0,0,0),v.source.physics.world.timeScale=1,v.source.events.off("arena-finished"),v.source.events.off("arena-top2"),v.source.events.off("arena-top10"),v.state="waiting",(M=v.callbacks.arenaRestart)==null||M.apply(v)}),this.events.on("arena-start",()=>{var P;if(console.log("Arena: the fight begins!"),v.state="started",v.params.notify&&new Mr(v).fillWithText("Battle royale begins!","#ffc").show(v.params.notifyDuration),v.player){v.player.ability.lastUsed=0,v.player.ability.availableAt=0,Object.keys(v.player.stats).forEach(c=>{v.player.stats[c]=0}),v.player.stats.lastKilledBy=null;for(const c of v.summons)c.destroy();v.playerStore.update(c=>c)}v.internals.spawner=this.time.addEvent({delay:4567,loop:!0,callback:()=>{let c=Math.min(v.maxSpawnCount-v.spawned,7-v.getSize())+te(2);for(;c-- >0;){const y=v.streamsnipersPool.pop()||Sa();v.playerNamePool.add(y.name),Math.random()>.5&&(y.unitclass="warrior"),v.addContender(y)}}}),v.internals.drops=this.time.addEvent({delay:12345,loop:!0,callback:()=>{const c=Math.random()>.4?kl():jl;new c(v).drop()}}),fr(8,()=>jl).concat(fr(10,()=>Gg)).concat(fr(te(3,8),()=>Dg)).concat(fr(te(0,7),kl)).forEach((c,y)=>{const t=new c(v);t.startX=v.params.width*Math.abs(Math.round(Math.random())-Math.random()*.35),t.startY=v.params.height-(.5+te(0,7))*Ja,t.drop()}),v.units.forEach(c=>{c.setFrozen(!1),c.initializeBot(v.source.time.now)}),v.units.size>v.params.killFeedHardLimit&&new Pu({name:`Kill feed will be disabled while there are more than ${v.params.killFeedHardLimit} units!`,color:"white"}),v.source.events.once("arena-top10",()=>{v.params.notify&&new Mr().fillWithText("10 players remaining","#ffc").show(v.params.notifyDuration)}),v.source.events.once("arena-top2",()=>{v.params.notify&&new Mr().fillWithText("1v1 DUEL","#fc6").show(v.params.notifyDuration)}),v.source.events.once("arena-finished",c=>{var y,t;console.log("Arena: the war is over, and the winner is:",c),(y=v.internals.drops)==null||y.remove(),(t=v.internals.spawner)==null||t.remove(),[v.units,v.summons].forEach(o=>o.forEach(p=>{p.setFrozen(!0)})),v.source.physics.world.timeScale=5,new ri(()=>{v.state="finished",v.source.events.emit("arena-show-winner",c)},2500)}),(P=v.callbacks.arenaStart)==null||P.apply(v)}),this.events.emit("arena-cleanup"),v.callbacks.unitDied&&v.source.events.on("arena-unit-died",(...M)=>v.callbacks.unitDied.apply(v,M)),v.callbacks.arenaEnd&&v.source.events.on("arena-show-winner",(...M)=>v.callbacks.arenaEnd.apply(v,M))},update:function(g,E){v.units.forEach(M=>{M.drawFrame(),M.processBotAction(g)}),v.teams.red.units.forEach(M=>{M.drawFrame(),M.processBotAction(g)}),v.teams.blue.units.forEach(M=>{M.drawFrame(),M.processBotAction(g)}),v.summons.forEach(M=>{M.drawFrame(),M.processBotAction(g)}),!(!v.player||v.player.dead)&&(v.player.doMove(+v.cursors.right.isDown-v.cursors.left.isDown),v.cursors.up.isDown&&v.player.doJump(),v.cursors.space.isDown&&v.player.doAttack(),v.cursors.shift.isDown&&v.player.doAbility())}}}),qe.subscribe(g=>{this.settings.musicVolume=g.volume*g.volMusic/1e4,this.settings.soundVolume=g.volume*g.volSound/1e4})}findUnitByName(v){if(!v)return null;const g=this.unitsByName.get(v)||null;return g||console.warn(`Unit [name:${v}] not found!`),g}findUnitByGuid(v){if(!v)return null;const g=this.unitsByGuid.get(v)||null;return g||console.warn(`Unit [guid:${v}] not found!`),g}getSize(){return this.units.size}getTeamSize(v){try{return this.teams[v].units.size}catch(g){throw console.error(g),new Error(`Team identifier [${v}] is invalid!`)}}getTotalSize(){return this.getSize()+this.summons.size}getCanvas(){return this.engine.canvas}addUnit(v,g,E="-",M=!1,P=this.internals.TEAMS.RED){if(this.state!=="waiting"&&!this.settings.allowNewUnitsAfterStart)throw console.warn("The arena is not accepting new units! | Set arena.settings.allowNewUnitsAfterStart to override this behavior."),new Error("Cannot join the Arena right now!");if(!M&&this.settings.unitLimit&&this.settings.unitLimit<=this.getSize())throw console.warn("Unit limit reached! Cannot add new unit. | Limit = "+this.settings.unitLimit),new Error("Too many units!");v||(v=Ke(this.internals.randomNamePool)+String(Math.random()).slice(2,7).padStart(5,"0")),Wl(E)||(console.warn("Unknown unit class:",E),E=null);const c=new(Wl(E))(this,this.source,this.params.width*(.1+Math.random()*.8),Math.random()*this.params.height*.1,v,g,P.toLowerCase());return this.state==="started"&&(c.setFrozen(!1),c.initializeBot(this.source.time.now)),c}addPlayer(v,g,E){if(this.player)throw new Error("Player already exists! Restart the arena to clear the reference.");const M=new Pg(this,this.source,this.params.width*(.25+Math.random()*.55),0,v,g,E.toLowerCase());if(M.setControllable(),this.state==="started"&&(M.setFrozen(!1),M.initializeBot(this.source.time.now)),this.settings.playerCanWalkWhileFreezeTime&&M.setFrozen(!1),this.settings.applyCloseUpCamera){const P=this.source.cameras.main;P.zoom=1,P.zoomTo(2,1e3),P.setBounds(0,0,this.params.width,this.params.height),P.startFollow(M.object,!0,.01,.05)}return M}addContender(v){if(this.spawned<this.maxSpawnCount){this.spawned+=1;const g=this.addUnit(v.name,v.color,v.unitclass||null,!1,this.internals.TEAMS.RED);if(this.cancerMap.size<3-this.spawned/16){const E=Ke(this.cancerPool);this.cancerMap.has(E)||(console.log("Adding voice chat stream:",E),this.cancerMap.set(E,g),g.__voicechat=E,E.play())}return g}return null}startArena(){this.source.events.emit("arena-start")}resetArena(){this.source.events.emit("arena-cleanup")}toggleTeamMode(v){return v=typeof v>"u"?!this.internals.isTeamMode:!!v,this.internals.isTeamMode!==v&&(console.log("[Arena] Team mode has been toggled; will have to clear the arena."),this.source.events.emit("arena-cleanup")),this.internals.isTeamMode=v,this.internals.isTeamMode}destroy(){var v;this.cancerPool.forEach(g=>g.stop()),this.cancerMap.clear(),(v=this.engine)==null||v.destroy(!0)}}function Vg(w){let v,g='<span class="m-auto">👊</span>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1i1bu15"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","weapon-element ranged opacity-25 w-25 display-flex svelte-1s52noi")},m(E,M){dt(E,v,M)},p:jt,d(E){E&&k(v)}}}function zg(w){let v,g,E,M;function P(t,o){return t[0].weapon instanceof En?Xg:Ug}let c=P(w),y=c(w);return{c(){v=Q("div"),g=Q("div"),E=lt(),M=Q("span"),y.c(),this.h()},l(t){v=q(t,"DIV",{class:!0});var o=nt(v);g=q(o,"DIV",{class:!0}),nt(g).forEach(k),E=ht(o),M=q(o,"SPAN",{class:!0});var p=nt(M);y.l(p),p.forEach(k),o.forEach(k),this.h()},h(){Y(g,"class","icon svelte-1s52noi"),Ht(g,"background-image",`url(/pics/m4/${w[0].weapon.texture}.png)`),Y(M,"class","ammo-count svelte-1s52noi"),Y(v,"class","weapon-element ranged svelte-1s52noi"),Ht(v,"border-image",`linear-gradient(to right, #dd3d ${w[3]}%, #ccc3 ${w[3]}%) 1`)},m(t,o){dt(t,v,o),V(v,g),V(v,E),V(v,M),y.m(M,null)},p(t,o){o&1&&Ht(g,"background-image",`url(/pics/m4/${t[0].weapon.texture}.png)`),c===(c=P(t))&&y?y.p(t,o):(y.d(1),y=c(t),y&&(y.c(),y.m(M,null))),o&8&&Ht(v,"border-image",`linear-gradient(to right, #dd3d ${t[3]}%, #ccc3 ${t[3]}%) 1`)},d(t){t&&k(v),y.d()}}}function Ug(w){let v;return{c(){v=mt("♾️")},l(g){v=gt(g,"♾️")},m(g,E){dt(g,v,E)},p:jt,d(g){g&&k(v)}}}function Xg(w){let v=w[0].weapon.ammo+"",g,E,M=w[0].weapon.reserveAmmo+"",P;return{c(){g=mt(v),E=mt(" / "),P=mt(M)},l(c){g=gt(c,v),E=gt(c," / "),P=gt(c,M)},m(c,y){dt(c,g,y),dt(c,E,y),dt(c,P,y)},p(c,y){y&1&&v!==(v=c[0].weapon.ammo+"")&&ee(g,v),y&1&&M!==(M=c[0].weapon.reserveAmmo+"")&&ee(P,M)},d(c){c&&(k(g),k(E),k(P))}}}function Yg(w){let v,g,E,M,P=w[0].hp+"",c,y,t,o,p,s,i,n=w[0].ability.charges+"",e,r,l,a,h,f,u,d,m,x="Alive",S,T,C,A,b,R,F="Killed",L,O,I=w[0].stats.frag+"",B,U,H;function J(j,D){var z;return(z=j[0].weapon)!=null&&z.isEmpty?Vg:zg}let tt=J(w),X=tt(w);return{c(){v=Q("div"),g=Q("div"),E=Q("div"),M=Q("div"),c=mt(P),y=lt(),t=Q("div"),o=Q("div"),p=Q("div"),s=lt(),i=Q("span"),e=mt(n),r=lt(),X.c(),l=lt(),a=Q("div"),h=Q("div"),f=lt(),u=Q("div"),d=Q("div"),m=Q("span"),m.textContent=x,S=lt(),T=Q("span"),C=mt(w[4]),A=lt(),b=Q("div"),R=Q("span"),R.textContent=F,L=lt(),O=Q("span"),B=mt(I),this.h()},l(j){v=q(j,"DIV",{class:!0});var D=nt(v);g=q(D,"DIV",{class:!0});var z=nt(g);E=q(z,"DIV",{class:!0});var $=nt(E);M=q($,"DIV",{class:!0});var K=nt(M);c=gt(K,P),K.forEach(k),$.forEach(k),y=ht(z),t=q(z,"DIV",{class:!0});var Z=nt(t);o=q(Z,"DIV",{class:!0});var it=nt(o);p=q(it,"DIV",{class:!0}),nt(p).forEach(k),s=ht(it),i=q(it,"SPAN",{class:!0});var st=nt(i);e=gt(st,n),st.forEach(k),it.forEach(k),r=ht(Z),X.l(Z),l=ht(Z),a=q(Z,"DIV",{class:!0});var at=nt(a);h=q(at,"DIV",{class:!0}),nt(h).forEach(k),at.forEach(k),Z.forEach(k),z.forEach(k),f=ht(D),u=q(D,"DIV",{class:!0});var ut=nt(u);d=q(ut,"DIV",{class:!0});var vt=nt(d);m=q(vt,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(m)!=="svelte-1igomp8"&&(m.textContent=x),S=ht(vt),T=q(vt,"SPAN",{class:!0});var xt=nt(T);C=gt(xt,w[4]),xt.forEach(k),vt.forEach(k),A=ht(ut),b=q(ut,"DIV",{class:!0});var Et=nt(b);R=q(Et,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(R)!=="svelte-zxp3pe"&&(R.textContent=F),L=ht(Et),O=q(Et,"SPAN",{class:!0});var yt=nt(O);B=gt(yt,I),yt.forEach(k),Et.forEach(k),ut.forEach(k),D.forEach(k),this.h()},h(){Y(M,"class","hp-text svelte-1s52noi"),Y(E,"class","healthbar svelte-1s52noi"),Ht(E,"width",je(w[1]*100)),Ht(E,"background-color","#"+((w[5].RED&w[5].RED*Math.min(2-w[1]*2,1))+(w[5].GREEN&w[5].GREEN*Math.min(1,w[1]*2))).toString(16).padStart(6,"0")),Y(p,"class","icon svelte-1s52noi"),Ht(p,"background-image","url(/pics/m4/grenade.png)"),Y(i,"class","grenade-count svelte-1s52noi"),Y(o,"class","weapon-element grenades svelte-1s52noi"),Ht(o,"border-image",`linear-gradient(to right, #dd3d ${w[2]}%, #ccc3 ${w[2]}%) 1`),Y(h,"class","icon svelte-1s52noi"),Ht(h,"background-image","url(/pics/m4/pan.png)"),Y(a,"class","weapon-element melee svelte-1s52noi"),pe(a,"opacity-25",!w[0].isMeleeUnlocked),Y(t,"class","weapons svelte-1s52noi"),Y(g,"class","ui-element svelte-1s52noi"),Y(m,"class","stat-text svelte-1s52noi"),Y(T,"class","stat-num svelte-1s52noi"),Y(d,"class","numstat svelte-1s52noi"),Y(R,"class","stat-text svelte-1s52noi"),Y(O,"class","stat-num svelte-1s52noi"),Y(b,"class","numstat svelte-1s52noi"),Y(u,"class","ui-element ui-stats svelte-1s52noi"),Y(v,"class","ui svelte-1s52noi")},m(j,D){dt(j,v,D),V(v,g),V(g,E),V(E,M),V(M,c),V(g,y),V(g,t),V(t,o),V(o,p),V(o,s),V(o,i),V(i,e),V(t,r),X.m(t,null),V(t,l),V(t,a),V(a,h),V(v,f),V(v,u),V(u,d),V(d,m),V(d,S),V(d,T),V(T,C),V(u,A),V(u,b),V(b,R),V(b,L),V(b,O),V(O,B)},p(j,[D]){D&1&&P!==(P=j[0].hp+"")&&ee(c,P),D&2&&Ht(E,"width",je(j[1]*100)),D&2&&Ht(E,"background-color","#"+((j[5].RED&j[5].RED*Math.min(2-j[1]*2,1))+(j[5].GREEN&j[5].GREEN*Math.min(1,j[1]*2))).toString(16).padStart(6,"0")),D&1&&n!==(n=j[0].ability.charges+"")&&ee(e,n),D&4&&Ht(o,"border-image",`linear-gradient(to right, #dd3d ${j[2]}%, #ccc3 ${j[2]}%) 1`),tt===(tt=J(j))&&X?X.p(j,D):(X.d(1),X=tt(j),X&&(X.c(),X.m(t,l))),D&1&&pe(a,"opacity-25",!j[0].isMeleeUnlocked),D&16&&ee(C,j[4]),D&1&&I!==(I=j[0].stats.frag+"")&&ee(B,I)},i(j){j&&(U||$e(()=>{U=Je(u,xo,{duration:400,delay:1200,axis:"y"}),U.start()})),j&&(H||$e(()=>{H=Je(v,xo,{duration:800,delay:800,axis:"x"}),H.start()}))},o:jt,d(j){j&&k(v),X.d()}}}function $g(w,v,g){let E,M,P,{arena:c}=v,{player:y}=v;const t={RED:16711680,GREEN:43520},o=c.winCondition;Ve(w,o,n=>g(4,P=n));let p=1;const s=ki(0);Ve(w,s,n=>g(3,M=n));const i=ki(0);return Ve(w,i,n=>g(2,E=n)),w.$$set=n=>{"arena"in n&&g(9,c=n.arena),"player"in n&&g(0,y=n.player)},w.$$.update=()=>{w.$$.dirty&1&&g(1,p=y.hp/y.maxHP),w.$$.dirty&1&&y.weapon&&(s.set(y.weapon.isReloading?100*(1-(Date.now()-y.weapon._isReloadingSince)/y.weapon.reloadDelay):0,{duration:0}),s.set(0,{duration:y.weapon._isReloadingSince+y.weapon.reloadDelay-Date.now()})),w.$$.dirty&1&&(y.ability.isAvailable()||(i.set(100*(1-(Date.now()-y.ability.lastUsed)/y.ability.cooldown),{duration:0}),i.set(0,{duration:y.ability.availableAt-Date.now()})))},[y,p,E,M,P,t,o,s,i,c]}class Wg extends Se{constructor(v){super(),Ee(this,v,$g,Yg,Te,{arena:9,player:0})}}function Kl(w){let v,g;return v=new Wg({props:{arena:w[0].arena,player:w[3]}}),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},p(E,M){const P={};M&1&&(P.arena=E[0].arena),M&8&&(P.player=E[3]),v.$set(P)},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function Zl(w){let v,g,E,M;return g=new gg({props:{minigame:w[0],winner:w[4],chickenDinner:w[0].arena.victory&&w[3].guid===w[4].guid}}),{c(){v=Q("div"),Ut(g.$$.fragment),this.h()},l(P){v=q(P,"DIV",{class:!0});var c=nt(v);Wt(g.$$.fragment,c),c.forEach(k),this.h()},h(){Y(v,"class","gameover svelte-1pmfgrn")},m(P,c){dt(P,v,c),Xt(g,v,null),M=!0},p(P,c){const y={};c&1&&(y.minigame=P[0]),c&16&&(y.winner=P[4]),c&25&&(y.chickenDinner=P[0].arena.victory&&P[3].guid===P[4].guid),g.$set(y)},i(P){M||(Tt(g.$$.fragment,P),P&&(E||$e(()=>{E=Je(v,Ns,{duration:1500}),E.start()})),M=!0)},o(P){wt(g.$$.fragment,P),M=!1},d(P){P&&k(v),Yt(g)}}}function Hg(w){let v,g,E=`<div class="spinner-border svelte-1pmfgrn" role="status"></div>
    Connecting...`,M,P,c,y,t="",o,p,s,i,n=w[3]&&Kl(w),e=w[4]!==null&&Zl(w);return{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),P=Q("div"),c=Q("div"),y=Q("div"),y.innerHTML=t,o=lt(),n&&n.c(),p=lt(),e&&e.c(),s=lt(),this.h()},l(r){v=q(r,"DIV",{class:!0});var l=nt(v);g=q(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-q21l6j"&&(g.innerHTML=E),M=ht(l),P=q(l,"DIV",{class:!0});var a=nt(P);c=q(a,"DIV",{class:!0});var h=nt(c);y=q(h,"DIV",{class:!0,"data-svelte-h":!0}),Rt(y)!=="svelte-1u44n3p"&&(y.innerHTML=t),o=ht(h),n&&n.l(h),p=ht(h),e&&e.l(h),h.forEach(k),a.forEach(k),s=ht(l),l.forEach(k),this.h()},h(){Y(g,"class","loader svelte-1pmfgrn"),Y(y,"class","babag-canvas"),Y(c,"class","babag svelte-1pmfgrn"),Y(P,"class","aspected svelte-1pmfgrn"),Y(v,"class","gamearea svelte-1pmfgrn")},m(r,l){dt(r,v,l),V(v,g),V(v,M),V(v,P),V(P,c),V(c,y),w[6](y),V(c,o),n&&n.m(c,null),V(c,p),e&&e.m(c,null),V(v,s),i=!0},p(r,[l]){r[3]?n?(n.p(r,l),l&8&&Tt(n,1)):(n=Kl(r),n.c(),Tt(n,1),n.m(c,p)):n&&(Oe(),wt(n,1,1,()=>{n=null}),De()),r[4]!==null?e?(e.p(r,l),l&16&&Tt(e,1)):(e=Zl(r),e.c(),Tt(e,1),e.m(c,null)):e&&(Oe(),wt(e,1,1,()=>{e=null}),De())},i(r){i||(Tt(n),Tt(e),i=!0)},o(r){wt(n),wt(e),i=!1},d(r){r&&k(v),w[6](null),n&&n.d(),e&&e.d()}}}function kg(w,v,g){let E,M=jt,P=()=>(M(),M=ds(p,r=>g(3,E=r)),p),c;w.$$.on_destroy.push(()=>M());let{minigame:y}=v;const t=y.winner;Ve(w,t,r=>g(4,c=r));let o,p;ti(()=>(y.startEngine(),o.appendChild(y.arena.engine.canvas),P(g(2,p=y.arena.playerStore)),()=>{}));function s(r){Vi[r?"unshift":"push"](()=>{o=r,g(1,o)})}const i=()=>y.arena.addUnit(null,null,"norman"),n=()=>y.arena.addUnit(null,null,"warrior"),e=()=>y.arena.addUnit().isPassive=!0;return w.$$set=r=>{"minigame"in r&&g(0,y=r.minigame)},[y,o,p,E,c,t,s,i,n,e]}class jg extends Se{constructor(v){super(),Ee(this,v,kg,Hg,Te,{minigame:0})}}function Jl(w,v,g){const E=w.slice();E[7]=v[g];const M=E[0].controls[E[7]];return E[8]=M,E}function Ql(w){let v,g,E,M;return{c(){v=Q("div"),g=Q("img"),this.h()},l(P){v=q(P,"DIV",{class:!0});var c=nt(v);g=q(c,"IMG",{src:!0,alt:!0,class:!0}),c.forEach(k),this.h()},h(){Ae(g.src,E=w[0].mainMenuImage)||Y(g,"src",E),Y(g,"alt","backdrop"),Y(g,"class","svelte-17mx4uk"),Y(v,"class","backdrop svelte-17mx4uk")},m(P,c){dt(P,v,c),V(v,g)},p(P,c){c&1&&!Ae(g.src,E=P[0].mainMenuImage)&&Y(g,"src",E)},i(P){P&&(M||$e(()=>{M=Je(v,Di,{opacity:1,x:80,duration:5e3}),M.start()}))},o:jt,d(P){P&&k(v)}}}function Kg(w){let v,g=w[0].title+"",E;return{c(){v=Q("h2"),E=mt(g),this.h()},l(M){v=q(M,"H2",{class:!0});var P=nt(v);E=gt(P,g),P.forEach(k),this.h()},h(){Y(v,"class","svelte-17mx4uk")},m(M,P){dt(M,v,P),V(v,E)},p(M,P){P&1&&g!==(g=M[0].title+"")&&ee(E,g)},i:jt,o:jt,d(M){M&&k(v)}}}function Zg(w){let v,g,E;var M=w[0].components.mainMenuTitle;function P(c,y){return{}}return M&&(v=Gs(M,P())),{c(){v&&Ut(v.$$.fragment),g=Le()},l(c){v&&Wt(v.$$.fragment,c),g=Le()},m(c,y){v&&Xt(v,c,y),dt(c,g,y),E=!0},p(c,y){if(y&1&&M!==(M=c[0].components.mainMenuTitle)){if(v){Oe();const t=v;wt(t.$$.fragment,1,0,()=>{Yt(t,1)}),De()}M?(v=Gs(M,P()),Ut(v.$$.fragment),Tt(v.$$.fragment,1),Xt(v,g.parentNode,g)):v=null}},i(c){E||(v&&Tt(v.$$.fragment,c),E=!0)},o(c){v&&wt(v.$$.fragment,c),E=!1},d(c){c&&k(g),v&&Yt(v,c)}}}function Jg(w){let v,g,E,M,P,c;return g=new he({props:{size:"120%",$$slots:{default:[qg]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),E=mt(" Find match"),this.h()},l(y){v=q(y,"BUTTON",{type:!0,class:!0});var t=nt(v);Wt(g.$$.fragment,t),E=gt(t," Find match"),t.forEach(k),this.h()},h(){Y(v,"type","button"),Y(v,"class","btn btn-outline-light text-start svelte-17mx4uk")},m(y,t){dt(y,v,t),Xt(g,v,null),V(v,E),M=!0,P||(c=ne(v,"click",w[3]),P=!0)},p(y,t){const o={};t&2048&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){M||(Tt(g.$$.fragment,y),M=!0)},o(y){wt(g.$$.fragment,y),M=!1},d(y){y&&k(v),Yt(g),P=!1,c()}}}function Qg(w){let v,g,E='<span class="visually-hidden">Loading...</span>',M,P=w[0].searchMsg+"",c,y,t,o,p,s,i,n;return o=new he({props:{size:"120%",$$slots:{default:[_g]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),c=mt(P),y=lt(),t=Q("button"),Ut(o.$$.fragment),p=mt(`\r
          Stop searching`),this.h()},l(e){v=q(e,"DIV",{});var r=nt(v);g=q(r,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-1k86pvq"&&(g.innerHTML=E),M=ht(r),c=gt(r,P),r.forEach(k),y=ht(e),t=q(e,"BUTTON",{type:!0,class:!0});var l=nt(t);Wt(o.$$.fragment,l),p=gt(l,`\r
          Stop searching`),l.forEach(k),this.h()},h(){Y(g,"class","spinner-border svelte-17mx4uk"),Y(g,"role","status"),Y(t,"type","button"),Y(t,"class","btn btn-outline-danger text-start svelte-17mx4uk")},m(e,r){dt(e,v,r),V(v,g),V(v,M),V(v,c),dt(e,y,r),dt(e,t,r),Xt(o,t,null),V(t,p),s=!0,i||(n=ne(t,"click",w[4]),i=!0)},p(e,r){(!s||r&1)&&P!==(P=e[0].searchMsg+"")&&ee(c,P);const l={};r&2048&&(l.$$scope={dirty:r,ctx:e}),o.$set(l)},i(e){s||(Tt(o.$$.fragment,e),s=!0)},o(e){wt(o.$$.fragment,e),s=!1},d(e){e&&(k(v),k(y),k(t)),Yt(o),i=!1,n()}}}function qg(w){let v;return{c(){v=mt("not_started")},l(g){v=gt(g,"not_started")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function _g(w){let v;return{c(){v=mt("cancel")},l(g){v=gt(g,"cancel")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function ql(w){let v,g,E,M,P,c=w[7]+"",y,t,o,p=w[8]+"",s,i;return{c(){v=Q("div"),g=Q("div"),E=lt(),M=Q("div"),P=Q("div"),y=mt(c),t=lt(),o=Q("div"),s=mt(p),i=lt(),this.h()},l(n){v=q(n,"DIV",{class:!0});var e=nt(v);g=q(e,"DIV",{class:!0}),nt(g).forEach(k),E=ht(e),M=q(e,"DIV",{class:!0});var r=nt(M);P=q(r,"DIV",{class:!0});var l=nt(P);y=gt(l,c),l.forEach(k),t=ht(r),o=q(r,"DIV",{class:!0});var a=nt(o);s=gt(a,p),a.forEach(k),r.forEach(k),i=ht(e),e.forEach(k),this.h()},h(){Y(g,"class","control-icon svelte-17mx4uk"),Ht(g,"color","red"),Ht(g,"background-image",`url(/pics/icons/${w[7]}.png)`),Y(P,"class","control-header svelte-17mx4uk"),Y(o,"class","control-desc svelte-17mx4uk"),Y(M,"class","control-desc svelte-17mx4uk"),Y(v,"class","control-layout svelte-17mx4uk")},m(n,e){dt(n,v,e),V(v,g),V(v,E),V(v,M),V(M,P),V(P,y),V(M,t),V(M,o),V(o,s),V(v,i)},p(n,e){e&1&&Ht(g,"background-image",`url(/pics/icons/${n[7]}.png)`),e&1&&c!==(c=n[7]+"")&&ee(y,c),e&1&&p!==(p=n[8]+"")&&ee(s,p)},d(n){n&&k(v)}}}function _l(w){let v,g=w[8]&&ql(w);return{c(){g&&g.c(),v=Le()},l(E){g&&g.l(E),v=Le()},m(E,M){g&&g.m(E,M),dt(E,v,M)},p(E,M){E[8]?g?g.p(E,M):(g=ql(E),g.c(),g.m(v.parentNode,v)):g&&(g.d(1),g=null)},d(E){E&&k(v),g&&g.d(E)}}}function t0(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r=w[1]&&Ql(w);const l=[Zg,Kg],a=[];function h(S,T){return S[0].components.mainMenuTitle?0:1}P=h(w),c=a[P]=l[P](w);const f=[Qg,Jg],u=[];function d(S,T){return S[2]?0:1}o=d(w),p=u[o]=f[o](w);let m=ke(Object.keys(w[0].controls)),x=[];for(let S=0;S<m.length;S+=1)x[S]=_l(Jl(w,m,S));return{c(){v=Q("div"),r&&r.c(),g=lt(),E=Q("div"),M=Q("div"),c.c(),y=lt(),t=Q("div"),p.c(),s=lt(),i=Q("div");for(let S=0;S<x.length;S+=1)x[S].c();this.h()},l(S){v=q(S,"DIV",{class:!0});var T=nt(v);r&&r.l(T),g=ht(T),E=q(T,"DIV",{class:!0});var C=nt(E);M=q(C,"DIV",{class:!0});var A=nt(M);c.l(A),A.forEach(k),y=ht(C),t=q(C,"DIV",{class:!0});var b=nt(t);p.l(b),b.forEach(k),C.forEach(k),s=ht(T),i=q(T,"DIV",{class:!0});var R=nt(i);for(let F=0;F<x.length;F+=1)x[F].l(R);R.forEach(k),T.forEach(k),this.h()},h(){Y(M,"class","mb-auto"),Y(t,"class","menu-buttons svelte-17mx4uk"),Y(E,"class","part svelte-17mx4uk"),Y(i,"class","part right svelte-17mx4uk"),Y(v,"class","menu-section svelte-17mx4uk")},m(S,T){dt(S,v,T),r&&r.m(v,null),V(v,g),V(v,E),V(E,M),a[P].m(M,null),V(E,y),V(E,t),u[o].m(t,null),V(v,s),V(v,i);for(let C=0;C<x.length;C+=1)x[C]&&x[C].m(i,null);e=!0},p(S,[T]){S[1]?r?(r.p(S,T),T&2&&Tt(r,1)):(r=Ql(S),r.c(),Tt(r,1),r.m(v,g)):r&&(r.d(1),r=null);let C=P;P=h(S),P===C?a[P].p(S,T):(Oe(),wt(a[C],1,1,()=>{a[C]=null}),De(),c=a[P],c?c.p(S,T):(c=a[P]=l[P](S),c.c()),Tt(c,1),c.m(M,null));let A=o;if(o=d(S),o===A?u[o].p(S,T):(Oe(),wt(u[A],1,1,()=>{u[A]=null}),De(),p=u[o],p?p.p(S,T):(p=u[o]=f[o](S),p.c()),Tt(p,1),p.m(t,null)),T&1){m=ke(Object.keys(S[0].controls));let b;for(b=0;b<m.length;b+=1){const R=Jl(S,m,b);x[b]?x[b].p(R,T):(x[b]=_l(R),x[b].c(),x[b].m(i,null))}for(;b<x.length;b+=1)x[b].d(1);x.length=m.length}},i(S){e||(Tt(r),Tt(c),Tt(p),S&&(n||$e(()=>{n=Je(v,Vs,{}),n.start()})),e=!0)},o(S){wt(c),wt(p),e=!1},d(S){S&&k(v),r&&r.d(),a[P].d(),u[o].d(),Ii(x,S)}}}function e0(w,v,g){let{minigame:E}=v,{animateBackdrop:M=!1}=v,P=!1,c=null;function y(){E.start()}function t(){g(2,c=new ri(y,te(4e3,2e4)))}function o(){c==null||c.clear(),g(2,c=null)}return ti(()=>(g(1,P=!0),()=>{g(1,P=!M)})),w.$$set=p=>{"minigame"in p&&g(0,E=p.minigame),"animateBackdrop"in p&&g(5,M=p.animateBackdrop)},[E,P,c,t,o,M]}class i0 extends Se{constructor(v){super(),Ee(this,v,e0,t0,Te,{minigame:0,animateBackdrop:5})}}function s0(w){let v,g="BABAG";return{c(){v=Q("h2"),v.textContent=g,this.h()},l(E){v=q(E,"H2",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-bmi78p"&&(v.textContent=g),this.h()},h(){Y(v,"class","svelte-1cu457")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}class n0 extends Se{constructor(v){super(),Ee(this,v,null,s0,Te,{})}}const r0=["FeelsGoodMan 👂","FeelsGoodMan 🦻","FeelsGoodMan 🩸","ZULUL WAVE 2 🔔","forsenSWA forsenGun ZULUL"];class a0 extends qs{constructor(){super("babag"),this.title="Baba G",this.icon="/pics/m4/mainguy.png",this.looksLikeMultiplayerGame=!0,this.searchMsg="Finding match...",this.allowsTrainingMode=!1,this.mainMenuImage="/pics/backdrops/babag-menu.webp",this.minStartsToTry=0,this.minTimeToPlay=0,this.gameDuration=0,this.overtimeDuration=0,this.controls.arrows="Move and jump",this.controls.space="Attack/shoot",this.controls.shift="Throw grenades",this.components.menu=i0,this.components.game=jg,this.components.mainMenuTitle=n0,this.ost=new Cs("babag-ost-menu","/sounds/music/babag-ost.mp3"),this.startSound=new Ye("babag-start-game","/sounds/m4/start.mp3"),this.arena=new Ng,this.winner=ii(null);const v=this;this.arena.callbacks.unitDied=function(g,E,M){this.spawned>30&&this.spawned%5===0&&de.timePasses(te(2,5),5e3)},this.arena.callbacks.arenaEnd=function(g){v.winner.set(g),de.timePasses(te(2,5),3e3),g.guid===this.player.guid?(de.spawner.queueEventfulMessages("hype",8),v.modifier.modifyLoyalty(te(30,45))):(de.spawner.queueEventfulMessages("fail",4),v.modifier.modifyRage(te(7,14)))}}startEngine(){this.startSound.play(),this.arena.engine?this.arena.resetArena():this.arena.startEngine(),this.resumeGame(),de.timePasses(te(7,13),12e3),de.spawner.setAuxSynthericSource(r0),this.modifier.modifyLoyalty(te(2,4))}toMenu(){return this.startMusic(),de.spawner.setAuxSynthericSource(null),super.toMenu()}start(){return this.winner.set(null),this.pauseMusic(),super.start()}startMusic(){this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play()}pauseMusic(){this.ost.pause()}stopMusic(){this.ost.stop().unload()}pauseGame(){var v;return this.arena&&(this.arena.cancerMap.forEach((g,E)=>E.pause()),(v=this.arena.engine)==null||v.pause()),this}resumeGame(){var v;return this.arena&&(this.arena.cancerMap.forEach((g,E)=>E.play()),(v=this.arena.engine)==null||v.resume()),this}endGame(){return this.pauseGame(),this.arena.cancerPool.forEach(v=>v.stop()),this.arena.cancerMap.clear(),this.toMenu()}destroy(){var v;return this.stopMusic(),(v=this.arena)==null||v.destroy(),super.destroy()}}class o0{constructor(){this.files=Zs(["beethoven","tchaikovsky","vivaldi"].map(v=>`/sounds/music/${v}.mp3`)),this.howls=this.files.map((v,g)=>new Cs("ost_intro_"+g,v));for(let v=0;v<this.howls.length;v++)this.howls[v].sound.on("end",()=>this.nextSong());this.isPlaying=!1,this.current=0,this.currentSong=this.howls[0]}init(){return this.currentSong.load(),this}nextSong(){return this.currentSong.stop(),this.current=(this.current+1)%this.files.length,this.currentSong=this.howls[this.current],this.currentSong.isLoaded()?this.isPlaying&&this.currentSong.play():(this.currentSong.sound.once("load",()=>{this.isPlaying&&this.currentSong.play()}),this.currentSong.load()),this}play(){return this.isPlaying?this:(this.isPlaying=!0,this.currentSong.play(),this)}pause(){return this.isPlaying?(this.currentSong.pause(),this):this}resume(){return this.isPlaying?(this.currentSong.play(),this):this}stop(){return this.isPlaying?(this.isPlaying=!1,this.currentSong.stop(),this.nextSong(),this):this}unload(){this.howls.forEach(v=>v.unload())}}const Ls=new o0,Ze={NONE:"",START:"start",INTRO:"intro",LINKS:"links",GAMES:"games",BABAG:"babag",OUTRO:"outro",END:"end"},th={rage:{LINKS:"Watch out for the links that don't fit the rules",GAMES:"You are not that good at games, are you?",BABAG:"Advice: try being better at video games"},loyalty:{INTRO:"Did you already ban everyone? Who's there to watch?",LINKS:"Don't skip valid links, people paid for them",GAMES:"Be more careful, don't skip content and don't ban all your subs",BABAG:"Don't just skip lidl games, this is not a speedrun",OUTRO:"You don't get to leave early, stream for 6 hours!"}};class l0{constructor(v){this.game=v,this.stage=v._state.stage,this._nextLinkSoundFile=null,this._timedTransition=null,this.majorSteps=new Map,this.majorSteps.set(Ze.START,()=>this.doStart()),this.majorSteps.set(Ze.INTRO,()=>this.doStreamIntro()),this.majorSteps.set(Ze.LINKS,()=>this.doLinks()),this.majorSteps.set(Ze.GAMES,()=>this.doGames()),this.majorSteps.set(Ze.BABAG,()=>this.doBabag()),this.majorSteps.set(Ze.OUTRO,()=>this.doStreamOutro()),this.majorSteps.set(Ze.END,()=>this.finishGame()),this.minorSteps=new Map,this.minorSteps.set(Ze.LINKS,g=>this.nextLink(g)),this.minorSteps.set(Ze.GAMES,g=>this.nextGame(g)),this.minorSteps.set(Ze.BABAG,{1:()=>this.startBabag(),2:()=>this.advanceTo(Ze.OUTRO)}),this.advanceTo(Ze.NONE)}reset(){return this.advanceTo(Ze.NONE,0)}async advanceTo(v,g=0){var P;(P=this._timedTransition)==null||P.clear(),this._timedTransition=null;const E=this.stage;if(this.stage=[v,g],this.game.state.update(c=>(c.stage=this.stage,c)),this.game.spawner.setAuxSynthericSource(null),E[0]!==this.stage[0]){const c=this.majorSteps.get(this.stage[0]);c&&await c()}else if(E[1]!==this.stage[1]){const c=this.minorSteps.get(this.stage[0]);if(typeof c=="function")await c(this.stage[1]);else{const y=c?c[this.stage[1]]:null;y&&await y()}}const M=Gn("lifecycle",this.stage[0])||Gn();if(M){const c=Array.isArray(M[0])?M[Math.min(this.stage[1],M.length-1)]:M;this.game.spawner.setSynthericSource(c)}return this}async nextMinorStep(){return await this.advanceTo(this.stage[0],this.stage[1]+1)}doStart(){let v=0;this._timedTransition=new Li(()=>{switch(v++){case 1:{this.game.spawner.start();break}case 7:{this.advanceTo(Ze.INTRO);break}}},500)}doStreamIntro(){this.game.state.update(E=>(E.isCamEnabled=!0,E));const v=vi("gfmb");this.game.forsen.say(v).once("end",()=>{this.advanceTo(Ze.LINKS)})}doLinks(){this.game.timePasses(te(1,3),2222);const v=vi("toLinks");this.game.forsen.say(v).once("end",()=>{Ls.stop(),this.nextLink(this.stage[1]),this.game.spawner.setSynthericSource(Gn("lifecycle",this.stage[0])[1])})}nextLink(v){if(v<this.game.videolinks.length){this.game.timePasses(te(5,7),3e4);const g=()=>{this._nextLinkSoundFile=null;const E=this.game.videolinks[v];this.game.spawner.setAuxSynthericSource(E.chat);const M=new og({target:document.getElementById(zn),props:{icon:"/pics/icons/ie.png",title:"YouTube | Internet Browser 6.0",video:E}});M.$on("close",P=>{P.detail&&P.detail.link&&(P.detail.link.isDuplicate?this._nextLinkSoundFile=vi("linkSeen"):P.detail.link.isLowViews?this._nextLinkSoundFile=vi("minViews"):P.detail.link.isBadCategory&&(this._nextLinkSoundFile=vi("songRequest"))),this.game.seenVideos.add(E.id),this.nextMinorStep(),M.$destroy()})};if(v>0){const E=this._nextLinkSoundFile||vi("nextLink");this.game.forsen.say(E).once("end",g)}else g()}else{const g=()=>this.advanceTo(Ze.GAMES);if(this._nextLinkSoundFile){const E=this.game.forsen.say(this._nextLinkSoundFile);this._nextLinkSoundFile=null,E.once("end",g)}else g()}}doGames(){Ls.stop(),this.game.timePasses(te(1,3),2222);const v=vi("toGames");this.game.forsen.say(v).once("end",()=>{this.nextGame(this.stage[1]),this.game.spawner.setSynthericSource(Gn("lifecycle",this.stage[0])[1])})}nextGame(v){if(v<this.game.gamesToday.length){this.game.timePasses(1,1e3);const g=()=>{const E=this.game.gamesToday[v],M=new E;this.game.spawner.setAuxSynthericSource(M.chatMessages),this.game.activeMinigame.set(M),this.game.timePasses(te(45,70),M.minTimeToPlay);const P=new zl({target:document.getElementById(zn),props:{icon:M.icon,title:M.title,minigame:this.game.activeMinigame}});P.$on("close",()=>{this.game.timePasses(1,1e3),this.checkIfEnoughTimeForContent(),P.$destroy()})};if(v>0){const E=vi("nextGame");this.game.forsen.say(E).once("end",g)}else g()}else this.advanceTo(Ze.BABAG)}doBabag(){this.game.timePasses(te(1,3),4e3);const v=vi("toBabag");this.game.forsen.say(v).once("end",()=>{this.nextMinorStep()})}startBabag(){const v=new a0;this.game.activeMinigame.set(v);const g=new zl({target:document.getElementById(zn),props:{icon:v.icon,title:v.title,minigame:this.game.activeMinigame}});g.$on("close",()=>{this.nextMinorStep(),g.$destroy()})}doStreamOutro(){this.game.timePasses(te(1,3),1e4);const v=vi("outro");this.game.forsen.say(v).once("end",()=>{this.game.state.update(P=>(P.isCamEnabled=!1,P)),this.advanceTo(Ze.END)});const E=this.game._realGameTime-this.game._targetStreamLength;new Jn().modifyLoyalty(Math.min(15,E))}finishGame(){this.game._state.isEndless?this.game.nextDay():(this.game.showCredits(),xv())}checkIfEnoughTimeForContent(){const v=this.game._targetStreamLength-this.game._realGameTime;v<25?this.advanceTo(Ze.OUTRO):v<75&&this.stage[0]!==Ze.BABAG?this.advanceTo(Ze.BABAG):this.nextMinorStep()}}function eh(w,v,g){const E=w.slice();return E[2]=v[g],E[4]=g,E}function h0(w){let v=w[2]+"",g;return{c(){g=mt(v)},l(E){g=gt(E,v)},m(E,M){dt(E,g,M)},p(E,M){M&1&&v!==(v=E[2]+"")&&ee(g,v)},d(E){E&&k(g)}}}function u0(w){let v,g=w[2]+"",E;return{c(){v=Q("span"),E=mt(g),this.h()},l(M){v=q(M,"SPAN",{class:!0});var P=nt(v);E=gt(P,g),P.forEach(k),this.h()},h(){Y(v,"class","mention svelte-ymtf3m")},m(M,P){dt(M,v,P),V(v,E)},p(M,P){P&1&&g!==(g=M[2]+"")&&ee(E,g)},d(M){M&&k(v)}}}function f0(w){let v,g,E,M,P,c;return{c(){v=Q("img"),this.h()},l(y){v=q(y,"IMG",{src:!0,alt:!0,class:!0,width:!0,height:!0}),this.h()},h(){Ae(v.src,g=w[2].src)||Y(v,"src",g),Y(v,"alt",E=w[2].name),Y(v,"class","emote svelte-ymtf3m"),Y(v,"width","32"),Y(v,"height","32"),pe(v,"zw",w[2].zw)},m(y,t){dt(y,v,t),P||(c=Ai(M=wi.call(null,v,{arrow:!1,sticky:!0,plugins:[Or],content:`<div class="d-flex flex-column align-items-center">
<img class="w-75" src=${w[2].src}>
<b>${w[2].name}</b><i>${w[2].provider} ${w[2].type} emote</i>
</div>`})),P=!0)},p(y,t){w=y,t&1&&!Ae(v.src,g=w[2].src)&&Y(v,"src",g),t&1&&E!==(E=w[2].name)&&Y(v,"alt",E),M&&zr(M.update)&&t&1&&M.update.call(null,{arrow:!1,sticky:!0,plugins:[Or],content:`<div class="d-flex flex-column align-items-center">
<img class="w-75" src=${w[2].src}>
<b>${w[2].name}</b><i>${w[2].provider} ${w[2].type} emote</i>
</div>`}),t&1&&pe(v,"zw",w[2].zw)},d(y){y&&k(v),P=!1,c()}}}function ih(w){let v,g;function E(c,y){return typeof c[2]=="object"?f0:c[4]===c[1]?u0:h0}let M=E(w),P=M(w);return{c(){P.c(),v=lt(),g=mt(sh)},l(c){P.l(c),v=ht(c),g=gt(c,sh)},m(c,y){P.m(c,y),dt(c,v,y),dt(c,g,y)},p(c,y){M===(M=E(c))&&P?P.p(c,y):(P.d(1),P=M(c),P&&(P.c(),P.m(v.parentNode,v)))},d(c){c&&(k(v),k(g)),P.d(c)}}}function d0(w){let v,g=ke(w[0]),E=[];for(let M=0;M<g.length;M+=1)E[M]=ih(eh(w,g,M));return{c(){v=Q("p");for(let M=0;M<E.length;M+=1)E[M].c();this.h()},l(M){v=q(M,"P",{class:!0});var P=nt(v);for(let c=0;c<E.length;c+=1)E[c].l(P);P.forEach(k),this.h()},h(){Y(v,"class","svelte-ymtf3m")},m(M,P){dt(M,v,P);for(let c=0;c<E.length;c+=1)E[c]&&E[c].m(v,null)},p(M,[P]){if(P&3){g=ke(M[0]);let c;for(c=0;c<g.length;c+=1){const y=eh(M,g,c);E[c]?E[c].p(y,P):(E[c]=ih(y),E[c].c(),E[c].m(v,null))}for(;c<E.length;c+=1)E[c].d(1);E.length=g.length}},i:jt,o:jt,d(M){M&&k(v),Ii(E,M)}}}const sh=" ";function c0(w,v,g){let{words:E=[]}=v,{mention:M=-1}=v;return w.$$set=P=>{"words"in P&&g(0,E=P.words),"mention"in P&&g(1,M=P.mention)},[E,M]}class v0 extends Se{constructor(v){super(),Ee(this,v,c0,d0,Te,{words:0,mention:1})}}function nh(w,v,g){const E=w.slice();return E[3]=v[g],E}function rh(w){let v,g,E,M,P;return{c(){v=Q("img"),this.h()},l(c){v=q(c,"IMG",{src:!0,alt:!0,class:!0,width:!0,height:!0}),this.h()},h(){Ae(v.src,g=w[3].src)||Y(v,"src",g),Y(v,"alt",""),Y(v,"class","userbadge svelte-tow957"),Y(v,"width","32"),Y(v,"height","32")},m(c,y){dt(c,v,y),M||(P=Ai(E=wi.call(null,v,{sticky:!0,plugins:[Or],content:`<div class="d-flex flex-column align-items-center">
<img class="w-75" src=${w[3].src}>
<span>${w[3].title}</span>
</div>`})),M=!0)},p(c,y){w=c,y&4&&!Ae(v.src,g=w[3].src)&&Y(v,"src",g),E&&zr(E.update)&&y&4&&E.update.call(null,{sticky:!0,plugins:[Or],content:`<div class="d-flex flex-column align-items-center">
<img class="w-75" src=${w[3].src}>
<span>${w[3].title}</span>
</div>`})},d(c){c&&k(v),M=!1,P()}}}function p0(w){let v,g,E,M=ke(w[2]),P=[];for(let c=0;c<M.length;c+=1)P[c]=rh(nh(w,M,c));return{c(){v=Q("h3");for(let c=0;c<P.length;c+=1)P[c].c();g=lt(),E=mt(w[0]),this.h()},l(c){v=q(c,"H3",{class:!0});var y=nt(v);for(let t=0;t<P.length;t+=1)P[t].l(y);g=ht(y),E=gt(y,w[0]),y.forEach(k),this.h()},h(){Y(v,"class","svelte-tow957"),Ht(v,"color",w[1])},m(c,y){dt(c,v,y);for(let t=0;t<P.length;t+=1)P[t]&&P[t].m(v,null);V(v,g),V(v,E)},p(c,[y]){if(y&4){M=ke(c[2]);let t;for(t=0;t<M.length;t+=1){const o=nh(c,M,t);P[t]?P[t].p(o,y):(P[t]=rh(o),P[t].c(),P[t].m(v,g))}for(;t<P.length;t+=1)P[t].d(1);P.length=M.length}y&1&&ee(E,c[0]),y&2&&Ht(v,"color",c[1])},i:jt,o:jt,d(c){c&&k(v),Ii(P,c)}}}function m0(w,v,g){let{username:E=""}=v,{color:M=""}=v,{badges:P=[]}=v;return w.$$set=c=>{"username"in c&&g(0,E=c.username),"color"in c&&g(1,M=c.color),"badges"in c&&g(2,P=c.badges)},[E,M,P]}class g0 extends Se{constructor(v){super(),Ee(this,v,m0,p0,Te,{username:0,color:1,badges:2})}}function ah(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a,h,f,u,d,m=w[0]._id+"",x,S,T,C,A,b=w[3].isBanEvader&&oh(w),R=w[3].isThreaded&&lh(w);c=new g0({props:{username:w[3].author,badges:w[3].badges,color:w[3].color}}),t=new v0({props:{words:w[3].words,mention:w[3].mentionIndex}});let F=w[3].isDead&&hh(w);return{c(){v=Q("div"),g=Q("div"),E=Q("div"),b&&b.c(),M=lt(),R&&R.c(),P=lt(),Ut(c.$$.fragment),y=lt(),Ut(t.$$.fragment),o=lt(),p=Q("div"),s=Q("img"),e=lt(),F&&F.c(),r=lt(),l=Q("div"),a=Q("i"),h=mt(w[6]),f=lt(),u=Q("br"),d=lt(),x=mt(m),this.h()},l(L){v=q(L,"DIV",{class:!0});var O=nt(v);g=q(O,"DIV",{class:!0});var I=nt(g);E=q(I,"DIV",{class:!0});var B=nt(E);b&&b.l(B),M=ht(B),R&&R.l(B),P=ht(B),Wt(c.$$.fragment,B),y=ht(B),Wt(t.$$.fragment,B),B.forEach(k),I.forEach(k),o=ht(O),p=q(O,"DIV",{role:!0,tabindex:!0,class:!0});var U=nt(p);s=q(U,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),e=ht(U),F&&F.l(U),r=ht(U),l=q(U,"DIV",{class:!0});var H=nt(l);a=q(H,"I",{});var J=nt(a);h=gt(J,w[6]),J.forEach(k),f=ht(H),u=q(H,"BR",{}),d=ht(H),x=gt(H,m),H.forEach(k),U.forEach(k),O.forEach(k),this.h()},h(){Y(E,"class","bubble-inner svelte-bjv747"),Y(g,"class","bubble svelte-bjv747"),pe(g,"penalty",w[3].isThreaded||w[3].isBanEvader),Ae(s.src,i=w[0].imgsrc.logo)||Y(s,"src",i),Y(s,"alt",n=w[0].name),Y(s,"draggable","false"),Y(s,"class","svelte-bjv747"),Y(l,"class","debug svelte-bjv747"),Y(p,"role","button"),Y(p,"tabindex","0"),Y(p,"class","chatter-pic svelte-bjv747"),Y(v,"class","chatter svelte-bjv747"),pe(v,"inverted",w[3].isInverted),Ht(v,"top",je(w[4])),Ht(v,"left",w[3].isInverted?null:je(w[5])),Ht(v,"right",w[3].isInverted?je(w[5]):null)},m(L,O){dt(L,v,O),V(v,g),V(g,E),b&&b.m(E,null),V(E,M),R&&R.m(E,null),V(E,P),Xt(c,E,null),V(E,y),Xt(t,E,null),V(v,o),V(v,p),V(p,s),V(p,e),F&&F.m(p,null),V(p,r),V(p,l),V(l,a),V(a,h),V(l,f),V(l,u),V(l,d),V(l,x),T=!0,C||(A=[ne(p,"click",w[9]),ne(p,"keydown",null)],C=!0)},p(L,O){w=L,w[3].isBanEvader?b?O&8&&Tt(b,1):(b=oh(w),b.c(),Tt(b,1),b.m(E,M)):b&&(Oe(),wt(b,1,1,()=>{b=null}),De()),w[3].isThreaded?R?(R.p(w,O),O&8&&Tt(R,1)):(R=lh(w),R.c(),Tt(R,1),R.m(E,P)):R&&(Oe(),wt(R,1,1,()=>{R=null}),De());const I={};O&8&&(I.username=w[3].author),O&8&&(I.badges=w[3].badges),O&8&&(I.color=w[3].color),c.$set(I);const B={};O&8&&(B.words=w[3].words),O&8&&(B.mention=w[3].mentionIndex),t.$set(B),(!T||O&8)&&pe(g,"penalty",w[3].isThreaded||w[3].isBanEvader),(!T||O&1&&!Ae(s.src,i=w[0].imgsrc.logo))&&Y(s,"src",i),(!T||O&1&&n!==(n=w[0].name))&&Y(s,"alt",n),w[3].isDead?F?F.p(w,O):(F=hh(w),F.c(),F.m(p,r)):F&&(F.d(1),F=null),(!T||O&64)&&ee(h,w[6]),(!T||O&1)&&m!==(m=w[0]._id+"")&&ee(x,m),(!T||O&8)&&pe(v,"inverted",w[3].isInverted),O&16&&Ht(v,"top",je(w[4])),O&40&&Ht(v,"left",w[3].isInverted?null:je(w[5])),O&40&&Ht(v,"right",w[3].isInverted?je(w[5]):null)},i(L){T||(Tt(b),Tt(R),Tt(c.$$.fragment,L),Tt(t.$$.fragment,L),L&&$e(()=>{T&&(S||(S=yi(v,$i,{duration:w[3].transition,delay:100},!0)),S.run(1))}),T=!0)},o(L){wt(b),wt(R),wt(c.$$.fragment,L),wt(t.$$.fragment,L),L&&(S||(S=yi(v,$i,{duration:w[3].transition,delay:100},!1)),S.run(0)),T=!1},d(L){L&&k(v),b&&b.d(),R&&R.d(),Yt(c),Yt(t),F&&F.d(),L&&S&&S.end(),C=!1,ui(A)}}}function oh(w){let v,g,E,M,P;return E=new he({props:{size:"125%",$$slots:{default:[x0]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("strong"),Ut(E.$$.fragment),M=mt(" Potential ban evader"),this.h()},l(c){v=q(c,"DIV",{class:!0});var y=nt(v);g=q(y,"STRONG",{});var t=nt(g);Wt(E.$$.fragment,t),M=gt(t," Potential ban evader"),t.forEach(k),y.forEach(k),this.h()},h(){Y(v,"class","substatus svelte-bjv747")},m(c,y){dt(c,v,y),V(v,g),Xt(E,g,null),V(g,M),P=!0},i(c){P||(Tt(E.$$.fragment,c),P=!0)},o(c){wt(E.$$.fragment,c),P=!1},d(c){c&&k(v),Yt(E)}}}function x0(w){let v;return{c(){v=mt("hardware")},l(g){v=gt(g,"hardware")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function lh(w){let v,g,E,M,P=w[3].threadMsg+"",c,y;return E=new he({props:{size:"125%",$$slots:{default:[y0]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("em"),Ut(E.$$.fragment),M=lt(),c=mt(P),this.h()},l(t){v=q(t,"DIV",{class:!0});var o=nt(v);g=q(o,"EM",{});var p=nt(g);Wt(E.$$.fragment,p),M=ht(p),c=gt(p,P),p.forEach(k),o.forEach(k),this.h()},h(){Y(v,"class","substatus svelte-bjv747")},m(t,o){dt(t,v,o),V(v,g),Xt(E,g,null),V(g,M),V(g,c),y=!0},p(t,o){const p={};o&2048&&(p.$$scope={dirty:o,ctx:t}),E.$set(p),(!y||o&8)&&P!==(P=t[3].threadMsg+"")&&ee(c,P)},i(t){y||(Tt(E.$$.fragment,t),y=!0)},o(t){wt(E.$$.fragment,t),y=!1},d(t){t&&k(v),Yt(E)}}}function y0(w){let v;return{c(){v=mt("chat")},l(g){v=gt(g,"chat")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function hh(w){let v,g;return{c(){v=Q("img"),this.h()},l(E){v=q(E,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),this.h()},h(){Ae(v.src,g=w[0].imgsrc.dead)||Y(v,"src",g),Y(v,"alt","Banned!"),Y(v,"draggable","false"),Y(v,"class","svelte-bjv747")},m(E,M){dt(E,v,M)},p(E,M){M&1&&!Ae(v.src,g=E[0].imgsrc.dead)&&Y(v,"src",g)},d(E){E&&k(v)}}}function T0(w){let v,g,E=w[3].isVisible&&ah(w);return{c(){E&&E.c(),v=Le()},l(M){E&&E.l(M),v=Le()},m(M,P){E&&E.m(M,P),dt(M,v,P),g=!0},p(M,[P]){M[3].isVisible?E?(E.p(M,P),P&8&&Tt(E,1)):(E=ah(M),E.c(),Tt(E,1),E.m(v.parentNode,v)):E&&(Oe(),wt(E,1,1,()=>{E=null}),De())},i(M){g||(Tt(E),g=!0)},o(M){wt(E),g=!1},d(M){M&&k(v),E&&E.d(M)}}}function S0(w,v,g){let E,M=jt,P=()=>(M(),M=ds(n,h=>g(3,E=h)),n),c,y,t,o=jt,p=()=>(o(),o=ds(i,h=>g(6,t=h)),i);w.$$.on_destroy.push(()=>M()),w.$$.on_destroy.push(()=>o());let{unit:s}=v,{state:i}=v;p();let{props:n}=v;P();const e=E.lifetime/E.speed,r=ki(null,{duration:e});Ve(w,r,h=>g(5,y=h));const l=ki(null,{duration:e});Ve(w,l,h=>g(4,c=h));function a(){s.shoot()}return w.$$set=h=>{"unit"in h&&g(0,s=h.unit),"state"in h&&p(g(1,i=h.state)),"props"in h&&P(g(2,n=h.props))},w.$$.update=()=>{w.$$.dirty&8&&(zi(r,y=E.x,y),zi(l,c=E.y,c))},[s,i,n,E,c,y,t,r,l,a]}class E0 extends Se{constructor(v){super(),Ee(this,v,S0,T0,Te,{unit:0,state:1,props:2})}}const Lu="chattersFloatingSpace",Fu="This is a test message. FeelsDankMan RainTime",C0=Fu.split(" "),A0=/^@?forsen$/i,w0=new Set(["game","GAME","Game","SKIP","skip","ResidentSleeper","forsenSleeper","😴","💤"]),M0=new Ye("chatter_kill","/sounds/kill.mp3"),b0=qn(1e4,()=>de.forsen.tryToSay(vi("mods")),{noTrailing:!0}),Sr={isGameComplain:0,isBanEvader:0,isThreaded:0},Vr=class Vr{constructor(v,g="_genericBaseUnit"){this.spawner=v,this._id=g+"_"+Vr.ID_COUNTER++,this.name=g,this._state="new",this.state=ii(this._state),this.killCallback=oi,this._props={level:1,score:1,rageModifier:-te(3,6),loyaltyModifier:-te(1,2),lifetime:7e3,transition:250,speed:1,startX:0,startY:0,endX:0,endY:0,x:0,y:0,isInverted:!1,isImmortal:!0,isDead:!1,isVisible:!1,mentionIndex:-1,isGameComplain:!1,isBanEvader:!1,isThreaded:!1,threadMsg:"",author:"forsen",color:"#f00",message:Fu,words:C0,badges:[]},this.props=ii(this._props),this.imgsrc=Object.freeze({logo:`/pics/units/${g}.webp`,dead:"/pics/units/dead_overlay.webp"}),this.element=null,this.lifecycle={born:()=>{this.updateProps(E=>(E.isImmortal=!1,E.isVisible=!0,E)),this.stateChanger=new ri(()=>{this.updateState("live")},this.props.transition)},live:()=>{this.updateProps(E=>(E.x=E.endX,E.y=E.endY,E)),this.stateChanger=new ri(()=>{this.updateState("vanish")},this._props.lifetime)},shot:()=>{this.setProp("isDead",!0),this.stateChanger=new ri(()=>{this.updateState("vanish"),this.killCallback.apply(this)},50)},vanish:()=>{this.setProp("isVisible",!1),this.stateChanger=new ri(()=>{this.updateState("dead")},this._props.transition)},dead:()=>{var M,P,c;const E=this._props;if(!E.isDead){(M=this.spawner)!=null&&M.modifier&&(E.isBanEvader?(P=this.spawner.modifier)==null||P.modifyRage(te(3,5)):(E.isThreaded||E.isGameComplain)&&((c=this.spawner.modifier)==null||c.modifyRage(te(1,2))));for(const y in Sr)E[y]&&(Sr[y]+=1,Sr[y]===10&&(Tn(y),delete Sr[y]))}this.element.$destroy()}}}fillFromUnitInfo(v){return this.updateProps(g=>(g.author=v.author,g.color=v.color,g.badges=v.badgeset,g.message=v.message,g.words=v.words,g.mentionIndex=v.words.findIndex(E=>typeof E=="string"&&A0.test(E)),g.isGameComplain=v.words.some(E=>typeof E=="string"?w0.has(E):Ta.has(E)),g.isBanEvader=v.isBanEvader,g.isThreaded=!!v.threadMsg,g.threadMsg=v.threadMsg,g.mentionIndex>=0&&(g.loyaltyModifier=te(2,3),g.rageModifier*=2,Math.random()>.5&&this.spawner.modifier.modifyRage(1)),g.isBanEvader?(g.loyaltyModifier=0,this.spawner.modifier.modifyRage(te(3,5)),g.rageModifier*=3):(g.isThreaded||g.isGameComplain)&&(g.loyaltyModifier=0,this.spawner.modifier.modifyRage(1),g.rageModifier*=3),g)),this}updateProps(v){return this.props.update(v)}setProp(v,g){return this.props.update(E=>(E[v]=g,E))}updateState(v){return this.state.update(g=>{var M;if(v===g)return g;(M=this.stateChanger)==null||M.clear(),this.stateChanger=null;const E=this.lifecycle[v];return E?E():(console.warn("Unknown state for Chatter unit: "+v,this),v="_"),this._state=v,v}),this}fillInitialParams(){return this.updateProps(v=>{const g=-2*te();return v.isInverted=g<0,v.startX=te(1,25),v.startY=te(1,56),v.endX=v.startX+te(2,25),v.endY=te(5,50),v.x=v.startX,v.y=v.startY,v}),this}init(){this.fillInitialParams();const v=document.getElementById(Lu);return this.element=new E0({target:v,props:{unit:this,props:this.props,state:this.state},intro:!0}),this.updateState("born")}shoot(){return this._props.isImmortal||this._props.isDead?this:(M0.play(),b0(),this.spawner.modifier.modify(this._props.rageModifier,this._props.loyaltyModifier),this.updateState("shot"))}pause(){this._state==="live"&&this.updateProps(v=>{const g=this.stateChanger?1-this.stateChanger.getRemainingTime()/v.lifetime:1,E=v.startX+(v.endX-v.startX)*g,M=v.startY+(v.endY-v.startY)*g;return v.x=E,v.y=M,v})}resume(){this._state==="live"&&this.updateProps(v=>(v.x=v.endX,v.y=v.endY,v))}destroy(){this.updateState("dead")}};or(Vr,"ID_COUNTER",1);let Nr=Vr;class P0 extends Nr{constructor(v,g){super(v,"subscriber"+te(1,6)),this.fillFromUnitInfo(g),this.killCallback=g.killCallback,this.updateProps(E=>(E.loyaltyModifier*=Math.round(.4*Math.max(g.sublength,8)),E))}}class R0{constructor(v){this.value=v,this.next=null}}class Ou{constructor(){this.clear()}enqueue(v){const g=new R0(v);return this.head?(this.tail.next=g,this.tail=g):(this.head=g,this.tail=g),this.length+=1,this}dequeue(){const v=this.head;return v?(this.head=this.head.next,this.length-=1,v.value):null}clear(){return this.head=null,this.tail=null,this.length=0,this}isEmpty(){return this.length===0}getHead(){return this.head.value}getLength(){return this.length}toString(){const v=[];let g=this.head;for(;g;)v.push(g.value),g=g.next;return`Queue(${v.length})<${JSON.stringify(v)}>`}[Symbol.iterator](){let v=this.head;return{next:()=>{if(v){const g={value:v.value,done:!1};return v=v.next,g}else return{done:!0}}}}}class L0 extends Nr{constructor(v,g){super(v,"normal"+te(1,5)),this.fillFromUnitInfo(g),this.killCallback=g.killCallback}}let Du=null,Na=0;qe.subscribe(w=>{Du=w.chatPunishment,Na=w.chatTimeout});const uh="You have been shot by Forsen!",F0=new Set(["twitch","chatvote","g7_botandrey","yourmom_bot_xd","xdd_bot_xd","okayegbot","0weebs","supibot","streamelements","nightbot","fossabot","streamlabs","own3d","enationbot","restreambot","hnlbot","whatthedubbot","pajbot","snusbot","botnextdoor","titlechange_bot","deepdarkdungeonbot","botbear1110","chetbotwow","nightbot","moobot","wizebot","deepbot","phantombot","admiralbullbot","thepositivebot","feelsstrongbot","egsbot","potatbotat","rewardmore","tangiabot","feezybot"]);class O0{constructor(v,g){if(this._class=L0,this.author=v["display-name"]||v.username,this.color=v.color||$r(),this.badgeset=[],v.badges)for(const E in v.badges){const M=ya.get(E);if(M){const P=v.badges[E],c=M[P];c&&this.badgeset.push(c),E==="subscriber"&&(this._class=P0,this.sublength=parseInt(P,10)||1)}}if(this.message=g,this.words=$c(v,this.message),this.isBanEvader="_banEvader"in v,"reply-parent-msg-body"in v){const E=v["reply-parent-user-display-name"]||v["reply-parent-user-login"];this.threadMsg=`${E}: ${v["reply-parent-msg-body"]}`}this._externalUserId=null,this.killCallback=oi}setExternalUserId(v){this._externalUserId=v,this.killCallback=async()=>{try{const g=`?broadcaster_id=${_i.user_id}&moderator_id=${_i.user_id}`;switch(Du){case"timeout":{Na>0&&await _i.request("moderation/bans"+g,{data:{user_id:this._externalUserId,duration:Na,reason:uh}},"POST");break}case"warning":{await _i.request("moderation/warnings"+g,{data:{user_id:this._externalUserId,reason:uh}},"POST");break}}}catch(g){console.warn(`Failed to relay a shot onto chat user [${this._externalUserId}|${this.author}] - error: `,g)}}}}class D0{constructor(v){this.game=v,this.units=new Set,this.activeUserIds=new Set,this.delay=700,this.probability=.72,this.maxSize=8,this.isRunning=!1,this._timer=null,this._rageBaitTimer=null,this._nextPastaTimer=Date.now(),this._pastaCount=0,this._pastaMsg="@forsen",this._copypastaTimer=null,this.modifier=null,this.queue=new Ou,this.syntheticSource=[],this.auxSyntheticSource=[],this._messageHook=(g,E)=>{g.username===Yh.channel||g.username===Wr||g.mod&&!this.spawnMods||F0.has(g.username)||g["user-id"]&&this.activeUserIds.has(g["user-id"])||E.startsWith("+")||E.startsWith("!")||this.queueSpawnUnit(g,E)},this.spawnExternalChat=!1,this.spawnMods=!1,qe.subscribe(g=>{this.spawnExternalChat!==g.chatIntegration&&this.toggleHook(g.chatIntegration),this.spawnExternalChat=g.chatIntegration,this.spawnMods=g.chatIncludeMods})}queueSpawnUnit(v,g,E=!1){const M=this.units.size<this.maxSize&&Math.random()<this.probability;if(!E&&!M)return;v.__spawned__=!0;const P=new O0(v,g);return"user-id"in v&&(this.activeUserIds.add(v["user-id"]),P.setExternalUserId(v["user-id"])),this.queue.enqueue(P),this}spawnNext(){const v=this.queue.dequeue();if(!v)return null;const g=new v._class(this,v);return g.state.subscribe(E=>{E==="dead"&&(this.units.delete(g),this.activeUserIds.delete(v._externalUserId))}),g.init(),this.units.add(g),g}toggleHook(v){return this.isRunning&&(v?za(this._messageHook):cn(this._messageHook)),this}start(){if(this._timer)throw new Error("This spawner is already active!");return console.info("ChatterUnit spawner launched!"),this.modifier=new Jn,this._timer=new Li(()=>{this.isRunning&&(this.queue.isEmpty()&&this.units.size<this.maxSize&&Math.random()<this.probability&&this.queueSyntheticMessage(this.buildSyntheticMessage()),this.spawnNext())},this.delay),this._rageBaitTimer=new Li(()=>{const v=Math.random();if(v>.55)return;if(v<.11){const M=this.buildSyntheticMessage();M._banEvader=!0,this.queueSyntheticMessage(M);return}const g=["pasta","mentions"];this.game._state.stage[0]===Ze.GAMES&&g.push("complains");const E=this.buildSyntheticMessage("generic",Ke(g));if(this.queueSyntheticMessage(E),!this.queue.isEmpty()&&v<.35){const M=this.queue.getHead(),P=this.buildSyntheticMessage("generic","threads");P["reply-parent-user-login"]=M.author,P["reply-parent-msg-body"]=M.message,P._text=`@${M.author} ${P._text}`,this.queueSyntheticMessage(P)}},5e3),this._copypastaTimer=new Li(()=>{if(this._pastaCount>0){const v=this.buildSyntheticMessage();v._text=this._pastaMsg,this._pastaCount-=1,this.queueSyntheticMessage(v)}else if(Date.now()>this._nextPastaTimer&&[Ze.GAMES,Ze.LINKS,Ze.BABAG].includes(this.game._state.stage[0])){const v=this.buildSyntheticMessage("generic",Ke(["pasta","ascii"]));this._pastaCount=te(3,8),this._pastaMsg=v._text,this._nextPastaTimer=Date.now()+te(70,100)*1e3}},2500),this._pastaCount=0,this._nextPastaTimer=Date.now()+te(70,100)*1e3,this.resume(),this.toggleHook(this.spawnExternalChat),this}stop(v=!0){var g,E,M;return this.toggleHook(!1),this.pause(),this.modifier=null,(g=this._timer)==null||g.clear(),this._timer=null,(E=this._rageBaitTimer)==null||E.clear(),this._rageBaitTimer=null,(M=this._copypastaTimer)==null||M.clear(),this._copypastaTimer=null,cn(this._messageHook),this.queue.clear(),v&&(this.units.forEach(P=>P.destroy()),this.units.clear()),this}restart(){return this.stop().start()}pause(){return this.isRunning=!1,this.units.forEach(v=>v.pause()),this}resume(){return this.isRunning=!0,this.units.forEach(v=>v.resume()),this}setSynthericSource(v){return this.syntheticSource=v,this}setAuxSynthericSource(v){return this.auxSyntheticSource=v,this}buildSyntheticMessage(v,g){const E=fu(),M=!v&&Math.random()>.2;let P=null;M&&this.syntheticSource&&(P=Ke(this.syntheticSource),this.auxSyntheticSource&&Math.random()<.25&&(P=Ke(this.auxSyntheticSource))),P||(P=Zc(v,g)),P.length<30&&(P=(P+" ").repeat(te(1,4)).trim());const c={};switch(Math.random()<.3&&(c.subscriber=(1+te(4))*12),te(10)){case 1:case 2:c.turbo=1;break;case 7:c.no_video=1;break;case 8:c.no_audio=1;break}return{username:E,color:$r(),badges:c,_parseAllEmotes:!0,_text:P}}queueSyntheticMessage(v,g=!1){const E=v._text;return delete v._text,this.queueSpawnUnit(v,E,g)}queueEventfulMessages(v="",g=0){if(!v||!g){console.warn("Spawner.queueEventfulMessages called with invalid arguments:",arguments);return}for(;g-- >0;)this.queueSyntheticMessage(this.buildSyntheticMessage("generic",v),!0)}}class Iu{constructor(){this.isSpeaking=!1,this._wasExternallyPaused=!1,this.talker=new Ou,this.speech=null,this.speechGain=ii(0),this._gainNode=Howler.ctx.createGain(),this._analyser=Howler.ctx.createAnalyser(),this._analyser.fftSize=256,this._bufferLength=this._analyser.frequencyBinCount,this._dataArray=new Uint8Array(this._bufferLength),qe.subscribe(v=>{this._gainNode.gain.value=v.volume/100}),this.isAudioAnalyzerActive=!1,this.startAudioAnalyzer(),this.pepepains=new Li(()=>this.sayRandomLine(),54321),this.soundLibrary=new Map;for(const v in Ca)for(const g of Ca[v])this.soundLibrary.set(v,new mr(`forsen-_local_-${g}`,`/sounds/forsen/${g}.mp3`))}resetPepepainsTimer(){return this.pepepains.restart(),this}startAudioAnalyzer(){if(this.isAudioAnalyzerActive)return;this.isAudioAnalyzerActive=!0,console.debug("Forsen: audio analysis started");const v=()=>{this._analyser.getByteFrequencyData(this._dataArray);let g=0;for(let M=0;M<this._bufferLength;M++)g+=this._dataArray[M];const E=g/this._bufferLength;this.speechGain.set(E/255),this.isAudioAnalyzerActive&&requestAnimationFrame(v)};v()}stopAudioAnalyzer(){this.isAudioAnalyzerActive=!1}keepTalking(v=0){if(!(v===0&&this.isSpeaking))return this.isSpeaking=!0,this.speech=this.talker.dequeue(),this.speech?(this.speech.once("end",()=>this.keepTalking(v+1)),this.speech.play()):this.isSpeaking=!1,this}playSpeech(v){const g=v instanceof mr?v.stop():new mr("forsen",v);g.isLoaded()||g.load(),this.talker.enqueue(g);const E=g.sound._sounds[0]._node;return E.disconnect(),E.connect(this._gainNode),this._gainNode.connect(this._analyser),this._analyser.connect(Howler.ctx.destination),this.resetPepepainsTimer(),this.keepTalking(),g}say(v){let g=this.soundLibrary.get(v);return g||(g=new mr(`forsen-_local_-${v}`,`/sounds/forsen/${v}.mp3`),this.soundLibrary.set(v,g)),this.playSpeech(g)}tryToSay(v){return!this.speech&&this.talker.isEmpty()&&this.say(v),this}sayRandomLine(){return!de._state.isStarted||this.talker.length>5?this:this.say(vi("pepepains"))}testSpeech(){return this.talker.length>1?this:this.say(vi("pepepains"))}pause(){return this.speech&&(this._wasExternallyPaused=this.speech.isPlaying(),this.speech.pause()),this}unpause(){var v;return this._wasExternallyPaused&&((v=this.speech)==null||v.play()),this._wasExternallyPaused=!1,this}stfu(){return this.speech&&(this.speech.stop(),this.speech.off()),this.isSpeaking=!1,this.talker.clear(),this}destroy(){return this.isAudioAnalyzerActive=!1,this.pepepains.clear(),this.talker.clear(),this}}function I0(w){let v,g,E,M="Paused",P,c=w[0].isEndless&&fh(w);return{c(){v=Q("div"),c&&c.c(),g=lt(),E=Q("h1"),E.textContent=M,this.h()},l(y){v=q(y,"DIV",{class:!0});var t=nt(v);c&&c.l(t),g=ht(t),E=q(t,"H1",{class:!0,"data-svelte-h":!0}),Rt(E)!=="svelte-1vsm7db"&&(E.textContent=M),t.forEach(k),this.h()},h(){Y(E,"class","my-auto svelte-lu2tq7"),Y(v,"class","pause-title svelte-lu2tq7")},m(y,t){dt(y,v,t),c&&c.m(v,null),V(v,g),V(v,E)},p(y,t){y[0].isEndless?c?c.p(y,t):(c=fh(y),c.c(),c.m(v,g)):c&&(c.d(1),c=null)},i(y){y&&(P||$e(()=>{P=Je(v,Vs,{delay:100}),P.start()}))},o:jt,d(y){y&&k(v),c&&c.d()}}}function B0(w){let v,g,E,M=w[0].gameOverReason+"",P,c,y,t=w[0].gameOverDescription+"",o,p,s=w[0].isEndless&&dh(w);return{c(){v=Q("div"),s&&s.c(),g=lt(),E=Q("h1"),P=mt(M),c=lt(),y=Q("h2"),o=mt(t),this.h()},l(i){v=q(i,"DIV",{class:!0});var n=nt(v);s&&s.l(n),g=ht(n),E=q(n,"H1",{class:!0});var e=nt(E);P=gt(e,M),e.forEach(k),c=ht(n),y=q(n,"H2",{class:!0});var r=nt(y);o=gt(r,t),r.forEach(k),n.forEach(k),this.h()},h(){Y(E,"class","svelte-lu2tq7"),Y(y,"class","svelte-lu2tq7"),Y(v,"class","pause-title text-danger svelte-lu2tq7")},m(i,n){dt(i,v,n),s&&s.m(v,null),V(v,g),V(v,E),V(E,P),V(v,c),V(v,y),V(y,o)},p(i,n){i[0].isEndless?s?s.p(i,n):(s=dh(i),s.c(),s.m(v,g)):s&&(s.d(1),s=null),n&1&&M!==(M=i[0].gameOverReason+"")&&ee(P,M),n&1&&t!==(t=i[0].gameOverDescription+"")&&ee(o,t)},i(i){i&&(p||$e(()=>{p=Je(v,Vs,{delay:100}),p.start()}))},o:jt,d(i){i&&k(v),s&&s.d()}}}function fh(w){let v,g,E="Endless mode",M,P,c=w[0].day+"",y;return{c(){v=Q("h6"),g=Q("i"),g.textContent=E,M=mt(" — Day "),P=Q("b"),y=mt(c),this.h()},l(t){v=q(t,"H6",{class:!0});var o=nt(v);g=q(o,"I",{"data-svelte-h":!0}),Rt(g)!=="svelte-vkjq5"&&(g.textContent=E),M=gt(o," — Day "),P=q(o,"B",{});var p=nt(P);y=gt(p,c),p.forEach(k),o.forEach(k),this.h()},h(){Y(v,"class","svelte-lu2tq7")},m(t,o){dt(t,v,o),V(v,g),V(v,M),V(v,P),V(P,y)},p(t,o){o&1&&c!==(c=t[0].day+"")&&ee(y,c)},d(t){t&&k(v)}}}function dh(w){let v,g,E,M=w[0].day+"",P;return{c(){v=Q("h6"),g=mt("Day "),E=Q("b"),P=mt(M),this.h()},l(c){v=q(c,"H6",{class:!0});var y=nt(v);g=gt(y,"Day "),E=q(y,"B",{});var t=nt(E);P=gt(t,M),t.forEach(k),y.forEach(k),this.h()},h(){Y(v,"class","svelte-lu2tq7")},m(c,y){dt(c,v,y),V(v,g),V(v,E),V(E,P)},p(c,y){y&1&&M!==(M=c[0].day+"")&&ee(P,M)},d(c){c&&k(v)}}}function G0(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a,h,f,u,d,m,x,S;return E=new he({props:{size:"120%",$$slots:{default:[V0]},$$scope:{ctx:w}}}),y=new he({props:{size:"120%",$$slots:{default:[z0]},$$scope:{ctx:w}}}),s=new he({props:{size:"120%",$$slots:{default:[U0]},$$scope:{ctx:w}}}),l=new he({props:{size:"120%",$$slots:{default:[X0]},$$scope:{ctx:w}}}),u=new he({props:{size:"120%",$$slots:{default:[Y0]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("button"),Ut(E.$$.fragment),M=mt(" Resume game"),P=lt(),c=Q("button"),Ut(y.$$.fragment),t=mt(" Settings"),o=lt(),p=Q("button"),Ut(s.$$.fragment),i=mt(" Abandon game"),n=lt(),e=Q("div"),r=Q("button"),Ut(l.$$.fragment),a=mt(" How to play"),h=lt(),f=Q("button"),Ut(u.$$.fragment),d=mt(" Report a bug"),this.h()},l(T){v=q(T,"DIV",{class:!0});var C=nt(v);g=q(C,"BUTTON",{type:!0,class:!0});var A=nt(g);Wt(E.$$.fragment,A),M=gt(A," Resume game"),A.forEach(k),P=ht(C),c=q(C,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var b=nt(c);Wt(y.$$.fragment,b),t=gt(b," Settings"),b.forEach(k),o=ht(C),p=q(C,"BUTTON",{type:!0,class:!0});var R=nt(p);Wt(s.$$.fragment,R),i=gt(R," Abandon game"),R.forEach(k),C.forEach(k),n=ht(T),e=q(T,"DIV",{class:!0});var F=nt(e);r=q(F,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var L=nt(r);Wt(l.$$.fragment,L),a=gt(L," How to play"),L.forEach(k),h=ht(F),f=q(F,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var O=nt(f);Wt(u.$$.fragment,O),d=gt(O," Report a bug"),O.forEach(k),F.forEach(k),this.h()},h(){Y(g,"type","button"),Y(g,"class","btn btn-primary text-start svelte-lu2tq7"),Y(c,"type","button"),Y(c,"class","btn btn-secondary text-start svelte-lu2tq7"),Y(c,"data-bs-toggle","modal"),Y(c,"data-bs-target","#mdlSettings"),Y(p,"type","button"),Y(p,"class","btn btn-danger text-start svelte-lu2tq7"),Y(v,"class","pause-buttons-row svelte-lu2tq7"),Y(r,"type","button"),Y(r,"class","btn btn-secondary svelte-lu2tq7"),Y(r,"data-bs-toggle","modal"),Y(r,"data-bs-target","#mdlHelp"),Y(f,"type","button"),Y(f,"class","btn btn-secondary text-start svelte-lu2tq7"),Y(f,"data-bs-toggle","modal"),Y(f,"data-bs-target","#mdlReportBug"),Y(e,"class","pause-buttons-row svelte-lu2tq7")},m(T,C){dt(T,v,C),V(v,g),Xt(E,g,null),V(g,M),V(v,P),V(v,c),Xt(y,c,null),V(c,t),V(v,o),V(v,p),Xt(s,p,null),V(p,i),dt(T,n,C),dt(T,e,C),V(e,r),Xt(l,r,null),V(r,a),V(e,h),V(e,f),Xt(u,f,null),V(f,d),m=!0,x||(S=[ne(g,"click",w[2]),ne(p,"click",w[3])],x=!0)},p(T,C){const A={};C&16&&(A.$$scope={dirty:C,ctx:T}),E.$set(A);const b={};C&16&&(b.$$scope={dirty:C,ctx:T}),y.$set(b);const R={};C&16&&(R.$$scope={dirty:C,ctx:T}),s.$set(R);const F={};C&16&&(F.$$scope={dirty:C,ctx:T}),l.$set(F);const L={};C&16&&(L.$$scope={dirty:C,ctx:T}),u.$set(L)},i(T){m||(Tt(E.$$.fragment,T),Tt(y.$$.fragment,T),Tt(s.$$.fragment,T),Tt(l.$$.fragment,T),Tt(u.$$.fragment,T),m=!0)},o(T){wt(E.$$.fragment,T),wt(y.$$.fragment,T),wt(s.$$.fragment,T),wt(l.$$.fragment,T),wt(u.$$.fragment,T),m=!1},d(T){T&&(k(v),k(n),k(e)),Yt(E),Yt(y),Yt(s),Yt(l),Yt(u),x=!1,ui(S)}}}function N0(w){let v,g,E,M,P,c,y;return E=new he({props:{size:"120%",$$slots:{default:[$0]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("button"),Ut(E.$$.fragment),M=mt(" Return to main menu"),this.h()},l(t){v=q(t,"DIV",{class:!0});var o=nt(v);g=q(o,"BUTTON",{type:!0,class:!0});var p=nt(g);Wt(E.$$.fragment,p),M=gt(p," Return to main menu"),p.forEach(k),o.forEach(k),this.h()},h(){Y(g,"type","button"),Y(g,"class","btn btn-danger text-start svelte-lu2tq7"),Y(v,"class","pause-buttons-row svelte-lu2tq7")},m(t,o){dt(t,v,o),V(v,g),Xt(E,g,null),V(g,M),P=!0,c||(y=ne(g,"click",w[3]),c=!0)},p(t,o){const p={};o&16&&(p.$$scope={dirty:o,ctx:t}),E.$set(p)},i(t){P||(Tt(E.$$.fragment,t),P=!0)},o(t){wt(E.$$.fragment,t),P=!1},d(t){t&&k(v),Yt(E),c=!1,y()}}}function V0(w){let v;return{c(){v=mt("not_started")},l(g){v=gt(g,"not_started")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function z0(w){let v;return{c(){v=mt("settings")},l(g){v=gt(g,"settings")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function U0(w){let v;return{c(){v=mt("exit_to_app")},l(g){v=gt(g,"exit_to_app")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function X0(w){let v;return{c(){v=mt("question_mark")},l(g){v=gt(g,"question_mark")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Y0(w){let v;return{c(){v=mt("bug_report")},l(g){v=gt(g,"bug_report")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function $0(w){let v;return{c(){v=mt("exit_to_app")},l(g){v=gt(g,"exit_to_app")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function W0(w){let v,g,E,M,P,c,y,t,o,p,s;function i(h,f){return h[0].isGameOver?B0:I0}let n=i(w),e=n(w);const r=[N0,G0],l=[];function a(h,f){return h[0].isGameOver?0:1}return c=a(w),y=l[c]=r[c](w),{c(){v=Q("div"),g=Q("div"),E=lt(),e.c(),M=lt(),P=Q("div"),y.c(),o=lt(),p=Q("div"),this.h()},l(h){v=q(h,"DIV",{class:!0});var f=nt(v);g=q(f,"DIV",{class:!0}),nt(g).forEach(k),E=ht(f),e.l(f),M=ht(f),P=q(f,"DIV",{class:!0});var u=nt(P);y.l(u),u.forEach(k),o=ht(f),p=q(f,"DIV",{class:!0}),nt(p).forEach(k),f.forEach(k),this.h()},h(){Y(g,"class","pause-backdrop svelte-lu2tq7"),Y(P,"class","pause-buttons svelte-lu2tq7"),Y(p,"class","overlay-black svelte-lu2tq7"),Y(v,"class","pause svelte-lu2tq7")},m(h,f){dt(h,v,f),V(v,g),V(v,E),e.m(v,null),V(v,M),V(v,P),l[c].m(P,null),V(v,o),V(v,p),s=!0},p(h,[f]){n===(n=i(h))&&e?e.p(h,f):(e.d(1),e=n(h),e&&(e.c(),Tt(e,1),e.m(v,M)));let u=c;c=a(h),c===u?l[c].p(h,f):(Oe(),wt(l[u],1,1,()=>{l[u]=null}),De(),y=l[c],y?y.p(h,f):(y=l[c]=r[c](h),y.c()),Tt(y,1),y.m(P,null))},i(h){s||(Tt(e),Tt(y),h&&(t||$e(()=>{t=Je(P,Vs,{delay:300}),t.start()})),s=!0)},o(h){wt(y),s=!1},d(h){h&&k(v),e.d(),l[c].d()}}}function H0(w,v,g){let E;const M=de.state;Ve(w,M,y=>g(0,E=y));function P(){de.unpause()}function c(){(E.isGameOver||window.confirm("Are you sure you want to exit? Game progress will not be saved!"))&&de.stop()}return[E,M,P,c]}class k0 extends Se{constructor(v){super(),Ee(this,v,H0,W0,Te,{})}}function j0(w){let v,g,E,M=":",P;return{c(){v=Q("div"),g=mt(w[0]),E=Q("span"),E.textContent=M,P=mt(w[1]),this.h()},l(c){v=q(c,"DIV",{class:!0});var y=nt(v);g=gt(y,w[0]),E=q(y,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(E)!=="svelte-1lf9z3l"&&(E.textContent=M),P=gt(y,w[1]),y.forEach(k),this.h()},h(){Y(E,"class","blink svelte-y8jm5y"),Y(v,"class","clock svelte-y8jm5y")},m(c,y){dt(c,v,y),V(v,g),V(v,E),V(v,P)},p(c,[y]){y&1&&ee(g,c[0]),y&2&&ee(P,c[1])},i:jt,o:jt,d(c){c&&k(v)}}}function K0(w,v,g){let E;const M=de.gameTimeClock;Ve(w,M,s=>g(3,E=s));const P={hh:16,mm:0},c=new Date().getTimezoneOffset(),y=Math.floor(c/60),t=c%60;let o="16",p="00";return w.$$.update=()=>{if(w.$$.dirty&8){const s=Math.floor(E/60),i=Math.floor(E%60);g(0,o=String((P.hh+s-y)%24).padStart(2,"0")),g(1,p=String((P.mm+i-t)%60).padStart(2,"0"))}},[o,p,M,E]}class Z0 extends Se{constructor(v){super(),Ee(this,v,K0,j0,Te,{})}}function J0(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e;return E=new Z0({}),{c(){v=Q("div"),g=lt(),Ut(E.$$.fragment),M=lt(),P=Q("img"),y=lt(),t=Q("div"),o=Q("img"),s=lt(),i=Q("img"),this.h()},l(r){v=q(r,"DIV",{class:!0});var l=nt(v);g=ht(l),Wt(E.$$.fragment,l),M=ht(l),P=q(l,"IMG",{class:!0,src:!0,alt:!0}),y=ht(l),t=q(l,"DIV",{class:!0});var a=nt(t);o=q(a,"IMG",{class:!0,src:!0,alt:!0}),s=ht(a),i=q(a,"IMG",{class:!0,src:!0,alt:!0}),a.forEach(k),l.forEach(k),this.h()},h(){Y(P,"class","room svelte-3oddvj"),Ae(P.src,c="/pics/cam/room1.png")||Y(P,"src",c),Y(P,"alt","room"),Y(o,"class","forsen-face svelte-3oddvj"),Ae(o.src,p="/pics/cam/forsen-face.png")||Y(o,"src",p),Y(o,"alt","forsen"),Y(i,"class","forsen-mouth svelte-3oddvj"),Ae(i.src,n="/pics/cam/forsen-mouth.png")||Y(i,"src",n),Y(i,"alt","forsen-mouth"),Ht(i,"top",je(w[1]*Cr)),Ht(i,"transform",`scale(1, ${(Er-w[1]*Cr)/Er})`),Y(t,"class","forsen svelte-3oddvj"),Y(v,"class","camera svelte-3oddvj")},m(r,l){dt(r,v,l),V(v,g),Xt(E,v,null),V(v,M),V(v,P),V(v,y),V(v,t),V(t,o),V(t,s),V(t,i),e=!0},p(r,[l]){l&2&&Ht(i,"top",je(r[1]*Cr)),l&2&&Ht(i,"transform",`scale(1, ${(Er-r[1]*Cr)/Er})`)},i(r){e||(Tt(E.$$.fragment,r),e=!0)},o(r){wt(E.$$.fragment,r),e=!1},d(r){r&&k(v),Yt(E)}}}const Er=22,Cr=20,Q0=.07;function q0(w,v,g){let E;const P=de.forsen.speechGain;Ve(w,P,y=>g(0,E=y));let c=0;return w.$$.update=()=>{w.$$.dirty&1&&g(1,c=Math.max(0,Math.min(E-Q0,.15)))},[E,c,P]}class _0 extends Se{constructor(v){super(),Ee(this,v,q0,J0,Te,{})}}function t1(w){let v,g,E,M="💙",P,c,y,t,o,p,s="😡",i,n,e;return{c(){v=Q("div"),g=Q("div"),E=Q("div"),E.textContent=M,P=lt(),c=Q("div"),y=Q("div"),t=lt(),o=Q("div"),p=Q("div"),p.textContent=s,i=lt(),n=Q("div"),e=Q("div"),this.h()},l(r){v=q(r,"DIV",{class:!0});var l=nt(v);g=q(l,"DIV",{class:!0});var a=nt(g);E=q(a,"DIV",{class:!0,"data-svelte-h":!0}),Rt(E)!=="svelte-1m0h18x"&&(E.textContent=M),P=ht(a),c=q(a,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var h=nt(c);y=q(h,"DIV",{class:!0}),nt(y).forEach(k),h.forEach(k),a.forEach(k),t=ht(l),o=q(l,"DIV",{class:!0});var f=nt(o);p=q(f,"DIV",{class:!0,"data-svelte-h":!0}),Rt(p)!=="svelte-qnx6pl"&&(p.textContent=s),i=ht(f),n=q(f,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var u=nt(n);e=q(u,"DIV",{class:!0}),nt(e).forEach(k),u.forEach(k),f.forEach(k),l.forEach(k),this.h()},h(){Y(E,"class","me-1"),Y(y,"class","progress-bar progress-bar-striped bg-info"),Ht(y,"width",je(w[3])),Y(c,"class","progress svelte-11az9i9"),Y(c,"role","progressbar"),Y(c,"aria-label","Loyalty"),Y(c,"aria-valuenow",w[3]),Y(c,"aria-valuemin","0"),Y(c,"aria-valuemax","100"),pe(c,"dropping",w[1]-w[3]<-2*(w[3]>25)),Y(g,"class","d-flex"),Y(p,"class","me-1"),Y(e,"class","progress-bar progress-bar-striped bg-danger"),Ht(e,"width",je(w[4])),Y(n,"class","progress svelte-11az9i9"),Y(n,"role","progressbar"),Y(n,"aria-label","Rage"),Y(n,"aria-valuenow",w[4]),Y(n,"aria-valuemin","0"),Y(n,"aria-valuemax","100"),pe(n,"growing",w[2]-w[4]>2*(w[4]<75)),Y(o,"class","d-flex"),Y(v,"class","stats svelte-11az9i9"),pe(v,"demo",w[0])},m(r,l){dt(r,v,l),V(v,g),V(g,E),V(g,P),V(g,c),V(c,y),V(v,t),V(v,o),V(o,p),V(o,i),V(o,n),V(n,e)},p(r,[l]){l&8&&Ht(y,"width",je(r[3])),l&8&&Y(c,"aria-valuenow",r[3]),l&10&&pe(c,"dropping",r[1]-r[3]<-2*(r[3]>25)),l&16&&Ht(e,"width",je(r[4])),l&16&&Y(n,"aria-valuenow",r[4]),l&20&&pe(n,"growing",r[2]-r[4]>2*(r[4]<75)),l&1&&pe(v,"demo",r[0])},i:jt,o:jt,d(r){r&&k(v)}}}const e1=new Ye("gameover-loyalty","/sounds/gameover-loyalty.mp3",!1),i1=new Ye("gameover-rage","/sounds/gameover-rage.mp3",!1);function ch(w){w.isPlaying()||(w.isLoaded()||w.load(),w.play())}function s1(w,v,g){let E,M,{demo:P=!1}=v,c=80*P,y=45*P;const t=ki(c,{duration:800,easing:vn});Ve(w,t,p=>g(3,E=p));const o=ki(y,{duration:800,easing:vn});return Ve(w,o,p=>g(4,M=p)),ti(()=>{const p=P?new Li(()=>{g(1,c=te(10,90)),g(2,y=te(10,90)),t.set(c),o.set(y)},5e3):null,s=de.state.subscribe(i=>{P||i.isGameOver||(g(1,c=i.loyalty),t.set(i.loyalty).then(()=>{i.loyalty<=Ds.loyalty&&(s(),de.gameOver("Retired"),ch(e1))}),g(2,y=i.rage),o.set(i.rage).then(()=>{i.rage>=Ds.rage&&(s(),de.gameOver("Insanity"),ch(i1))}))});return()=>{p==null||p.clear(),s()}}),w.$$set=p=>{"demo"in p&&g(0,P=p.demo)},[P,c,y,E,M,t,o]}class Bu extends Se{constructor(v){super(),Ee(this,v,s1,t1,Te,{demo:0})}}function vh(w){let v,g,E,M,P,c,y,t,o;return P=new _0({}),y=new Bu({}),{c(){v=Q("div"),g=Q("div"),E=lt(),M=Q("div"),Ut(P.$$.fragment),c=lt(),Ut(y.$$.fragment),this.h()},l(p){v=q(p,"DIV",{class:!0});var s=nt(v);g=q(s,"DIV",{class:!0}),nt(g).forEach(k),E=ht(s),M=q(s,"DIV",{class:!0});var i=nt(M);Wt(P.$$.fragment,i),c=ht(i),Wt(y.$$.fragment,i),i.forEach(k),s.forEach(k),this.h()},h(){Y(g,"class","rage-indicator svelte-buvwyc"),pe(g,"insane",w[1]>40),Ht(g,"opacity",je(w[1])),Y(M,"class","game-info svelte-buvwyc"),Y(v,"class","game-info-container svelte-buvwyc")},m(p,s){dt(p,v,s),V(v,g),V(v,E),V(v,M),Xt(P,M,null),V(M,c),Xt(y,M,null),o=!0},p(p,s){(!o||s&2)&&pe(g,"insane",p[1]>40),s&2&&Ht(g,"opacity",je(p[1]))},i(p){o||(Tt(P.$$.fragment,p),Tt(y.$$.fragment,p),p&&(t||$e(()=>{t=Je(v,Di,{y:400,duration:1e3,delay:1300}),t.start()})),o=!0)},o(p){wt(P.$$.fragment,p),wt(y.$$.fragment,p),o=!1},d(p){p&&k(v),Yt(P),Yt(y)}}}function n1(w){let v,g,E=w[0].isCamEnabled&&vh(w);return{c(){E&&E.c(),v=Le()},l(M){E&&E.l(M),v=Le()},m(M,P){E&&E.m(M,P),dt(M,v,P),g=!0},p(M,[P]){M[0].isCamEnabled?E?(E.p(M,P),P&1&&Tt(E,1)):(E=vh(M),E.c(),Tt(E,1),E.m(v.parentNode,v)):E&&(Oe(),wt(E,1,1,()=>{E=null}),De())},i(M){g||(Tt(E),g=!0)},o(M){wt(E),g=!1},d(M){M&&k(v),E&&E.d(M)}}}function r1(w,v,g){let E,M;const P=de.state;Ve(w,P,y=>g(0,E=y));let c=ki(0,{duration:800});return Ve(w,c,y=>g(1,M=y)),w.$$.update=()=>{w.$$.dirty&1&&zi(c,M=Math.max(0,3.5*(E.rage-Ds.angry)),M)},[E,M,P,c]}class a1 extends Se{constructor(v){super(),Ee(this,v,r1,n1,Te,{})}}function o1(w){let v,g='<video src="/videos/forsen-wallpaper.mp4" muted="" autoplay="" loop="" class="svelte-13sn7gn"></video>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1dgn4w4"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","wallpaper svelte-13sn7gn"),pe(v,"blurry",w[0])},m(E,M){dt(E,v,M)},p(E,[M]){M&1&&pe(v,"blurry",E[0])},i:jt,o:jt,d(E){E&&k(v)}}}function l1(w,v,g){let{blurry:E=!1}=v;return w.$$set=M=>{"blurry"in M&&g(0,E=M.blurry)},[E]}class Gu extends Se{constructor(v){super(),Ee(this,v,l1,o1,Te,{blurry:0})}}function ph(w){let v,g,E=w[0].loyaltyScale.toPrecision(2)+"",M,P,c;return{c(){v=Q("div"),g=Q("b"),M=mt(E),P=mt("×"),c=mt(" loyalty modifier"),this.h()},l(y){v=q(y,"DIV",{class:!0});var t=nt(v);g=q(t,"B",{});var o=nt(g);M=gt(o,E),P=gt(o,"×"),o.forEach(k),c=gt(t," loyalty modifier"),t.forEach(k),this.h()},h(){Y(v,"class","stat-modifier text-info")},m(y,t){dt(y,v,t),V(v,g),V(g,M),V(g,P),V(v,c)},p(y,t){t&1&&E!==(E=y[0].loyaltyScale.toPrecision(2)+"")&&ee(M,E)},d(y){y&&k(v)}}}function mh(w){let v,g,E=w[0].rageScale.toPrecision(2)+"",M,P,c;return{c(){v=Q("div"),g=Q("b"),M=mt(E),P=mt("×"),c=mt(" rage modifier"),this.h()},l(y){v=q(y,"DIV",{class:!0});var t=nt(v);g=q(t,"B",{});var o=nt(g);M=gt(o,E),P=gt(o,"×"),o.forEach(k),c=gt(t," rage modifier"),t.forEach(k),this.h()},h(){Y(v,"class","stat-modifier text-danger")},m(y,t){dt(y,v,t),V(v,g),V(g,M),V(g,P),V(v,c)},p(y,t){t&1&&E!==(E=y[0].rageScale.toPrecision(2)+"")&&ee(M,E)},d(y){y&&k(v)}}}function h1(w){let v,g,E,M,P=w[0].day+"",c,y,t,o,p,s=w[0].loyaltyScale!==1&&ph(w),i=w[0].rageScale!==1&&mh(w);return{c(){v=Q("div"),g=Q("h1"),E=mt("Day "),M=Q("b"),c=mt(P),y=lt(),s&&s.c(),t=lt(),i&&i.c(),this.h()},l(n){v=q(n,"DIV",{class:!0});var e=nt(v);g=q(e,"H1",{class:!0});var r=nt(g);E=gt(r,"Day "),M=q(r,"B",{});var l=nt(M);c=gt(l,P),l.forEach(k),r.forEach(k),y=ht(e),s&&s.l(e),t=ht(e),i&&i.l(e),e.forEach(k),this.h()},h(){Y(g,"class","svelte-og66qd"),Y(v,"class","day svelte-og66qd")},m(n,e){dt(n,v,e),V(v,g),V(g,E),V(g,M),V(M,c),V(v,y),s&&s.m(v,null),V(v,t),i&&i.m(v,null),p=!0},p(n,[e]){(!p||e&1)&&P!==(P=n[0].day+"")&&ee(c,P),n[0].loyaltyScale!==1?s?s.p(n,e):(s=ph(n),s.c(),s.m(v,t)):s&&(s.d(1),s=null),n[0].rageScale!==1?i?i.p(n,e):(i=mh(n),i.c(),i.m(v,null)):i&&(i.d(1),i=null)},i(n){p||(n&&$e(()=>{p&&(o||(o=yi(v,Ns,{duration:500},!0)),o.run(1))}),p=!0)},o(n){n&&(o||(o=yi(v,Ns,{duration:500},!1)),o.run(0)),p=!1},d(n){n&&k(v),s&&s.d(),i&&i.d(),n&&o&&o.end()}}}function u1(w,v,g){let E;const M=de.state;return Ve(w,M,P=>g(0,E=P)),[E,M]}class f1 extends Se{constructor(v){super(),Ee(this,v,u1,h1,Te,{})}}function gh(w){let v,g;return v=new f1({}),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function xh(w){let v,g;return v=new k0({}),{c(){Ut(v.$$.fragment)},l(E){Wt(v.$$.fragment,E)},m(E,M){Xt(v,E,M),g=!0},i(E){g||(Tt(v.$$.fragment,E),g=!0)},o(E){wt(v.$$.fragment,E),g=!1},d(E){Yt(v,E)}}}function d1(w){let v,g,E,M,P,c,y,t,o,p,s;g=new Gu({}),P=new a1({});let i=w[1].isEndless&&w[2]<0&&gh(),n=w[1].isPaused&&xh();return{c(){v=Q("section"),Ut(g.$$.fragment),E=lt(),M=Q("div"),Ut(P.$$.fragment),c=lt(),y=Q("div"),t=lt(),i&&i.c(),o=lt(),n&&n.c(),this.h()},l(e){v=q(e,"SECTION",{id:!0,class:!0});var r=nt(v);Wt(g.$$.fragment,r),E=ht(r),M=q(r,"DIV",{class:!0});var l=nt(M);Wt(P.$$.fragment,l),l.forEach(k),c=ht(r),y=q(r,"DIV",{id:!0,class:!0}),nt(y).forEach(k),t=ht(r),i&&i.l(r),o=ht(r),n&&n.l(r),r.forEach(k),this.h()},h(){Y(M,"class","overlay svelte-1vtmv3b"),Y(y,"id",Lu),Y(y,"class","overlay svelte-1vtmv3b"),Y(v,"id",w[0]),Y(v,"class","svelte-1vtmv3b")},m(e,r){dt(e,v,r),Xt(g,v,null),V(v,E),V(v,M),Xt(P,M,null),V(v,c),V(v,y),V(v,t),i&&i.m(v,null),V(v,o),n&&n.m(v,null),s=!0},p(e,[r]){e[1].isEndless&&e[2]<0?i?r&6&&Tt(i,1):(i=gh(),i.c(),Tt(i,1),i.m(v,o)):i&&(Oe(),wt(i,1,1,()=>{i=null}),De()),e[1].isPaused?n?r&2&&Tt(n,1):(n=xh(),n.c(),Tt(n,1),n.m(v,null)):n&&(Oe(),wt(n,1,1,()=>{n=null}),De()),(!s||r&1)&&Y(v,"id",e[0])},i(e){s||(Tt(g.$$.fragment,e),Tt(P.$$.fragment,e),Tt(i),Tt(n),e&&(p||$e(()=>{p=Je(v,Ns,{}),p.start()})),s=!0)},o(e){wt(g.$$.fragment,e),wt(P.$$.fragment,e),wt(i),wt(n),s=!1},d(e){e&&k(v),Yt(g),Yt(P),i&&i.d(),n&&n.d()}}}function c1(w,v,g){let E,M,{id:P}=v;const c=de.state;Ve(w,c,t=>g(1,E=t));const y=de.gameTimeClock;return Ve(w,y,t=>g(2,M=t)),w.$$set=t=>{"id"in t&&g(0,P=t.id)},[P,E,M,c,y]}class v1 extends Se{constructor(v){super(),Ee(this,v,c1,d1,Te,{id:0})}}function p1(w){let v,g,E="Changelogs";return{c(){v=mt("| "),g=Q("a"),g.textContent=E,this.h()},l(M){v=gt(M,"| "),g=q(M,"A",{href:!0,"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),Rt(g)!=="svelte-1boobgd"&&(g.textContent=E),this.h()},h(){Y(g,"href","#"),Y(g,"data-bs-toggle","modal"),Y(g,"data-bs-target","#mdlChangelogs")},m(M,P){dt(M,v,P),dt(M,g,P)},p:jt,d(M){M&&(k(v),k(g))}}}function m1(w){let v,g,E,M,P,c;return{c(){v=mt("| Build "),g=Q("b"),E=mt(mo),M=mt(" | Updated: "),P=Q("b"),c=mt(w[2])},l(y){v=gt(y,"| Build "),g=q(y,"B",{});var t=nt(g);E=gt(t,mo),t.forEach(k),M=gt(y," | Updated: "),P=q(y,"B",{});var o=nt(P);c=gt(o,w[2]),o.forEach(k)},m(y,t){dt(y,v,t),dt(y,g,t),V(g,E),dt(y,M,t),dt(y,P,t),V(P,c)},p:jt,d(y){y&&(k(v),k(g),k(M),k(P))}}}function g1(w){let v,g,E,M,P;function c(o,p){return o[0]?m1:p1}let y=c(w),t=y(w);return{c(){v=Q("div"),g=Q("b"),E=mt("v"),M=mt(w[1]),P=lt(),t.c()},l(o){v=q(o,"DIV",{});var p=nt(v);g=q(p,"B",{});var s=nt(g);E=gt(s,"v"),M=gt(s,w[1]),s.forEach(k),P=ht(p),t.l(p),p.forEach(k)},m(o,p){dt(o,v,p),V(v,g),V(g,E),V(g,M),V(v,P),t.m(v,null)},p(o,[p]){y===(y=c(o))&&t?t.p(o,p):(t.d(1),t=y(o),t&&(t.c(),t.m(v,null)))},i:jt,o:jt,d(o){o&&k(v),t.d()}}}function x1(w,v,g){const E="1.2.0",M="2024-10-09 13:12:53";let{extended:P=!1}=v;return w.$$set=c=>{"extended"in c&&g(0,P=c.extended)},[P,E,M]}class Nu extends Se{constructor(v){super(),Ee(this,v,x1,g1,Te,{extended:0})}}function yh(w){let v,g="⚠️ Consider enabling <b>hardware acceleration</b> for better performance";return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-8utlim"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","alert alert-warning opacity-75")},m(E,M){dt(E,v,M)},d(E){E&&k(v)}}}function y1(w){let v,g,E,M,P=w[1]&&yh();return{c(){v=Q("div"),g=Q("div"),E=Q("canvas"),M=lt(),P&&P.c(),this.h()},l(c){v=q(c,"DIV",{class:!0});var y=nt(v);g=q(y,"DIV",{style:!0});var t=nt(g);E=q(t,"CANVAS",{}),nt(E).forEach(k),t.forEach(k),M=ht(y),P&&P.l(y),y.forEach(k),this.h()},h(){Ht(g,"display","none"),Y(v,"class","w-25 mt-2")},m(c,y){dt(c,v,y),V(v,g),V(g,E),w[2](E),V(v,M),P&&P.m(v,null)},p(c,[y]){c[1]?P||(P=yh(),P.c(),P.m(v,null)):P&&(P.d(1),P=null)},i:jt,o:jt,d(c){c&&k(v),w[2](null),P&&P.d()}}}function T1(w,v,g){let E,M=!1;const P=["Software","SwiftShader","LLVMpipe","Microsoft Basic Render Driver","Mesa"];function c(){try{const t=E.getContext("webgl")||E.getContext("experimental-webgl");if(t&&t instanceof WebGLRenderingContext){const o=t.getExtension("WEBGL_debug_renderer_info"),p=t.getParameter(o.UNMASKED_RENDERER_WEBGL);g(1,M=P.some(s=>p.includes(s))),console.info("Hardware acceleration check: STATUS: ",!M," | RENDERER: ",p)}}catch(t){console.warn("Cannot determine state of HW acceleration! | An error occured during check: ",t)}}ti(c);function y(t){Vi[t?"unshift":"push"](()=>{E=t,g(0,E)})}return[E,M,y]}class S1 extends Se{constructor(v){super(),Ee(this,v,T1,y1,Te,{})}}function ua(w){const v=w.slice(),g=rx();return v[8]=g,v}function E1(w){let v,g=`🎉 Vote for this game in
        <a href="https://nympts.com/gamejam" target="_blank">NymN&#39;s Game Jam</a>! 🎉`;return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1l45evt"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","game-jam svelte-1ygtwkd")},m(E,M){dt(E,v,M)},d(E){E&&k(v)}}}function C1(w){let v,g=`<b class="svelte-1ygtwkd">Preview build:</b> some features may be incomplete
        <br/>or missing, and a bug or two may sneak in 🤷‍♂️`;return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1qudng6"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","demo svelte-1ygtwkd")},m(E,M){dt(E,v,M)},d(E){E&&k(v)}}}function A1(w){let v;return{c(){v=mt("not_started")},l(g){v=gt(g,"not_started")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Th(w){let v,g,E,M;const P=[M1,w1],c=[];function y(t,o){return t[8]>0?0:1}return v=y(w),g=c[v]=P[v](w),{c(){g.c(),E=Le()},l(t){g.l(t),E=Le()},m(t,o){c[v].m(t,o),dt(t,E,o),M=!0},p(t,o){g.p(t,o)},i(t){M||(Tt(g),M=!0)},o(t){wt(g),M=!1},d(t){t&&k(E),c[v].d(t)}}}function w1(w){let v,g,E,M,P="Endless mode",c;return g=new he({props:{size:"130%",$$slots:{default:[b1]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),E=lt(),M=Q("span"),M.textContent=P,this.h()},l(y){v=q(y,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var t=nt(v);Wt(g.$$.fragment,t),E=ht(t),M=q(t,"SPAN",{"data-svelte-h":!0}),Rt(M)!=="svelte-1szi8ld"&&(M.textContent=P),t.forEach(k),this.h()},h(){Y(v,"type","button"),Y(v,"class","btn btn-info svelte-1ygtwkd"),Y(v,"data-bs-toggle","modal"),Y(v,"data-bs-target","#mdlEndless")},m(y,t){dt(y,v,t),Xt(g,v,null),V(v,E),V(v,M),c=!0},p(y,t){const o={};t&512&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){c||(Tt(g.$$.fragment,y),c=!0)},o(y){wt(g.$$.fragment,y),c=!1},d(y){y&&k(v),Yt(g)}}}function M1(w){let v,g,E,M,P,c="Continue run",y,t,o,p,s,i,n,e;return g=new he({props:{size:"130%",$$slots:{default:[P1]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),E=lt(),M=Q("div"),P=Q("div"),P.textContent=c,y=lt(),t=Q("small"),o=mt("Day "),p=Q("b"),s=mt(w[8]),this.h()},l(r){v=q(r,"BUTTON",{type:!0,class:!0});var l=nt(v);Wt(g.$$.fragment,l),E=ht(l),M=q(l,"DIV",{class:!0});var a=nt(M);P=q(a,"DIV",{"data-svelte-h":!0}),Rt(P)!=="svelte-16zh82g"&&(P.textContent=c),y=ht(a),t=q(a,"SMALL",{class:!0});var h=nt(t);o=gt(h,"Day "),p=q(h,"B",{});var f=nt(p);s=gt(f,w[8]),f.forEach(k),h.forEach(k),a.forEach(k),l.forEach(k),this.h()},h(){Y(t,"class","svelte-1ygtwkd"),Y(M,"class","d-flex flex-column text-end"),Y(v,"type","button"),Y(v,"class","btn btn-info svelte-1ygtwkd")},m(r,l){dt(r,v,l),Xt(g,v,null),V(v,E),V(v,M),V(M,P),V(M,y),V(M,t),V(t,o),V(t,p),V(p,s),i=!0,n||(e=ne(v,"click",w[5]),n=!0)},p(r,l){const a={};l&512&&(a.$$scope={dirty:l,ctx:r}),g.$set(a)},i(r){i||(Tt(g.$$.fragment,r),i=!0)},o(r){wt(g.$$.fragment,r),i=!1},d(r){r&&k(v),Yt(g),n=!1,e()}}}function b1(w){let v;return{c(){v=mt("video_library")},l(g){v=gt(g,"video_library")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function P1(w){let v;return{c(){v=mt("video_library")},l(g){v=gt(g,"video_library")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function R1(w){let v;return{c(){v=mt("settings")},l(g){v=gt(g,"settings")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function L1(w){let v;return{c(){v=mt("question_mark")},l(g){v=gt(g,"question_mark")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function F1(w){let v;return{c(){v=mt("bug_report")},l(g){v=gt(g,"bug_report")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function O1(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a,h,f,u="New game",d,m,x,S,T,C,A="Settings",b,R,F,L,O,I="How to play",B,U,H,J,tt,X="Report a bug",j,D,z,$,K;g=new Gu({props:{blurry:!0}}),P=new Nf({});let Z=w[3]&&E1();t=new S1({});let it=w[2]&&C1();n=new Nu({}),a=new he({props:{size:"130%",$$slots:{default:[A1]},$$scope:{ctx:w}}});let st=w[1].endless&&Th(ua(w));return S=new he({props:{size:"130%",$$slots:{default:[R1]},$$scope:{ctx:w}}}),F=new he({props:{size:"130%",$$slots:{default:[L1]},$$scope:{ctx:w}}}),H=new he({props:{size:"130%",$$slots:{default:[F1]},$$scope:{ctx:w}}}),{c(){v=Q("section"),Ut(g.$$.fragment),E=lt(),M=Q("div"),Ut(P.$$.fragment),c=lt(),Z&&Z.c(),y=lt(),Ut(t.$$.fragment),p=lt(),s=Q("div"),it&&it.c(),i=lt(),Ut(n.$$.fragment),e=lt(),r=Q("div"),l=Q("button"),Ut(a.$$.fragment),h=lt(),f=Q("span"),f.textContent=u,d=lt(),st&&st.c(),m=lt(),x=Q("button"),Ut(S.$$.fragment),T=lt(),C=Q("span"),C.textContent=A,b=lt(),R=Q("button"),Ut(F.$$.fragment),L=lt(),O=Q("span"),O.textContent=I,B=lt(),U=Q("button"),Ut(H.$$.fragment),J=lt(),tt=Q("span"),tt.textContent=X,this.h()},l(at){v=q(at,"SECTION",{id:!0,class:!0});var ut=nt(v);Wt(g.$$.fragment,ut),E=ht(ut),M=q(ut,"DIV",{class:!0});var vt=nt(M);Wt(P.$$.fragment,vt),c=ht(vt),Z&&Z.l(vt),y=ht(vt),Wt(t.$$.fragment,vt),vt.forEach(k),p=ht(ut),s=q(ut,"DIV",{class:!0});var xt=nt(s);it&&it.l(xt),i=ht(xt),Wt(n.$$.fragment,xt),xt.forEach(k),e=ht(ut),r=q(ut,"DIV",{class:!0});var Et=nt(r);l=q(Et,"BUTTON",{type:!0,class:!0});var yt=nt(l);Wt(a.$$.fragment,yt),h=ht(yt),f=q(yt,"SPAN",{"data-svelte-h":!0}),Rt(f)!=="svelte-1ukeily"&&(f.textContent=u),yt.forEach(k),d=ht(Et),st&&st.l(Et),m=ht(Et),x=q(Et,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var bt=nt(x);Wt(S.$$.fragment,bt),T=ht(bt),C=q(bt,"SPAN",{"data-svelte-h":!0}),Rt(C)!=="svelte-1vto2yn"&&(C.textContent=A),bt.forEach(k),b=ht(Et),R=q(Et,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var Dt=nt(R);Wt(F.$$.fragment,Dt),L=ht(Dt),O=q(Dt,"SPAN",{"data-svelte-h":!0}),Rt(O)!=="svelte-17uvk0b"&&(O.textContent=I),Dt.forEach(k),B=ht(Et),U=q(Et,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var Vt=nt(U);Wt(H.$$.fragment,Vt),J=ht(Vt),tt=q(Vt,"SPAN",{"data-svelte-h":!0}),Rt(tt)!=="svelte-1vpnj4t"&&(tt.textContent=X),Vt.forEach(k),Et.forEach(k),ut.forEach(k),this.h()},h(){Y(M,"class","game-title svelte-1ygtwkd"),Y(s,"class","build svelte-1ygtwkd"),Y(l,"type","button"),Y(l,"class","btn btn-primary svelte-1ygtwkd"),Y(x,"type","button"),Y(x,"class","btn btn-secondary svelte-1ygtwkd"),Y(x,"data-bs-toggle","modal"),Y(x,"data-bs-target","#mdlSettings"),Y(R,"type","button"),Y(R,"class","btn btn-secondary svelte-1ygtwkd"),Y(R,"data-bs-toggle","modal"),Y(R,"data-bs-target","#mdlHelp"),Y(U,"type","button"),Y(U,"class","btn btn-secondary svelte-1ygtwkd"),Y(U,"data-bs-toggle","modal"),Y(U,"data-bs-target","#mdlReportBug"),Y(r,"class","menu-buttons svelte-1ygtwkd"),Y(v,"id",w[0]),Y(v,"class","svelte-1ygtwkd")},m(at,ut){dt(at,v,ut),Xt(g,v,null),V(v,E),V(v,M),Xt(P,M,null),V(M,c),Z&&Z.m(M,null),V(M,y),Xt(t,M,null),V(v,p),V(v,s),it&&it.m(s,null),V(s,i),Xt(n,s,null),V(v,e),V(v,r),V(r,l),Xt(a,l,null),V(l,h),V(l,f),V(r,d),st&&st.m(r,null),V(r,m),V(r,x),Xt(S,x,null),V(x,T),V(x,C),V(r,b),V(r,R),Xt(F,R,null),V(R,L),V(R,O),V(r,B),V(r,U),Xt(H,U,null),V(U,J),V(U,tt),z=!0,$||(K=ne(l,"click",w[4]),$=!0)},p(at,[ut]){const vt={};ut&512&&(vt.$$scope={dirty:ut,ctx:at}),a.$set(vt),at[1].endless?st?(st.p(ua(at),ut),ut&2&&Tt(st,1)):(st=Th(ua(at)),st.c(),Tt(st,1),st.m(r,m)):st&&(Oe(),wt(st,1,1,()=>{st=null}),De());const xt={};ut&512&&(xt.$$scope={dirty:ut,ctx:at}),S.$set(xt);const Et={};ut&512&&(Et.$$scope={dirty:ut,ctx:at}),F.$set(Et);const yt={};ut&512&&(yt.$$scope={dirty:ut,ctx:at}),H.$set(yt),(!z||ut&1)&&Y(v,"id",at[0])},i(at){z||(Tt(g.$$.fragment,at),Tt(P.$$.fragment,at),Tt(t.$$.fragment,at),at&&(o||$e(()=>{o=Je(M,Di,{duration:800,y:-300}),o.start()})),Tt(n.$$.fragment,at),Tt(a.$$.fragment,at),Tt(st),Tt(S.$$.fragment,at),Tt(F.$$.fragment,at),Tt(H.$$.fragment,at),at&&(j||$e(()=>{j=Je(r,Di,{delay:500,duration:800,x:300}),j.start()})),at&&(D||$e(()=>{D=Je(v,Ns,{}),D.start()})),z=!0)},o(at){wt(g.$$.fragment,at),wt(P.$$.fragment,at),wt(t.$$.fragment,at),wt(n.$$.fragment,at),wt(a.$$.fragment,at),wt(st),wt(S.$$.fragment,at),wt(F.$$.fragment,at),wt(H.$$.fragment,at),z=!1},d(at){at&&k(v),Yt(g),Yt(P),Z&&Z.d(),Yt(t),it&&it.d(),Yt(n),Yt(a),st&&st.d(),Yt(S),Yt(F),Yt(H),$=!1,K()}}}function D1(w,v,g){let E;Ve(w,qe,p=>g(1,E=p));let{id:M}=v;const P="1.2.0",c=P.startsWith("0.")||P.endsWith("b"),y=new Date<new Date("2024-10-20");function t(){console.info("Starting new game..."),de.reset(!1).start()}function o(){console.info("Restoring ENDLESS game..."),de.reset(!0).continueStoredEndlessRun().nextDay()}return w.$$set=p=>{"id"in p&&g(0,M=p.id)},[M,E,c,y,t,o]}class Sh extends Se{constructor(v){super(),Ee(this,v,D1,O1,Te,{id:0})}}const{window:I1}=Yf;function B1(w){let v,g='<span class="visually-hidden">Loading...</span>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-17s1mvu"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","spinner-border text-secondary me-2"),Y(v,"role","status"),Y(v,"title","Loading...")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}function G1(w){let v;function g(P,c){var y,t;return(y=P[0])!=null&&y.busy||(t=P[1])!=null&&t.busy?z1:V1}let E=g(w),M=E(w);return{c(){M.c(),v=Le()},l(P){M.l(P),v=Le()},m(P,c){M.m(P,c),dt(P,v,c)},p(P,c){E===(E=g(P))&&M?M.p(P,c):(M.d(1),M=E(P),M&&(M.c(),M.m(v.parentNode,v)))},i:jt,o:jt,d(P){P&&k(v),M.d(P)}}}function N1(w){let v,g,E,M,P,c="Connected to:",y,t,o=w[0].channel+"",p,s,i,n,e,r,l={ctx:w,current:null,token:null,hasCatch:!0,pending:Y1,then:X1,catch:U1,value:6};go(g=da(w[0].channel),l);const a=[W1,$1],h=[];function f(u,d){return u[2].isStarted?0:1}return n=f(w),e=h[n]=a[n](w),{c(){v=Q("div"),l.block.c(),E=lt(),M=Q("div"),P=Q("span"),P.textContent=c,y=lt(),t=Q("b"),p=mt(o),s=lt(),i=Q("div"),e.c(),this.h()},l(u){v=q(u,"DIV",{class:!0});var d=nt(v);l.block.l(d),d.forEach(k),E=ht(u),M=q(u,"DIV",{class:!0});var m=nt(M);P=q(m,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(P)!=="svelte-4izmev"&&(P.textContent=c),y=ht(m),t=q(m,"B",{class:!0});var x=nt(t);p=gt(x,o),x.forEach(k),m.forEach(k),s=ht(u),i=q(u,"DIV",{class:!0});var S=nt(i);e.l(S),S.forEach(k),this.h()},h(){Y(v,"class","my-auto me-2"),Y(P,"class","d-block small-caption svelte-1jw0j1w"),Y(t,"class","m-0"),Y(M,"class","text-start"),Y(i,"class","ms-auto")},m(u,d){dt(u,v,d),l.block.m(v,l.anchor=null),l.mount=()=>v,l.anchor=null,dt(u,E,d),dt(u,M,d),V(M,P),V(M,y),V(M,t),V(t,p),dt(u,s,d),dt(u,i,d),h[n].m(i,null),r=!0},p(u,d){w=u,l.ctx=w,d&1&&g!==(g=da(w[0].channel))&&go(g,l)||kf(l,w,d),(!r||d&1)&&o!==(o=w[0].channel+"")&&ee(p,o);let m=n;n=f(w),n===m?h[n].p(w,d):(Oe(),wt(h[m],1,1,()=>{h[m]=null}),De(),e=h[n],e?e.p(w,d):(e=h[n]=a[n](w),e.c()),Tt(e,1),e.m(i,null))},i(u){r||(Tt(l.block),Tt(e),r=!0)},o(u){wt(e),r=!1},d(u){u&&(k(v),k(E),k(M),k(s),k(i)),l.block.d(),l.token=null,l=null,h[n].d()}}}function V1(w){let v,g='<img src="/pics/icons/twitch.svg" alt="Twitch" width="24" height="24" class="d-inline-block align-text-top"/> <span>Connect</span>',E,M;return{c(){v=Q("button"),v.innerHTML=g,this.h()},l(P){v=q(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-oikqqq"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","btn btn-twitch shadow svelte-1jw0j1w")},m(P,c){dt(P,v,c),E||(M=[ne(v,"click",j1),Ai(wi.call(null,v,{placement:"left",content:"Log in using your Twitch account"}))],E=!0)},p:jt,d(P){P&&k(v),E=!1,ui(M)}}}function z1(w){let v,g='<span class="visually-hidden">Connecting...</span>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-dsdgf8"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","spinner-border text-secondary me-2"),Y(v,"role","status"),Y(v,"title","Connecting...")},m(E,M){dt(E,v,M)},p:jt,d(E){E&&k(v)}}}function U1(w){let v,g,E,M;return{c(){v=Q("img"),this.h()},l(P){v=q(P,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(v.src,g="/pics/portraits/wesker.webp")||Y(v,"src",g),Y(v,"alt",E=w[0].channel),Y(v,"class","portrait svelte-1jw0j1w")},m(P,c){dt(P,v,c)},p(P,c){c&1&&E!==(E=P[0].channel)&&Y(v,"alt",E)},i(P){P&&(M||$e(()=>{M=Je(v,$i,{duration:200}),M.start()}))},o:jt,d(P){P&&k(v)}}}function X1(w){let v,g,E,M;return{c(){v=Q("img"),this.h()},l(P){v=q(P,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(v.src,g=w[6].profile_image_url)||Y(v,"src",g),Y(v,"alt",E=w[0].channel),Y(v,"class","portrait svelte-1jw0j1w")},m(P,c){dt(P,v,c)},p(P,c){c&1&&!Ae(v.src,g=P[6].profile_image_url)&&Y(v,"src",g),c&1&&E!==(E=P[0].channel)&&Y(v,"alt",E)},i(P){P&&(M||$e(()=>{M=Je(v,$i,{duration:200}),M.start()}))},o:jt,d(P){P&&k(v)}}}function Y1(w){let v,g='<span class="visually-hidden">Loading...</span>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-xdwo5"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","spinner-border text-secondary me-2 portrait svelte-1jw0j1w"),Y(v,"role","status"),Y(v,"title","Loading...")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}function $1(w){let v,g,E,M,P="Disconnect",c,y,t,o;return g=new he({props:{size:"120%",$$slots:{default:[H1]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),E=lt(),M=Q("span"),M.textContent=P,this.h()},l(p){v=q(p,"BUTTON",{class:!0});var s=nt(v);Wt(g.$$.fragment,s),E=ht(s),M=q(s,"SPAN",{"data-svelte-h":!0}),Rt(M)!=="svelte-19inpfs"&&(M.textContent=P),s.forEach(k),this.h()},h(){Y(v,"class","btn btn-outline btn-twitch text-start svelte-1jw0j1w"),v.disabled=c=w[2].isStarted},m(p,s){dt(p,v,s),Xt(g,v,null),V(v,E),V(v,M),y=!0,t||(o=[ne(v,"click",w[5]),Ai(wi.call(null,v,{placement:"left",content:"Disconnect from chat and log out"}))],t=!0)},p(p,s){const i={};s&128&&(i.$$scope={dirty:s,ctx:p}),g.$set(i),(!y||s&4&&c!==(c=p[2].isStarted))&&(v.disabled=c)},i(p){y||(Tt(g.$$.fragment,p),y=!0)},o(p){wt(g.$$.fragment,p),y=!1},d(p){p&&k(v),Yt(g),t=!1,ui(o)}}}function W1(w){let v,g="Cannot disconnect during active game!";return{c(){v=Q("div"),v.textContent=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-9y0eym"&&(v.textContent=g),this.h()},h(){Y(v,"class","text-warning opacity-50"),Ht(v,"font-size",".75em")},m(E,M){dt(E,v,M)},p:jt,i:jt,o:jt,d(E){E&&k(v)}}}function H1(w){let v;return{c(){v=mt("")},l(g){v=gt(g,"")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function k1(w){let v,g,E,M,P,c;const y=[N1,G1,B1],t=[];function o(p,s){var i,n,e,r;return(i=p[0])!=null&&i.connected&&((n=p[1])!=null&&n.valid)?0:!((e=p[0])!=null&&e.connected)&&!((r=p[1])!=null&&r.valid)?1:2}return g=o(w),E=t[g]=y[g](w),{c(){v=Q("div"),E.c(),this.h()},l(p){v=q(p,"DIV",{class:!0});var s=nt(v);E.l(s),s.forEach(k),this.h()},h(){Y(v,"class","container px-2 py-1 svelte-1jw0j1w")},m(p,s){dt(p,v,s),t[g].m(v,null),M=!0,P||(c=ne(I1,"message",w[4]),P=!0)},p(p,[s]){let i=g;g=o(p),g===i?t[g].p(p,s):(Oe(),wt(t[i],1,1,()=>{t[i]=null}),De(),E=t[g],E?E.p(p,s):(E=t[g]=y[g](p),E.c()),Tt(E,1),E.m(v,null))},i(p){M||(Tt(E),M=!0)},o(p){wt(E),M=!1},d(p){p&&k(v),t[g].d(),P=!1,c()}}}function j1(){var g,E;const w={left:(((g=window.screen)==null?void 0:g.width)||100)/3,top:(((E=window.screen)==null?void 0:E.height)||100)/3};w.width=Math.max(w.left,480),w.height=Math.max(w.top,360);let v="";for(const M in w)v+=`,${M}=${w[M]}`;window.open("authorize","_blank","popup"+v)}function K1(w,v,g){let E,M,P;Ve(w,Hh,o=>g(0,E=o)),Ve(w,Ua,o=>g(1,M=o));const c=de.state;Ve(w,c,o=>g(2,P=o));function y(o){if(!(!o.data||o.data.type!=="auth")){if(o.origin!==window.location.origin){console.warn("Event ignored: bad origin",o);return}o.data.result?_i.doUserAuth(o.data.token):t()}}function t(){_i.doUserAuth(null),Vf("",!0)}return[E,M,P,c,y,t]}class Vu extends Se{constructor(v){super(),Ee(this,v,K1,k1,Te,{})}}function Eh(w){let v,g,E,M,P,c;const y=[J1,Z1],t=[];function o(p,s){return p[1]?0:1}return g=o(w),E=t[g]=y[g](w),{c(){v=Q("button"),E.c(),this.h()},l(p){v=q(p,"BUTTON",{class:!0});var s=nt(v);E.l(s),s.forEach(k),this.h()},h(){Y(v,"class","btn btn-info mt-4"),v.disabled=w[1]},m(p,s){dt(p,v,s),t[g].m(v,null),M=!0,P||(c=ne(v,"click",w[3]),P=!0)},p(p,s){let i=g;g=o(p),g!==i&&(Oe(),wt(t[i],1,1,()=>{t[i]=null}),De(),E=t[g],E||(E=t[g]=y[g](p),E.c()),Tt(E,1),E.m(v,null)),(!M||s&2)&&(v.disabled=p[1])},i(p){M||(Tt(E),M=!0)},o(p){wt(E),M=!1},d(p){p&&k(v),t[g].d(),P=!1,c()}}}function Z1(w){let v,g,E;return v=new he({props:{size:"125%",$$slots:{default:[Q1]},$$scope:{ctx:w}}}),{c(){Ut(v.$$.fragment),g=mt(" Confirm and start game")},l(M){Wt(v.$$.fragment,M),g=gt(M," Confirm and start game")},m(M,P){Xt(v,M,P),dt(M,g,P),E=!0},i(M){E||(Tt(v.$$.fragment,M),E=!0)},o(M){wt(v.$$.fragment,M),E=!1},d(M){M&&k(g),Yt(v,M)}}}function J1(w){let v,g='<span class="visually-hidden">Loading...</span>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-f67dlm"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","spinner-border text-secondary me-2"),Y(v,"role","status"),Y(v,"title","Loading...")},m(E,M){dt(E,v,M)},i:jt,o:jt,d(E){E&&k(v)}}}function Q1(w){let v;return{c(){v=mt("recommend")},l(g){v=gt(g,"recommend")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function q1(w){let v,g,E,M,P,c="Sign In Required",y,t,o="To play this game, you need to sign in with your Twitch account.",p,s,i="This allows making requests to Twitch for emotes, badges etc., and additionally you can play with your chat.",n,e,r,l,a="Click the button below to sign in with Twitch:",h,f,u,d,m,x;f=new Vu({});let S=w[2].valid&&Eh(w);return{c(){v=Q("div"),g=Q("div"),E=lt(),M=Q("div"),P=Q("h2"),P.textContent=c,y=lt(),t=Q("p"),t.textContent=o,p=lt(),s=Q("p"),s.textContent=i,n=lt(),e=Q("div"),r=lt(),l=Q("p"),l.textContent=a,h=lt(),Ut(f.$$.fragment),u=lt(),S&&S.c(),d=lt(),m=Q("div"),this.h()},l(T){v=q(T,"DIV",{class:!0,id:!0});var C=nt(v);g=q(C,"DIV",{class:!0}),nt(g).forEach(k),E=ht(C),M=q(C,"DIV",{class:!0});var A=nt(M);P=q(A,"H2",{class:!0,"data-svelte-h":!0}),Rt(P)!=="svelte-b3j0tg"&&(P.textContent=c),y=ht(A),t=q(A,"P",{"data-svelte-h":!0}),Rt(t)!=="svelte-1bigl3e"&&(t.textContent=o),p=ht(A),s=q(A,"P",{"data-svelte-h":!0}),Rt(s)!=="svelte-181w788"&&(s.textContent=i),n=ht(A),e=q(A,"DIV",{class:!0}),nt(e).forEach(k),r=ht(A),l=q(A,"P",{"data-svelte-h":!0}),Rt(l)!=="svelte-xfmz80"&&(l.textContent=a),h=ht(A),Wt(f.$$.fragment,A),u=ht(A),S&&S.l(A),A.forEach(k),d=ht(C),m=q(C,"DIV",{class:!0}),nt(m).forEach(k),C.forEach(k),this.h()},h(){Y(g,"class","col"),Y(P,"class","mb-4"),Y(e,"class","h-25"),Y(M,"class","col-6 text-center d-flex flex-column align-items-center justify-content-center"),Y(m,"class","col"),Y(v,"class","container row m-auto h-100"),Y(v,"id",w[0])},m(T,C){dt(T,v,C),V(v,g),V(v,E),V(v,M),V(M,P),V(M,y),V(M,t),V(M,p),V(M,s),V(M,n),V(M,e),V(M,r),V(M,l),V(M,h),Xt(f,M,null),V(M,u),S&&S.m(M,null),V(v,d),V(v,m),x=!0},p(T,[C]){T[2].valid?S?(S.p(T,C),C&4&&Tt(S,1)):(S=Eh(T),S.c(),Tt(S,1),S.m(M,null)):S&&(Oe(),wt(S,1,1,()=>{S=null}),De()),(!x||C&1)&&Y(v,"id",T[0])},i(T){x||(Tt(f.$$.fragment,T),Tt(S),x=!0)},o(T){wt(f.$$.fragment,T),wt(S),x=!1},d(T){T&&k(v),Yt(f),S&&S.d()}}}function _1(w,v,g){let E;Ve(w,Ua,y=>g(2,E=y));let{id:M}=v,P=!1;function c(){g(1,P=!0),fetch("https://g7eternal.com:7034/getRecent?login="+E.channel).catch(oi),Promise.all([Xc(),Yc(),Kc(),de.init()]).then(()=>{g(1,P=!1)})}return ti(()=>{}),w.$$set=y=>{"id"in y&&g(0,M=y.id)},[M,P,E,c]}class tx extends Se{constructor(v){super(),Ee(this,v,_1,q1,Te,{id:0})}}function ex(w){let v;return{c(){v=mt("exit_to_app")},l(g){v=gt(g,"exit_to_app")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function ix(w){let v,g,E=`<h1 class="svelte-1gc0bkt">GAME OVER</h1> <p class="svelte-1gc0bkt"><small>(best ending)
        <img src="https://static-cdn.jtvnw.net/emoticons/v2/81997/static/light/2.0" alt="Kappa" class="svelte-1gc0bkt"/></small></p> <hr class="svelte-1gc0bkt"/> <h1 class="text-info svelte-1gc0bkt">Forsen is live!</h1> <h2 class="svelte-1gc0bkt">A game by <a href="https://g7eternal.com/" target="_blank" class="text-success">G7Eternal</a></h2> <p class="svelte-1gc0bkt">This game includes a mix of CC0-licensed assets from public websites, original content repurposed from my previous
      projects, and AI-generated content to ensure a unique experience.</p> <p class="svelte-1gc0bkt">The paragraph above was also AI-generated. Please don&#39;t sue me.</p> <p class="svelte-1gc0bkt">Huge thanks to everyone who helped with the game! Special shoutout to the
      <a href="https://twitch.tv/forsen" target="_blank">Forsen</a>&#39;s community, and to
      <a href="https://twitch.tv/nymn" target="_blank">NymN</a> - for creating an event which ignited the spark and let this
      project be born.</p> <p class="svelte-1gc0bkt">Another shoutout to <a href="https://twitch.tv/badoge" target="_blank">@badoge</a> - for creating and maintaining
      the awesome <a href="https://github.com/badoge/soundboard" target="_blank">Forsen Soundboard</a>
      project, and also allowing me to reuse some content from their <a href="https://chat.vote/games">Chat.vote</a> project.</p> <p class="svelte-1gc0bkt">Oh, also the people who helped with ideas and testing of this game. Your feedback was crucial! Thanks a ton!
      <img src="/pics/emotes/docl.webp" alt="love" class="svelte-1gc0bkt"/></p> <p class="svelte-1gc0bkt">Some of the feature were cut due to improper planning, but there&#39;s a chance this game might get some updates
      later. Stay tuned for more info!</p> <h2 class="svelte-1gc0bkt">Hope you enjoyed playing!</h2> <hr class="svelte-1gc0bkt"/> <p class="smaller svelte-1gc0bkt">Outro song: <a href="https://www.youtube.com/watch?v=Wk8uP7E_g8U" target="_blank">NymN - Forsen&#39;s UUHMMer Car</a></p>`,M,P,c,y,t,o,p,s,i;return y=new he({props:{size:"120%",$$slots:{default:[ex]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("div"),g.innerHTML=E,M=lt(),P=Q("div"),c=Q("button"),Ut(y.$$.fragment),t=mt(" Return to main menu"),this.h()},l(n){v=q(n,"DIV",{class:!0});var e=nt(v);g=q(e,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-1frer4b"&&(g.innerHTML=E),M=ht(e),P=q(e,"DIV",{class:!0});var r=nt(P);c=q(r,"BUTTON",{type:!0,class:!0});var l=nt(c);Wt(y.$$.fragment,l),t=gt(l," Return to main menu"),l.forEach(k),r.forEach(k),e.forEach(k),this.h()},h(){Y(g,"class","credits svelte-1gc0bkt"),Y(c,"type","button"),Y(c,"class","btn btn-outline-danger text-light"),Y(P,"class","buttons svelte-1gc0bkt"),Y(v,"class","backdrop svelte-1gc0bkt")},m(n,e){dt(n,v,e),V(v,g),V(v,M),V(v,P),V(P,c),Xt(y,c,null),V(c,t),p=!0,s||(i=ne(c,"click",w[0]),s=!0)},p(n,[e]){const r={};e&4&&(r.$$scope={dirty:e,ctx:n}),y.$set(r)},i(n){p||(Tt(y.$$.fragment,n),n&&(o||$e(()=>{o=Je(P,Di,{delay:8e3,duration:1e3,x:300}),o.start()})),p=!0)},o(n){wt(y.$$.fragment,n),p=!1},d(n){n&&k(v),Yt(y),s=!1,i()}}}function sx(w){const v=new Ye("credits","/sounds/music/credits.mp3");function g(){console.info("Credits screen ended. Ending this run."),v.stop().unload(),de.stop()}return ti(()=>{v.load(),v.play(),v.once("end",g)}),[g]}class nx extends Se{constructor(v){super(),Ee(this,v,sx,ix,Te,{})}}const Ch={rage:[5,15],loyalty:[70,90]},Ds={rage:110,loyalty:0,angry:85},br="forsen-rage-ban-game.endless-run";function rx(){try{const w=localStorage.getItem(br);return JSON.parse(w).day}catch{return 0}}class ax{constructor(){this._state={isInit:!1,isStarted:!1,isPaused:!1,isCamEnabled:!1,isEndless:!1,day:0,loyaltyScale:1,rageScale:1,stage:[Ze.NONE,Ze.NONE],rage:0,loyalty:0,isGameOver:!1,gameOverReason:"",gameOverDescription:""},this.state=ii(this._state),this.lifecycle=null,this.score=ii(0),this._realGameTime=0,this._targetStreamLength=360,this.gameTimeClock=ki(this._realGameTime,{duration:12345,easing:qf}),this._overworking=null,this.forsen=null,this._soundLevel=0,qe.subscribe(v=>{this._soundLevel=v.volSound/100}),this.heartbeatSound=null,this.wastedSound=new Ye("wasted","/sounds/wasted.mp3",!1),this.spawner=new D0(this),this.gameIntervals={},this.mountedComponent=ii(tx),this.gameOverChecker=null,this.videolinks=[],this.seenVideos=new Set,this.gamesToday=[],this.activeMinigame=ii(null)}getEndlessRunData(){try{const v=localStorage.getItem(br);return JSON.parse(v)}catch(v){console.warn("Failed to get stored endless run data",v)}return null}storeEndlessRunData(){if(!this._state.isEndless)return null;const v={day:this._state.day,rage:this._state.rage,rageScale:this._state.rageScale,loyalty:this._state.loyalty,loyaltyScale:this._state.loyaltyScale,_videos:Array.from(this.seenVideos).join(";")};return this._state.day>1&&localStorage.setItem(br,JSON.stringify(v)),v}init(){if(this._state.isInit)throw new Error("GameInstance is already initialized");return this.forsen=new Iu,this.lifecycle=new l0(this),this.heartbeatSound=new Ye("forsen-heartbeat","/sounds/heartbeat.mp3"),this.heartbeatSound.sound.loop(!0),this.heartbeatSound._volumeSubscription(),this.heartbeatSound._volumeSubscription=this.state.subscribe(v=>{const g=1.15*(v.rage-Ds.angry)/(Ds.rage-Ds.angry);this.heartbeatSound.sound.volume(Math.max(0,g*this._soundLevel))}),document.addEventListener("visibilitychange",()=>{this._state.isStarted&&document.hidden&&this.pause()}),this.mountedComponent.set(Sh),this.state.update(v=>(v.isInit=!0,v)),setTimeout(()=>Ls.init().play(),100),this}reset(v=!1){this.seenVideos.clear(),this.state.update(E=>{for(const M in Ch)E[M]=te(...Ch[M]);return E.isStarted=!0,E.isPaused=!1,E.isGameOver=!1,E.isCamEnabled=!1,E.isEndless=!!v,E.day=0,E.rageScale=1,E.loyaltyScale=1,E}),yo(),this.mountedComponent.set(v1);const g=new Jn;return this._overworking=new Li(()=>{if(this._targetStreamLength-this._realGameTime<-25){g.modifyRage(3),Tn("overwork");const E=this.spawner.buildSyntheticMessage("generic","overwork");this.spawner.queueSyntheticMessage(E)}},3500),this.heartbeatSound.play(),window.onbeforeunload=E=>(this.pause(),E.returnValue="Are you sure you want to abandon current game? Progress will not be saved!",E.returnValue),this}continueStoredEndlessRun(){const v=this.getEndlessRunData();if(v)return this.state.update(g=>{for(const E in v)if(E==="_videos"){const M=v[E].split(";");for(const P of M)this.seenVideos.add(P)}else g[E]=v[E];return g.day-=1,g._isRestoredFromLS=!0,g}),this}start(){if(this.score.set(0),this.gameTimeClock.set(-5,{duration:0}),this.timePasses(te(16,22),12345),this.videolinks=pm(),this._state.isEndless&&this.seenVideos.size>0&&Math.random()>.5){const v=Array.from(this.seenVideos),g=vm(Ke(v));g&&this.videolinks.splice(te(this.videolinks.length),0,g)}return this.gamesToday=mm(),this.forsen._wasExternallyPaused=!1,this.forsen.resetPepepainsTimer(),this.lifecycle.advanceTo(Ze.START),this}stop(){var v;this.gameOverChecker&&this.gameOverChecker(),this.spawner.stop(),this.heartbeatSound.stop(),this.forsen.stfu(),this.activeMinigame.update(g=>(g&&g.destroy(),null)),this._realGameTime=0,this.gameTimeClock.set(this._realGameTime,{duration:0}),(v=this._overworking)==null||v.clear(),window.onbeforeunload=null,this.mountedComponent.set(Sh),Ls.stop().play();for(const g in this.gameIntervals)clearInterval(this.gameIntervals[g]),delete this.gameIntervals[g];return this.state.update(g=>(g.isStarted=!1,g)),this.lifecycle.reset(),this}nextDay(){return this.spawner.stop(!1),this.state.update(v=>(v.day+=1,v._isRestoredFromLS?delete v._isRestoredFromLS:v.day>1?(v.rageScale=.75+Math.sqrt(v.day)/3-.25+Math.random()*.5,v.loyaltyScale=.75+Math.sqrt(v.day)/3-.25+Math.random()*.5):(v.rageScale=.75+Math.min(.25,Math.random()/2),v.loyaltyScale=.75+Math.min(.25,Math.random()/2)),v)),this.storeEndlessRunData(),this.start()}showCredits(){return this.stop(),Ls.stop(),this.mountedComponent.set(nx),this}pause(){return window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()),_f(),Ls.pause(),this.spawner.pause(),this.forsen.pause(),this.heartbeatSound.pause(),this.activeMinigame.update(v=>(v==null||v.pauseGame(),v)),this.state.update(v=>(v.isPaused=!0,v)),this}unpause(){return yo(),Ls.resume(),this.spawner.resume(),this.forsen.unpause(),this.heartbeatSound.play(),this.activeMinigame.update(v=>(v==null||v.resumeGame(),v)),this.state.update(v=>(v.isPaused=!1,v)),this}timePasses(v=1,g=1e4){return this.gameTimeClock.update(E=>(this._realGameTime=E+v|0,this._realGameTime),{duration:g}),this}gameOver(v="wasted"){this._state.isGameOver||(this._state.isGameOver=!0,this.pause(),Ls.stop(),this.spawner.stop(),this.heartbeatSound.stop(),this.wastedSound.load().play(),this.state.update(g=>{var P;g.isGameOver=!0,g.gameOverReason=v;let E="";const M=(P=this.lifecycle.stage[0])==null?void 0:P.toUpperCase();return g.rage>=Ds.rage&&(E=th.rage[M]||"You finally lost it... Next time take a chill pill"),g.loyalty<=Ds.loyalty&&(E=th.loyalty[M]||"Bajs left long ago. Now you can finally retire"),g.gameOverDescription=E,g.isEndless&&localStorage.removeItem(br),console.info("Game over! |",v,"|",E),g}))}}const de=new ax;function Ah(w){let v,g,E,M,P,c,y=Js;return E=new he({props:{size:"120%",$$slots:{default:[ox]},$$scope:{ctx:w}}}),{c(){v=lt(),g=Q("button"),Ut(E.$$.fragment),this.h()},l(t){v=ht(t),g=q(t,"BUTTON",{type:!0,class:!0});var o=nt(g);Wt(E.$$.fragment,o),o.forEach(k),this.h()},h(){Y(g,"type","button"),Y(g,"class","btn btn-dark svelte-9w2aad")},m(t,o){dt(t,v,o),dt(t,g,o),Xt(E,g,null),M=!0,P||(c=[ne(g,"click",w[3]),Ai(wi.call(null,g,{content:"Pause game"}))],P=!0)},p(t,o){const p={};o&128&&(p.$$scope={dirty:o,ctx:t}),E.$set(p)},i(t){M||(Tt(y),Tt(E.$$.fragment,t),M=!0)},o(t){wt(y),wt(E.$$.fragment,t),M=!1},d(t){t&&(k(v),k(g)),Yt(E),P=!1,ui(c)}}}function ox(w){let v;return{c(){v=mt("menu_open")},l(g){v=gt(g,"menu_open")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function lx(w){let v,g,E,M,P;return g=new he({props:{size:"120%",$$slots:{default:[hx]},$$scope:{ctx:w}}}),{c(){v=Q("button"),Ut(g.$$.fragment),this.h()},l(c){v=q(c,"BUTTON",{type:!0,class:!0});var y=nt(v);Wt(g.$$.fragment,y),y.forEach(k),this.h()},h(){Y(v,"type","button"),Y(v,"class","btn btn-dark svelte-9w2aad")},m(c,y){dt(c,v,y),Xt(g,v,null),E=!0,M||(P=[ne(v,"click",w[4]),Ai(wi.call(null,v,{content:"Toggle fullscreen"}))],M=!0)},p(c,y){const t={};y&129&&(t.$$scope={dirty:y,ctx:c}),g.$set(t)},i(c){E||(Tt(g.$$.fragment,c),E=!0)},o(c){wt(g.$$.fragment,c),E=!1},d(c){c&&k(v),Yt(g),M=!1,ui(P)}}}function hx(w){let v;return{c(){v=mt(w[0])},l(g){v=gt(g,w[0])},m(g,E){dt(g,v,E)},p(g,E){E&1&&ee(v,g[0])},d(g){g&&k(v)}}}function ux(w){let v,g,E,M=w[1].isStarted&&!w[1].isPaused&&Ah(w),P=document.fullscreenEnabled&&lx(w);return{c(){v=Q("div"),M&&M.c(),g=lt(),P&&P.c(),this.h()},l(c){v=q(c,"DIV",{class:!0});var y=nt(v);M&&M.l(y),g=ht(y),P&&P.l(y),y.forEach(k),this.h()},h(){Y(v,"class","pinned-buttons svelte-9w2aad")},m(c,y){dt(c,v,y),M&&M.m(v,null),V(v,g),P&&P.m(v,null),E=!0},p(c,[y]){c[1].isStarted&&!c[1].isPaused?M?(M.p(c,y),y&2&&Tt(M,1)):(M=Ah(c),M.c(),Tt(M,1),M.m(v,g)):M&&(Oe(),wt(M,1,1,()=>{M=null}),De()),document.fullscreenEnabled&&P.p(c,y)},i(c){E||(Tt(M),Tt(P),E=!0)},o(c){wt(M),wt(P),E=!1},d(c){c&&k(v),M&&M.d(),P&&P.d()}}}function fx(w,v,g){let E,M="fullscreen";const P=de.state;Ve(w,P,p=>g(1,E=p));function c(){de.pause()}async function y(){try{document.fullscreenElement?(await document.exitFullscreen(),g(0,M="fullscreen")):(await document.getElementById("fullscreener").requestFullscreen(),g(0,M="fullscreen_exit"))}catch(p){console.error("Fullscreen toggle failed",p)}}return[M,E,P,c,y,()=>{var p,s;return(s=de.forsen.speech)==null?void 0:s.sound.seek(((p=de.forsen.speech)==null?void 0:p.sound.duration())-.1)},()=>de.gameOver()]}class dx extends Se{constructor(v){super(),Ee(this,v,fx,ux,Te,{})}}function cx(w){let v;return{c(){v=mt("settings")},l(g){v=gt(g,"settings")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function vx(w){let v;return{c(){v=mt("hearing")},l(g){v=gt(g,"hearing")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function px(w){let v;return{c(){v=mt("volume_up")},l(g){v=gt(g,"volume_up")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function mx(w){let v;return{c(){v=mt("play_circle")},l(g){v=gt(g,"play_circle")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function gx(w){let v;return{c(){v=mt("notifications_active")},l(g){v=gt(g,"notifications_active")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function xx(w){let v;return{c(){v=mt("play_circle")},l(g){v=gt(g,"play_circle")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function yx(w){let v;return{c(){v=mt("music_note")},l(g){v=gt(g,"music_note")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Tx(w){let v;return{c(){v=mt("play_circle")},l(g){v=gt(g,"play_circle")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Sx(w){let v;return{c(){v=mt("mic")},l(g){v=gt(g,"mic")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Ex(w){let v;return{c(){v=mt("play_circle")},l(g){v=gt(g,"play_circle")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Cx(w){let v;return{c(){v=mt("lightbulb")},l(g){v=gt(g,"lightbulb")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Ax(w){let v;return{c(){v=mt("live_help")},l(g){v=gt(g,"live_help")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function wx(w){let v;return{c(){v=mt("live_tv")},l(g){v=gt(g,"live_tv")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Mx(w){let v,g,E,M,P,c,y="<b>Refresh</b> the web page to retry connection.",t;return E=new he({props:{size:"120%",$$slots:{default:[Px]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("p"),Ut(E.$$.fragment),M=mt(" Failed to connect to Twitch, some options are unavailable."),P=lt(),c=Q("p"),c.innerHTML=y,this.h()},l(o){v=q(o,"DIV",{class:!0});var p=nt(v);g=q(p,"P",{class:!0});var s=nt(g);Wt(E.$$.fragment,s),M=gt(s," Failed to connect to Twitch, some options are unavailable."),s.forEach(k),P=ht(p),c=q(p,"P",{class:!0,"data-svelte-h":!0}),Rt(c)!=="svelte-i8jcz9"&&(c.innerHTML=y),p.forEach(k),this.h()},h(){Y(g,"class","text-warning"),Y(c,"class","text-muted"),Y(v,"class","text-center my-4")},m(o,p){dt(o,v,p),V(v,g),Xt(E,g,null),V(g,M),V(v,P),V(v,c),t=!0},p(o,p){const s={};p&262144&&(s.$$scope={dirty:p,ctx:o}),E.$set(s)},i(o){t||(Tt(E.$$.fragment,o),t=!0)},o(o){wt(E.$$.fragment,o),t=!1},d(o){o&&k(v),Yt(E)}}}function bx(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a="Messages will appear in game; you'll be able to ban the real author",h,f,u,d;g=new Vu({}),s=new he({props:{size:"125%",$$slots:{default:[Rx]},$$scope:{ctx:w}}});let m=w[0].chatIntegration&&wh(w);return{c(){v=Q("div"),Ut(g.$$.fragment),E=lt(),M=Q("div"),P=Q("div"),c=Q("div"),y=Q("input"),o=lt(),p=Q("label"),Ut(s.$$.fragment),i=mt(" Enable chat integration"),n=lt(),e=Q("br"),r=lt(),l=Q("small"),l.textContent=a,h=lt(),m&&m.c(),this.h()},l(x){v=q(x,"DIV",{class:!0});var S=nt(v);Wt(g.$$.fragment,S),S.forEach(k),E=ht(x),M=q(x,"DIV",{class:!0});var T=nt(M);P=q(T,"DIV",{class:!0});var C=nt(P);c=q(C,"DIV",{class:!0});var A=nt(c);y=q(A,"INPUT",{class:!0,type:!0,id:!0}),o=ht(A),p=q(A,"LABEL",{class:!0,for:!0});var b=nt(p);Wt(s.$$.fragment,b),i=gt(b," Enable chat integration"),b.forEach(k),n=ht(A),e=q(A,"BR",{}),r=ht(A),l=q(A,"SMALL",{class:!0,"data-svelte-h":!0}),Rt(l)!=="svelte-1ugtx5r"&&(l.textContent=a),A.forEach(k),h=ht(C),m&&m.l(C),C.forEach(k),T.forEach(k),this.h()},h(){Y(v,"class","w-100 d-flex align-items-center justify-content-center"),Y(y,"class","form-check-input svelte-ae4d1"),Y(y,"type","checkbox"),Y(y,"id","opt_ChatIntegration"),y.checked=t=w[0].chatIntegration,Y(p,"class","form-check-label svelte-ae4d1"),Y(p,"for","opt_ChatIntegration"),Y(l,"class","form-text svelte-ae4d1"),Y(c,"class","form-check form-switch"),Y(P,"class","option-block svelte-ae4d1"),Y(M,"class","px-2")},m(x,S){dt(x,v,S),Xt(g,v,null),dt(x,E,S),dt(x,M,S),V(M,P),V(P,c),V(c,y),V(c,o),V(c,p),Xt(s,p,null),V(p,i),V(c,n),V(c,e),V(c,r),V(c,l),V(P,h),m&&m.m(P,null),f=!0,u||(d=ne(y,"change",w[12]),u=!0)},p(x,S){(!f||S&1&&t!==(t=x[0].chatIntegration))&&(y.checked=t);const T={};S&262144&&(T.$$scope={dirty:S,ctx:x}),s.$set(T),x[0].chatIntegration?m?(m.p(x,S),S&1&&Tt(m,1)):(m=wh(x),m.c(),Tt(m,1),m.m(P,null)):m&&(Oe(),wt(m,1,1,()=>{m=null}),De())},i(x){f||(Tt(g.$$.fragment,x),Tt(s.$$.fragment,x),Tt(m),f=!0)},o(x){wt(g.$$.fragment,x),wt(s.$$.fragment,x),wt(m),f=!1},d(x){x&&(k(v),k(E),k(M)),Yt(g),Yt(s),m&&m.d(),u=!1,d()}}}function Px(w){let v;return{c(){v=mt("warning")},l(g){v=gt(g,"warning")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Rx(w){let v;return{c(){v=mt("forum")},l(g){v=gt(g,"forum")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function wh(w){let v,g,E,M,P,c,y,t,o,p,s,i="Messages from mods appear in game, and you can ban them too",n,e,r,l,a,h,f,u,d,m="None",x,S="Timeout",T,C="Warning",A,b,R,F=w[2][w[0].chatPunishment]+"",L,O,I,B,U;c=new he({props:{size:"125%",$$slots:{default:[Lx]},$$scope:{ctx:w}}});let H=w[0].chatIncludeMods&&w[0].chatPunishment==="timeout"&&Mh();a=new he({props:{size:"125%",$$slots:{default:[Fx]},$$scope:{ctx:w}}});let J=w[0].chatPunishment==="timeout"&&bh(w);return{c(){v=Q("div"),g=Q("input"),M=lt(),P=Q("label"),Ut(c.$$.fragment),y=mt(" Include moderator messages"),t=lt(),o=Q("br"),p=lt(),s=Q("small"),s.textContent=i,n=lt(),H&&H.c(),e=lt(),r=Q("div"),l=Q("label"),Ut(a.$$.fragment),h=mt(" Punishment:"),f=lt(),u=Q("select"),d=Q("option"),d.textContent=m,x=Q("option"),x.textContent=S,T=Q("option"),T.textContent=C,A=lt(),b=Q("small"),R=new Xr(!1),L=lt(),J&&J.c(),O=Le(),this.h()},l(tt){v=q(tt,"DIV",{class:!0});var X=nt(v);g=q(X,"INPUT",{class:!0,type:!0,id:!0}),M=ht(X),P=q(X,"LABEL",{class:!0,for:!0});var j=nt(P);Wt(c.$$.fragment,j),y=gt(j," Include moderator messages"),j.forEach(k),t=ht(X),o=q(X,"BR",{}),p=ht(X),s=q(X,"SMALL",{class:!0,"data-svelte-h":!0}),Rt(s)!=="svelte-1osc4tj"&&(s.textContent=i),n=ht(X),H&&H.l(X),X.forEach(k),e=ht(tt),r=q(tt,"DIV",{class:!0});var D=nt(r);l=q(D,"LABEL",{class:!0,for:!0});var z=nt(l);Wt(a.$$.fragment,z),h=gt(z," Punishment:"),z.forEach(k),f=ht(D),u=q(D,"SELECT",{class:!0,id:!0});var $=nt(u);d=q($,"OPTION",{"data-svelte-h":!0}),Rt(d)!=="svelte-1vbnolo"&&(d.textContent=m),x=q($,"OPTION",{"data-svelte-h":!0}),Rt(x)!=="svelte-15hyh9c"&&(x.textContent=S),T=q($,"OPTION",{"data-svelte-h":!0}),Rt(T)!=="svelte-5w6lnu"&&(T.textContent=C),$.forEach(k),A=ht(D),b=q(D,"SMALL",{class:!0});var K=nt(b);R=Yr(K,!1),K.forEach(k),D.forEach(k),L=ht(tt),J&&J.l(tt),O=Le(),this.h()},h(){Y(g,"class","form-check-input svelte-ae4d1"),Y(g,"type","checkbox"),Y(g,"id","opt_ChatIncludeMods"),g.checked=E=w[0].chatIncludeMods,Y(P,"class","form-check-label svelte-ae4d1"),Y(P,"for","opt_ChatIncludeMods"),Y(s,"class","form-text svelte-ae4d1"),Y(v,"class","form-check form-switch"),Y(l,"class","form-check-label svelte-ae4d1"),Y(l,"for","opt_ChatPunishment"),d.__value="",pi(d,d.__value),x.__value="timeout",pi(x,x.__value),T.__value="warning",pi(T,T.__value),Y(u,"class","form-select mt-1 svelte-ae4d1"),Y(u,"id","opt_ChatPunishment"),w[0].chatPunishment===void 0&&$e(()=>w[14].call(u)),R.a=null,Y(b,"class","form-text svelte-ae4d1"),Y(r,"class","form-check form-switch")},m(tt,X){dt(tt,v,X),V(v,g),V(v,M),V(v,P),Xt(c,P,null),V(P,y),V(v,t),V(v,o),V(v,p),V(v,s),V(v,n),H&&H.m(v,null),dt(tt,e,X),dt(tt,r,X),V(r,l),Xt(a,l,null),V(l,h),V(r,f),V(r,u),V(u,d),V(u,x),V(u,T),uo(u,w[0].chatPunishment,!0),V(r,A),V(r,b),R.m(F,b),dt(tt,L,X),J&&J.m(tt,X),dt(tt,O,X),I=!0,B||(U=[ne(g,"change",w[13]),ne(u,"change",w[14])],B=!0)},p(tt,X){(!I||X&1&&E!==(E=tt[0].chatIncludeMods))&&(g.checked=E);const j={};X&262144&&(j.$$scope={dirty:X,ctx:tt}),c.$set(j),tt[0].chatIncludeMods&&tt[0].chatPunishment==="timeout"?H||(H=Mh(),H.c(),H.m(v,null)):H&&(H.d(1),H=null);const D={};X&262144&&(D.$$scope={dirty:X,ctx:tt}),a.$set(D),X&1&&uo(u,tt[0].chatPunishment),(!I||X&1)&&F!==(F=tt[2][tt[0].chatPunishment]+"")&&R.p(F),tt[0].chatPunishment==="timeout"?J?(J.p(tt,X),X&1&&Tt(J,1)):(J=bh(tt),J.c(),Tt(J,1),J.m(O.parentNode,O)):J&&(Oe(),wt(J,1,1,()=>{J=null}),De())},i(tt){I||(Tt(c.$$.fragment,tt),Tt(a.$$.fragment,tt),Tt(J),I=!0)},o(tt){wt(c.$$.fragment,tt),wt(a.$$.fragment,tt),wt(J),I=!1},d(tt){tt&&(k(v),k(e),k(r),k(L),k(O)),Yt(c),H&&H.d(),Yt(a),J&&J.d(tt),B=!1,ui(U)}}}function Lx(w){let v;return{c(){v=mt("add_moderator")},l(g){v=gt(g,"add_moderator")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Mh(w){let v,g=`⚠️ If you ban a moderator in game, and they receive a timeout - they will get unmodded! Consider\r
                        changing punishment to "warning".`;return{c(){v=Q("div"),v.textContent=g,this.h()},l(E){v=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1tbw2r4"&&(v.textContent=g),this.h()},h(){Y(v,"class","pt-2 text-muted"),Ht(v,"font-size","75%")},m(E,M){dt(E,v,M)},d(E){E&&k(v)}}}function Fx(w){let v;return{c(){v=mt("sms_failed")},l(g){v=gt(g,"sms_failed")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function bh(w){let v,g,E,M,P,c,y,t,o,p="seconds",s,i,n;return E=new he({props:{size:"125%",$$slots:{default:[Ox]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("label"),Ut(E.$$.fragment),M=mt(" Timeout duration:"),P=lt(),c=Q("div"),y=Q("input"),t=lt(),o=Q("span"),o.textContent=p,this.h()},l(e){v=q(e,"DIV",{class:!0});var r=nt(v);g=q(r,"LABEL",{class:!0,for:!0});var l=nt(g);Wt(E.$$.fragment,l),M=gt(l," Timeout duration:"),l.forEach(k),P=ht(r),c=q(r,"DIV",{class:!0});var a=nt(c);y=q(a,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,min:!0,max:!0,step:!0}),t=ht(a),o=q(a,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(o)!=="svelte-17ah2ah"&&(o.textContent=p),a.forEach(k),r.forEach(k),this.h()},h(){Y(g,"class","form-check-label svelte-ae4d1"),Y(g,"for","opt_chatTimeout"),Y(y,"type","number"),Y(y,"class","form-control svelte-ae4d1"),Y(y,"placeholder","0"),Y(y,"id","opt_chatTimeout"),Y(y,"min","0"),Y(y,"max","1209600"),Y(y,"step","1"),Y(o,"class","input-group-text w-50"),Y(c,"class","input-group mt-1"),Y(v,"class","form-check form-switch")},m(e,r){dt(e,v,r),V(v,g),Xt(E,g,null),V(g,M),V(v,P),V(v,c),V(c,y),pi(y,w[0].chatTimeout),V(c,t),V(c,o),s=!0,i||(n=ne(y,"input",w[15]),i=!0)},p(e,r){const l={};r&262144&&(l.$$scope={dirty:r,ctx:e}),E.$set(l),r&1&&Fs(y.value)!==e[0].chatTimeout&&pi(y,e[0].chatTimeout)},i(e){s||(Tt(E.$$.fragment,e),s=!0)},o(e){wt(E.$$.fragment,e),s=!1},d(e){e&&k(v),Yt(E),i=!1,n()}}}function Ox(w){let v;return{c(){v=mt("safety_check")},l(g){v=gt(g,"safety_check")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Dx(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a,h,f,u,d,m,x,S,T,C=w[0].volume+"",A,b,R,F,L,O,I,B,U,H,J,tt,X,j,D=w[0].volSound+"",z,$,K,Z,it,st,at,ut,vt,xt,Et,yt,bt,Dt,Vt=w[0].volMusic+"",Nt,Mt,It,Lt,kt,qt,se,ie,oe,zt,Zt,Bt,Ot,St,At=w[0].volForsen+"",Ft,ae,Qt,xe,ye,we,$t,re,be,Ie,Fe,ce,Me,Ue,Xe,hi,Qe,gi,si="Toggles light/dark mode for the page",We,Ge,ni,xi,me,_e,ge,Mi,Ti,As,ps,Bi,_s="Displays a small hint whenever you make a mistake",Cn,An,ji,es,is,tn,en,fi,Si,Us,ms,gs,bi,wn,sn;M=new he({props:{size:"24px",$$slots:{default:[cx]},$$scope:{ctx:w}}}),r=new he({props:{size:"125%",$$slots:{default:[vx]},$$scope:{ctx:w}}}),u=new he({props:{size:"125%",$$slots:{default:[px]},$$scope:{ctx:w}}}),L=new he({props:{size:"125%",$$slots:{default:[mx]},$$scope:{ctx:w}}}),U=new he({props:{size:"125%",$$slots:{default:[gx]},$$scope:{ctx:w}}}),it=new he({props:{size:"125%",$$slots:{default:[xx]},$$scope:{ctx:w}}}),vt=new he({props:{size:"125%",$$slots:{default:[yx]},$$scope:{ctx:w}}}),kt=new he({props:{size:"125%",$$slots:{default:[Tx]},$$scope:{ctx:w}}}),oe=new he({props:{size:"125%",$$slots:{default:[Sx]},$$scope:{ctx:w}}}),ye=new he({props:{size:"125%",$$slots:{default:[Ex]},$$scope:{ctx:w}}}),Me=new he({props:{size:"125%",$$slots:{default:[Cx]},$$scope:{ctx:w}}}),ge=new he({props:{size:"125%",$$slots:{default:[Ax]},$$scope:{ctx:w}}}),is=new he({props:{$$slots:{default:[wx]},$$scope:{ctx:w}}});const _n=[bx,Mx],ss=[];function tr(ue,Pe){return ue[1].init?0:1}return fi=tr(w),Si=ss[fi]=_n[fi](w),gs=new Nu({props:{extended:!0}}),{c(){v=Q("div"),g=Q("div"),E=Q("h5"),Ut(M.$$.fragment),P=mt(" Settings"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),p=Q("div"),s=Q("div"),i=Q("div"),n=Q("div"),e=Q("h6"),Ut(r.$$.fragment),l=mt(" Volume levels"),a=lt(),h=Q("div"),f=Q("label"),Ut(u.$$.fragment),d=mt(" Global"),m=lt(),x=Q("input"),S=lt(),T=Q("span"),A=mt(C),b=mt("%"),R=lt(),F=Q("button"),Ut(L.$$.fragment),O=lt(),I=Q("div"),B=Q("label"),Ut(U.$$.fragment),H=mt(" Sounds"),J=lt(),tt=Q("input"),X=lt(),j=Q("span"),z=mt(D),$=mt("%"),K=lt(),Z=Q("button"),Ut(it.$$.fragment),st=lt(),at=Q("div"),ut=Q("label"),Ut(vt.$$.fragment),xt=mt(" Music"),Et=lt(),yt=Q("input"),bt=lt(),Dt=Q("span"),Nt=mt(Vt),Mt=mt("%"),It=lt(),Lt=Q("button"),Ut(kt.$$.fragment),qt=lt(),se=Q("div"),ie=Q("label"),Ut(oe.$$.fragment),zt=mt(" Forsen"),Zt=lt(),Bt=Q("input"),Ot=lt(),St=Q("span"),Ft=mt(At),ae=mt("%"),Qt=lt(),xe=Q("button"),Ut(ye.$$.fragment),we=lt(),$t=Q("div"),re=Q("div"),be=Q("input"),Fe=lt(),ce=Q("label"),Ut(Me.$$.fragment),Ue=mt(" Dark theme"),Xe=lt(),hi=Q("br"),Qe=lt(),gi=Q("small"),gi.textContent=si,We=lt(),Ge=Q("div"),ni=Q("input"),me=lt(),_e=Q("label"),Ut(ge.$$.fragment),Mi=mt(" Show tips"),Ti=lt(),As=Q("br"),ps=lt(),Bi=Q("small"),Bi.textContent=_s,Cn=lt(),An=lt(),ji=Q("div"),es=Q("h5"),Ut(is.$$.fragment),tn=mt(" Twitch integration"),en=lt(),Si.c(),Us=lt(),ms=Q("div"),Ut(gs.$$.fragment),this.h()},l(ue){v=q(ue,"DIV",{class:!0});var Pe=nt(v);g=q(Pe,"DIV",{class:!0});var ns=nt(g);E=q(ns,"H5",{class:!0,id:!0});var Ki=nt(E);Wt(M.$$.fragment,Ki),P=gt(Ki," Settings"),Ki.forEach(k),c=ht(ns),y=q(ns,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),nt(y).forEach(k),ns.forEach(k),t=ht(Pe),o=q(Pe,"DIV",{class:!0});var Pi=nt(o);p=q(Pi,"DIV",{class:!0});var xs=nt(p);s=q(xs,"DIV",{class:!0});var Xi=nt(s);i=q(Xi,"DIV",{class:!0});var di=nt(i);n=q(di,"DIV",{class:!0});var li=nt(n);e=q(li,"H6",{class:!0});var ws=nt(e);Wt(r.$$.fragment,ws),l=gt(ws," Volume levels"),ws.forEach(k),a=ht(li),h=q(li,"DIV",{class:!0});var Ri=nt(h);f=q(Ri,"LABEL",{for:!0,class:!0});var ys=nt(f);Wt(u.$$.fragment,ys),d=gt(ys," Global"),ys.forEach(k),m=ht(Ri),x=q(Ri,"INPUT",{type:!0,class:!0,id:!0}),S=ht(Ri),T=q(Ri,"SPAN",{class:!0});var rs=nt(T);A=gt(rs,C),b=gt(rs,"%"),rs.forEach(k),R=ht(Ri),F=q(Ri,"BUTTON",{class:!0});var Xs=nt(F);Wt(L.$$.fragment,Xs),Xs.forEach(k),Ri.forEach(k),O=ht(li),I=q(li,"DIV",{class:!0});var Gi=nt(I);B=q(Gi,"LABEL",{for:!0,class:!0});var as=nt(B);Wt(U.$$.fragment,as),H=gt(as," Sounds"),as.forEach(k),J=ht(Gi),tt=q(Gi,"INPUT",{type:!0,class:!0,id:!0}),X=ht(Gi),j=q(Gi,"SPAN",{class:!0});var Mn=nt(j);z=gt(Mn,D),$=gt(Mn,"%"),Mn.forEach(k),K=ht(Gi),Z=q(Gi,"BUTTON",{class:!0});var er=nt(Z);Wt(it.$$.fragment,er),er.forEach(k),Gi.forEach(k),st=ht(li),at=q(li,"DIV",{class:!0});var Zi=nt(at);ut=q(Zi,"LABEL",{for:!0,class:!0});var nn=nt(ut);Wt(vt.$$.fragment,nn),xt=gt(nn," Music"),nn.forEach(k),Et=ht(Zi),yt=q(Zi,"INPUT",{type:!0,class:!0,id:!0}),bt=ht(Zi),Dt=q(Zi,"SPAN",{class:!0});var bn=nt(Dt);Nt=gt(bn,Vt),Mt=gt(bn,"%"),bn.forEach(k),It=ht(Zi),Lt=q(Zi,"BUTTON",{class:!0});var rn=nt(Lt);Wt(kt.$$.fragment,rn),rn.forEach(k),Zi.forEach(k),qt=ht(li),se=q(li,"DIV",{class:!0});var os=nt(se);ie=q(os,"LABEL",{for:!0,class:!0});var an=nt(ie);Wt(oe.$$.fragment,an),zt=gt(an," Forsen"),an.forEach(k),Zt=ht(os),Bt=q(os,"INPUT",{type:!0,class:!0,id:!0}),Ot=ht(os),St=q(os,"SPAN",{class:!0});var Pn=nt(St);Ft=gt(Pn,At),ae=gt(Pn,"%"),Pn.forEach(k),Qt=ht(os),xe=q(os,"BUTTON",{class:!0,"data-forsen":!0});var Ys=nt(xe);Wt(ye.$$.fragment,Ys),Ys.forEach(k),os.forEach(k),li.forEach(k),we=ht(di),$t=q(di,"DIV",{class:!0});var on=nt($t);re=q(on,"DIV",{class:!0});var Ji=nt(re);be=q(Ji,"INPUT",{class:!0,type:!0,id:!0}),Fe=ht(Ji),ce=q(Ji,"LABEL",{class:!0,for:!0});var ln=nt(ce);Wt(Me.$$.fragment,ln),Ue=gt(ln," Dark theme"),ln.forEach(k),Xe=ht(Ji),hi=q(Ji,"BR",{}),Qe=ht(Ji),gi=q(Ji,"SMALL",{class:!0,"data-svelte-h":!0}),Rt(gi)!=="svelte-w0p9df"&&(gi.textContent=si),Ji.forEach(k),We=ht(on),Ge=q(on,"DIV",{class:!0});var ls=nt(Ge);ni=q(ls,"INPUT",{class:!0,type:!0,id:!0}),me=ht(ls),_e=q(ls,"LABEL",{class:!0,for:!0});var hn=nt(_e);Wt(ge.$$.fragment,hn),Mi=gt(hn," Show tips"),hn.forEach(k),Ti=ht(ls),As=q(ls,"BR",{}),ps=ht(ls),Bi=q(ls,"SMALL",{class:!0,"data-svelte-h":!0}),Rt(Bi)!=="svelte-1kp9q0d"&&(Bi.textContent=_s),ls.forEach(k),on.forEach(k),Cn=ht(di),di.forEach(k),An=ht(Xi),ji=q(Xi,"DIV",{class:!0});var $s=nt(ji);es=q($s,"H5",{class:!0});var Rn=nt(es);Wt(is.$$.fragment,Rn),tn=gt(Rn," Twitch integration"),Rn.forEach(k),en=ht($s),Si.l($s),$s.forEach(k),Xi.forEach(k),xs.forEach(k),Us=ht(Pi),ms=q(Pi,"DIV",{class:!0});var Ms=nt(ms);Wt(gs.$$.fragment,Ms),Ms.forEach(k),Pi.forEach(k),Pe.forEach(k),this.h()},h(){Y(E,"class","modal-title fs-5"),Y(E,"id","mdlSettingsTitle"),Y(y,"type","button"),Y(y,"class","btn-close"),Y(y,"data-bs-dismiss","modal"),Y(y,"aria-label","Close"),Y(g,"class","modal-header"),Y(e,"class","svelte-ae4d1"),Y(f,"for","sndSliderMain"),Y(f,"class","form-label fw-bold svelte-ae4d1"),Y(x,"type","range"),Y(x,"class","form-range mx-1 svelte-ae4d1"),Y(x,"id","sndSliderMain"),Y(T,"class","form-text svelte-ae4d1"),Y(F,"class","btn btn-outline-secondary snd-test p-1 disabled opacity-0"),Y(h,"class","form-slider svelte-ae4d1"),Y(B,"for","sndSliderSound"),Y(B,"class","form-label svelte-ae4d1"),Y(tt,"type","range"),Y(tt,"class","form-range mx-1 svelte-ae4d1"),Y(tt,"id","sndSliderSound"),Y(j,"class","form-text svelte-ae4d1"),Y(Z,"class","btn btn-outline-secondary snd-test p-1"),Y(I,"class","form-slider svelte-ae4d1"),Y(ut,"for","sndSliderMusic"),Y(ut,"class","form-label svelte-ae4d1"),Y(yt,"type","range"),Y(yt,"class","form-range mx-1 svelte-ae4d1"),Y(yt,"id","sndSliderMusic"),Y(Dt,"class","form-text svelte-ae4d1"),Y(Lt,"class","btn btn-outline-secondary snd-test p-1 disabled opacity-0"),Y(at,"class","form-slider svelte-ae4d1"),Y(ie,"for","sndSliderForsen"),Y(ie,"class","form-label svelte-ae4d1"),Y(Bt,"type","range"),Y(Bt,"class","form-range mx-1 svelte-ae4d1"),Y(Bt,"id","sndSliderForsen"),Y(St,"class","form-text svelte-ae4d1"),Y(xe,"class","btn btn-outline-secondary snd-test p-1"),Y(xe,"data-forsen","forsen"),Y(se,"class","form-slider svelte-ae4d1"),Y(n,"class","option-block svelte-ae4d1"),Y(be,"class","form-check-input svelte-ae4d1"),Y(be,"type","checkbox"),Y(be,"id","opt_DarkMode"),be.checked=Ie=w[0].darkMode,Y(ce,"class","form-check-label svelte-ae4d1"),Y(ce,"for","opt_DarkMode"),Y(gi,"class","form-text svelte-ae4d1"),Y(re,"class","form-check form-switch"),Y(ni,"class","form-check-input svelte-ae4d1"),Y(ni,"type","checkbox"),Y(ni,"id","opt_AdviceFriends"),ni.checked=xi=w[0].tips,Y(_e,"class","form-check-label svelte-ae4d1"),Y(_e,"for","opt_AdviceFriends"),Y(Bi,"class","form-text svelte-ae4d1"),Y(Ge,"class","form-check form-switch"),Y($t,"class","option-block svelte-ae4d1"),Y(i,"class","col-6"),Y(es,"class","text-center mt-2 mb-4"),Y(ji,"class","col-6 border rounded"),Y(s,"class","row justify-content-start"),Y(p,"class","container"),Y(ms,"class","app-version svelte-ae4d1"),Y(o,"class","modal-body"),Y(v,"class","modal-content")},m(ue,Pe){dt(ue,v,Pe),V(v,g),V(g,E),Xt(M,E,null),V(E,P),V(g,c),V(g,y),V(v,t),V(v,o),V(o,p),V(p,s),V(s,i),V(i,n),V(n,e),Xt(r,e,null),V(e,l),V(n,a),V(n,h),V(h,f),Xt(u,f,null),V(f,d),V(h,m),V(h,x),pi(x,w[0].volume),V(h,S),V(h,T),V(T,A),V(T,b),V(h,R),V(h,F),Xt(L,F,null),V(n,O),V(n,I),V(I,B),Xt(U,B,null),V(B,H),V(I,J),V(I,tt),pi(tt,w[0].volSound),V(I,X),V(I,j),V(j,z),V(j,$),V(I,K),V(I,Z),Xt(it,Z,null),V(n,st),V(n,at),V(at,ut),Xt(vt,ut,null),V(ut,xt),V(at,Et),V(at,yt),pi(yt,w[0].volMusic),V(at,bt),V(at,Dt),V(Dt,Nt),V(Dt,Mt),V(at,It),V(at,Lt),Xt(kt,Lt,null),V(n,qt),V(n,se),V(se,ie),Xt(oe,ie,null),V(ie,zt),V(se,Zt),V(se,Bt),pi(Bt,w[0].volForsen),V(se,Ot),V(se,St),V(St,Ft),V(St,ae),V(se,Qt),V(se,xe),Xt(ye,xe,null),V(i,we),V(i,$t),V($t,re),V(re,be),V(re,Fe),V(re,ce),Xt(Me,ce,null),V(ce,Ue),V(re,Xe),V(re,hi),V(re,Qe),V(re,gi),V($t,We),V($t,Ge),V(Ge,ni),V(Ge,me),V(Ge,_e),Xt(ge,_e,null),V(_e,Mi),V(Ge,Ti),V(Ge,As),V(Ge,ps),V(Ge,Bi),V(i,Cn),V(s,An),V(s,ji),V(ji,es),Xt(is,es,null),V(es,tn),V(ji,en),ss[fi].m(ji,null),V(o,Us),V(o,ms),Xt(gs,ms,null),bi=!0,wn||(sn=[ne(x,"change",w[5]),ne(x,"input",w[5]),ne(tt,"change",w[6]),ne(tt,"input",w[6]),ne(Z,"click",w[3]),Ai(wi.call(null,Z,{content:"Test sound volume",placement:"left"})),ne(yt,"change",w[7]),ne(yt,"input",w[7]),ne(Bt,"change",w[8]),ne(Bt,"input",w[8]),ne(xe,"click",w[4]),Ai(wi.call(null,xe,{content:"Check Forsen's mic",placement:"left"})),ne(be,"change",w[9]),ne(ni,"change",w[10])],wn=!0)},p(ue,[Pe]){const ns={};Pe&262144&&(ns.$$scope={dirty:Pe,ctx:ue}),M.$set(ns);const Ki={};Pe&262144&&(Ki.$$scope={dirty:Pe,ctx:ue}),r.$set(Ki);const Pi={};Pe&262144&&(Pi.$$scope={dirty:Pe,ctx:ue}),u.$set(Pi),Pe&1&&pi(x,ue[0].volume),(!bi||Pe&1)&&C!==(C=ue[0].volume+"")&&ee(A,C);const xs={};Pe&262144&&(xs.$$scope={dirty:Pe,ctx:ue}),L.$set(xs);const Xi={};Pe&262144&&(Xi.$$scope={dirty:Pe,ctx:ue}),U.$set(Xi),Pe&1&&pi(tt,ue[0].volSound),(!bi||Pe&1)&&D!==(D=ue[0].volSound+"")&&ee(z,D);const di={};Pe&262144&&(di.$$scope={dirty:Pe,ctx:ue}),it.$set(di);const li={};Pe&262144&&(li.$$scope={dirty:Pe,ctx:ue}),vt.$set(li),Pe&1&&pi(yt,ue[0].volMusic),(!bi||Pe&1)&&Vt!==(Vt=ue[0].volMusic+"")&&ee(Nt,Vt);const ws={};Pe&262144&&(ws.$$scope={dirty:Pe,ctx:ue}),kt.$set(ws);const Ri={};Pe&262144&&(Ri.$$scope={dirty:Pe,ctx:ue}),oe.$set(Ri),Pe&1&&pi(Bt,ue[0].volForsen),(!bi||Pe&1)&&At!==(At=ue[0].volForsen+"")&&ee(Ft,At);const ys={};Pe&262144&&(ys.$$scope={dirty:Pe,ctx:ue}),ye.$set(ys),(!bi||Pe&1&&Ie!==(Ie=ue[0].darkMode))&&(be.checked=Ie);const rs={};Pe&262144&&(rs.$$scope={dirty:Pe,ctx:ue}),Me.$set(rs),(!bi||Pe&1&&xi!==(xi=ue[0].tips))&&(ni.checked=xi);const Xs={};Pe&262144&&(Xs.$$scope={dirty:Pe,ctx:ue}),ge.$set(Xs);const Gi={};Pe&262144&&(Gi.$$scope={dirty:Pe,ctx:ue}),is.$set(Gi);let as=fi;fi=tr(ue),fi===as?ss[fi].p(ue,Pe):(Oe(),wt(ss[as],1,1,()=>{ss[as]=null}),De(),Si=ss[fi],Si?Si.p(ue,Pe):(Si=ss[fi]=_n[fi](ue),Si.c()),Tt(Si,1),Si.m(ji,null))},i(ue){bi||(Tt(M.$$.fragment,ue),Tt(r.$$.fragment,ue),Tt(u.$$.fragment,ue),Tt(L.$$.fragment,ue),Tt(U.$$.fragment,ue),Tt(it.$$.fragment,ue),Tt(vt.$$.fragment,ue),Tt(kt.$$.fragment,ue),Tt(oe.$$.fragment,ue),Tt(ye.$$.fragment,ue),Tt(Me.$$.fragment,ue),Tt(ge.$$.fragment,ue),Tt(is.$$.fragment,ue),Tt(Si),Tt(gs.$$.fragment,ue),bi=!0)},o(ue){wt(M.$$.fragment,ue),wt(r.$$.fragment,ue),wt(u.$$.fragment,ue),wt(L.$$.fragment,ue),wt(U.$$.fragment,ue),wt(it.$$.fragment,ue),wt(vt.$$.fragment,ue),wt(kt.$$.fragment,ue),wt(oe.$$.fragment,ue),wt(ye.$$.fragment,ue),wt(Me.$$.fragment,ue),wt(ge.$$.fragment,ue),wt(is.$$.fragment,ue),wt(Si),wt(gs.$$.fragment,ue),bi=!1},d(ue){ue&&k(v),Yt(M),Yt(r),Yt(u),Yt(L),Yt(U),Yt(it),Yt(vt),Yt(kt),Yt(oe),Yt(ye),Yt(Me),Yt(ge),Yt(is),ss[fi].d(),Yt(gs),wn=!1,ui(sn)}}}function Ix(w,v,g){let E,M;Ve(w,qe,d=>g(0,E=d)),Ve(w,Hh,d=>g(1,M=d));let P,c;const y={"":"Nothing will happen in your chat... Boring!",timeout:"Authors of shot messages will be timed out in your chat",warning:'Authors of shot messages will receive a warning. This uses a new Twitch "moderator warning" feature.<br>🔹 This option may "break" some chat bots if you ban them in game. Although most of the known bots are in the ignore list.'};function t(d){const m=d.currentTarget;m.disabled=!0,P.once("end",()=>{m.disabled=!1}),P.play()}function o(d){const m=d.currentTarget;m.disabled=!0;const x=c.testSpeech();x.once("end",()=>{m.disabled=!1}),x.play()}ti(()=>{var d;return P=new Ye("SettingsTestSound_1","/sounds/cancer.mp3"),c=new Iu,(d=c.pepepains)==null||d.clear(),c.pepepains=new Li(Xh,1e6),()=>{P.off(),P.unload(),c.destroy()}});function p(){E.volume=Fs(this.value),qe.set(E)}function s(){E.volSound=Fs(this.value),qe.set(E)}function i(){E.volMusic=Fs(this.value),qe.set(E)}function n(){E.volForsen=Fs(this.value),qe.set(E)}const e=()=>Aa(),r=()=>vr("tips"),l=()=>vr("invulnerable"),a=()=>vr("chatIntegration"),h=()=>vr("chatIncludeMods");function f(){E.chatPunishment=Ff(this),qe.set(E)}function u(){E.chatTimeout=Fs(this.value),qe.set(E)}return[E,M,y,t,o,p,s,i,n,e,r,l,a,h,f,u]}class Bx extends Se{constructor(v){super(),Ee(this,v,Ix,Dx,Te,{})}}function Gx(w){let v;return{c(){v=mt("help_outline")},l(g){v=gt(g,"help_outline")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Nx(w){let v;return{c(){v=mt("settings")},l(g){v=gt(g,"settings")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Vx(w){let v;return{c(){v=mt("favorite")},l(g){v=gt(g,"favorite")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function zx(w){let v,g,E,M,P,c,y,t,o,p,s=`<img src="https://cdn.betterttv.net/emote/60ce593d8ed8b373e42167ec/1x.webp" alt="" width="24" height="24" class="svelte-4ivtax"/>
      What is this game about?`,i,n,e="This game reverses the roles. You are Forsen, and you are live!",r,l,a=`Your goal is to entertain bajs for 6 hours in your usual manner. During the stream you will have to keep an eye on\r
      your chat - messages will be floating on your screen - and moderate it to your best ability.`,h,f,u,d,m,x,S,T,C,A,b,R=`<img src="https://cdn.betterttv.net/emote/624630b13c6f14b688440c6f/1x.webp" alt="" width="24" height="24" class="svelte-4ivtax"/>
      The essentials`,F,L,O="During the game, you must keep an eye on two important levels:",I,B,U,H,J=`<li><b class="text-primary">Loyalty</b> - level of engagement of your viewers. If it drops to zero, you might as well
        retire. It can be gained by progressing through the stream, and performing well in games.</li> <li><b class="text-danger">Rage</b> - your level of sanity. As it goes higher, you might find it more difficult to focus
        on the stream. Rage level grows whenever you make a mistake. Don&#39;t let it go too high, this is bad for your health.</li>`,tt,X,j=`You will have to maintain these levels throughout the day, until your stream ends. Other than that - it's a\r
      regular stream day: watch some links, play some games, and be done with it after 6 hours.`,D,z,$,K,Z=`<img src="https://cdn.betterttv.net/emote/62896c693c6f14b688486988/1x.webp" alt="" width="24" height="24" class="svelte-4ivtax"/>
      Stream schedule`,it,st,at="If you are unfamiliar with Forsen's streams (which is unlikely), most streams have a similar structure:",ut,vt,xt=`<li>A &quot;react&quot; segment, where he watches some videos (&quot;links&quot;) donated by viewers</li> <li>A &quot;gaming&quot; segment, where he plays some random &quot;lidl&quot; games, generally - of lower quality</li> <li>A &quot;filler&quot; segment, which starts after he runs out of lidl games to play; usually some fan-favorite games like
        PUBG or Jackbox</li>`,Et,yt,bt=`Of course, this is an oversimplified description of what you might expect when tuning in to Forsen&#39;s streams. This
      game, however, follows the formula above. Relevant windows with content will appear according to current stage of
      the stream. Once you are done, <i>close the active window to progress to next stage</i>.`,Dt,Vt,Nt,Mt,It=`<img src="https://cdn.betterttv.net/emote/60438cc4306b602acc597f80/1x.webp" alt="" width="24" height="24" class="svelte-4ivtax"/>
      Chat integration`,Lt,kt,qt=`This game is more fun when you have someone to play with. Messages from your chat room will appear in game, and\r
      you can interact with them too!`,se,ie,oe=`Of course, rules still apply. You see a potential ban evader? Whack 'em! Is there a game complainer? Shoot 'em! Do\r
      anything to feel better and reduce that rage level. Even if some subs fall...`,zt,Zt,Bt=`<i>For chat members:</i> once you get banned in game, you may get a punishment in chat (depending on game
      settings). Don&#39;t worry, it&#39;s not permanent... Or is it?
      <br/>
      Anyways, try to have fun - pretend to be in forsen&#39;s chat for the time being.
      <img src="https://static-cdn.jtvnw.net/emoticons/v2/31100/default/dark/1.0" alt="forsenRP" width="20" height="20"/> <br/>
      Want to troll the streamer a bit? Try starting a reply thread, or spam one of those emotes he hates. But don&#39;t think
      you are safe when complaining about current game...`,Ot,St,At,Ft,ae="If you are completely clueless, here are some tips. If you watch Forsen, these won't help much.",Qt,xe,ye=`<li><div class="spoiler svelte-4ivtax">Do not rush through the content - viewers will not like it. Not that you care, Mr. Fors, but you gotta make a
          living somehow, right?</div></li> <li><div class="spoiler svelte-4ivtax">There is a set of &quot;house rules&quot; which are only enforced by streamer himself when it comes to watching videos.
          Some of these are: &quot;50k views minimum&quot;, &quot;no song requests&quot;, etc.</div></li> <li><div class="spoiler svelte-4ivtax">If you are feeling extra angry, try banning some game complainers. If some innocent subs get caught in the
          crossfire - you&#39;ll still feel a bit better, but the loyalty might drop a bit.</div></li> <li><div class="spoiler svelte-4ivtax">When moderating chat, keep an eye out for obvious targets: these are mainly &quot;ban evaders&quot; and &quot;threaders&quot;.
          Game complainers are there too, but they are a bit harder to spot - you&#39;ll have to use your judgement here.</div></li> <li><div class="spoiler svelte-4ivtax">You are a self-proclaimed &quot;God Gamer&quot; - are you ready to live up to this name? Your gamer skill will be
          tested, get ready to deliver. Loyalty depends on your success.</div></li>`,we,$t,re="And remember: this is not just a game, it's an experience. Go with the flow and enjoy the show!",be,Ie,Fe,ce,Me,Ue,Xe,hi,Qe,gi="G7Eternal",si;return M=new he({props:{size:"26px",$$slots:{default:[Gx]},$$scope:{ctx:w}}}),m=new he({props:{$$slots:{default:[Nx]},$$scope:{ctx:w}}}),B=new Bu({props:{demo:!0}}),Xe=new he({props:{color:"firebrick",size:"1.25em",$$slots:{default:[Vx]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("div"),E=Q("h5"),Ut(M.$$.fragment),P=mt(" Help"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),p=Q("h4"),p.innerHTML=s,i=lt(),n=Q("p"),n.textContent=e,r=lt(),l=Q("p"),l.textContent=a,h=lt(),f=Q("p"),u=mt("It is advised to check out the "),d=Q("b"),Ut(m.$$.fragment),x=mt(" Settings"),S=mt(` menu. You can customize your experience\r
      there, including Twitch integration settings - if you are currently streaming, your chat can take part in this game\r
      too.`),T=lt(),C=Q("hr"),A=lt(),b=Q("h4"),b.innerHTML=R,F=lt(),L=Q("p"),L.textContent=O,I=lt(),Ut(B.$$.fragment),U=lt(),H=Q("ul"),H.innerHTML=J,tt=lt(),X=Q("p"),X.textContent=j,D=lt(),z=Q("hr"),$=lt(),K=Q("h4"),K.innerHTML=Z,it=lt(),st=Q("p"),st.textContent=at,ut=lt(),vt=Q("ol"),vt.innerHTML=xt,Et=lt(),yt=Q("p"),yt.innerHTML=bt,Dt=lt(),Vt=Q("hr"),Nt=lt(),Mt=Q("h4"),Mt.innerHTML=It,Lt=lt(),kt=Q("p"),kt.textContent=qt,se=lt(),ie=Q("p"),ie.textContent=oe,zt=lt(),Zt=Q("p"),Zt.innerHTML=Bt,Ot=lt(),St=Q("hr"),At=lt(),Ft=Q("p"),Ft.textContent=ae,Qt=lt(),xe=Q("ul"),xe.innerHTML=ye,we=lt(),$t=Q("p"),$t.textContent=re,be=lt(),Ie=Q("hr"),Fe=lt(),ce=Q("div"),Me=Q("p"),Ue=mt("Game crafted with "),Ut(Xe.$$.fragment),hi=mt(` by\r
        `),Qe=Q("a"),Qe.textContent=gi,this.h()},l(We){v=q(We,"DIV",{class:!0});var Ge=nt(v);g=q(Ge,"DIV",{class:!0});var ni=nt(g);E=q(ni,"H5",{class:!0,id:!0});var xi=nt(E);Wt(M.$$.fragment,xi),P=gt(xi," Help"),xi.forEach(k),c=ht(ni),y=q(ni,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),nt(y).forEach(k),ni.forEach(k),t=ht(Ge),o=q(Ge,"DIV",{class:!0});var me=nt(o);p=q(me,"H4",{class:!0,"data-svelte-h":!0}),Rt(p)!=="svelte-12m1g29"&&(p.innerHTML=s),i=ht(me),n=q(me,"P",{"data-svelte-h":!0}),Rt(n)!=="svelte-198qx72"&&(n.textContent=e),r=ht(me),l=q(me,"P",{"data-svelte-h":!0}),Rt(l)!=="svelte-ujbqn9"&&(l.textContent=a),h=ht(me),f=q(me,"P",{});var _e=nt(f);u=gt(_e,"It is advised to check out the "),d=q(_e,"B",{});var ge=nt(d);Wt(m.$$.fragment,ge),x=gt(ge," Settings"),ge.forEach(k),S=gt(_e,` menu. You can customize your experience\r
      there, including Twitch integration settings - if you are currently streaming, your chat can take part in this game\r
      too.`),_e.forEach(k),T=ht(me),C=q(me,"HR",{}),A=ht(me),b=q(me,"H4",{class:!0,"data-svelte-h":!0}),Rt(b)!=="svelte-12wcbbf"&&(b.innerHTML=R),F=ht(me),L=q(me,"P",{"data-svelte-h":!0}),Rt(L)!=="svelte-1ih8ejb"&&(L.textContent=O),I=ht(me),Wt(B.$$.fragment,me),U=ht(me),H=q(me,"UL",{"data-svelte-h":!0}),Rt(H)!=="svelte-bu9lpd"&&(H.innerHTML=J),tt=ht(me),X=q(me,"P",{"data-svelte-h":!0}),Rt(X)!=="svelte-kbrjvy"&&(X.textContent=j),D=ht(me),z=q(me,"HR",{}),$=ht(me),K=q(me,"H4",{class:!0,"data-svelte-h":!0}),Rt(K)!=="svelte-1qc6ntr"&&(K.innerHTML=Z),it=ht(me),st=q(me,"P",{"data-svelte-h":!0}),Rt(st)!=="svelte-i5haus"&&(st.textContent=at),ut=ht(me),vt=q(me,"OL",{"data-svelte-h":!0}),Rt(vt)!=="svelte-h4jtvy"&&(vt.innerHTML=xt),Et=ht(me),yt=q(me,"P",{"data-svelte-h":!0}),Rt(yt)!=="svelte-1huxw5o"&&(yt.innerHTML=bt),Dt=ht(me),Vt=q(me,"HR",{}),Nt=ht(me),Mt=q(me,"H4",{class:!0,"data-svelte-h":!0}),Rt(Mt)!=="svelte-ymgd99"&&(Mt.innerHTML=It),Lt=ht(me),kt=q(me,"P",{"data-svelte-h":!0}),Rt(kt)!=="svelte-fnws5n"&&(kt.textContent=qt),se=ht(me),ie=q(me,"P",{"data-svelte-h":!0}),Rt(ie)!=="svelte-gq4po2"&&(ie.textContent=oe),zt=ht(me),Zt=q(me,"P",{"data-svelte-h":!0}),Rt(Zt)!=="svelte-1azox2g"&&(Zt.innerHTML=Bt),Ot=ht(me),St=q(me,"HR",{}),At=ht(me),Ft=q(me,"P",{"data-svelte-h":!0}),Rt(Ft)!=="svelte-1m8u306"&&(Ft.textContent=ae),Qt=ht(me),xe=q(me,"UL",{"data-svelte-h":!0}),Rt(xe)!=="svelte-1monfu3"&&(xe.innerHTML=ye),we=ht(me),$t=q(me,"P",{"data-svelte-h":!0}),Rt($t)!=="svelte-6zc5c0"&&($t.textContent=re),be=ht(me),Ie=q(me,"HR",{}),Fe=ht(me),ce=q(me,"DIV",{class:!0});var Mi=nt(ce);Me=q(Mi,"P",{});var Ti=nt(Me);Ue=gt(Ti,"Game crafted with "),Wt(Xe.$$.fragment,Ti),hi=gt(Ti,` by\r
        `),Qe=q(Ti,"A",{href:!0,rel:!0,target:!0,translate:!0,class:!0,"data-svelte-h":!0}),Rt(Qe)!=="svelte-10mhzzs"&&(Qe.textContent=gi),Ti.forEach(k),Mi.forEach(k),me.forEach(k),Ge.forEach(k),this.h()},h(){Y(E,"class","modal-title fs-5"),Y(E,"id","mdlHelpTitle"),Y(y,"type","button"),Y(y,"class","btn-close"),Y(y,"data-bs-dismiss","modal"),Y(y,"aria-label","Close"),Y(g,"class","modal-header"),Y(p,"class","svelte-4ivtax"),Y(b,"class","svelte-4ivtax"),Y(K,"class","svelte-4ivtax"),Y(Mt,"class","svelte-4ivtax"),Y(Qe,"href","https://g7eternal.com/"),Y(Qe,"rel","noreferrer"),Y(Qe,"target","_blank"),Y(Qe,"translate","no"),Y(Qe,"class","svelte-4ivtax"),Y(ce,"class","authorship text-muted svelte-4ivtax"),Y(o,"class","modal-body"),Y(v,"class","modal-content")},m(We,Ge){dt(We,v,Ge),V(v,g),V(g,E),Xt(M,E,null),V(E,P),V(g,c),V(g,y),V(v,t),V(v,o),V(o,p),V(o,i),V(o,n),V(o,r),V(o,l),V(o,h),V(o,f),V(f,u),V(f,d),Xt(m,d,null),V(d,x),V(f,S),V(o,T),V(o,C),V(o,A),V(o,b),V(o,F),V(o,L),V(o,I),Xt(B,o,null),V(o,U),V(o,H),V(o,tt),V(o,X),V(o,D),V(o,z),V(o,$),V(o,K),V(o,it),V(o,st),V(o,ut),V(o,vt),V(o,Et),V(o,yt),V(o,Dt),V(o,Vt),V(o,Nt),V(o,Mt),V(o,Lt),V(o,kt),V(o,se),V(o,ie),V(o,zt),V(o,Zt),V(o,Ot),V(o,St),V(o,At),V(o,Ft),V(o,Qt),V(o,xe),V(o,we),V(o,$t),V(o,be),V(o,Ie),V(o,Fe),V(o,ce),V(ce,Me),V(Me,Ue),Xt(Xe,Me,null),V(Me,hi),V(Me,Qe),si=!0},p(We,[Ge]){const ni={};Ge&1&&(ni.$$scope={dirty:Ge,ctx:We}),M.$set(ni);const xi={};Ge&1&&(xi.$$scope={dirty:Ge,ctx:We}),m.$set(xi);const me={};Ge&1&&(me.$$scope={dirty:Ge,ctx:We}),Xe.$set(me)},i(We){si||(Tt(M.$$.fragment,We),Tt(m.$$.fragment,We),Tt(B.$$.fragment,We),Tt(Xe.$$.fragment,We),si=!0)},o(We){wt(M.$$.fragment,We),wt(m.$$.fragment,We),wt(B.$$.fragment,We),wt(Xe.$$.fragment,We),si=!1},d(We){We&&k(v),Yt(M),Yt(m),Yt(B),Yt(Xe)}}}class Ux extends Se{constructor(v){super(),Ee(this,v,null,zx,Te,{})}}function Xx(w){let v;return{c(){v=mt("bug_report")},l(g){v=gt(g,"bug_report")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Yx(w){let v;return{c(){v=mt("description")},l(g){v=gt(g,"description")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function $x(w){let v;return{c(){v=mt("chat")},l(g){v=gt(g,"chat")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Wx(w){let v;return{c(){v=mt("mail")},l(g){v=gt(g,"mail")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Hx(w){let v,g,E,M,P,c,y,t,o,p,s="If you'd like to report a bug or make a suggestion, choose the approach that suits you best:",i,n,e,r,l,a,h,f,u="open a ticket",d,m,x,S,T,C,A,b,R="@g7eternal",F,L,O,I,B,U,H,J,tt="send me an email,",X,j,D,z=`❇️ Video links can be submitted
      <a href="https://forms.gle/kiHYrvPR9Yr5mYBc6" target="_blank">here</a>.`,$;return M=new he({props:{size:"26px",$$slots:{default:[Xx]},$$scope:{ctx:w}}}),l=new he({props:{$$slots:{default:[Yx]},$$scope:{ctx:w}}}),T=new he({props:{$$slots:{default:[$x]},$$scope:{ctx:w}}}),B=new he({props:{$$slots:{default:[Wx]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("div"),E=Q("h5"),Ut(M.$$.fragment),P=mt(" Report a problem"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),p=Q("p"),p.textContent=s,i=lt(),n=Q("ul"),e=Q("li"),r=Q("b"),Ut(l.$$.fragment),a=mt(" A ticket:"),h=lt(),f=Q("a"),f.textContent=u,d=mt(`\r
        in our GitHub repository, and we will review your suggestion`),m=lt(),x=Q("li"),S=Q("b"),Ut(T.$$.fragment),C=mt(" A message:"),A=mt(`\r
        you can message `),b=Q("code"),b.textContent=R,F=mt(" in Discord or Twitch, and explain the problem"),L=lt(),O=Q("li"),I=Q("b"),Ut(B.$$.fragment),U=mt(" An email:"),H=mt(`\r
        another classic way of communication -\r
        `),J=Q("a"),J.textContent=tt,X=mt(" be as verbose as possible, and I'll get back to you later"),j=lt(),D=Q("p"),D.innerHTML=z,this.h()},l(K){v=q(K,"DIV",{class:!0});var Z=nt(v);g=q(Z,"DIV",{class:!0});var it=nt(g);E=q(it,"H5",{class:!0,id:!0});var st=nt(E);Wt(M.$$.fragment,st),P=gt(st," Report a problem"),st.forEach(k),c=ht(it),y=q(it,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),nt(y).forEach(k),it.forEach(k),t=ht(Z),o=q(Z,"DIV",{class:!0});var at=nt(o);p=q(at,"P",{"data-svelte-h":!0}),Rt(p)!=="svelte-1w3e9di"&&(p.textContent=s),i=ht(at),n=q(at,"UL",{});var ut=nt(n);e=q(ut,"LI",{class:!0});var vt=nt(e);r=q(vt,"B",{});var xt=nt(r);Wt(l.$$.fragment,xt),a=gt(xt," A ticket:"),xt.forEach(k),h=ht(vt),f=q(vt,"A",{href:!0,target:!0,"data-svelte-h":!0}),Rt(f)!=="svelte-5k4tjp"&&(f.textContent=u),d=gt(vt,`\r
        in our GitHub repository, and we will review your suggestion`),vt.forEach(k),m=ht(ut),x=q(ut,"LI",{class:!0});var Et=nt(x);S=q(Et,"B",{});var yt=nt(S);Wt(T.$$.fragment,yt),C=gt(yt," A message:"),yt.forEach(k),A=gt(Et,`\r
        you can message `),b=q(Et,"CODE",{"data-svelte-h":!0}),Rt(b)!=="svelte-6ub8a7"&&(b.textContent=R),F=gt(Et," in Discord or Twitch, and explain the problem"),Et.forEach(k),L=ht(ut),O=q(ut,"LI",{class:!0});var bt=nt(O);I=q(bt,"B",{});var Dt=nt(I);Wt(B.$$.fragment,Dt),U=gt(Dt," An email:"),Dt.forEach(k),H=gt(bt,`\r
        another classic way of communication -\r
        `),J=q(bt,"A",{href:!0,target:!0,"data-svelte-h":!0}),Rt(J)!=="svelte-kxap61"&&(J.textContent=tt),X=gt(bt," be as verbose as possible, and I'll get back to you later"),bt.forEach(k),ut.forEach(k),j=ht(at),D=q(at,"P",{"data-svelte-h":!0}),Rt(D)!=="svelte-9o93pg"&&(D.innerHTML=z),at.forEach(k),Z.forEach(k),this.h()},h(){Y(E,"class","modal-title fs-5"),Y(E,"id","mdlReportBugTitle"),Y(y,"type","button"),Y(y,"class","btn-close"),Y(y,"data-bs-dismiss","modal"),Y(y,"aria-label","Close"),Y(g,"class","modal-header"),Y(f,"href","https://github.com/badoge/forsen.horse/issues/new?labels=forsen-is-live"),Y(f,"target","_blank"),Y(e,"class","svelte-dm60o2"),Y(x,"class","svelte-dm60o2"),Y(J,"href","mailto:forsen-horse@g7eternal.com?subject=Forsen%20is%20live!%20-%20Bug%20report"),Y(J,"target","_blank"),Y(O,"class","svelte-dm60o2"),Y(o,"class","modal-body"),Y(v,"class","modal-content")},m(K,Z){dt(K,v,Z),V(v,g),V(g,E),Xt(M,E,null),V(E,P),V(g,c),V(g,y),V(v,t),V(v,o),V(o,p),V(o,i),V(o,n),V(n,e),V(e,r),Xt(l,r,null),V(r,a),V(e,h),V(e,f),V(e,d),V(n,m),V(n,x),V(x,S),Xt(T,S,null),V(S,C),V(x,A),V(x,b),V(x,F),V(n,L),V(n,O),V(O,I),Xt(B,I,null),V(I,U),V(O,H),V(O,J),V(O,X),V(o,j),V(o,D),$=!0},p(K,[Z]){const it={};Z&1&&(it.$$scope={dirty:Z,ctx:K}),M.$set(it);const st={};Z&1&&(st.$$scope={dirty:Z,ctx:K}),l.$set(st);const at={};Z&1&&(at.$$scope={dirty:Z,ctx:K}),T.$set(at);const ut={};Z&1&&(ut.$$scope={dirty:Z,ctx:K}),B.$set(ut)},i(K){$||(Tt(M.$$.fragment,K),Tt(l.$$.fragment,K),Tt(T.$$.fragment,K),Tt(B.$$.fragment,K),$=!0)},o(K){wt(M.$$.fragment,K),wt(l.$$.fragment,K),wt(T.$$.fragment,K),wt(B.$$.fragment,K),$=!1},d(K){K&&k(v),Yt(M),Yt(l),Yt(T),Yt(B)}}}class kx extends Se{constructor(v){super(),Ee(this,v,null,Hx,Te,{})}}function jx(w){let v;return{c(){v=mt("video_library")},l(g){v=gt(g,"video_library")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Kx(w){let v;return{c(){v=mt("video_library")},l(g){v=gt(g,"video_library")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function Zx(w){let v,g,E,M,P,c,y,t,o,p=`<p>Are you ready to endure daily links and same 3 games for 6 hours per day?</p> <p>This mode has the following features:</p> <ul><li class="svelte-1n8065p">Each day starts with the <b class="text-info">loyalty</b> and <b class="text-danger">rage</b> levels from the previous
        day.</li> <li class="svelte-1n8065p">When a day starts, you may get a notification about
        <b class="text-info">loyalty</b> and
        <b class="text-danger">rage</b> <b>modifiers</b>, which affect the difficulty for the day.</li> <li class="svelte-1n8065p">You will have to track duplicate videos throughout the whole run.</li> <li class="svelte-1n8065p">Progress is <em>saved</em> at the end of each day, you can stop playing after new day is announced and continue the
        run later.</li></ul>`,s,i,n,e,r,l,a,h;return M=new he({props:{size:"26px",$$slots:{default:[jx]},$$scope:{ctx:w}}}),e=new he({props:{size:"20px",$$slots:{default:[Kx]},$$scope:{ctx:w}}}),{c(){v=Q("div"),g=Q("div"),E=Q("h5"),Ut(M.$$.fragment),P=mt(" Endless mode"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),o.innerHTML=p,s=lt(),i=Q("div"),n=Q("button"),Ut(e.$$.fragment),r=mt(" Start game"),this.h()},l(f){v=q(f,"DIV",{class:!0});var u=nt(v);g=q(u,"DIV",{class:!0});var d=nt(g);E=q(d,"H5",{class:!0,id:!0});var m=nt(E);Wt(M.$$.fragment,m),P=gt(m," Endless mode"),m.forEach(k),c=ht(d),y=q(d,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),nt(y).forEach(k),d.forEach(k),t=ht(u),o=q(u,"DIV",{class:!0,"data-svelte-h":!0}),Rt(o)!=="svelte-1572ouz"&&(o.innerHTML=p),s=ht(u),i=q(u,"DIV",{class:!0});var x=nt(i);n=q(x,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var S=nt(n);Wt(e.$$.fragment,S),r=gt(S," Start game"),S.forEach(k),x.forEach(k),u.forEach(k),this.h()},h(){Y(E,"class","modal-title fs-5"),Y(E,"id","mdlEndlessTitle"),Y(y,"type","button"),Y(y,"class","btn-close"),Y(y,"data-bs-dismiss","modal"),Y(y,"aria-label","Close"),Y(g,"class","modal-header"),Y(o,"class","modal-body"),Y(n,"type","button"),Y(n,"class","btn btn-success"),Y(n,"data-bs-dismiss","modal"),Y(i,"class","modal-footer d-flex align-items-center justify-content-center"),Y(v,"class","modal-content")},m(f,u){dt(f,v,u),V(v,g),V(g,E),Xt(M,E,null),V(E,P),V(g,c),V(g,y),V(v,t),V(v,o),V(v,s),V(v,i),V(i,n),Xt(e,n,null),V(n,r),l=!0,a||(h=ne(n,"click",w[0]),a=!0)},p(f,[u]){const d={};u&2&&(d.$$scope={dirty:u,ctx:f}),M.$set(d);const m={};u&2&&(m.$$scope={dirty:u,ctx:f}),e.$set(m)},i(f){l||(Tt(M.$$.fragment,f),Tt(e.$$.fragment,f),l=!0)},o(f){wt(M.$$.fragment,f),wt(e.$$.fragment,f),l=!1},d(f){f&&k(v),Yt(M),Yt(e),a=!1,h()}}}function Jx(w){function v(){console.info("Starting new ENDLESS game..."),de.reset(!0).nextDay()}return[v]}class Qx extends Se{constructor(v){super(),Ee(this,v,Jx,Zx,Te,{})}}function Ph(w,v,g){const E=w.slice();return E[2]=v[g],E}function Rh(w,v,g){const E=w.slice();return E[5]=v[g],E}function Lh(w,v,g){const E=w.slice();return E[5]=v[g],E}function qx(w){let v;return{c(){v=mt("checklist")},l(g){v=gt(g,"checklist")},m(g,E){dt(g,v,E)},d(g){g&&k(v)}}}function _x(w){let v,g='<span class="visually-hidden">Loading...</span>';return{c(){v=Q("div"),v.innerHTML=g,this.h()},l(E){v=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1otn9k5"&&(v.innerHTML=g),this.h()},h(){Y(v,"class","spinner-border text-secondary me-2 portrait"),Y(v,"role","status"),Y(v,"title","Loading...")},m(E,M){dt(E,v,M)},p:jt,d(E){E&&k(v)}}}function ty(w){let v,g=ke(w[0]),E=[];for(let M=0;M<g.length;M+=1)E[M]=Bh(Ph(w,g,M));return{c(){for(let M=0;M<E.length;M+=1)E[M].c();v=Le()},l(M){for(let P=0;P<E.length;P+=1)E[P].l(M);v=Le()},m(M,P){for(let c=0;c<E.length;c+=1)E[c]&&E[c].m(M,P);dt(M,v,P)},p(M,P){if(P&3){g=ke(M[0]);let c;for(c=0;c<g.length;c+=1){const y=Ph(M,g,c);E[c]?E[c].p(y,P):(E[c]=Bh(y),E[c].c(),E[c].m(v.parentNode,v))}for(;c<E.length;c+=1)E[c].d(1);E.length=g.length}},d(M){M&&k(v),Ii(E,M)}}}function ey(w){let v,g,E,M,P,c="Failed to fetch changelogs",y,t,o,p=(w[0].message||String(w[0]))+"",s;return{c(){v=Q("div"),g=Q("img"),M=lt(),P=Q("div"),P.textContent=c,y=lt(),t=Q("div"),o=Q("small"),s=mt(p),this.h()},l(i){v=q(i,"DIV",{class:!0});var n=nt(v);g=q(n,"IMG",{src:!0,alt:!0}),M=ht(n),P=q(n,"DIV",{class:!0,"data-svelte-h":!0}),Rt(P)!=="svelte-r3op25"&&(P.textContent=c),y=ht(n),t=q(n,"DIV",{});var e=nt(t);o=q(e,"SMALL",{});var r=nt(o);s=gt(r,p),r.forEach(k),e.forEach(k),n.forEach(k),this.h()},h(){Ae(g.src,E="https://cdn.7tv.app/emote/643deb6ed2f582316651d979/4x.webp")||Y(g,"src",E),Y(g,"alt","bbnotL"),Y(P,"class","fs-5 my-2 fw-bold text-warning"),Y(v,"class","d-flex flex-column align-items-center justify-content-center")},m(i,n){dt(i,v,n),V(v,g),V(v,M),V(v,P),V(v,y),V(v,t),V(t,o),V(o,s)},p(i,n){n&1&&p!==(p=(i[0].message||String(i[0]))+"")&&ee(s,p)},d(i){i&&k(v)}}}function Fh(w){let v,g="Current";return{c(){v=Q("span"),v.textContent=g,this.h()},l(E){v=q(E,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-eyfpnf"&&(v.textContent=g),this.h()},h(){Y(v,"class","badge text-bg-secondary ms-1")},m(E,M){dt(E,v,M)},d(E){E&&k(v)}}}function Oh(w){let v,g,E=w[5]+"";return{c(){v=Q("p"),g=new Xr(!1),this.h()},l(M){v=q(M,"P",{});var P=nt(v);g=Yr(P,!1),P.forEach(k),this.h()},h(){g.a=null},m(M,P){dt(M,v,P),g.m(E,v)},p(M,P){P&1&&E!==(E=M[5]+"")&&g.p(E)},d(M){M&&k(v)}}}function Dh(w){let v,g=ke(w[2].list),E=[];for(let M=0;M<g.length;M+=1)E[M]=Ih(Rh(w,g,M));return{c(){v=Q("ul");for(let M=0;M<E.length;M+=1)E[M].c()},l(M){v=q(M,"UL",{});var P=nt(v);for(let c=0;c<E.length;c+=1)E[c].l(P);P.forEach(k)},m(M,P){dt(M,v,P);for(let c=0;c<E.length;c+=1)E[c]&&E[c].m(v,null)},p(M,P){if(P&1){g=ke(M[2].list);let c;for(c=0;c<g.length;c+=1){const y=Rh(M,g,c);E[c]?E[c].p(y,P):(E[c]=Ih(y),E[c].c(),E[c].m(v,null))}for(;c<E.length;c+=1)E[c].d(1);E.length=g.length}},d(M){M&&k(v),Ii(E,M)}}}function Ih(w){let v,g,E=w[5]+"";return{c(){v=Q("li"),g=new Xr(!1),this.h()},l(M){v=q(M,"LI",{});var P=nt(v);g=Yr(P,!1),P.forEach(k),this.h()},h(){g.a=null},m(M,P){dt(M,v,P),g.m(E,v)},p(M,P){P&1&&E!==(E=M[5]+"")&&g.p(E)},d(M){M&&k(v)}}}function Bh(w){var x;let v,g,E,M,P="Version",c,y,t=w[2].version+"",o,p,s,i,n=Pr(w[2].date)+"",e,r,l,a,h,f=w[2].version===w[1]&&Fh(),u=ke(w[2].paragraphs),d=[];for(let S=0;S<u.length;S+=1)d[S]=Oh(Lh(w,u,S));let m=((x=w[2].list)==null?void 0:x.length)>0&&Dh(w);return{c(){v=Q("div"),g=Q("h5"),E=Q("div"),M=Q("span"),M.textContent=P,c=lt(),y=Q("strong"),o=mt(t),p=lt(),f&&f.c(),s=lt(),i=Q("small"),e=mt(n),l=lt();for(let S=0;S<d.length;S+=1)d[S].c();a=lt(),m&&m.c(),h=lt(),this.h()},l(S){v=q(S,"DIV",{});var T=nt(v);g=q(T,"H5",{class:!0});var C=nt(g);E=q(C,"DIV",{});var A=nt(E);M=q(A,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(M)!=="svelte-ct0yht"&&(M.textContent=P),c=ht(A),y=q(A,"STRONG",{});var b=nt(y);o=gt(b,t),b.forEach(k),p=ht(A),f&&f.l(A),A.forEach(k),s=ht(C),i=q(C,"SMALL",{class:!0,style:!0,title:!0});var R=nt(i);e=gt(R,n),R.forEach(k),C.forEach(k),l=ht(T);for(let F=0;F<d.length;F+=1)d[F].l(T);a=ht(T),m&&m.l(T),h=ht(T),T.forEach(k),this.h()},h(){Y(M,"class","text-secondary"),Y(i,"class","text-muted fst-italic mt-2 ms-auto"),Ht(i,"font-size","50%"),Y(i,"title",r=po(w[2].date)),Y(g,"class","d-flex flex-row border-bottom align-items-center py-1")},m(S,T){dt(S,v,T),V(v,g),V(g,E),V(E,M),V(E,c),V(E,y),V(y,o),V(E,p),f&&f.m(E,null),V(g,s),V(g,i),V(i,e),V(v,l);for(let C=0;C<d.length;C+=1)d[C]&&d[C].m(v,null);V(v,a),m&&m.m(v,null),V(v,h)},p(S,T){var C;if(T&1&&t!==(t=S[2].version+"")&&ee(o,t),S[2].version===S[1]?f||(f=Fh(),f.c(),f.m(E,null)):f&&(f.d(1),f=null),T&1&&n!==(n=Pr(S[2].date)+"")&&ee(e,n),T&1&&r!==(r=po(S[2].date))&&Y(i,"title",r),T&1){u=ke(S[2].paragraphs);let A;for(A=0;A<u.length;A+=1){const b=Lh(S,u,A);d[A]?d[A].p(b,T):(d[A]=Oh(b),d[A].c(),d[A].m(v,a))}for(;A<d.length;A+=1)d[A].d(1);d.length=u.length}((C=S[2].list)==null?void 0:C.length)>0?m?m.p(S,T):(m=Dh(S),m.c(),m.m(v,h)):m&&(m.d(1),m=null)},d(S){S&&k(v),f&&f.d(),Ii(d,S),m&&m.d()}}}function iy(w){let v,g,E,M,P,c,y,t,o,p;M=new he({props:{size:"26px",$$slots:{default:[qx]},$$scope:{ctx:w}}});function s(e,r){var l;return e[0]instanceof Error?ey:((l=e[0])==null?void 0:l.length)>0?ty:_x}let i=s(w),n=i(w);return{c(){v=Q("div"),g=Q("div"),E=Q("h5"),Ut(M.$$.fragment),P=mt(" Changelogs"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),n.c(),this.h()},l(e){v=q(e,"DIV",{class:!0});var r=nt(v);g=q(r,"DIV",{class:!0});var l=nt(g);E=q(l,"H5",{class:!0,id:!0});var a=nt(E);Wt(M.$$.fragment,a),P=gt(a," Changelogs"),a.forEach(k),c=ht(l),y=q(l,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),nt(y).forEach(k),l.forEach(k),t=ht(r),o=q(r,"DIV",{class:!0});var h=nt(o);n.l(h),h.forEach(k),r.forEach(k),this.h()},h(){Y(E,"class","modal-title fs-5"),Y(E,"id","mdlHelpTitle"),Y(y,"type","button"),Y(y,"class","btn-close"),Y(y,"data-bs-dismiss","modal"),Y(y,"aria-label","Close"),Y(g,"class","modal-header"),Y(o,"class","modal-body"),Y(v,"class","modal-content")},m(e,r){dt(e,v,r),V(v,g),V(g,E),Xt(M,E,null),V(E,P),V(g,c),V(g,y),V(v,t),V(v,o),n.m(o,null),p=!0},p(e,[r]){const l={};r&1024&&(l.$$scope={dirty:r,ctx:e}),M.$set(l),i===(i=s(e))&&n?n.p(e,r):(n.d(1),n=i(e),n&&(n.c(),n.m(o,null)))},i(e){p||(Tt(M.$$.fragment,e),p=!0)},o(e){wt(M.$$.fragment,e),p=!1},d(e){e&&k(v),Yt(M),n.d()}}}function sy(w,v,g){let E;return Ve(w,ga,P=>g(0,E=P)),[E,"1.2.0"]}class ny extends Se{constructor(v){super(),Ee(this,v,sy,iy,Te,{})}}function ry(w){let v,g,E,M,P,c,y,t,o,p,s,i,n,e,r,l,a,h,f,u;return E=new Bx({}),y=new Ux({}),s=new kx({}),r=new Qx({}),f=new ny({}),{c(){v=Q("div"),g=Q("div"),Ut(E.$$.fragment),M=lt(),P=Q("div"),c=Q("div"),Ut(y.$$.fragment),t=lt(),o=Q("div"),p=Q("div"),Ut(s.$$.fragment),i=lt(),n=Q("div"),e=Q("div"),Ut(r.$$.fragment),l=lt(),a=Q("div"),h=Q("div"),Ut(f.$$.fragment),this.h()},l(d){v=q(d,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var m=nt(v);g=q(m,"DIV",{class:!0});var x=nt(g);Wt(E.$$.fragment,x),x.forEach(k),m.forEach(k),M=ht(d),P=q(d,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var S=nt(P);c=q(S,"DIV",{class:!0});var T=nt(c);Wt(y.$$.fragment,T),T.forEach(k),S.forEach(k),t=ht(d),o=q(d,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var C=nt(o);p=q(C,"DIV",{class:!0});var A=nt(p);Wt(s.$$.fragment,A),A.forEach(k),C.forEach(k),i=ht(d),n=q(d,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var b=nt(n);e=q(b,"DIV",{class:!0});var R=nt(e);Wt(r.$$.fragment,R),R.forEach(k),b.forEach(k),l=ht(d),a=q(d,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var F=nt(a);h=q(F,"DIV",{class:!0});var L=nt(h);Wt(f.$$.fragment,L),L.forEach(k),F.forEach(k),this.h()},h(){Y(g,"class","modal-dialog modal-xl modal-dialog-scrollable modal-dialog-centered"),Y(v,"class","modal fade"),Y(v,"id","mdlSettings"),Y(v,"tabindex","-1"),Y(v,"aria-labelledby","mdlSettingsTitle"),Y(v,"aria-hidden","true"),Y(c,"class","modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered"),Y(P,"class","modal fade"),Y(P,"id","mdlHelp"),Y(P,"tabindex","-1"),Y(P,"aria-labelledby","mdlHelpTitle"),Y(P,"aria-hidden","true"),Y(p,"class","modal-dialog modal-dialog-scrollable modal-dialog-centered"),Y(o,"class","modal fade"),Y(o,"id","mdlReportBug"),Y(o,"tabindex","-1"),Y(o,"aria-labelledby","mdlReportBugTitle"),Y(o,"aria-hidden","true"),Y(e,"class","modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered"),Y(n,"class","modal fade"),Y(n,"id","mdlEndless"),Y(n,"tabindex","-1"),Y(n,"aria-labelledby","mdlEndlessTitle"),Y(n,"aria-hidden","true"),Y(h,"class","modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered"),Y(a,"class","modal fade"),Y(a,"id","mdlChangelogs"),Y(a,"tabindex","-1"),Y(a,"aria-labelledby","mdlChangelogsTitle"),Y(a,"aria-hidden","true")},m(d,m){dt(d,v,m),V(v,g),Xt(E,g,null),dt(d,M,m),dt(d,P,m),V(P,c),Xt(y,c,null),dt(d,t,m),dt(d,o,m),V(o,p),Xt(s,p,null),dt(d,i,m),dt(d,n,m),V(n,e),Xt(r,e,null),dt(d,l,m),dt(d,a,m),V(a,h),Xt(f,h,null),u=!0},p:jt,i(d){u||(Tt(E.$$.fragment,d),Tt(y.$$.fragment,d),Tt(s.$$.fragment,d),Tt(r.$$.fragment,d),Tt(f.$$.fragment,d),u=!0)},o(d){wt(E.$$.fragment,d),wt(y.$$.fragment,d),wt(s.$$.fragment,d),wt(r.$$.fragment,d),wt(f.$$.fragment,d),u=!1},d(d){d&&(k(v),k(M),k(P),k(t),k(o),k(i),k(n),k(l),k(a)),Yt(E),Yt(y),Yt(s),Yt(r),Yt(f)}}}class ay extends Se{constructor(v){super(),Ee(this,v,null,ry,Te,{})}}function oy(w){let v,g,E="Getting ready...",M,P,c='<span class="visually-hidden">Loading...</span>',y,t=w[0]&&Gh();return{c(){v=Q("div"),g=Q("h1"),g.textContent=E,M=lt(),P=Q("div"),P.innerHTML=c,y=lt(),t&&t.c(),this.h()},l(o){v=q(o,"DIV",{class:!0});var p=nt(v);g=q(p,"H1",{"data-svelte-h":!0}),Rt(g)!=="svelte-1cerigb"&&(g.textContent=E),M=ht(p),P=q(p,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Rt(P)!=="svelte-156k8au"&&(P.innerHTML=c),y=ht(p),t&&t.l(p),p.forEach(k),this.h()},h(){Y(P,"class","spinner-border svelte-1o9yzvs"),Y(P,"role","status"),Y(v,"class","loader-container svelte-1o9yzvs")},m(o,p){dt(o,v,p),V(v,g),V(v,M),V(v,P),V(v,y),t&&t.m(v,null)},p(o,p){o[0]?t?p&1&&Tt(t,1):(t=Gh(),t.c(),Tt(t,1),t.m(v,null)):t&&(t.d(1),t=null)},i(o){Tt(t)},o:jt,d(o){o&&k(v),t&&t.d()}}}function ly(w){let v,g,E,M,P,c,y,t,o;M=new ay({});var p=w[2];function s(i,n){return{props:{id:zn}}}return p&&(c=Gs(p,s())),t=new dx({}),{c(){v=Q("div"),g=Q("div"),E=Q("div"),Ut(M.$$.fragment),P=lt(),c&&Ut(c.$$.fragment),y=lt(),Ut(t.$$.fragment),this.h()},l(i){v=q(i,"DIV",{id:!0,class:!0});var n=nt(v);g=q(n,"DIV",{id:!0,class:!0});var e=nt(g);E=q(e,"DIV",{class:!0});var r=nt(E);Wt(M.$$.fragment,r),P=ht(r),c&&Wt(c.$$.fragment,r),y=ht(r),Wt(t.$$.fragment,r),r.forEach(k),e.forEach(k),n.forEach(k),this.h()},h(){Y(E,"class","vertical-constraint content-holder svelte-1o9yzvs"),Y(g,"id","tippyRoot"),Y(g,"class","horizontal-constraint svelte-1o9yzvs"),Y(v,"id","fullscreener"),Y(v,"class","horizontal-constraint outer-constraint svelte-1o9yzvs")},m(i,n){dt(i,v,n),V(v,g),V(g,E),Xt(M,E,null),V(E,P),c&&Xt(c,E,null),V(E,y),Xt(t,E,null),o=!0},p(i,n){if(n&4&&p!==(p=i[2])){if(c){Oe();const e=c;wt(e.$$.fragment,1,0,()=>{Yt(e,1)}),De()}p?(c=Gs(p,s()),Ut(c.$$.fragment),Tt(c.$$.fragment,1),Xt(c,E,y)):c=null}},i(i){o||(Tt(M.$$.fragment,i),c&&Tt(c.$$.fragment,i),Tt(t.$$.fragment,i),o=!0)},o(i){wt(M.$$.fragment,i),c&&wt(c.$$.fragment,i),wt(t.$$.fragment,i),o=!1},d(i){i&&k(v),Yt(M),c&&Yt(c),Yt(t)}}}function Gh(w){let v,g="There seems to be some sort of networking issue. Please check your Internet connection.",E;return{c(){v=Q("div"),v.textContent=g,this.h()},l(M){v=q(M,"DIV",{class:!0,"data-svelte-h":!0}),Rt(v)!=="svelte-1jfl9pw"&&(v.textContent=g),this.h()},h(){Y(v,"class","text-warning mt-2")},m(M,P){dt(M,v,P)},i(M){M&&(E||$e(()=>{E=Je(v,Di,{delay:1e4,duration:1e3,y:100}),E.start()}))},o:jt,d(M){M&&k(v)}}}function hy(w){let v,g,E,M,P,c,y,t,o,p,s;const i=[ly,oy],n=[];function e(r,l){return r[1]?0:1}return t=e(w),o=n[t]=i[t](w),{c(){v=Q("link"),g=Q("link"),E=Q("link"),M=Q("meta"),P=Q("meta"),c=Q("meta"),y=lt(),o.c(),p=Le(),this.h()},l(r){const l=Of("svelte-1cdnkvn",document.head);v=q(l,"LINK",{rel:!0,href:!0}),g=q(l,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),E=q(l,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),M=q(l,"META",{name:!0,content:!0}),P=q(l,"META",{name:!0,content:!0}),c=q(l,"META",{name:!0,content:!0}),l.forEach(k),y=ht(r),o.l(r),p=Le(),this.h()},h(){document.title="🔴 Forsen is live!",Y(v,"rel","icon"),Y(v,"href","favicon.ico"),Y(g,"rel","preload"),Y(g,"href","/css/pricedown.otf"),Y(g,"as","font"),Y(g,"type","font/otf"),Y(g,"crossorigin","anonymous"),Y(E,"rel","preload"),Y(E,"href","/css/ds-digit.ttf"),Y(E,"as","font"),Y(E,"type","font/ttf"),Y(E,"crossorigin","anonymous"),Y(M,"name","viewport"),Y(M,"content","width=device-width, initial-scale=1, shrink-to-fit=no"),Y(P,"name","description"),Y(P,"content","A game where you try to be Forsen, and also to stay sane"),Y(c,"name","keywords"),Y(c,"content","forsen, chat, twitch, stream, game, mods, ban, title, games, rage, insane, permaban")},m(r,l){V(document.head,v),V(document.head,g),V(document.head,E),V(document.head,M),V(document.head,P),V(document.head,c),dt(r,y,l),n[t].m(r,l),dt(r,p,l),s=!0},p(r,[l]){let a=t;t=e(r),t===a?n[t].p(r,l):(Oe(),wt(n[a],1,1,()=>{n[a]=null}),De(),o=n[t],o?o.p(r,l):(o=n[t]=i[t](r),o.c()),Tt(o,1),o.m(p.parentNode,p))},i(r){s||(Tt(o),s=!0)},o(r){wt(o),s=!1},d(r){r&&(k(y),k(p)),k(v),k(g),k(E),k(M),k(P),k(c),n[t].d(r)}}}function uy(w,v,g){let E,M;Ve(w,Ua,t=>g(4,E=t));let P=!1,c=!1;const y=de.mountedComponent;return Ve(w,y,t=>g(2,M=t)),ti(()=>{g(0,P=E.valid),Promise.all([zf(),Uf()]).then(()=>{g(1,c=!0)})}),[P,c,M,y]}class yy extends Se{constructor(v){super(),Ee(this,v,uy,hy,Te,{})}}export{yy as component,gy as universal};
