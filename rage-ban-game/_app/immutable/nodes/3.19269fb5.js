var ef=Object.defineProperty;var sf=(M,p,g)=>p in M?ef(M,p,{enumerable:!0,configurable:!0,writable:!0,value:g}):M[p]=g;var sr=(M,p,g)=>(sf(M,typeof p!="symbol"?p+"":p,g),g);import{u as Qt,A as La,B as nf,C as rf,D as nr,E as af,F as hi,G as ra,s as Se,f as Q,a as lt,l as mt,g as q,h as rt,H as Ot,c as ht,d as K,m as gt,j as W,I as pe,J as ws,k as kt,i as dt,r as V,K as ci,L as se,M as Ei,N as Ye,O as fs,o as ti,p as ji,P as bs,e as Le,n as ie,Q as Ae,q as Os,R as Br,S as ys,T as Gi,U as io,v as We,V as Gr,w as of,x as lf,y as hf,z as uf,W as mh,X as gh,Y as xh,Z as ff,_ as so,$ as df}from"../chunks/scheduler.42cb3d2e.js";import{n as yh,l as Th,f as cf,h as vf,g as Ie,t as Mt,c as Be,a as Tt,S as Ee,i as Ce,b as Xt,d as $t,m as Yt,j as je,e as Wt,k as Fi}from"../chunks/index.ee22a225.js";import{w as ni}from"../chunks/paths.1d398e2d.js";import{n as ri,F as rr,t as Zi,g as aa,r as Nr,s as He,a as Sh,b as re,c as pf,d as Vr,M as fe,e as si,f as Fa,h as zn,C as Dn,i as Hs,p as Eh,j as Ke,k as Ks,l as mf,m as no,o as Ch,q as Ah,u as Mh,v as ar,w as ro,x as ao,y as oo,z as or,G as gf,A as wh,B as Oa,D as xf,E as yf,H as Tf}from"../chunks/GameTitle.3d27aeb8.js";import{v as lo}from"../chunks/environment.07522c65.js";const Sf=!1,Ef=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Cf(M,p,g,E){if(!p)return Qt;const b=M.getBoundingClientRect();if(p.left===b.left&&p.right===b.right&&p.top===b.top&&p.bottom===b.bottom)return Qt;const{delay:R=0,duration:c=300,easing:y=La,start:t=yh()+R,end:o=t+c,tick:v=Qt,css:s}=g(M,{from:p,to:b},E);let i=!0,n=!1,e;function r(){s&&(e=cf(M,0,1,c,R,y,s)),R||(n=!0)}function l(){s&&vf(M,e),i=!1}return Th(a=>{if(!n&&a>=t&&(n=!0),n&&a>=o&&(v(1,0),l()),!i)return!1;if(n){const h=a-t,f=0+1*y(h/c);v(f,1-f)}return!0}),r(),v(0,1),l}function Af(M){const p=getComputedStyle(M);if(p.position!=="absolute"&&p.position!=="fixed"){const{width:g,height:E}=p,b=M.getBoundingClientRect();M.style.position="absolute",M.style.width=g,M.style.height=E,Mf(M,b)}}function Mf(M,p){const g=M.getBoundingClientRect();if(p.left!==g.left||p.top!==g.top){const E=getComputedStyle(M),b=E.transform==="none"?"":E.transform;M.style.transform=`${b} translate(${p.left-g.left}px, ${p.top-g.top}px)`}}function ho(M,p){const g=p.token={};function E(b,R,c,y){if(p.token!==g)return;p.resolved=y;let t=p.ctx;c!==void 0&&(t=t.slice(),t[c]=y);const o=b&&(p.current=b)(t);let v=!1;p.block&&(p.blocks?p.blocks.forEach((s,i)=>{i!==R&&s&&(Ie(),Mt(s,1,1,()=>{p.blocks[i]===s&&(p.blocks[i]=null)}),Be())}):p.block.d(1),o.c(),Tt(o,1),o.m(p.mount(),p.anchor),v=!0),p.block=o,p.blocks&&(p.blocks[R]=o),v&&af()}if(nf(M)){const b=rf();if(M.then(R=>{nr(b),E(p.then,1,p.value,R),nr(null)},R=>{if(nr(b),E(p.catch,2,p.error,R),nr(null),!p.hasCatch)throw R}),p.current!==p.pending)return E(p.pending,0),!0}else{if(p.current!==p.then)return E(p.then,1,p.value,M),!0;p.resolved=M}}function wf(M,p,g){const E=p.slice(),{resolved:b}=M;M.current===M.then&&(E[M.value]=b),M.current===M.catch&&(E[M.error]=b),M.block.p(E,g)}function _e(M){return(M==null?void 0:M.length)!==void 0?M:Array.from(M)}function bf(M,p){M.d(1),p.delete(M.key)}function Pf(M,p){Mt(M,1,1,()=>{p.delete(M.key)})}function Rf(M,p){M.f(),Pf(M,p)}function bh(M,p,g,E,b,R,c,y,t,o,v,s){let i=M.length,n=R.length,e=i;const r={};for(;e--;)r[M[e].key]=e;const l=[],a=new Map,h=new Map,f=[];for(e=n;e--;){const x=s(b,R,e),S=g(x);let T=c.get(S);T?E&&f.push(()=>T.p(x,p)):(T=o(S,x),T.c()),a.set(S,l[e]=T),S in r&&h.set(S,Math.abs(e-r[S]))}const u=new Set,d=new Set;function m(x){Tt(x,1),x.m(y,v),c.set(x.key,x),v=x.first,n--}for(;i&&n;){const x=l[n-1],S=M[i-1],T=x.key,C=S.key;x===S?(v=x.first,i--,n--):a.has(C)?!c.has(T)||u.has(T)?m(x):d.has(C)?i--:h.get(T)>h.get(C)?(d.add(T),m(x)):(u.add(C),i--):(t(S,c),i--)}for(;i--;){const x=M[i];a.has(x.key)||t(x,c)}for(;n;)m(l[n-1]);return hi(f),l}const Xn=Sf,Lf="auto",Tx=Object.freeze(Object.defineProperty({__proto__:null,prerender:Lf},Symbol.toStringTag,{value:"Module"}));function Ff(M){return M<.5?4*M*M*M:.5*Math.pow(2*M-2,3)+1}function ln(M){const p=M-1;return p*p*p+1}function Of(M){return-.5*(Math.cos(Math.PI*M)-1)}function Ds(M,{delay:p=0,duration:g=400,easing:E=Ff,amount:b=5,opacity:R=0}={}){const c=getComputedStyle(M),y=+c.opacity,t=c.filter==="none"?"":c.filter,o=y*(1-R),[v,s]=ra(b);return{delay:p,duration:g,easing:E,css:(i,n)=>`opacity: ${y-o*n}; filter: ${t} blur(${n*v}${s});`}}function Is(M,{delay:p=0,duration:g=400,easing:E=La}={}){const b=+getComputedStyle(M).opacity;return{delay:p,duration:g,easing:E,css:R=>`opacity: ${R*b}`}}function Oi(M,{delay:p=0,duration:g=400,easing:E=ln,x:b=0,y:R=0,opacity:c=0}={}){const y=getComputedStyle(M),t=+y.opacity,o=y.transform==="none"?"":y.transform,v=t*(1-c),[s,i]=ra(b),[n,e]=ra(R);return{delay:p,duration:g,easing:E,css:(r,l)=>`
			transform: ${o} translate(${(1-r)*s}${i}, ${(1-r)*n}${e});
			opacity: ${t-v*l}`}}function uo(M,{delay:p=0,duration:g=400,easing:E=ln,axis:b="y"}={}){const R=getComputedStyle(M),c=+R.opacity,y=b==="y"?"height":"width",t=parseFloat(R[y]),o=b==="y"?["top","bottom"]:["left","right"],v=o.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),s=parseFloat(R[`padding${v[0]}`]),i=parseFloat(R[`padding${v[1]}`]),n=parseFloat(R[`margin${v[0]}`]),e=parseFloat(R[`margin${v[1]}`]),r=parseFloat(R[`border${v[0]}Width`]),l=parseFloat(R[`border${v[1]}Width`]);return{delay:p,duration:g,easing:E,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*c};${y}: ${a*t}px;padding-${o[0]}: ${a*s}px;padding-${o[1]}: ${a*i}px;margin-${o[0]}: ${a*n}px;margin-${o[1]}: ${a*e}px;border-${o[0]}-width: ${a*r}px;border-${o[1]}-width: ${a*l}px;`}}function ls(M,{delay:p=0,duration:g=400,easing:E=ln,start:b=0,opacity:R=0}={}){const c=getComputedStyle(M),y=+c.opacity,t=c.transform==="none"?"":c.transform,o=1-b,v=y*(1-R);return{delay:p,duration:g,easing:E,css:(s,i)=>`
			transform: ${t} scale(${1-o*i});
			opacity: ${y-v*i}
		`}}const hn=new Set;let Cr=!1;class ai{constructor(p=ri,g=0){hn.add(this),p===ri&&console.warn("Instance of PausableTimeout was created with a dummy function, which was probably not intended.",this),this.callback=p,this.timeout=g,this.startedAt=0,this.remaining=g,this.isPaused=Cr,this.prime()}prime(){if(this._internal)throw new Error("A PausableTimeout cannot be primed twice!");return this.startedAt=Date.now(),this.isPaused=Cr,this.isPaused||(this._internal=setTimeout(()=>this.fire(),this.remaining)),this}fire(){this.callback(),this.clear()}pause(){return this.isPaused?this:(clearTimeout(this._internal),this._internal=null,this.isPaused=!0,this.remaining-=Date.now()-this.startedAt,this)}resume(){return this.isPaused?this.prime(this.remaining):this}clear(){return hn.delete(this),this._internal&&(clearTimeout(this._internal),this._internal=null),this}getRemainingTime(){return this.isPaused?this.remaining:this._internal?this.remaining-(Date.now()-this.startedAt):0}}class Pi extends ai{constructor(p,g){super(p,g)}prime(){if(this._internal)throw new Error("A PausableInterval cannot be primed twice!");return this.startedAt=Date.now(),this.isPaused=!1,this._internal=setInterval(()=>this.fire(),this.timeout),this}restart(){return this.isPaused||this.pause().resume(),this}fire(){this.callback()}}function Df(){console.log("Global timer pause invoked. Timers affected: ",hn.size),Cr=!0,hn.forEach(M=>M.pause())}function fo(){console.log("All timers were unpaused. Timers affected: ",hn.size),Cr=!1,hn.forEach(M=>M.resume())}var Ri="top",zi="bottom",Xi="right",Li="left",Da="auto",Hn=[Ri,zi,Xi,Li],un="start",Yn="end",If="clippingParents",Ph="viewport",bn="popper",Bf="reference",co=Hn.reduce(function(M,p){return M.concat([p+"-"+un,p+"-"+Yn])},[]),Rh=[].concat(Hn,[Da]).reduce(function(M,p){return M.concat([p,p+"-"+un,p+"-"+Yn])},[]),Gf="beforeRead",Nf="read",Vf="afterRead",Uf="beforeMain",zf="main",Xf="afterMain",Yf="beforeWrite",Wf="write",$f="afterWrite",Hf=[Gf,Nf,Vf,Uf,zf,Xf,Yf,Wf,$f];function hs(M){return M?(M.nodeName||"").toLowerCase():null}function Ni(M){if(M==null)return window;if(M.toString()!=="[object Window]"){var p=M.ownerDocument;return p&&p.defaultView||window}return M}function js(M){var p=Ni(M).Element;return M instanceof p||M instanceof Element}function Ui(M){var p=Ni(M).HTMLElement;return M instanceof p||M instanceof HTMLElement}function Ia(M){if(typeof ShadowRoot>"u")return!1;var p=Ni(M).ShadowRoot;return M instanceof p||M instanceof ShadowRoot}function kf(M){var p=M.state;Object.keys(p.elements).forEach(function(g){var E=p.styles[g]||{},b=p.attributes[g]||{},R=p.elements[g];!Ui(R)||!hs(R)||(Object.assign(R.style,E),Object.keys(b).forEach(function(c){var y=b[c];y===!1?R.removeAttribute(c):R.setAttribute(c,y===!0?"":y)}))})}function Kf(M){var p=M.state,g={popper:{position:p.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(p.elements.popper.style,g.popper),p.styles=g,p.elements.arrow&&Object.assign(p.elements.arrow.style,g.arrow),function(){Object.keys(p.elements).forEach(function(E){var b=p.elements[E],R=p.attributes[E]||{},c=Object.keys(p.styles.hasOwnProperty(E)?p.styles[E]:g[E]),y=c.reduce(function(t,o){return t[o]="",t},{});!Ui(b)||!hs(b)||(Object.assign(b.style,y),Object.keys(R).forEach(function(t){b.removeAttribute(t)}))})}}const Lh={name:"applyStyles",enabled:!0,phase:"write",fn:kf,effect:Kf,requires:["computeStyles"]};function os(M){return M.split("-")[0]}var ks=Math.max,Ar=Math.min,fn=Math.round;function oa(){var M=navigator.userAgentData;return M!=null&&M.brands&&Array.isArray(M.brands)?M.brands.map(function(p){return p.brand+"/"+p.version}).join(" "):navigator.userAgent}function Fh(){return!/^((?!chrome|android).)*safari/i.test(oa())}function dn(M,p,g){p===void 0&&(p=!1),g===void 0&&(g=!1);var E=M.getBoundingClientRect(),b=1,R=1;p&&Ui(M)&&(b=M.offsetWidth>0&&fn(E.width)/M.offsetWidth||1,R=M.offsetHeight>0&&fn(E.height)/M.offsetHeight||1);var c=js(M)?Ni(M):window,y=c.visualViewport,t=!Fh()&&g,o=(E.left+(t&&y?y.offsetLeft:0))/b,v=(E.top+(t&&y?y.offsetTop:0))/R,s=E.width/b,i=E.height/R;return{width:s,height:i,top:v,right:o+s,bottom:v+i,left:o,x:o,y:v}}function Ba(M){var p=dn(M),g=M.offsetWidth,E=M.offsetHeight;return Math.abs(p.width-g)<=1&&(g=p.width),Math.abs(p.height-E)<=1&&(E=p.height),{x:M.offsetLeft,y:M.offsetTop,width:g,height:E}}function Oh(M,p){var g=p.getRootNode&&p.getRootNode();if(M.contains(p))return!0;if(g&&Ia(g)){var E=p;do{if(E&&M.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function Ts(M){return Ni(M).getComputedStyle(M)}function jf(M){return["table","td","th"].indexOf(hs(M))>=0}function Gs(M){return((js(M)?M.ownerDocument:M.document)||window.document).documentElement}function Ur(M){return hs(M)==="html"?M:M.assignedSlot||M.parentNode||(Ia(M)?M.host:null)||Gs(M)}function vo(M){return!Ui(M)||Ts(M).position==="fixed"?null:M.offsetParent}function Zf(M){var p=/firefox/i.test(oa()),g=/Trident/i.test(oa());if(g&&Ui(M)){var E=Ts(M);if(E.position==="fixed")return null}var b=Ur(M);for(Ia(b)&&(b=b.host);Ui(b)&&["html","body"].indexOf(hs(b))<0;){var R=Ts(b);if(R.transform!=="none"||R.perspective!=="none"||R.contain==="paint"||["transform","perspective"].indexOf(R.willChange)!==-1||p&&R.willChange==="filter"||p&&R.filter&&R.filter!=="none")return b;b=b.parentNode}return null}function kn(M){for(var p=Ni(M),g=vo(M);g&&jf(g)&&Ts(g).position==="static";)g=vo(g);return g&&(hs(g)==="html"||hs(g)==="body"&&Ts(g).position==="static")?p:g||Zf(M)||p}function Ga(M){return["top","bottom"].indexOf(M)>=0?"x":"y"}function In(M,p,g){return ks(M,Ar(p,g))}function Jf(M,p,g){var E=In(M,p,g);return E>g?g:E}function Dh(){return{top:0,right:0,bottom:0,left:0}}function Ih(M){return Object.assign({},Dh(),M)}function Bh(M,p){return p.reduce(function(g,E){return g[E]=M,g},{})}var Qf=function(p,g){return p=typeof p=="function"?p(Object.assign({},g.rects,{placement:g.placement})):p,Ih(typeof p!="number"?p:Bh(p,Hn))};function qf(M){var p,g=M.state,E=M.name,b=M.options,R=g.elements.arrow,c=g.modifiersData.popperOffsets,y=os(g.placement),t=Ga(y),o=[Li,Xi].indexOf(y)>=0,v=o?"height":"width";if(!(!R||!c)){var s=Qf(b.padding,g),i=Ba(R),n=t==="y"?Ri:Li,e=t==="y"?zi:Xi,r=g.rects.reference[v]+g.rects.reference[t]-c[t]-g.rects.popper[v],l=c[t]-g.rects.reference[t],a=kn(R),h=a?t==="y"?a.clientHeight||0:a.clientWidth||0:0,f=r/2-l/2,u=s[n],d=h-i[v]-s[e],m=h/2-i[v]/2+f,x=In(u,m,d),S=t;g.modifiersData[E]=(p={},p[S]=x,p.centerOffset=x-m,p)}}function _f(M){var p=M.state,g=M.options,E=g.element,b=E===void 0?"[data-popper-arrow]":E;b!=null&&(typeof b=="string"&&(b=p.elements.popper.querySelector(b),!b)||Oh(p.elements.popper,b)&&(p.elements.arrow=b))}const td={name:"arrow",enabled:!0,phase:"main",fn:qf,effect:_f,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cn(M){return M.split("-")[1]}var ed={top:"auto",right:"auto",bottom:"auto",left:"auto"};function id(M,p){var g=M.x,E=M.y,b=p.devicePixelRatio||1;return{x:fn(g*b)/b||0,y:fn(E*b)/b||0}}function po(M){var p,g=M.popper,E=M.popperRect,b=M.placement,R=M.variation,c=M.offsets,y=M.position,t=M.gpuAcceleration,o=M.adaptive,v=M.roundOffsets,s=M.isFixed,i=c.x,n=i===void 0?0:i,e=c.y,r=e===void 0?0:e,l=typeof v=="function"?v({x:n,y:r}):{x:n,y:r};n=l.x,r=l.y;var a=c.hasOwnProperty("x"),h=c.hasOwnProperty("y"),f=Li,u=Ri,d=window;if(o){var m=kn(g),x="clientHeight",S="clientWidth";if(m===Ni(g)&&(m=Gs(g),Ts(m).position!=="static"&&y==="absolute"&&(x="scrollHeight",S="scrollWidth")),m=m,b===Ri||(b===Li||b===Xi)&&R===Yn){u=zi;var T=s&&m===d&&d.visualViewport?d.visualViewport.height:m[x];r-=T-E.height,r*=t?1:-1}if(b===Li||(b===Ri||b===zi)&&R===Yn){f=Xi;var C=s&&m===d&&d.visualViewport?d.visualViewport.width:m[S];n-=C-E.width,n*=t?1:-1}}var A=Object.assign({position:y},o&&ed),w=v===!0?id({x:n,y:r},Ni(g)):{x:n,y:r};if(n=w.x,r=w.y,t){var P;return Object.assign({},A,(P={},P[u]=h?"0":"",P[f]=a?"0":"",P.transform=(d.devicePixelRatio||1)<=1?"translate("+n+"px, "+r+"px)":"translate3d("+n+"px, "+r+"px, 0)",P))}return Object.assign({},A,(p={},p[u]=h?r+"px":"",p[f]=a?n+"px":"",p.transform="",p))}function sd(M){var p=M.state,g=M.options,E=g.gpuAcceleration,b=E===void 0?!0:E,R=g.adaptive,c=R===void 0?!0:R,y=g.roundOffsets,t=y===void 0?!0:y,o={placement:os(p.placement),variation:cn(p.placement),popper:p.elements.popper,popperRect:p.rects.popper,gpuAcceleration:b,isFixed:p.options.strategy==="fixed"};p.modifiersData.popperOffsets!=null&&(p.styles.popper=Object.assign({},p.styles.popper,po(Object.assign({},o,{offsets:p.modifiersData.popperOffsets,position:p.options.strategy,adaptive:c,roundOffsets:t})))),p.modifiersData.arrow!=null&&(p.styles.arrow=Object.assign({},p.styles.arrow,po(Object.assign({},o,{offsets:p.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:t})))),p.attributes.popper=Object.assign({},p.attributes.popper,{"data-popper-placement":p.placement})}const nd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sd,data:{}};var lr={passive:!0};function rd(M){var p=M.state,g=M.instance,E=M.options,b=E.scroll,R=b===void 0?!0:b,c=E.resize,y=c===void 0?!0:c,t=Ni(p.elements.popper),o=[].concat(p.scrollParents.reference,p.scrollParents.popper);return R&&o.forEach(function(v){v.addEventListener("scroll",g.update,lr)}),y&&t.addEventListener("resize",g.update,lr),function(){R&&o.forEach(function(v){v.removeEventListener("scroll",g.update,lr)}),y&&t.removeEventListener("resize",g.update,lr)}}const ad={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rd,data:{}};var od={left:"right",right:"left",bottom:"top",top:"bottom"};function yr(M){return M.replace(/left|right|bottom|top/g,function(p){return od[p]})}var ld={start:"end",end:"start"};function mo(M){return M.replace(/start|end/g,function(p){return ld[p]})}function Na(M){var p=Ni(M),g=p.pageXOffset,E=p.pageYOffset;return{scrollLeft:g,scrollTop:E}}function Va(M){return dn(Gs(M)).left+Na(M).scrollLeft}function hd(M,p){var g=Ni(M),E=Gs(M),b=g.visualViewport,R=E.clientWidth,c=E.clientHeight,y=0,t=0;if(b){R=b.width,c=b.height;var o=Fh();(o||!o&&p==="fixed")&&(y=b.offsetLeft,t=b.offsetTop)}return{width:R,height:c,x:y+Va(M),y:t}}function ud(M){var p,g=Gs(M),E=Na(M),b=(p=M.ownerDocument)==null?void 0:p.body,R=ks(g.scrollWidth,g.clientWidth,b?b.scrollWidth:0,b?b.clientWidth:0),c=ks(g.scrollHeight,g.clientHeight,b?b.scrollHeight:0,b?b.clientHeight:0),y=-E.scrollLeft+Va(M),t=-E.scrollTop;return Ts(b||g).direction==="rtl"&&(y+=ks(g.clientWidth,b?b.clientWidth:0)-R),{width:R,height:c,x:y,y:t}}function Ua(M){var p=Ts(M),g=p.overflow,E=p.overflowX,b=p.overflowY;return/auto|scroll|overlay|hidden/.test(g+b+E)}function Gh(M){return["html","body","#document"].indexOf(hs(M))>=0?M.ownerDocument.body:Ui(M)&&Ua(M)?M:Gh(Ur(M))}function Bn(M,p){var g;p===void 0&&(p=[]);var E=Gh(M),b=E===((g=M.ownerDocument)==null?void 0:g.body),R=Ni(E),c=b?[R].concat(R.visualViewport||[],Ua(E)?E:[]):E,y=p.concat(c);return b?y:y.concat(Bn(Ur(c)))}function la(M){return Object.assign({},M,{left:M.x,top:M.y,right:M.x+M.width,bottom:M.y+M.height})}function fd(M,p){var g=dn(M,!1,p==="fixed");return g.top=g.top+M.clientTop,g.left=g.left+M.clientLeft,g.bottom=g.top+M.clientHeight,g.right=g.left+M.clientWidth,g.width=M.clientWidth,g.height=M.clientHeight,g.x=g.left,g.y=g.top,g}function go(M,p,g){return p===Ph?la(hd(M,g)):js(p)?fd(p,g):la(ud(Gs(M)))}function dd(M){var p=Bn(Ur(M)),g=["absolute","fixed"].indexOf(Ts(M).position)>=0,E=g&&Ui(M)?kn(M):M;return js(E)?p.filter(function(b){return js(b)&&Oh(b,E)&&hs(b)!=="body"}):[]}function cd(M,p,g,E){var b=p==="clippingParents"?dd(M):[].concat(p),R=[].concat(b,[g]),c=R[0],y=R.reduce(function(t,o){var v=go(M,o,E);return t.top=ks(v.top,t.top),t.right=Ar(v.right,t.right),t.bottom=Ar(v.bottom,t.bottom),t.left=ks(v.left,t.left),t},go(M,c,E));return y.width=y.right-y.left,y.height=y.bottom-y.top,y.x=y.left,y.y=y.top,y}function Nh(M){var p=M.reference,g=M.element,E=M.placement,b=E?os(E):null,R=E?cn(E):null,c=p.x+p.width/2-g.width/2,y=p.y+p.height/2-g.height/2,t;switch(b){case Ri:t={x:c,y:p.y-g.height};break;case zi:t={x:c,y:p.y+p.height};break;case Xi:t={x:p.x+p.width,y};break;case Li:t={x:p.x-g.width,y};break;default:t={x:p.x,y:p.y}}var o=b?Ga(b):null;if(o!=null){var v=o==="y"?"height":"width";switch(R){case un:t[o]=t[o]-(p[v]/2-g[v]/2);break;case Yn:t[o]=t[o]+(p[v]/2-g[v]/2);break}}return t}function Wn(M,p){p===void 0&&(p={});var g=p,E=g.placement,b=E===void 0?M.placement:E,R=g.strategy,c=R===void 0?M.strategy:R,y=g.boundary,t=y===void 0?If:y,o=g.rootBoundary,v=o===void 0?Ph:o,s=g.elementContext,i=s===void 0?bn:s,n=g.altBoundary,e=n===void 0?!1:n,r=g.padding,l=r===void 0?0:r,a=Ih(typeof l!="number"?l:Bh(l,Hn)),h=i===bn?Bf:bn,f=M.rects.popper,u=M.elements[e?h:i],d=cd(js(u)?u:u.contextElement||Gs(M.elements.popper),t,v,c),m=dn(M.elements.reference),x=Nh({reference:m,element:f,strategy:"absolute",placement:b}),S=la(Object.assign({},f,x)),T=i===bn?S:m,C={top:d.top-T.top+a.top,bottom:T.bottom-d.bottom+a.bottom,left:d.left-T.left+a.left,right:T.right-d.right+a.right},A=M.modifiersData.offset;if(i===bn&&A){var w=A[b];Object.keys(C).forEach(function(P){var F=[Xi,zi].indexOf(P)>=0?1:-1,L=[Ri,zi].indexOf(P)>=0?"y":"x";C[P]+=w[L]*F})}return C}function vd(M,p){p===void 0&&(p={});var g=p,E=g.placement,b=g.boundary,R=g.rootBoundary,c=g.padding,y=g.flipVariations,t=g.allowedAutoPlacements,o=t===void 0?Rh:t,v=cn(E),s=v?y?co:co.filter(function(e){return cn(e)===v}):Hn,i=s.filter(function(e){return o.indexOf(e)>=0});i.length===0&&(i=s);var n=i.reduce(function(e,r){return e[r]=Wn(M,{placement:r,boundary:b,rootBoundary:R,padding:c})[os(r)],e},{});return Object.keys(n).sort(function(e,r){return n[e]-n[r]})}function pd(M){if(os(M)===Da)return[];var p=yr(M);return[mo(M),p,mo(p)]}function md(M){var p=M.state,g=M.options,E=M.name;if(!p.modifiersData[E]._skip){for(var b=g.mainAxis,R=b===void 0?!0:b,c=g.altAxis,y=c===void 0?!0:c,t=g.fallbackPlacements,o=g.padding,v=g.boundary,s=g.rootBoundary,i=g.altBoundary,n=g.flipVariations,e=n===void 0?!0:n,r=g.allowedAutoPlacements,l=p.options.placement,a=os(l),h=a===l,f=t||(h||!e?[yr(l)]:pd(l)),u=[l].concat(f).reduce(function(k,D){return k.concat(os(D)===Da?vd(p,{placement:D,boundary:v,rootBoundary:s,padding:o,flipVariations:e,allowedAutoPlacements:r}):D)},[]),d=p.rects.reference,m=p.rects.popper,x=new Map,S=!0,T=u[0],C=0;C<u.length;C++){var A=u[C],w=os(A),P=cn(A)===un,F=[Ri,zi].indexOf(w)>=0,L=F?"width":"height",O=Wn(p,{placement:A,boundary:v,rootBoundary:s,altBoundary:i,padding:o}),I=F?P?Xi:Li:P?zi:Ri;d[L]>m[L]&&(I=yr(I));var B=yr(I),U=[];if(R&&U.push(O[w]<=0),y&&U.push(O[I]<=0,O[B]<=0),U.every(function(k){return k})){T=A,S=!1;break}x.set(A,U)}if(S)for(var H=e?3:1,Z=function(D){var z=u.find(function(Y){var j=x.get(Y);if(j)return j.slice(0,D).every(function(J){return J})});if(z)return T=z,"break"},tt=H;tt>0;tt--){var X=Z(tt);if(X==="break")break}p.placement!==T&&(p.modifiersData[E]._skip=!0,p.placement=T,p.reset=!0)}}const gd={name:"flip",enabled:!0,phase:"main",fn:md,requiresIfExists:["offset"],data:{_skip:!1}};function xo(M,p,g){return g===void 0&&(g={x:0,y:0}),{top:M.top-p.height-g.y,right:M.right-p.width+g.x,bottom:M.bottom-p.height+g.y,left:M.left-p.width-g.x}}function yo(M){return[Ri,Xi,zi,Li].some(function(p){return M[p]>=0})}function xd(M){var p=M.state,g=M.name,E=p.rects.reference,b=p.rects.popper,R=p.modifiersData.preventOverflow,c=Wn(p,{elementContext:"reference"}),y=Wn(p,{altBoundary:!0}),t=xo(c,E),o=xo(y,b,R),v=yo(t),s=yo(o);p.modifiersData[g]={referenceClippingOffsets:t,popperEscapeOffsets:o,isReferenceHidden:v,hasPopperEscaped:s},p.attributes.popper=Object.assign({},p.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":s})}const yd={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xd};function Td(M,p,g){var E=os(M),b=[Li,Ri].indexOf(E)>=0?-1:1,R=typeof g=="function"?g(Object.assign({},p,{placement:M})):g,c=R[0],y=R[1];return c=c||0,y=(y||0)*b,[Li,Xi].indexOf(E)>=0?{x:y,y:c}:{x:c,y}}function Sd(M){var p=M.state,g=M.options,E=M.name,b=g.offset,R=b===void 0?[0,0]:b,c=Rh.reduce(function(v,s){return v[s]=Td(s,p.rects,R),v},{}),y=c[p.placement],t=y.x,o=y.y;p.modifiersData.popperOffsets!=null&&(p.modifiersData.popperOffsets.x+=t,p.modifiersData.popperOffsets.y+=o),p.modifiersData[E]=c}const Ed={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Sd};function Cd(M){var p=M.state,g=M.name;p.modifiersData[g]=Nh({reference:p.rects.reference,element:p.rects.popper,strategy:"absolute",placement:p.placement})}const Ad={name:"popperOffsets",enabled:!0,phase:"read",fn:Cd,data:{}};function Md(M){return M==="x"?"y":"x"}function wd(M){var p=M.state,g=M.options,E=M.name,b=g.mainAxis,R=b===void 0?!0:b,c=g.altAxis,y=c===void 0?!1:c,t=g.boundary,o=g.rootBoundary,v=g.altBoundary,s=g.padding,i=g.tether,n=i===void 0?!0:i,e=g.tetherOffset,r=e===void 0?0:e,l=Wn(p,{boundary:t,rootBoundary:o,padding:s,altBoundary:v}),a=os(p.placement),h=cn(p.placement),f=!h,u=Ga(a),d=Md(u),m=p.modifiersData.popperOffsets,x=p.rects.reference,S=p.rects.popper,T=typeof r=="function"?r(Object.assign({},p.rects,{placement:p.placement})):r,C=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),A=p.modifiersData.offset?p.modifiersData.offset[p.placement]:null,w={x:0,y:0};if(m){if(R){var P,F=u==="y"?Ri:Li,L=u==="y"?zi:Xi,O=u==="y"?"height":"width",I=m[u],B=I+l[F],U=I-l[L],H=n?-S[O]/2:0,Z=h===un?x[O]:S[O],tt=h===un?-S[O]:-x[O],X=p.elements.arrow,k=n&&X?Ba(X):{width:0,height:0},D=p.modifiersData["arrow#persistent"]?p.modifiersData["arrow#persistent"].padding:Dh(),z=D[F],Y=D[L],j=In(0,x[O],k[O]),J=f?x[O]/2-H-j-z-C.mainAxis:Z-j-z-C.mainAxis,it=f?-x[O]/2+H+j+Y+C.mainAxis:tt+j+Y+C.mainAxis,st=p.elements.arrow&&kn(p.elements.arrow),at=st?u==="y"?st.clientTop||0:st.clientLeft||0:0,ft=(P=A==null?void 0:A[u])!=null?P:0,vt=I+J-ft-at,xt=I+it-ft,Ct=In(n?Ar(B,vt):B,I,n?ks(U,xt):U);m[u]=Ct,w[u]=Ct-I}if(y){var yt,Pt=u==="x"?Ri:Li,Gt=u==="x"?zi:Xi,Ut=m[d],Nt=d==="y"?"height":"width",wt=Ut+l[Pt],Dt=Ut-l[Gt],Rt=[Ri,Li].indexOf(a)!==-1,Ht=(yt=A==null?void 0:A[d])!=null?yt:0,qt=Rt?wt:Ut-x[Nt]-S[Nt]-Ht+C.altAxis,ee=Rt?Ut+x[Nt]+S[Nt]-Ht-C.altAxis:Dt,te=n&&Rt?Jf(qt,Ut,ee):In(n?qt:wt,Ut,n?ee:Dt);m[d]=te,w[d]=te-Ut}p.modifiersData[E]=w}}const bd={name:"preventOverflow",enabled:!0,phase:"main",fn:wd,requiresIfExists:["offset"]};function Pd(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTop}}function Rd(M){return M===Ni(M)||!Ui(M)?Na(M):Pd(M)}function Ld(M){var p=M.getBoundingClientRect(),g=fn(p.width)/M.offsetWidth||1,E=fn(p.height)/M.offsetHeight||1;return g!==1||E!==1}function Fd(M,p,g){g===void 0&&(g=!1);var E=Ui(p),b=Ui(p)&&Ld(p),R=Gs(p),c=dn(M,b,g),y={scrollLeft:0,scrollTop:0},t={x:0,y:0};return(E||!E&&!g)&&((hs(p)!=="body"||Ua(R))&&(y=Rd(p)),Ui(p)?(t=dn(p,!0),t.x+=p.clientLeft,t.y+=p.clientTop):R&&(t.x=Va(R))),{x:c.left+y.scrollLeft-t.x,y:c.top+y.scrollTop-t.y,width:c.width,height:c.height}}function Od(M){var p=new Map,g=new Set,E=[];M.forEach(function(R){p.set(R.name,R)});function b(R){g.add(R.name);var c=[].concat(R.requires||[],R.requiresIfExists||[]);c.forEach(function(y){if(!g.has(y)){var t=p.get(y);t&&b(t)}}),E.push(R)}return M.forEach(function(R){g.has(R.name)||b(R)}),E}function Dd(M){var p=Od(M);return Hf.reduce(function(g,E){return g.concat(p.filter(function(b){return b.phase===E}))},[])}function Id(M){var p;return function(){return p||(p=new Promise(function(g){Promise.resolve().then(function(){p=void 0,g(M())})})),p}}function Bd(M){var p=M.reduce(function(g,E){var b=g[E.name];return g[E.name]=b?Object.assign({},b,E,{options:Object.assign({},b.options,E.options),data:Object.assign({},b.data,E.data)}):E,g},{});return Object.keys(p).map(function(g){return p[g]})}var To={placement:"bottom",modifiers:[],strategy:"absolute"};function So(){for(var M=arguments.length,p=new Array(M),g=0;g<M;g++)p[g]=arguments[g];return!p.some(function(E){return!(E&&typeof E.getBoundingClientRect=="function")})}function Gd(M){M===void 0&&(M={});var p=M,g=p.defaultModifiers,E=g===void 0?[]:g,b=p.defaultOptions,R=b===void 0?To:b;return function(y,t,o){o===void 0&&(o=R);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},To,R),modifiersData:{},elements:{reference:y,popper:t},attributes:{},styles:{}},s=[],i=!1,n={state:v,setOptions:function(a){var h=typeof a=="function"?a(v.options):a;r(),v.options=Object.assign({},R,v.options,h),v.scrollParents={reference:js(y)?Bn(y):y.contextElement?Bn(y.contextElement):[],popper:Bn(t)};var f=Dd(Bd([].concat(E,v.options.modifiers)));return v.orderedModifiers=f.filter(function(u){return u.enabled}),e(),n.update()},forceUpdate:function(){if(!i){var a=v.elements,h=a.reference,f=a.popper;if(So(h,f)){v.rects={reference:Fd(h,kn(f),v.options.strategy==="fixed"),popper:Ba(f)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(C){return v.modifiersData[C.name]=Object.assign({},C.data)});for(var u=0;u<v.orderedModifiers.length;u++){if(v.reset===!0){v.reset=!1,u=-1;continue}var d=v.orderedModifiers[u],m=d.fn,x=d.options,S=x===void 0?{}:x,T=d.name;typeof m=="function"&&(v=m({state:v,options:S,name:T,instance:n})||v)}}}},update:Id(function(){return new Promise(function(l){n.forceUpdate(),l(v)})}),destroy:function(){r(),i=!0}};if(!So(y,t))return n;n.setOptions(o).then(function(l){!i&&o.onFirstUpdate&&o.onFirstUpdate(l)});function e(){v.orderedModifiers.forEach(function(l){var a=l.name,h=l.options,f=h===void 0?{}:h,u=l.effect;if(typeof u=="function"){var d=u({state:v,name:a,instance:n,options:f}),m=function(){};s.push(d||m)}})}function r(){s.forEach(function(l){return l()}),s=[]}return n}}var Nd=[ad,Ad,nd,Lh,Ed,gd,bd,td,yd],Vd=Gd({defaultModifiers:Nd}),Ud='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',zd="tippy-box",Vh="tippy-content",Xd="tippy-backdrop",Uh="tippy-arrow",zh="tippy-svg-arrow",Ys={passive:!0,capture:!0},Xh=function(){return document.body};function Zr(M,p,g){if(Array.isArray(M)){var E=M[p];return E??(Array.isArray(g)?g[p]:g)}return M}function za(M,p){var g={}.toString.call(M);return g.indexOf("[object")===0&&g.indexOf(p+"]")>-1}function Yh(M,p){return typeof M=="function"?M.apply(void 0,p):M}function Eo(M,p){if(p===0)return M;var g;return function(E){clearTimeout(g),g=setTimeout(function(){M(E)},p)}}function Yd(M){return M.split(/\s+/).filter(Boolean)}function on(M){return[].concat(M)}function Co(M,p){M.indexOf(p)===-1&&M.push(p)}function Wd(M){return M.filter(function(p,g){return M.indexOf(p)===g})}function $d(M){return M.split("-")[0]}function Mr(M){return[].slice.call(M)}function Ao(M){return Object.keys(M).reduce(function(p,g){return M[g]!==void 0&&(p[g]=M[g]),p},{})}function Gn(){return document.createElement("div")}function zr(M){return["Element","Fragment"].some(function(p){return za(M,p)})}function Hd(M){return za(M,"NodeList")}function kd(M){return za(M,"MouseEvent")}function Kd(M){return!!(M&&M._tippy&&M._tippy.reference===M)}function jd(M){return zr(M)?[M]:Hd(M)?Mr(M):Array.isArray(M)?M:Mr(document.querySelectorAll(M))}function Jr(M,p){M.forEach(function(g){g&&(g.style.transitionDuration=p+"ms")})}function Mo(M,p){M.forEach(function(g){g&&g.setAttribute("data-state",p)})}function Zd(M){var p,g=on(M),E=g[0];return E!=null&&(p=E.ownerDocument)!=null&&p.body?E.ownerDocument:document}function Jd(M,p){var g=p.clientX,E=p.clientY;return M.every(function(b){var R=b.popperRect,c=b.popperState,y=b.props,t=y.interactiveBorder,o=$d(c.placement),v=c.modifiersData.offset;if(!v)return!0;var s=o==="bottom"?v.top.y:0,i=o==="top"?v.bottom.y:0,n=o==="right"?v.left.x:0,e=o==="left"?v.right.x:0,r=R.top-E+s>t,l=E-R.bottom-i>t,a=R.left-g+n>t,h=g-R.right-e>t;return r||l||a||h})}function Qr(M,p,g){var E=p+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(b){M[E](b,g)})}function wo(M,p){for(var g=p;g;){var E;if(M.contains(g))return!0;g=g.getRootNode==null||(E=g.getRootNode())==null?void 0:E.host}return!1}var as={isTouch:!1},bo=0;function Qd(){as.isTouch||(as.isTouch=!0,window.performance&&document.addEventListener("mousemove",Wh))}function Wh(){var M=performance.now();M-bo<20&&(as.isTouch=!1,document.removeEventListener("mousemove",Wh)),bo=M}function qd(){var M=document.activeElement;if(Kd(M)){var p=M._tippy;M.blur&&!p.state.isVisible&&M.blur()}}function _d(){document.addEventListener("touchstart",Qd,Ys),window.addEventListener("blur",qd)}var tc=typeof window<"u"&&typeof document<"u",ec=tc?!!window.msCrypto:!1,ic={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},sc={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ji=Object.assign({appendTo:Xh,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},ic,sc),nc=Object.keys(Ji),rc=function(p){var g=Object.keys(p);g.forEach(function(E){Ji[E]=p[E]})};function $h(M){var p=M.plugins||[],g=p.reduce(function(E,b){var R=b.name,c=b.defaultValue;if(R){var y;E[R]=M[R]!==void 0?M[R]:(y=Ji[R])!=null?y:c}return E},{});return Object.assign({},M,g)}function ac(M,p){var g=p?Object.keys($h(Object.assign({},Ji,{plugins:p}))):nc,E=g.reduce(function(b,R){var c=(M.getAttribute("data-tippy-"+R)||"").trim();if(!c)return b;if(R==="content")b[R]=c;else try{b[R]=JSON.parse(c)}catch{b[R]=c}return b},{});return E}function Po(M,p){var g=Object.assign({},p,{content:Yh(p.content,[M])},p.ignoreAttributes?{}:ac(M,p.plugins));return g.aria=Object.assign({},Ji.aria,g.aria),g.aria={expanded:g.aria.expanded==="auto"?p.interactive:g.aria.expanded,content:g.aria.content==="auto"?p.interactive?null:"describedby":g.aria.content},g}var oc=function(){return"innerHTML"};function ha(M,p){M[oc()]=p}function Ro(M){var p=Gn();return M===!0?p.className=Uh:(p.className=zh,zr(M)?p.appendChild(M):ha(p,M)),p}function Lo(M,p){zr(p.content)?(ha(M,""),M.appendChild(p.content)):typeof p.content!="function"&&(p.allowHTML?ha(M,p.content):M.textContent=p.content)}function ua(M){var p=M.firstElementChild,g=Mr(p.children);return{box:p,content:g.find(function(E){return E.classList.contains(Vh)}),arrow:g.find(function(E){return E.classList.contains(Uh)||E.classList.contains(zh)}),backdrop:g.find(function(E){return E.classList.contains(Xd)})}}function Hh(M){var p=Gn(),g=Gn();g.className=zd,g.setAttribute("data-state","hidden"),g.setAttribute("tabindex","-1");var E=Gn();E.className=Vh,E.setAttribute("data-state","hidden"),Lo(E,M.props),p.appendChild(g),g.appendChild(E),b(M.props,M.props);function b(R,c){var y=ua(p),t=y.box,o=y.content,v=y.arrow;c.theme?t.setAttribute("data-theme",c.theme):t.removeAttribute("data-theme"),typeof c.animation=="string"?t.setAttribute("data-animation",c.animation):t.removeAttribute("data-animation"),c.inertia?t.setAttribute("data-inertia",""):t.removeAttribute("data-inertia"),t.style.maxWidth=typeof c.maxWidth=="number"?c.maxWidth+"px":c.maxWidth,c.role?t.setAttribute("role",c.role):t.removeAttribute("role"),(R.content!==c.content||R.allowHTML!==c.allowHTML)&&Lo(o,M.props),c.arrow?v?R.arrow!==c.arrow&&(t.removeChild(v),t.appendChild(Ro(c.arrow))):t.appendChild(Ro(c.arrow)):v&&t.removeChild(v)}return{popper:p,onUpdate:b}}Hh.$$tippy=!0;var lc=1,hr=[],qr=[];function hc(M,p){var g=Po(M,Object.assign({},Ji,$h(Ao(p)))),E,b,R,c=!1,y=!1,t=!1,o=!1,v,s,i,n=[],e=Eo(vt,g.interactiveDebounce),r,l=lc++,a=null,h=Wd(g.plugins),f={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},u={id:l,reference:M,popper:Gn(),popperInstance:a,props:g,state:f,plugins:h,clearDelayTimeouts:qt,setProps:ee,setContent:te,show:oe,hide:Vt,hideWithInteractivity:jt,enable:Rt,disable:Ht,unmount:It,destroy:Ft};if(!g.render)return u;var d=g.render(u),m=d.popper,x=d.onUpdate;m.setAttribute("data-tippy-root",""),m.id="tippy-"+u.id,u.popper=m,M._tippy=u,m._tippy=u;var S=h.map(function(St){return St.fn(u)}),T=M.hasAttribute("aria-expanded");return st(),H(),I(),B("onCreate",[u]),g.showOnCreate&&wt(),m.addEventListener("mouseenter",function(){u.props.interactive&&u.state.isVisible&&u.clearDelayTimeouts()}),m.addEventListener("mouseleave",function(){u.props.interactive&&u.props.trigger.indexOf("mouseenter")>=0&&F().addEventListener("mousemove",e)}),u;function C(){var St=u.props.touch;return Array.isArray(St)?St:[St,0]}function A(){return C()[0]==="hold"}function w(){var St;return!!((St=u.props.render)!=null&&St.$$tippy)}function P(){return r||M}function F(){var St=P().parentNode;return St?Zd(St):document}function L(){return ua(m)}function O(St){return u.state.isMounted&&!u.state.isVisible||as.isTouch||v&&v.type==="focus"?0:Zr(u.props.delay,St?0:1,Ji.delay)}function I(St){St===void 0&&(St=!1),m.style.pointerEvents=u.props.interactive&&!St?"":"none",m.style.zIndex=""+u.props.zIndex}function B(St,At,Lt){if(Lt===void 0&&(Lt=!0),S.forEach(function(Jt){Jt[St]&&Jt[St].apply(Jt,At)}),Lt){var ae;(ae=u.props)[St].apply(ae,At)}}function U(){var St=u.props.aria;if(St.content){var At="aria-"+St.content,Lt=m.id,ae=on(u.props.triggerTarget||M);ae.forEach(function(Jt){var ge=Jt.getAttribute(At);if(u.state.isVisible)Jt.setAttribute(At,ge?ge+" "+Lt:Lt);else{var ye=ge&&ge.replace(Lt,"").trim();ye?Jt.setAttribute(At,ye):Jt.removeAttribute(At)}})}}function H(){if(!(T||!u.props.aria.expanded)){var St=on(u.props.triggerTarget||M);St.forEach(function(At){u.props.interactive?At.setAttribute("aria-expanded",u.state.isVisible&&At===P()?"true":"false"):At.removeAttribute("aria-expanded")})}}function Z(){F().removeEventListener("mousemove",e),hr=hr.filter(function(St){return St!==e})}function tt(St){if(!(as.isTouch&&(t||St.type==="mousedown"))){var At=St.composedPath&&St.composedPath()[0]||St.target;if(!(u.props.interactive&&wo(m,At))){if(on(u.props.triggerTarget||M).some(function(Lt){return wo(Lt,At)})){if(as.isTouch||u.state.isVisible&&u.props.trigger.indexOf("click")>=0)return}else B("onClickOutside",[u,St]);u.props.hideOnClick===!0&&(u.clearDelayTimeouts(),u.hide(),y=!0,setTimeout(function(){y=!1}),u.state.isMounted||z())}}}function X(){t=!0}function k(){t=!1}function D(){var St=F();St.addEventListener("mousedown",tt,!0),St.addEventListener("touchend",tt,Ys),St.addEventListener("touchstart",k,Ys),St.addEventListener("touchmove",X,Ys)}function z(){var St=F();St.removeEventListener("mousedown",tt,!0),St.removeEventListener("touchend",tt,Ys),St.removeEventListener("touchstart",k,Ys),St.removeEventListener("touchmove",X,Ys)}function Y(St,At){J(St,function(){!u.state.isVisible&&m.parentNode&&m.parentNode.contains(m)&&At()})}function j(St,At){J(St,At)}function J(St,At){var Lt=L().box;function ae(Jt){Jt.target===Lt&&(Qr(Lt,"remove",ae),At())}if(St===0)return At();Qr(Lt,"remove",s),Qr(Lt,"add",ae),s=ae}function it(St,At,Lt){Lt===void 0&&(Lt=!1);var ae=on(u.props.triggerTarget||M);ae.forEach(function(Jt){Jt.addEventListener(St,At,Lt),n.push({node:Jt,eventType:St,handler:At,options:Lt})})}function st(){A()&&(it("touchstart",ft,{passive:!0}),it("touchend",xt,{passive:!0})),Yd(u.props.trigger).forEach(function(St){if(St!=="manual")switch(it(St,ft),St){case"mouseenter":it("mouseleave",xt);break;case"focus":it(ec?"focusout":"blur",Ct);break;case"focusin":it("focusout",Ct);break}})}function at(){n.forEach(function(St){var At=St.node,Lt=St.eventType,ae=St.handler,Jt=St.options;At.removeEventListener(Lt,ae,Jt)}),n=[]}function ft(St){var At,Lt=!1;if(!(!u.state.isEnabled||yt(St)||y)){var ae=((At=v)==null?void 0:At.type)==="focus";v=St,r=St.currentTarget,H(),!u.state.isVisible&&kd(St)&&hr.forEach(function(Jt){return Jt(St)}),St.type==="click"&&(u.props.trigger.indexOf("mouseenter")<0||c)&&u.props.hideOnClick!==!1&&u.state.isVisible?Lt=!0:wt(St),St.type==="click"&&(c=!Lt),Lt&&!ae&&Dt(St)}}function vt(St){var At=St.target,Lt=P().contains(At)||m.contains(At);if(!(St.type==="mousemove"&&Lt)){var ae=Nt().concat(m).map(function(Jt){var ge,ye=Jt._tippy,Me=(ge=ye.popperInstance)==null?void 0:ge.state;return Me?{popperRect:Jt.getBoundingClientRect(),popperState:Me,props:g}:null}).filter(Boolean);Jd(ae,St)&&(Z(),Dt(St))}}function xt(St){var At=yt(St)||u.props.trigger.indexOf("click")>=0&&c;if(!At){if(u.props.interactive){u.hideWithInteractivity(St);return}Dt(St)}}function Ct(St){u.props.trigger.indexOf("focusin")<0&&St.target!==P()||u.props.interactive&&St.relatedTarget&&m.contains(St.relatedTarget)||Dt(St)}function yt(St){return as.isTouch?A()!==St.type.indexOf("touch")>=0:!1}function Pt(){Gt();var St=u.props,At=St.popperOptions,Lt=St.placement,ae=St.offset,Jt=St.getReferenceClientRect,ge=St.moveTransition,ye=w()?ua(m).arrow:null,Me=Jt?{getBoundingClientRect:Jt,contextElement:Jt.contextElement||P()}:M,zt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Oe){var Fe=Oe.state;if(w()){var de=L(),we=de.box;["placement","reference-hidden","escaped"].forEach(function(Ve){Ve==="placement"?we.setAttribute("data-placement",Fe.placement):Fe.attributes.popper["data-popper-"+Ve]?we.setAttribute("data-"+Ve,""):we.removeAttribute("data-"+Ve)}),Fe.attributes.popper={}}}},ne=[{name:"offset",options:{offset:ae}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ge}},zt];w()&&ye&&ne.push({name:"arrow",options:{element:ye,padding:3}}),ne.push.apply(ne,(At==null?void 0:At.modifiers)||[]),u.popperInstance=Vd(Me,m,Object.assign({},At,{placement:Lt,onFirstUpdate:i,modifiers:ne}))}function Gt(){u.popperInstance&&(u.popperInstance.destroy(),u.popperInstance=null)}function Ut(){var St=u.props.appendTo,At,Lt=P();u.props.interactive&&St===Xh||St==="parent"?At=Lt.parentNode:At=Yh(St,[Lt]),At.contains(m)||At.appendChild(m),u.state.isMounted=!0,Pt()}function Nt(){return Mr(m.querySelectorAll("[data-tippy-root]"))}function wt(St){u.clearDelayTimeouts(),St&&B("onTrigger",[u,St]),D();var At=O(!0),Lt=C(),ae=Lt[0],Jt=Lt[1];as.isTouch&&ae==="hold"&&Jt&&(At=Jt),At?E=setTimeout(function(){u.show()},At):u.show()}function Dt(St){if(u.clearDelayTimeouts(),B("onUntrigger",[u,St]),!u.state.isVisible){z();return}if(!(u.props.trigger.indexOf("mouseenter")>=0&&u.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(St.type)>=0&&c)){var At=O(!1);At?b=setTimeout(function(){u.state.isVisible&&u.hide()},At):R=requestAnimationFrame(function(){u.hide()})}}function Rt(){u.state.isEnabled=!0}function Ht(){u.hide(),u.state.isEnabled=!1}function qt(){clearTimeout(E),clearTimeout(b),cancelAnimationFrame(R)}function ee(St){if(!u.state.isDestroyed){B("onBeforeUpdate",[u,St]),at();var At=u.props,Lt=Po(M,Object.assign({},At,Ao(St),{ignoreAttributes:!0}));u.props=Lt,st(),At.interactiveDebounce!==Lt.interactiveDebounce&&(Z(),e=Eo(vt,Lt.interactiveDebounce)),At.triggerTarget&&!Lt.triggerTarget?on(At.triggerTarget).forEach(function(ae){ae.removeAttribute("aria-expanded")}):Lt.triggerTarget&&M.removeAttribute("aria-expanded"),H(),I(),x&&x(At,Lt),u.popperInstance&&(Pt(),Nt().forEach(function(ae){requestAnimationFrame(ae._tippy.popperInstance.forceUpdate)})),B("onAfterUpdate",[u,St])}}function te(St){u.setProps({content:St})}function oe(){var St=u.state.isVisible,At=u.state.isDestroyed,Lt=!u.state.isEnabled,ae=as.isTouch&&!u.props.touch,Jt=Zr(u.props.duration,0,Ji.duration);if(!(St||At||Lt||ae)&&!P().hasAttribute("disabled")&&(B("onShow",[u],!1),u.props.onShow(u)!==!1)){if(u.state.isVisible=!0,w()&&(m.style.visibility="visible"),I(),D(),u.state.isMounted||(m.style.transition="none"),w()){var ge=L(),ye=ge.box,Me=ge.content;Jr([ye,Me],0)}i=function(){var ne;if(!(!u.state.isVisible||o)){if(o=!0,m.offsetHeight,m.style.transition=u.props.moveTransition,w()&&u.props.animation){var be=L(),Oe=be.box,Fe=be.content;Jr([Oe,Fe],Jt),Mo([Oe,Fe],"visible")}U(),H(),Co(qr,u),(ne=u.popperInstance)==null||ne.forceUpdate(),B("onMount",[u]),u.props.animation&&w()&&j(Jt,function(){u.state.isShown=!0,B("onShown",[u])})}},Ut()}}function Vt(){var St=!u.state.isVisible,At=u.state.isDestroyed,Lt=!u.state.isEnabled,ae=Zr(u.props.duration,1,Ji.duration);if(!(St||At||Lt)&&(B("onHide",[u],!1),u.props.onHide(u)!==!1)){if(u.state.isVisible=!1,u.state.isShown=!1,o=!1,c=!1,w()&&(m.style.visibility="hidden"),Z(),z(),I(!0),w()){var Jt=L(),ge=Jt.box,ye=Jt.content;u.props.animation&&(Jr([ge,ye],ae),Mo([ge,ye],"hidden"))}U(),H(),u.props.animation?w()&&Y(ae,u.unmount):u.unmount()}}function jt(St){F().addEventListener("mousemove",e),Co(hr,e),e(St)}function It(){u.state.isVisible&&u.hide(),u.state.isMounted&&(Gt(),Nt().forEach(function(St){St._tippy.unmount()}),m.parentNode&&m.parentNode.removeChild(m),qr=qr.filter(function(St){return St!==u}),u.state.isMounted=!1,B("onHidden",[u]))}function Ft(){u.state.isDestroyed||(u.clearDelayTimeouts(),u.unmount(),at(),delete M._tippy,u.state.isDestroyed=!0,B("onDestroy",[u]))}}function vn(M,p){p===void 0&&(p={});var g=Ji.plugins.concat(p.plugins||[]);_d();var E=Object.assign({},p,{plugins:g}),b=jd(M),R=b.reduce(function(c,y){var t=y&&hc(y,E);return t&&c.push(t),c},[]);return zr(M)?R[0]:R}vn.defaultProps=Ji;vn.setDefaultProps=rc;vn.currentInput=as;Object.assign({},Lh,{effect:function(p){var g=p.state,E={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(g.elements.popper.style,E.popper),g.styles=E,g.elements.arrow&&Object.assign(g.elements.arrow.style,E.arrow)}});var wr={name:"sticky",defaultValue:!1,fn:function(p){var g=p.reference,E=p.popper;function b(){return p.popperInstance?p.popperInstance.state.elements.reference:g}function R(o){return p.props.sticky===!0||p.props.sticky===o}var c=null,y=null;function t(){var o=R("reference")?b().getBoundingClientRect():null,v=R("popper")?E.getBoundingClientRect():null;(o&&Fo(c,o)||v&&Fo(y,v))&&p.popperInstance&&p.popperInstance.update(),c=o,y=v,p.state.isMounted&&requestAnimationFrame(t)}return{onMount:function(){p.props.sticky&&t()}}}};function Fo(M,p){return M&&p?M.top!==p.top||M.right!==p.right||M.bottom!==p.bottom||M.left!==p.left:!0}vn.setDefaultProps({render:Hh});const uc=(M,p)=>{const{destroy:g,setProps:E}=vn(M,p);return{destroy:g,update:E}},fc=M=>(p,g)=>uc(p,{...g,...M}),Ci=fc({appendTo:()=>document.getElementById("tippyRoot"),animation:"shift-away-subtle",arrow:Ud,duration:[100,0],theme:"material",allowHTML:!0}),Vn=class Vn{constructor(p="_"){this.name=p,this.externalResources={},this.allEmotes=new Map,this.global=new Map,this.channels=new Map}fillEmoteMap(p,g={}){p.clear();for(const E in g)p.set(E,g[E]);return p}getLocalResourceName(p=Vn.GLOBAL){return`/data/emotes/${this.name.toLowerCase()}-${p}.json`}getRemoteResourceName(p=Vn.GLOBAL){return console.warn(`Emote provider [${this.name}] does not implement remote resource endpoint builder!`),this.getLocalResourceName(p)}async init(p){const g=[this.getGlobalEmotes(),this.getChannelEmotes(rr)];return p!=null&&p.id&&g.push(this.getChannelEmotes(p.id)),await Promise.all(g)}parseResponse(p){return p}parseChannelResponse(p){return this.parseResponse(p)}async getExternalResource(p,g=!1){return await(await fetch(p)).json()}async getGlobalEmotes(p=!1,g=!1){if(!p&&this.global.size>0)return this.global;try{const E=g?this.getLocalResourceName():this.getRemoteResourceName(),b=await this.getExternalResource(E,g),R=this.parseResponse(b);this.fillEmoteMap(this.global,R)}catch(E){const b=g?"remote":"local";if(console.error(`Emote provider [${this.name}/${b}] | Failed to fetch global emotes`,E),!g)return await this.getGlobalEmotes(p,!0)}return console.log(`[${this.name} emotes] Global lists loaded. Total count: ${this.global.size}`),this.global}async getChannelEmotes(p="",g=!1,E=!1){if(!g){const R=this.channels.get(p);if((R==null?void 0:R.size)>0)return R}try{const R=E?this.getLocalResourceName(p):this.getRemoteResourceName(p),c=await this.getExternalResource(R),y=this.parseChannelResponse(c),t=this.fillEmoteMap(new Map,y);this.channels.set(p,t)}catch(R){const c=E?"remote":"local";if(console.error(`Emote provider [${this.name}/${c}] | Failed to fetch emotes for channel [${p}]`,R),!E)return await this.getChannelEmotes(p,g,!0)}const b=this.channels.get(p);return console.log(`[${this.name} emotes] Channel [${p}] lists loaded. Total count: ${b.size}`),b}enrichExternalSource(p){return this.global.forEach((g,E)=>{p.set(E,{name:E,src:g,provider:this.name,type:"global"})}),this.channels.forEach((g,E)=>{E!==rr&&g.forEach((b,R)=>{p.set(R,{name:R,src:b,provider:this.name,type:"channel"})})}),this.channels.has(rr)&&this.channels.get(rr).forEach((g,E)=>{p.set(E,{name:E,src:g,provider:this.name,type:"channel"})}),p}injectEmotes(p,g,E){for(let b=0;b<E.length;b++)this.allEmotes.has(E[b])&&(E[b]=this.allEmotes.get(E[b]));return E}};sr(Vn,"GLOBAL","global");let vi=Vn;class dc extends vi{constructor(){super("Twitch badges"),this.channel=new Map}getLocalResourceName(p="global"){return`/data/emotes/badges-${p}.json`}getRemoteResourceName(p=vi.GLOBAL){return p===vi.GLOBAL?"chat/badges/global":`chat/badges?broadcaster_id=${p}`}async getExternalResource(p,g=!1){return g?await super.getExternalResource(p,g):await Zi.request(p).catch(E=>({error:E,message:E.message}))}parseResponse(p){try{if(p.error)throw new Error(p.message||p.error||"Invalid response");return p.reduce((g,E)=>(g[E.set_id]=E.versions.reduce((b,R)=>(b[R.id]={src:R.image_url_2x,desc:R.description,title:R.title},b),{}),g),{})}catch(g){return console.error(`Badge provider [${this.name}] | Failed to parse badge data`,g),{}}}enrichExternalSource(p){this.global.forEach((g,E)=>{p.set(E,g)}),this.channels.forEach((g,E)=>{g.forEach((b,R)=>{p.set(R,b)})})}}class cc extends vi{constructor(){super("7TV")}getRemoteResourceName(p=vi.GLOBAL){return p===vi.GLOBAL?"https://7tv.io/v3/emote-sets/global":`https://7tv.io/v3/users/twitch/${p}`}emoteDataToMap(p=[]){const g={};for(const E of p)g[E.name]=`https://cdn.7tv.app/emote/${E.id}/2x.webp`;return g}parseResponse(p){try{if(p.error)throw new Error(p.error);return this.emoteDataToMap(p.emotes)}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}parseChannelResponse(p){try{if(p.error)throw new Error(p.error);return this.emoteDataToMap(p.emote_set.emotes)}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}}class vc extends vi{constructor(){super("BTTV")}getRemoteResourceName(p=vi.GLOBAL){return p===vi.GLOBAL?"https://api.betterttv.net/3/cached/emotes/global":`https://api.betterttv.net/3/cached/users/twitch/${p}`}emoteDataToMap(p=[]){const g={};for(const E of p)g[E.code]=`https://cdn.betterttv.net/emote/${E.id}/2x`;return g}parseResponse(p){try{if(p.message)throw new Error(p.message);return this.emoteDataToMap(p)}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}parseChannelResponse(p){try{if(p.message)throw new Error(p.message);return Object.assign(this.emoteDataToMap(p.sharedEmotes),this.emoteDataToMap(p.channelEmotes))}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}}class pc extends vi{constructor(){super("FFZ")}getRemoteResourceName(p=vi.GLOBAL){return p===vi.GLOBAL?"https://api.frankerfacez.com/v1/set/global":`https://api.frankerfacez.com/v1/room/id/${p}`}emoteDataToMap(p=[]){const g={};for(const E of p)g[E.name]=`https://cdn.frankerfacez.com/emote/${E.id}/2`;return g}parseResponse(p){try{if(p.message)throw new Error(p.message);let g={};for(const E in p.sets)g=Object.assign(g,this.emoteDataToMap(p.sets[E].emoticons));return g}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}}const Un=class Un extends vi{constructor(){super("Twitch"),this.channels.set(Un.OTHER_CHANNELS,new Map),this.emotesById=new Map}getRemoteResourceName(p=vi.GLOBAL){return p===vi.GLOBAL?"chat/emotes/global":`chat/emotes?broadcaster_id=${p}`}async getExternalResource(p,g=!1){return g?await super.getExternalResource(p,g):await Zi.request(p).catch(E=>({error:E,message:E.message}))}parseResponse(p){try{if(p.error)throw new Error(p.message||p.error||"Invalid response");return p.reduce((g,E)=>(this.emotesById.set(E.id,E.name),g[E.name]=`https://static-cdn.jtvnw.net/emoticons/v2/${E.id}/default/light/2.0`,g),{})}catch(g){return console.error(`Emote provider [${this.name}] | Failed to parse emote data`,g),{}}}injectEmotes(p,g,E){if(p._parseAllEmotes)return super.injectEmotes(p,g,E);if(!p.emotes)return E;const b=new Set;for(const R in p.emotes){let c=this.emotesById.get(R);if(!c){const y=p.emotes[R][0].split("-");c=g.slice(Number(y[0]),Number(y[1])+1),this.addNewMiscEmote(R,c)}b.add(c)}for(let R=0;R<E.length;R++)b.has(E[R])&&(E[R]=this.allEmotes.get(E[R])||E[R]);return E}addNewMiscEmote(p,g){const E={name:g,src:`https://static-cdn.jtvnw.net/emoticons/v2/${p}/default/light/2.0`,provider:this.name,type:"misc"};return this.channels.get(Un.OTHER_CHANNELS).set(g,E),this.allEmotes.set(g,E),E}};sr(Un,"OTHER_CHANNELS","(other)");let fa=Un;const br=new Map,da=new Map,Tr=[new cc,new pc,new vc,new fa],mc=[new dc];async function gc(){let M=null;try{M=await aa(Zi.channel)}catch{console.warn("Failed to get current user's profile data; custom emotes will not be used.")}await Promise.all(Tr.map(p=>p.init(M)));for(const p of Tr)p.enrichExternalSource(p.allEmotes).forEach((E,b)=>br.set(b,E));console.info("Emote lists preloaded. Total count: ",br.size),Tr.reverse()}async function xc(){const M=mc.map(p=>p.init().then(()=>p.enrichExternalSource(da)));await Promise.all(M),console.info("Badge lists preloaded. Total count: ",da.size)}function yc(M,p=""){const g=p.trim().split(/\s+/);"reply-parent-msg-body"in M&&(g[0]="");for(const E of Tr)E.injectEmotes(M,p,g);return g}class Ki{constructor(p,g,E){this.name=p,this.picture=`/pics/avatars/${g}.webp`,this.color=E||Nr(),this.unitbehavior="chad",this.unitclass="warrior"}}const xs={snipers:{names:["FarbrorBarbro","UgandanLoki","KingBooMATE","real_forsen","Lizor","schlodzony","BurningToxic","EddieHD_","DankJuicer","Vadikus007","samme1g","14PATRIARH88","IgorCykel","Velcuz","DatBulletGuy","ActuallyPepege","Cubiie","forsenK","Unmoon","Menymeg","msun_","Nydra007","kompy__"],pictures:["pastor","uganda","peepo"]},normans:{names:[],pictures:["beach","cat","fish","peepo","red-flower"]},special:{g7eternal:new Ki("G7Eternal","g7","#008000"),badoge:new Ki("badoge","doge","#0ADDAA"),nymn:new Ki("NymN","nymn","#E91212"),nam_:new Ki("NaM______________________","nam","#FF0000"),nani:new Ki("nani","nani","#C9B2DB"),pajlada:new Ki("pajlada","pajlada","#CC44FF")},forsen:new Ki("forsen","forsen","#FF0000")};xs.forsen.picture="/pics/avatars/forsen.png";const Tc=["snipers","snipers","snipers","snipers","normans","normans","normans","normans","special"],Sc=["Brave","Clever","Witty","Happy","Silly","Bright","Calm","Eager","Gentle","Jolly"],Ec=["Lion","Tiger","Bear","Panda","Eagle","Wolf","Fox","Owl","Hawk","Shark"];function Xa(){const M=He(Sc),p=He(Ec),g=re(999);return`${M}${p}${g}`}function ca(){const M=new Ki(Xa(),He(xs.normans.pictures));return M.unitbehavior="soy",M.unitclass="norman",M}function va(M){M||(M=He(Tc));let p=null;switch(M){case"forsen":{p=xs.forsen;break}case"special":{p=Sh(xs.special);break}default:{const g=He(xs[M].names)||Xa(),E=He(xs[M].pictures);p=new Ki(g,E)}}return p}function Cc(){const M=Object.values(xs.special);for(const p of xs.snipers.names)M.push(new Ki(p,He(xs.snipers.pictures)));return M}const Pn=[],Rn={};async function Ac(){const M=new Set;try{Pn.length=0;const E=(await(await fetch("/data/chat-names.txt")).text()).trim().split(/\r?\n/);for(const R of E)M.add(R);const b=await pf();for(const R of b){const c=R.user_login;c!==Vr&&c!==Zi.channel&&M.add(c)}}catch(p){console.error("Failed to fetch the list of generic chatter names:",p)}for(let p=0;p<80;p++){const g=Xa().toLowerCase();Pn.includes(g)||Pn.push(g)}M.forEach(p=>{const g=1+re(p.length);Pn.push(p.slice(0,g)+"_"+p.slice(g))});try{const g=await(await fetch("/data/chat-samples.json")).json();for(const E in g)Rn[E]=g[E]}catch(p){console.error("Failed to fetch the list of messages:",p),window.alert(`A crucial file is missing/broken: chat-samples.json
Please report this error to a dev.`),Rn.generic={pasta:[],ascii:[],hype:[],fail:[],scare:[],mentions:[]},Rn.lifecycle={},Rn.random=["Aware nothing to spam... (loading error!)"]}}function kh(){return He(Pn)}function Ln(M="random",p=null){let g=Rn[M];return g?(p!==null&&(g=g[p]||g),g):null}function Mc(M="random",p=null){const g=Ln(M,p);return He(g)}function Oo(M,p,g){const E=M.slice();E[40]=p[g];const b=E[10].get(E[40]);return E[41]=b,E}function Do(M,p,g){const E=M.slice();return E[44]=p[g],E}function wc(M){let p,g="Get new task",E,b;return{c(){p=Q("button"),p.textContent=g,this.h()},l(R){p=q(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-13bb05u"&&(p.textContent=g),this.h()},h(){W(p,"class","btn btn-primary mx-auto")},m(R,c){dt(R,p,c),E||(b=se(p,"click",M[14]),E=!0)},p:Qt,d(R){R&&K(p),E=!1,b()}}}function bc(M){let p,g="Skip this emote",E,b;return{c(){p=Q("button"),p.textContent=g,this.h()},l(R){p=q(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-14f229t"&&(p.textContent=g),this.h()},h(){W(p,"class","btn btn-warning mx-auto")},m(R,c){dt(R,p,c),E||(b=se(p,"click",M[15]),E=!0)},p:Qt,d(R){R&&K(p),E=!1,b()}}}function Pc(M){let p,g="<b>Streamer will draw a random emote, which is available in their chat room.</b>",E,b,R="<b>Chatters have to guess the emote.</b>",c,y,t="Type your guesses in chat. Your message must start with an emote to count.";return{c(){p=Q("p"),p.innerHTML=g,E=lt(),b=Q("p"),b.innerHTML=R,c=lt(),y=Q("p"),y.textContent=t},l(o){p=q(o,"P",{"data-svelte-h":!0}),Ot(p)!=="svelte-138gjek"&&(p.innerHTML=g),E=ht(o),b=q(o,"P",{"data-svelte-h":!0}),Ot(b)!=="svelte-x78d0u"&&(b.innerHTML=R),c=ht(o),y=q(o,"P",{"data-svelte-h":!0}),Ot(y)!=="svelte-1y2f2ep"&&(y.textContent=t)},m(o,v){dt(o,p,v),dt(o,E,v),dt(o,b,v),dt(o,c,v),dt(o,y,v)},p:Qt,d(o){o&&(K(p),K(E),K(b),K(c),K(y))}}}function Rc(M){let p;function g(R,c){return R[7]?Fc:Lc}let E=g(M),b=E(M);return{c(){b.c(),p=Le()},l(R){b.l(R),p=Le()},m(R,c){b.m(R,c),dt(R,p,c)},p(R,c){E===(E=g(R))&&b?b.p(R,c):(b.d(1),b=E(R),b&&(b.c(),b.m(p.parentNode,p)))},d(R){R&&K(p),b.d(R)}}}function Lc(M){let p,g="Start guessing!",E,b,R="Type your guesses in chat. Your message must start with an emote to count.";return{c(){p=Q("p"),p.textContent=g,E=lt(),b=Q("p"),b.textContent=R,this.h()},l(c){p=q(c,"P",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-hmirxr"&&(p.textContent=g),E=ht(c),b=q(c,"P",{"data-svelte-h":!0}),Ot(b)!=="svelte-1y2f2ep"&&(b.textContent=R),this.h()},h(){W(p,"class","my-4 fw-bold fs-bigger svelte-ppbuvz")},m(c,y){dt(c,p,y),dt(c,E,y),dt(c,b,y)},p:Qt,d(c){c&&(K(p),K(E),K(b))}}}function Fc(M){let p,g,E,b,R,c,y="Correct answer is:",t,o,v=M[6].name+"",s,i,n,e,r,l,a,h=M[6].provider+"",f,u,d=M[6].type+"",m;function x(C,A){return C[8]?Dc:Oc}let S=x(M),T=S(M);return{c(){p=Q("div"),T.c(),g=lt(),E=Q("hr"),b=lt(),R=Q("div"),c=Q("p"),c.textContent=y,t=lt(),o=Q("p"),s=mt(v),i=lt(),n=Q("img"),l=lt(),a=Q("small"),f=mt(h),u=mt(" | "),m=mt(d),this.h()},l(C){p=q(C,"DIV",{class:!0});var A=rt(p);T.l(A),A.forEach(K),g=ht(C),E=q(C,"HR",{}),b=ht(C),R=q(C,"DIV",{class:!0});var w=rt(R);c=q(w,"P",{class:!0,"data-svelte-h":!0}),Ot(c)!=="svelte-1bwgpsn"&&(c.textContent=y),t=ht(w),o=q(w,"P",{});var P=rt(o);s=gt(P,v),P.forEach(K),i=ht(w),n=q(w,"IMG",{src:!0,alt:!0,class:!0}),l=ht(w),a=q(w,"SMALL",{class:!0});var F=rt(a);f=gt(F,h),u=gt(F," | "),m=gt(F,d),F.forEach(K),w.forEach(K),this.h()},h(){W(p,"class","text-center"),W(c,"class","text-info fs-bigger svelte-ppbuvz"),Ae(n.src,e=M[6].src)||W(n,"src",e),W(n,"alt",r=M[6].name),W(n,"class","svelte-ppbuvz"),W(a,"class","svelte-ppbuvz"),W(R,"class","reveal-emote svelte-ppbuvz")},m(C,A){dt(C,p,A),T.m(p,null),dt(C,g,A),dt(C,E,A),dt(C,b,A),dt(C,R,A),V(R,c),V(R,t),V(R,o),V(o,s),V(R,i),V(R,n),V(R,l),V(R,a),V(a,f),V(a,u),V(a,m)},p(C,A){S===(S=x(C))&&T?T.p(C,A):(T.d(1),T=S(C),T&&(T.c(),T.m(p,null))),A[0]&64&&v!==(v=C[6].name+"")&&ie(s,v),A[0]&64&&!Ae(n.src,e=C[6].src)&&W(n,"src",e),A[0]&64&&r!==(r=C[6].name)&&W(n,"alt",r),A[0]&64&&h!==(h=C[6].provider+"")&&ie(f,h),A[0]&64&&d!==(d=C[6].type+"")&&ie(m,d)},d(C){C&&(K(p),K(g),K(E),K(b),K(R)),T.d()}}}function Oc(M){let p,g="Nobody guessed it!";return{c(){p=Q("i"),p.textContent=g,this.h()},l(E){p=q(E,"I",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-ypva71"&&(p.textContent=g),this.h()},h(){W(p,"class","text-muted")},m(E,b){dt(E,p,b)},p:Qt,d(E){E&&K(p)}}}function Dc(M){let p,g=M[8].username+"",E,b;return{c(){p=Q("b"),E=mt(g),b=mt(" got it!"),this.h()},l(R){p=q(R,"B",{});var c=rt(p);E=gt(c,g),c.forEach(K),b=gt(R," got it!"),this.h()},h(){kt(p,"color",M[8].color)},m(R,c){dt(R,p,c),V(p,E),dt(R,b,c)},p(R,c){c[0]&256&&g!==(g=R[8].username+"")&&ie(E,g),c[0]&256&&kt(p,"color",R[8].color)},d(R){R&&(K(p),K(b))}}}function Ic(M){let p;return{c(){p=mt("edit")},l(g){p=gt(g,"edit")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Bc(M){let p;return{c(){p=mt("edit_off")},l(g){p=gt(g,"edit_off")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Io(M){let p,g,E;function b(){return M[20](M[44])}return{c(){p=Q("button"),this.h()},l(R){p=q(R,"BUTTON",{title:!0,class:!0}),rt(p).forEach(K),this.h()},h(){W(p,"title",M[44]),W(p,"class","btn svelte-ppbuvz"),kt(p,"color",M[44]),kt(p,"background-color",M[44])},m(R,c){dt(R,p,c),g||(E=se(p,"click",b),g=!0)},p(R,c){M=R},d(R){R&&K(p),g=!1,E()}}}function Gc(M){let p;return{c(){p=mt("delete")},l(g){p=gt(g,"delete")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Nc(M){let p,g='<td class="text-muted text-center svelte-ppbuvz" colspan="4"><small>No guesses yet</small></td>';return{c(){p=Q("tr"),p.innerHTML=g},l(E){p=q(E,"TR",{"data-svelte-h":!0}),Ot(p)!=="svelte-1s3s5ei"&&(p.innerHTML=g)},m(E,b){dt(E,p,b)},p:Qt,d(E){E&&K(p)}}}function Vc(M){let p,g=_e(M[9]),E=[];for(let b=0;b<g.length;b+=1)E[b]=Bo(Oo(M,g,b));return{c(){for(let b=0;b<E.length;b+=1)E[b].c();p=Le()},l(b){for(let R=0;R<E.length;R+=1)E[R].l(b);p=Le()},m(b,R){for(let c=0;c<E.length;c+=1)E[c]&&E[c].m(b,R);dt(b,p,R)},p(b,R){if(R[0]&1536){g=_e(b[9]);let c;for(c=0;c<g.length;c+=1){const y=Oo(b,g,c);E[c]?E[c].p(y,R):(E[c]=Bo(y),E[c].c(),E[c].m(p.parentNode,p))}for(;c<E.length;c+=1)E[c].d(1);E.length=g.length}},d(b){b&&K(p),fs(E,b)}}}function Bo(M){let p,g,E=M[40]+"",b,R,c,y,t=M[41].score+"",o,v;return{c(){p=Q("tr"),g=Q("td"),b=mt(E),c=lt(),y=Q("td"),o=mt(t),v=lt(),this.h()},l(s){p=q(s,"TR",{});var i=rt(p);g=q(i,"TD",{class:!0,colspan:!0,title:!0});var n=rt(g);b=gt(n,E),n.forEach(K),c=ht(i),y=q(i,"TD",{class:!0});var e=rt(y);o=gt(e,t),e.forEach(K),v=ht(i),i.forEach(K),this.h()},h(){W(g,"class","hl svelte-ppbuvz"),W(g,"colspan","3"),W(g,"title",R=M[40]),kt(g,"color",M[41].color),W(y,"class","svelte-ppbuvz")},m(s,i){dt(s,p,i),V(p,g),V(g,b),V(p,c),V(p,y),V(y,o),V(p,v)},p(s,i){i[0]&512&&E!==(E=s[40]+"")&&ie(b,E),i[0]&512&&R!==(R=s[40])&&W(g,"title",R),i[0]&512&&kt(g,"color",s[41].color),i[0]&512&&t!==(t=s[41].score+"")&&ie(o,t)},d(s){s&&K(p)}}}function Uc(M){let p,g="Your task will appear here",E,b,R="Cover this part";return{c(){p=Q("p"),p.textContent=g,E=lt(),b=Q("small"),b.textContent=R,this.h()},l(c){p=q(c,"P",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-15pqxp3"&&(p.textContent=g),E=ht(c),b=q(c,"SMALL",{class:!0,"data-svelte-h":!0}),Ot(b)!=="svelte-x8zazg"&&(b.textContent=R),this.h()},h(){W(p,"class","svelte-ppbuvz"),W(b,"class","svelte-ppbuvz")},m(c,y){dt(c,p,y),dt(c,E,y),dt(c,b,y)},p:Qt,d(c){c&&(K(p),K(E),K(b))}}}function zc(M){let p,g=M[6].name+"",E,b,R,c,y,t,o,v=M[6].provider+"",s,i,n=M[6].type+"",e;return{c(){p=Q("p"),E=mt(g),b=lt(),R=Q("img"),t=lt(),o=Q("small"),s=mt(v),i=mt(" | "),e=mt(n),this.h()},l(r){p=q(r,"P",{class:!0});var l=rt(p);E=gt(l,g),l.forEach(K),b=ht(r),R=q(r,"IMG",{src:!0,alt:!0,class:!0}),t=ht(r),o=q(r,"SMALL",{class:!0});var a=rt(o);s=gt(a,v),i=gt(a," | "),e=gt(a,n),a.forEach(K),this.h()},h(){W(p,"class","svelte-ppbuvz"),Ae(R.src,c=M[6].src)||W(R,"src",c),W(R,"alt",y=M[6].name),W(R,"class","svelte-ppbuvz"),W(o,"class","svelte-ppbuvz")},m(r,l){dt(r,p,l),V(p,E),dt(r,b,l),dt(r,R,l),dt(r,t,l),dt(r,o,l),V(o,s),V(o,i),V(o,e)},p(r,l){l[0]&64&&g!==(g=r[6].name+"")&&ie(E,g),l[0]&64&&!Ae(R.src,c=r[6].src)&&W(R,"src",c),l[0]&64&&y!==(y=r[6].name)&&W(R,"alt",y),l[0]&64&&v!==(v=r[6].provider+"")&&ie(s,v),l[0]&64&&n!==(n=r[6].type+"")&&ie(e,n)},d(r){r&&(K(p),K(b),K(R),K(t),K(o))}}}function Xc(M){let p,g,E='<img src="/pics/backdrops/draw-emotes.webp" alt="backdrop" class="svelte-ppbuvz"/>',b,R,c,y,t,o,v,s,i,n,e,r,l,a,h,f,u,d,m,x,S,T,C,A,w,P,F,L="SIZE",O,I,B,U,H,Z="TOOL",tt,X,k,D,z,Y,j,J,it,st,at,ft,vt,xt,Ct,yt,Pt,Gt='<tr><td colspan="4" class="text-center fw-bold svelte-ppbuvz">Leaderboard</td></tr>',Ut,Nt,wt,Dt,Rt,Ht,qt,ee;function te(zt,ne){return zt[6]&&!zt[7]?bc:wc}let oe=te(M),Vt=oe(M);function jt(zt,ne){return zt[5]>0?Rc:Pc}let It=jt(M),Ft=It(M);h=new fe({props:{$$slots:{default:[Ic]},$$scope:{ctx:M}}}),d=new fe({props:{$$slots:{default:[Bc]},$$scope:{ctx:M}}});let St=_e(M[12]),At=[];for(let zt=0;zt<St.length;zt+=1)At[zt]=Io(Do(M,St,zt));at=new fe({props:{$$slots:{default:[Gc]},$$scope:{ctx:M}}});function Lt(zt,ne){return zt[9].length>0?Vc:Nc}let ae=Lt(M),Jt=ae(M);function ge(zt,ne){return zt[6]?zc:Uc}let ye=ge(M),Me=ye(M);return{c(){p=Q("div"),g=Q("div"),g.innerHTML=E,b=lt(),R=Q("div"),c=Q("div"),Vt.c(),y=lt(),t=Q("hr"),o=lt(),Ft.c(),v=lt(),s=Q("div"),i=Q("canvas"),n=lt(),e=Q("div"),r=Q("div"),l=Q("div"),a=Q("button"),Xt(h.$$.fragment),f=lt(),u=Q("button"),Xt(d.$$.fragment),m=lt(),x=Q("div");for(let zt=0;zt<At.length;zt+=1)At[zt].c();S=lt(),T=Q("div"),C=Q("input"),A=lt(),w=Q("div"),P=Q("div"),F=Q("span"),F.textContent=L,O=lt(),I=Q("input"),B=lt(),U=Q("div"),H=Q("span"),H.textContent=Z,tt=lt(),X=Q("input"),k=lt(),D=Q("div"),z=Q("div"),Y=mt("🞢"),J=lt(),it=Q("div"),st=Q("button"),Xt(at.$$.fragment),ft=lt(),vt=Q("div"),xt=lt(),Ct=Q("div"),yt=Q("table"),Pt=Q("thead"),Pt.innerHTML=Gt,Ut=lt(),Nt=Q("tbody"),Jt.c(),wt=lt(),Dt=Q("div"),Me.c(),this.h()},l(zt){p=q(zt,"DIV",{class:!0});var ne=rt(p);g=q(ne,"DIV",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-10q9c05"&&(g.innerHTML=E),b=ht(ne),R=q(ne,"DIV",{class:!0});var be=rt(R);c=q(be,"DIV",{class:!0});var Oe=rt(c);Vt.l(Oe),y=ht(Oe),t=q(Oe,"HR",{}),o=ht(Oe),Ft.l(Oe),Oe.forEach(K),v=ht(be),s=q(be,"DIV",{class:!0});var Fe=rt(s);i=q(Fe,"CANVAS",{width:!0,height:!0,class:!0}),rt(i).forEach(K),n=ht(Fe),e=q(Fe,"DIV",{class:!0});var de=rt(e);r=q(de,"DIV",{class:!0});var we=rt(r);l=q(we,"DIV",{class:!0});var Ve=rt(l);a=q(Ve,"BUTTON",{type:!0,class:!0});var Ue=rt(a);$t(h.$$.fragment,Ue),Ue.forEach(K),f=ht(Ve),u=q(Ve,"BUTTON",{type:!0,class:!0});var li=rt(u);$t(d.$$.fragment,li),li.forEach(K),Ve.forEach(K),m=ht(we),x=q(we,"DIV",{class:!0});var Ze=rt(x);for(let ds=0;ds<At.length;ds+=1)At[ds].l(Ze);Ze.forEach(K),S=ht(we),T=q(we,"DIV",{class:!0});var pi=rt(T);C=q(pi,"INPUT",{type:!0,class:!0}),pi.forEach(K),we.forEach(K),A=ht(de),w=q(de,"DIV",{class:!0});var ei=rt(w);P=q(ei,"DIV",{class:!0});var ze=rt(P);F=q(ze,"SPAN",{"data-svelte-h":!0}),Ot(F)!=="svelte-12nxb4r"&&(F.textContent=L),O=ht(ze),I=q(ze,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ze.forEach(K),B=ht(ei),U=q(ei,"DIV",{class:!0});var Ge=rt(U);H=q(Ge,"SPAN",{"data-svelte-h":!0}),Ot(H)!=="svelte-u9e54"&&(H.textContent=Z),tt=ht(Ge),X=q(Ge,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ge.forEach(K),ei.forEach(K),k=ht(de),D=q(de,"DIV",{class:!0});var ii=rt(D);z=q(ii,"DIV",{class:!0});var mi=rt(z);Y=gt(mi,"🞢"),mi.forEach(K),ii.forEach(K),J=ht(de),it=q(de,"DIV",{class:!0});var ve=rt(it);st=q(ve,"BUTTON",{class:!0});var Qe=rt(st);$t(at.$$.fragment,Qe),Qe.forEach(K),ve.forEach(K),ft=ht(de),vt=q(de,"DIV",{}),rt(vt).forEach(K),de.forEach(K),Fe.forEach(K),xt=ht(be),Ct=q(be,"DIV",{class:!0});var me=rt(Ct);yt=q(me,"TABLE",{class:!0});var Ai=rt(yt);Pt=q(Ai,"THEAD",{"data-svelte-h":!0}),Ot(Pt)!=="svelte-g36gx3"&&(Pt.innerHTML=Gt),Ut=ht(Ai),Nt=q(Ai,"TBODY",{});var xi=rt(Nt);Jt.l(xi),xi.forEach(K),Ai.forEach(K),me.forEach(K),be.forEach(K),wt=ht(ne),Dt=q(ne,"DIV",{class:!0});var Ss=rt(Dt);Me.l(Ss),Ss.forEach(K),ne.forEach(K),this.h()},h(){W(g,"class","backdrop svelte-ppbuvz"),W(c,"class","content-part help svelte-ppbuvz"),W(i,"width","800"),W(i,"height","800"),W(i,"class","svelte-ppbuvz"),W(a,"type","button"),W(a,"class","btn btn-secondary svelte-ppbuvz"),pe(a,"btn-success",!M[1]),W(u,"type","button"),W(u,"class","btn btn-secondary svelte-ppbuvz"),pe(u,"btn-success",M[1]),W(l,"class","btn-group-vertical btn-smalltext svelte-ppbuvz"),W(x,"class","color-picker svelte-ppbuvz"),W(C,"type","color"),C.value=M[2],W(C,"class","svelte-ppbuvz"),W(T,"class","color-container svelte-ppbuvz"),W(r,"class","small-tools svelte-ppbuvz"),W(I,"type","range"),W(I,"min","5"),W(I,"max","25"),W(I,"step","5"),W(I,"class","svelte-ppbuvz"),W(P,"class","slider svelte-ppbuvz"),W(X,"type","range"),W(X,"min","0"),W(X,"max","2"),W(X,"step","1"),W(X,"class","svelte-ppbuvz"),W(U,"class","slider svelte-ppbuvz"),W(w,"class","sliders svelte-ppbuvz"),W(z,"class",j=ws("dot "+M[11][M[4]])+" svelte-ppbuvz"),kt(z,"width",si(M[3])),kt(z,"height",si(M[3])),kt(z,"background-color",M[2]),kt(z,"color",M[2]),kt(z,"font-size",si(M[3]*1.4)),W(D,"class","dot-example svelte-ppbuvz"),W(st,"class","btn btn-danger"),W(it,"class","d-flex align-items-center"),W(e,"class","toolbar svelte-ppbuvz"),W(s,"class","content-part board svelte-ppbuvz"),W(yt,"class","table table-striped svelte-ppbuvz"),W(Ct,"class","content-part leaderboard svelte-ppbuvz"),W(R,"class","content svelte-ppbuvz"),W(Dt,"class","task svelte-ppbuvz"),W(p,"class","game svelte-ppbuvz")},m(zt,ne){dt(zt,p,ne),V(p,g),V(p,b),V(p,R),V(R,c),Vt.m(c,null),V(c,y),V(c,t),V(c,o),Ft.m(c,null),V(R,v),V(R,s),V(s,i),M[17](i),V(s,n),V(s,e),V(e,r),V(r,l),V(l,a),Yt(h,a,null),V(l,f),V(l,u),Yt(d,u,null),V(r,m),V(r,x);for(let be=0;be<At.length;be+=1)At[be]&&At[be].m(x,null);V(r,S),V(r,T),V(T,C),V(e,A),V(e,w),V(w,P),V(P,F),V(P,O),V(P,I),ci(I,M[3]),V(w,B),V(w,U),V(U,H),V(U,tt),V(U,X),ci(X,M[4]),V(e,k),V(e,D),V(D,z),V(z,Y),V(e,J),V(e,it),V(it,st),Yt(at,st,null),V(e,ft),V(e,vt),V(R,xt),V(R,Ct),V(Ct,yt),V(yt,Pt),V(yt,Ut),V(yt,Nt),Jt.m(Nt,null),V(p,wt),V(p,Dt),Me.m(Dt,null),Ht=!0,qt||(ee=[se(a,"click",M[18]),Ei(Ci.call(null,a,{content:"Brush mode",placement:"left"})),se(u,"click",M[19]),Ei(Ci.call(null,u,{content:"Eraser mode",placement:"left"})),se(I,"change",M[21]),se(I,"input",M[21]),se(X,"change",M[22]),se(X,"input",M[22]),se(st,"click",M[13]),Ei(Ci.call(null,st,{content:"Clear drawings",placement:"top"}))],qt=!0)},p(zt,ne){oe===(oe=te(zt))&&Vt?Vt.p(zt,ne):(Vt.d(1),Vt=oe(zt),Vt&&(Vt.c(),Vt.m(c,y))),It===(It=jt(zt))&&Ft?Ft.p(zt,ne):(Ft.d(1),Ft=It(zt),Ft&&(Ft.c(),Ft.m(c,null)));const be={};ne[1]&65536&&(be.$$scope={dirty:ne,ctx:zt}),h.$set(be),(!Ht||ne[0]&2)&&pe(a,"btn-success",!zt[1]);const Oe={};if(ne[1]&65536&&(Oe.$$scope={dirty:ne,ctx:zt}),d.$set(Oe),(!Ht||ne[0]&2)&&pe(u,"btn-success",zt[1]),ne[0]&4100){St=_e(zt[12]);let de;for(de=0;de<St.length;de+=1){const we=Do(zt,St,de);At[de]?At[de].p(we,ne):(At[de]=Io(we),At[de].c(),At[de].m(x,null))}for(;de<At.length;de+=1)At[de].d(1);At.length=St.length}(!Ht||ne[0]&4)&&(C.value=zt[2]),ne[0]&8&&ci(I,zt[3]),ne[0]&16&&ci(X,zt[4]),(!Ht||ne[0]&16&&j!==(j=ws("dot "+zt[11][zt[4]])+" svelte-ppbuvz"))&&W(z,"class",j),ne[0]&8&&kt(z,"width",si(zt[3])),ne[0]&8&&kt(z,"height",si(zt[3])),ne[0]&4&&kt(z,"background-color",zt[2]),ne[0]&4&&kt(z,"color",zt[2]),ne[0]&8&&kt(z,"font-size",si(zt[3]*1.4));const Fe={};ne[1]&65536&&(Fe.$$scope={dirty:ne,ctx:zt}),at.$set(Fe),ae===(ae=Lt(zt))&&Jt?Jt.p(zt,ne):(Jt.d(1),Jt=ae(zt),Jt&&(Jt.c(),Jt.m(Nt,null))),ye===(ye=ge(zt))&&Me?Me.p(zt,ne):(Me.d(1),Me=ye(zt),Me&&(Me.c(),Me.m(Dt,null)))},i(zt){Ht||(Tt(h.$$.fragment,zt),Tt(d.$$.fragment,zt),Tt(at.$$.fragment,zt),zt&&(Rt||Ye(()=>{Rt=je(p,Ds,{duration:1e3}),Rt.start()})),Ht=!0)},o(zt){Mt(h.$$.fragment,zt),Mt(d.$$.fragment,zt),Mt(at.$$.fragment,zt),Ht=!1},d(zt){zt&&K(p),Vt.d(),Ft.d(),M[17](null),Wt(h),Wt(d),fs(At,zt),Wt(at),Jt.d(),Me.d(),qt=!1,hi(ee)}}}function Yc(M,p,g){let{minigame:E}=p,b,R,c,y={width:400,height:400,left:400,right:800,top:200,bottom:600,x:400,y:400},t=!1,o=0,v=0,s=!1,i="#999999",n=5,e=0,r=0,l=.1,a=null,h=!1,f=!1,u=null,d=Date.now();const m=Array.from(br.values()).filter(Y=>!(Y.name.startsWith("ffz")||/[^\w]/.test(Y.name))),x=[" "," "," "," "," "," "," first spam "," rare spam "," chills "," TeaTime "],S=[" "," "," "," "," "," "," ?"," ?"," for sure "," nice drawing "," TeaTime "],T=new Map;let C=[];const A=new Set,w=["round","square","butt"],P=["#000000","#404040","#808080","#C0C0C0","#FFFFFF","#FF0000","#FF7F00","#FFFF00","#00FF00","#00FFFF","#007FFF","#0000FF","#7F00FF","#FF00FF","#D2A679"];function F(){R.clearRect(0,0,b.width,b.height)}function L(Y){t=!0,o=Y.clientX-y.left,v=Y.clientY-y.top,O(Y)}function O(Y){t&&(s?R.globalCompositeOperation="destination-out":(R.globalCompositeOperation="source-over",R.strokeStyle=i),R.lineCap=w[e],R.lineWidth=n,R.beginPath(),R.moveTo(o,v),R.lineTo(Y.clientX-y.left,Y.clientY-y.top),R.stroke(),o=Y.clientX-y.left,v=Y.clientY-y.top,f=!0)}function I(){t=!1}function B(){let Y=0;A.size>50&&A.clear();let j;for(;Y++<5&&(j=He(m),!!A.has(j)););g(7,h=!1),f=!1,g(8,u=null),g(5,r+=1),l=.02+Math.random()*.14,g(6,a=j),d=Date.now()+12e3,console.info(`[Draw-emote | Round ${r}] New emote is:`,a.name,"Difficulty:",l,a),Fa(U),g(16,E._startCount+=1,E),F()}function U(Y,j){if(h)return;const J=j.indexOf(" "),it=J>0?j.slice(0,J):j;if(br.get(it)&&(d=Date.now()+3e3,it===a.name)){Y.__spawned__||xe.spawner.queueSpawnUnit(Y,j,!0);const at=Y["display-name"]||Y.username;T.has(at)||(T.set(at,{username:at,color:Y.color||"#ccc",score:0}),C.push(at)),g(8,u=T.get(at)),H()}}function H(){zn(U),g(7,h=!0),u?(console.info(`[Draw-emote | Round ${r}] The winner is:`,u),g(8,u.score+=1,u),g(9,C=C.sort((Y,j)=>T.get(j).score-T.get(Y).score)),E.modifier.modifyLoyalty(re(5,8))):E.modifier.modifyRage(re(10,14))}ti(()=>{c=new ResizeObserver(()=>{const j=R.getImageData(0,0,b.width,b.height);y=b.getBoundingClientRect(),g(0,b.width=y.width,b),g(0,b.height=y.height,b),R.putImageData(j,0,0)}),c.observe(b.parentElement),R=b.getContext("2d"),b.addEventListener("mousedown",L),b.addEventListener("mousemove",O),b.addEventListener("mouseup",I),b.addEventListener("mouseout",I);const Y=new Pi(()=>{if(!a||!h&&Date.now()<d||Math.random()<.3)return;const j=h||f&&Math.random()<l,J={username:kh(),color:Nr(),badges:[],_parseAllEmotes:!0};let it=a.name;for(;!j&&it===a.name;)it=He(m).name;h?(it+=He(x),it=it.repeat(re(1,7)),xe.spawner.queueSpawnUnit(J,it)):(it+=He(S),xe.spawner.queueSpawnUnit(J,it,!0),U(J,it))},1500);return()=>{Y.clear(),c&&c.disconnect()}});function Z(Y){ji[Y?"unshift":"push"](()=>{b=Y,g(0,b)})}const tt=()=>g(1,s=!1),X=()=>g(1,s=!0),k=Y=>g(2,i=Y);function D(){n=bs(this.value),g(3,n)}function z(){e=bs(this.value),g(4,e)}return M.$$set=Y=>{"minigame"in Y&&g(16,E=Y.minigame)},[b,s,i,n,e,r,a,h,u,C,T,w,P,F,B,H,E,Z,tt,X,k,D,z]}class Wc extends Ee{constructor(p){super(),Ce(this,p,Yc,Xc,Se,{minigame:16},null,[-1,-1])}}const pa=Object.freeze({gfmb:["gfmb1","gfmb2"],toLinks:["to-links1","to-links2"],nextLink:["next-link1","next-link2","next-link3","next-link4","next-link5","next-link6","next-link7","next-link8"],linkSeen:["link-seen1","link-seen2","link-seen3"],minViews:["min-views1","min-views2"],songRequest:["song-request1"],toGames:["to-games1","to-games2","to-games3"],nextGame:["next-game1","next-game2"],toBabag:["to-babag1","to-babag2"],outro:["outro1","outro2"],hype:["forsen-hype-01","forsen-hype-02","forsen-hype-03","forsen-hype-04","forsen-hype-05","forsen-hype-06","forsen-hype-07"],rage:["forsen-rage-01","forsen-rage-02","forsen-rage-03","forsen-rage-04","forsen-rage-05","forsen-rage-06","forsen-rage-07","forsen-rage-08"],pepepains:["forsen-random-01","forsen-random-02","forsen-random-03","forsen-random-04","forsen-random-05","forsen-random-06","forsen-random-07","forsen-random-08","forsen-random-09","forsen-random-10","forsen-random-11","forsen-random-12","forsen-random-13","forsen-random-14","forsen-random-15","forsen-random-16","forsen-random-17","forsen-random-18","forsen-random-19","forsen-random-20","forsen-random-21","forsen-random-22","forsen-random-23","forsen-random-24","forsen-random-25","forsen-random-26","forsen-random-27","forsen-random-28","forsen-random-29","forsen-random-30","forsen-random-31","forsen-random-32","forsen-random-33","forsen-random-34","forsen-random-35","forsen-random-36","forsen-random-37","forsen-random-38","forsen-random-39","forsen-random-40","forsen-random-41","forsen-random-42","forsen-random-43","forsen-random-44","forsen-random-45","forsen-random-46","forsen-random-47","forsen-random-48","forsen-random-49","forsen-random-50","forsen-random-51","forsen-singing-01","forsen-singing-02","forsen-singing-03","forsen-singing-04","forsen-singing-05","forsen-singing-06","forsen-singing-07","forsen-singing-08","forsen-singing-09","forsen-singing-10","forsen-singing-11","forsen-singing-12","forsen-singing-13","forsen-singing-14","forsen-singing-15","forsen-singing-16","forsen-singing-17","forsen-singing-18","forsen-singing-19","forsen-singing-20","forsen-singing-21","forsen-singing-22","forsen-singing-23","forsen-singing-24","forsen-singing-25","forsen-singing-26","forsen-singing-27","forsen-singing-28","forsen-singing-29","forsen-singing-30","forsen-singing-31","forsen-singing-32","forsen-singing-33","forsen-singing-34","forsen-singing-35","forsen-singing-36","forsen-singing-37","forsen-singing-38","forsen-singing-39","forsen-singing-40","forsen-singing-41","forsen-singing-42","forsen-singing-43","forsen-singing-44","forsen-singing-45","forsen-singing-46","forsen-singing-47","forsen-singing-48","forsen-singing-49","forsen-singing-50","forsen-singing-51","forsen-singing-52","forsen-singing-53","forsen-singing-54","forsen-singing-55","forsen-singing-56"]});function gi(M){return He(pa[M])}function Go(M){let p,g,E,b,R;return{c(){p=Q("div"),g=Q("img"),this.h()},l(c){p=q(c,"DIV",{class:!0});var y=rt(p);g=q(y,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),y.forEach(K),this.h()},h(){Ae(g.src,E=M[0])||W(g,"src",E),W(g,"width","512"),W(g,"height","512"),W(g,"alt","Advice friend"),W(g,"class","svelte-1vy07cn"),W(p,"class","advice-friend svelte-1vy07cn")},m(c,y){dt(c,p,y),V(p,g),M[4](g),R=!0},p(c,y){(!R||y&1&&!Ae(g.src,E=c[0]))&&W(g,"src",E)},i(c){R||(c&&Ye(()=>{R&&(b||(b=Fi(p,Oi,{duration:200,x:-200},!0)),b.run(1))}),R=!0)},o(c){c&&(b||(b=Fi(p,Oi,{duration:200,x:-200},!1)),b.run(0)),R=!1},d(c){c&&K(p),M[4](null),c&&b&&b.end()}}}function $c(M){let p,g=M[2]&&Go(M);return{c(){g&&g.c(),p=Le()},l(E){g&&g.l(E),p=Le()},m(E,b){g&&g.m(E,b),dt(E,p,b)},p(E,[b]){E[2]?g?(g.p(E,b),b&4&&Tt(g,1)):(g=Go(E),g.c(),Tt(g,1),g.m(p.parentNode,p)):g&&(Ie(),Mt(g,1,1,()=>{g=null}),Be())},i(E){Tt(g)},o(E){Mt(g)},d(E){E&&K(p),g&&g.d(E)}}}function Hc(M,p,g){let{content:E}=p,{image:b="favicon.png"}=p,R=null,c=null,y=!1;ti(()=>(g(2,y=!0),setTimeout(()=>{R=vn(c,{animation:"shift-away-extreme",arrow:!0,maxWidth:Math.min(window.innerWidth,800)*.4,duration:[150,0],theme:"material",placement:"right-end",hideOnClick:!1,offset:[100,10],allowHTML:!0,trigger:"manual",interactive:!0,content:E}),R.show()},100),()=>{R.destroy()}));function t(o){ji[o?"unshift":"push"](()=>{c=o,g(1,c)})}return M.$$set=o=>{"content"in o&&g(3,E=o.content),"image"in o&&g(0,b=o.image)},[b,c,y,E,t]}class kc extends Ee{constructor(p){super(),Ce(this,p,Hc,$c,Se,{content:3,image:0})}}function Kh(M,p,g,E="OK",b=ri){var s;const R=document.createElement("div");R.classList="d-flex flex-column bg-light text-dark";const c=document.createElement("div");c.innerHTML=p,c.classList="fs-4",R.appendChild(c);const y=document.createElement("div");y.innerHTML=g,R.appendChild(y);const t=document.createElement("button");t.classList="btn btn-primary border-dark mt-1 my-auto",t.innerHTML=E,t.addEventListener("click",function(){v.$destroy(),b.call(this,arguments)}),R.appendChild(t);const o=`/pics/portraits/${M}.webp`,v=new kc({props:{content:R,image:o},target:(s=document.getElementById(Dn))==null?void 0:s.parentNode})}const No="forsen-rage-ban-game.settings",Fn={darkMode:!1,tips:!0,channel:"",volume:50,volSound:100,volMusic:70,volForsen:100,endless:!1,invulnerable:!1,chatIntegration:!0,chatPunishment:"timeout",chatTimeout:10,chatIncludeMods:!1,firstVisit:!0,lastVisit:new Date},Je=ni(Object.assign({},Fn)),Kc=ni(!1);try{let M=null;const p=localStorage.getItem(No);p&&(M=JSON.parse(p)),Je.update(g=>{for(let E in M)E in Fn&&(g[E]=M[E]),Fn[E]instanceof Date&&(g[E]=new Date(g[E]));return g})}catch(M){console.warn("Failed to restore settings from localStorage",M)}finally{Je.subscribe(M=>{localStorage.setItem(No,JSON.stringify(M))}),Je.update(M=>{for(let p in Fn)M[p]=p in M?M[p]:Fn[p];if(M.firstVisit){M.firstVisit=!1;const p=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;ma(p)}else ma(M.darkMode);return M}),Kc.set(!0)}function ma(M){Je.update(p=>(M===void 0&&(M=!p.darkMode),p.darkMode=M,document.documentElement.dataset.bsTheme=p.darkMode?"dark":"light",p))}function ur(M,p){Je.update(g=>(p===void 0&&(p=!g[M]),g[M]=p,g))}function jc(){Je.update(M=>(M.endless||(console.info("Endless mode unlocked!"),Kh("pajlada","Endless mode unlocked!","You can now try out a new Endless game mode - how many days in a row can you hold without going insane?","😮 No way!")),M.endless=!0,M))}const fr={RAGE:5,LOYALTY:4};class Kn{constructor(){this.state=xe.state,this.isDebugMode=!1,Je.subscribe(p=>{this.isDebugMode=Xn})}modify(p=0,g=0){return this.isDebugMode?this:(p*=xe._state.rageScale,g*=xe._state.loyaltyScale,(p||g)&&(this.state.update(E=>(E.rage=Math.max(0,E.rage+p),E.loyalty=Math.min(100,E.loyalty+g),E)),xe.storeEndlessRunData(),p>fr.RAGE&&xe.forsen.tryToSay(gi("rage")),g>fr.LOYALTY&&xe.forsen.tryToSay(gi("hype"))),this)}modifyRage(p=0){return this.isDebugMode?this:(p*=xe._state.rageScale,p&&(this.state.update(g=>(g.rage=Math.max(0,g.rage+p),g)),xe.storeEndlessRunData(),p>fr.RAGE&&xe.forsen.tryToSay(gi("rage"))),this)}modifyLoyalty(p=0){return this.isDebugMode?this:(p*=xe._state.loyaltyScale,p&&(this.state.update(g=>(g.loyalty=Math.min(100,g.loyalty+p),g)),xe.storeEndlessRunData(),p>fr.LOYALTY&&xe.forsen.tryToSay(gi("hype"))),this)}}function Vo(M,p,g){const E=M.slice();E[6]=p[g];const b=E[0].controls[E[6]];return E[7]=b,E}function Zc(M){let p,g=M[0].title+"",E;return{c(){p=Q("h2"),E=mt(g),this.h()},l(b){p=q(b,"H2",{class:!0});var R=rt(p);E=gt(R,g),R.forEach(K),this.h()},h(){W(p,"class","svelte-1b1ogoy")},m(b,R){dt(b,p,R),V(p,E)},p(b,R){R&1&&g!==(g=b[0].title+"")&&ie(E,g)},i:Qt,o:Qt,d(b){b&&K(p)}}}function Jc(M){let p,g,E;var b=M[0].components.mainMenuTitle;function R(c,y){return{}}return b&&(p=Os(b,R())),{c(){p&&Xt(p.$$.fragment),g=Le()},l(c){p&&$t(p.$$.fragment,c),g=Le()},m(c,y){p&&Yt(p,c,y),dt(c,g,y),E=!0},p(c,y){if(y&1&&b!==(b=c[0].components.mainMenuTitle)){if(p){Ie();const t=p;Mt(t.$$.fragment,1,0,()=>{Wt(t,1)}),Be()}b?(p=Os(b,R()),Xt(p.$$.fragment),Tt(p.$$.fragment,1),Yt(p,g.parentNode,g)):p=null}},i(c){E||(p&&Tt(p.$$.fragment,c),E=!0)},o(c){p&&Mt(p.$$.fragment,c),E=!1},d(c){c&&K(g),p&&Wt(p,c)}}}function Qc(M){let p,g,E,b,R,c;return g=new fe({props:{size:"120%",$$slots:{default:[_c]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),E=mt(" Start new game"),this.h()},l(y){p=q(y,"BUTTON",{type:!0,class:!0});var t=rt(p);$t(g.$$.fragment,t),E=gt(t," Start new game"),t.forEach(K),this.h()},h(){W(p,"type","button"),W(p,"class","btn btn-outline-primary text-start svelte-1b1ogoy")},m(y,t){dt(y,p,t),Yt(g,p,null),V(p,E),b=!0,R||(c=se(p,"click",M[2]),R=!0)},p(y,t){const o={};t&1024&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){b||(Tt(g.$$.fragment,y),b=!0)},o(y){Mt(g.$$.fragment,y),b=!1},d(y){y&&K(p),Wt(g),R=!1,c()}}}function qc(M){let p,g,E,b;const R=[ev,tv],c=[];function y(t,o){return t[1]?0:1}return p=y(M),g=c[p]=R[p](M),{c(){g.c(),E=Le()},l(t){g.l(t),E=Le()},m(t,o){c[p].m(t,o),dt(t,E,o),b=!0},p(t,o){let v=p;p=y(t),p===v?c[p].p(t,o):(Ie(),Mt(c[v],1,1,()=>{c[v]=null}),Be(),g=c[p],g?g.p(t,o):(g=c[p]=R[p](t),g.c()),Tt(g,1),g.m(E.parentNode,E))},i(t){b||(Tt(g),b=!0)},o(t){Mt(g),b=!1},d(t){t&&K(E),c[p].d(t)}}}function _c(M){let p;return{c(){p=mt("not_started")},l(g){p=gt(g,"not_started")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function tv(M){let p,g,E,b,R,c;return g=new fe({props:{size:"120%",$$slots:{default:[iv]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),E=mt(" Find match"),this.h()},l(y){p=q(y,"BUTTON",{type:!0,class:!0});var t=rt(p);$t(g.$$.fragment,t),E=gt(t," Find match"),t.forEach(K),this.h()},h(){W(p,"type","button"),W(p,"class","btn btn-outline-primary text-start svelte-1b1ogoy")},m(y,t){dt(y,p,t),Yt(g,p,null),V(p,E),b=!0,R||(c=se(p,"click",M[4]),R=!0)},p(y,t){const o={};t&1024&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){b||(Tt(g.$$.fragment,y),b=!0)},o(y){Mt(g.$$.fragment,y),b=!1},d(y){y&&K(p),Wt(g),R=!1,c()}}}function ev(M){let p,g=`<div class="spinner-border svelte-1b1ogoy" role="status"><span class="visually-hidden">Loading...</span></div>
            Looking for an opponent...`,E,b,R,c,y,t,o;return R=new fe({props:{size:"120%",$$slots:{default:[sv]},$$scope:{ctx:M}}}),{c(){p=Q("div"),p.innerHTML=g,E=lt(),b=Q("button"),Xt(R.$$.fragment),c=mt(`\r
            Stop searching`),this.h()},l(v){p=q(v,"DIV",{"data-svelte-h":!0}),Ot(p)!=="svelte-dm72xr"&&(p.innerHTML=g),E=ht(v),b=q(v,"BUTTON",{type:!0,class:!0});var s=rt(b);$t(R.$$.fragment,s),c=gt(s,`\r
            Stop searching`),s.forEach(K),this.h()},h(){W(b,"type","button"),W(b,"class","btn btn-outline-danger text-start svelte-1b1ogoy")},m(v,s){dt(v,p,s),dt(v,E,s),dt(v,b,s),Yt(R,b,null),V(b,c),y=!0,t||(o=se(b,"click",M[5]),t=!0)},p(v,s){const i={};s&1024&&(i.$$scope={dirty:s,ctx:v}),R.$set(i)},i(v){y||(Tt(R.$$.fragment,v),y=!0)},o(v){Mt(R.$$.fragment,v),y=!1},d(v){v&&(K(p),K(E),K(b)),Wt(R),t=!1,o()}}}function iv(M){let p;return{c(){p=mt("not_started")},l(g){p=gt(g,"not_started")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function sv(M){let p;return{c(){p=mt("cancel")},l(g){p=gt(g,"cancel")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Uo(M){let p,g,E,b,R,c;return g=new fe({props:{size:"120%",$$slots:{default:[nv]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),E=mt(" Practice mode"),this.h()},l(y){p=q(y,"BUTTON",{type:!0,class:!0});var t=rt(p);$t(g.$$.fragment,t),E=gt(t," Practice mode"),t.forEach(K),this.h()},h(){W(p,"type","button"),W(p,"class","btn btn-outline-secondary text-start svelte-1b1ogoy")},m(y,t){dt(y,p,t),Yt(g,p,null),V(p,E),b=!0,R||(c=se(p,"click",M[3]),R=!0)},p(y,t){const o={};t&1024&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){b||(Tt(g.$$.fragment,y),b=!0)},o(y){Mt(g.$$.fragment,y),b=!1},d(y){y&&K(p),Wt(g),R=!1,c()}}}function nv(M){let p;return{c(){p=mt("videogame_asset")},l(g){p=gt(g,"videogame_asset")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function zo(M){let p,g,E,b,R,c=M[6]+"",y,t,o,v=M[7]+"",s,i;return{c(){p=Q("div"),g=Q("div"),E=lt(),b=Q("div"),R=Q("div"),y=mt(c),t=lt(),o=Q("div"),s=mt(v),i=lt(),this.h()},l(n){p=q(n,"DIV",{class:!0});var e=rt(p);g=q(e,"DIV",{class:!0}),rt(g).forEach(K),E=ht(e),b=q(e,"DIV",{class:!0});var r=rt(b);R=q(r,"DIV",{class:!0});var l=rt(R);y=gt(l,c),l.forEach(K),t=ht(r),o=q(r,"DIV",{class:!0});var a=rt(o);s=gt(a,v),a.forEach(K),r.forEach(K),i=ht(e),e.forEach(K),this.h()},h(){W(g,"class","control-icon svelte-1b1ogoy"),kt(g,"color","red"),kt(g,"background-image",`url(/pics/icons/${M[6]}.png)`),W(R,"class","control-header svelte-1b1ogoy"),W(o,"class","control-desc svelte-1b1ogoy"),W(b,"class","control-desc svelte-1b1ogoy"),W(p,"class","control-layout svelte-1b1ogoy")},m(n,e){dt(n,p,e),V(p,g),V(p,E),V(p,b),V(b,R),V(R,y),V(b,t),V(b,o),V(o,s),V(p,i)},p(n,e){e&1&&kt(g,"background-image",`url(/pics/icons/${n[6]}.png)`),e&1&&c!==(c=n[6]+"")&&ie(y,c),e&1&&v!==(v=n[7]+"")&&ie(s,v)},d(n){n&&K(p)}}}function Xo(M){let p,g=M[7]&&zo(M);return{c(){g&&g.c(),p=Le()},l(E){g&&g.l(E),p=Le()},m(E,b){g&&g.m(E,b),dt(E,p,b)},p(E,b){E[7]?g?g.p(E,b):(g=zo(E),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},d(E){E&&K(p),g&&g.d(E)}}}function rv(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l,a,h;const f=[Jc,Zc],u=[];function d(w,P){return w[0].components.mainMenuTitle?0:1}t=d(M),o=u[t]=f[t](M);const m=[qc,Qc],x=[];function S(w,P){return w[0].looksLikeMultiplayerGame?0:1}i=S(M),n=x[i]=m[i](M);let T=M[0].allowsTrainingMode&&Uo(M),C=_e(Object.keys(M[0].controls)),A=[];for(let w=0;w<C.length;w+=1)A[w]=Xo(Vo(M,C,w));return{c(){p=Q("div"),g=Q("div"),E=Q("img"),R=lt(),c=Q("div"),y=Q("div"),o.c(),v=lt(),s=Q("div"),n.c(),e=lt(),T&&T.c(),r=lt(),l=Q("div");for(let w=0;w<A.length;w+=1)A[w].c();this.h()},l(w){p=q(w,"DIV",{class:!0});var P=rt(p);g=q(P,"DIV",{class:!0});var F=rt(g);E=q(F,"IMG",{src:!0,alt:!0,class:!0}),F.forEach(K),R=ht(P),c=q(P,"DIV",{class:!0});var L=rt(c);y=q(L,"DIV",{class:!0});var O=rt(y);o.l(O),O.forEach(K),v=ht(L),s=q(L,"DIV",{class:!0});var I=rt(s);n.l(I),e=ht(I),T&&T.l(I),I.forEach(K),L.forEach(K),r=ht(P),l=q(P,"DIV",{class:!0});var B=rt(l);for(let U=0;U<A.length;U+=1)A[U].l(B);B.forEach(K),P.forEach(K),this.h()},h(){Ae(E.src,b=M[0].mainMenuImage)||W(E,"src",b),W(E,"alt","backdrop"),W(E,"class","svelte-1b1ogoy"),W(g,"class","backdrop svelte-1b1ogoy"),W(y,"class","my-auto"),W(s,"class","menu-buttons svelte-1b1ogoy"),W(c,"class","part svelte-1b1ogoy"),W(l,"class","part right svelte-1b1ogoy"),W(p,"class","menu-section svelte-1b1ogoy")},m(w,P){dt(w,p,P),V(p,g),V(g,E),V(p,R),V(p,c),V(c,y),u[t].m(y,null),V(c,v),V(c,s),x[i].m(s,null),V(s,e),T&&T.m(s,null),V(p,r),V(p,l);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m(l,null);h=!0},p(w,[P]){(!h||P&1&&!Ae(E.src,b=w[0].mainMenuImage))&&W(E,"src",b);let F=t;t=d(w),t===F?u[t].p(w,P):(Ie(),Mt(u[F],1,1,()=>{u[F]=null}),Be(),o=u[t],o?o.p(w,P):(o=u[t]=f[t](w),o.c()),Tt(o,1),o.m(y,null));let L=i;if(i=S(w),i===L?x[i].p(w,P):(Ie(),Mt(x[L],1,1,()=>{x[L]=null}),Be(),n=x[i],n?n.p(w,P):(n=x[i]=m[i](w),n.c()),Tt(n,1),n.m(s,e)),w[0].allowsTrainingMode?T?(T.p(w,P),P&1&&Tt(T,1)):(T=Uo(w),T.c(),Tt(T,1),T.m(s,null)):T&&(Ie(),Mt(T,1,1,()=>{T=null}),Be()),P&1){C=_e(Object.keys(w[0].controls));let O;for(O=0;O<C.length;O+=1){const I=Vo(w,C,O);A[O]?A[O].p(I,P):(A[O]=Xo(I),A[O].c(),A[O].m(l,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=C.length}},i(w){h||(Tt(o),Tt(n),Tt(T),w&&(a||Ye(()=>{a=je(p,Is,{}),a.start()})),h=!0)},o(w){Mt(o),Mt(n),Mt(T),h=!1},d(w){w&&K(p),u[t].d(),x[i].d(),T&&T.d(),fs(A,w)}}}function av(M,p,g){let{minigame:E}=p,b=null;function R(){E.start()}function c(){E.startTraining()}function y(){g(1,b=new ai(R,re(4e3,2e4)))}function t(){b==null||b.clear(),g(1,b=null)}return ti(()=>t),M.$$set=o=>{"minigame"in o&&g(0,E=o.minigame)},[E,b,R,c,y,t]}class ov extends Ee{constructor(p){super(),Ce(this,p,av,rv,Se,{minigame:0})}}function lv(M){let p,g='<img alt="DVD screensaver" src="favicon.ico" class="svelte-ee9ael"/>';return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-1svq0jf"&&(p.innerHTML=g),this.h()},h(){W(p,"class","anim-box svelte-ee9ael"),kt(p,"left",si(M[2])),kt(p,"top",si(M[3])),kt(p,"filter",`hue-rotate(${M[1]}deg)`)},m(E,b){dt(E,p,b),M[4](p)},p(E,[b]){b&4&&kt(p,"left",si(E[2])),b&8&&kt(p,"top",si(E[3])),b&2&&kt(p,"filter",`hue-rotate(${E[1]}deg)`)},i:Qt,o:Qt,d(E){E&&K(p),M[4](null)}}}function hv(M,p,g){let E=!1,b,R=0,c=200,y=200,t=5,o=5;function v(){g(1,R=re(0,360))}function s(){E&&(g(2,c+=t),g(3,y+=o),(c+b.clientWidth>=b.parentElement.clientWidth&&t>0||c<=0&&t<0)&&(t=-t,v()),(y+b.clientHeight>=b.parentElement.clientHeight&&o>0||y<=0&&o<0)&&(o=-o,v()),requestAnimationFrame(s))}ti(()=>(E=!0,v(),s(),()=>{E=!1}));function i(n){ji[n?"unshift":"push"](()=>{b=n,g(0,b)})}return[b,R,c,y,i]}class Yo extends Ee{constructor(p){super(),Ce(this,p,hv,lv,Se,{})}}const jh="forsen-rage-ban-game.advices",Pr=[];try{const M=localStorage.getItem(jh);if(M){const p=JSON.parse(M);Pr.push(...p)}}catch(M){console.warn("Failed to restore list of previously seen advices from localStorage",M)}function uv(M){Pr.push(M),localStorage.setItem(jh,JSON.stringify(Pr))}let Zh=!0;Je.subscribe(M=>{Zh=M.tips});const fv='<img src="/pics/emotes/alright.webp" width="24" alt="alright"> ...alright',dv={invalidVideo:["pajlada","Some links do not match the rules you've set. Make sure there isn't any unpleasant surprise before watching 🐎"],skippedVideo:["wesker","Forsaaaan, don't skip the links too quickly. People worked hard to save up and donate to you, you know... H!"],lostGame:["wesker","Forsaaaan, why are you so shit at video games? Play better!"],skippedGame:["wesker","Forsaaaaaan, don't rush through the lidl games. It's fun content."],badPermaban:["pajlada","You might want to take it easy... You just banned an important person, you know?"]};function Rr(M){if(!Zh||Pr.includes(M))return;const p=dv[M];if(!p){console.error("Invalid key for adviceFriend tip:",M);return}Kh(p[0],"",p[1],fv),uv(M)}class cv{constructor(){this.wasd=null,this.keyboard=null,this.arrows=null,this.space=null,this.shift=null,this.enter=null,this.mouse=null}}class pn{constructor(p){this.id=p,this.state="init",this.title="Generic Minigame",this.icon=null,this.chatMessages=null,this.controls=new cv,this.looksLikeMultiplayerGame=!1,this.allowsTrainingMode=!0,this.components={menu:ov,game:Yo,training:Yo},this.modifier=new Kn(this),this.minTimeToPlay=6e4*5,this.minStartsToTry=3,this.mainMenuImage="",this.activeComponent=ni(null)}init(){return this._mountedAt=Date.now(),this._startCount=0,this.toMenu(),this}updateActiveComponent(){return this.activeComponent.set(this.components[this.state]),this}toMenu(){return this.state="menu",this.updateActiveComponent()}start(){return this._startCount+=1,this.state="game",this.updateActiveComponent()}startTraining(){return this.state="training",this.updateActiveComponent()}pauseGame(){return this}resumeGame(){return this}destroy(){this.state="~";const p=Math.round(-55*(1-(1+Date.now()-this._mountedAt)/(1+this.minTimeToPlay))),g=Math.round(-55*(1-(1+this._startCount)/(1+this.minStartsToTry))),E=Math.min(p,g,10);return this.modifier.modifyLoyalty(E),E<-10&&xe._state.isStarted&&Rr("skippedGame"),this.updateActiveComponent()}}var jn={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(M){(function(){var p=function(){this.init()};p.prototype={init:function(){var s=this||g;return s._counter=1e3,s._html5AudioPool=[],s.html5PoolSize=10,s._codecs={},s._howls=[],s._muted=!1,s._volume=1,s._canPlayEvent="canplaythrough",s._navigator=typeof window<"u"&&window.navigator?window.navigator:null,s.masterGain=null,s.noAudio=!1,s.usingWebAudio=!0,s.autoSuspend=!0,s.ctx=null,s.autoUnlock=!0,s._setup(),s},volume:function(s){var i=this||g;if(s=parseFloat(s),i.ctx||v(),typeof s<"u"&&s>=0&&s<=1){if(i._volume=s,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(s,g.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var e=i._howls[n]._getSoundIds(),r=0;r<e.length;r++){var l=i._howls[n]._soundById(e[r]);l&&l._node&&(l._node.volume=l._volume*s)}return i}return i._volume},mute:function(s){var i=this||g;i.ctx||v(),i._muted=s,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(s?0:i._volume,g.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var e=i._howls[n]._getSoundIds(),r=0;r<e.length;r++){var l=i._howls[n]._soundById(e[r]);l&&l._node&&(l._node.muted=s?!0:l._muted)}return i},stop:function(){for(var s=this||g,i=0;i<s._howls.length;i++)s._howls[i].stop();return s},unload:function(){for(var s=this||g,i=s._howls.length-1;i>=0;i--)s._howls[i].unload();return s.usingWebAudio&&s.ctx&&typeof s.ctx.close<"u"&&(s.ctx.close(),s.ctx=null,v()),s},codecs:function(s){return(this||g)._codecs[s.replace(/^x-/,"")]},_setup:function(){var s=this||g;if(s.state=s.ctx&&s.ctx.state||"suspended",s._autoSuspend(),!s.usingWebAudio)if(typeof Audio<"u")try{var i=new Audio;typeof i.oncanplaythrough>"u"&&(s._canPlayEvent="canplay")}catch{s.noAudio=!0}else s.noAudio=!0;try{var i=new Audio;i.muted&&(s.noAudio=!0)}catch{}return s.noAudio||s._setupCodecs(),s},_setupCodecs:function(){var s=this||g,i=null;try{i=typeof Audio<"u"?new Audio:null}catch{return s}if(!i||typeof i.canPlayType!="function")return s;var n=i.canPlayType("audio/mpeg;").replace(/^no$/,""),e=s._navigator?s._navigator.userAgent:"",r=e.match(/OPR\/(\d+)/g),l=r&&parseInt(r[0].split("/")[1],10)<33,a=e.indexOf("Safari")!==-1&&e.indexOf("Chrome")===-1,h=e.match(/Version\/(.*?) /),f=a&&h&&parseInt(h[1],10)<15;return s._codecs={mp3:!!(!l&&(n||i.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!f&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!f&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},s},_unlockAudio:function(){var s=this||g;if(!(s._audioUnlocked||!s.ctx)){s._audioUnlocked=!1,s.autoUnlock=!1,!s._mobileUnloaded&&s.ctx.sampleRate!==44100&&(s._mobileUnloaded=!0,s.unload()),s._scratchBuffer=s.ctx.createBuffer(1,1,22050);var i=function(n){for(;s._html5AudioPool.length<s.html5PoolSize;)try{var e=new Audio;e._unlocked=!0,s._releaseHtml5Audio(e)}catch{s.noAudio=!0;break}for(var r=0;r<s._howls.length;r++)if(!s._howls[r]._webAudio)for(var l=s._howls[r]._getSoundIds(),a=0;a<l.length;a++){var h=s._howls[r]._soundById(l[a]);h&&h._node&&!h._node._unlocked&&(h._node._unlocked=!0,h._node.load())}s._autoResume();var f=s.ctx.createBufferSource();f.buffer=s._scratchBuffer,f.connect(s.ctx.destination),typeof f.start>"u"?f.noteOn(0):f.start(0),typeof s.ctx.resume=="function"&&s.ctx.resume(),f.onended=function(){f.disconnect(0),s._audioUnlocked=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0),document.removeEventListener("keydown",i,!0);for(var u=0;u<s._howls.length;u++)s._howls[u]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),document.addEventListener("keydown",i,!0),s}},_obtainHtml5Audio:function(){var s=this||g;if(s._html5AudioPool.length)return s._html5AudioPool.pop();var i=new Audio().play();return i&&typeof Promise<"u"&&(i instanceof Promise||typeof i.then=="function")&&i.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(s){var i=this||g;return s._unlocked&&i._html5AudioPool.push(s),i},_autoSuspend:function(){var s=this;if(!(!s.autoSuspend||!s.ctx||typeof s.ctx.suspend>"u"||!g.usingWebAudio)){for(var i=0;i<s._howls.length;i++)if(s._howls[i]._webAudio){for(var n=0;n<s._howls[i]._sounds.length;n++)if(!s._howls[i]._sounds[n]._paused)return s}return s._suspendTimer&&clearTimeout(s._suspendTimer),s._suspendTimer=setTimeout(function(){if(s.autoSuspend){s._suspendTimer=null,s.state="suspending";var e=function(){s.state="suspended",s._resumeAfterSuspend&&(delete s._resumeAfterSuspend,s._autoResume())};s.ctx.suspend().then(e,e)}},3e4),s}},_autoResume:function(){var s=this;if(!(!s.ctx||typeof s.ctx.resume>"u"||!g.usingWebAudio))return s.state==="running"&&s.ctx.state!=="interrupted"&&s._suspendTimer?(clearTimeout(s._suspendTimer),s._suspendTimer=null):s.state==="suspended"||s.state==="running"&&s.ctx.state==="interrupted"?(s.ctx.resume().then(function(){s.state="running";for(var i=0;i<s._howls.length;i++)s._howls[i]._emit("resume")}),s._suspendTimer&&(clearTimeout(s._suspendTimer),s._suspendTimer=null)):s.state==="suspending"&&(s._resumeAfterSuspend=!0),s}};var g=new p,E=function(s){var i=this;if(!s.src||s.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}i.init(s)};E.prototype={init:function(s){var i=this;return g.ctx||v(),i._autoplay=s.autoplay||!1,i._format=typeof s.format!="string"?s.format:[s.format],i._html5=s.html5||!1,i._muted=s.mute||!1,i._loop=s.loop||!1,i._pool=s.pool||5,i._preload=typeof s.preload=="boolean"||s.preload==="metadata"?s.preload:!0,i._rate=s.rate||1,i._sprite=s.sprite||{},i._src=typeof s.src!="string"?s.src:[s.src],i._volume=s.volume!==void 0?s.volume:1,i._xhr={method:s.xhr&&s.xhr.method?s.xhr.method:"GET",headers:s.xhr&&s.xhr.headers?s.xhr.headers:null,withCredentials:s.xhr&&s.xhr.withCredentials?s.xhr.withCredentials:!1},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=s.onend?[{fn:s.onend}]:[],i._onfade=s.onfade?[{fn:s.onfade}]:[],i._onload=s.onload?[{fn:s.onload}]:[],i._onloaderror=s.onloaderror?[{fn:s.onloaderror}]:[],i._onplayerror=s.onplayerror?[{fn:s.onplayerror}]:[],i._onpause=s.onpause?[{fn:s.onpause}]:[],i._onplay=s.onplay?[{fn:s.onplay}]:[],i._onstop=s.onstop?[{fn:s.onstop}]:[],i._onmute=s.onmute?[{fn:s.onmute}]:[],i._onvolume=s.onvolume?[{fn:s.onvolume}]:[],i._onrate=s.onrate?[{fn:s.onrate}]:[],i._onseek=s.onseek?[{fn:s.onseek}]:[],i._onunlock=s.onunlock?[{fn:s.onunlock}]:[],i._onresume=[],i._webAudio=g.usingWebAudio&&!i._html5,typeof g.ctx<"u"&&g.ctx&&g.autoUnlock&&g._unlockAudio(),g._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i._preload!=="none"&&i.load(),i},load:function(){var s=this,i=null;if(g.noAudio){s._emit("loaderror",null,"No audio support.");return}typeof s._src=="string"&&(s._src=[s._src]);for(var n=0;n<s._src.length;n++){var e,r;if(s._format&&s._format[n])e=s._format[n];else{if(r=s._src[n],typeof r!="string"){s._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}e=/^data:audio\/([^;,]+);/i.exec(r),e||(e=/\.([^.]+)$/.exec(r.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&g.codecs(e)){i=s._src[n];break}}if(!i){s._emit("loaderror",null,"No codec support for selected audio sources.");return}return s._src=i,s._state="loading",window.location.protocol==="https:"&&i.slice(0,5)==="http:"&&(s._html5=!0,s._webAudio=!1),new b(s),s._webAudio&&c(s),s},play:function(s,i){var n=this,e=null;if(typeof s=="number")e=s,s=null;else{if(typeof s=="string"&&n._state==="loaded"&&!n._sprite[s])return null;if(typeof s>"u"&&(s="__default",!n._playLock)){for(var r=0,l=0;l<n._sounds.length;l++)n._sounds[l]._paused&&!n._sounds[l]._ended&&(r++,e=n._sounds[l]._id);r===1?s=null:e=null}}var a=e?n._soundById(e):n._inactiveSound();if(!a)return null;if(e&&!s&&(s=a._sprite||"__default"),n._state!=="loaded"){a._sprite=s,a._ended=!1;var h=a._id;return n._queue.push({event:"play",action:function(){n.play(h)}}),h}if(e&&!a._paused)return i||n._loadQueue("play"),a._id;n._webAudio&&g._autoResume();var f=Math.max(0,a._seek>0?a._seek:n._sprite[s][0]/1e3),u=Math.max(0,(n._sprite[s][0]+n._sprite[s][1])/1e3-f),d=u*1e3/Math.abs(a._rate),m=n._sprite[s][0]/1e3,x=(n._sprite[s][0]+n._sprite[s][1])/1e3;a._sprite=s,a._ended=!1;var S=function(){a._paused=!1,a._seek=f,a._start=m,a._stop=x,a._loop=!!(a._loop||n._sprite[s][2])};if(f>=x){n._ended(a);return}var T=a._node;if(n._webAudio){var C=function(){n._playLock=!1,S(),n._refreshBuffer(a);var F=a._muted||n._muted?0:a._volume;T.gain.setValueAtTime(F,g.ctx.currentTime),a._playStart=g.ctx.currentTime,typeof T.bufferSource.start>"u"?a._loop?T.bufferSource.noteGrainOn(0,f,86400):T.bufferSource.noteGrainOn(0,f,u):a._loop?T.bufferSource.start(0,f,86400):T.bufferSource.start(0,f,u),d!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d)),i||setTimeout(function(){n._emit("play",a._id),n._loadQueue()},0)};g.state==="running"&&g.ctx.state!=="interrupted"?C():(n._playLock=!0,n.once("resume",C),n._clearTimer(a._id))}else{var A=function(){T.currentTime=f,T.muted=a._muted||n._muted||g._muted||T.muted,T.volume=a._volume*g.volume(),T.playbackRate=a._rate;try{var F=T.play();if(F&&typeof Promise<"u"&&(F instanceof Promise||typeof F.then=="function")?(n._playLock=!0,S(),F.then(function(){n._playLock=!1,T._unlocked=!0,i?n._loadQueue():n._emit("play",a._id)}).catch(function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0})):i||(n._playLock=!1,S(),n._emit("play",a._id)),T.playbackRate=a._rate,T.paused){n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}s!=="__default"||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d):(n._endTimers[a._id]=function(){n._ended(a),T.removeEventListener("ended",n._endTimers[a._id],!1)},T.addEventListener("ended",n._endTimers[a._id],!1))}catch(L){n._emit("playerror",a._id,L)}};T.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(T.src=n._src,T.load());var w=window&&window.ejecta||!T.readyState&&g._navigator.isCocoonJS;if(T.readyState>=3||w)A();else{n._playLock=!0,n._state="loading";var P=function(){n._state="loaded",A(),T.removeEventListener(g._canPlayEvent,P,!1)};T.addEventListener(g._canPlayEvent,P,!1),n._clearTimer(a._id)}}return a._id},pause:function(s){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(s)}}),i;for(var n=i._getSoundIds(s),e=0;e<n.length;e++){i._clearTimer(n[e]);var r=i._soundById(n[e]);if(r&&!r._paused&&(r._seek=i.seek(n[e]),r._rateSeek=0,r._paused=!0,i._stopFade(n[e]),r._node))if(i._webAudio){if(!r._node.bufferSource)continue;typeof r._node.bufferSource.stop>"u"?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),i._cleanBuffer(r._node)}else(!isNaN(r._node.duration)||r._node.duration===1/0)&&r._node.pause();arguments[1]||i._emit("pause",r?r._id:null)}return i},stop:function(s,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(s)}}),n;for(var e=n._getSoundIds(s),r=0;r<e.length;r++){n._clearTimer(e[r]);var l=n._soundById(e[r]);l&&(l._seek=l._start||0,l._rateSeek=0,l._paused=!0,l._ended=!0,n._stopFade(e[r]),l._node&&(n._webAudio?l._node.bufferSource&&(typeof l._node.bufferSource.stop>"u"?l._node.bufferSource.noteOff(0):l._node.bufferSource.stop(0),n._cleanBuffer(l._node)):(!isNaN(l._node.duration)||l._node.duration===1/0)&&(l._node.currentTime=l._start||0,l._node.pause(),l._node.duration===1/0&&n._clearSound(l._node))),i||n._emit("stop",l._id))}return n},mute:function(s,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(s,i)}}),n;if(typeof i>"u")if(typeof s=="boolean")n._muted=s;else return n._muted;for(var e=n._getSoundIds(i),r=0;r<e.length;r++){var l=n._soundById(e[r]);l&&(l._muted=s,l._interval&&n._stopFade(l._id),n._webAudio&&l._node?l._node.gain.setValueAtTime(s?0:l._volume,g.ctx.currentTime):l._node&&(l._node.muted=g._muted?!0:s),n._emit("mute",l._id))}return n},volume:function(){var s=this,i=arguments,n,e;if(i.length===0)return s._volume;if(i.length===1||i.length===2&&typeof i[1]>"u"){var r=s._getSoundIds(),l=r.indexOf(i[0]);l>=0?e=parseInt(i[0],10):n=parseFloat(i[0])}else i.length>=2&&(n=parseFloat(i[0]),e=parseInt(i[1],10));var a;if(typeof n<"u"&&n>=0&&n<=1){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"volume",action:function(){s.volume.apply(s,i)}}),s;typeof e>"u"&&(s._volume=n),e=s._getSoundIds(e);for(var h=0;h<e.length;h++)a=s._soundById(e[h]),a&&(a._volume=n,i[2]||s._stopFade(e[h]),s._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(n,g.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=n*g.volume()),s._emit("volume",a._id))}else return a=e?s._soundById(e):s._sounds[0],a?a._volume:0;return s},fade:function(s,i,n,e){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(s,i,n,e)}}),r;s=Math.min(Math.max(0,parseFloat(s)),1),i=Math.min(Math.max(0,parseFloat(i)),1),n=parseFloat(n),r.volume(s,e);for(var l=r._getSoundIds(e),a=0;a<l.length;a++){var h=r._soundById(l[a]);if(h){if(e||r._stopFade(l[a]),r._webAudio&&!h._muted){var f=g.ctx.currentTime,u=f+n/1e3;h._volume=s,h._node.gain.setValueAtTime(s,f),h._node.gain.linearRampToValueAtTime(i,u)}r._startFadeInterval(h,s,i,n,l[a],typeof e>"u")}}return r},_startFadeInterval:function(s,i,n,e,r,l){var a=this,h=i,f=n-i,u=Math.abs(f/.01),d=Math.max(4,u>0?e/u:e),m=Date.now();s._fadeTo=n,s._interval=setInterval(function(){var x=(Date.now()-m)/e;m=Date.now(),h+=f*x,h=Math.round(h*100)/100,f<0?h=Math.max(n,h):h=Math.min(n,h),a._webAudio?s._volume=h:a.volume(h,s._id,!0),l&&(a._volume=h),(n<i&&h<=n||n>i&&h>=n)&&(clearInterval(s._interval),s._interval=null,s._fadeTo=null,a.volume(n,s._id),a._emit("fade",s._id))},d)},_stopFade:function(s){var i=this,n=i._soundById(s);return n&&n._interval&&(i._webAudio&&n._node.gain.cancelScheduledValues(g.ctx.currentTime),clearInterval(n._interval),n._interval=null,i.volume(n._fadeTo,s),n._fadeTo=null,i._emit("fade",s)),i},loop:function(){var s=this,i=arguments,n,e,r;if(i.length===0)return s._loop;if(i.length===1)if(typeof i[0]=="boolean")n=i[0],s._loop=n;else return r=s._soundById(parseInt(i[0],10)),r?r._loop:!1;else i.length===2&&(n=i[0],e=parseInt(i[1],10));for(var l=s._getSoundIds(e),a=0;a<l.length;a++)r=s._soundById(l[a]),r&&(r._loop=n,s._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=n,n&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,s.playing(l[a])&&(s.pause(l[a],!0),s.play(l[a],!0)))));return s},rate:function(){var s=this,i=arguments,n,e;if(i.length===0)e=s._sounds[0]._id;else if(i.length===1){var r=s._getSoundIds(),l=r.indexOf(i[0]);l>=0?e=parseInt(i[0],10):n=parseFloat(i[0])}else i.length===2&&(n=parseFloat(i[0]),e=parseInt(i[1],10));var a;if(typeof n=="number"){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"rate",action:function(){s.rate.apply(s,i)}}),s;typeof e>"u"&&(s._rate=n),e=s._getSoundIds(e);for(var h=0;h<e.length;h++)if(a=s._soundById(e[h]),a){s.playing(e[h])&&(a._rateSeek=s.seek(e[h]),a._playStart=s._webAudio?g.ctx.currentTime:a._playStart),a._rate=n,s._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.setValueAtTime(n,g.ctx.currentTime):a._node&&(a._node.playbackRate=n);var f=s.seek(e[h]),u=(s._sprite[a._sprite][0]+s._sprite[a._sprite][1])/1e3-f,d=u*1e3/Math.abs(a._rate);(s._endTimers[e[h]]||!a._paused)&&(s._clearTimer(e[h]),s._endTimers[e[h]]=setTimeout(s._ended.bind(s,a),d)),s._emit("rate",a._id)}}else return a=s._soundById(e),a?a._rate:s._rate;return s},seek:function(){var s=this,i=arguments,n,e;if(i.length===0)s._sounds.length&&(e=s._sounds[0]._id);else if(i.length===1){var r=s._getSoundIds(),l=r.indexOf(i[0]);l>=0?e=parseInt(i[0],10):s._sounds.length&&(e=s._sounds[0]._id,n=parseFloat(i[0]))}else i.length===2&&(n=parseFloat(i[0]),e=parseInt(i[1],10));if(typeof e>"u")return 0;if(typeof n=="number"&&(s._state!=="loaded"||s._playLock))return s._queue.push({event:"seek",action:function(){s.seek.apply(s,i)}}),s;var a=s._soundById(e);if(a)if(typeof n=="number"&&n>=0){var h=s.playing(e);h&&s.pause(e,!0),a._seek=n,a._ended=!1,s._clearTimer(e),!s._webAudio&&a._node&&!isNaN(a._node.duration)&&(a._node.currentTime=n);var f=function(){h&&s.play(e,!0),s._emit("seek",e)};if(h&&!s._webAudio){var u=function(){s._playLock?setTimeout(u,0):f()};setTimeout(u,0)}else f()}else if(s._webAudio){var d=s.playing(e)?g.ctx.currentTime-a._playStart:0,m=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(m+d*Math.abs(a._rate))}else return a._node.currentTime;return s},playing:function(s){var i=this;if(typeof s=="number"){var n=i._soundById(s);return n?!n._paused:!1}for(var e=0;e<i._sounds.length;e++)if(!i._sounds[e]._paused)return!0;return!1},duration:function(s){var i=this,n=i._duration,e=i._soundById(s);return e&&(n=i._sprite[e._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var s=this,i=s._sounds,n=0;n<i.length;n++)i[n]._paused||s.stop(i[n]._id),s._webAudio||(s._clearSound(i[n]._node),i[n]._node.removeEventListener("error",i[n]._errorFn,!1),i[n]._node.removeEventListener(g._canPlayEvent,i[n]._loadFn,!1),i[n]._node.removeEventListener("ended",i[n]._endFn,!1),g._releaseHtml5Audio(i[n]._node)),delete i[n]._node,s._clearTimer(i[n]._id);var e=g._howls.indexOf(s);e>=0&&g._howls.splice(e,1);var r=!0;for(n=0;n<g._howls.length;n++)if(g._howls[n]._src===s._src||s._src.indexOf(g._howls[n]._src)>=0){r=!1;break}return R&&r&&delete R[s._src],g.noAudio=!1,s._state="unloaded",s._sounds=[],s=null,null},on:function(s,i,n,e){var r=this,l=r["_on"+s];return typeof i=="function"&&l.push(e?{id:n,fn:i,once:e}:{id:n,fn:i}),r},off:function(s,i,n){var e=this,r=e["_on"+s],l=0;if(typeof i=="number"&&(n=i,i=null),i||n)for(l=0;l<r.length;l++){var a=n===r[l].id;if(i===r[l].fn&&a||!i&&a){r.splice(l,1);break}}else if(s)e["_on"+s]=[];else{var h=Object.keys(e);for(l=0;l<h.length;l++)h[l].indexOf("_on")===0&&Array.isArray(e[h[l]])&&(e[h[l]]=[])}return e},once:function(s,i,n){var e=this;return e.on(s,i,n,1),e},_emit:function(s,i,n){for(var e=this,r=e["_on"+s],l=r.length-1;l>=0;l--)(!r[l].id||r[l].id===i||s==="load")&&(setTimeout((function(a){a.call(this,i,n)}).bind(e,r[l].fn),0),r[l].once&&e.off(s,r[l].fn,r[l].id));return e._loadQueue(s),e},_loadQueue:function(s){var i=this;if(i._queue.length>0){var n=i._queue[0];n.event===s&&(i._queue.shift(),i._loadQueue()),s||n.action()}return i},_ended:function(s){var i=this,n=s._sprite;if(!i._webAudio&&s._node&&!s._node.paused&&!s._node.ended&&s._node.currentTime<s._stop)return setTimeout(i._ended.bind(i,s),100),i;var e=!!(s._loop||i._sprite[n][2]);if(i._emit("end",s._id),!i._webAudio&&e&&i.stop(s._id,!0).play(s._id),i._webAudio&&e){i._emit("play",s._id),s._seek=s._start||0,s._rateSeek=0,s._playStart=g.ctx.currentTime;var r=(s._stop-s._start)*1e3/Math.abs(s._rate);i._endTimers[s._id]=setTimeout(i._ended.bind(i,s),r)}return i._webAudio&&!e&&(s._paused=!0,s._ended=!0,s._seek=s._start||0,s._rateSeek=0,i._clearTimer(s._id),i._cleanBuffer(s._node),g._autoSuspend()),!i._webAudio&&!e&&i.stop(s._id,!0),i},_clearTimer:function(s){var i=this;if(i._endTimers[s]){if(typeof i._endTimers[s]!="function")clearTimeout(i._endTimers[s]);else{var n=i._soundById(s);n&&n._node&&n._node.removeEventListener("ended",i._endTimers[s],!1)}delete i._endTimers[s]}return i},_soundById:function(s){for(var i=this,n=0;n<i._sounds.length;n++)if(s===i._sounds[n]._id)return i._sounds[n];return null},_inactiveSound:function(){var s=this;s._drain();for(var i=0;i<s._sounds.length;i++)if(s._sounds[i]._ended)return s._sounds[i].reset();return new b(s)},_drain:function(){var s=this,i=s._pool,n=0,e=0;if(!(s._sounds.length<i)){for(e=0;e<s._sounds.length;e++)s._sounds[e]._ended&&n++;for(e=s._sounds.length-1;e>=0;e--){if(n<=i)return;s._sounds[e]._ended&&(s._webAudio&&s._sounds[e]._node&&s._sounds[e]._node.disconnect(0),s._sounds.splice(e,1),n--)}}},_getSoundIds:function(s){var i=this;if(typeof s>"u"){for(var n=[],e=0;e<i._sounds.length;e++)n.push(i._sounds[e]._id);return n}else return[s]},_refreshBuffer:function(s){var i=this;return s._node.bufferSource=g.ctx.createBufferSource(),s._node.bufferSource.buffer=R[i._src],s._panner?s._node.bufferSource.connect(s._panner):s._node.bufferSource.connect(s._node),s._node.bufferSource.loop=s._loop,s._loop&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop||0),s._node.bufferSource.playbackRate.setValueAtTime(s._rate,g.ctx.currentTime),i},_cleanBuffer:function(s){var i=this,n=g._navigator&&g._navigator.vendor.indexOf("Apple")>=0;if(!s.bufferSource)return i;if(g._scratchBuffer&&s.bufferSource&&(s.bufferSource.onended=null,s.bufferSource.disconnect(0),n))try{s.bufferSource.buffer=g._scratchBuffer}catch{}return s.bufferSource=null,i},_clearSound:function(s){var i=/MSIE |Trident\//.test(g._navigator&&g._navigator.userAgent);i||(s.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var b=function(s){this._parent=s,this.init()};b.prototype={init:function(){var s=this,i=s._parent;return s._muted=i._muted,s._loop=i._loop,s._volume=i._volume,s._rate=i._rate,s._seek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++g._counter,i._sounds.push(s),s.create(),s},create:function(){var s=this,i=s._parent,n=g._muted||s._muted||s._parent._muted?0:s._volume;return i._webAudio?(s._node=typeof g.ctx.createGain>"u"?g.ctx.createGainNode():g.ctx.createGain(),s._node.gain.setValueAtTime(n,g.ctx.currentTime),s._node.paused=!0,s._node.connect(g.masterGain)):g.noAudio||(s._node=g._obtainHtml5Audio(),s._errorFn=s._errorListener.bind(s),s._node.addEventListener("error",s._errorFn,!1),s._loadFn=s._loadListener.bind(s),s._node.addEventListener(g._canPlayEvent,s._loadFn,!1),s._endFn=s._endListener.bind(s),s._node.addEventListener("ended",s._endFn,!1),s._node.src=i._src,s._node.preload=i._preload===!0?"auto":i._preload,s._node.volume=n*g.volume(),s._node.load()),s},reset:function(){var s=this,i=s._parent;return s._muted=i._muted,s._loop=i._loop,s._volume=i._volume,s._rate=i._rate,s._seek=0,s._rateSeek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++g._counter,s},_errorListener:function(){var s=this;s._parent._emit("loaderror",s._id,s._node.error?s._node.error.code:0),s._node.removeEventListener("error",s._errorFn,!1)},_loadListener:function(){var s=this,i=s._parent;i._duration=Math.ceil(s._node.duration*10)/10,Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue()),s._node.removeEventListener(g._canPlayEvent,s._loadFn,!1)},_endListener:function(){var s=this,i=s._parent;i._duration===1/0&&(i._duration=Math.ceil(s._node.duration*10)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=i._duration*1e3),i._ended(s)),s._node.removeEventListener("ended",s._endFn,!1)}};var R={},c=function(s){var i=s._src;if(R[i]){s._duration=R[i].duration,o(s);return}if(/^data:[^;]+;base64,/.test(i)){for(var n=atob(i.split(",")[1]),e=new Uint8Array(n.length),r=0;r<n.length;++r)e[r]=n.charCodeAt(r);t(e.buffer,s)}else{var l=new XMLHttpRequest;l.open(s._xhr.method,i,!0),l.withCredentials=s._xhr.withCredentials,l.responseType="arraybuffer",s._xhr.headers&&Object.keys(s._xhr.headers).forEach(function(a){l.setRequestHeader(a,s._xhr.headers[a])}),l.onload=function(){var a=(l.status+"")[0];if(a!=="0"&&a!=="2"&&a!=="3"){s._emit("loaderror",null,"Failed loading audio file with status: "+l.status+".");return}t(l.response,s)},l.onerror=function(){s._webAudio&&(s._html5=!0,s._webAudio=!1,s._sounds=[],delete R[i],s.load())},y(l)}},y=function(s){try{s.send()}catch{s.onerror()}},t=function(s,i){var n=function(){i._emit("loaderror",null,"Decoding audio data failed.")},e=function(r){r&&i._sounds.length>0?(R[i._src]=r,o(i,r)):n()};typeof Promise<"u"&&g.ctx.decodeAudioData.length===1?g.ctx.decodeAudioData(s).then(e).catch(n):g.ctx.decodeAudioData(s,e,n)},o=function(s,i){i&&!s._duration&&(s._duration=i.duration),Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue())},v=function(){if(g.usingWebAudio){try{typeof AudioContext<"u"?g.ctx=new AudioContext:typeof webkitAudioContext<"u"?g.ctx=new webkitAudioContext:g.usingWebAudio=!1}catch{g.usingWebAudio=!1}g.ctx||(g.usingWebAudio=!1);var s=/iP(hone|od|ad)/.test(g._navigator&&g._navigator.platform),i=g._navigator&&g._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=i?parseInt(i[1],10):null;if(s&&n&&n<9){var e=/safari/.test(g._navigator&&g._navigator.userAgent.toLowerCase());g._navigator&&!e&&(g.usingWebAudio=!1)}g.usingWebAudio&&(g.masterGain=typeof g.ctx.createGain>"u"?g.ctx.createGainNode():g.ctx.createGain(),g.masterGain.gain.setValueAtTime(g._muted?0:g._volume,g.ctx.currentTime),g.masterGain.connect(g.ctx.destination)),g._setup()}};M.Howler=g,M.Howl=E,typeof Hs<"u"?(Hs.HowlerGlobal=p,Hs.Howler=g,Hs.Howl=E,Hs.Sound=b):typeof window<"u"&&(window.HowlerGlobal=p,window.Howler=g,window.Howl=E,window.Sound=b)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(g){var E=this;if(!E.ctx||!E.ctx.listener)return E;for(var b=E._howls.length-1;b>=0;b--)E._howls[b].stereo(g);return E},HowlerGlobal.prototype.pos=function(g,E,b){var R=this;if(!R.ctx||!R.ctx.listener)return R;if(E=typeof E!="number"?R._pos[1]:E,b=typeof b!="number"?R._pos[2]:b,typeof g=="number")R._pos=[g,E,b],typeof R.ctx.listener.positionX<"u"?(R.ctx.listener.positionX.setTargetAtTime(R._pos[0],Howler.ctx.currentTime,.1),R.ctx.listener.positionY.setTargetAtTime(R._pos[1],Howler.ctx.currentTime,.1),R.ctx.listener.positionZ.setTargetAtTime(R._pos[2],Howler.ctx.currentTime,.1)):R.ctx.listener.setPosition(R._pos[0],R._pos[1],R._pos[2]);else return R._pos;return R},HowlerGlobal.prototype.orientation=function(g,E,b,R,c,y){var t=this;if(!t.ctx||!t.ctx.listener)return t;var o=t._orientation;if(E=typeof E!="number"?o[1]:E,b=typeof b!="number"?o[2]:b,R=typeof R!="number"?o[3]:R,c=typeof c!="number"?o[4]:c,y=typeof y!="number"?o[5]:y,typeof g=="number")t._orientation=[g,E,b,R,c,y],typeof t.ctx.listener.forwardX<"u"?(t.ctx.listener.forwardX.setTargetAtTime(g,Howler.ctx.currentTime,.1),t.ctx.listener.forwardY.setTargetAtTime(E,Howler.ctx.currentTime,.1),t.ctx.listener.forwardZ.setTargetAtTime(b,Howler.ctx.currentTime,.1),t.ctx.listener.upX.setTargetAtTime(R,Howler.ctx.currentTime,.1),t.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),t.ctx.listener.upZ.setTargetAtTime(y,Howler.ctx.currentTime,.1)):t.ctx.listener.setOrientation(g,E,b,R,c,y);else return o;return t},Howl.prototype.init=function(g){return function(E){var b=this;return b._orientation=E.orientation||[1,0,0],b._stereo=E.stereo||null,b._pos=E.pos||null,b._pannerAttr={coneInnerAngle:typeof E.coneInnerAngle<"u"?E.coneInnerAngle:360,coneOuterAngle:typeof E.coneOuterAngle<"u"?E.coneOuterAngle:360,coneOuterGain:typeof E.coneOuterGain<"u"?E.coneOuterGain:0,distanceModel:typeof E.distanceModel<"u"?E.distanceModel:"inverse",maxDistance:typeof E.maxDistance<"u"?E.maxDistance:1e4,panningModel:typeof E.panningModel<"u"?E.panningModel:"HRTF",refDistance:typeof E.refDistance<"u"?E.refDistance:1,rolloffFactor:typeof E.rolloffFactor<"u"?E.rolloffFactor:1},b._onstereo=E.onstereo?[{fn:E.onstereo}]:[],b._onpos=E.onpos?[{fn:E.onpos}]:[],b._onorientation=E.onorientation?[{fn:E.onorientation}]:[],g.call(this,E)}}(Howl.prototype.init),Howl.prototype.stereo=function(g,E){var b=this;if(!b._webAudio)return b;if(b._state!=="loaded")return b._queue.push({event:"stereo",action:function(){b.stereo(g,E)}}),b;var R=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof E>"u")if(typeof g=="number")b._stereo=g,b._pos=[g,0,0];else return b._stereo;for(var c=b._getSoundIds(E),y=0;y<c.length;y++){var t=b._soundById(c[y]);if(t)if(typeof g=="number")t._stereo=g,t._pos=[g,0,0],t._node&&(t._pannerAttr.panningModel="equalpower",(!t._panner||!t._panner.pan)&&p(t,R),R==="spatial"?typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(g,Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):t._panner.setPosition(g,0,0):t._panner.pan.setValueAtTime(g,Howler.ctx.currentTime)),b._emit("stereo",t._id);else return t._stereo}return b},Howl.prototype.pos=function(g,E,b,R){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(g,E,b,R)}}),c;if(E=typeof E!="number"?0:E,b=typeof b!="number"?-.5:b,typeof R>"u")if(typeof g=="number")c._pos=[g,E,b];else return c._pos;for(var y=c._getSoundIds(R),t=0;t<y.length;t++){var o=c._soundById(y[t]);if(o)if(typeof g=="number")o._pos=[g,E,b],o._node&&((!o._panner||o._panner.pan)&&p(o,"spatial"),typeof o._panner.positionX<"u"?(o._panner.positionX.setValueAtTime(g,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(E,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(b,Howler.ctx.currentTime)):o._panner.setPosition(g,E,b)),c._emit("pos",o._id);else return o._pos}return c},Howl.prototype.orientation=function(g,E,b,R){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(g,E,b,R)}}),c;if(E=typeof E!="number"?c._orientation[1]:E,b=typeof b!="number"?c._orientation[2]:b,typeof R>"u")if(typeof g=="number")c._orientation=[g,E,b];else return c._orientation;for(var y=c._getSoundIds(R),t=0;t<y.length;t++){var o=c._soundById(y[t]);if(o)if(typeof g=="number")o._orientation=[g,E,b],o._node&&(o._panner||(o._pos||(o._pos=c._pos||[0,0,-.5]),p(o,"spatial")),typeof o._panner.orientationX<"u"?(o._panner.orientationX.setValueAtTime(g,Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(E,Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(b,Howler.ctx.currentTime)):o._panner.setOrientation(g,E,b)),c._emit("orientation",o._id);else return o._orientation}return c},Howl.prototype.pannerAttr=function(){var g=this,E=arguments,b,R,c;if(!g._webAudio)return g;if(E.length===0)return g._pannerAttr;if(E.length===1)if(typeof E[0]=="object")b=E[0],typeof R>"u"&&(b.pannerAttr||(b.pannerAttr={coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor,panningModel:b.panningModel}),g._pannerAttr={coneInnerAngle:typeof b.pannerAttr.coneInnerAngle<"u"?b.pannerAttr.coneInnerAngle:g._coneInnerAngle,coneOuterAngle:typeof b.pannerAttr.coneOuterAngle<"u"?b.pannerAttr.coneOuterAngle:g._coneOuterAngle,coneOuterGain:typeof b.pannerAttr.coneOuterGain<"u"?b.pannerAttr.coneOuterGain:g._coneOuterGain,distanceModel:typeof b.pannerAttr.distanceModel<"u"?b.pannerAttr.distanceModel:g._distanceModel,maxDistance:typeof b.pannerAttr.maxDistance<"u"?b.pannerAttr.maxDistance:g._maxDistance,refDistance:typeof b.pannerAttr.refDistance<"u"?b.pannerAttr.refDistance:g._refDistance,rolloffFactor:typeof b.pannerAttr.rolloffFactor<"u"?b.pannerAttr.rolloffFactor:g._rolloffFactor,panningModel:typeof b.pannerAttr.panningModel<"u"?b.pannerAttr.panningModel:g._panningModel});else return c=g._soundById(parseInt(E[0],10)),c?c._pannerAttr:g._pannerAttr;else E.length===2&&(b=E[0],R=parseInt(E[1],10));for(var y=g._getSoundIds(R),t=0;t<y.length;t++)if(c=g._soundById(y[t]),c){var o=c._pannerAttr;o={coneInnerAngle:typeof b.coneInnerAngle<"u"?b.coneInnerAngle:o.coneInnerAngle,coneOuterAngle:typeof b.coneOuterAngle<"u"?b.coneOuterAngle:o.coneOuterAngle,coneOuterGain:typeof b.coneOuterGain<"u"?b.coneOuterGain:o.coneOuterGain,distanceModel:typeof b.distanceModel<"u"?b.distanceModel:o.distanceModel,maxDistance:typeof b.maxDistance<"u"?b.maxDistance:o.maxDistance,refDistance:typeof b.refDistance<"u"?b.refDistance:o.refDistance,rolloffFactor:typeof b.rolloffFactor<"u"?b.rolloffFactor:o.rolloffFactor,panningModel:typeof b.panningModel<"u"?b.panningModel:o.panningModel};var v=c._panner;v||(c._pos||(c._pos=g._pos||[0,0,-.5]),p(c,"spatial"),v=c._panner),v.coneInnerAngle=o.coneInnerAngle,v.coneOuterAngle=o.coneOuterAngle,v.coneOuterGain=o.coneOuterGain,v.distanceModel=o.distanceModel,v.maxDistance=o.maxDistance,v.refDistance=o.refDistance,v.rolloffFactor=o.rolloffFactor,v.panningModel=o.panningModel}return g},Sound.prototype.init=function(g){return function(){var E=this,b=E._parent;E._orientation=b._orientation,E._stereo=b._stereo,E._pos=b._pos,E._pannerAttr=b._pannerAttr,g.call(this),E._stereo?b.stereo(E._stereo):E._pos&&b.pos(E._pos[0],E._pos[1],E._pos[2],E._id)}}(Sound.prototype.init),Sound.prototype.reset=function(g){return function(){var E=this,b=E._parent;return E._orientation=b._orientation,E._stereo=b._stereo,E._pos=b._pos,E._pannerAttr=b._pannerAttr,E._stereo?b.stereo(E._stereo):E._pos?b.pos(E._pos[0],E._pos[1],E._pos[2],E._id):E._panner&&(E._panner.disconnect(0),E._panner=void 0,b._refreshBuffer(E)),g.call(this)}}(Sound.prototype.reset);var p=function(g,E){E=E||"spatial",E==="spatial"?(g._panner=Howler.ctx.createPanner(),g._panner.coneInnerAngle=g._pannerAttr.coneInnerAngle,g._panner.coneOuterAngle=g._pannerAttr.coneOuterAngle,g._panner.coneOuterGain=g._pannerAttr.coneOuterGain,g._panner.distanceModel=g._pannerAttr.distanceModel,g._panner.maxDistance=g._pannerAttr.maxDistance,g._panner.refDistance=g._pannerAttr.refDistance,g._panner.rolloffFactor=g._pannerAttr.rolloffFactor,g._panner.panningModel=g._pannerAttr.panningModel,typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(g._pos[0],Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(g._pos[1],Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(g._pos[2],Howler.ctx.currentTime)):g._panner.setPosition(g._pos[0],g._pos[1],g._pos[2]),typeof g._panner.orientationX<"u"?(g._panner.orientationX.setValueAtTime(g._orientation[0],Howler.ctx.currentTime),g._panner.orientationY.setValueAtTime(g._orientation[1],Howler.ctx.currentTime),g._panner.orientationZ.setValueAtTime(g._orientation[2],Howler.ctx.currentTime)):g._panner.setOrientation(g._orientation[0],g._orientation[1],g._orientation[2])):(g._panner=Howler.ctx.createStereoPanner(),g._panner.pan.setValueAtTime(g._stereo,Howler.ctx.currentTime)),g._panner.connect(g._node),g._paused||g._parent.pause(g._id,!0).play(g._id,!0)}})()})(jn);jn.Howler.autoUnlock=!0;Je.subscribe(M=>{jn.Howler.volume(M.volume/100)});let $e=class{constructor(p,g,E=!0){this.id=p,this.url=g,this.sound=new jn.Howl({src:Array.isArray(g)?g:[g],preload:E}),this._volumeSubscription=Je.subscribe(b=>{this.sound.volume(b.volSound/100)})}isPlaying(){return this.sound.playing()}isLoaded(){return this.sound.state()==="loaded"}on(p,g){return this.sound.on(p,g)}off(p,g){return this.sound.off(p,g)}once(p,g){return this.sound.once(p,g)}load(){return this.sound.load(),this}play(){return this.sound.play(),this}pause(){return this.sound.pause(),this}stop(){return this.sound.stop(),this}reset(){return this.sound.seek(0),this}seek(p){return this.sound.seek(p)}unload(){return this._volumeSubscription(),this.sound.unload()}};class Bs extends $e{constructor(p,g,E=!1){super(p,g,E),this.sound.loop(!0),this._volumeSubscription(),this._volumeSubscription=Je.subscribe(b=>{this.sound.volume(b.volMusic/100)})}play(){return this.sound.playing()||this.sound.play(),this}}class dr extends $e{constructor(p,g){super(p,g,!1),this._volumeSubscription(),this._volumeSubscription=Je.subscribe(E=>{this.sound.volume(E.volForsen/100)})}}class vv extends pn{constructor(){super("draw-emotes"),this.title="Scribble Clues",this.icon="/pics/draw-emotes/icon.png",this.chatMessages=["FeelsDankMan 🪥","FeelsDankMan ✏️","FeelsDankMan 🖼️","PagMan this game"],this.minStartsToTry=10,this.minTimeToPlay=6e4*4,this.allowsTrainingMode=!1,this.looksLikeMultiplayerGame=!1,this.controls.mouse="Draw stuff with your mouse",this.mainMenuImage="/pics/backdrops/draw-emotes.webp",this.components.game=Wc,this.components.mainMenuTitle=null,this.ost=new Bs("draw-emotes-ost","/sounds/music/draw-emotes-ost.mp3"),this.sounds={win:new $e("draw-emotes-win","/sounds/draw-emotes/win.mp3"),lose:new $e("draw-emotes-lose","/sounds/draw-emotes/lose.mp3")}}startMusic(){this.ost&&(this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play())}pauseMusic(){this.ost&&this.ost.pause()}stopMusic(){this.ost&&this.ost.stop().unload()}toMenu(){return this.startMusic(),super.toMenu()}pauseGame(){return this.pauseMusic(),this}resumeGame(){return this.ost.isLoaded()?this.ost.play():this.startMusic(),this}destroy(){this.stopMusic(),this.ost=null;for(const p in this.sounds)this.sounds[p].stop(),this.sounds[p].off();return super.destroy()}}function Ya(M,p,g){var E=g||{},b=E.noTrailing,R=b===void 0?!1:b,c=E.noLeading,y=c===void 0?!1:c,t=E.debounceMode,o=t===void 0?void 0:t,v,s=!1,i=0;function n(){v&&clearTimeout(v)}function e(l){var a=l||{},h=a.upcomingOnly,f=h===void 0?!1:h;n(),s=!f}function r(){for(var l=arguments.length,a=new Array(l),h=0;h<l;h++)a[h]=arguments[h];var f=this,u=Date.now()-i;if(s)return;function d(){i=Date.now(),p.apply(f,a)}function m(){v=void 0}!y&&o&&!v&&d(),n(),o===void 0&&u>M?y?(i=Date.now(),R||(v=setTimeout(o?m:d,M))):d():R!==!0&&(v=setTimeout(o?m:d,o===void 0?M-u:M))}return r.cancel=e,r}function pv(M,{from:p,to:g},E={}){const b=getComputedStyle(M),R=b.transform==="none"?"":b.transform,[c,y]=b.transformOrigin.split(" ").map(parseFloat),t=p.left+p.width*c/g.width-(g.left+c),o=p.top+p.height*y/g.height-(g.top+y),{delay:v=0,duration:s=n=>Math.sqrt(n)*120,easing:i=ln}=E;return{delay:v,duration:Br(s)?s(Math.sqrt(t*t+o*o)):s,easing:i,css:(n,e)=>{const r=e*t,l=e*o,a=n+e*p.width/g.width,h=n+e*p.height/g.height;return`transform: ${R} translate(${r}px, ${l}px) scale(${a}, ${h});`}}}function Wo(M){let p=M[1].content+"",g,E,b,R=M[3].settings.visualAidMode&&$o(M);return{c(){g=mt(p),E=lt(),R&&R.c(),b=Le()},l(c){g=gt(c,p),E=ht(c),R&&R.l(c),b=Le()},m(c,y){dt(c,g,y),dt(c,E,y),R&&R.m(c,y),dt(c,b,y)},p(c,y){y&2&&p!==(p=c[1].content+"")&&ie(g,p),c[3].settings.visualAidMode?R?R.p(c,y):(R=$o(c),R.c(),R.m(b.parentNode,b)):R&&(R.d(1),R=null)},d(c){c&&(K(g),K(E),K(b)),R&&R.d(c)}}}function $o(M){let p,g=M[1].color+"",E;return{c(){p=Q("div"),E=mt(g),this.h()},l(b){p=q(b,"DIV",{class:!0});var R=rt(p);E=gt(R,g),R.forEach(K),this.h()},h(){W(p,"class","visual-aid svelte-17ah2k3")},m(b,R){dt(b,p,R),V(p,E)},p(b,R){R&2&&g!==(g=b[1].color+"")&&ie(E,g)},d(b){b&&K(p)}}}function mv(M){let p,g,E,b=M[1].visible&&Wo(M);return{c(){p=Q("div"),b&&b.c(),this.h()},l(R){p=q(R,"DIV",{class:!0,tabindex:!0,role:!0});var c=rt(p);b&&b.l(c),c.forEach(K),this.h()},h(){W(p,"class","cell svelte-17ah2k3"),W(p,"tabindex","-1"),W(p,"role","cell"),pe(p,"focused",M[2]),pe(p,"active",M[1].enabled),pe(p,"transparent",!M[1].visible),kt(p,"background-color",M[1].visible?M[1].bgcolor:""),kt(p,"border-color",M[1].visible?M[1].color:"#fff2")},m(R,c){dt(R,p,c),b&&b.m(p,null),g||(E=[se(p,"mousedown",M[10]),se(p,"mouseup",M[11]),se(p,"touchstart",M[12]),se(p,"touchend",M[13]),se(p,"click",M[14]),se(p,"keypress",M[15])],g=!0)},p(R,[c]){R[1].visible?b?b.p(R,c):(b=Wo(R),b.c(),b.m(p,null)):b&&(b.d(1),b=null),c&4&&pe(p,"focused",R[2]),c&2&&pe(p,"active",R[1].enabled),c&2&&pe(p,"transparent",!R[1].visible),c&2&&kt(p,"background-color",R[1].visible?R[1].bgcolor:""),c&2&&kt(p,"border-color",R[1].visible?R[1].color:"#fff2")},i:Qt,o:Qt,d(R){R&&K(p),b&&b.d(),g=!1,hi(E)}}}function gv(M,p,g){let E,b=Qt,R=()=>(b(),b=ys(c,d=>g(3,E=d)),c);M.$$.on_destroy.push(()=>b());let{game:c}=p;R();let{cell:y}=p,{allowFlicks:t=!0}=p,{focused:o=!1}=p;function v(d){d.click()&&E.forceUpdateDOM()}function s(d,m){!t||!d.enabled||m!=null&&m.target&&(m.preventDefault(),Gi(c,E._touchStartCell=d,E),Gi(c,E._touchAction=m.touches[0],E),Gi(c,E._touchOrigin=m.target.getBoundingClientRect(),E))}function i(d,m){if(!t||!d.enabled||!(m!=null&&m.target))return;m.preventDefault();const x=m.changedTouches.item(E._touchAction.identifier);if(!x)return;const S=x.clientX-E._touchAction.clientX,T=x.clientY-E._touchAction.clientY,C=Math.abs(S),A=Math.abs(T);if(C>=E._touchOrigin.width/2||A>=E._touchOrigin.height/2){const w=E.field.cells.findIndex(P=>P===E._touchStartCell);if(w>=0){let P=w;C>A?P+=Math.sign(S):P+=Math.sign(T)*E.field.width;const F=E.field.cells[P];E.swapTwoCells(E._touchStartCell,F)}E.activateCell(null)}else v(E._touchStartCell);delete E._touchStartCell,delete E._touchAction,delete E._touchOrigin,E.forceUpdateDOM()}function n(d){!t||!d.enabled||Gi(c,E._dragStartCell=d,E)}function e(d){!t||!d.enabled||E._dragStartCell!==d&&(E.swapTwoCells(E._dragStartCell,d),delete E._dragStartCell,E.activateCell(null),E.forceUpdateDOM())}const r=d=>n(y),l=d=>e(y),a=d=>s(y,d),h=d=>i(y,d),f=()=>v(y),u=d=>{d.key==="Enter"&&v(y)};return M.$$set=d=>{"game"in d&&R(g(0,c=d.game)),"cell"in d&&g(1,y=d.cell),"allowFlicks"in d&&g(9,t=d.allowFlicks),"focused"in d&&g(2,o=d.focused)},[c,y,o,E,v,s,i,n,e,t,r,l,a,h,f,u]}class xv extends Ee{constructor(p){super(),Ce(this,p,gv,mv,Se,{game:0,cell:1,allowFlicks:9,focused:2})}}function Ho(M,p,g){const E=M.slice();return E[5]=p[g],E}function ko(M){let p,g,E=[],b=new Map,R,c,y=_e(M[1].cells);const t=o=>o[5];for(let o=0;o<y.length;o+=1){let v=Ho(M,y,o),s=t(v);b.set(s,E[o]=Ko(s,v))}return{c(){p=Q("div"),g=Q("div");for(let o=0;o<E.length;o+=1)E[o].c();this.h()},l(o){p=q(o,"DIV",{class:!0});var v=rt(p);g=q(v,"DIV",{class:!0});var s=rt(g);for(let i=0;i<E.length;i+=1)E[i].l(s);s.forEach(K),v.forEach(K),this.h()},h(){W(g,"class","field svelte-15jlznb"),kt(g,"grid-template-columns",`repeat(${M[1].width}, min-content)`),W(p,"class","d-flex align-items-center justify-content-center")},m(o,v){dt(o,p,v),V(p,g);for(let s=0;s<E.length;s+=1)E[s]&&E[s].m(g,null);c=!0},p(o,v){if(v&19){y=_e(o[1].cells),Ie();for(let s=0;s<E.length;s+=1)E[s].r();E=bh(E,v,t,1,o,y,b,g,Rf,Ko,null,Ho);for(let s=0;s<E.length;s+=1)E[s].a();Be()}v&2&&kt(g,"grid-template-columns",`repeat(${o[1].width}, min-content)`)},i(o){if(!c){for(let v=0;v<y.length;v+=1)Tt(E[v]);o&&(R||Ye(()=>{R=je(p,Oi,{duration:800,y:20}),R.start()})),c=!0}},o(o){for(let v=0;v<E.length;v+=1)Mt(E[v]);c=!1},d(o){o&&K(p);for(let v=0;v<E.length;v+=1)E[v].d()}}}function Ko(M,p){let g,E,b,R,c,y=Qt,t;return E=new xv({props:{game:p[0],cell:p[5],allowFlicks:p[4].settings.allowFlicks,focused:p[1].activeCell===p[5]}}),{key:M,first:null,c(){g=Q("div"),Xt(E.$$.fragment),b=lt(),this.h()},l(o){g=q(o,"DIV",{class:!0});var v=rt(g);$t(E.$$.fragment,v),b=ht(v),v.forEach(K),this.h()},h(){W(g,"class","cell-container"),this.first=g},m(o,v){dt(o,g,v),Yt(E,g,null),V(g,b),t=!0},p(o,v){p=o;const s={};v&1&&(s.game=p[0]),v&2&&(s.cell=p[5]),v&16&&(s.allowFlicks=p[4].settings.allowFlicks),v&2&&(s.focused=p[1].activeCell===p[5]),E.$set(s)},r(){c=g.getBoundingClientRect()},f(){Af(g),y()},a(){y(),y=Cf(g,c,pv,{delay:0,duration:300})},i(o){t||(Tt(E.$$.fragment,o),o&&(R||Ye(()=>{R=je(g,Oi,{duration:p[3].in,y:-150}),R.start()})),t=!0)},o(o){Mt(E.$$.fragment,o),t=!1},d(o){o&&K(g),Wt(E)}}}function yv(M){let p,g,E=M[2]&&ko(M);return{c(){E&&E.c(),p=Le()},l(b){E&&E.l(b),p=Le()},m(b,R){E&&E.m(b,R),dt(b,p,R),g=!0},p(b,[R]){b[2]?E?(E.p(b,R),R&4&&Tt(E,1)):(E=ko(b),E.c(),Tt(E,1),E.m(p.parentNode,p)):E&&(Ie(),Mt(E,1,1,()=>{E=null}),Be())},i(b){g||(Tt(E),g=!0)},o(b){Mt(E),g=!1},d(b){b&&K(p),E&&E.d(b)}}}function Tv(M,p,g){let E,b=Qt,R=()=>(b(),b=ys(c,v=>g(4,E=v)),c);M.$$.on_destroy.push(()=>b());let{game:c}=p;R();let{field:y}=p,t=!1;const o={in:0,out:150};return ti(()=>{g(2,t=!0),g(3,o.in=200,o)}),M.$$set=v=>{"game"in v&&R(g(0,c=v.game)),"field"in v&&g(1,y=v.field)},[c,y,t,o,E]}class Jh extends Ee{constructor(p){super(),Ce(this,p,Tv,yv,Se,{game:0,field:1})}}function jo(M){return Object.prototype.toString.call(M)==="[object Date]"}function ga(M,p){if(M===p||M!==M)return()=>M;const g=typeof M;if(g!==typeof p||Array.isArray(M)!==Array.isArray(p))throw new Error("Cannot interpolate values of different type");if(Array.isArray(M)){const E=p.map((b,R)=>ga(M[R],b));return b=>E.map(R=>R(b))}if(g==="object"){if(!M||!p)throw new Error("Object cannot be null");if(jo(M)&&jo(p)){M=M.getTime(),p=p.getTime();const R=p-M;return c=>new Date(M+c*R)}const E=Object.keys(p),b={};return E.forEach(R=>{b[R]=ga(M[R],p[R])}),R=>{const c={};return E.forEach(y=>{c[y]=b[y](R)}),c}}if(g==="number"){const E=p-M;return b=>M+b*E}throw new Error(`Cannot interpolate ${g} values`)}function us(M,p={}){const g=ni(M);let E,b=M;function R(c,y){if(M==null)return g.set(M=c),Promise.resolve();b=c;let t=E,o=!1,{delay:v=0,duration:s=400,easing:i=La,interpolate:n=ga}=io(io({},p),y);if(s===0)return t&&(t.abort(),t=null),g.set(M=b),Promise.resolve();const e=yh()+v;let r;return E=Th(l=>{if(l<e)return!0;o||(r=n(M,c),typeof s=="function"&&(s=s(M,c)),o=!0),t&&(t.abort(),t=null);const a=l-e;return a>s?(g.set(M=c),!1):(g.set(M=r(i(a/s))),!0)}),E.promise}return{set:R,update:(c,y)=>R(c(b,M),y),subscribe:g.subscribe}}function Sv(M){let p,g='<div class="cock svelte-1qfxj7s">🐓</div> <div class="egg svelte-1qfxj7s">🥚</div> <div class="chicken svelte-1qfxj7s">🐤</div>';return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-ujacgw"&&(p.innerHTML=g),this.h()},h(){W(p,"class","flavor svelte-1qfxj7s")},m(E,b){dt(E,p,b)},p:Qt,i:Qt,o:Qt,d(E){E&&K(p)}}}class Qh extends Ee{constructor(p){super(),Ce(this,p,null,Sv,Se,{})}}function Ev(M){let p,g,E="Practice mode",b,R,c,y,t,o,v="Moves:",s,i=M[2].field.swaps+"",n,e,r,l,a="Shuffles:",h,f,u,d,m,x="Hints used:",S,T,C,A,w,P="Score:",F,L=(M[6]|0)+"",O,I,B,U,H,Z,tt,X="Shuffle board",k,D,z="Quit practice",Y,j,J,it,st;return j=new Qh({}),{c(){p=Q("div"),g=Q("h3"),g.textContent=E,b=lt(),R=Q("div"),c=Q("table"),y=Q("tbody"),t=Q("tr"),o=Q("td"),o.textContent=v,s=Q("td"),n=mt(i),e=lt(),r=Q("tr"),l=Q("td"),l.textContent=a,h=Q("td"),f=mt(M[3]),u=lt(),d=Q("tr"),m=Q("td"),m.textContent=x,S=Q("td"),T=mt(M[4]),C=lt(),A=Q("tr"),w=Q("td"),w.textContent=P,F=Q("td"),O=mt(L),I=lt(),B=Q("div"),U=Q("button"),H=mt("Get hint"),Z=lt(),tt=Q("button"),tt.textContent=X,k=lt(),D=Q("button"),D.textContent=z,Y=lt(),Xt(j.$$.fragment),this.h()},l(at){p=q(at,"DIV",{class:!0});var ft=rt(p);g=q(ft,"H3",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-9wt06e"&&(g.textContent=E),b=ht(ft),R=q(ft,"DIV",{class:!0});var vt=rt(R);c=q(vt,"TABLE",{class:!0});var xt=rt(c);y=q(xt,"TBODY",{});var Ct=rt(y);t=q(Ct,"TR",{});var yt=rt(t);o=q(yt,"TD",{class:!0,"data-svelte-h":!0}),Ot(o)!=="svelte-1ohck6m"&&(o.textContent=v),s=q(yt,"TD",{class:!0});var Pt=rt(s);n=gt(Pt,i),Pt.forEach(K),yt.forEach(K),e=ht(Ct),r=q(Ct,"TR",{});var Gt=rt(r);l=q(Gt,"TD",{class:!0,"data-svelte-h":!0}),Ot(l)!=="svelte-yl84ty"&&(l.textContent=a),h=q(Gt,"TD",{class:!0});var Ut=rt(h);f=gt(Ut,M[3]),Ut.forEach(K),Gt.forEach(K),u=ht(Ct),d=q(Ct,"TR",{});var Nt=rt(d);m=q(Nt,"TD",{class:!0,"data-svelte-h":!0}),Ot(m)!=="svelte-glybcv"&&(m.textContent=x),S=q(Nt,"TD",{class:!0});var wt=rt(S);T=gt(wt,M[4]),wt.forEach(K),Nt.forEach(K),C=ht(Ct),A=q(Ct,"TR",{});var Dt=rt(A);w=q(Dt,"TD",{class:!0,"data-svelte-h":!0}),Ot(w)!=="svelte-1hdteii"&&(w.textContent=P),F=q(Dt,"TD",{class:!0});var Rt=rt(F);O=gt(Rt,L),Rt.forEach(K),Dt.forEach(K),Ct.forEach(K),xt.forEach(K),vt.forEach(K),I=ht(ft),B=q(ft,"DIV",{class:!0});var Ht=rt(B);U=q(Ht,"BUTTON",{class:!0});var qt=rt(U);H=gt(qt,"Get hint"),qt.forEach(K),Z=ht(Ht),tt=q(Ht,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(tt)!=="svelte-lteue1"&&(tt.textContent=X),k=ht(Ht),D=q(Ht,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(D)!=="svelte-1ej84cw"&&(D.textContent=z),Ht.forEach(K),ft.forEach(K),Y=ht(at),$t(j.$$.fragment,at),this.h()},h(){W(g,"class","svelte-5tnw4l"),W(o,"class","svelte-5tnw4l"),W(s,"class","svelte-5tnw4l"),W(l,"class","svelte-5tnw4l"),W(h,"class","svelte-5tnw4l"),W(m,"class","svelte-5tnw4l"),W(S,"class","svelte-5tnw4l"),W(w,"class","svelte-5tnw4l"),W(F,"class","svelte-5tnw4l"),W(c,"class","table table-sm table-striped-columns text-start svelte-5tnw4l"),W(R,"class","stats"),W(U,"class","btn btn-outline-success svelte-5tnw4l"),U.disabled=M[5],W(tt,"class","btn btn-outline-secondary svelte-5tnw4l"),W(D,"class","btn btn-outline-danger svelte-5tnw4l"),W(B,"class","buttons"),W(p,"class","container svelte-5tnw4l")},m(at,ft){dt(at,p,ft),V(p,g),V(p,b),V(p,R),V(R,c),V(c,y),V(y,t),V(t,o),V(t,s),V(s,n),V(y,e),V(y,r),V(r,l),V(r,h),V(h,f),V(y,u),V(y,d),V(d,m),V(d,S),V(S,T),V(y,C),V(y,A),V(A,w),V(A,F),V(F,O),V(p,I),V(p,B),V(B,U),V(U,H),V(B,Z),V(B,tt),V(B,k),V(B,D),dt(at,Y,ft),Yt(j,at,ft),J=!0,it||(st=[se(U,"click",M[8]),se(tt,"click",M[9]),se(D,"click",M[10])],it=!0)},p(at,[ft]){(!J||ft&4)&&i!==(i=at[2].field.swaps+"")&&ie(n,i),(!J||ft&8)&&ie(f,at[3]),(!J||ft&16)&&ie(T,at[4]),(!J||ft&64)&&L!==(L=(at[6]|0)+"")&&ie(O,L),(!J||ft&32)&&(U.disabled=at[5])},i(at){J||(Tt(j.$$.fragment,at),J=!0)},o(at){Mt(j.$$.fragment,at),J=!1},d(at){at&&(K(p),K(Y)),Wt(j,at),it=!1,hi(st)}}}function Cv(M,p,g){let E,b=Qt,R=()=>(b(),b=ys(t,l=>g(2,E=l)),t),c;M.$$.on_destroy.push(()=>b());let{minigame:y}=p,{game:t}=p;R();const o=us(E.field.score,{duration:350,easing:Eh});We(M,o,l=>g(6,c=l));let v=0,s=0,i=!1;function n(){if(E.field.ongoingCombos>0)return;const l=E.getPossibleMove();Array.isArray(l)?(g(4,s+=1),Gi(t,E.field.activeCell=l.pop(),E)):g(5,i=!0)}function e(){E.field.ongoingCombos>0||(E.shuffleBoard(),g(5,i=!1),g(3,v+=1))}const r=()=>y.toMenu();return M.$$set=l=>{"minigame"in l&&g(0,y=l.minigame),"game"in l&&R(g(1,t=l.game))},M.$$.update=()=>{M.$$.dirty&4&&o.set(E.field.score)},[y,t,E,v,s,i,c,o,n,e,r]}class Av extends Ee{constructor(p){super(),Ce(this,p,Cv,Ev,Se,{minigame:0,game:1})}}function Mv(M){let p,g,E,b="Current advantage:",R,c,y,t='<div class="progress-bar bg-dark"></div>',o,v,s='<div class="progress-bar bg-success progress-bar-striped progress-bar-animated">You</div>',i,n,e='<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated">Opponent</div>',r,l,a="<i>Keep matching pieces to increase your advantage!</i>",h,f,u,d="Shuffle board",m,x,S="Abandon game",T,C,A,w,P,F,L,O,I,B,U,H="Your opponent is:",Z,tt,X=M[5].name+"",k,D,z,Y,j,J,it,st,at;return Y=new Jh({props:{game:M[0],field:M[3]}}),J=new Qh({}),{c(){p=Q("div"),g=Q("div"),E=Q("div"),E.textContent=b,R=lt(),c=Q("div"),y=Q("div"),y.innerHTML=t,o=lt(),v=Q("div"),v.innerHTML=s,i=lt(),n=Q("div"),n.innerHTML=e,r=lt(),l=Q("small"),l.innerHTML=a,h=lt(),f=Q("div"),u=Q("button"),u.textContent=d,m=lt(),x=Q("button"),x.textContent=S,T=lt(),C=Q("hr"),A=lt(),w=Q("div"),P=Q("div"),F=Q("div"),L=Q("img"),I=lt(),B=Q("div"),U=Q("small"),U.textContent=H,Z=lt(),tt=Q("div"),k=mt(X),D=lt(),z=Q("div"),Xt(Y.$$.fragment),j=lt(),Xt(J.$$.fragment),this.h()},l(ft){p=q(ft,"DIV",{class:!0});var vt=rt(p);g=q(vt,"DIV",{class:!0});var xt=rt(g);E=q(xt,"DIV",{"data-svelte-h":!0}),Ot(E)!=="svelte-1e9vvq6"&&(E.textContent=b),R=ht(xt),c=q(xt,"DIV",{class:!0});var Ct=rt(c);y=q(Ct,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Ot(y)!=="svelte-1r1jmkf"&&(y.innerHTML=t),o=ht(Ct),v=q(Ct,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Ot(v)!=="svelte-50s5bi"&&(v.innerHTML=s),i=ht(Ct),n=q(Ct,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Ot(n)!=="svelte-gnf6mt"&&(n.innerHTML=e),Ct.forEach(K),r=ht(xt),l=q(xt,"SMALL",{class:!0,"data-svelte-h":!0}),Ot(l)!=="svelte-zaiqac"&&(l.innerHTML=a),xt.forEach(K),h=ht(vt),f=q(vt,"DIV",{class:!0});var yt=rt(f);u=q(yt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(u)!=="svelte-23u2us"&&(u.textContent=d),m=ht(yt),x=q(yt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(x)!=="svelte-1l3alum"&&(x.textContent=S),yt.forEach(K),T=ht(vt),C=q(vt,"HR",{class:!0}),A=ht(vt),w=q(vt,"DIV",{class:!0});var Pt=rt(w);P=q(Pt,"DIV",{});var Gt=rt(P);F=q(Gt,"DIV",{class:!0});var Ut=rt(F);L=q(Ut,"IMG",{src:!0,alt:!0,class:!0}),I=ht(Ut),B=q(Ut,"DIV",{class:!0});var Nt=rt(B);U=q(Nt,"SMALL",{class:!0,"data-svelte-h":!0}),Ot(U)!=="svelte-1t46dyy"&&(U.textContent=H),Z=ht(Nt),tt=q(Nt,"DIV",{class:!0});var wt=rt(tt);k=gt(wt,X),wt.forEach(K),Nt.forEach(K),Ut.forEach(K),Gt.forEach(K),D=ht(Pt),z=q(Pt,"DIV",{class:!0});var Dt=rt(z);$t(Y.$$.fragment,Dt),Dt.forEach(K),Pt.forEach(K),vt.forEach(K),j=ht(ft),$t(J.$$.fragment,ft),this.h()},h(){W(y,"class","progress svelte-hpvfvt"),W(y,"role","progressbar"),kt(y,"width",Ke(50*Math.min(1,(M[1]-Math.max(0,M[2]))/M[1]))),W(v,"class","progress svelte-hpvfvt"),W(v,"role","progressbar"),kt(v,"width",Ke(50*Math.min(1,M[2]/M[1]))),W(n,"class","progress svelte-hpvfvt"),W(n,"role","progressbar"),kt(n,"width",Ke(-50*Math.min(1,M[2]/M[1]))),W(c,"class","progress-stacked my-2 svelte-hpvfvt"),W(l,"class","text-muted svelte-hpvfvt"),W(g,"class","advantage svelte-hpvfvt"),W(u,"class","btn btn-outline-warning svelte-hpvfvt"),W(x,"class","btn btn-outline-danger svelte-hpvfvt"),W(f,"class","buttons"),W(C,"class","svelte-hpvfvt"),Ae(L.src,O=M[5].picture)||W(L,"src",O),W(L,"alt",M[5].name),W(L,"class","svelte-hpvfvt"),W(U,"class","text-muted svelte-hpvfvt"),W(tt,"class","fw-bold"),W(B,"class","d-flex flex-column flex-grow-1 text-start"),W(F,"class","opponent svelte-hpvfvt"),W(z,"class","enemy-field svelte-hpvfvt"),W(w,"class","match-data svelte-hpvfvt"),W(p,"class","container svelte-hpvfvt")},m(ft,vt){dt(ft,p,vt),V(p,g),V(g,E),V(g,R),V(g,c),V(c,y),V(c,o),V(c,v),V(c,i),V(c,n),V(g,r),V(g,l),V(p,h),V(p,f),V(f,u),V(f,m),V(f,x),V(p,T),V(p,C),V(p,A),V(p,w),V(w,P),V(P,F),V(F,L),V(F,I),V(F,B),V(B,U),V(B,Z),V(B,tt),V(tt,k),V(w,D),V(w,z),Yt(Y,z,null),dt(ft,j,vt),Yt(J,ft,vt),it=!0,st||(at=[se(u,"click",M[7]),Ei(Ci.call(null,u,{content:"This action will moderately decrease your advantage."})),se(x,"click",M[8])],st=!0)},p(ft,[vt]){vt&6&&kt(y,"width",Ke(50*Math.min(1,(ft[1]-Math.max(0,ft[2]))/ft[1]))),vt&6&&kt(v,"width",Ke(50*Math.min(1,ft[2]/ft[1]))),vt&6&&kt(n,"width",Ke(-50*Math.min(1,ft[2]/ft[1])));const xt={};vt&1&&(xt.game=ft[0]),vt&8&&(xt.field=ft[3]),Y.$set(xt)},i(ft){it||(Tt(Y.$$.fragment,ft),Tt(J.$$.fragment,ft),it=!0)},o(ft){Mt(Y.$$.fragment,ft),Mt(J.$$.fragment,ft),it=!1},d(ft){ft&&(K(p),K(j)),Wt(Y),Wt(J,ft),st=!1,hi(at)}}}function wv(M,p,g){let E,b=Qt,R=()=>(b(),b=ys(o,l=>g(10,E=l)),o),c,y;M.$$.on_destroy.push(()=>b());let{minigame:t}=p,{game:o}=p;R();const v=E==null?void 0:E.enemy.state;We(M,v,l=>g(3,y=l));const s=va();let i=500,n=us(0,{duration:500});We(M,n,l=>g(2,c=l));function e(){E.field.ongoingCombos>0||(E.shuffleBoard(),Gi(o,E.field.score-=E.field.shuffleCost,E))}function r(){t.modifier.modifyLoyalty(re(-9,-5)),t.toMenu()}return ti(()=>{const l=new Pi(()=>{g(1,i-=20)},3333);return()=>{l.clear()}}),M.$$set=l=>{"minigame"in l&&g(9,t=l.minigame),"game"in l&&R(g(0,o=l.game))},M.$$.update=()=>{M.$$.dirty&1038&&E&&!E.gameOver&&(Gi(n,c=Math.max(-i,Math.min(i,E.field.score-y.score)),c),Math.abs(c)>=i&&E.endGame(c>0))},[o,i,c,y,v,s,n,e,r,t,E]}class bv extends Ee{constructor(p){super(),Ce(this,p,wv,Mv,Se,{minigame:9,game:0})}}function Zo(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l,a,h;return v=new fe({props:{size:"120%",$$slots:{default:[Pv]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("div"),E=lt(),b=Q("div"),R=mt(M[0]),y=lt(),t=Q("div"),o=Q("button"),Xt(v.$$.fragment),s=lt(),i=mt(M[3]),e=lt(),r=Q("div"),this.h()},l(f){p=q(f,"DIV",{class:!0});var u=rt(p);g=q(u,"DIV",{class:!0}),rt(g).forEach(K),E=ht(u),b=q(u,"DIV",{class:!0});var d=rt(b);R=gt(d,M[0]),d.forEach(K),y=ht(u),t=q(u,"DIV",{class:!0});var m=rt(t);o=q(m,"BUTTON",{type:!0,class:!0});var x=rt(o);$t(v.$$.fragment,x),s=ht(x),i=gt(x,M[3]),x.forEach(K),m.forEach(K),e=ht(u),r=q(u,"DIV",{class:!0}),rt(r).forEach(K),u.forEach(K),this.h()},h(){W(g,"class","pause-backdrop svelte-h8d6ad"),W(b,"class","pause-title svelte-h8d6ad"),kt(b,"color",M[1]),W(o,"type","button"),W(o,"class","btn btn-danger text-start"),W(t,"class","pause-buttons svelte-h8d6ad"),W(r,"class","overlay-black svelte-h8d6ad"),W(p,"class","pause svelte-h8d6ad")},m(f,u){dt(f,p,u),V(p,g),V(p,E),V(p,b),V(b,R),V(p,y),V(p,t),V(t,o),Yt(v,o,null),V(o,s),V(o,i),V(p,e),V(p,r),l=!0,a||(h=se(o,"click",function(){Br(M[4])&&M[4].apply(this,arguments)}),a=!0)},p(f,u){M=f,(!l||u&1)&&ie(R,M[0]),u&2&&kt(b,"color",M[1]);const d={};u&36&&(d.$$scope={dirty:u,ctx:M}),v.$set(d),(!l||u&8)&&ie(i,M[3])},i(f){l||(f&&(c||Ye(()=>{c=je(b,Is,{delay:100}),c.start()})),Tt(v.$$.fragment,f),f&&(n||Ye(()=>{n=je(t,Is,{delay:300}),n.start()})),l=!0)},o(f){Mt(v.$$.fragment,f),l=!1},d(f){f&&K(p),Wt(v),a=!1,h()}}}function Pv(M){let p;return{c(){p=mt(M[2])},l(g){p=gt(g,M[2])},m(g,E){dt(g,p,E)},p(g,E){E&4&&ie(p,g[2])},d(g){g&&K(p)}}}function Rv(M){let p,g,E=M[0]&&Zo(M);return{c(){E&&E.c(),p=Le()},l(b){E&&E.l(b),p=Le()},m(b,R){E&&E.m(b,R),dt(b,p,R),g=!0},p(b,[R]){b[0]?E?(E.p(b,R),R&1&&Tt(E,1)):(E=Zo(b),E.c(),Tt(E,1),E.m(p.parentNode,p)):E&&(Ie(),Mt(E,1,1,()=>{E=null}),Be())},i(b){g||(Tt(E),g=!0)},o(b){Mt(E),g=!1},d(b){b&&K(p),E&&E.d(b)}}}function Lv(M,p,g){let{gameOverReason:E="Game over"}=p,{color:b="#a33"}=p,{icon:R="exit_to_app"}=p,{buttonText:c="Exit"}=p,{callback:y=ri}=p;return M.$$set=t=>{"gameOverReason"in t&&g(0,E=t.gameOverReason),"color"in t&&g(1,b=t.color),"icon"in t&&g(2,R=t.icon),"buttonText"in t&&g(3,c=t.buttonText),"callback"in t&&g(4,y=t.callback)},[E,b,R,c,y]}class Fv extends Ee{constructor(p){super(),Ce(this,p,Lv,Rv,Se,{gameOverReason:0,color:1,icon:2,buttonText:3,callback:4})}}function _r(M){const p=M.slice(),g=p[1].result?"You got the egg":"You got owned";p[4]=g;const E=p[1].result?"#cc9":"#b33";return p[5]=E,p}function Ov(M){let p,g;return p=new bv({props:{minigame:M[0],game:M[2]}}),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,b){const R={};b&1&&(R.minigame=E[0]),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function Dv(M){let p,g;return p=new Av({props:{minigame:M[0],game:M[2]}}),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,b){const R={};b&1&&(R.minigame=E[0]),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function Jo(M){let p,g;return p=new Fv({props:{gameOverReason:M[4],color:M[5],callback:M[3]}}),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,b){const R={};b&2&&(R.gameOverReason=E[4]),b&2&&(R.color=E[5]),b&1&&(R.callback=E[3]),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function Iv(M){var a;let p,g,E='<img src="/pics/backdrops/egdle-game.webp" alt="backdrop" class="svelte-1pioizr"/>',b,R,c,y,t,o,v,s,i;c=new Jh({props:{game:M[2],field:M[1].field}});const n=[Dv,Ov],e=[];function r(h,f){var u;return(u=h[1])!=null&&u.practiceMode?0:1}o=r(M),v=e[o]=n[o](M);let l=((a=M[1])==null?void 0:a.gameOver)&&Jo(_r(M));return{c(){p=Q("div"),g=Q("div"),g.innerHTML=E,b=lt(),R=Q("div"),Xt(c.$$.fragment),y=lt(),t=Q("div"),v.c(),s=lt(),l&&l.c(),this.h()},l(h){p=q(h,"DIV",{class:!0});var f=rt(p);g=q(f,"DIV",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-h4vu0h"&&(g.innerHTML=E),b=ht(f),R=q(f,"DIV",{class:!0});var u=rt(R);$t(c.$$.fragment,u),u.forEach(K),y=ht(f),t=q(f,"DIV",{class:!0});var d=rt(t);v.l(d),d.forEach(K),s=ht(f),l&&l.l(f),f.forEach(K),this.h()},h(){W(g,"class","backdrop svelte-1pioizr"),W(R,"class","field svelte-1pioizr"),W(t,"class","gameinfo svelte-1pioizr"),W(p,"class","gamearea svelte-1pioizr")},m(h,f){dt(h,p,f),V(p,g),V(p,b),V(p,R),Yt(c,R,null),V(p,y),V(p,t),e[o].m(t,null),V(p,s),l&&l.m(p,null),i=!0},p(h,[f]){var m;const u={};f&2&&(u.field=h[1].field),c.$set(u);let d=o;o=r(h),o===d?e[o].p(h,f):(Ie(),Mt(e[d],1,1,()=>{e[d]=null}),Be(),v=e[o],v?v.p(h,f):(v=e[o]=n[o](h),v.c()),Tt(v,1),v.m(t,null)),(m=h[1])!=null&&m.gameOver?l?(l.p(_r(h),f),f&2&&Tt(l,1)):(l=Jo(_r(h)),l.c(),Tt(l,1),l.m(p,null)):l&&(Ie(),Mt(l,1,1,()=>{l=null}),Be())},i(h){i||(Tt(c.$$.fragment,h),Tt(v),Tt(l),i=!0)},o(h){Mt(c.$$.fragment,h),Mt(v),Mt(l),i=!1},d(h){h&&K(p),Wt(c),e[o].d(),l&&l.d()}}}function Bv(M,p,g){let E,{minigame:b}=p;const R=b.resetInstance(b.state==="training");We(M,R,y=>g(1,E=y)),ti(()=>(E.startNewRun(),()=>E.destroy()));const c=()=>b.toMenu();return M.$$set=y=>{"minigame"in y&&g(0,b=y.minigame)},[b,E,R,c]}class Qo extends Ee{constructor(p){super(),Ce(this,p,Bv,Iv,Se,{minigame:0})}}function Gv(M){let p,g=`<b class="svelte-vsl8k3">Egdle:</b>
  Evolution`;return{c(){p=Q("h2"),p.innerHTML=g,this.h()},l(E){p=q(E,"H2",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-xx2udn"&&(p.innerHTML=g),this.h()},h(){W(p,"class","svelte-vsl8k3")},m(E,b){dt(E,p,b)},p:Qt,i:Qt,o:Qt,d(E){E&&K(p)}}}class Nv extends Ee{constructor(p){super(),Ce(this,p,null,Gv,Se,{})}}class Vv extends pn{constructor(){super("egdle-crush"),this.title="Egdle: Evolution",this.icon="/pics/emotes/pumpkin-cool.webp",this.chatMessages=["KKool GuitarTime","KKool","pepeLaugh 👉 💎","pepeLaugh"],this.looksLikeMultiplayerGame=!0,this.allowsTrainingMode=!0,this.minStartsToTry=3,this.mainMenuImage="/pics/backdrops/egdle-menu.webp",this.controls.mouse="Click or drag to match",this.components.game=Qo,this.components.training=Qo,this.components.mainMenuTitle=Nv,this.ost=new Bs("egdle-ost","/sounds/music/egdle-ost.mp3"),this.game=ni(null)}getInstance(){return this.game}resetInstance(p=!1){const g=new Xv(this,p);return g.setOwner(this),this.game.set(g),this.game}toMenu(){return this.startMusic(),super.toMenu()}startMusic(){this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play()}stopMusic(){this.ost.stop().unload()}destroy(){return this.stopMusic(),this.game.update(p=>(p&&p.destroy(),p)),super.destroy()}}let Uv=0;const cr={red:"💖",yellow:"🥚",green:"🥒",cyan:"💎",blue:"🍳",pink:"🌸",gray:"🚽"},an={red:"rgba(192, 96, 96, 0.38)",yellow:"rgba(160, 160, 96, 0.38)",green:"rgba(96, 192, 96, 0.38)",cyan:"rgba(96, 192, 192, 0.38)",blue:"rgba(96, 96, 192, 0.38)",pink:"rgba(172, 64, 128, 0.38)",gray:"rgba(140, 140, 140, 0.38)"},qh=new jn.Howl({src:["/sounds/progression.mp3"],sprite:{m1:[0,720],m2:[1e3,720],m3:[2e3,720],m4:[3e3,720],m5:[4e3,720],m6:[5e3,720],m7:[6e3,720],m8:[7e3,520]}});Je.subscribe(M=>{qh.volume=M.volSound});const zv=new $e("egdle-gameover","/sounds/riff.mp3");class qo{constructor(p=""){this.enabled=!0,this.id=Uv++,this.clear(p,!0),this._timers={hider:null,enabler:null},this.clickCallback=ri}clear(p="",g=!1){return this.content=p,this.visible=!1,this.locked=!1,this.bgcolor="",this.color="",this.winner=!1,this.loser=!1,this.finisher=!1,g&&(this.clicks=0),this}click(){if(!(!this.enabled||!this.visible||this.isTraveling))return this.visible=!0,this.clicks+=1,this.enabled=!1,this.clickCallback()}toJSON(){const p=["content","enabled","visible","locked","clicks","winner","loser","bgcolor","color"],g={};return p.forEach(E=>{g[E]=this[E]}),g}matches(p){return this.color===p.color}}class _h{constructor(p=8,g=8){this._DOMcallback=ri,this.ongoingCombos=0,this.score=0,this.swaps=0,this.sounds=!0,this.shuffleCost=120,this.setSize(p,g),this.activeCell=null;const E=this;this._cellCallback=function(){if(!(this.isTraveling||this.finisher))return this.enabled=!0,E.activeCell?(this!==E.activeCell&&E.swapTwoCells(E.activeCell,this),E.activeCell=null):E.activeCell=this,!0}}setSize(p,g){if(this.width=p,this.height=g,p<3||g<3)throw new Error("Invalid field dimensions: cannot go lower than 3x3");return this.size=this.width*this.height,this.reset()}reset(){this.ongoingCombos=0,this.score=0,this.swaps=0;const p=Object.keys(an),g=p.pop();this.cells=new Array(this.size).fill(null).map(()=>{const b=new qo;return b.clear("",!0),b.enabled=!1,b.visible=!1,b.isTraveling=!1,b.color=He(p),b.bgcolor=an[b.color],b.content=cr[b.color],b.clickCallback=this._cellCallback,b}),this.resetGrids();const E=this.grid;for(let b=0;b<this.width;b++)for(let R=0;R<this.height;R++)R>1&&E[b][R].matches(E[b][R-1])&&E[b][R].matches(E[b][R-2])&&(E[b][R-1].color=g,E[b][R-1].bgcolor=an[g],E[b][R-1].content=cr[g]),b>1&&E[b][R].matches(E[b-1][R])&&E[b][R].matches(E[b-2][R])&&(E[b-1][R].color=g,E[b-1][R].bgcolor=an[g],E[b-1][R].content=cr[g]);return this}resetGrids(){this.inverseGrid=[];for(let p=0;p<this.height;p++)this.inverseGrid.push(this.cells.slice(p*this.height,(p+1)*this.height));this.grid=[];for(let p=0;p<this.width;p++){const g=[];for(let E=0;E<this.height;E++)g.push(this.inverseGrid[E][p]);this.grid.push(g)}return this}shuffle(){return Ks(this.cells),this.resetGrids(),new ai(()=>{this.calculateAllCombos()},800),this._DOMcallback(),this}clear(p,g){return this.cells.forEach(E=>{E.clear(p,g)}),this}enableCells(){return this.cells.forEach(p=>{p.enabled=!p.locked}),this}disableCells(){return this.cells.forEach(p=>{p.enabled=!1}),this}showCells(){return this.cells.forEach(p=>{p.visible=!0}),this}hideCells(){return this.cells.forEach(p=>{p.visible=!1}),this}getTotalClicks(){return this.cells.reduce((p,g)=>p+g.clicks,0)}toJSON(){return{cells:this.cells}}findMatchingNeighborForCell(p,g,E){if(g<0||p<0||g>=this.width||p>=this.height)return;if(!this.grid[g][p])return null;const R=E[0];let c=null;return g>0&&(c=this.grid[g-1][p],R.matches(c)&&!E.includes(c))||g<this.width-1&&(c=this.grid[g+1][p],R.matches(c)&&!E.includes(c))||p>0&&(c=this.grid[g][p-1],R.matches(c)&&!E.includes(c))||p<this.height-1&&(c=this.grid[g][p+1],R.matches(c)&&!E.includes(c))?c:null}getPossibleMove(){let p;for(let g=this.height-1;g>=0;g--)for(let E=this.width-1;E>=0;E--){const b=this.grid[E][g];if(g>0&&b.matches(this.grid[E][g-1])){if(p=this.findMatchingNeighborForCell(g+1,E,[b,this.grid[E][g-1]]),p)return[this.grid[E][g+1],p];if(p=this.findMatchingNeighborForCell(g-2,E,[b,this.grid[E][g-1]]),p)return[this.grid[E][g-2],p]}if(g>1&&b.matches(this.grid[E][g-2])&&(p=this.findMatchingNeighborForCell(g-1,E,[b,this.grid[E][g-2]]),p))return[this.grid[E][g-1],p];if(E>0&&b.matches(this.grid[E-1][g])){if(p=this.findMatchingNeighborForCell(g,E+1,[b,this.grid[E-1][g]]),p)return[this.grid[E+1][g],p];if(p=this.findMatchingNeighborForCell(g,E-2,[b,this.grid[E-1][g]]),p)return[this.grid[E-2][g],p]}if(E>1&&b.matches(this.grid[E-2][g])&&(p=this.findMatchingNeighborForCell(g,E-1,[b,this.grid[E-2][g]]),p))return[this.grid[E-1][g],p]}return null}swapTwoCells(p,g,E=!0){p.isTraveling=!0,g.isTraveling=!0,p.enabled=!1,g.enabled=!1;const b=this.cells.findIndex(t=>t===p),R=this.cells.findIndex(t=>t===g);let c=!0;switch(R-b){case 1:{(b+1)%this.width===0&&(c=!1);break}case-1:{b%this.width===0&&(c=!1);break}case this.height:{b>=this.size-this.width&&(c=!1);break}case-this.height:{b<this.width&&(c=!1);break}default:c=!1}if(!c){p.enabled=!0,g.enabled=!0,p.isTraveling=!1,g.isTraveling=!1;return}this.cells[b]=g,this.cells[R]=p,this.resetGrids(),new ai(async()=>{p.isTraveling=!1,g.isTraveling=!1,await this.calculateAllCombos()>0?this.swaps+=1:E&&(this.swapTwoCells(g,p,!1),this._DOMcallback()),p.enabled=!0,g.enabled=!0},200)}async calculateAllCombos(p=1){this.ongoingCombos+=1;let g=0;const E=this.grid;for(let c=0;c<this.width;c++)for(let y=0;y<this.height;y++){const t=E[c][y];if(y>1){const o=t.matches(E[c][y-1])&&t.matches(E[c][y-2]),v=t.visible&&E[c][y-1].visible&&E[c][y-2].visible,s=!t.isTraveling&&!E[c][y-1].isTraveling&&!E[c][y-2].isTraveling;o&&s&&v&&(g+=10*(1+t.finisher+E[c][y-1].finisher+E[c][y-2].finisher),t.finisher=!0,E[c][y-1].finisher=!0,E[c][y-2].finisher=!0)}if(c>1){const o=t.matches(E[c-1][y])&&t.matches(E[c-2][y]),v=t.visible&&E[c-1][y].visible&&E[c-2][y].visible,s=!t.isTraveling&&!E[c-1][y].isTraveling&&!E[c-2][y].isTraveling;o&&s&&v&&(g+=10*(1+t.finisher+E[c-1][y].finisher+E[c-2][y].finisher),t.finisher=!0,E[c-1][y].finisher=!0,E[c-2][y].finisher=!0)}}for(const c of this.cells)c.finisher&&(c.visible=!1,c.enabled=!1);let b=g===0;const R=async()=>{if(b){await this.calculateAllCombos(p+1),this.ongoingCombos-=1e4;return}b=!0;for(let c=this.size-1;c>=0;c--)if(!this.cells[c].visible){b=!1;let t=c;for(;t>=this.width;)t-=this.width,this.cells[t+this.width]=this.cells[t];const o=new qo("");o.enabled=!0,o.visible=!0,o.isTraveling=!1,o.color=mf(an),o.bgcolor=an[o.color],o.content=cr[o.color],o.clickCallback=this._cellCallback,this.cells[t]=o}this._DOMcallback(),this.resetGrids(),new ai(R,300)};return b||(this.sounds&&qh.play("m"+Math.min(p,8)),this.ongoingCombos+=1e4,this._DOMcallback(),new ai(R,400)),this.score+=Math.round(g*Math.sqrt(p)),this.ongoingCombos-=1,g}}class Xv{constructor(p,g=!1){this.minigame=p,this.practiceMode=g,this.usesInteractiveField=!0,this.owner=null,this.field=new _h,this.field._DOMcallback=Ya(250,()=>this.forceUpdateDOM()),this.enemy=new Yv,this.settings={visualAidMode:!1,allowFlicks:!0},this.disabledSettings=new Set,this.result=null,this.gameOver=!1,this.activeCell=null,this.field.disableCells()}setOwner(p){return this.owner=p,this}forceUpdateDOM(){var p;(p=this.owner)==null||p.game.set(this)}setOption(p,g){return this.settings[p]=g,this.saveState()}pause(){return this}unpause(){return this.gameOver?this:(this.field.enableCells(),this)}toJSON(){const p={};return this._storedProperties.forEach(g=>{p[g]=this[g]}),p}reset(){return this.gameOver=!1,this.result=null,this.activeCell=null,this.field.sounds=!0,this.field.reset(),this.enemy.reset(),this}startNewRun(){return this.reset(),this.field.showCells().enableCells(),this.practiceMode||(this.minigame.modifier.modifyLoyalty(re(1,2)),this.enemy.isActive=!0,this.enemy.start()),this.forceUpdateDOM(),this}shuffleBoard(){return this.field.shuffle(),this}swapTwoCells(p,g){return this.field.swapTwoCells(p,g),this}getPossibleMove(){return this.field.getPossibleMove()}activateCell(p){return this.field.activeCell=p,this}endGame(p){return this.gameOver=!0,this.result=p,p?(this.minigame.modifier.modifyLoyalty(re(7,13)),xe.spawner.queueEventfulMessages("hype",3)):(Rr("lostGame"),this.minigame.modifier.modify(re(5,9),re(-9,-5)),xe.spawner.queueEventfulMessages("fail",3)),this.field.disableCells(),this.field.sounds=!1,this.enemy.stop(),this.enemy.isActive=!1,zv.play(),this.activeCell=null,setTimeout(()=>this.forceUpdateDOM(),500),this}destroy(){return this.gameOver=!0,this.enemy.stop(),this.field.disableCells(),null}}class Yv{constructor(){this.isActive=!0,this.brainDelay=re(800,9500),this.field=new _h,this.field.sounds=!1,this.field._DOMcallback=Ya(250,()=>this.updateState()),this.field.cells.forEach(p=>{p.locked=!0}),this.state=ni(this.field)}updateState(){this.state.set(this.field)}reset(){return this.field.reset().showCells(),this.score=0,this.updateState()}start(){return this.isActive?(this._ticker=new Pi(()=>this.makeMove(),this.brainDelay),this):this}stop(){var p;return(p=this._ticker)==null||p.clear(),this}makeMove(){if(this.field.ongoingCombos>0)return;const p=this.field.getPossibleMove();return p?this.field.swapTwoCells(...p):(this.field.shuffle(),this.field.score-=this.field.shuffleCost),this.updateState()}}function Wv(M){let p,g=`Egg Rush
  <span class="wow svelte-q944e6">Remastered!</span>`;return{c(){p=Q("h2"),p.innerHTML=g,this.h()},l(E){p=q(E,"H2",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-x88ii3"&&(p.innerHTML=g),this.h()},h(){W(p,"class","svelte-q944e6")},m(E,b){dt(E,p,b)},p:Qt,i:Qt,o:Qt,d(E){E&&K(p)}}}class $v extends Ee{constructor(p){super(),Ce(this,p,null,Wv,Se,{})}}function _o(M){let p,g;return{c(){p=Q("img"),this.h()},l(E){p=q(E,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){W(p,"class","hands svelte-1c5038q"),Ae(p.src,g="/pics/emotes/gimme.webp")||W(p,"src",g),W(p,"alt","hands")},m(E,b){dt(E,p,b)},d(E){E&&K(p)}}}function Hv(M){let p,g,E,b,R,c,y,t=(M[1][M[0]]||M[1][0])+"",o,v,s=M[0]>2&&_o();return{c(){p=Q("div"),g=Q("div"),E=Q("img"),R=lt(),s&&s.c(),c=lt(),y=Q("h3"),o=mt(t),this.h()},l(i){p=q(i,"DIV",{class:!0});var n=rt(p);g=q(n,"DIV",{class:!0});var e=rt(g);E=q(e,"IMG",{src:!0,alt:!0,class:!0}),R=ht(e),s&&s.l(e),e.forEach(K),c=ht(n),y=q(n,"H3",{class:!0});var r=rt(y);o=gt(r,t),r.forEach(K),n.forEach(K),this.h()},h(){Ae(E.src,b="/pics/emotes/donkstare.webp")||W(E,"src",b),W(E,"alt","donkStare"),W(E,"class","svelte-1c5038q"),kt(E,"width",no(8+M[0]*2.5)),W(g,"class","face svelte-1c5038q"),W(y,"class","svelte-1c5038q"),W(p,"class","backdrop svelte-1c5038q"),pe(p,"darker",M[0]>2)},m(i,n){dt(i,p,n),V(p,g),V(g,E),V(g,R),s&&s.m(g,null),V(p,c),V(p,y),V(y,o)},p(i,[n]){n&1&&kt(E,"width",no(8+i[0]*2.5)),i[0]>2?s||(s=_o(),s.c(),s.m(g,null)):s&&(s.d(1),s=null),n&1&&t!==(t=(i[1][i[0]]||i[1][0])+"")&&ie(o,t),n&1&&pe(p,"darker",i[0]>2)},i(i){i&&(v||Ye(()=>{v=je(p,Ds,{delay:1e3,duration:200}),v.start()}))},o:Qt,d(i){i&&K(p),s&&s.d()}}}function kv(M,p,g){let{game:E}=p,{strike:b=0}=p;const R=["Don't drop the eg!","Don't drop the eg!","Don't drop it! Last warning!","You are done!"];return ti(()=>{const c=E.playSound(b>2?"scaredeath":"scare");return()=>c==null?void 0:c.stop()}),M.$$set=c=>{"game"in c&&g(2,E=c.game),"strike"in c&&g(0,b=c.strike)},[b,R,E]}class Kv extends Ee{constructor(p){super(),Ce(this,p,kv,Hv,Se,{game:2,strike:0})}}function tl(M,p,g){const E=M.slice();return E[19]=p[g],E}function el(M,p,g){const E=M.slice();return E[22]=p[g],E[24]=g,E}function il(M){let p,g;return p=new Kv({props:{game:M[1],strike:M[1].strikes}}),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,b){const R={};b&2&&(R.game=E[1]),b&2&&(R.strike=E[1].strikes),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function sl(M){let p,g,E;return{c(){p=Q("span"),g=mt(On),E=lt(),this.h()},l(b){p=q(b,"SPAN",{class:!0});var R=rt(p);g=gt(R,On),E=ht(R),R.forEach(K),this.h()},h(){W(p,"class","strike svelte-uq7d0o"),pe(p,"strike-out",On===M[22]),pe(p,"blinking",M[1].state==="paused"&&M[1].strikes-1===M[24])},m(b,R){dt(b,p,R),V(p,g),V(p,E)},p(b,R){R&1&&pe(p,"strike-out",On===b[22]),R&2&&pe(p,"blinking",b[1].state==="paused"&&b[1].strikes-1===b[24])},d(b){b&&K(p)}}}function nl(M,p){let g,E=p[19].text+"",b,R;return{key:M,first:null,c(){g=Q("div"),b=mt(E),R=lt(),this.h()},l(c){g=q(c,"DIV",{class:!0});var y=rt(g);b=gt(y,E),R=ht(y),y.forEach(K),this.h()},h(){W(g,"class","game-component-egg svelte-uq7d0o"),kt(g,"left",p[19].origin[1]>0?"":Ke(p[19].offset)),kt(g,"right",p[19].origin[1]>0?Ke(p[19].offset):""),kt(g,"top",Ke(p[19].top)),kt(g,"transform",`rotate(${p[19].rotation*p[19].alive}deg)`),this.first=g},m(c,y){dt(c,g,y),V(g,b),V(g,R)},p(c,y){p=c,y&2&&E!==(E=p[19].text+"")&&ie(b,E),y&2&&kt(g,"left",p[19].origin[1]>0?"":Ke(p[19].offset)),y&2&&kt(g,"right",p[19].origin[1]>0?Ke(p[19].offset):""),y&2&&kt(g,"top",Ke(p[19].top)),y&2&&kt(g,"transform",`rotate(${p[19].rotation*p[19].alive}deg)`)},d(c){c&&K(g)}}}function jv(M){let p,g,E,b,R,c,y,t,o,v="ѪѲѮѰѦҜ҂Ѫ",s,i,n,e,r="ѲѬѢѦҜ҂҄҉Z 32",l,a,h,f="Q",u,d,m,x="A",S,T,C,A,w,P,F,L,O=String(M[1].score%1e3).padStart(3,"0")+"",I,B,U,H,Z,tt,X=[],k=new Map,D,z,Y,j,J,it,st="ѮѰѴҖѬѢ̤",at,ft,vt,xt,Ct="҂҄҉menu",yt,Pt,Gt,Ut="E",Nt,wt,Dt,Rt="D",Ht,qt,ee,te=M[1].inversion&&M[1].dropped&&il(M),oe=_e(M[0]),Vt=[];for(let Ft=0;Ft<oe.length;Ft+=1)Vt[Ft]=sl(el(M,oe,Ft));let jt=_e(M[1].egs);const It=Ft=>Ft[19].id;for(let Ft=0;Ft<jt.length;Ft+=1){let St=tl(M,jt,Ft),At=It(St);k.set(At,X[Ft]=nl(At,St))}return{c(){p=Q("div"),te&&te.c(),g=lt(),E=Q("div"),b=Q("div"),R=Q("div"),c=Q("div"),y=Q("button"),t=lt(),o=Q("span"),o.textContent=v,s=lt(),i=Q("button"),n=lt(),e=Q("span"),e.textContent=r,l=lt(),a=Q("div"),h=Q("button"),h.textContent=f,u=lt(),d=Q("div"),m=Q("button"),m.textContent=x,S=lt(),T=Q("div"),C=Q("div"),A=lt(),w=Q("div"),P=Q("div");for(let Ft=0;Ft<Vt.length;Ft+=1)Vt[Ft].c();F=lt(),L=Q("div"),I=mt(O),B=lt(),U=Q("div"),H=Q("img"),tt=lt();for(let Ft=0;Ft<X.length;Ft+=1)X[Ft].c();D=lt(),z=Q("div"),Y=Q("div"),j=Q("button"),J=lt(),it=Q("span"),it.textContent=st,at=lt(),ft=Q("button"),vt=lt(),xt=Q("span"),xt.textContent=Ct,yt=lt(),Pt=Q("div"),Gt=Q("button"),Gt.textContent=Ut,Nt=lt(),wt=Q("div"),Dt=Q("button"),Dt.textContent=Rt,this.h()},l(Ft){p=q(Ft,"DIV",{class:!0});var St=rt(p);te&&te.l(St),g=ht(St),E=q(St,"DIV",{class:!0});var At=rt(E);b=q(At,"DIV",{class:!0});var Lt=rt(b);R=q(Lt,"DIV",{class:!0});var ae=rt(R);c=q(ae,"DIV",{class:!0});var Jt=rt(c);y=q(Jt,"BUTTON",{class:!0}),rt(y).forEach(K),t=ht(Jt),o=q(Jt,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(o)!=="svelte-161cvvi"&&(o.textContent=v),s=ht(Jt),i=q(Jt,"BUTTON",{class:!0}),rt(i).forEach(K),n=ht(Jt),e=q(Jt,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(e)!=="svelte-u3fm22"&&(e.textContent=r),Jt.forEach(K),l=ht(ae),a=q(ae,"DIV",{class:!0});var ge=rt(a);h=q(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(h)!=="svelte-p239ww"&&(h.textContent=f),ge.forEach(K),u=ht(ae),d=q(ae,"DIV",{class:!0});var ye=rt(d);m=q(ye,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(m)!=="svelte-164qlds"&&(m.textContent=x),ye.forEach(K),ae.forEach(K),S=ht(Lt),T=q(Lt,"DIV",{class:!0});var Me=rt(T);C=q(Me,"DIV",{class:!0}),rt(C).forEach(K),A=ht(Me),w=q(Me,"DIV",{class:!0});var zt=rt(w);P=q(zt,"DIV",{class:!0});var ne=rt(P);for(let Ue=0;Ue<Vt.length;Ue+=1)Vt[Ue].l(ne);ne.forEach(K),F=ht(zt),L=q(zt,"DIV",{class:!0});var be=rt(L);I=gt(be,O),be.forEach(K),B=ht(zt),U=q(zt,"DIV",{class:!0});var Oe=rt(U);H=q(Oe,"IMG",{class:!0,alt:!0,src:!0}),Oe.forEach(K),tt=ht(zt);for(let Ue=0;Ue<X.length;Ue+=1)X[Ue].l(zt);zt.forEach(K),Me.forEach(K),D=ht(Lt),z=q(Lt,"DIV",{class:!0});var Fe=rt(z);Y=q(Fe,"DIV",{class:!0});var de=rt(Y);j=q(de,"BUTTON",{class:!0}),rt(j).forEach(K),J=ht(de),it=q(de,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(it)!=="svelte-7h3pq3"&&(it.textContent=st),at=ht(de),ft=q(de,"BUTTON",{class:!0}),rt(ft).forEach(K),vt=ht(de),xt=q(de,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(xt)!=="svelte-d7tr4"&&(xt.textContent=Ct),de.forEach(K),yt=ht(Fe),Pt=q(Fe,"DIV",{class:!0});var we=rt(Pt);Gt=q(we,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(Gt)!=="svelte-solquc"&&(Gt.textContent=Ut),we.forEach(K),Nt=ht(Fe),wt=q(Fe,"DIV",{class:!0});var Ve=rt(wt);Dt=q(Ve,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(Dt)!=="svelte-abxa0b"&&(Dt.textContent=Rt),Ve.forEach(K),Fe.forEach(K),Lt.forEach(K),At.forEach(K),St.forEach(K),this.h()},h(){W(y,"class","g-control-button g-small-control svelte-uq7d0o"),W(o,"class","g-control-descriptor svelte-uq7d0o"),W(i,"class","g-control-button g-small-control svelte-uq7d0o"),W(e,"class","g-control-descriptor svelte-uq7d0o"),W(c,"class","game-offside-container svelte-uq7d0o"),W(h,"class","g-control-button g-directional-control playful svelte-uq7d0o"),W(a,"class","game-button-container g-directional-top g-directional-left svelte-uq7d0o"),W(m,"class","g-control-button g-directional-control playful svelte-uq7d0o"),W(d,"class","game-button-container g-directional-bottom g-directional-left svelte-uq7d0o"),W(R,"class","game-side game-offside svelte-uq7d0o"),W(C,"class","game-headline svelte-uq7d0o"),W(P,"class","game-strikes svelte-uq7d0o"),W(L,"class","game-score svelte-uq7d0o"),pe(L,"blinking",M[1].state!=="playing"),W(H,"class","character-sprite svelte-uq7d0o"),W(H,"alt","Okayeg with a bucket"),Ae(H.src,Z=M[1].direction[0]>0?"/pics/egg-rush/char-btm.png":"/pics/egg-rush/char-top.png")||W(H,"src",Z),pe(H,"floating",M[1].floatAway),W(U,"class","character-sprite-container svelte-uq7d0o"),pe(U,"flipped",M[1].direction[1]<0),W(w,"class","game-area svelte-uq7d0o"),W(T,"class","game-side game-mainside svelte-uq7d0o"),W(j,"class","g-control-button g-small-control playful svelte-uq7d0o"),W(it,"class","g-control-descriptor zalgo svelte-uq7d0o"),W(ft,"class","g-control-button g-small-control playful svelte-uq7d0o"),W(xt,"class","g-control-descriptor svelte-uq7d0o"),W(Y,"class","game-offside-container svelte-uq7d0o"),W(Gt,"class","g-control-button g-directional-control playful svelte-uq7d0o"),W(Pt,"class","game-button-container g-directional-top g-directional-right svelte-uq7d0o"),W(Dt,"class","g-control-button g-directional-control playful svelte-uq7d0o"),W(wt,"class","game-button-container g-directional-bottom g-directional-right svelte-uq7d0o"),W(z,"class","game-side game-offside svelte-uq7d0o"),W(b,"class","game svelte-uq7d0o"),W(E,"class","game-backdrop svelte-uq7d0o"),pe(E,"inversion",M[1].inversion),W(p,"class","main svelte-uq7d0o")},m(Ft,St){dt(Ft,p,St),te&&te.m(p,null),V(p,g),V(p,E),V(E,b),V(b,R),V(R,c),V(c,y),V(c,t),V(c,o),V(c,s),V(c,i),V(c,n),V(c,e),V(R,l),V(R,a),V(a,h),M[11](h),V(R,u),V(R,d),V(d,m),M[13](m),V(b,S),V(b,T),V(T,C),V(T,A),V(T,w),V(w,P);for(let At=0;At<Vt.length;At+=1)Vt[At]&&Vt[At].m(P,null);V(w,F),V(w,L),V(L,I),V(w,B),V(w,U),V(U,H),V(w,tt);for(let At=0;At<X.length;At+=1)X[At]&&X[At].m(w,null);V(b,D),V(b,z),V(z,Y),V(Y,j),V(Y,J),V(Y,it),V(Y,at),V(Y,ft),V(Y,vt),V(Y,xt),V(z,yt),V(z,Pt),V(Pt,Gt),M[15](Gt),V(z,Nt),V(z,wt),V(wt,Dt),M[17](Dt),Ht=!0,qt||(ee=[se(window,"keydown",M[4]),se(window,"keyup",M[5]),se(y,"click",M[9]),se(i,"click",M[8]),se(h,"click",M[12]),se(m,"click",M[14]),se(j,"click",M[6]),se(ft,"click",M[7]),se(Gt,"click",M[16]),se(Dt,"click",M[18])],qt=!0)},p(Ft,[St]){if(Ft[1].inversion&&Ft[1].dropped?te?(te.p(Ft,St),St&2&&Tt(te,1)):(te=il(Ft),te.c(),Tt(te,1),te.m(p,g)):te&&(Ie(),Mt(te,1,1,()=>{te=null}),Be()),St&3){oe=_e(Ft[0]);let At;for(At=0;At<oe.length;At+=1){const Lt=el(Ft,oe,At);Vt[At]?Vt[At].p(Lt,St):(Vt[At]=sl(Lt),Vt[At].c(),Vt[At].m(P,null))}for(;At<Vt.length;At+=1)Vt[At].d(1);Vt.length=oe.length}(!Ht||St&2)&&O!==(O=String(Ft[1].score%1e3).padStart(3,"0")+"")&&ie(I,O),(!Ht||St&2)&&pe(L,"blinking",Ft[1].state!=="playing"),(!Ht||St&2&&!Ae(H.src,Z=Ft[1].direction[0]>0?"/pics/egg-rush/char-btm.png":"/pics/egg-rush/char-top.png"))&&W(H,"src",Z),(!Ht||St&2)&&pe(H,"floating",Ft[1].floatAway),(!Ht||St&2)&&pe(U,"flipped",Ft[1].direction[1]<0),St&2&&(jt=_e(Ft[1].egs),X=bh(X,St,It,1,Ft,jt,k,w,bf,nl,null,tl)),(!Ht||St&2)&&pe(E,"inversion",Ft[1].inversion)},i(Ft){Ht||(Tt(te),Ht=!0)},o(Ft){Mt(te),Ht=!1},d(Ft){Ft&&K(p),te&&te.d(),M[11](null),M[13](null),fs(Vt,Ft);for(let St=0;St<X.length;St+=1)X[St].d();M[15](null),M[17](null),qt=!1,hi(ee)}}}const ta="emulate-hover",On="🐣";function Zv(M,p,g){let E,{minigame:b}=p;const R=b.game;We(M,R,m=>g(1,E=m));const c=[],y={q:null,a:null,e:null,d:null};function t(m){if(E.state!=="playing")return;const x=m.key.toLowerCase();!y[x]||y[x].classList.contains(ta)||(y[x].click(),y[x].classList.add(ta))}function o(m){const x=m.key.toLowerCase();y[x]&&y[x].classList.remove(ta)}function v(){E.playSound("keypress"),E.setDelay(E.tickDelay/2|0)}function s(){E.inversion?E.playSound("drop"):(E.playSound("keypress"),b.toMenu())}function i(){if(E.inversion){E.playSound("drop");return}E.playSound("keypress"),Gi(R,E.inversion=!0,E),b.ost.stop(),b.gameMusic.sound.rate(.5),xe.spawner.queueEventfulMessages("scare",3)}function n(){if(E.floatAway){E.playSound("drop");return}E.playSound("keypress"),Gi(R,E.floatAway=!0,E),xe.spawner.queueEventfulMessages("fail",2)}ti(()=>{E.start()});function e(m){ji[m?"unshift":"push"](()=>{y.q=m,g(2,y)})}const r=()=>E.setDirection("q");function l(m){ji[m?"unshift":"push"](()=>{y.a=m,g(2,y)})}const a=()=>E.setDirection("a");function h(m){ji[m?"unshift":"push"](()=>{y.e=m,g(2,y)})}const f=()=>E.setDirection("e");function u(m){ji[m?"unshift":"push"](()=>{y.d=m,g(2,y)})}const d=()=>E.setDirection("d");return M.$$set=m=>{"minigame"in m&&g(10,b=m.minigame)},M.$$.update=()=>{if(M.$$.dirty&3){g(0,c.length=0,c);for(let m=0;m<E.strikesToLose;m++)c.push(m<E.strikes?On:"")}},[c,E,y,R,t,o,v,s,i,n,b,e,r,l,a,h,f,u,d]}class Jv extends Ee{constructor(p){super(),Ce(this,p,Zv,jv,Se,{minigame:10})}}class Qv extends pn{constructor(){super("egg-rush"),this.title="Egg Rush",this.icon="/pics/emotes/egge.png",this.chatMessages=["Okayeg","Okayeg 🥚","Okayeg FBCatch 🥚","Okayeg 💢"],this.looksLikeMultiplayerGame=!1,this.allowsTrainingMode=!1,this.minStartsToTry=2,this.mainMenuImage="/pics/backdrops/eggrush-menu.webp",this.controls.mouse="Click to change direction",this.controls.keyboard="You can use hotkeys",this.components.game=Jv,this.components.mainMenuTitle=$v,this.ost=new Bs("eggrush-ost","/sounds/music/egg-rush_drums.mp3"),this.gameMusic=new Bs("eggrush-ost2","/sounds/music/egg-rush_lead.mp3"),this.game=ni(null)}toMenu(){return this.startMusic(),this.game.update(p=>(p&&p.clear(),p)),super.toMenu()}start(){return this.game.update(p=>p||new _v(this)),this.gameMusic.play(),this.gameMusic.sound.seek(this.ost.sound.seek()),super.start()}startMusic(){this.ost&&(this.ost.isLoaded()?(this.gameMusic.stop(),this.gameMusic.sound.rate(1),this.ost.stop().play()):(this.ost.load().play(),this.gameMusic.load()))}stopMusic(){this.ost&&(this.ost.stop().unload(),this.gameMusic.stop().unload())}pauseGame(){return this.game.update(p=>(p==null?void 0:p.state)==="playing"?p.pause():p),super.pauseGame()}resumeGame(){return this.game.update(p=>p.resume()),super.pauseGame()}destroy(){return this.stopMusic(),this.ost=null,this.game.update(p=>p==null?void 0:p.destroy()),super.destroy()}}const Ws=Object.freeze({charSprites:{top:"/donk/public/images/egg-rush/char-top.png",bottom:"/donk/public/images/egg-rush/char-btm.png"},egStepCount:7,strikesToLose:3,startingTickDelay:800,startingEgDelay:5,pointsToIncreaseEgsOnScreen:40,pointsToGradualSpeedUp:10,pointsToResetStrikes:[200,500,1e3],directions:{q:[-1,-1],a:[1,-1],e:[-1,1],d:[1,1]}});class qv{constructor(p,g=[0,0]){this.app=p,this.id=p.egCounter++,this.alive=1,this.origin=g,this.originY=35+g[0]*11,this.originSide=g[1]>0?"right":"left",this.top=this.originY,this.offset=2,this.rotation=0,this.step=0,this.text="",this.setIcon("🥚"),this.app.egs.push(this)}setIcon(p){this.text=p}doFrame(){if(this.alive){if(this.step+=1,this.step>Ws.egStepCount)return this.doDrop();this.rotation+=-60*this.origin[1],this.offset+=3.5,this.top=this.originY+this.offset/2}}doDrop(){if(this.alive=0,this.origin.every((g,E)=>g===this.app.direction[E]))return this.app.stats.egsTaken+=1,this.app.stats["egs"+this.app.currentGameMode]+=1,this.app.recordScore(1),!0;if(this.setIcon("🐣"),this.top=90,this.app.playSound("drop"),this.app.stats.egsDropped+=1,this.app.stats["drops"+this.app.currentGameMode]+=1,!this.app.recordStrike(1,3e3))this.app.pause(3e3,!0),this.app.setDelay(this.app.tickDelay+200),this.app.egDelay+=2,this.app.minigame.modifier.modifyRage(re(5,7)*(1+this.app.inversion)),this.app.inversion&&xe.spawner.queueEventfulMessages("scare",2),xe.spawner.queueEventfulMessages("fail",2);else{this.app.pause(0),this.app.playSound("gameover"),this.app.stats.games+=1,this.app.stats["runs"+this.app.currentGameMode]+=1;let g=Date.now()-this.app.startTime;this.app.stats["time"+this.app.currentGameMode]=g,this.app.stats["hitime"+this.app.currentGameMode]<g&&(this.app.stats["hitime"+this.app.currentGameMode]=g),this.app.stats["score"+this.app.currentGameMode]=this.app.score,this.app.stats["hiscore"+this.app.currentGameMode]<this.app.score&&(this.app.stats["hiscore"+this.app.currentGameMode]=this.app.score),this.app.inversion?(xe.spawner.queueEventfulMessages("scare",4),xe.spawner.queueEventfulMessages("fail",2)):xe.spawner.queueEventfulMessages("fail",4),this.app.minigame.modifier.modifyRage(re(8,10)*(1+this.app.inversion)),this.app.victory(2500)}return this.app.dropped=!0,!1}destroy(){this.alive=0,this.app.egs.shift()}}class _v{constructor(p){this.minigame=p,this.storeRef=p.game,this.egCounter=0,this.egs=[],this.startTime=0,this.direction=[0,0],this.directionsPool=Object.values(Ws.directions),this.difficulty=0,this.score=0,this.strikes=0,this.strikesToLose=0,this.ticksToNextEg=0,this.tickDelay=800,this.egDelay=5,this.egs=new Set,this.timer=null,this.currentGameMode="",this.state="init",this.inversion=!1,this.dropped=!1,this.floatAway=!1,this.sounds={start:new $e("eggrush-start","/sounds/egg-rush/start.mp3"),drop:new $e("eggrush-drop","/sounds/egg-rush/drop.mp3"),egg:new $e("eggrush-egg","/sounds/egg-rush/egg.mp3"),keypress:new $e("eggrush-keypress","/sounds/egg-rush/keypress.mp3"),milestone:new $e("eggrush-milestone","/sounds/egg-rush/milestone.mp3"),tick:new $e("eggrush-tick","/sounds/egg-rush/tick.mp3"),gameover:new $e("eggrush-gameover","/sounds/egg-rush/gameover.mp3"),scare:new $e("eggrush-scare","/sounds/egg-rush/scare.mp3"),scaredeath:new $e("eggrush-scaredeath","/sounds/egg-rush/scaredeath.mp3")},this.stats={runsA:0,games:0,egsTaken:0,egsDropped:0,egsA:0,dropsA:0,hiscoreA:0,hitimeA:0,scoreA:0,timeA:0,runsB:0,egsB:0,dropsB:0,hiscoreB:0,hitimeB:0,scoreB:0,timeB:0,lastvisit:null}}updateDOM(){return this.storeRef.set(this),this}playSound(p){const g=this.sounds[p];return g&&(g.sound.rate(1-.5*this.inversion),g.play()),g}removeAllEgs(){const p=this.egs;this.egs=[];for(const g of p)g.destroy();return this.updateDOM()}clear(){var p;return(p=this.timer)==null||p.clear(),this.removeAllEgs(),this.score=0,this.strikes=0,this.inversion=!1,this.dropped=!1,this.floatAway=!1,this.direction=He(this.directionsPool),this.tickDelay=Ws.startingTickDelay,this.egDelay=Ws.startingEgDelay,this.updateDOM()}setDirection(p){const g=Ws.directions[p];return g?(this.direction=g,this.playSound("keypress"),this.updateDOM()):this}recordScore(p=0){return this.score+=p,this.playSound("egg"),this.score%9===0&&(this.setDelay(this.tickDelay-17),this.minigame.modifier.modifyLoyalty(re(1,2))),this.score%2===0&&(this.egDelay=Math.max(1,this.egDelay-1)),Ws.pointsToResetStrikes.includes(this.score)&&(this.strikes=-1,this.playSound("milestone"),this.recordStrike(1)),this}recordStrike(p=0){return this.strikes+=p,this.updateDOM(),this.strikes>=this.strikesToLose}tick(){if(this.state!=="playing")return this;for(let p=0;p<this.egs.length;p++)this.egs[p].doFrame()&&this.egs.splice(p--,1);return this.ticksToNextEg<1&&(this.ticksToNextEg=Math.floor(this.egDelay+Math.random()*3),new qv(this,He(this.directionsPool))),this.ticksToNextEg-=1,this.egs.length>0&&this.playSound("tick"),this.updateDOM()}pause(p=0,g=!1){return this.state=p?"dropped":"paused",p&&new ai(()=>{this.dropped=!1,g&&this.removeAllEgs(),this.state="paused",this.resume()},p),this.updateDOM()}resume(){return this.state==="paused"&&(this.state="playing"),this.updateDOM()}setDelay(p){return this.tickDelay=Math.max(150,p),this.timer&&(this.timer.clear(),this.timer.timeout=p,this.timer.prime()),this}start(p=0){return this.playSound("start"),this.state="paused",this.currentGameMode=p>1?"B":"A",this.startTime=Date.now(),this.clear(),this.strikesToLose=p>1?1:Ws.strikesToLose,this.difficulty=p,this.timer=new Pi(()=>this.tick(),this.tickDelay),this.resume()}victory(p){var g;return this.state="ending",p>0&&(this.playSound("gameover"),(g=this.timer)==null||g.clear(),this.timer=new ai(()=>this.minigame.toMenu(),p)),this.updateDOM()}destroy(){var p;return this.state==="playing"&&this.victory(0),this.removeAllEgs(),(p=this.timer)==null||p.clear(),this}}var tu={exports:{}};(function(M,p){(function(E,b){M.exports=b()})(Hs,()=>(()=>{var g={50792:c=>{var y=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function v(e,r,l){this.fn=e,this.context=r,this.once=l||!1}function s(e,r,l,a,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new v(l,a||e,h),u=t?t+r:r;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],f]:e._events[u].push(f):(e._events[u]=f,e._eventsCount++),e}function i(e,r){--e._eventsCount===0?e._events=new o:delete e._events[r]}function n(){this._events=new o,this._eventsCount=0}n.prototype.eventNames=function(){var r=[],l,a;if(this._eventsCount===0)return r;for(a in l=this._events)y.call(l,a)&&r.push(t?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(l)):r},n.prototype.listeners=function(r){var l=t?t+r:r,a=this._events[l];if(!a)return[];if(a.fn)return[a.fn];for(var h=0,f=a.length,u=new Array(f);h<f;h++)u[h]=a[h].fn;return u},n.prototype.listenerCount=function(r){var l=t?t+r:r,a=this._events[l];return a?a.fn?1:a.length:0},n.prototype.emit=function(r,l,a,h,f,u){var d=t?t+r:r;if(!this._events[d])return!1;var m=this._events[d],x=arguments.length,S,T;if(m.fn){switch(m.once&&this.removeListener(r,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,a),!0;case 4:return m.fn.call(m.context,l,a,h),!0;case 5:return m.fn.call(m.context,l,a,h,f),!0;case 6:return m.fn.call(m.context,l,a,h,f,u),!0}for(T=1,S=new Array(x-1);T<x;T++)S[T-1]=arguments[T];m.fn.apply(m.context,S)}else{var C=m.length,A;for(T=0;T<C;T++)switch(m[T].once&&this.removeListener(r,m[T].fn,void 0,!0),x){case 1:m[T].fn.call(m[T].context);break;case 2:m[T].fn.call(m[T].context,l);break;case 3:m[T].fn.call(m[T].context,l,a);break;case 4:m[T].fn.call(m[T].context,l,a,h);break;default:if(!S)for(A=1,S=new Array(x-1);A<x;A++)S[A-1]=arguments[A];m[T].fn.apply(m[T].context,S)}}return!0},n.prototype.on=function(r,l,a){return s(this,r,l,a,!1)},n.prototype.once=function(r,l,a){return s(this,r,l,a,!0)},n.prototype.removeListener=function(r,l,a,h){var f=t?t+r:r;if(!this._events[f])return this;if(!l)return i(this,f),this;var u=this._events[f];if(u.fn)u.fn===l&&(!h||u.once)&&(!a||u.context===a)&&i(this,f);else{for(var d=0,m=[],x=u.length;d<x;d++)(u[d].fn!==l||h&&!u[d].once||a&&u[d].context!==a)&&m.push(u[d]);m.length?this._events[f]=m.length===1?m[0]:m:i(this,f)}return this},n.prototype.removeAllListeners=function(r){var l;return r?(l=t?t+r:r,this._events[l]&&i(this,l)):(this._events=new o,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,c.exports=n},11517:(c,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38829),v=function(s,i,n,e){for(var r=s[0],l=1;l<s.length;l++){var a=s[l];o(a,r,i,n,e),r=a}return s};c.exports=v},80318:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r){return o(s,"angle",i,n,e,r)};c.exports=v},60757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){for(var s=0;s<t.length;s++){var i=t[s];o.call(v,i)}return t};c.exports=y},69927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){v===void 0&&(v=0);for(var s=v;s<t.length;s++){var i=t[s],n=!0;for(var e in o)i[e]!==o[e]&&(n=!1);if(n)return i}return null};c.exports=y},32265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){v===void 0&&(v=0);for(var s=t.length-1;s>=v;s--){var i=t[s],n=!0;for(var e in o)i[e]!==o[e]&&(n=!1);if(n)return i}return null};c.exports=y},94420:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(11879),v=t(60461),s=t(95540),i=t(29747),n=t(41481),e=new n({sys:{queueDepthSort:i,events:{once:i}}},0,0,1,1).setOrigin(0,0),r=function(l,a){a===void 0&&(a={});var h=a.hasOwnProperty("width"),f=a.hasOwnProperty("height"),u=s(a,"width",-1),d=s(a,"height",-1),m=s(a,"cellWidth",1),x=s(a,"cellHeight",m),S=s(a,"position",v.TOP_LEFT),T=s(a,"x",0),C=s(a,"y",0),A=0,w=0,P=u*m,F=d*x;e.setPosition(T,C),e.setSize(m,x);for(var L=0;L<l.length;L++)if(o(l[L],e,S),h&&u===-1)e.x+=m;else if(f&&d===-1)e.y+=x;else if(f&&!h){if(w+=x,e.y+=x,w===F&&(w=0,A+=m,e.y=C,e.x+=m,A===P))break}else if(A+=m,e.x+=m,A===P&&(A=0,w+=x,e.x=T,e.y+=x,w===F))break;return l};c.exports=r},41721:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r){return o(s,"alpha",i,n,e,r)};c.exports=v},67285:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r){return o(s,"x",i,n,e,r)};c.exports=v},9074:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"x",i,e,l,a),o(s,"y",n,r,l,a)};c.exports=v},75222:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r){return o(s,"y",i,n,e,r)};c.exports=v},22983:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v===void 0&&(v=0),s===void 0&&(s=6.28);for(var i=v,n=(s-v)/t.length,e=o.x,r=o.y,l=o.radius,a=0;a<t.length;a++)t[a].x=e+l*Math.cos(i),t[a].y=r+l*Math.sin(i),i+=n;return t};c.exports=y},95253:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v===void 0&&(v=0),s===void 0&&(s=6.28);for(var i=v,n=(s-v)/t.length,e=o.width/2,r=o.height/2,l=0;l<t.length;l++)t[l].x=o.x+e*Math.cos(i),t[l].y=o.y+r*Math.sin(i),i+=n;return t};c.exports=y},88505:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15258),v=t(26708),s=function(i,n,e){var r;e?r=v(n,e,i.length):r=o(n,i.length);for(var l=0;l<i.length;l++){var a=i[l],h=r[l];a.x=h.x,a.y=h.y}return i};c.exports=s},41346:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14649),v=t(86003),s=t(49498),i=function(n,e,r){r===void 0&&(r=0);var l=o(e,!1,n.length);r>0?v(l,r):r<0&&s(l,Math.abs(r));for(var a=0;a<n.length;a++)n[a].x=l[a].x,n[a].y=l[a].y;return n};c.exports=i},11575:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84993),v=function(s,i,n){var e=o({x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n),r=o({x1:i.x2,y1:i.y2,x2:i.x3,y2:i.y3},n),l=o({x1:i.x3,y1:i.y3,x2:i.x1,y2:i.y1},n);e.pop(),r.pop(),l.pop(),e=e.concat(r,l);for(var a=e.length/s.length,h=0,f=0;f<s.length;f++){var u=s[f],d=e[Math.floor(h)];u.x=d.x,u.y=d.y,h+=a}return s};c.exports=v},29953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){for(var s=0;s<t.length;s++){var i=t[s];i.anims&&i.anims.play(o,v)}return t};c.exports=y},66979:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i,n){s===void 0&&(s=0),i===void 0&&(i=0),n===void 0&&(n=1);var e,r=0,l=t.length;if(n===1)for(e=i;e<l;e++)t[e][o]+=v+r*s,r++;else for(e=i;e>=0;e--)t[e][o]+=v+r*s,r++;return t};c.exports=y},43967:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i,n){s===void 0&&(s=0),i===void 0&&(i=0),n===void 0&&(n=1);var e,r=0,l=t.length;if(n===1)for(e=i;e<l;e++)t[e][o]=v+r*s,r++;else for(e=i;e>=0;e--)t[e][o]=v+r*s,r++;return t};c.exports=y},88926:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28176),v=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=v},33286:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(24820),v=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=v},96e3:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65822),v=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=v},28789:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26597),v=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=v},97154:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90260),v=function(s,i){for(var n=0;n<s.length;n++)o(i,s[n]);return s};c.exports=v},20510:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r){return o(s,"rotation",i,n,e,r)};c.exports=v},91051:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),v=t(20339),s=function(i,n,e){for(var r=n.x,l=n.y,a=0;a<i.length;a++){var h=i[a];o(h,r,l,e,Math.max(1,v(h.x,h.y,r,l)))}return i};c.exports=s},76332:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),v=function(s,i,n,e){var r=i.x,l=i.y;if(e===0)return s;for(var a=0;a<s.length;a++)o(s[a],r,l,n,e);return s};c.exports=v},61619:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r){return o(s,"scaleX",i,n,e,r)};c.exports=v},94868:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"scaleX",i,e,l,a),o(s,"scaleY",n,r,l,a)};c.exports=v},95532:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(s,i,n,e,r){return o(s,"scaleY",i,n,e,r)};c.exports=v},8689:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"alpha",i,n,e,r)};c.exports=v},2645:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e){return o(s,"blendMode",i,0,n,e)};c.exports=v},32372:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"depth",i,n,e,r)};c.exports=v},85373:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){for(var s=0;s<t.length;s++)t[s].setInteractive(o,v);return t};c.exports=y},81583:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"originX",i,e,l,a),o(s,"originY",n,r,l,a),s.forEach(function(h){h.updateDisplayOrigin()}),s};c.exports=v},79939:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"rotation",i,n,e,r)};c.exports=v},2699:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"scaleX",i,e,l,a),o(s,"scaleY",n,r,l,a)};c.exports=v},98739:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"scaleX",i,n,e,r)};c.exports=v},98476:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"scaleY",i,n,e,r)};c.exports=v},6207:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"scrollFactorX",i,e,l,a),o(s,"scrollFactorY",n,r,l,a)};c.exports=v},6607:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"scrollFactorX",i,n,e,r)};c.exports=v},72248:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"scrollFactorY",i,n,e,r)};c.exports=v},14036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i){for(var n=0;n<t.length;n++)t[n].setTint(o,v,s,i);return t};c.exports=y},50159:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e){return o(s,"visible",i,0,n,e)};c.exports=v},77597:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"x",i,n,e,r)};c.exports=v},83194:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r,l,a){return n==null&&(n=i),o(s,"x",i,e,l,a),o(s,"y",n,r,l,a)};c.exports=v},67678:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(s,i,n,e,r){return o(s,"y",i,n,e,r)};c.exports=v},35850:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r){e===void 0&&(e=0),r===void 0&&(r=new o);var l,a,h=s.length;if(h===1)l=s[0].x,a=s[0].y,s[0].x=i,s[0].y=n;else{var f=1,u=0;e===0&&(u=h-1,f=h-2),l=s[u].x,a=s[u].y,s[u].x=i,s[u].y=n;for(var d=0;d<h;d++)if(!(f>=h||f===-1)){var m=s[f],x=m.x,S=m.y;m.x=l,m.y=a,l=x,a=S,e===0?f--:f++}}return r.x=l,r.y=a,r};c.exports=v},8628:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33680),v=function(s){return o(s)};c.exports=v},21837:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),v=function(s,i,n,e,r){r===void 0&&(r=!1);var l=Math.abs(e-n)/s.length,a;if(r)for(a=0;a<s.length;a++)s[a][i]+=o(a*l,n,e);else for(a=0;a<s.length;a++)s[a][i]=o(a*l,n,e);return s};c.exports=v},21910:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),v=function(s,i,n,e,r){r===void 0&&(r=!1);var l=Math.abs(e-n)/s.length,a;if(r)for(a=0;a<s.length;a++)s[a][i]+=o(a*l,n,e);else for(a=0;a<s.length;a++)s[a][i]=o(a*l,n,e);return s};c.exports=v},62054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i){if(i===void 0&&(i=!1),t.length===0)return t;if(t.length===1)return i?t[0][o]+=(s+v)/2:t[0][o]=(s+v)/2,t;var n=Math.abs(s-v)/(t.length-1),e;if(i)for(e=0;e<t.length;e++)t[e][o]+=e*n+v;else for(e=0;e<t.length;e++)t[e][o]=e*n+v;return t};c.exports=y},79815:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0;o<t.length;o++)t[o].visible=!t[o].visible;return t};c.exports=y},39665:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),v=function(s,i,n){n===void 0&&(n=0);for(var e=0;e<s.length;e++){var r=s[e];r.x=o(r.x,i.left-n,i.right+n),r.y=o(r.y,i.top-n,i.bottom+n)}return s};c.exports=v},61061:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(74943),i=t(81957),n=t(41138),e=t(35154),r=t(90126),l=new v({initialize:function(h,f,u){this.manager=h,this.key=f,this.type="frame",this.frames=this.getFrames(h.textureManager,e(u,"frames",[]),e(u,"defaultTextureKey",null),e(u,"sortFrames",!0)),this.frameRate=e(u,"frameRate",null),this.duration=e(u,"duration",null),this.msPerFrame,this.skipMissedFrames=e(u,"skipMissedFrames",!0),this.delay=e(u,"delay",0),this.repeat=e(u,"repeat",0),this.repeatDelay=e(u,"repeatDelay",0),this.yoyo=e(u,"yoyo",!1),this.showBeforeDelay=e(u,"showBeforeDelay",!1),this.showOnStart=e(u,"showOnStart",!1),this.hideOnComplete=e(u,"hideOnComplete",!1),this.randomFrame=e(u,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,h,f,u){f===null&&u===null?(a.frameRate=24,a.duration=24/h*1e3):f&&u===null?(a.duration=f,a.frameRate=h/(f/1e3)):(a.frameRate=u,a.duration=h/u*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,h){var f=this.getFrames(this.manager.textureManager,h);if(f.length>0){if(a===0)this.frames=f.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(f);else{var u=this.frames.slice(0,a),d=this.frames.slice(a);this.frames=u.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.currentFrame.duration?a.currentFrame.duration:a.msPerFrame},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,h,f,u){u===void 0&&(u=!0);var d=[],m,x,S=1,T,C;if(typeof h=="string"){if(C=h,!a.exists(C))return console.warn('Texture "%s" not found',C),d;var A=a.get(C),w=A.getFrameNames();u&&r(w),h=[],w.forEach(function(B){h.push({key:C,frame:B})})}if(!Array.isArray(h)||h.length===0)return d;for(T=0;T<h.length;T++){var P=h[T],F=e(P,"key",f);if(F){var L=e(P,"frame",0),O=a.getFrame(F,L);if(!O){console.warn('Texture "%s" not found',F);continue}x=new n(F,L,S,O),x.duration=e(P,"duration",0),x.isFirst=!m,m&&(m.nextFrame=x,x.prevFrame=m),d.push(x),m=x,S++}}if(d.length>0){x.isLast=!0,x.nextFrame=d[0],d[0].prevFrame=x;var I=1/(d.length-1);for(T=0;T<d.length;T++)d[T].progress=T*I}return d},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.currentFrame.duration?a.currentFrame.duration:a.msPerFrame},getFrameByProgress:function(a){return a=o(a,0,1),i(a,this.frames,"progress")},nextFrame:function(a){var h=a.currentFrame;h.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,h.nextFrame)},handleYoyoFrame:function(a,h){if(h||(h=!1),a.inReverse===!h&&a.repeatCounter>0){(a.repeatDelay===0||a.pendingRepeat)&&(a.forward=h),this.repeatAnimation(a);return}if(a.inReverse!==h&&a.repeatCounter===0){a.complete();return}a.forward=h;var f=h?a.currentFrame.nextFrame:a.currentFrame.prevFrame;this.updateAndGetNextTick(a,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var h=a.currentFrame;h.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?a.inReverse&&!a.forward?this.repeatAnimation(a):(a.forward=!0,this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,h.prevFrame)},updateAndGetNextTick:function(a,h){a.setCurrentFrame(h),this.getNextTick(a)},removeFrame:function(a){var h=this.frames.indexOf(a);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(a._pendingStop===2){if(a._pendingStopValue===0)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.forward?a.setCurrentFrame(a.currentFrame.nextFrame):a.setCurrentFrame(a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){a.frames.push(h.toJSON())}),a},updateFrameSequence:function(){for(var a=this.frames.length,h=1/(a-1),f,u=0;u<a;u++)f=this.frames[u],f.index=u+1,f.isFirst=!1,f.isLast=!1,f.progress=u*h,u===0?(f.isFirst=!0,a===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[a-1],f.nextFrame=this.frames[u+1])):u===a-1&&a>1?(f.isLast=!0,f.prevFrame=this.frames[a-2],f.nextFrame=this.frames[0]):a>1&&(f.prevFrame=this.frames[u-1],f.nextFrame=this.frames[u+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});c.exports=l},41138:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e,r,l){l===void 0&&(l=!1),this.textureKey=i,this.textureFrame=n,this.index=e,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=v},60848:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),v=t(83419),s=t(90330),i=t(50792),n=t(74943),e=t(8443),r=t(95540),l=t(35154),a=t(36383),h=t(20283),f=t(41836),u=new v({Extends:i,initialize:function(m){i.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",m.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,m,x){var S=this.anims,T=this.mixes,C=typeof d=="string"?d:d.key,A=typeof m=="string"?m:m.key;if(S.has(C)&&S.has(A)){var w=T.get(C);w||(w={}),w[A]=x,T.set(C,w)}return this},removeMix:function(d,m){var x=this.mixes,S=typeof d=="string"?d:d.key,T=x.get(S);if(T)if(m){var C=typeof m=="string"?m:m.key;T.hasOwnProperty(C)&&delete T[C]}else m||x.delete(S);return this},getMix:function(d,m){var x=this.mixes,S=typeof d=="string"?d:d.key,T=typeof m=="string"?m:m.key,C=x.get(S);return C&&C.hasOwnProperty(T)?C[T]:0},add:function(d,m){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(m.key=d,this.anims.set(d,m),this.emit(n.ADD_ANIMATION,d,m),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,m,x){var S=[],T=this.game.cache.json.get(d);if(!T)return console.warn("No Aseprite data found for: "+d),S;var C=this,A=l(T,"meta",null),w=l(T,"frames",null);if(A&&w){var P=l(A,"frameTags",[]);P.forEach(function(F){var L=[],O=r(F,"name",null),I=r(F,"from",0),B=r(F,"to",0),U=r(F,"direction","forward");if(O&&(!m||m&&m.indexOf(O)>-1)){for(var H=0,Z=I;Z<=B;Z++){var tt=Z.toString(),X=w[tt];if(X){var k=r(X,"duration",a.MAX_SAFE_INTEGER);L.push({key:d,frame:tt,duration:k}),H+=k}}U==="reverse"&&(L=L.reverse());var D={key:O,frames:L,duration:H,yoyo:U==="pingpong"},z;x?x.anims&&(z=x.anims.create(D)):z=C.create(D),z&&S.push(z)}})}return S},create:function(d){var m=d.key,x=!1;return m&&(x=this.get(m),x?console.warn("AnimationManager key already exists: "+m):(x=new o(this,m,d),this.anims.set(m,x),this.emit(n.ADD_ANIMATION,m,x))),x},fromJSON:function(d,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var x=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var S=0;S<d.anims.length;S++)x.push(this.create(d.anims[S]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&x.push(this.create(d));return x},generateFrameNames:function(d,m){var x=l(m,"prefix",""),S=l(m,"start",0),T=l(m,"end",0),C=l(m,"suffix",""),A=l(m,"zeroPad",0),w=l(m,"outputArray",[]),P=l(m,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),w;var F=this.textureManager.get(d);if(!F)return w;var L;if(m)for(P||(P=h(S,T)),L=0;L<P.length;L++){var O=x+f(P[L],A,"0",1)+C;F.has(O)?w.push({key:d,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,d)}else for(P=F.getFrameNames(),L=0;L<P.length;L++)w.push({key:d,frame:P[L]});return w},generateFrameNumbers:function(d,m){var x=l(m,"start",0),S=l(m,"end",-1),T=l(m,"first",!1),C=l(m,"outputArray",[]),A=l(m,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),C;var w=this.textureManager.get(d);if(!w)return C;T&&w.has(T)&&C.push({key:d,frame:T}),A||(S===-1&&(S=w.frameTotal-2),A=h(x,S));for(var P=0;P<A.length;P++){var F=A[P];w.has(F)?C.push({key:d,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,d)}return C},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var m=this.textureManager.get(d),x=m.key,S=this.anims.getArray(),T=[],C=0;C<S.length;C++)for(var A=S[C],w=A.frames,P=0;P<w.length;P++)if(w[P].textureKey===x){T.push(A.key);break}return T},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(d,m){Array.isArray(m)||(m=[m]);for(var x=0;x<m.length;x++)m[x].anims.play(d);return this},staggerPlay:function(d,m,x,S){x===void 0&&(x=0),S===void 0&&(S=!0),Array.isArray(m)||(m=[m]);var T=m.length;S||T--;for(var C=0;C<m.length;C++){var A=x<0?Math.abs(x)*(T-C):x*C;m[C].anims.playAfterDelay(d,A)}return this},remove:function(d){var m=this.get(d);return m&&(this.emit(n.REMOVE_ANIMATION,d,m),this.anims.delete(d),this.removeMix(d)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(d){var m={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?m.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(x,S){m.anims.push(S.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=u},9674:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),v=t(30976),s=t(83419),i=t(90330),n=t(74943),e=t(95540),r=new s({initialize:function(a){this.parent=a,this.animationManager=a.scene.sys.anims,this.animationManager.on(n.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var a=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,a;Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++){var f=l[h];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var a=this.animationManager,h=typeof l=="string"?l:e(l,"key",null),f=this.exists(h)?this.get(h):a.get(h);if(!f)console.warn("Missing animation: "+h);else{this.currentAnim=f;var u=f.getTotalFrames(),d=e(l,"frameRate",f.frameRate),m=e(l,"duration",f.duration);f.calculateDuration(this,u,m,d),this.delay=e(l,"delay",f.delay),this.repeat=e(l,"repeat",f.repeat),this.repeatDelay=e(l,"repeatDelay",f.repeatDelay),this.yoyo=e(l,"yoyo",f.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(l,"showOnStart",f.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(l,"randomFrame",f.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var x=e(l,"startFrame",0);x>u&&(x=0),this.randomFrame&&(x=v(0,u-1));var S=f.frames[x];x===0&&!this.forward&&(S=f.getLastFrame()),this.currentFrame=S}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,a){if(!this.isPlaying)this.delayCounter=a,this.play(l,!0);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=a}return this.parent},playAfterRepeat:function(l,a){if(a===void 0&&(a=1),!this.isPlaying)this.play(l);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.repeatCounter!==-1&&a>this.repeatCounter&&(a=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=a}return this.parent},play:function(l,a){a===void 0&&(a=!1);var h=this.currentAnim,f=this.parent,u=typeof l=="string"?l:l.key;if(a&&this.isPlaying&&h.key===u)return f;if(h&&this.isPlaying){var d=this.animationManager.getMix(h.key,l);if(d>0)return this.playAfterDelay(l,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,a){a===void 0&&(a=!1);var h=typeof l=="string"?l:l.key;return a&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var a=this.currentAnim,h=this.parent;return a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,a.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(n.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(n.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(n.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(n.ANIMATION_COMPLETE,n.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,a){var h=this.currentAnim;if(h){var f=this.currentFrame,u=this.parent,d=f.textureFrame;u.emit(l,h,f,u,d),a&&u.emit(a+h.key,h,f,u,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var a=l.progress;return this.inReverse&&(a*=-1),a},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,a){a===void 0&&(a=this.currentAnim),this.isPlaying&&a.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,a){l===void 0&&(l=!1),a===void 0&&(a=!1);var h=this.currentAnim,f=this.parent;return h?(a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(n.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,a){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=a*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=a,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?h.nextFrame(this):h.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var a=this.parent;return this.currentFrame=l,a.texture=l.frame.texture,a.frame=l.frame,a.isCropped&&a.frame.updateCropUVs(a._crop,a.flipX,a.flipY),l.setAlpha&&(a.alpha=l.alpha),a.setSizeToFrame(),a._originComponent&&(l.frame.customPivot?a.setOrigin(l.frame.pivotX,l.frame.pivotY):a.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(n.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),a},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var a=l.key,h=!1;return a&&(h=this.get(a),h?console.warn("Animation key already exists: "+a):(h=new o(this,a,l),this.anims||(this.anims=new i),this.anims.set(a,h))),h},createFromAseprite:function(l,a){return this.animationManager.createFromAseprite(l,a,this.parent)},generateFrameNames:function(l,a){return this.animationManager.generateFrameNames(l,a)},generateFrameNumbers:function(l,a){return this.animationManager.generateFrameNumbers(l,a)},remove:function(l){var a=this.get(l);return a&&(this.currentAnim===a&&this.stop(),this.anims.delete(l)),a},destroy:function(){this.animationManager.off(n.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=r},57090:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},25312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},89580:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},52860:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},63850:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},99085:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},28087:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstop"},1794:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},52562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},57953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},68339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},74943:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(90330),s=t(50792),i=t(24736),n=new o({initialize:function(){this.entries=new v,this.events=new s},add:function(e,r){return this.entries.set(e,r),this.events.emit(i.ADD,this,e,r),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var r=this.get(e);return r&&(this.entries.delete(e),this.events.emit(i.REMOVE,this,e,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=n},24047:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2161),v=t(83419),s=t(8443),i=new v({initialize:function(e){this.game=e,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new o),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});c.exports=i},51464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},59261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},24736:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(39506),i=t(50792),n=t(19715),e=t(87841),r=t(61340),l=t(80333),a=t(26099),h=new o({Extends:i,Mixins:[v.AlphaSingle,v.Visible],initialize:function(u,d,m,x){u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=0),x===void 0&&(x=0),i.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=u,this._y=d,this._width=m,this._height=x,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(m/2,x/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,u){return f===void 0&&(f=.5),u===void 0&&(u=f),this.originX=f,this.originY=u,this},getScroll:function(f,u,d){d===void 0&&(d=new a);var m=this.width*.5,x=this.height*.5;return d.x=f-m,d.y=u-x,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var u=this.width*.5;return this.midPoint.x=f,this.scrollX=f-u,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var u=this.height*.5;return this.midPoint.y=f,this.scrollY=f-u,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,u){return this.centerOnX(f),this.centerOnY(u),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,u=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-u,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var u=this.matrix.matrix,d=u[0],m=u[1],x=u[2],S=u[3],T=d*S-m*x;if(!T)return f;var C=u[4],A=u[5],w=this.scrollX,P=this.scrollY,F=this.width,L=this.height,O=this.y,I=O+L,B=this.x,U=B+F,H=this.culledObjects,Z=f.length;T=1/T,H.length=0;for(var tt=0;tt<Z;++tt){var X=f[tt];if(!X.hasOwnProperty("width")||X.parentContainer){H.push(X);continue}var k=X.width,D=X.height,z=X.x-w*X.scrollFactorX-k*X.originX,Y=X.y-P*X.scrollFactorY-D*X.originY,j=z*d+Y*x+C,J=z*m+Y*S+A,it=(z+k)*d+(Y+D)*x+C,st=(z+k)*m+(Y+D)*S+A;it>B&&j<U&&st>O&&J<I&&H.push(X)}return H},getWorldPoint:function(f,u,d){d===void 0&&(d=new a);var m=this.matrix.matrix,x=m[0],S=m[1],T=m[2],C=m[3],A=m[4],w=m[5],P=x*C-S*T;if(!P)return d.x=f,d.y=u,d;P=1/P;var F=C*P,L=-S*P,O=-T*P,I=x*P,B=(T*w-C*A)*P,U=(S*A-x*w)*P,H=Math.cos(this.rotation),Z=Math.sin(this.rotation),tt=this.zoomX,X=this.zoomY,k=this.scrollX,D=this.scrollY,z=f+(k*H-D*Z)*tt,Y=u+(k*Z+D*H)*X;return d.x=z*F+Y*O+B,d.y=z*L+Y*I+U,d},ignore:function(f){var u=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var m=f[d];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=u}return this},preRender:function(){this.renderList.length=0;var f=this.width,u=this.height,d=f*.5,m=u*.5,x=this.zoomX,S=this.zoomY,T=this.matrix,C=f*this.originX,A=u*this.originY,w=this.scrollX,P=this.scrollY;this.useBounds&&(w=this.clampX(w),P=this.clampY(P)),this.scrollX=w,this.scrollY=P;var F=w+d,L=P+m;this.midPoint.set(F,L);var O=f/x,I=u/S;this.worldView.setTo(F-O/2,L-I/2,O,I),T.applyITRS(this.x+C,this.y+A,this.rotation,x,S),T.translate(-C,-A)},clampX:function(f){var u=this._bounds,d=this.displayWidth,m=u.x+(d-this.width)/2,x=Math.max(m,m+u.width-d);return f<m?f=m:f>x&&(f=x),f},clampY:function(f){var u=this._bounds,d=this.displayHeight,m=u.y+(d-this.height)/2,x=Math.max(m,m+u.height-d);return f<m?f=m:f>x&&(f=x),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=s(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,u,d,m,x){return x===void 0&&(x=!1),this._bounds.setTo(f,u,d,m),this.dirty=!0,this.useBounds=!0,x?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var u=this._bounds;return f.setTo(u.x,u.y,u.width,u.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,u){return u===void 0&&(u=f),this.x=f,this.y=u,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,u){u===void 0&&(u=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=u;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,u){return u===void 0&&(u=f),this.scrollX=f,this.scrollY=u,this},setSize:function(f,u){return u===void 0&&(u=f),this.width=f,this.height=u,this},setViewport:function(f,u,d,m){return this.x=f,this.y=u,this.width=d,this.height=m,this},setZoom:function(f,u){return f===void 0&&(f=1),u===void 0&&(u=f),f===0&&(f=.001),u===0&&(u=.001),this.zoomX=f,this.zoomY=u,this},setMask:function(f,u){return u===void 0&&(u=!0),this.mask=f,this._maskCamera=u?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,u=this.sceneManager;f&&!this._customViewport?u.customViewports++:!f&&this._customViewport&&u.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=h},38058:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),v=t(67502),s=t(45319),i=t(83419),n=t(31401),e=t(20052),r=t(19715),l=t(28915),a=t(87841),h=t(26099),f=new i({Extends:o,Mixins:[n.PostPipeline],initialize:function(d,m,x,S){o.call(this,d,m,x,S),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(u,d){if(u===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=u,this.deadzone.height=d):this.deadzone=new a(0,0,u,d),this._follow){var m=this.width/2,x=this.height/2,S=this._follow.x-this.followOffset.x,T=this._follow.y-this.followOffset.y;this.midPoint.set(S,T),this.scrollX=S-m,this.scrollY=T-x}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(u,d,m,x,S,T){return this.fadeEffect.start(!1,u,d,m,x,!0,S,T)},fadeOut:function(u,d,m,x,S,T){return this.fadeEffect.start(!0,u,d,m,x,!0,S,T)},fadeFrom:function(u,d,m,x,S,T,C){return this.fadeEffect.start(!1,u,d,m,x,S,T,C)},fade:function(u,d,m,x,S,T,C){return this.fadeEffect.start(!0,u,d,m,x,S,T,C)},flash:function(u,d,m,x,S,T,C){return this.flashEffect.start(u,d,m,x,S,T,C)},shake:function(u,d,m,x,S){return this.shakeEffect.start(u,d,m,x,S)},pan:function(u,d,m,x,S,T,C){return this.panEffect.start(u,d,m,x,S,T,C)},rotateTo:function(u,d,m,x,S,T,C){return this.rotateToEffect.start(u,d,m,x,S,T,C)},zoomTo:function(u,d,m,x,S,T){return this.zoomEffect.start(u,d,m,x,S,T)},preRender:function(){this.renderList.length=0;var u=this.width,d=this.height,m=u*.5,x=d*.5,S=this.zoom,T=this.matrix,C=u*this.originX,A=d*this.originY,w=this._follow,P=this.deadzone,F=this.scrollX,L=this.scrollY;P&&v(P,this.midPoint.x,this.midPoint.y);var O=!1;if(w&&!this.panEffect.isRunning){var I=this.lerp,B=w.x-this.followOffset.x,U=w.y-this.followOffset.y;P?(B<P.x?F=l(F,F-(P.x-B),I.x):B>P.right&&(F=l(F,F+(B-P.right),I.x)),U<P.y?L=l(L,L-(P.y-U),I.y):U>P.bottom&&(L=l(L,L+(U-P.bottom),I.y))):(F=l(F,B-C,I.x),L=l(L,U-A,I.y)),O=!0}this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.scrollX=F,this.scrollY=L;var H=F+m,Z=L+x;this.midPoint.set(H,Z);var tt=u/S,X=d/S,k=Math.floor(H-tt/2),D=Math.floor(Z-X/2);this.worldView.setTo(k,D,tt,X),T.applyITRS(Math.floor(this.x+C),Math.floor(this.y+A),this.rotation,S,S),T.translate(-C,-A),this.shakeEffect.preRender(),O&&this.emit(r.FOLLOW_UPDATE,this,w)},setLerp:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),this.lerp.set(u,d),this},setFollowOffset:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=0),this.followOffset.set(u,d),this},startFollow:function(u,d,m,x,S,T){d===void 0&&(d=!1),m===void 0&&(m=1),x===void 0&&(x=m),S===void 0&&(S=0),T===void 0&&(T=S),this._follow=u,this.roundPixels=d,m=s(m,0,1),x=s(x,0,1),this.lerp.set(m,x),this.followOffset.set(S,T);var C=this.width/2,A=this.height/2,w=u.x-S,P=u.y-T;return this.midPoint.set(w,P),this.scrollX=w-C,this.scrollY=P-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(u,d){this.visible&&(this.rotateToEffect.update(u,d),this.panEffect.update(u,d),this.zoomEffect.update(u,d),this.shakeEffect.update(u,d),this.flashEffect.update(u,d),this.fadeEffect.update(u,d))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=f},32743:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38058),v=t(83419),s=t(95540),i=t(37277),n=t(37303),e=t(97480),r=t(44594),l=new v({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(r.BOOT,this.boot,this),h.sys.events.on(r.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(r.UPDATE,this.update,this),h.once(r.SHUTDOWN,this.shutdown,this)},add:function(a,h,f,u,d,m){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),d===void 0&&(d=!1),m===void 0&&(m="");var x=new o(a,h,f,u);return x.setName(m),x.setScene(this.scene),x.setRoundPixels(this.roundPixels),x.id=this.getNextID(),this.cameras.push(x),d&&(this.main=x),x},addExisting:function(a,h){h===void 0&&(h=!1);var f=this.cameras.indexOf(a);return f===-1?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),h&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,h=1,f=0;f<32;f++){for(var u=!1,d=0;d<a.length;d++){var m=a[d];if(m&&m.id===h){u=!0;continue}}if(u)h=h<<1;else return h}return 0},getTotal:function(a){a===void 0&&(a=!1);for(var h=0,f=this.cameras,u=0;u<f.length;u++){var d=f[u];(!a||a&&d.visible)&&h++}return h},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var h=this.scene.sys.scale.width,f=this.scene.sys.scale.height,u=0;u<a.length;u++){var d=a[u],m=s(d,"x",0),x=s(d,"y",0),S=s(d,"width",h),T=s(d,"height",f),C=this.add(m,x,S,T);C.name=s(d,"name",""),C.zoom=s(d,"zoom",1),C.rotation=s(d,"rotation",0),C.scrollX=s(d,"scrollX",0),C.scrollY=s(d,"scrollY",0),C.roundPixels=s(d,"roundPixels",!1),C.visible=s(d,"visible",!0);var A=s(d,"backgroundColor",!1);A&&C.setBackgroundColor(A);var w=s(d,"bounds",null);if(w){var P=s(w,"x",0),F=s(w,"y",0),L=s(w,"width",h),O=s(w,"height",f);C.setBounds(P,F,L,O)}}return this},getCamera:function(a){for(var h=this.cameras,f=0;f<h.length;f++)if(h[f].name===a)return h[f];return null},getCamerasBelowPointer:function(a){for(var h=this.cameras,f=a.x,u=a.y,d=[],m=0;m<h.length;m++){var x=h[m];x.visible&&x.inputEnabled&&n(x,f,u)&&d.unshift(x)}return d},remove:function(a,h){h===void 0&&(h=!0),Array.isArray(a)||(a=[a]);for(var f=0,u=this.cameras,d=0;d<a.length;d++){var m=u.indexOf(a[d]);m!==-1&&(h?u[m].destroy():u[m].renderList=[],u.splice(m,1),f++)}return!this.main&&u[0]&&(this.main=u[0]),f},render:function(a,h){for(var f=this.scene,u=this.cameras,d=0;d<u.length;d++){var m=u[d];if(m.visible&&m.alpha>0){m.preRender();var x=this.getVisibleChildren(h.getChildren(),m);a.render(f,x,m)}}},getVisibleChildren:function(a,h){return a.filter(function(f){return f.willRender(h)})},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(a,h)},onResize:function(a,h,f,u,d){for(var m=0;m<this.cameras.length;m++){var x=this.cameras[m];x._x===0&&x._y===0&&x._width===u&&x._height===d&&x.setSize(h.width,h.height)}},resize:function(a,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(a,h)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var h=this.systems.events;h.off(r.UPDATE,this.update,this),h.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(r.START,this.start,this),this.systems.events.off(r.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});i.register("CameraManager",l,"cameras"),c.exports=l},5020:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(19715),i=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,r,l,a,h,f,u){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=r,this.green=l,this.blue=a,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u;var d=n?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,r,l,a),this.camera},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,l=this.red/255,a=this.green/255,h=this.blue/255;return n.drawFillRect(r.x,r.y,r.width,r.height,e(h,a,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=i},10662:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(19715),i=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,r,l,a,h,f){return n===void 0&&(n=250),e===void 0&&(e=255),r===void 0&&(r=255),l===void 0&&(l=255),a===void 0&&(a=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene),!a&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=r,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(s.FLASH_START,this.camera,this,n,e,r,l),this.camera)},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var r=this.camera,l=this.red/255,a=this.green/255,h=this.blue/255;return n.drawFillRect(r.x,r.y,r.width,r.height,e(h,a,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=i},20359:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(62640),i=t(19715),n=t(26099),e=new v({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,l,a,h,f,u,d){a===void 0&&(a=1e3),h===void 0&&(h=s.Linear),f===void 0&&(f=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var m=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(r,l),m.getScroll(r,l,this.current),typeof h=="string"&&s.hasOwnProperty(h)?this.ease=s[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(i.PAN_START,this.camera,this,a,r,l)),m},update:function(r,l){if(this.isRunning){this._elapsed+=l;var a=o(this._elapsed/this.duration,0,1);this.progress=a;var h=this.camera;if(this._elapsed<this.duration){var f=this.ease(a);h.getScroll(this.destination.x,this.destination.y,this.current);var u=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;h.setScroll(u,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,a,u,d)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,a,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=e},34208:(c,y,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=t(45319),v=t(83419),s=t(19715),i=t(62640),n=new v({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,r,l,a,h,f,u){l===void 0&&(l=1e3),a===void 0&&(a=i.Linear),h===void 0&&(h=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;d=d-Math.floor(d/m)*m;var x=this.camera;if(!h&&this.isRunning)return x;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=x.rotation,this.destination=d,typeof a=="string"&&i.hasOwnProperty(a)?this.ease=i[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u,this.shortestPath){var S=0,T=0;this.destination>this.source?S=Math.abs(this.destination-this.source):S=Math.abs(this.destination+m)-this.source,this.source>this.destination?T=Math.abs(this.source-this.destination):T=Math.abs(this.source+m)-this.destination,S<T?this.clockwise=!0:S>T&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,l,d),x},update:function(e,r){if(this.isRunning){this._elapsed+=r;var l=o(this._elapsed/this.duration,0,1);this.progress=l;var a=this.camera;if(this._elapsed<this.duration){var h=this.ease(l);this.current=a.rotation;var f=0,u=360*Math.PI/180,d=this.destination,m=this.current;this.clockwise===!1&&(d=this.current,m=this.destination),d>=m?f=Math.abs(d-m):f=Math.abs(d+u)-m;var x=0;this.clockwise?x=a.rotation+f*h:x=a.rotation-f*h,a.rotation=x,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,l,x)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=n},30330:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(19715),i=t(26099),n=new v({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new i,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,r,l,a,h){return e===void 0&&(e=100),r===void 0&&(r=.05),l===void 0&&(l=!1),a===void 0&&(a=null),h===void 0&&(h=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=h,this.camera.emit(s.SHAKE_START,this.camera,this,e,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,r){if(this.isRunning)if(this._elapsed+=r,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,a=this.camera.width,h=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*a*2-l.x*a)*f,this._offsetY=(Math.random()*l.y*h*2-l.y*h)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=n},45641:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(62640),i=t(19715),n=new v({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,r,l,a,h,f){r===void 0&&(r=1e3),l===void 0&&(l=s.Linear),a===void 0&&(a=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene);var u=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=u.zoom,this.destination=e,typeof l=="string"&&s.hasOwnProperty(l)?this.ease=s[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(i.ZOOM_START,this.camera,this,r,e)),u},update:function(e,r){this.isRunning&&(this._elapsed+=r,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=n},20052:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},32726:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},87807:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},45917:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},95666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},47056:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},91261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},45047:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="followupdate"},81927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},74264:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},54419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},79330:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},93183:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},80112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},62252:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},86017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},539:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},51892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},19715:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(35154),s=new o({initialize:function(n){this.camera=v(n,"camera",null),this.left=v(n,"left",null),this.right=v(n,"right",null),this.up=v(n,"up",null),this.down=v(n,"down",null),this.zoomIn=v(n,"zoomIn",null),this.zoomOut=v(n,"zoomOut",null),this.zoomSpeed=v(n,"zoomSpeed",.01),this.minZoom=v(n,"minZoom",.001),this.maxZoom=v(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(n,"speed.x",0),this.speedY=v(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(i){return this.camera=i,this},update:function(i){if(this.active){i===void 0&&(i=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*i|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*i|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*i|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*i|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=s},58818:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(35154),s=new o({initialize:function(n){this.camera=v(n,"camera",null),this.left=v(n,"left",null),this.right=v(n,"right",null),this.up=v(n,"up",null),this.down=v(n,"down",null),this.zoomIn=v(n,"zoomIn",null),this.zoomOut=v(n,"zoomOut",null),this.zoomSpeed=v(n,"zoomSpeed",.01),this.minZoom=v(n,"minZoom",.001),this.maxZoom=v(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(n,"acceleration.x",0),this.accelY=v(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=v(n,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=v(n,"drag.x",0),this.dragY=v(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=v(n,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=v(n,"maxSpeed.x",0),this.maxSpeedY=v(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(i){return this.camera=i,this},update:function(i){if(this.active){i===void 0&&(i=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*i,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*i,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*i,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*i,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*i|0),this._speedY!==0&&(n.scrollY-=this._speedY*i|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=s},38865:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=o},69547:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(8054),s=t(42363),i=t(82264),n=t(95540),e=t(35154),r=t(41212),l=t(29747),a=t(75508),h=t(36060),f=t(80333),u=new o({initialize:function(m){m===void 0&&(m={});var x=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],S="#ffffff",T=e(m,"scale",null);this.width=e(T,"width",1024,m),this.height=e(T,"height",768,m),this.zoom=e(T,"zoom",1,m),this.parent=e(T,"parent",void 0,m),this.scaleMode=e(T,T?"mode":"scaleMode",0,m),this.expandParent=e(T,"expandParent",!0,m),this.autoRound=e(T,"autoRound",!1,m),this.autoCenter=e(T,"autoCenter",0,m),this.resizeInterval=e(T,"resizeInterval",500,m),this.fullscreenTarget=e(T,"fullscreenTarget",null,m),this.minWidth=e(T,"min.width",0,m),this.maxWidth=e(T,"max.width",0,m),this.minHeight=e(T,"min.height",0,m),this.maxHeight=e(T,"max.height",0,m),this.snapWidth=e(T,"snap.width",0,m),this.snapHeight=e(T,"snap.height",0,m),this.renderType=e(m,"type",v.AUTO),this.canvas=e(m,"canvas",null),this.context=e(m,"context",null),this.canvasStyle=e(m,"canvasStyle",null),this.customEnvironment=e(m,"customEnvironment",!1),this.sceneConfig=e(m,"scene",null),this.seed=e(m,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=e(m,"title",""),this.gameURL=e(m,"url","https://phaser.io"),this.gameVersion=e(m,"version",""),this.autoFocus=e(m,"autoFocus",!0),this.stableSort=e(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=i.browser.es2019?1:0),i.features.stableSort=this.stableSort,this.domCreateContainer=e(m,"dom.createContainer",!1),this.domPointerEvents=e(m,"dom.pointerEvents","none"),this.inputKeyboard=e(m,"input.keyboard",!0),this.inputKeyboardEventTarget=e(m,"input.keyboard.target",window),this.inputKeyboardCapture=e(m,"input.keyboard.capture",[]),this.inputMouse=e(m,"input.mouse",!0),this.inputMouseEventTarget=e(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(m,"input.touch",i.input.touch),this.inputTouchEventTarget=e(m,"input.touch.target",null),this.inputTouchCapture=e(m,"input.touch.capture",!0),this.inputActivePointers=e(m,"input.activePointers",1),this.inputSmoothFactor=e(m,"input.smoothFactor",0),this.inputWindowEvents=e(m,"input.windowEvents",!0),this.inputGamepad=e(m,"input.gamepad",!1),this.inputGamepadEventTarget=e(m,"input.gamepad.target",window),this.disableContextMenu=e(m,"disableContextMenu",!1),this.audio=e(m,"audio",{}),this.hideBanner=e(m,"banner",null)===!1,this.hidePhaser=e(m,"banner.hidePhaser",!1),this.bannerTextColor=e(m,"banner.text",S),this.bannerBackgroundColor=e(m,"banner.background",x),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(m,"fps",null),this.disablePreFX=e(m,"disablePreFX",!1),this.disablePostFX=e(m,"disablePostFX",!1);var C=e(m,"render",null);this.pipeline=e(C,"pipeline",null,m),this.autoMobilePipeline=e(C,"autoMobilePipeline",!0,m),this.defaultPipeline=e(C,"defaultPipeline",h.MULTI_PIPELINE,m),this.antialias=e(C,"antialias",!0,m),this.antialiasGL=e(C,"antialiasGL",!0,m),this.mipmapFilter=e(C,"mipmapFilter","",m),this.desynchronized=e(C,"desynchronized",!1,m),this.roundPixels=e(C,"roundPixels",!0,m),this.pixelArt=e(C,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(C,"transparent",!1,m),this.clearBeforeRender=e(C,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=e(C,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=e(C,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=e(C,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=e(C,"powerPreference","default",m),this.batchSize=e(C,"batchSize",4096,m),this.maxTextures=e(C,"maxTextures",-1,m),this.maxLights=e(C,"maxLights",10,m);var A=e(m,"backgroundColor",0);this.backgroundColor=f(A),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(m,"callbacks.preBoot",l),this.postBoot=e(m,"callbacks.postBoot",l),this.physics=e(m,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(m,"loader.baseURL",""),this.loaderPath=e(m,"loader.path",""),this.loaderMaxParallelDownloads=e(m,"loader.maxParallelDownloads",i.os.android?6:32),this.loaderCrossOrigin=e(m,"loader.crossOrigin",void 0),this.loaderResponseType=e(m,"loader.responseType",""),this.loaderAsync=e(m,"loader.async",!0),this.loaderUser=e(m,"loader.user",""),this.loaderPassword=e(m,"loader.password",""),this.loaderTimeout=e(m,"loader.timeout",0),this.loaderWithCredentials=e(m,"loader.withCredentials",!1),this.loaderImageLoadType=e(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(m,"fx.glow.quality",.1),this.glowFXDistance=e(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=e(m,"plugins",null),P=s.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:r(w)&&(this.installGlobalPlugins=n(w,"global",[]),this.installScenePlugins=n(w,"scene",[]),Array.isArray(w.default)?P=w.default:Array.isArray(w.defaultMerge)&&(P=P.concat(w.defaultMerge)))),this.defaultPlugins=P;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(m,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(m,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});c.exports=u},86054:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20623),v=t(27919),s=t(8054),i=t(89357),n=function(e){var r=e.config;if((r.customEnvironment||r.canvas)&&r.renderType===s.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==s.HEADLESS)if(r.renderType===s.AUTO&&(r.renderType=i.webGL?s.WEBGL:s.CANVAS),r.renderType===s.WEBGL){if(!i.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(r.renderType===s.CANVAS){if(!i.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+r.renderType);r.antialias||v.disableSmoothing();var l=e.scale.baseSize,a=l.width,h=l.height;if(r.canvas?(e.canvas=r.canvas,e.canvas.width=a,e.canvas.height=h):e.canvas=v.create(e,a,h,r.renderType),r.canvasStyle&&(e.canvas.style=r.canvasStyle),r.antialias||o.setCrisp(e.canvas),r.renderType!==s.HEADLESS){var f,u;f=t(68627),u=t(74797),r.renderType===s.WEBGL?e.renderer=new u(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};c.exports=n},96391:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),v=function(s){var i=s.config;if(!i.hideBanner){var n="WebGL";i.renderType===o.CANVAS?n="Canvas":i.renderType===o.HEADLESS&&(n="Headless");var e=i.audio,r=s.device.audio,l;if(r.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!r.webAudio&&!r.audioData?l="No Audio":l="HTML5 Audio",s.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var a="",h=[a];if(Array.isArray(i.bannerBackgroundColor)){var f;i.bannerBackgroundColor.forEach(function(d){a=a.concat("%c "),h.push("background: "+d),f=d}),h[h.length-1]="color: "+i.bannerTextColor+"; background: "+f}else a=a.concat("%c "),h.push("color: "+i.bannerTextColor+"; background: "+i.bannerBackgroundColor);h.push("background: transparent"),i.gameTitle&&(a=a.concat(i.gameTitle),i.gameVersion&&(a=a.concat(" v"+i.gameVersion)),i.hidePhaser||(a=a.concat(" / ")));var u="";i.hidePhaser||(a=a.concat("Phaser v"+o.VERSION+u+" ("+n+" | "+l+")")),a=a.concat(" %c "+i.gameURL),h[0]=a,console.log.apply(console,h)}}};c.exports=v},50127:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),v=t(60848),s=t(24047),i=t(27919),n=t(83419),e=t(69547),r=t(83719),l=t(86054),a=t(45893),h=t(96391),f=t(82264),u=t(57264),d=t(50792),m=t(8443),x=t(7003),S=t(37277),T=t(77332),C=t(76531),A=t(60903),w=t(69442),P=t(17130),F=t(65898),L=t(51085),O=t(14747),I=new n({initialize:function(U){this.config=new e(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new v(this),this.textures=new P(this),this.cache=new s(this),this.registry=new a(this,new d),this.input=new x(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=f,this.scale=new C(this,this.config),this.sound=null,this.sound=O.create(this),this.loop=new F(this,this.config.fps),this.plugins=new T(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,u(this.boot.bind(this))},boot:function(){if(!S.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),r(this),h(this),o(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var B=this.events;B.on(m.HIDDEN,this.onHidden,this),B.on(m.VISIBLE,this.onVisible,this),B.on(m.BLUR,this.onBlur,this),B.on(m.FOCUS,this.onFocus,this)},step:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(m.PRE_STEP,B,U),H.emit(m.STEP,B,U),this.scene.update(B,U),H.emit(m.POST_STEP,B,U);var Z=this.renderer;Z.preRender(),H.emit(m.PRE_RENDER,Z,B,U),this.scene.render(Z),Z.postRender(),H.emit(m.POST_RENDER,Z,B,U)}},headlessStep:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(m.PRE_STEP,B,U),H.emit(m.STEP,B,U),this.scene.update(B,U),H.emit(m.POST_STEP,B,U),this.scene.isProcessing=!1,H.emit(m.PRE_RENDER,null,B,U),H.emit(m.POST_RENDER,null,B,U)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(i.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=I},65898:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(35154),s=t(29747),i=t(43092),n=new o({initialize:function(r,l){this.game=r,this.raf=new i,this.started=!1,this.running=!1,this.minFps=v(l,"min",5),this.targetFps=v(l,"target",60),this.fpsLimit=v(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=v(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(l,"deltaHistory",10),this.panicMax=v(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var r=this.deltaIndex,l=this.deltaHistory,a=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[r],e=Math.min(e,this._min)),l[r]=e,this.deltaIndex++,this.deltaIndex>=a&&(this.deltaIndex=0);for(var h=0,f=0;f<a;f++)h+=l[f];return h/=a,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta+=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,r),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var r=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+r));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=n},51085:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8443),v=function(s){var i,n=s.events;if(document.hidden!==void 0)i="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},i=l+"visibilitychange")})}var r=function(l){document.hidden||l.type==="pause"?n.emit(o.HIDDEN):n.emit(o.VISIBLE)};i&&document.addEventListener(i,r,!1),window.onblur=function(){n.emit(o.BLUR)},window.onfocus=function(){n.emit(o.FOCUS)},window.focus&&s.config.autoFocus&&window.focus()};c.exports=v},97217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},47548:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},19814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},68446:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},41700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},25432:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},65942:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},59211:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},47789:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},39066:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},460:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},16175:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},42331:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},11966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},32969:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="systemready"},94830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},8443:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(5290),v=t(27919),s=t(35154),i=function(n){var e=s(n,"data",[]),r=s(n,"canvas",null),l=s(n,"palette",o),a=s(n,"pixelWidth",1),h=s(n,"pixelHeight",a),f=s(n,"resizeCanvas",!0),u=s(n,"clearCanvas",!0),d=s(n,"preRender",null),m=s(n,"postRender",null),x=Math.floor(Math.abs(e[0].length*a)),S=Math.floor(Math.abs(e.length*h));r||(r=v.create2D(this,x,S),f=!1,u=!1),f&&(r.width=x,r.height=S);var T=r.getContext("2d",{willReadFrequently:!0});u&&T.clearRect(0,0,x,S),d&&d(r,T);for(var C=0;C<e.length;C++)for(var A=e[C],w=0;w<A.length;w++){var P=A[w];P!=="."&&P!==" "&&(T.fillStyle=l[P],T.fillRect(w*a,C*h,a,h))}return m&&m(r,T),r};c.exports=i},15822:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(36316),s=t(80021),i=t(26099),n=new o({Extends:s,initialize:function(r,l,a,h){s.call(this,"CubicBezierCurve"),Array.isArray(r)&&(h=new i(r[6],r[7]),a=new i(r[4],r[5]),l=new i(r[2],r[3]),r=new i(r[0],r[1])),this.p0=r,this.p1=l,this.p2=a,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new i);var l=this.p0,a=this.p1,h=this.p2,f=this.p3;return r.set(v(e,l.x,a.x,h.x,f.x),v(e,l.y,a.y,h.y,f.y))},draw:function(e,r){r===void 0&&(r=32);var l=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var a=1;a<l.length;a++)e.lineTo(l[a].x,l[a].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var r=e.points,l=new i(r[0],r[1]),a=new i(r[2],r[3]),h=new i(r[4],r[5]),f=new i(r[6],r[7]);return new n(l,a,h,f)},c.exports=n},80021:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(19217),s=t(87841),i=t(26099),n=new o({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new i,this._tmpVec2B=new i},draw:function(e,r){return r===void 0&&(r=32),e.strokePoints(this.getPoints(r))},getBounds:function(e,r){e||(e=new s),r===void 0&&(r=16);var l=this.getLength();r>l&&(r=l/2);var a=Math.max(1,Math.round(l/r));return v(this.getSpacedPoints(a),e)},getDistancePoints:function(e){var r=this.getLength(),l=Math.max(1,r/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new i),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],l,a=this.getPoint(0,this._tmpVec2A),h=0;r.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),h+=l.distance(a),r.push(h),a.copy(l);return this.cacheArcLengths=r,r},getPointAt:function(e,r){var l=this.getUtoTmapping(e);return this.getPoint(l,r)},getPoints:function(e,r,l){l===void 0&&(l=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var a=0;a<=e;a++)l.push(this.getPoint(a/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new i),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,r,l){l===void 0&&(l=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var a=0;a<=e;a++){var h=this.getUtoTmapping(a/e,null,e);l.push(this.getPoint(h))}return l},getStartPoint:function(e){return e===void 0&&(e=new i),this.getPointAt(0,e)},getTangent:function(e,r){r===void 0&&(r=new i);var l=1e-4,a=e-l,h=e+l;return a<0&&(a=0),h>1&&(h=1),this.getPoint(a,this._tmpVec2A),this.getPoint(h,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,r){var l=this.getUtoTmapping(e);return this.getTangent(l,r)},getTFromDistance:function(e,r){return e<=0?0:this.getUtoTmapping(0,e,r)},getUtoTmapping:function(e,r,l){var a=this.getLengths(l),h=0,f=a.length,u;r?u=Math.min(r,a[f-1]):u=e*a[f-1];for(var d=0,m=f-1,x;d<=m;)if(h=Math.floor(d+(m-d)/2),x=a[h]-u,x<0)d=h+1;else if(x>0)m=h-1;else{m=h;break}if(h=m,a[h]===u)return h/(f-1);var S=a[h],T=a[h+1],C=T-S,A=(u-S)/C;return(h+A)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=n},73825:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(80021),s=t(39506),i=t(35154),n=t(43396),e=t(26099),r=new o({Extends:v,initialize:function(a,h,f,u,d,m,x,S){if(typeof a=="object"){var T=a;a=i(T,"x",0),h=i(T,"y",0),f=i(T,"xRadius",0),u=i(T,"yRadius",f),d=i(T,"startAngle",0),m=i(T,"endAngle",360),x=i(T,"clockwise",!1),S=i(T,"rotation",0)}else u===void 0&&(u=f),d===void 0&&(d=0),m===void 0&&(m=360),x===void 0&&(x=!1),S===void 0&&(S=0);v.call(this,"EllipseCurve"),this.p0=new e(a,h),this._xRadius=f,this._yRadius=u,this._startAngle=s(d),this._endAngle=s(m),this._clockwise=x,this._rotation=s(S)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,a){a===void 0&&(a=new e);for(var h=Math.PI*2,f=this._endAngle-this._startAngle,u=Math.abs(f)<Number.EPSILON;f<0;)f+=h;for(;f>h;)f-=h;f<Number.EPSILON&&(u?f=0:f=h),this._clockwise&&!u&&(f===h?f=-h:f=f-h);var d=this._startAngle+l*f,m=this.p0.x+this._xRadius*Math.cos(d),x=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var S=Math.cos(this._rotation),T=Math.sin(this._rotation),C=m-this.p0.x,A=x-this.p0.y;m=C*S-A*T+this.p0.x,x=C*T+A*S+this.p0.y}return a.set(m,x)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return n(this._startAngle)},set:function(l){this._startAngle=s(l)}},endAngle:{get:function(){return n(this._endAngle)},set:function(l){this._endAngle=s(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return n(this._rotation)},set:function(l){this._rotation=s(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});r.fromJSON=function(l){return new r(l)},c.exports=r},33951:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(80021),s=t(19217),i=t(87841),n=t(26099),e=new o({Extends:v,initialize:function(l,a){v.call(this,"LineCurve"),Array.isArray(l)&&(a=new n(l[2],l[3]),l=new n(l[0],l[1])),this.p0=l,this.p1=a,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new i),s([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new n),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,l){return l===void 0&&(l=new n),r===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),l)},getPointAt:function(r,l){return this.getPoint(r,l)},getTangent:function(r,l){return l===void 0&&(l=new n),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(r,l,a){var h;if(l){var f=this.getLengths(a),u=f[f.length-1],d=Math.min(l,u);h=d/u}else h=r;return h},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(r){var l=r.points,a=new n(l[0],l[1]),h=new n(l[2],l[3]);return new e(a,h)},c.exports=e},14744:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(80021),s=t(32112),i=t(26099),n=new o({Extends:v,initialize:function(r,l,a){v.call(this,"QuadraticBezierCurve"),Array.isArray(r)&&(a=new i(r[4],r[5]),l=new i(r[2],r[3]),r=new i(r[0],r[1])),this.p0=r,this.p1=l,this.p2=a},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new i);var l=this.p0,a=this.p1,h=this.p2;return r.set(s(e,l.x,a.x,h.x),s(e,l.y,a.y,h.y))},draw:function(e,r){r===void 0&&(r=32);var l=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var a=1;a<l.length;a++)e.lineTo(l[a].x,l[a].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var r=e.points,l=new i(r[0],r[1]),a=new i(r[2],r[3]),h=new i(r[4],r[5]);return new n(l,a,h)},c.exports=n},42534:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),v=t(83419),s=t(80021),i=t(26099),n=new v({Extends:s,initialize:function(r){r===void 0&&(r=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(e){for(var r=0;r<e.length;r++){var l=new i;typeof e[r]=="number"?(l.x=e[r],l.y=e[r+1],r++):Array.isArray(e[r])?(l.x=e[r][0],l.y=e[r][1]):(l.x=e[r].x,l.y=e[r].y),this.points.push(l)}return this},addPoint:function(e,r){var l=new i(e,r);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,r){r===void 0&&(r=new i);var l=this.points,a=(l.length-1)*e,h=Math.floor(a),f=a-h,u=l[h===0?h:h-1],d=l[h],m=l[h>l.length-2?l.length-1:h+1],x=l[h>l.length-3?l.length-1:h+2];return r.set(o(f,u.x,d.x,m.x,x.x),o(f,u.y,d.y,m.y,x.y))},toJSON:function(){for(var e=[],r=0;r<this.points.length;r++)e.push(this.points[r].x),e.push(this.points[r].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},c.exports=n},25410:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(26099),s=new o({initialize:function(n,e){this.active=!1,this.p0=new v(n,e)},getPoint:function(i,n){return n===void 0&&(n=new v),n.copy(this.p0)},getPointAt:function(i,n){return this.getPoint(i,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=s},46669:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(46728),s=t(73825),i=t(39429),n=t(33951),e=t(68618),r=t(14744),l=t(87841),a=t(42534),h=t(26099),f=t(36383),u=new o({initialize:function(m,x){m===void 0&&(m=0),x===void 0&&(x=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,x)},add:function(d){return this.curves.push(d),this},circleTo:function(d,m,x){return m===void 0&&(m=!1),this.ellipseTo(d,d,0,360,m,x)},closePath:function(){var d=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return d.equals(m)||this.curves.push(new n(m,d)),this},cubicBezierTo:function(d,m,x,S,T,C){var A=this.getEndPoint(),w,P,F;return d instanceof h?(w=d,P=m,F=x):(w=new h(x,S),P=new h(T,C),F=new h(d,m)),this.add(new v(A,w,P,F))},quadraticBezierTo:function(d,m,x,S){var T=this.getEndPoint(),C,A;return d instanceof h?(C=d,A=m):(C=new h(x,S),A=new h(d,m)),this.add(new r(T,C,A))},draw:function(d,m){for(var x=0;x<this.curves.length;x++){var S=this.curves[x];S.active&&S.draw(d,m)}return d},ellipseTo:function(d,m,x,S,T,C){var A=new s(0,0,d,m,x,S,T,C),w=this.getEndPoint(this._tmpVec2A),P=A.getStartPoint(this._tmpVec2B);return w.subtract(P),A.x=w.x,A.y=w.y,this.add(A)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var m=0;m<d.curves.length;m++){var x=d.curves[m];switch(x.type){case"LineCurve":this.add(n.fromJSON(x));break;case"EllipseCurve":this.add(s.fromJSON(x));break;case"SplineCurve":this.add(a.fromJSON(x));break;case"CubicBezierCurve":this.add(v.fromJSON(x));break;case"QuadraticBezierCurve":this.add(r.fromJSON(x));break}}return this},getBounds:function(d,m){d===void 0&&(d=new l),m===void 0&&(m=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var x=new l,S=f.MIN_SAFE_INTEGER,T=f.MIN_SAFE_INTEGER,C=0;C<this.curves.length;C++){var A=this.curves[C];A.active&&(A.getBounds(x,m),d.x=Math.min(d.x,x.x),d.y=Math.min(d.y,x.y),S=Math.max(S,x.right),T=Math.max(T,x.bottom))}return d.right=S,d.bottom=T,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],m=0,x=0;x<this.curves.length;x++)m+=this.curves[x].getLength(),d.push(m);return this.cacheLengths=d,d},getCurveAt:function(d){for(var m=d*this.getLength(),x=this.getCurveLengths(),S=0;S<x.length;){if(x[S]>=m)return this.curves[S];S++}return null},getEndPoint:function(d){return d===void 0&&(d=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,m){m===void 0&&(m=new h);for(var x=d*this.getLength(),S=this.getCurveLengths(),T=0;T<S.length;){if(S[T]>=x){var C=S[T]-x,A=this.curves[T],w=A.getLength(),P=w===0?0:1-C/w;return A.getPointAt(P,m)}T++}return null},getPoints:function(d,m){!d&&!m&&(d=this.defaultDivisions);for(var x=[],S,T=0;T<this.curves.length;T++){var C=this.curves[T];if(C.active)for(var A=C.getResolution(d),w=C.getPoints(A,m),P=0;P<w.length;P++){var F=w[P];S&&S.equals(F)||(x.push(F),S=F)}}return this.autoClose&&x.length>1&&!x[x.length-1].equals(x[0])&&x.push(x[0]),x},getRandomPoint:function(d){return d===void 0&&(d=new h),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var m=[],x=0;x<=d;x++)m.push(this.getPoint(x/d));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(d){return d===void 0&&(d=new h),d.copy(this.startPoint)},getTangent:function(d,m){m===void 0&&(m=new h);for(var x=d*this.getLength(),S=this.getCurveLengths(),T=0;T<S.length;){if(S[T]>=x){var C=S[T]-x,A=this.curves[T],w=A.getLength(),P=w===0?0:1-C/w;return A.getTangentAt(P,m)}T++}return null},lineTo:function(d,m){d instanceof h?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,m);var x=this.getEndPoint(this._tmpVec2A);return this.add(new n([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new a(d))},moveTo:function(d,m){return d instanceof h?this.add(new e(d.x,d.y)):this.add(new e(d,m))},toJSON:function(){for(var d=[],m=0;m<this.curves.length;m++)d.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});i.register("path",function(d,m){return new u(d,m)}),c.exports=u},45893:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(24882),s=new o({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(i){var n=this.list;if(Array.isArray(i)){for(var e=[],r=0;r<i.length;r++)e.push(n[i[r]]);return e}else return n[i]},getAll:function(){var i={};for(var n in this.list)this.list.hasOwnProperty(n)&&(i[n]=this.list[n]);return i},query:function(i){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(i)&&(n[e]=this.list[e]);return n},set:function(i,n){if(this._frozen)return this;if(typeof i=="string")return this.setValue(i,n);for(var e in i)this.setValue(e,i[e]);return this},inc:function(i,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(i);return e===void 0&&(e=0),this.set(i,e+n),this},toggle:function(i){return this._frozen?this:(this.set(i,!this.get(i)),this)},setValue:function(i,n){if(this._frozen)return this;if(this.has(i))this.values[i]=n;else{var e=this,r=this.list,l=this.events,a=this.parent;Object.defineProperty(this.values,i,{enumerable:!0,configurable:!0,get:function(){return r[i]},set:function(h){if(!e._frozen){var f=r[i];r[i]=h,l.emit(v.CHANGE_DATA,a,i,h,f),l.emit(v.CHANGE_DATA_KEY+i,a,h,f)}}}),r[i]=n,l.emit(v.SET_DATA,a,i,n)}return this},each:function(i,n){for(var e=[this.parent,null,void 0],r=1;r<arguments.length;r++)e.push(arguments[r]);for(var l in this.list)e[1]=l,e[2]=this.list[l],i.apply(n,e);return this},merge:function(i,n){n===void 0&&(n=!0);for(var e in i)i.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,i[e]);return this},remove:function(i){if(this._frozen)return this;if(Array.isArray(i))for(var n=0;n<i.length;n++)this.removeValue(i[n]);else return this.removeValue(i);return this},removeValue:function(i){if(this.has(i)){var n=this.list[i];delete this.list[i],delete this.values[i],this.events.emit(v.REMOVE_DATA,this.parent,i,n)}return this},pop:function(i){var n=void 0;return!this._frozen&&this.has(i)&&(n=this.list[i],delete this.list[i],delete this.values[i],this.events.emit(v.REMOVE_DATA,this.parent,i,n)),n},has:function(i){return this.list.hasOwnProperty(i)},setFreeze:function(i){return this._frozen=i,this},reset:function(){for(var i in this.list)delete this.list[i],delete this.values[i];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(i){this._frozen=!!i}},count:{get:function(){var i=0;for(var n in this.list)this.list[n]!==void 0&&i++;return i}}});c.exports=s},63646:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(45893),s=t(37277),i=t(44594),n=new o({Extends:v,initialize:function(r){v.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(i.BOOT,this.boot,this),r.sys.events.on(i.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",n,"data"),c.exports=n},10700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},93608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},60883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},69780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},22166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},24882:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function s(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var i=document.createElement("audio"),n=!!i.canPlayType;try{if(n){var e=function(a,h){var f=i.canPlayType("audio/"+a).replace(/^no$/,"");return h?!!(f||i.canPlayType("audio/"+h).replace(/^no$/,"")):!!f};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),i.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)v.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(r===10&&l>=11||r>10)&&(v.dolby=!0)}}}}catch{}return v}c.exports=s()},84148:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function s(){var i=navigator.userAgent;return/Edg\/\d+/.test(i)?(v.edge=!0,v.es2019=!0):/OPR/.test(i)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(i)&&!o.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(i)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(i)&&o.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(i)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(i)&&!o.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(i)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(i)&&(v.silk=!0),v}c.exports=s()},89289:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function s(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var a=new Image;a.onload=function(){var h=o.create2D(a,6),f=h.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(a,2,0),!f.getImageData(2,0,1,1))return!1;var u=f.getImageData(2,0,1,1).data;o.remove(a),v.supportNewBlendModes=u[0]===255&&u[1]===0&&u[2]===0},a.src=e+"/wCKxvRF"+r},l.src=e+"AP804Oa6"+r,!1}function i(){var e=o.create2D(this,2),r=e.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var l=r.getImageData(0,0,1,1);if(l===null)return!1;r.putImageData(l,1,0);var a=r.getImageData(1,0,1,1),h=a.data[0]===l.data[0]&&a.data[1]===l.data[1]&&a.data[2]===l.data[2]&&a.data[3]===l.data[3];return o.remove(this),h}function n(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=s(),v.supportInverseAlpha=i()),v}c.exports=n()},89357:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),v=t(84148),s=t(27919),i={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var r=new ArrayBuffer(4),l=new Uint8Array(r),a=new Uint32Array(r);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,a[0]===3569595041?!0:a[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return i;i.canvas=!!window.CanvasRenderingContext2D;try{i.localStorage=!!localStorage.getItem}catch{i.localStorage=!1}i.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,i.fileSystem=!!window.requestFileSystem;var r=!1,l=function(){if(window.WebGLRenderingContext)try{var a=s.createWebGL(this),h=a.getContext("webgl")||a.getContext("experimental-webgl"),f=s.create2D(this),u=f.getContext("2d",{willReadFrequently:!0}),d=u.createImageData(1,1);return r=d.data instanceof Uint8ClampedArray,s.remove(a),s.remove(f),!!h}catch{return!1}return!1};return i.webGL=l(),i.worker=!!window.Worker,i.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,i.getUserMedia=i.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(i.getUserMedia=!1),!o.iOS&&(v.ie||v.firefox||v.chrome)&&(i.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(i.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(i.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(i.littleEndian=n()),i.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&i.littleEndian!==null&&r,i}c.exports=e()},91639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return y;var o,v="Fullscreen",s="FullScreen",i=["request"+v,"request"+s,"webkitRequest"+v,"webkitRequest"+s,"msRequest"+v,"msRequest"+s,"mozRequest"+s,"mozRequest"+v];for(o=0;o<i.length;o++)if(document.documentElement[i[o]]){y.available=!0,y.request=i[o];break}var n=["cancel"+s,"exit"+v,"webkitCancel"+s,"webkitExit"+v,"msCancel"+s,"msExit"+v,"mozCancel"+s,"mozExit"+v];if(y.available){for(o=0;o<n.length;o++)if(document[n[o]]){y.cancel=n[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}c.exports=t()},31784:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function s(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}c.exports=s()},25892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return y;var o=navigator.userAgent;/Windows/.test(o)?y.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(o)?y.android=!0:/Linux/.test(o)?y.linux=!0:/iP[ao]d|iPhone/i.test(o)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=o.toLowerCase().indexOf("iphone")!==-1,y.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?y.kindle=!0:/CrOS/.test(o)&&(y.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var v=/Silk/.test(o);return(y.windows||y.macOS||y.linux&&!v||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}c.exports=t()},43267:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function s(){if(typeof importScripts=="function")return v;var i=document.createElement("video"),n=!!i.canPlayType,e=/^no$/;try{n&&(i.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),i.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),i.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),i.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return i.parentNode&&i.parentNode.removeChild(i),v.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var a=o(r[l],"url",r[l]);if(a.indexOf("blob:")===0)return{url:a,type:""};var h;if(a.indexOf("data:")===0?h=a.split(",")[0].match(/\/(.*?);/):h=a.match(/\.([a-zA-Z0-9]+)($|\?)/),h=o(r[l],"type",h?h[1]:"").toLowerCase(),v[h])return{url:a,type:h}}return null},v}c.exports=s()},82264:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new Float32Array(20),s=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(i){return this._matrix.set(i),this._dirty=!0,this},reset:function(){var i=this._matrix;return i.fill(0),i[0]=1,i[6]=1,i[12]=1,i[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var i=this._data;return this._dirty&&(i.set(this._matrix),i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,this._dirty=!1),i},brightness:function(i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var e=i;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var e=i*2/3+1,r=(e-1)*-.5;return this.multiply([e,r,r,0,0,r,e,r,0,0,r,r,e,0,0,0,0,0,1,0],n)},desaturate:function(i){return i===void 0&&(i=!1),this.saturate(-1,i)},hue:function(i,n){i===void 0&&(i=0),n===void 0&&(n=!1),i=i/180*Math.PI;var e=Math.cos(i),r=Math.sin(i),l=.213,a=.715,h=.072;return this.multiply([l+e*(1-l)+r*-l,a+e*-a+r*-a,h+e*-h+r*(1-h),0,0,l+e*-l+r*.143,a+e*(1-a)+r*.14,h+e*-h+r*-.283,0,0,l+e*-l+r*-(1-l),a+e*-a+r*a,h+e*(1-h)+r*h,0,0,0,0,0,1,0],n)},grayscale:function(i,n){return i===void 0&&(i=1),n===void 0&&(n=!1),this.saturate(-i,n)},blackWhite:function(i){return i===void 0&&(i=!1),this.multiply(s.BLACK_WHITE,i)},contrast:function(i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var e=i+1,r=-.5*(e-1);return this.multiply([e,0,0,0,r,0,e,0,0,r,0,0,e,0,r,0,0,0,1,0],n)},negative:function(i){return i===void 0&&(i=!1),this.multiply(s.NEGATIVE,i)},desaturateLuminance:function(i){return i===void 0&&(i=!1),this.multiply(s.DESATURATE_LUMINANCE,i)},sepia:function(i){return i===void 0&&(i=!1),this.multiply(s.SEPIA,i)},night:function(i,n){return i===void 0&&(i=.1),n===void 0&&(n=!1),this.multiply([i*-2,-i,0,0,0,-i,0,i,0,0,0,i,i*2,0,0,0,0,0,1,0],n)},lsd:function(i){return i===void 0&&(i=!1),this.multiply(s.LSD,i)},brown:function(i){return i===void 0&&(i=!1),this.multiply(s.BROWN,i)},vintagePinhole:function(i){return i===void 0&&(i=!1),this.multiply(s.VINTAGE,i)},kodachrome:function(i){return i===void 0&&(i=!1),this.multiply(s.KODACHROME,i)},technicolor:function(i){return i===void 0&&(i=!1),this.multiply(s.TECHNICOLOR,i)},polaroid:function(i){return i===void 0&&(i=!1),this.multiply(s.POLAROID,i)},shiftToBGR:function(i){return i===void 0&&(i=!1),this.multiply(s.SHIFT_BGR,i)},multiply:function(i,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,r=v;return r.set(e),e.set([r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19]]),this._dirty=!0,this}});s.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],s.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=s},51767:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(29747),s=new o({initialize:function(n,e,r){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(n,e,r)},set:function(i,n,e){return i===void 0&&(i=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[i,n,e],this.onChange(),this},equals:function(i,n,e){var r=this._rgb;return r[0]===i&&r[1]===n&&r[2]===e},onChange:function(){this.dirty=!0;var i=this._rgb;this.onChangeCallback.call(this,i[0],i[1],i[2])},r:{get:function(){return this._rgb[0]},set:function(i){this._rgb[0]=i,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(i){this._rgb[1]=i,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(i){this._rgb[2]=i,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=s},60461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=y},54312:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(35893),s=t(86327),i=t(88417),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)+l),s(e,o(r)+a),e};c.exports=n},46768:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(26541),s=t(86327),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)-l),s(e,o(r)+a),e};c.exports=n},35827:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(54380),s=t(86327),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)+l),s(e,o(r)+a),e};c.exports=n},46871:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66786),v=t(35893),s=t(7702),i=function(n,e,r,l){return r===void 0&&(r=0),l===void 0&&(l=0),o(n,v(e)+r,s(e)+l),n};c.exports=i},5198:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),v=t(26541),s=t(20786),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)-l),s(e,o(r)+a),e};c.exports=n},11879:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),v=[];v[o.BOTTOM_CENTER]=t(54312),v[o.BOTTOM_LEFT]=t(46768),v[o.BOTTOM_RIGHT]=t(35827),v[o.CENTER]=t(46871),v[o.LEFT_CENTER]=t(5198),v[o.RIGHT_CENTER]=t(80503),v[o.TOP_CENTER]=t(89698),v[o.TOP_LEFT]=t(922),v[o.TOP_RIGHT]=t(21373),v[o.LEFT_BOTTOM]=v[o.BOTTOM_LEFT],v[o.LEFT_TOP]=v[o.TOP_LEFT],v[o.RIGHT_BOTTOM]=v[o.BOTTOM_RIGHT],v[o.RIGHT_TOP]=v[o.TOP_RIGHT];var s=function(i,n,e,r,l){return v[e](i,n,r,l)};c.exports=s},80503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),v=t(54380),s=t(20786),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)+l),s(e,o(r)+a),e};c.exports=n},89698:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),v=t(17717),s=t(88417),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)+l),i(e,v(r)-a),e};c.exports=n},922:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),v=t(17717),s=t(385),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)-l),i(e,v(r)-a),e};c.exports=n},21373:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),v=t(17717),s=t(40136),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)+l),i(e,v(r)-a),e};c.exports=n},91660:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),v=t(79291),s={In:t(91660),To:t(16694)};s=v(!1,s,o),c.exports=s},21578:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(35893),s=t(88417),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,v(r)+l),i(e,o(r)+a),e};c.exports=n},10210:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(26541),s=t(385),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,v(r)-l),i(e,o(r)+a),e};c.exports=n},82341:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(54380),s=t(40136),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,v(r)+l),i(e,o(r)+a),e};c.exports=n},87958:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(26541),s=t(86327),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)-l),s(e,o(r)+a),e};c.exports=n},40080:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),v=t(26541),s=t(20786),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)-l),s(e,o(r)+a),e};c.exports=n},88466:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),v=t(17717),s=t(40136),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)-l),i(e,v(r)-a),e};c.exports=n},38829:(c,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),v=[];v[o.BOTTOM_CENTER]=t(21578),v[o.BOTTOM_LEFT]=t(10210),v[o.BOTTOM_RIGHT]=t(82341),v[o.LEFT_BOTTOM]=t(87958),v[o.LEFT_CENTER]=t(40080),v[o.LEFT_TOP]=t(88466),v[o.RIGHT_BOTTOM]=t(19211),v[o.RIGHT_CENTER]=t(34609),v[o.RIGHT_TOP]=t(48741),v[o.TOP_CENTER]=t(49440),v[o.TOP_LEFT]=t(81288),v[o.TOP_RIGHT]=t(61323);var s=function(i,n,e,r,l){return v[e](i,n,r,l)};c.exports=s},19211:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(54380),s=t(86327),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)+l),s(e,o(r)+a),e};c.exports=n},34609:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),v=t(54380),s=t(20786),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,v(r)+l),s(e,o(r)+a),e};c.exports=n},48741:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),v=t(17717),s=t(385),i=t(66737),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),s(e,o(r)+l),i(e,v(r)-a),e};c.exports=n},49440:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),v=t(17717),s=t(86327),i=t(88417),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,o(r)+l),s(e,v(r)-a),e};c.exports=n},81288:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),v=t(17717),s=t(86327),i=t(385),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,o(r)-l),s(e,v(r)-a),e};c.exports=n},61323:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),v=t(17717),s=t(86327),i=t(40136),n=function(e,r,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(e,o(r)+l),s(e,v(r)-a),e};c.exports=n},16694:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88417),v=t(20786),s=function(i,n,e){return o(i,n),v(i,e)};c.exports=s},62235:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y+t.height-t.height*t.originY};c.exports=y},72873:(c,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(26541),s=t(54380),i=t(17717),n=t(87841),e=function(r,l){l===void 0&&(l=new n);var a=v(r),h=i(r);return l.x=a,l.y=h,l.width=s(r)-a,l.height=o(r)-h,l};c.exports=e},35893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX+t.width*.5};c.exports=y},7702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY+t.height*.5};c.exports=y},26541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX};c.exports=y},87431:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.originX};c.exports=y},46928:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height*t.originY};c.exports=y},54380:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x+t.width-t.width*t.originX};c.exports=y},17717:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY};c.exports=y},86327:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.y=o-t.height+t.height*t.originY,t};c.exports=y},88417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.width*t.originX;return t.x=o+v-t.width*.5,t};c.exports=y},20786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.height*t.originY;return t.y=o+v-t.height*.5,t};c.exports=y},385:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x=o+t.width*t.originX,t};c.exports=y},40136:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x=o-t.width+t.width*t.originX,t};c.exports=y},66737:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.y=o+t.height*t.originY,t};c.exports=y},58724:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(t){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};c.exports=y},27919:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),v=t(68703),s=[],i=!1,n=function(){var e=function(x,S,T,C,A){S===void 0&&(S=1),T===void 0&&(T=1),C===void 0&&(C=o.CANVAS),A===void 0&&(A=!1);var w,P=a(C);return P===null?(P={parent:x,canvas:document.createElement("canvas"),type:C},C===o.CANVAS&&s.push(P),w=P.canvas):(P.parent=x,w=P.canvas),A&&(P.parent=w),w.width=S,w.height=T,i&&C===o.CANVAS&&v.disable(w.getContext("2d",{willReadFrequently:!1})),w},r=function(x,S,T){return e(x,S,T,o.CANVAS)},l=function(x,S,T){return e(x,S,T,o.WEBGL)},a=function(x){if(x===void 0&&(x=o.CANVAS),x===o.WEBGL)return null;for(var S=0;S<s.length;S++){var T=s[S];if(!T.parent&&T.type===x)return T}return null},h=function(x){var S=x instanceof HTMLCanvasElement;s.forEach(function(T){(S&&T.canvas===x||!S&&T.parent===x)&&(T.parent=null,T.canvas.width=1,T.canvas.height=1)})},f=function(){var x=0;return s.forEach(function(S){S.parent&&x++}),x},u=function(){return s.length-f()},d=function(){i=!0},m=function(){i=!1};return{create2D:r,create:e,createWebGL:l,disableSmoothing:d,enableSmoothing:m,first:a,free:u,pool:s,remove:h,total:f}};c.exports=n()},68703:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",t=function(){var o=function(n){for(var e=["i","webkitI","msI","mozI","oI"],r=0;r<e.length;r++){var l=e[r]+"mageSmoothingEnabled";if(l in n)return l}return null},v=function(n){return y===""&&(y=o(n)),y&&(n[y]=!0),n},s=function(n){return y===""&&(y=o(n)),y&&(n[y]=!1),n},i=function(n){return y!==null?n[y]:null};return{disable:s,enable:v,getPrefix:o,isEnabled:i}};c.exports=t()},65208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o="none"),t.style.msTouchAction=o,t.style["ms-touch-action"]=o,t.style["touch-action"]=o,t};c.exports=y},91610:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(s){t.style[s+"user-select"]=o}),t.style["-webkit-touch-callout"]=o,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};c.exports=y},26253:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37589),s=t(1e3),i=t(7537),n=t(87837),e=new o({initialize:function(l,a,h,f){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,a,h,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,l,a,h,f){return h===void 0&&(h=255),f===void 0&&(f=!0),this._locked=!0,this.red=r,this.green=l,this.blue=a,this.alpha=h,this._locked=!1,this.update(f)},setGLTo:function(r,l,a,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=r,this.greenGL=l,this.blueGL=a,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,l,a){return i(r,l,a,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var l=this.r,a=this.g,h=this.b,f=this.a;return this._color=v(l,a,h),this._color32=s(l,a,h,f),this._rgba="rgba("+l+","+a+","+h+","+f/255+")",r&&n(l,a,h,this),this},updateHSV:function(){var r=this.r,l=this.g,a=this.b;return n(r,l,a,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,l){r===void 0&&(r=0),l===void 0&&(l=255);var a=Math.floor(r+Math.random()*(l-r)),h=Math.floor(r+Math.random()*(l-r)),f=Math.floor(r+Math.random()*(l-r));return this.setTo(a,h,f)},randomGray:function(r,l){r===void 0&&(r=0),l===void 0&&(l=255);var a=Math.floor(r+Math.random()*(l-r));return this.setTo(a,a,a)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var l=this.r,a=this.g,h=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(r/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(r/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(r/100)))),this.setTo(l,a,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,i(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,i(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,i(this._h,this._s,r,this)}}});c.exports=e},92728:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),v=function(s){s===void 0&&(s=1024);var i=[],n=255,e,r=255,l=0,a=0;for(e=0;e<=n;e++)i.push({r,g:e,b:a,color:o(r,e,a)});for(l=255,e=n;e>=0;e--)i.push({r:e,g:l,b:a,color:o(e,l,a)});for(r=0,e=0;e<=n;e++,l--)i.push({r,g:l,b:e,color:o(r,l,e)});for(l=0,a=255,e=0;e<=n;e++,a--,r++)i.push({r,g:l,b:a,color:o(r,l,a)});if(s===1024)return i;var h=[],f=0,u=1024/s;for(e=0;e<s;e++)h.push(i[Math.floor(f)]),f+=u;return h};c.exports=v},91588:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(o.a=t>>>24),o};c.exports=y},62957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.toString(16);return o.length===1?"0"+o:o};c.exports=y},37589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t<<16|o<<8|v};c.exports=y},1e3:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){return s<<24|t<<16|o<<8|v};c.exports=y},62183:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=t(89528),s=function(i,n,e){var r=e,l=e,a=e;if(n!==0){var h=e<.5?e*(1+n):e+n-e*n,f=2*e-h;r=v(f,h,i+1/3),l=v(f,h,i),a=v(f,h,i-1/3)}var u=new o;return u.setGLTo(r,l,a,1)};c.exports=s},27939:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7537),v=function(s,i){s===void 0&&(s=1),i===void 0&&(i=1);for(var n=[],e=0;e<=359;e++)n.push(o(e/359,s,i));return n};c.exports=v},7537:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589);function v(i,n,e,r){var l=(i+n*6)%6,a=Math.min(l,4-l,1);return Math.round(255*(r-r*e*Math.max(0,a)))}var s=function(i,n,e,r){n===void 0&&(n=1),e===void 0&&(e=1);var l=v(5,i,n,e),a=v(3,i,n,e),h=v(1,i,n,e);return r?r.setTo?r.setTo(l,a,h,r.alpha,!0):(r.r=l,r.g=a,r.b=h,r.color=o(l,a,h),r):{r:l,g:a,b:h,color:o(l,a,h)}};c.exports=s},70238:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=function(s){var i=new o;s=s.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,h,f,u){return h+h+f+f+u+u});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(n){var e=parseInt(n[1],16),r=parseInt(n[2],16),l=parseInt(n[3],16);i.setTo(e,r,l)}return i};c.exports=v},89528:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(o-t)*6*v:v<.5?o:v<.6666666666666666?t+(o-t)*(.6666666666666666-v)*6:t};c.exports=y},30100:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=t(90664),s=function(i){var n=v(i);return new o(n.r,n.g,n.b,n.a)};c.exports=s},90664:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};c.exports=y},13699:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),v=function(n,e,r,l,a,h,f,u){f===void 0&&(f=100),u===void 0&&(u=0);var d=u/f;return{r:o(n,l,d),g:o(e,a,d),b:o(r,h,d)}},s=function(n,e,r,l){return r===void 0&&(r=100),l===void 0&&(l=0),v(n.r,n.g,n.b,e.r,e.g,e.b,r,l)},i=function(n,e,r,l,a,h){return a===void 0&&(a=100),h===void 0&&(h=0),v(n.r,n.g,n.b,e,r,l,a,h)};c.exports={RGBWithRGB:v,ColorWithRGB:i,ColorWithColor:s}},68957:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=function(s){return new o(s.r,s.g,s.b,s.a)};c.exports=v},87388:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=function(s){var i=new o,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(s.toLowerCase());if(n){var e=parseInt(n[1],10),r=parseInt(n[2],10),l=parseInt(n[3],10),a=n[4]!==void 0?parseFloat(n[4]):1;i.setTo(e,r,l,a*255)}return i};c.exports=v},87837:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){s===void 0&&(s={h:0,s:0,v:0}),t/=255,o/=255,v/=255;var i=Math.min(t,o,v),n=Math.max(t,o,v),e=n-i,r=0,l=n===0?0:e/n,a=n;return n!==i&&(n===t?r=(o-v)/e+(o<v?6:0):n===o?r=(v-t)/e+2:n===v&&(r=(t-o)/e+4),r/=6),s.hasOwnProperty("_h")?(s._h=r,s._s=l,s._v=a):(s.h=r,s.s=l,s.v=a),s};c.exports=y},75723:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62957),v=function(s,i,n,e,r){return e===void 0&&(e=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(s<<16)+(i<<8)+n).toString(16).slice(1,7):"0x"+o(e)+o(s)+o(i)+o(n)};c.exports=v},85386:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),v=t(40987),s=function(i,n){return i===void 0&&(i=0),n===void 0&&(n=255),new v(o(i,n),o(i,n),o(i,n))};c.exports=s},80333:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70238),v=t(30100),s=t(68957),i=t(87388),n=function(e){var r=typeof e;switch(r){case"string":return e.substr(0,3).toLowerCase()==="rgb"?i(e):o(e);case"number":return v(e);case"object":return s(e)}};c.exports=n},3956:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987);o.ColorSpectrum=t(92728),o.ColorToRGBA=t(91588),o.ComponentToHex=t(62957),o.GetColor=t(37589),o.GetColor32=t(1e3),o.HexStringToColor=t(70238),o.HSLToColor=t(62183),o.HSVColorWheel=t(27939),o.HSVToRGB=t(7537),o.HueToComponent=t(89528),o.IntegerToColor=t(30100),o.IntegerToRGB=t(90664),o.Interpolate=t(13699),o.ObjectToColor=t(68957),o.RandomRGB=t(85386),o.RGBStringToColor=t(87388),o.RGBToHSV=t(87837),o.RGBToString=t(75723),o.ValueToColor=t(80333),c.exports=o},27460:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(39429),s=new o({initialize:function(n,e,r,l,a,h){e||(e=n.sys.make.image({x:r,y:l,key:a,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(i){this.bitmapMask=i},preRenderWebGL:function(i,n,e){i.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(i,n,e){i.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(i,n,e,r,l){return new s(this.scene,i,n,e,r,l)}),c.exports=s},80661:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(s){return this.geometryMask=s,this},setInvertAlpha:function(s){return s===void 0&&(s=!0),this.invertAlpha=s,this},preRenderWebGL:function(s,i,n){var e=s.gl;s.flush(),s.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),s.maskCount=0),s.currentCameraMask.mask!==this&&(s.currentMask.mask=this),s.maskStack.push({mask:this,camera:n}),this.applyStencil(s,n,!0),s.maskCount++},applyStencil:function(s,i,n){var e=s.gl,r=this.geometryMask,l=s.maskCount,a=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,l,a),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,a),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,r.renderWebGL(s,r,i),s.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,a):e.stencilFunc(e.EQUAL,l,a)},postRenderWebGL:function(s){var i=s.gl;s.maskStack.pop(),s.maskCount--,s.flush();var n=s.currentMask;if(s.maskStack.length===0)n.mask=null,i.disable(i.STENCIL_TEST);else{var e=s.maskStack[s.maskStack.length-1];e.mask.applyStencil(s,e.camera,!1),s.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(s,i,n){var e=this.geometryMask;s.currentContext.save(),e.renderCanvas(s,e,n,null,null,!0),s.currentContext.clip()},postRenderCanvas:function(s){s.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=v},69781:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e,r){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=i,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=r}});c.exports=v},40366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v;if(o)typeof o=="string"?v=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(v=o);else if(t.parentElement||o===null)return t;return v||(v=document.body),v.appendChild(t),t};c.exports=y},83719:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),v=function(s){var i=s.config;if(!(!i.parent||!i.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+s.scale.width+"px;","height: "+s.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+i.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),s.domContainer=n,o(n,i.parent)}};c.exports=v},57264:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),v=function(s){if(document.readyState==="complete"||document.readyState==="interactive"){s();return}var i=function(){document.removeEventListener("deviceready",i,!0),document.removeEventListener("DOMContentLoaded",i,!0),window.removeEventListener("load",i,!0),s()};document.body?o.cordova?document.addEventListener("deviceready",i,!1):(document.addEventListener("DOMContentLoaded",i,!0),window.addEventListener("load",i,!0)):window.setTimeout(i,20)};c.exports=v},57811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t)return window.innerHeight;var o=Math.abs(window.orientation),v={w:0,h:0},s=document.createElement("div");return s.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(s),v.w=o===90?s.offsetHeight:window.innerWidth,v.h=o===90?window.innerWidth:s.offsetHeight,document.documentElement.removeChild(s),s=null,Math.abs(window.orientation)!==90?v.h:v.w};c.exports=y},45818:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),v=function(s,i){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return i>s?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};c.exports=v},74403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o;return t!==""&&(typeof t=="string"?o=document.getElementById(t):t&&t.nodeType===1&&(o=t)),o||(o=document.body),o};c.exports=y},56836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o="";try{if(window.DOMParser){var v=new DOMParser;o=v.parseFromString(t,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(t)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};c.exports=y},35846:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){t.parentNode&&t.parentNode.removeChild(t)};c.exports=y},43092:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(29747),s=new o({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(r){n.callback(r),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(i,n,e){this.isRunning||(this.callback=i,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});c.exports=s},84902:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};c.exports=o},47565:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),s=t(37277),i=new o({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",i,"events"),c.exports=i},93055:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(47565)}},20122:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r){r===void 0&&(r=1),v.call(this,s.BARREL,e),this.amount=r}});c.exports=i},32251:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h,f,u){l===void 0&&(l=1),a===void 0&&(a=1),h===void 0&&(h=1),f===void 0&&(f=1),u===void 0&&(u=4),v.call(this,s.BLOOM,e),this.steps=u,this.offsetX=l,this.offsetY=a,this.blurStrength=h,this.strength=f,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});c.exports=i},9047:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h,f,u){r===void 0&&(r=0),l===void 0&&(l=2),a===void 0&&(a=2),h===void 0&&(h=1),u===void 0&&(u=4),v.call(this,s.BLUR,e),this.quality=r,this.x=l,this.y=a,this.steps=u,this.strength=h,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});c.exports=i},27885:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h,f,u,d){r===void 0&&(r=.5),l===void 0&&(l=1),a===void 0&&(a=.2),h===void 0&&(h=!1),f===void 0&&(f=1),u===void 0&&(u=1),d===void 0&&(d=1),v.call(this,s.BOKEH,e),this.radius=r,this.amount=l,this.contrast=a,this.isTiltShift=h,this.strength=d,this.blurX=f,this.blurY=u}});c.exports=i},12578:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h,f){r===void 0&&(r=8),h===void 0&&(h=1),f===void 0&&(f=.005),v.call(this,s.CIRCLE,e),this.scale=h,this.feather=f,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),a!=null&&(this.backgroundColor=a)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(n){this.glcolor2[3]=n}}});c.exports=i},15802:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89422),s=t(14811),i=new o({Extends:v,initialize:function(e){v.call(this),this.type=s.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=i},72898:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n){this.type=i,this.gameObject=n,this.active=!0},setActive:function(s){return this.active=s,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=v},44553:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a){r===void 0&&(r="__WHITE"),l===void 0&&(l=.005),a===void 0&&(a=.005),v.call(this,s.DISPLACEMENT,e),this.x=l,this.y=a,this.glTexture,this.setTexture(r)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});c.exports=i},68531:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h){l===void 0&&(l=4),a===void 0&&(a=0),h===void 0&&(h=!1),v.call(this,s.GLOW,e),this.outerStrength=l,this.innerStrength=a,this.knockout=h,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});c.exports=i},37102:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h,f,u,d,m){a===void 0&&(a=.2),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=1),m===void 0&&(m=0),v.call(this,s.GRADIENT,e),this.alpha=a,this.size=m,this.fromX=h,this.fromY=f,this.toX=u,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),l!=null&&(this.color2=l)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});c.exports=i},86886:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r){r===void 0&&(r=1),v.call(this,s.PIXELATE,e),this.amount=r}});c.exports=i},92322:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h,f,u,d){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=.1),h===void 0&&(h=1),u===void 0&&(u=6),d===void 0&&(d=1),v.call(this,s.SHADOW,e),this.x=r,this.y=l,this.decay=a,this.power=h,this.glcolor=[0,0,0,1],this.samples=u,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});c.exports=i},39563:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h){r===void 0&&(r=.5),l===void 0&&(l=.5),a===void 0&&(a=3),h===void 0&&(h=!1),v.call(this,s.SHINE,e),this.speed=r,this.lineWidth=l,this.gradient=a,this.reveal=h}});c.exports=i},56448:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h){r===void 0&&(r=.5),l===void 0&&(l=.5),a===void 0&&(a=.5),h===void 0&&(h=.5),v.call(this,s.VIGNETTE,e),this.x=r,this.y=l,this.radius=a,this.strength=h}});c.exports=i},38433:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),s=t(14811),i=new o({Extends:v,initialize:function(e,r,l,a,h){r===void 0&&(r=.1),l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=!1),v.call(this,s.WIPE,e),this.progress=0,this.wipeWidth=r,this.direction=l,this.axis=a,this.reveal=h}});c.exports=i},14811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=y},66064:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(14811),s={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};s=o(!1,s,v),c.exports=s},25305:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(23568),s=function(i,n,e){n.x=v(e,"x",0),n.y=v(e,"y",0),n.depth=v(e,"depth",0),n.flipX=v(e,"flipX",!1),n.flipY=v(e,"flipY",!1);var r=v(e,"scale",null);typeof r=="number"?n.setScale(r):r!==null&&(n.scaleX=v(r,"x",1),n.scaleY=v(r,"y",1));var l=v(e,"scrollFactor",null);typeof l=="number"?n.setScrollFactor(l):l!==null&&(n.scrollFactorX=v(l,"x",1),n.scrollFactorY=v(l,"y",1)),n.rotation=v(e,"rotation",0);var a=v(e,"angle",null);a!==null&&(n.angle=a),n.alpha=v(e,"alpha",1);var h=v(e,"origin",null);if(typeof h=="number")n.setOrigin(h);else if(h!==null){var f=v(h,"x",.5),u=v(h,"y",.5);n.setOrigin(f,u)}n.blendMode=v(e,"blendMode",o.NORMAL),n.visible=v(e,"visible",!0);var d=v(e,"add",!0);return d&&i.sys.displayList.add(n),n.preUpdate&&i.sys.updateList.add(n),n};c.exports=s},13059:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23568),v=function(s,i){var n=o(i,"anims",null);if(n===null)return s;if(typeof n=="string")s.anims.play(n);else if(typeof n=="object"){var e=s.anims,r=o(n,"key",void 0);if(r){var l=o(n,"startFrame",void 0),a=o(n,"delay",0),h=o(n,"repeat",0),f=o(n,"repeatDelay",0),u=o(n,"yoyo",!1),d=o(n,"play",!1),m=o(n,"delayedPlay",0),x={key:r,delay:a,repeat:h,repeatDelay:f,yoyo:u,startFrame:l};d?e.play(x):m>0?e.playAfterDelay(x,m):e.load(x)}}return s};c.exports=v},8050:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(73162),s=t(37277),i=t(51708),n=t(44594),e=t(19186),r=new o({Extends:v,initialize:function(a){v.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(i.ADDED_TO_SCENE,l,this.scene),this.events.emit(n.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(i.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,a){return l._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list;l.length;)l[0].destroy(!0);this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",r,"displayList"),c.exports=r},95643:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(53774),s=t(45893),i=t(50792),n=t(51708),e=t(44594),r=new o({Extends:i,initialize:function(a,h){i.call(this),this.scene=a,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(l,a){return this.data||(this.data=new s(this)),this.data.set(l,a),this},incData:function(l,a){return this.data||(this.data=new s(this)),this.data.inc(l,a),this},toggleData:function(l){return this.data||(this.data=new s(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new s(this)),this.data.get(l)},setInteractive:function(l,a,h){return this.scene.sys.input.enable(this,l,a,h),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(l){var a=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!a||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,a=this.parentContainer,h=[];a&&(h.unshift(a.getIndex(l)),l=a,a.parentContainer);)a=a.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(l)):h.unshift(this.scene.sys.displayList.getIndex(l)),h},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,c.exports=r},44603:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37277),s=t(44594),i=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});i.register=function(n,e){i.prototype.hasOwnProperty(n)||(i.prototype[n]=e)},i.remove=function(n){i.prototype.hasOwnProperty(n)&&delete i.prototype[n]},v.register("GameObjectCreator",i,"make"),c.exports=i},39429:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37277),s=t(44594),i=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});i.register=function(n,e){i.prototype.hasOwnProperty(n)||(i.prototype[n]=e)},i.remove=function(n){i.prototype.hasOwnProperty(n)&&delete i.prototype[n]},v.register("GameObjectFactory",i,"add"),c.exports=i},91296:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),v=new o,s=new o,i=new o,n={camera:v,sprite:s,calc:i},e=function(r,l,a){var h=v,f=s,u=i;return f.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(l.matrix),a?(h.multiplyWithOffset(a,-l.scrollX*r.scrollFactorX,-l.scrollY*r.scrollFactorY),f.e=r.x,f.f=r.y):(f.e-=l.scrollX*r.scrollFactorX,f.f-=l.scrollY*r.scrollFactorY),h.multiply(f,u),n};c.exports=e},45027:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(25774),s=t(37277),i=t(44594),n=new o({Extends:v,initialize:function(r){v.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(i.BOOT,this.boot,this),r.sys.events.on(i.START,this.start,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(i.PRE_UPDATE,this.update,this),e.on(i.UPDATE,this.sceneUpdate,this),e.once(i.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,r){for(var l=this._active,a=l.length,h=0;h<a;h++){var f=l[h];f.active&&f.preUpdate.call(f,e,r)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(i.PRE_UPDATE,this.update,this),r.off(i.UPDATE,this.sceneUpdate,this),r.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",n,"updateList"),c.exports=n},3217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i,n,e,r,l,a,h,f,u,d,m){var x=v.x-o.displayOriginX+i,S=v.y-o.displayOriginY+n,T=x+v.w,C=S+v.h,A=e.getXRound(x,S,r),w=e.getYRound(x,S,r),P=e.getXRound(x,C,r),F=e.getYRound(x,C,r),L=e.getXRound(T,C,r),O=e.getYRound(T,C,r),I=e.getXRound(T,S,r),B=e.getYRound(T,S,r);t.batchQuad(o,A,w,P,F,L,O,I,B,s.u0,s.v0,s.u1,s.v1,l,a,h,f,u,d,m)};c.exports=y},53048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){if(v===void 0&&(v=!1),s===void 0)return s={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},s;var i=t.text,n=i.length,e=t.maxWidth,r=t.wordWrapCharCode,l=Number.MAX_VALUE,a=Number.MAX_VALUE,h=0,f=0,u=t.fontData.chars,d=t.fontData.lineHeight,m=t.letterSpacing,x=t.lineSpacing,S=0,T=0,C=0,A=null,w=t._align,P=0,F=0,L=t.fontSize/t.fontData.size,O=L*t.scaleX,I=L*t.scaleY,B=null,U=0,H=[],Z=Number.MAX_VALUE,tt=0,X=0,k=0,D,z=[],Y=[],j=null;if(e>0){for(D=0;D<n;D++){if(C=i.charCodeAt(D),C===10){j!==null&&(z.push({word:j.word,i:j.i,x:j.x*O,y:j.y*I,w:j.w*O,h:j.h*I,cr:!0}),j=null),S=0,T+=d+x,B=null;continue}if(A=u[C],!!A){if(B!==null)var J=A.kerning[U];C===r?j!==null&&(z.push({word:j.word,i:j.i,x:j.x*O,y:j.y*I,w:j.w*O,h:j.h*I,cr:!1}),j=null):(j===null&&(j={word:"",i:D,x:S,y:T,w:0,h:d,cr:!1}),j.word=j.word.concat(i[D]),j.w+=A.xOffset+A.xAdvance+(J!==void 0?J:0)),S+=A.xAdvance+m,B=A,U=C}}j!==null&&z.push({word:j.word,i:j.i,x:j.x*O,y:j.y*I,w:j.w*O,h:j.h*I,cr:!1}),S=0,T=0,B=null,U=0;var it,st=0,at=[];for(D=0;D<z.length;D++){var ft=z[D],vt=ft.x,xt=ft.x+ft.w;if(it){var Ct=vt-(it.x+it.w);st=vt-(Ct+it.w),it=null}var yt=vt-st,Pt=xt-st;yt>e||Pt>e?(at.push(ft.i-1),ft.cr?(at.push(ft.i+ft.word.length),st=0,it=null):it=ft):ft.cr&&(at.push(ft.i+ft.word.length),st=0,it=null)}var Gt=function(It,Ft,St){return It.substr(0,Ft)+St+It.substr(Ft+1)};for(D=at.length-1;D>=0;D--)i=Gt(i,at[D],`
`);s.wrappedText=i,n=i.length,z=[],j=null}var Ut=0;for(D=0;D<n;D++){if(C=i.charCodeAt(D),C===10){j!==null&&(z.push({word:j.word,i:j.i,x:j.x*O,y:j.y*I,w:j.w*O,h:j.h*I}),j=null),S=0,T+=d+x,B=null,H[X]=k,k>tt&&(tt=k),k<Z&&(Z=k),X++,k=0;continue}if(A=u[C],!!A){if(P=S,F=T,B!==null){var Nt=A.kerning[U];P+=Nt!==void 0?Nt:0}l>P&&(l=P),a>F&&(a=F);var wt=P+A.xAdvance,Dt=F+d;h<wt&&(h=wt),f<Dt&&(f=Dt);var Rt=A.xOffset+A.xAdvance+(Nt!==void 0?Nt:0);C===r?j!==null&&(z.push({word:j.word,i:j.i,x:j.x*O,y:j.y*I,w:j.w*O,h:j.h*I}),j=null):(j===null&&(j={word:"",i:Ut,x:S,y:T,w:0,h:d}),j.word=j.word.concat(i[D]),j.w+=Rt),Y.push({i:Ut,idx:D,char:i[D],code:C,x:(A.xOffset+P)*L,y:(A.yOffset+T)*L,w:A.width*L,h:A.height*L,t:T*L,r:wt*L,b:d*L,line:X,glyph:A}),S+=A.xAdvance+m+(Nt!==void 0?Nt:0),B=A,U=C,k=wt*L,Ut++}}if(j!==null&&z.push({word:j.word,i:j.i,x:j.x*O,y:j.y*I,w:j.w*O,h:j.h*I}),H[X]=k,k>tt&&(tt=k),k<Z&&(Z=k),w>0)for(var Ht=0;Ht<Y.length;Ht++){var qt=Y[Ht];if(w===1){var ee=(tt-H[qt.line])/2;qt.x+=ee,qt.r+=ee}else if(w===2){var te=tt-H[qt.line];qt.x+=te,qt.r+=te}}var oe=s.local,Vt=s.global,jt=s.lines;return oe.x=l*L,oe.y=a*L,oe.width=h*L,oe.height=f*L,Vt.x=t.x-t._displayOriginX+l*O,Vt.y=t.y-t._displayOriginY+a*I,Vt.width=h*O,Vt.height=f*I,jt.shortest=Z,jt.longest=tt,jt.lengths=H,o&&(oe.x=Math.ceil(oe.x),oe.y=Math.ceil(oe.y),oe.width=Math.ceil(oe.width),oe.height=Math.ceil(oe.height),Vt.x=Math.ceil(Vt.x),Vt.y=Math.ceil(Vt.y),Vt.width=Math.ceil(Vt.width),Vt.height=Math.ceil(Vt.height),jt.shortest=Math.ceil(Z),jt.longest=Math.ceil(tt)),v&&(t._displayOriginX=t.originX*oe.width,t._displayOriginY=t.originY*oe.height,Vt.x=t.x-t._displayOriginX*t.scaleX,Vt.y=t.y-t._displayOriginY*t.scaleY,o&&(Vt.x=Math.ceil(Vt.x),Vt.y=Math.ceil(Vt.y))),s.words=z,s.characters=Y,s.lines.height=d,s.scale=L,s.scaleX=t.scaleX,s.scaleY=t.scaleY,s};c.exports=y},61327:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21859),v=function(s,i,n,e,r,l,a){var h=s.sys.textures.get(n),f=h.get(e),u=s.sys.cache.xml.get(r);if(f&&u){var d=o(u,f,l,a,h);return s.sys.cache.bitmapFont.add(i,{data:d,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};c.exports=v},6925:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v=function(s,i){var n=i.width,e=i.height,r=Math.floor(n/2),l=Math.floor(e/2),a=o(i,"chars","");if(a!==""){var h=o(i,"image",""),f=s.sys.textures.getFrame(h),u=f.cutX,d=f.cutY,m=f.source.width,x=f.source.height,S=o(i,"offset.x",0),T=o(i,"offset.y",0),C=o(i,"spacing.x",0),A=o(i,"spacing.y",0),w=o(i,"lineSpacing",0),P=o(i,"charsPerRow",null);P===null&&(P=m/n,P>a.length&&(P=a.length));for(var F=S,L=T,O={retroFont:!0,font:h,size:n,lineHeight:e+w,chars:{}},I=0,B=0;B<a.length;B++){var U=a.charCodeAt(B),H=(u+F)/m,Z=(d+L)/x,tt=(u+F+n)/m,X=(d+L+e)/x;O.chars[U]={x:F,y:L,width:n,height:e,centerX:r,centerY:l,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:H,v0:Z,u1:tt,v1:X},I++,I===P?(I=0,F=S,L+=e+A):F+=n+C}var k={data:O,frame:null,texture:h};return k}};c.exports=v},21859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(o,v){return parseInt(o.getAttribute(v),10)}var t=function(o,v,s,i,n){s===void 0&&(s=0),i===void 0&&(i=0);var e=v.cutX,r=v.cutY,l=v.source.width,a=v.source.height,h=v.sourceIndex,f={},u=o.getElementsByTagName("info")[0],d=o.getElementsByTagName("common")[0];f.font=u.getAttribute("face"),f.size=y(u,"size"),f.lineHeight=y(d,"lineHeight")+i,f.chars={};var m=o.getElementsByTagName("char"),x=v!==void 0&&v.trimmed;if(x)var S=v.height,T=v.width;for(var C=0;C<m.length;C++){var A=m[C],w=y(A,"id"),P=String.fromCharCode(w),F=y(A,"x"),L=y(A,"y"),O=y(A,"width"),I=y(A,"height");x&&(F<T&&(T=F),L<S&&(S=L)),x&&S!==0&&T!==0&&(F-=v.x,L-=v.y);var B=(e+F)/l,U=(r+L)/a,H=(e+F+O)/l,Z=(r+L+I)/a;if(f.chars[w]={x:F,y:L,width:O,height:I,centerX:Math.floor(O/2),centerY:Math.floor(I/2),xOffset:y(A,"xoffset"),yOffset:y(A,"yoffset"),xAdvance:y(A,"xadvance")+s,data:{},kerning:{},u0:B,v0:U,u1:H,v1:Z},n&&O!==0&&I!==0){var tt=n.add(P,h,F,L,O,I);tt&&tt.setUVs(O,I,B,U,H,Z)}}var X=o.getElementsByTagName("kerning");for(C=0;C<X.length;C++){var k=X[C],D=y(k,"first"),z=y(k,"second"),Y=y(k,"amount");f.chars[z].kerning[D]=Y}return f};c.exports=t},196:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87662),v=t(79291),s={Parse:t(6925)};s=v(!1,s,o),c.exports=s},87662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=y},2638:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),v=t(83419),s=t(12310),i=new v({Extends:o,Mixins:[s],initialize:function(e,r,l,a,h,f,u){o.call(this,e,r,l,a,h,f,u),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});c.exports=i},86741:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),v=function(s,i,n,e){var r=i._text,l=r.length,a=s.currentContext;if(!(l===0||!o(s,a,i,n,e))){n.addToRenderList(i);var h=i.fromAtlas?i.frame:i.texture.frames.__BASE,f=i.displayCallback,u=i.callbackData,d=i.fontData.chars,m=i.fontData.lineHeight,x=i._letterSpacing,S=0,T=0,C=0,A=null,w=0,P=0,F=0,L=0,O=0,I=0,B=null,U=0,H=i.frame.source.image,Z=h.cutX,tt=h.cutY,X=0,k=0,D=i._fontSize/i.fontData.size,z=i._align,Y=0,j=0;i.getTextBounds(!1);var J=i._bounds.lines;z===1?j=(J.longest-J.lengths[0])/2:z===2&&(j=J.longest-J.lengths[0]),a.translate(-i.displayOriginX,-i.displayOriginY);var it=n.roundPixels;i.cropWidth>0&&i.cropHeight>0&&(a.beginPath(),a.rect(0,0,i.cropWidth,i.cropHeight),a.clip());for(var st=0;st<l;st++){if(k=D,X=0,C=r.charCodeAt(st),C===10){Y++,z===1?j=(J.longest-J.lengths[Y])/2:z===2&&(j=J.longest-J.lengths[Y]),S=0,T+=m,B=null;continue}if(A=d[C],!!A){if(w=Z+A.x,P=tt+A.y,F=A.width,L=A.height,O=A.xOffset+S-i.scrollX,I=A.yOffset+T-i.scrollY,B!==null){var at=A.kerning[U];O+=at!==void 0?at:0}if(f){u.index=st,u.charCode=C,u.x=O,u.y=I,u.scale=k,u.rotation=X,u.data=A.data;var ft=f(u);O=ft.x,I=ft.y,k=ft.scale,X=ft.rotation}O*=k,I*=k,O+=j,S+=A.xAdvance+x+(at!==void 0?at:0),B=A,U=C,!(F===0||L===0||C===32)&&(it&&(O=Math.round(O),I=Math.round(I)),a.save(),a.translate(O,I),a.rotate(X),a.scale(k,k),a.drawImage(H,w,P,F,L,0,0,F,L),a.restore())}}a.restore()}};c.exports=v},11164:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),v=t(25305),s=t(44603),i=t(23568);s.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var r=i(n,"font",""),l=i(n,"text",""),a=i(n,"size",!1),h=new o(this.scene,0,0,r,l,a);return e!==void 0&&(n.add=e),v(this.scene,h,n),h})},72566:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),v=t(39429);v.register("dynamicBitmapText",function(s,i,n,e,r){return this.displayList.add(new o(this.scene,s,i,n,e,r))})},12310:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(73482),s=t(86741),c.exports={renderWebGL:v,renderCanvas:s}},73482:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(61340),s=t(70554),i=new v,n=function(e,r,l,a){var h=r.text,f=h.length;if(f!==0){l.addToRenderList(r);var u=e.pipelines.set(r.pipeline,r),d=o(r,l,a);e.pipelines.preBatch(r);var m=d.sprite,x=d.calc,S=i,T=r.cropWidth>0||r.cropHeight>0;T&&(u.flush(),e.pushScissor(x.tx,x.ty,r.cropWidth*x.scaleX,r.cropHeight*x.scaleY));var C=r.frame,A=C.glTexture,w=r.tintFill,P=s.getTintAppendFloatAlpha(r.tintTopLeft,l.alpha*r._alphaTL),F=s.getTintAppendFloatAlpha(r.tintTopRight,l.alpha*r._alphaTR),L=s.getTintAppendFloatAlpha(r.tintBottomLeft,l.alpha*r._alphaBL),O=s.getTintAppendFloatAlpha(r.tintBottomRight,l.alpha*r._alphaBR),I=u.setGameObject(r),B=0,U=0,H=0,Z=0,tt=r.letterSpacing,X,k=0,D=0,z,Y=r.scrollX,j=r.scrollY,J=r.fontData,it=J.chars,st=J.lineHeight,at=r.fontSize/J.size,ft=0,vt=r._align,xt=0,Ct=0,yt=r.getTextBounds(!1);r.maxWidth>0&&(h=yt.wrappedText,f=h.length);var Pt=r._bounds.lines;vt===1?Ct=(Pt.longest-Pt.lengths[0])/2:vt===2&&(Ct=Pt.longest-Pt.lengths[0]);for(var Gt=l.roundPixels,Ut=r.displayCallback,Nt=r.callbackData,wt=0;wt<f;wt++){if(H=h.charCodeAt(wt),H===10){xt++,vt===1?Ct=(Pt.longest-Pt.lengths[xt])/2:vt===2&&(Ct=Pt.longest-Pt.lengths[xt]),B=0,U+=st,z=null;continue}if(X=it[H],!!X){k=X.width,D=X.height;var Dt=X.xOffset+B-Y,Rt=X.yOffset+U-j;if(z!==null){var Ht=X.kerning[Z];Dt+=Ht!==void 0?Ht:0}if(B+=X.xAdvance+tt,z=X,Z=H,!(k===0||D===0||H===32)){if(at=r.fontSize/r.fontData.size,ft=0,Ut){Nt.color=0,Nt.tint.topLeft=P,Nt.tint.topRight=F,Nt.tint.bottomLeft=L,Nt.tint.bottomRight=O,Nt.index=wt,Nt.charCode=H,Nt.x=Dt,Nt.y=Rt,Nt.scale=at,Nt.rotation=ft,Nt.data=X.data;var qt=Ut(Nt);Dt=qt.x,Rt=qt.y,at=qt.scale,ft=qt.rotation,qt.color?(P=qt.color,F=qt.color,L=qt.color,O=qt.color):(P=qt.tint.topLeft,F=qt.tint.topRight,L=qt.tint.bottomLeft,O=qt.tint.bottomRight),P=s.getTintAppendFloatAlpha(P,l.alpha*r._alphaTL),F=s.getTintAppendFloatAlpha(F,l.alpha*r._alphaTR),L=s.getTintAppendFloatAlpha(L,l.alpha*r._alphaBL),O=s.getTintAppendFloatAlpha(O,l.alpha*r._alphaBR)}Dt*=at,Rt*=at,Dt-=r.displayOriginX,Rt-=r.displayOriginY,Dt+=Ct,S.applyITRS(Dt,Rt,ft,at,at),x.multiply(S,m);var ee=X.u0,te=X.v0,oe=X.u1,Vt=X.v1,jt=k,It=D,Ft=m.e,St=m.f,At=It*m.c+m.e,Lt=It*m.d+m.f,ae=jt*m.a+It*m.c+m.e,Jt=jt*m.b+It*m.d+m.f,ge=jt*m.a+m.e,ye=jt*m.b+m.f;Gt&&(Ft=Math.round(Ft),St=Math.round(St),At=Math.round(At),Lt=Math.round(Lt),ae=Math.round(ae),Jt=Math.round(Jt),ge=Math.round(ge),ye=Math.round(ye)),u.shouldFlush(6)&&(u.flush(),I=u.setGameObject(r)),u.batchQuad(r,Ft,St,At,Lt,ae,Jt,ge,ye,ee,te,oe,Vt,P,F,L,O,w,A,I)}}}T&&(u.flush(),e.popScissor()),e.pipelines.postBatch(r)}};c.exports=n},22186:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(45319),s=t(31401),i=t(95643),n=t(53048),e=t(61327),r=t(21859),l=t(87841),a=t(18658),h=new o({Extends:i,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,a],initialize:function(u,d,m,x,S,T,C){S===void 0&&(S=""),C===void 0&&(C=0),i.call(this,u,"BitmapText"),this.font=x;var A=this.scene.sys.cache.bitmapFont.get(x);A||console.warn("Invalid BitmapText key: "+x),this.fontData=A.data,this._text="",this._fontSize=T||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=C,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(d,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(S)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,u,d,m){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=.5),this.dropShadowX=f,this.dropShadowY=u,this.dropShadowColor=d,this.dropShadowAlpha=m,this},setCharacterTint:function(f,u,d,m,x,S,T){f===void 0&&(f=0),u===void 0&&(u=1),d===void 0&&(d=!1),m===void 0&&(m=-1),x===void 0&&(x=m,S=m,T=m);var C=this.text.length;u===-1&&(u=C),f<0&&(f=C+f),f=v(f,0,C-1);for(var A=v(f+u,f,C),w=this.charColors,P=f;P<A;P++){var F=w[P];if(m===-1)w[P]=null;else{var L=d?1:0;F?(F.tintEffect=L,F.tintTL=m,F.tintTR=x,F.tintBL=S,F.tintBR=T):w[P]={tintEffect:L,tintTL:m,tintTR:x,tintBL:S,tintBR:T}}}return this},setWordTint:function(f,u,d,m,x,S,T){u===void 0&&(u=1);for(var C=this.getTextBounds(),A=C.words,w=typeof f=="number",P=0,F=0;F<A.length;F++){var L=A[F];if((w&&F===f||!w&&L.word===f)&&(this.setCharacterTint(L.i,L.word.length,d,m,x,S,T),P++,P===u))return this}return this},getTextBounds:function(f){var u=this._bounds;return(this._dirty||f||this.scaleX!==u.scaleX||this.scaleY!==u.scaleY)&&(n(this,f,!0,u),this._dirty=!1),u},getCharacterAt:function(f,u,d){for(var m=this.getLocalPoint(f,u,null,d),x=this.getTextBounds(),S=x.characters,T=new l,C=0;C<S.length;C++){var A=S[C];if(T.setTo(A.x,A.t,A.r-A.x,A.b),T.contains(m.x,m.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,u,d){u===void 0&&(u=this._fontSize),d===void 0&&(d=this._align);var m=this.scene.sys.cache.bitmapFont.get(f);return m&&(this.font=f,this.fontData=m.data,this._fontSize=u,this._align=d,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),n(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,u){return this._maxWidth=f,this._dirty=!0,u!==void 0&&(this.wordWrapCharCode=u),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=s.ToJSON(this),u={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=u,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=r,c.exports=h},37289:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),v=function(s,i,n,e){var r=i._text,l=r.length,a=s.currentContext;if(!(l===0||!o(s,a,i,n,e))){n.addToRenderList(i);var h=i.fromAtlas?i.frame:i.texture.frames.__BASE,f=i.fontData.chars,u=i.fontData.lineHeight,d=i._letterSpacing,m=i._lineSpacing,x=0,S=0,T=0,C=null,A=0,w=0,P=0,F=0,L=0,O=0,I=null,B=0,U=h.source.image,H=h.cutX,Z=h.cutY,tt=i._fontSize/i.fontData.size,X=i._align,k=0,D=0,z=i.getTextBounds(!1);i.maxWidth>0&&(r=z.wrappedText,l=r.length);var Y=i._bounds.lines;X===1?D=(Y.longest-Y.lengths[0])/2:X===2&&(D=Y.longest-Y.lengths[0]),a.translate(-i.displayOriginX,-i.displayOriginY);for(var j=n.roundPixels,J=0;J<l;J++){if(T=r.charCodeAt(J),T===10){k++,X===1?D=(Y.longest-Y.lengths[k])/2:X===2&&(D=Y.longest-Y.lengths[k]),x=0,S+=u+m,I=null;continue}if(C=f[T],!!C){if(A=H+C.x,w=Z+C.y,P=C.width,F=C.height,L=C.xOffset+x,O=C.yOffset+S,I!==null){var it=C.kerning[B];L+=it!==void 0?it:0}L*=tt,O*=tt,L+=D,x+=C.xAdvance+d+(it!==void 0?it:0),I=C,B=T,!(P===0||F===0||T===32)&&(j&&(L=Math.round(L),O=Math.round(O)),a.save(),a.translate(L,O),a.scale(tt,tt),a.drawImage(U,A,w,P,F,0,0,P,F),a.restore())}}a.restore()}};c.exports=v},57336:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),v=t(25305),s=t(44603),i=t(23568),n=t(35154);s.register("bitmapText",function(e,r){e===void 0&&(e={});var l=n(e,"font",""),a=i(e,"text",""),h=i(e,"size",!1),f=n(e,"align",0),u=new o(this.scene,0,0,l,a,h,f);return r!==void 0&&(e.add=r),v(this.scene,u,e),u})},34914:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),v=t(39429);v.register("bitmapText",function(s,i,n,e,r,l){return this.displayList.add(new o(this.scene,s,i,n,e,r,l))})},18658:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(33590),s=t(37289),c.exports={renderWebGL:v,renderCanvas:s}},33590:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3217),v=t(91296),s=t(70554),i=function(n,e,r,l){var a=e._text,h=a.length;if(h!==0){r.addToRenderList(e);var f=n.pipelines.set(e.pipeline,e),u=v(e,r,l).calc;n.pipelines.preBatch(e);var d=r.roundPixels,m=r.alpha,x=e.charColors,S=e.tintFill,T=s.getTintAppendFloatAlpha,C=T(e.tintTopLeft,m*e._alphaTL),A=T(e.tintTopRight,m*e._alphaTR),w=T(e.tintBottomLeft,m*e._alphaBL),P=T(e.tintBottomRight,m*e._alphaBR),F=e.frame.glTexture,L=f.setGameObject(e),O=e.getTextBounds(!1),I,B,U,H=O.characters,Z=e.dropShadowX,tt=e.dropShadowY,X=Z!==0||tt!==0;if(X){var k=e.dropShadowColor,D=e.dropShadowAlpha,z=T(k,m*D*e._alphaTL),Y=T(k,m*D*e._alphaTR),j=T(k,m*D*e._alphaBL),J=T(k,m*D*e._alphaBR);for(I=0;I<H.length;I++)B=H[I],U=B.glyph,!(B.code===32||U.width===0||U.height===0)&&o(f,e,B,U,Z,tt,u,d,z,Y,j,J,1,F,L)}for(I=0;I<H.length;I++)if(B=H[I],U=B.glyph,!(B.code===32||U.width===0||U.height===0))if(f.shouldFlush(6)&&(f.flush(),L=f.setGameObject(e)),x[B.i]){var it=x[B.i],st=it.tintEffect,at=T(it.tintTL,m*e._alphaTL),ft=T(it.tintTR,m*e._alphaTR),vt=T(it.tintBL,m*e._alphaBL),xt=T(it.tintBR,m*e._alphaBR);o(f,e,B,U,0,0,u,d,at,ft,vt,xt,st,F,L)}else o(f,e,B,U,0,0,u,d,C,A,w,P,S,F,L);n.pipelines.postBatch(e)}};c.exports=i},6107:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48011),v=t(46590),s=t(83419),i=t(31401),n=t(4327),e=t(95643),r=t(73162),l=new s({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.PostPipeline,i.ScrollFactor,i.Size,i.Texture,i.Transform,i.Visible,o],initialize:function(h,f,u,d,m){e.call(this,h,"Blitter"),this.setTexture(d,m),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(a,h,f,u,d){u===void 0&&(u=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof n||(f=this.texture.get(f));var m=new v(this,a,h,f,u);return this.children.addAt(m,d,!1),this.dirty=!0,m},createFromCallback:function(a,h,f,u){for(var d=this.createMultiple(h,f,u),m=0;m<d.length;m++){var x=d[m];a.call(this,x,m)}return d},createMultiple:function(a,h,f){h===void 0&&(h=this.frame.name),f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);var u=[],d=this;return h.forEach(function(m){for(var x=0;x<a;x++)u.push(d.create(0,0,m,f))}),u},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=l},72396:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=o.getRenderList();if(i.length!==0){var n=t.currentContext,e=v.alpha*o.alpha;if(e!==0){v.addToRenderList(o),n.globalCompositeOperation=t.blendModes[o.blendMode],n.imageSmoothingEnabled=!o.frame.source.scaleMode;var r=o.x-v.scrollX*o.scrollFactorX,l=o.y-v.scrollY*o.scrollFactorY;n.save(),s&&s.copyToContext(n);for(var a=v.roundPixels,h=0;h<i.length;h++){var f=i[h],u=f.flipX||f.flipY,d=f.frame,m=d.canvasData,x=d.x,S=d.y,T=1,C=1,A=f.alpha*e;A!==0&&(n.globalAlpha=A,u?(f.flipX&&(T=-1,x-=m.width),f.flipY&&(C=-1,S-=m.height),m.width>0&&m.height>0&&(n.save(),n.translate(f.x+r,f.y+l),n.scale(T,C),n.drawImage(d.source.image,m.x,m.y,m.width,m.height,x,S,m.width,m.height),n.restore())):(a&&(x=Math.round(x),S=Math.round(S)),m.width>0&&m.height>0&&n.drawImage(d.source.image,m.x,m.y,m.width,m.height,x+f.x+r,S+f.y+l,m.width,m.height)))}n.restore()}}};c.exports=y},9403:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),v=t(25305),s=t(44603),i=t(23568);s.register("blitter",function(n,e){n===void 0&&(n={});var r=i(n,"key",null),l=i(n,"frame",null),a=new o(this.scene,0,0,r,l);return e!==void 0&&(n.add=e),v(this.scene,a,n),a})},12709:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),v=t(39429);v.register("blitter",function(s,i,n,e){return this.displayList.add(new o(this.scene,s,i,n,e))})},48011:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(99485),s=t(72396),c.exports={renderWebGL:v,renderCanvas:s}},99485:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),v=t(70554),s=new o,i=function(n,e,r,l){var a=e.getRenderList(),h=r.alpha*e.alpha;if(!(a.length===0||h===0)){r.addToRenderList(e);var f=n.pipelines.set(this.pipeline,e),u=r.scrollX*e.scrollFactorX,d=r.scrollY*e.scrollFactorY,m=s.copyFrom(r.matrix);l&&(m.multiplyWithOffset(l,-u,-d),u=0,d=0);var x=e.x-u,S=e.y-d,T=-1,C=!1;n.pipelines.preBatch(e);for(var A=0;A<a.length;A++){var w=a[A],P=w.frame,F=w.alpha*h;if(F!==0){var L=P.width,O=P.height,I=x+w.x+P.x,B=S+w.y+P.y;w.flipX&&(L*=-1,I+=P.width),w.flipY&&(O*=-1,B+=P.height);var U=m.setQuad(I,B,I+L,B+O),H=v.getTintAppendFloatAlpha(w.tint,F);if(P.sourceIndex!==T){var Z=f.setGameObject(e,P);T=P.sourceIndex}f.batchQuad(e,U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],P.u0,P.v0,P.u1,P.v1,H,H,H,H,C,P.glTexture,Z)&&(T=-1)}}n.pipelines.postBatch(e)}};c.exports=i},46590:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(4327),s=new o({initialize:function(n,e,r,l,a){this.parent=n,this.x=e,this.y=r,this.frame=l,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(i){return i===void 0?this.frame=this.parent.frame:i instanceof v&&i.texture===this.parent.texture?this.frame=i:this.frame=this.parent.texture.get(i),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(i,n,e){return this.x=i,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(i,n){return this.x=i,this.y=n,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,n){return this.flipX=i,this.flipY=n,this},setVisible:function(i){return this.visible=i,this},setAlpha:function(i){return this.alpha=i,this},setTint:function(i){return this.tint=i,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(i){this.parent.dirty|=this._visible!==i,this._visible=i}},alpha:{get:function(){return this._alpha},set:function(i){this.parent.dirty|=this._alpha>0!=i>0,this._alpha=i}}});c.exports=s},16005:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=2,s={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(i,n,e,r){return i===void 0&&(i=1),n===void 0?this.alpha=i:(this._alphaTL=o(i,0,1),this._alphaTR=o(n,0,1),this._alphaBL=o(e,0,1),this._alphaBR=o(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(i){var n=o(i,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(i){var n=o(i,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(i){var n=o(i,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(i){var n=o(i,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(i){var n=o(i,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=v)}}};c.exports=s},88509:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=2,s={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(i){return i===void 0&&(i=1),this.alpha=i,this},alpha:{get:function(){return this._alpha},set:function(i){var n=o(i,0,1);this._alpha=n,n===0?this.renderFlags&=~v:this.renderFlags|=v}}};c.exports=s},90065:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(s){typeof s=="string"&&(s=o[s]),s|=0,s>=-1&&(this._blendMode=s)}},setBlendMode:function(s){return this.blendMode=s,this}};c.exports=v},94215:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};c.exports=y},61683:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(t,o,v,s){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,o,v,s,this.flipX,this.flipY);else{var i=t;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=y},89272:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};c.exports=y},47059:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(66064),s=t(19133),i=new o({initialize:function(e,r){this.gameObject=e,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var r=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(r)||(r=[r]),e=0;e<r.length;e++){var l=r[e];if(l.controller===n){this.gameObject.removePostPipeline(l),n.destroy();break}}}else{var a=this.list;for(e=0;e<a.length;e++)a[e]===n&&(s(a,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var r=String(n.type);this.gameObject.setPostPipeline(r,e);var l=this.gameObject.getPostPipeline(r);if(l)return Array.isArray(l)&&(l=l.pop()),l.controller=n,n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,r,l,a,h){return this.add(new v.Glow(this.gameObject,n,e,r,l),{quality:a,distance:h})},addShadow:function(n,e,r,l,a,h,f){return this.add(new v.Shadow(this.gameObject,n,e,r,l,a,h,f))},addPixelate:function(n){return this.add(new v.Pixelate(this.gameObject,n))},addVignette:function(n,e,r,l){return this.add(new v.Vignette(this.gameObject,n,e,r,l))},addShine:function(n,e,r,l){return this.add(new v.Shine(this.gameObject,n,e,r,l))},addBlur:function(n,e,r,l,a,h){return this.add(new v.Blur(this.gameObject,n,e,r,l,a,h))},addGradient:function(n,e,r,l,a,h,f,u){return this.add(new v.Gradient(this.gameObject,n,e,r,l,a,h,f,u))},addBloom:function(n,e,r,l,a,h){return this.add(new v.Bloom(this.gameObject,n,e,r,l,a,h))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(n,e,r,l,a){return this.add(new v.Circle(this.gameObject,n,e,r,l,a))},addBarrel:function(n){return this.add(new v.Barrel(this.gameObject,n))},addDisplacement:function(n,e,r){return this.add(new v.Displacement(this.gameObject,n,e,r))},addWipe:function(n,e,r){return this.add(new v.Wipe(this.gameObject,n,e,r))},addReveal:function(n,e,r){return this.add(new v.Wipe(this.gameObject,n,e,r,!0))},addBokeh:function(n,e,r){return this.add(new v.Bokeh(this.gameObject,n,e,r))},addTiltShift:function(n,e,r,l,a,h){return this.add(new v.Bokeh(this.gameObject,n,e,r,!0,l,a,h))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=i},54434:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,o){return this.flipX=t,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=y},8004:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(11520),s=t(26099),i={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(n,this.x,this.y,this.rotation),e&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new o);var e,r,l,a,h,f,u,d;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),m.transformPoint(n.x,n.y,n),e=n.x,r=n.y,this.getTopRight(n),m.transformPoint(n.x,n.y,n),l=n.x,a=n.y,this.getBottomLeft(n),m.transformPoint(n.x,n.y,n),h=n.x,f=n.y,this.getBottomRight(n),m.transformPoint(n.x,n.y,n),u=n.x,d=n.y}else this.getTopLeft(n),e=n.x,r=n.y,this.getTopRight(n),l=n.x,a=n.y,this.getBottomLeft(n),h=n.x,f=n.y,this.getBottomRight(n),u=n.x,d=n.y;return n.x=Math.min(e,l,h,u),n.y=Math.min(r,a,f,d),n.width=Math.max(e,l,h,u)-n.x,n.height=Math.max(r,a,f,d)-n.y,n}};c.exports=i},8573:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6858),v=t(80661),s={mask:null,setMask:function(i){return this.mask=i,this},clearMask:function(i){return i===void 0&&(i=!1),i&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(i,n,e,r,l){return i===void 0&&(this.texture||this.shader||this.geom)&&(i=this),new o(this.scene,i,n,e,r,l)},createGeometryMask:function(i){return i===void 0&&(this.type==="Graphics"||this.geom)&&(i=this),new v(this.scene,i)}};c.exports=s},27387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,o){return t===void 0&&(t=.5),o===void 0&&(o=t),this.originX=t,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,o){return t===void 0&&(t=0),o===void 0&&(o=t),this.displayOriginX=t,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=y},37640:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),v=t(57355),s=t(35154),i=t(86353),n=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:i.PLAYING_FORWARD,setPath:function(r,l){l===void 0&&(l=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=r,l&&this.startFollow(l),this},setRotateToPath:function(r,l){return l===void 0&&(l=0),this.rotateToPath=r,this.pathRotationOffset=l,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,l){r===void 0&&(r={}),l===void 0&&(l=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),typeof r=="number"&&(r={duration:r}),r.from=s(r,"from",0),r.to=s(r,"to",1);var h=v(r,"positionOnPath",!1);this.rotateToPath=v(r,"rotateToPath",!1),this.pathRotationOffset=s(r,"rotationOffset",0);var f=s(r,"startAt",l);if(f&&(r.onStart=function(d){var m=d.data[0];m.progress=f,m.elapsed=m.duration*f;var x=m.ease(m.progress);m.current=m.start+(m.end-m.start)*x,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=i.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r&&r.data){var l=r.data[0],a=this.pathDelta,h=this.pathVector;if(a.copy(h).negate(),l.state===i.COMPLETE){this.path.getPoint(l.end,h),a.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(l.state!==i.PLAYING_FORWARD&&l.state!==i.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),h),a.add(h),h.add(this.pathOffset);var f=this.x,u=this.y;this.setPosition(h.x,h.y);var d=this.x-f,m=this.y-u;if(d===0&&m===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,d)+o(this.pathRotationOffset))}}};c.exports=e},72699:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(s){this.pipelineData={};var i=this.scene.sys.renderer;if(!i)return!1;var n=i.pipelines;if(n){s===void 0&&(s=n.default);var e=n.get(s);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(s,i,n){var e=this.scene.sys.renderer;if(!e)return this;var r=e.pipelines;if(r){var l=r.get(s);l&&(this.pipeline=l),i&&(this.pipelineData=n?o(i):i)}return this},setPipelineData:function(s,i){var n=this.pipelineData;return i===void 0?delete n[s]:n[s]=i,this},resetPipeline:function(s){return s===void 0&&(s=!1),this.pipeline=this.defaultPipeline,s&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};c.exports=v},17581:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),v=t(47059),s=t(19133),i={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),n&&(this.preFX=new v(this,!1))},setPostPipeline:function(n,e,r){var l=this.scene.sys.renderer;if(!l)return this;var a=l.pipelines;if(a){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var f=a.getPostPipeline(n[h],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=r?o(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var r=this.postPipelineData;return e===void 0?delete r[n]:r[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",r=this.postPipelines,l=[],a=0;a<r.length;a++){var h=r[a];(e&&h.name===n||!e&&h instanceof n)&&l.push(h)}return l.length===1?l[0]:l},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,r=0;r<e.length;r++)e[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",r=this.postPipelines,l=r.length-1;l>=0;l--){var a=r[l];(e&&a.name===n||!e&&a===n)&&(a.destroy(),s(r,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=i},80227:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,o){return o===void 0&&(o=t),this.scrollFactorX=t,this.scrollFactorY=o,this}};c.exports=y},16736:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};c.exports=y},37726:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),v=8,s={texture:null,frame:null,isCropped:!1,setTexture:function(i,n,e,r){return this.texture=this.scene.sys.textures.get(i),this.setFrame(n,e,r)},setFrame:function(i,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),i instanceof o?(this.texture=this.scene.sys.textures.get(i.texture.key),this.frame=i):this.frame=this.texture.get(i),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=s},79812:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),v=8,s={texture:null,frame:null,isCropped:!1,setCrop:function(i,n,e,r){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,n,e,r,this.flipX,this.flipY);else{var l=i;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(i,n){return this.texture=this.scene.sys.textures.get(i),this.setFrame(n)},setFrame:function(i,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),i instanceof o?(this.texture=this.scene.sys.textures.get(i.texture.key),this.frame=i):this.frame=this.texture.get(i),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=s},27472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,o,v,s){return t===void 0&&(t=16777215),o===void 0&&(o=t,v=t,s=t),this.tintTopLeft=t,this.tintTopRight=o,this.tintBottomLeft=v,this.tintBottomRight=s,this.tintFill=!1,this},setTintFill:function(t,o,v,s){return this.setTint(t,o,v,s),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};c.exports=y},53774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(o.textureKey=t.texture.key,o.frameKey=t.frame.name),o};c.exports=y},16901:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(61340),s=t(85955),i=t(86554),n=t(30954),e=t(26099),r=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,a===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,a===0?this.renderFlags&=~r:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,a===0?this.renderFlags&=~r:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return n(this._rotation*o.RAD_TO_DEG)},set:function(a){this.rotation=n(a)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=i(a)}},setPosition:function(a,h,f,u){return a===void 0&&(a=0),h===void 0&&(h=a),f===void 0&&(f=0),u===void 0&&(u=0),this.x=a,this.y=h,this.z=f,this.w=u,this},copyPosition:function(a){return a.x!==void 0&&(this.x=a.x),a.y!==void 0&&(this.y=a.y),a.z!==void 0&&(this.z=a.z),a.w!==void 0&&(this.w=a.w),this},setRandomPosition:function(a,h,f,u){return a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),this.x=a+Math.random()*f,this.y=h+Math.random()*u,this},setRotation:function(a){return a===void 0&&(a=0),this.rotation=a,this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,this},setScale:function(a,h){return a===void 0&&(a=1),h===void 0&&(h=a),this.scaleX=a,this.scaleY=h,this},setX:function(a){return a===void 0&&(a=0),this.x=a,this},setY:function(a){return a===void 0&&(a=0),this.y=a,this},setZ:function(a){return a===void 0&&(a=0),this.z=a,this},setW:function(a){return a===void 0&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return a===void 0&&(a=new v),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,h){a===void 0&&(a=new v);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(a);for(h||(h=new v),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)h.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),h.multiply(a,a),f=f.parentContainer;return a},getLocalPoint:function(a,h,f,u){f||(f=new e),u||(u=this.scene.sys.cameras.main);var d=u.scrollX,m=u.scrollY,x=a+d*this.scrollFactorX-d,S=h+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(x,S,f):s(x,S,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var a=0,h=this.parentContainer;h;)a+=h.rotation,h=h.parentContainer;return a}};c.exports=l},61340:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(36383),s=t(26099),i=new o({initialize:function(e,r,l,a,h,f){e===void 0&&(e=1),r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=1),h===void 0&&(h=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,r,l,a,h,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],r=n[1],l=n[2],a=n[3];return e||r?r>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||a?v.TAU-(a>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var r=this.matrix;return r[4]=r[0]*n+r[2]*e+r[4],r[5]=r[1]*n+r[3]*e+r[5],this},scale:function(n,e){var r=this.matrix;return r[0]*=n,r[1]*=n,r[2]*=e,r[3]*=e,this},rotate:function(n){var e=Math.sin(n),r=Math.cos(n),l=this.matrix,a=l[0],h=l[1],f=l[2],u=l[3];return l[0]=a*r+f*e,l[1]=h*r+u*e,l[2]=a*-e+f*r,l[3]=h*-e+u*r,this},multiply:function(n,e){var r=this.matrix,l=n.matrix,a=r[0],h=r[1],f=r[2],u=r[3],d=r[4],m=r[5],x=l[0],S=l[1],T=l[2],C=l[3],A=l[4],w=l[5],P=e===void 0?r:e.matrix;return P[0]=x*a+S*f,P[1]=x*h+S*u,P[2]=T*a+C*f,P[3]=T*h+C*u,P[4]=A*a+w*f+d,P[5]=A*h+w*u+m,P},multiplyWithOffset:function(n,e,r){var l=this.matrix,a=n.matrix,h=l[0],f=l[1],u=l[2],d=l[3],m=l[4],x=l[5],S=e*h+r*u+m,T=e*f+r*d+x,C=a[0],A=a[1],w=a[2],P=a[3],F=a[4],L=a[5];return l[0]=C*h+A*u,l[1]=C*f+A*d,l[2]=w*h+P*u,l[3]=w*f+P*d,l[4]=F*h+L*u+S,l[5]=F*f+L*d+T,this},transform:function(n,e,r,l,a,h){var f=this.matrix,u=f[0],d=f[1],m=f[2],x=f[3],S=f[4],T=f[5];return f[0]=n*u+e*m,f[1]=n*d+e*x,f[2]=r*u+l*m,f[3]=r*d+l*x,f[4]=a*u+h*m+S,f[5]=a*d+h*x+T,this},transformPoint:function(n,e,r){r===void 0&&(r={x:0,y:0});var l=this.matrix,a=l[0],h=l[1],f=l[2],u=l[3],d=l[4],m=l[5];return r.x=n*a+e*f+d,r.y=n*h+e*u+m,r},invert:function(){var n=this.matrix,e=n[0],r=n[1],l=n[2],a=n[3],h=n[4],f=n[5],u=e*a-r*l;return n[0]=a/u,n[1]=-r/u,n[2]=-l/u,n[3]=e/u,n[4]=(l*f-a*h)/u,n[5]=-(e*f-r*h)/u,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){return n.setTransform(this),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,r,l,a,h){var f=this.matrix;return f[0]=n,f[1]=e,f[2]=r,f[3]=l,f[4]=a,f[5]=h,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,r=e[0],l=e[1],a=e[2],h=e[3],f=r*h-l*a;if(n.translateX=e[4],n.translateY=e[5],r||l){var u=Math.sqrt(r*r+l*l);n.rotation=l>0?Math.acos(r/u):-Math.acos(r/u),n.scaleX=u,n.scaleY=f/u}else if(a||h){var d=Math.sqrt(a*a+h*h);n.rotation=Math.PI*.5-(h>0?Math.acos(-a/d):-Math.acos(a/d)),n.scaleX=f/d,n.scaleY=d}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,r,l,a){var h=this.matrix,f=Math.sin(r),u=Math.cos(r);return h[4]=n,h[5]=e,h[0]=u*l,h[1]=f*l,h[2]=-f*a,h[3]=u*a,this},applyInverse:function(n,e,r){r===void 0&&(r=new s);var l=this.matrix,a=l[0],h=l[1],f=l[2],u=l[3],d=l[4],m=l[5],x=1/(a*u+f*-h);return r.x=u*x*n+-f*x*e+(m*f-d*u)*x,r.y=a*x*e+-h*x*n+(-m*a+d*h)*x,r},setQuad:function(n,e,r,l,a,h){a===void 0&&(a=!1),h===void 0&&(h=this.quad);var f=this.matrix,u=f[0],d=f[1],m=f[2],x=f[3],S=f[4],T=f[5];return a?(h[0]=Math.round(n*u+e*m+S),h[1]=Math.round(n*d+e*x+T),h[2]=Math.round(n*u+l*m+S),h[3]=Math.round(n*d+l*x+T),h[4]=Math.round(r*u+l*m+S),h[5]=Math.round(r*d+l*x+T),h[6]=Math.round(r*u+e*m+S),h[7]=Math.round(r*d+e*x+T)):(h[0]=n*u+e*m+S,h[1]=n*d+e*x+T,h[2]=n*u+l*m+S,h[3]=n*d+l*x+T,h[4]=r*u+l*m+S,h[5]=r*d+l*x+T,h[6]=r*u+e*m+S,h[7]=r*d+e*x+T),h},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,r){var l=this.getX(n,e);return r&&(l=Math.round(l)),l},getYRound:function(n,e,r){var l=this.getY(n,e);return r&&(l=Math.round(l)),l},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=i},59715:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(o){return this.visible=o,this}};c.exports=t},31401:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),v=t(10312),s=t(83419),i=t(31401),n=t(51708),e=t(95643),r=t(87841),l=t(29959),a=t(36899),h=t(26099),f=new s({Extends:e,Mixins:[i.AlphaSingle,i.BlendMode,i.ComputedSize,i.Depth,i.Mask,i.PostPipeline,i.Transform,i.Visible,l],initialize:function(d,m,x,S){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new i.TransformMatrix,this.tempTransformMatrix=new i.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,x),this.setBlendMode(v.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(u){return u===void 0&&(u=!0),this.exclusive=u,this},getBounds:function(u){if(u===void 0&&(u=new r),u.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),m=d.transformPoint(this.x,this.y);u.setTo(m.x,m.y,0,0)}if(this.list.length>0){var x=this.list,S=new r,T=!1;u.setEmpty();for(var C=0;C<x.length;C++){var A=x[C];A.getBounds&&(A.getBounds(S),T?a(S,u,u):(u.setTo(S.x,S.y,S.width,S.height),T=!0))}}return u},addHandler:function(u){u.once(n.DESTROY,this.onChildDestroyed,this),this.exclusive&&(u.parentContainer&&u.parentContainer.remove(u),u.parentContainer=this,u.removeFromDisplayList(),u.addedToScene())},removeHandler:function(u){u.off(n.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer=null,u.removedFromScene(),u.addToDisplayList())},pointToContainer:function(u,d){d===void 0&&(d=new h),this.parentContainer?this.parentContainer.pointToContainer(u,d):(d.x=u.x,d.y=u.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(u.x,u.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(u){return o.Add(this.list,u,this.maxSize,this.addHandler,this),this},addAt:function(u,d){return o.AddAt(this.list,u,d,this.maxSize,this.addHandler,this),this},getAt:function(u){return this.list[u]},getIndex:function(u){return this.list.indexOf(u)},sort:function(u,d){return u?(d===void 0&&(d=function(m,x){return m[u]-x[u]}),o.StableSort(this.list,d),this):this},getByName:function(u){return o.GetFirst(this.list,"name",u)},getRandom:function(u,d){return o.GetRandom(this.list,u,d)},getFirst:function(u,d,m,x){return o.GetFirst(this.list,u,d,m,x)},getAll:function(u,d,m,x){return o.GetAll(this.list,u,d,m,x)},count:function(u,d,m,x){return o.CountAllMatching(this.list,u,d,m,x)},swap:function(u,d){return o.Swap(this.list,u,d),this},moveTo:function(u,d){return o.MoveTo(this.list,u,d),this},moveAbove:function(u,d){return o.MoveAbove(this.list,u,d),this},moveBelow:function(u,d){return o.MoveBelow(this.list,u,d),this},remove:function(u,d){var m=o.Remove(this.list,u,this.removeHandler,this);if(d&&m){Array.isArray(m)||(m=[m]);for(var x=0;x<m.length;x++)m[x].destroy()}return this},removeAt:function(u,d){var m=o.RemoveAt(this.list,u,this.removeHandler,this);return d&&m&&m.destroy(),this},removeBetween:function(u,d,m){var x=o.RemoveBetween(this.list,u,d,this.removeHandler,this);if(m)for(var S=0;S<x.length;S++)x[S].destroy();return this},removeAll:function(u){var d=this.list;if(u){for(var m=0;m<d.length;m++)d[m]&&d[m].scene&&(d[m].off(n.DESTROY,this.onChildDestroyed,this),d[m].destroy());this.list=[]}else o.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(u){return o.BringToTop(this.list,u),this},sendToBack:function(u){return o.SendToBack(this.list,u),this},moveUp:function(u){return o.MoveUp(this.list,u),this},moveDown:function(u){return o.MoveDown(this.list,u),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(u,d,m){var x=o.Replace(this.list,u,d);return x&&(this.addHandler(d),this.removeHandler(u),m&&u.destroy()),this},exists:function(u){return this.list.indexOf(u)>-1},setAll:function(u,d,m,x){return o.SetAll(this.list,u,d,m,x),this},each:function(u,d){var m=[null],x,S=this.list.slice(),T=S.length;for(x=2;x<arguments.length;x++)m.push(arguments[x]);for(x=0;x<T;x++)m[0]=S[x],u.apply(d,m);return this},iterate:function(u,d){var m=[null],x;for(x=2;x<arguments.length;x++)m.push(arguments[x]);for(x=0;x<this.list.length;x++)m[0]=this.list[x],u.apply(d,m);return this},setScrollFactor:function(u,d,m){return d===void 0&&(d=u),m===void 0&&(m=!1),this.scrollFactorX=u,this.scrollFactorY=d,m&&(o.SetAll(this.list,"scrollFactorX",u),o.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(u){o.Remove(this.list,u),this.exclusive&&(u.parentContainer=null,u.removedFromScene())}});c.exports=f},53584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v.addToRenderList(o);var i=o.list;if(i.length!==0){var n=o.localTransform;s?(n.loadIdentity(),n.multiply(s),n.translate(o.x,o.y),n.rotate(o.rotation),n.scale(o.scaleX,o.scaleY)):n.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var e=o.blendMode!==-1;e||t.setBlendMode(0);var r=o._alpha,l=o.scrollFactorX,a=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(t,null,v);for(var h=0;h<i.length;h++){var f=i[h];if(f.willRender(v)){var u=f.alpha,d=f.scrollFactorX,m=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*l,m*a),f.setAlpha(u*r),f.renderCanvas(t,f,v,n),f.setAlpha(u),f.setScrollFactor(d,m)}}o.mask&&o.mask.postRenderCanvas(t)}};c.exports=y},77143:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(31559),s=t(44603),i=t(23568),n=t(95540);s.register("container",function(e,r){e===void 0&&(e={});var l=i(e,"x",0),a=i(e,"y",0),h=n(e,"children",null),f=new v(this.scene,l,a,h);return r!==void 0&&(e.add=r),o(this.scene,f,e),f})},24961:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31559),v=t(39429);v.register("container",function(s,i,n){return this.displayList.add(new o(this.scene,s,i,n))})},29959:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(72249),s=t(53584),c.exports={renderWebGL:v,renderCanvas:s}},72249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v.addToRenderList(o);var i=o.list,n=i.length;if(n!==0){var e=o.localTransform;s?(e.loadIdentity(),e.multiply(s),e.translate(o.x,o.y),e.rotate(o.rotation),e.scale(o.scaleX,o.scaleY)):e.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),t.pipelines.preBatch(o);var r=o.blendMode!==-1;r||t.setBlendMode(0);for(var l=o.alpha,a=o.scrollFactorX,h=o.scrollFactorY,f=0;f<n;f++){var u=i[f];if(u.willRender(v)){var d,m,x,S;if(u.alphaTopLeft!==void 0)d=u.alphaTopLeft,m=u.alphaTopRight,x=u.alphaBottomLeft,S=u.alphaBottomRight;else{var T=u.alpha;d=T,m=T,x=T,S=T}var C=u.scrollFactorX,A=u.scrollFactorY;!r&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var w=u.mask;w&&w.preRenderWebGL(t,u,v);var P=u.type;P!==t.currentType&&(t.newType=!0,t.currentType=P),t.nextTypeMatch=f<n-1?i[f+1].type===t.currentType:!1,u.setScrollFactor(C*a,A*h),u.setAlpha(d*l,m*l,x*l,S*l),u.renderWebGL(t,u,v,e,o),u.setAlpha(d,m,x,S),u.setScrollFactor(C,A),w&&w.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(o)}};c.exports=y},47407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(441),i=t(95643),n=t(41212),e=t(35846),r=t(44594),l=t(61369),a=new o({Extends:i,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,s],initialize:function(f,u,d,m,x,S){i.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(u,d),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),x,S):this.createElement(m,x,S):m&&this.setElement(m,x,S),f.sys.events.on(r.SLEEP,this.handleSceneEvent,this),f.sys.events.on(r.WAKE,this.handleSceneEvent,this),f.sys.events.on(r.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var f=this.node,u=f.style;f&&(u.display=h.settings.visible?"block":"none")},setSkew:function(h,f){return h===void 0&&(h=0),f===void 0&&(f=h),this.skewX=h,this.skewY=f,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.addEventListener(h[f],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.removeEventListener(h[f],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,f,u){return this.setElement(document.createElement(h),f,u)},setElement:function(h,f,u){this.removeElement();var d;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),d=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(d=h),!d)return this;if(this.node=d,f&&n(f))for(var m in f)d.style[m]=f[m];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),u&&(d.innerText=u),this.updateSize()},createFromCache:function(h,f){var u=this.cache.get(h);return u&&this.createFromHTML(u,f),this},createFromHTML:function(h,f){f===void 0&&(f="div"),this.removeElement();var u=document.createElement(f);return this.node=u,u.style.zIndex="0",u.style.display="inline",u.style.position="absolute",u.phaser=this,this.parent&&this.parent.appendChild(u),u.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node,f=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(h,f){if(this.node){for(var u=this.node.querySelectorAll("*"),d=0;d<u.length;d++)if(u[d][h]===f)return u[d]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,f=this.node;f&&h&&!h.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(r.PRE_RENDER,this.preRender,this)}});c.exports=a},49381:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(47407),v=t(95643),s=t(61340),i=new s,n=new s,e=new s,r=function(l,a,h,f){if(a.node){var u=a.node.style,d=a.scene.sys.settings;if(!u||!d.visible||v.RENDER_MASK!==a.renderFlags||a.cameraFilter!==0&&a.cameraFilter&h.id||a.parentContainer&&!a.parentContainer.willRender()){u.display="none";return}var m=a.parentContainer,x=h.alpha*a.alpha;m&&(x*=m.alpha);var S=i,T=n,C=e,A=0,w=0,P="0%",F="0%";f?(A=a.width*a.scaleX*a.originX,w=a.height*a.scaleY*a.originY,T.applyITRS(a.x-A,a.y-w,a.rotation,a.scaleX,a.scaleY),S.copyFrom(h.matrix),S.multiplyWithOffset(f,-h.scrollX*a.scrollFactorX,-h.scrollY*a.scrollFactorY),T.e=a.x-A,T.f=a.y-w,S.multiply(T,C)):(A=a.width*a.originX,w=a.height*a.originY,T.applyITRS(a.x-A,a.y-w,a.rotation,a.scaleX,a.scaleY),S.copyFrom(h.matrix),P=100*a.originX+"%",F=100*a.originY+"%",T.e-=h.scrollX*a.scrollFactorX,T.f-=h.scrollY*a.scrollFactorY,S.multiply(T,C)),a.transformOnly||(u.display="block",u.opacity=x,u.zIndex=a._depth,u.pointerEvents=a.pointerEvents,u.mixBlendMode=o[a._blendMode]),u.transform=C.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",u.transformOrigin=P+" "+F}};c.exports=r},2611:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3069),v=t(39429);v.register("dom",function(s,i,n,e,r){var l=new o(this.scene,s,i,n,e,r);return this.displayList.add(l),l})},441:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(49381),s=t(49381),c.exports={renderWebGL:v,renderCanvas:s}},62980:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},41337:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},44947:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},49358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},35163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},97249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},19483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="locked"},56059:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},26772:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="metadata"},64437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="playing"},83411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},75780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},67799:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},63500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stalled"},55541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},53208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="textureready"},4992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},12:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unsupported"},51708:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(95643),i=t(64993),n=new o({Extends:s,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,i],initialize:function(r){s.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=n},70217:()=>{},56315:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42421),v=t(39429);v.register("extern",function(){var s=new o(this.scene);return this.displayList.add(s),s})},64993:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(80287),s=t(70217),c.exports={renderWebGL:v,renderCanvas:s}},80287:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(s,i,n,e){s.pipelines.clear();var r=o(i,n,e).calc;i.render.call(i,s,n,r),s.pipelines.rebind()};c.exports=v},85592:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),v=t(83419),s=t(85592),i=t(31401),n=t(8497),e=t(95643),r=t(95540),l=t(35154),a=t(36383),h=t(84503),f=new v({Extends:e,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.PostPipeline,i.Transform,i.Visible,i.ScrollFactor,h],initialize:function(d,m){var x=l(m,"x",0),S=l(m,"y",0);e.call(this,d,"Graphics"),this.setPosition(x,S),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(u){return l(u,"lineStyle",null)&&(this.defaultStrokeWidth=l(u,"lineStyle.width",1),this.defaultStrokeColor=l(u,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(u,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(u,"fillStyle",null)&&(this.defaultFillColor=l(u,"fillStyle.color",16777215),this.defaultFillAlpha=l(u,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(u,d,m){return m===void 0&&(m=1),this.commandBuffer.push(s.LINE_STYLE,u,d,m),this._lineWidth=u,this},fillStyle:function(u,d){return d===void 0&&(d=1),this.commandBuffer.push(s.FILL_STYLE,u,d),this},fillGradientStyle:function(u,d,m,x,S,T,C,A){return S===void 0&&(S=1),T===void 0&&(T=S),C===void 0&&(C=S),A===void 0&&(A=S),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,S,T,C,A,u,d,m,x),this},lineGradientStyle:function(u,d,m,x,S,T){return T===void 0&&(T=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,u,T,d,m,x,S),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(u){return this.fillCircle(u.x,u.y,u.radius)},strokeCircleShape:function(u){return this.strokeCircle(u.x,u.y,u.radius)},fillCircle:function(u,d,m){return this.beginPath(),this.arc(u,d,m,0,a.PI2),this.fillPath(),this},strokeCircle:function(u,d,m){return this.beginPath(),this.arc(u,d,m,0,a.PI2),this.strokePath(),this},fillRectShape:function(u){return this.fillRect(u.x,u.y,u.width,u.height)},strokeRectShape:function(u){return this.strokeRect(u.x,u.y,u.width,u.height)},fillRect:function(u,d,m,x){return this.commandBuffer.push(s.FILL_RECT,u,d,m,x),this},strokeRect:function(u,d,m,x){var S=this._lineWidth/2,T=u-S,C=u+S;return this.beginPath(),this.moveTo(u,d),this.lineTo(u,d+x),this.strokePath(),this.beginPath(),this.moveTo(u+m,d),this.lineTo(u+m,d+x),this.strokePath(),this.beginPath(),this.moveTo(T,d),this.lineTo(C+m,d),this.strokePath(),this.beginPath(),this.moveTo(T,d+x),this.lineTo(C+m,d+x),this.strokePath(),this},fillRoundedRect:function(u,d,m,x,S){S===void 0&&(S=20);var T=S,C=S,A=S,w=S;typeof S!="number"&&(T=r(S,"tl",20),C=r(S,"tr",20),A=r(S,"bl",20),w=r(S,"br",20));var P=T>=0,F=C>=0,L=A>=0,O=w>=0;return T=Math.abs(T),C=Math.abs(C),A=Math.abs(A),w=Math.abs(w),this.beginPath(),this.moveTo(u+T,d),this.lineTo(u+m-C,d),F?this.arc(u+m-C,d+C,C,-a.TAU,0):this.arc(u+m,d,C,Math.PI,a.TAU,!0),this.lineTo(u+m,d+x-w),O?this.arc(u+m-w,d+x-w,w,0,a.TAU):this.arc(u+m,d+x,w,-a.TAU,Math.PI,!0),this.lineTo(u+A,d+x),L?this.arc(u+A,d+x-A,A,a.TAU,Math.PI):this.arc(u,d+x,A,0,-a.TAU,!0),this.lineTo(u,d+T),P?this.arc(u+T,d+T,T,-Math.PI,-a.TAU):this.arc(u,d,T,a.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(u,d,m,x,S){S===void 0&&(S=20);var T=S,C=S,A=S,w=S,P=Math.min(m,x)/2;typeof S!="number"&&(T=r(S,"tl",20),C=r(S,"tr",20),A=r(S,"bl",20),w=r(S,"br",20));var F=T>=0,L=C>=0,O=A>=0,I=w>=0;return T=Math.min(Math.abs(T),P),C=Math.min(Math.abs(C),P),A=Math.min(Math.abs(A),P),w=Math.min(Math.abs(w),P),this.beginPath(),this.moveTo(u+T,d),this.lineTo(u+m-C,d),this.moveTo(u+m-C,d),L?this.arc(u+m-C,d+C,C,-a.TAU,0):this.arc(u+m,d,C,Math.PI,a.TAU,!0),this.lineTo(u+m,d+x-w),this.moveTo(u+m,d+x-w),I?this.arc(u+m-w,d+x-w,w,0,a.TAU):this.arc(u+m,d+x,w,-a.TAU,Math.PI,!0),this.lineTo(u+A,d+x),this.moveTo(u+A,d+x),O?this.arc(u+A,d+x-A,A,a.TAU,Math.PI):this.arc(u,d+x,A,0,-a.TAU,!0),this.lineTo(u,d+T),this.moveTo(u,d+T),F?this.arc(u+T,d+T,T,-Math.PI,-a.TAU):this.arc(u,d,T,a.TAU,0,!0),this.strokePath(),this},fillPointShape:function(u,d){return this.fillPoint(u.x,u.y,d)},fillPoint:function(u,d,m){return!m||m<1?m=1:(u-=m/2,d-=m/2),this.commandBuffer.push(s.FILL_RECT,u,d,m,m),this},fillTriangleShape:function(u){return this.fillTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},strokeTriangleShape:function(u){return this.strokeTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},fillTriangle:function(u,d,m,x,S,T){return this.commandBuffer.push(s.FILL_TRIANGLE,u,d,m,x,S,T),this},strokeTriangle:function(u,d,m,x,S,T){return this.commandBuffer.push(s.STROKE_TRIANGLE,u,d,m,x,S,T),this},strokeLineShape:function(u){return this.lineBetween(u.x1,u.y1,u.x2,u.y2)},lineBetween:function(u,d,m,x){return this.beginPath(),this.moveTo(u,d),this.lineTo(m,x),this.strokePath(),this},lineTo:function(u,d){return this.commandBuffer.push(s.LINE_TO,u,d),this},moveTo:function(u,d){return this.commandBuffer.push(s.MOVE_TO,u,d),this},strokePoints:function(u,d,m,x){d===void 0&&(d=!1),m===void 0&&(m=!1),x===void 0&&(x=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var S=1;S<x;S++)this.lineTo(u[S].x,u[S].y);return d&&this.lineTo(u[0].x,u[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(u,d,m,x){d===void 0&&(d=!1),m===void 0&&(m=!1),x===void 0&&(x=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var S=1;S<x;S++)this.lineTo(u[S].x,u[S].y);return d&&this.lineTo(u[0].x,u[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(u,d){d===void 0&&(d=32);var m=u.getPoints(d);return this.strokePoints(m,!0)},strokeEllipse:function(u,d,m,x,S){S===void 0&&(S=32);var T=new n(u,d,m,x),C=T.getPoints(S);return this.strokePoints(C,!0)},fillEllipseShape:function(u,d){d===void 0&&(d=32);var m=u.getPoints(d);return this.fillPoints(m,!0)},fillEllipse:function(u,d,m,x,S){S===void 0&&(S=32);var T=new n(u,d,m,x),C=T.getPoints(S);return this.fillPoints(C,!0)},arc:function(u,d,m,x,S,T,C){return T===void 0&&(T=!1),C===void 0&&(C=0),this.commandBuffer.push(s.ARC,u,d,m,x,S,T,C),this},slice:function(u,d,m,x,S,T,C){return T===void 0&&(T=!1),C===void 0&&(C=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,u,d),this.commandBuffer.push(s.ARC,u,d,m,x,S,T,C),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(u,d){return this.commandBuffer.push(s.TRANSLATE,u,d),this},scaleCanvas:function(u,d){return this.commandBuffer.push(s.SCALE,u,d),this},rotateCanvas:function(u){return this.commandBuffer.push(s.ROTATE,u),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(u,d,m){var x=this.scene.sys,S=x.game.renderer;d===void 0&&(d=x.scale.width),m===void 0&&(m=x.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,m),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var T,C,A={willReadFrequently:!0};if(typeof u=="string")if(x.textures.exists(u)){T=x.textures.get(u);var w=T.getSourceImage();w instanceof HTMLCanvasElement&&(C=w.getContext("2d",A))}else T=x.textures.createCanvas(u,d,m),C=T.getSourceImage().getContext("2d",A);else u instanceof HTMLCanvasElement&&(C=u.getContext("2d",A));return C&&(this.renderCanvas(S,this,f.TargetCamera,null,C,!1),T&&T.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new o,c.exports=f},32768:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),v=t(20926),s=function(i,n,e,r,l,a){var h=n.commandBuffer,f=h.length,u=l||i.currentContext;if(!(f===0||!v(i,u,n,e,r))){e.addToRenderList(n);var d=1,m=1,x=0,S=0,T=1,C=0,A=0,w=0;u.beginPath();for(var P=0;P<f;++P){var F=h[P];switch(F){case o.ARC:u.arc(h[P+1],h[P+2],h[P+3],h[P+4],h[P+5],h[P+6]),P+=7;break;case o.LINE_STYLE:T=h[P+1],x=h[P+2],d=h[P+3],C=(x&16711680)>>>16,A=(x&65280)>>>8,w=x&255,u.strokeStyle="rgba("+C+","+A+","+w+","+d+")",u.lineWidth=T,P+=3;break;case o.FILL_STYLE:S=h[P+1],m=h[P+2],C=(S&16711680)>>>16,A=(S&65280)>>>8,w=S&255,u.fillStyle="rgba("+C+","+A+","+w+","+m+")",P+=2;break;case o.BEGIN_PATH:u.beginPath();break;case o.CLOSE_PATH:u.closePath();break;case o.FILL_PATH:a||u.fill();break;case o.STROKE_PATH:a||u.stroke();break;case o.FILL_RECT:a?u.rect(h[P+1],h[P+2],h[P+3],h[P+4]):u.fillRect(h[P+1],h[P+2],h[P+3],h[P+4]),P+=4;break;case o.FILL_TRIANGLE:u.beginPath(),u.moveTo(h[P+1],h[P+2]),u.lineTo(h[P+3],h[P+4]),u.lineTo(h[P+5],h[P+6]),u.closePath(),a||u.fill(),P+=6;break;case o.STROKE_TRIANGLE:u.beginPath(),u.moveTo(h[P+1],h[P+2]),u.lineTo(h[P+3],h[P+4]),u.lineTo(h[P+5],h[P+6]),u.closePath(),a||u.stroke(),P+=6;break;case o.LINE_TO:u.lineTo(h[P+1],h[P+2]),P+=2;break;case o.MOVE_TO:u.moveTo(h[P+1],h[P+2]),P+=2;break;case o.LINE_FX_TO:u.lineTo(h[P+1],h[P+2]),P+=5;break;case o.MOVE_FX_TO:u.moveTo(h[P+1],h[P+2]),P+=5;break;case o.SAVE:u.save();break;case o.RESTORE:u.restore();break;case o.TRANSLATE:u.translate(h[P+1],h[P+2]),P+=2;break;case o.SCALE:u.scale(h[P+1],h[P+2]),P+=2;break;case o.ROTATE:u.rotate(h[P+1]),P+=1;break;case o.GRADIENT_FILL_STYLE:P+=5;break;case o.GRADIENT_LINE_STYLE:P+=6;break}}u.restore()}};c.exports=s},87079:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),v=t(43831);o.register("graphics",function(s,i){s===void 0&&(s={}),i!==void 0&&(s.add=i);var n=new v(this.scene,s);return s.add&&this.scene.sys.displayList.add(n),n})},1201:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43831),v=t(39429);v.register("graphics",function(s){return this.displayList.add(new o(this.scene,s))})},84503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(77545),s=t(32768),s=t(32768),c.exports={renderWebGL:v,renderCanvas:s}},77545:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),v=t(91296),s=t(61340),i=t(70554),n=function(h,f,u){this.x=h,this.y=f,this.width=u},e=function(h,f,u){this.points=[],this.pointsLength=1,this.points[0]=new n(h,f,u)},r=[],l=new s,a=function(h,f,u,d){if(f.commandBuffer.length!==0){u.addToRenderList(f);var m=h.pipelines.set(f.pipeline,f);h.pipelines.preBatch(f);for(var x=v(f,u,d).calc,S=l.loadIdentity(),T=f.commandBuffer,C=u.alpha*f.alpha,A=1,w=m.fillTint,P=m.strokeTint,F=0,L=0,O=0,I=.01,B=Math.PI*2,U,H=[],Z=0,tt=!0,X=null,k=i.getTintAppendFloatAlpha,D=0;D<T.length;D++)switch(U=T[D],U){case o.BEGIN_PATH:{H.length=0,X=null,tt=!0;break}case o.CLOSE_PATH:{tt=!1,X&&X.points.length&&X.points.push(X.points[0]);break}case o.FILL_PATH:{for(Z=0;Z<H.length;Z++)m.batchFillPath(H[Z].points,S,x);break}case o.STROKE_PATH:{for(Z=0;Z<H.length;Z++)m.batchStrokePath(H[Z].points,A,tt,S,x);break}case o.LINE_STYLE:{A=T[++D];var z=T[++D],Y=T[++D]*C,j=k(z,Y);P.TL=j,P.TR=j,P.BL=j,P.BR=j;break}case o.FILL_STYLE:{var J=T[++D],it=T[++D]*C,st=k(J,it);w.TL=st,w.TR=st,w.BL=st,w.BR=st;break}case o.GRADIENT_FILL_STYLE:{var at=T[++D]*C,ft=T[++D]*C,vt=T[++D]*C,xt=T[++D]*C;w.TL=k(T[++D],at),w.TR=k(T[++D],ft),w.BL=k(T[++D],vt),w.BR=k(T[++D],xt);break}case o.GRADIENT_LINE_STYLE:{A=T[++D];var Ct=T[++D]*C;P.TL=k(T[++D],Ct),P.TR=k(T[++D],Ct),P.BL=k(T[++D],Ct),P.BR=k(T[++D],Ct);break}case o.ARC:{var yt=0,Pt=T[++D],Gt=T[++D],Ut=T[++D],Nt=T[++D],wt=T[++D],Dt=T[++D],Rt=T[++D];for(wt-=Nt,Dt?wt<-B?wt=-B:wt>0&&(wt=-B+wt%B):wt>B?wt=B:wt<0&&(wt=B+wt%B),X===null&&(X=new e(Pt+Math.cos(Nt)*Ut,Gt+Math.sin(Nt)*Ut,A),H.push(X),yt+=I);yt<1+Rt;)O=wt*yt+Nt,F=Pt+Math.cos(O)*Ut,L=Gt+Math.sin(O)*Ut,X.points.push(new n(F,L,A)),yt+=I;O=wt+Nt,F=Pt+Math.cos(O)*Ut,L=Gt+Math.sin(O)*Ut,X.points.push(new n(F,L,A));break}case o.FILL_RECT:{m.batchFillRect(T[++D],T[++D],T[++D],T[++D],S,x);break}case o.FILL_TRIANGLE:{m.batchFillTriangle(T[++D],T[++D],T[++D],T[++D],T[++D],T[++D],S,x);break}case o.STROKE_TRIANGLE:{m.batchStrokeTriangle(T[++D],T[++D],T[++D],T[++D],T[++D],T[++D],A,S,x);break}case o.LINE_TO:{X!==null?X.points.push(new n(T[++D],T[++D],A)):(X=new e(T[++D],T[++D],A),H.push(X));break}case o.MOVE_TO:{X=new e(T[++D],T[++D],A),H.push(X);break}case o.SAVE:{r.push(S.copyToArray());break}case o.RESTORE:{S.copyFromArray(r.pop());break}case o.TRANSLATE:{Pt=T[++D],Gt=T[++D],S.translate(Pt,Gt);break}case o.SCALE:{Pt=T[++D],Gt=T[++D],S.scale(Pt,Gt);break}case o.ROTATE:{S.rotate(T[++D]);break}}h.pipelines.postBatch(f)}};c.exports=a},26479:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61061),v=t(83419),s=t(51708),i=t(50792),n=t(46710),e=t(95540),r=t(35154),l=t(97022),a=t(41212),h=t(88492),f=t(35072),u=t(68287),d=new v({Extends:i,initialize:function(x,S,T){i.call(this),T?S&&!Array.isArray(S)&&(S=[S]):Array.isArray(S)?a(S[0])&&(T=S,S=null):a(S)&&(T=S,S=null),this.scene=x,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(T,"classType",u),this.name=e(T,"name",""),this.active=e(T,"active",!0),this.maxSize=e(T,"maxSize",-1),this.defaultKey=e(T,"defaultKey",null),this.defaultFrame=e(T,"defaultFrame",null),this.runChildUpdate=e(T,"runChildUpdate",!1),this.createCallback=e(T,"createCallback",null),this.removeCallback=e(T,"removeCallback",null),this.createMultipleCallback=e(T,"createMultipleCallback",null),this.internalCreateCallback=e(T,"internalCreateCallback",null),this.internalRemoveCallback=e(T,"internalRemoveCallback",null),S&&this.addMultiple(S),T&&this.createMultiple(T),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,x,S,T,C,A){if(m===void 0&&(m=0),x===void 0&&(x=0),S===void 0&&(S=this.defaultKey),T===void 0&&(T=this.defaultFrame),C===void 0&&(C=!0),A===void 0&&(A=!0),this.isFull())return null;var w=new this.classType(this.scene,m,x,S,T);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=C,w.setActive(A),this.add(w),w},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var x=[];if(m[0].key)for(var S=0;S<m.length;S++){var T=this.createFromConfig(m[S]);x=x.concat(T)}return x},createFromConfig:function(m){if(this.isFull())return[];this.classType=e(m,"classType",this.classType);var x=e(m,"key",void 0),S=e(m,"frame",null),T=e(m,"visible",!0),C=e(m,"active",!0),A=[];if(x===void 0)return A;Array.isArray(x)||(x=[x]),Array.isArray(S)||(S=[S]);var w=e(m,"repeat",0),P=e(m,"randomKey",!1),F=e(m,"randomFrame",!1),L=e(m,"yoyo",!1),O=e(m,"quantity",!1),I=e(m,"frameQuantity",1),B=e(m,"max",0),U=h(x,S,{max:B,qty:O||I,random:P,randomB:F,repeat:w,yoyo:L});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var H=0;H<U.length;H++){var Z=this.create(0,0,U[H].a,U[H].b,T,C);if(!Z)break;A.push(Z)}if(l(m,"setXY")){var tt=r(m,"setXY.x",0),X=r(m,"setXY.y",0),k=r(m,"setXY.stepX",0),D=r(m,"setXY.stepY",0);o.SetXY(A,tt,X,k,D)}if(l(m,"setRotation")){var z=r(m,"setRotation.value",0),Y=r(m,"setRotation.step",0);o.SetRotation(A,z,Y)}if(l(m,"setScale")){var j=r(m,"setScale.x",1),J=r(m,"setScale.y",j),it=r(m,"setScale.stepX",0),st=r(m,"setScale.stepY",0);o.SetScale(A,j,J,it,st)}if(l(m,"setOrigin")){var at=r(m,"setOrigin.x",.5),ft=r(m,"setOrigin.y",at),vt=r(m,"setOrigin.stepX",0),xt=r(m,"setOrigin.stepY",0);o.SetOrigin(A,at,ft,vt,xt)}if(l(m,"setAlpha")){var Ct=r(m,"setAlpha.value",1),yt=r(m,"setAlpha.step",0);o.SetAlpha(A,Ct,yt)}if(l(m,"setDepth")){var Pt=r(m,"setDepth.value",0),Gt=r(m,"setDepth.step",0);o.SetDepth(A,Pt,Gt)}if(l(m,"setScrollFactor")){var Ut=r(m,"setScrollFactor.x",1),Nt=r(m,"setScrollFactor.y",Ut),wt=r(m,"setScrollFactor.stepX",0),Dt=r(m,"setScrollFactor.stepY",0);o.SetScrollFactor(A,Ut,Nt,wt,Dt)}var Rt=e(m,"hitArea",null),Ht=e(m,"hitAreaCallback",null);Rt&&o.SetHitArea(A,Rt,Ht);var qt=e(m,"gridAlign",!1);return qt&&o.GridAlign(A,qt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(m,x){if(!(!this.runChildUpdate||this.children.size===0))for(var S=this.children.entries.slice(),T=0;T<S.length;T++){var C=S[T];C.active&&C.update(m,x)}},add:function(m,x){return x===void 0&&(x=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),x&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(s.DESTROY,this.remove,this),this)},addMultiple:function(m,x){if(x===void 0&&(x=!1),Array.isArray(m))for(var S=0;S<m.length;S++)this.add(m[S],x);return this},remove:function(m,x,S){return x===void 0&&(x=!1),S===void 0&&(S=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(s.DESTROY,this.remove,this),S?m.destroy():x&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,x){m===void 0&&(m=!1),x===void 0&&(x=!1);for(var S=this.children,T=0;T<S.size;T++){var C=S.entries[T];C.off(s.DESTROY,this.remove,this),x?C.destroy():m&&(C.removeFromDisplayList(),C.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,x,S,T){return n(this.children.entries,m,x,S,T)},getFirst:function(m,x,S,T,C,A,w){return this.getHandler(!0,1,m,x,S,T,C,A,w)},getFirstNth:function(m,x,S,T,C,A,w,P){return this.getHandler(!0,m,x,S,T,C,A,w,P)},getLast:function(m,x,S,T,C,A,w){return this.getHandler(!1,1,m,x,S,T,C,A,w)},getLastNth:function(m,x,S,T,C,A,w,P){return this.getHandler(!1,m,x,S,T,C,A,w,P)},getHandler:function(m,x,S,T,C,A,w,P,F){S===void 0&&(S=!1),T===void 0&&(T=!1);var L,O,I=0,B=this.children.entries;if(m)for(O=0;O<B.length;O++)if(L=B[O],L.active===S){if(I++,I===x)break}else L=null;else for(O=B.length-1;O>=0;O--)if(L=B[O],L.active===S){if(I++,I===x)break}else L=null;return L?(typeof C=="number"&&(L.x=C),typeof A=="number"&&(L.y=A),L):T?this.create(C,A,w,P,F):null},get:function(m,x,S,T,C){return this.getFirst(!1,!0,m,x,S,T,C)},getFirstAlive:function(m,x,S,T,C,A){return this.getFirst(!0,m,x,S,T,C,A)},getFirstDead:function(m,x,S,T,C,A){return this.getFirst(!1,m,x,S,T,C,A)},playAnimation:function(m,x){return o.PlayAnimation(this.children.entries,m,x),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var x=0,S=0;S<this.children.size;S++)this.children.entries[S].active===m&&x++;return x},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),x=this.maxSize===-1?999999999999:this.maxSize;return x-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,x,S,T,C){return o.PropertyValueSet(this.children.entries,m,x,S,T,C),this},propertyValueInc:function(m,x,S,T,C){return o.PropertyValueInc(this.children.entries,m,x,S,T,C),this},setX:function(m,x){return o.SetX(this.children.entries,m,x),this},setY:function(m,x){return o.SetY(this.children.entries,m,x),this},setXY:function(m,x,S,T){return o.SetXY(this.children.entries,m,x,S,T),this},incX:function(m,x){return o.IncX(this.children.entries,m,x),this},incY:function(m,x){return o.IncY(this.children.entries,m,x),this},incXY:function(m,x,S,T){return o.IncXY(this.children.entries,m,x,S,T),this},shiftPosition:function(m,x,S){return o.ShiftPosition(this.children.entries,m,x,S),this},angle:function(m,x){return o.Angle(this.children.entries,m,x),this},rotate:function(m,x){return o.Rotate(this.children.entries,m,x),this},rotateAround:function(m,x){return o.RotateAround(this.children.entries,m,x),this},rotateAroundDistance:function(m,x,S){return o.RotateAroundDistance(this.children.entries,m,x,S),this},setAlpha:function(m,x){return o.SetAlpha(this.children.entries,m,x),this},setTint:function(m,x,S,T){return o.SetTint(this.children.entries,m,x,S,T),this},setOrigin:function(m,x,S,T){return o.SetOrigin(this.children.entries,m,x,S,T),this},scaleX:function(m,x){return o.ScaleX(this.children.entries,m,x),this},scaleY:function(m,x){return o.ScaleY(this.children.entries,m,x),this},scaleXY:function(m,x,S,T){return o.ScaleXY(this.children.entries,m,x,S,T),this},setDepth:function(m,x){return o.SetDepth(this.children.entries,m,x),this},setBlendMode:function(m){return o.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,x){return o.SetHitArea(this.children.entries,m,x),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,x,S){return o.SetVisible(this.children.entries,m,x,S),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(m,x){m===void 0&&(m=!1),x===void 0&&(x=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(x,m),this.scene=void 0,this.children=void 0)}});c.exports=d},94975:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),v=t(26479);o.register("group",function(s){return new v(this.scene,null,s)})},3385:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26479),v=t(39429);v.register("group",function(s,i){return this.updateList.add(new o(this.scene,s,i))})},88571:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(95643),i=t(59819),n=new o({Extends:s,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,i],initialize:function(r,l,a,h,f){s.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,f),this.setPosition(l,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=n},40652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v.addToRenderList(o),t.batchSprite(o,o.frame,v,s)};c.exports=y},82459:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(88571);v.register("image",function(n,e){n===void 0&&(n={});var r=s(n,"key",null),l=s(n,"frame",null),a=new i(this.scene,0,0,r,l);return e!==void 0&&(n.add=e),o(this.scene,a,n),a})},2117:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88571),v=t(39429);v.register("image",function(s,i,n,e){return this.displayList.add(new o(this.scene,s,i,n,e))})},59819:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(99517),s=t(40652),c.exports={renderWebGL:v,renderCanvas:s}},99517:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v.addToRenderList(o),this.pipeline.batchSprite(o,v,s)};c.exports=y},77856:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};o.Shader=t(20071),o.Mesh=t(4703),o.NineSlice=t(28103),o.PointLight=t(80321),o.Plane=t(33663),o.Factories.Shader=t(74177),o.Factories.Mesh=t(9225),o.Factories.NineSlice=t(47521),o.Factories.PointLight=t(71255),o.Factories.Plane=t(30985),o.Creators.Shader=t(54935),o.Creators.Mesh=t(20527),o.Creators.NineSlice=t(28279),o.Creators.PointLight=t(39829),o.Creators.Plane=t(56015),o.Light=t(41432),o.LightsManager=t(61356),o.LightsPlugin=t(88992),c.exports=o},93595:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(83419),s=t(31401),i=t(53774),n=t(45893),e=t(50792),r=t(51708),l=t(73162),a=t(33963),h=t(44594),f=t(19186),u=new v({Extends:l,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.PostPipeline,s.Visible,e,a],initialize:function(m,x){l.call(this,m),e.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),x&&this.add(x),m.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(d,m){return this.data||(this.data=new n(this)),this.data.set(d,m),this},incData:function(d,m){return this.data||(this.data=new n(this)),this.data.inc(d,m),this},toggleData:function(d){return this.data||(this.data=new n(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new n(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return i(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,m=this.parentContainer,x=[];m&&(x.unshift(m.getIndex(d)),d=m,m.parentContainer);)m=m.parentContainer;return x.unshift(this.displayList.getIndex(d)),x},addChildCallback:function(d){var m=d.displayList;m&&m!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(r.ADDED_TO_SCENE,d,this.scene),this.events.emit(h.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(r.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,m){return d._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),d.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=u},2956:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=o.list;if(s.length!==0){o.depthSort();var i=o.blendMode!==-1;i||t.setBlendMode(0);var n=o._alpha;o.mask&&o.mask.preRenderCanvas(t,null,v);for(var e=0;e<s.length;e++){var r=s[e];if(r.willRender(v)){var l=r.alpha;!i&&r.blendMode!==t.currentBlendMode&&t.setBlendMode(r.blendMode),r.setAlpha(l*n),r.renderCanvas(t,r,v),r.setAlpha(l)}}o.mask&&o.mask.postRenderCanvas(t)}};c.exports=y},25179:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(93595),s=t(44603),i=t(23568);s.register("layer",function(n,e){n===void 0&&(n={});var r=i(n,"children",null),l=new v(this.scene,r);return e!==void 0&&(n.add=e),o(this.scene,l,n),l})},20005:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93595),v=t(39429);v.register("layer",function(s){return this.displayList.add(new o(this.scene,s))})},33963:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(15869),s=t(2956),c.exports={renderWebGL:v,renderCanvas:s}},15869:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=o.list,i=s.length;if(i!==0){o.depthSort(),t.pipelines.preBatch(o);var n=o.blendMode!==-1;n||t.setBlendMode(0);for(var e=o.alpha,r=0;r<i;r++){var l=s[r];if(l.willRender(v)){var a,h,f,u;if(l.alphaTopLeft!==void 0)a=l.alphaTopLeft,h=l.alphaTopRight,f=l.alphaBottomLeft,u=l.alphaBottomRight;else{var d=l.alpha;a=d,h=d,f=d,u=d}!n&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var m=l.mask;m&&m.preRenderWebGL(t,l,v);var x=l.type;x!==t.currentType&&(t.newType=!0,t.currentType=x),t.nextTypeMatch=r<i-1?s[r+1].type===t.currentType:!1,l.setAlpha(a*e,h*e,f*e,u*e),l.renderWebGL(t,l,v),l.setAlpha(a,h,f,u),m&&m.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(o)}};c.exports=y},41432:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),v=t(83419),s=t(31401),i=t(51767),n=t(70554),e=new v({Extends:o,Mixins:[s.Origin,s.ScrollFactor,s.Visible],initialize:function(l,a,h,f,u,d,m){o.call(this,l,a,h),this.color=new i(f,u,d),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(r){this.diameter=r}},displayHeight:{get:function(){return this.diameter},set:function(r){this.diameter=r}},width:{get:function(){return this.diameter},set:function(r){this.diameter=r}},height:{get:function(){return this.diameter},set:function(r){this.diameter=r}},willRender:function(r){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var l=n.getFloatsFromUintRGB(r);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});e.RENDER_MASK=15,c.exports=e},61356:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81491),v=t(83419),s=t(20339),i=t(41432),n=t(80321),e=t(51767),r=t(19133),l=t(19186),a=t(70554),h=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,u,d,m,x,S){return this.systems.displayList.add(new n(this.scene,f,u,d,m,x,S))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var u=this.lights,d=f.worldView,m=[],x=0;x<u.length;x++){var S=u[x];S.willRender(f)&&o(S,d)&&m.push({light:S,distance:s(S.x,S.y,d.centerX,d.centerY)})}return m.length>this.maxLights&&(l(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(f,u){return f.distance>=u.distance},setAmbientColor:function(f){var u=a.getFloatsFromUintRGB(f);return this.ambientColor.set(u[0],u[1],u[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,u,d,m,x){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),m===void 0&&(m=16777215),x===void 0&&(x=1);var S=a.getFloatsFromUintRGB(m),T=new i(f,u,d,S[0],S[1],S[2],x);return this.lights.push(T),T},removeLight:function(f){var u=this.lights.indexOf(f);return u>=0&&r(this.lights,u),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=h},88992:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(61356),s=t(37277),i=t(44594),n=new o({Extends:v,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(i.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(i.SHUTDOWN,this.shutdown,this),e.on(i.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",n,"lights"),c.exports=n},4703:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(39506),i=t(83997),n=t(95643),e=t(34684),r=t(92515),l=t(91296),a=t(37867),h=t(29807),f=t(43396),u=t(19186),d=t(25836),m=t(39318),x=new o({Extends:n,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,h],initialize:function(T,C,A,w,P,F,L,O,I,B,U,H){C===void 0&&(C=0),A===void 0&&(A=0),w===void 0&&(w="__WHITE"),n.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new d,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Z=T.sys.renderer;this.setPosition(C,A),this.setTexture(w,P),this.setSize(Z.width,Z.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Z.width,Z.height),F&&this.addVertices(F,L,O,I,B,U,H)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(S){return this.viewPosition.addScale(d.LEFT,S),this.dirtyCache[10]=1,this},panY:function(S){return this.viewPosition.y+=d.DOWN.y*S,this.dirtyCache[10]=1,this},panZ:function(S){return this.viewPosition.z+=S,this.dirtyCache[10]=1,this},setPerspective:function(S,T,C,A,w){return C===void 0&&(C=45),A===void 0&&(A=.01),w===void 0&&(w=1e3),this.fov=C,this.projectionMatrix.perspective(s(C),S/T,A,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(S,T,C,A){return S===void 0&&(S=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),C===void 0&&(C=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-S,S,-T,T,C,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(S){S.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(S,T,C,A,w,P,F,L,O){var I=this.scene.sys.cache.obj.get(S),B;return I&&(B=e(I,this,T,C,A,w,P,F,L,O)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",S),this},sortByDepth:function(S,T){return S.depth-T.depth},depthSort:function(){return u(this.faces,this.sortByDepth),this},addVertex:function(S,T,C,A,w,P,F){var L=new m(S,T,C,A,w,P,F);return this.vertices.push(L),L},addFace:function(S,T,C){var A=new i(S,T,C);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(S,T,C,A,w,P,F){var L=r(S,T,C,A,w,P,F);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(S){return this.faces[S]},hasFaceAt:function(S,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var A=l(this,C).calc,w=this.faces,P=0;P<w.length;P++){var F=w[P];if(F.contains(S,T,A))return!0}return!1},getFaceAt:function(S,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var A=l(this,C).calc,w=this.faces,P=[],F=0;F<w.length;F++){var L=w[F];L.contains(S,T,A)&&P.push(L)}return u(P,this.sortByDepth)},setDebug:function(S,T){return this.debugGraphic=S,!S&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var S=this.modelPosition,T=this.modelRotation,C=this.modelScale,A=this.dirtyCache,w=S.x,P=S.y,F=S.z,L=T.x,O=T.y,I=T.z,B=C.x,U=C.y,H=C.z,Z=this.getFaceCount(),tt=A[0],X=A[1],k=A[2],D=A[3],z=A[4],Y=A[5],j=A[6],J=A[7],it=A[8],st=A[9];return A[0]=w,A[1]=P,A[2]=F,A[3]=L,A[4]=O,A[5]=I,A[6]=B,A[7]=U,A[8]=H,A[9]=Z,tt!==w||X!==P||k!==F||D!==L||z!==O||Y!==I||j!==B||J!==U||it!==H||st!==Z},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var S=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!S[10]&&!this.isDirty())){var T=this.width,C=this.height,A=this.viewMatrix,w=this.viewPosition;S[10]&&(A.identity(),A.translate(w),A.invert(),S[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=w.z,L=this.faces,O=0;O<L.length;O++)L[O].transformCoordinatesLocal(P,T,C,F);this.depthSort()}},renderDebug:function(S,T){for(var C=S.debugGraphic,A=0;A<T.length;A++){var w=T[A],P=w.vertex1.tx,F=w.vertex1.ty,L=w.vertex2.tx,O=w.vertex2.ty,I=w.vertex3.tx,B=w.vertex3.ty;C.strokeTriangle(P,F,L,O,I,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(S){S===void 0&&(S={});var T=(function(C,A,w){for(var P=this.faces,F=0;F<P.length;F++){var L=P[F];if(L.contains(A,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,S,T),this},setTint:function(S){S===void 0&&(S=16777215);for(var T=this.vertices,C=0;C<T.length;C++)T[C].color=S;return this},uvScroll:function(S,T){for(var C=this.faces,A=0;A<C.length;A++)C[A].scrollUV(S,T);return this},uvScale:function(S,T){for(var C=this.faces,A=0;A<C.length;A++)C[A].scaleUV(S,T);return this},tint:{set:function(S){this.setTint(S)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(S){this.modelRotation.x=s(S)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(S){this.modelRotation.y=s(S)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(S){this.modelRotation.z=s(S)}}});c.exports=x},36488:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};c.exports=y},20527:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(35154),n=t(4703);v.register("mesh",function(e,r){e===void 0&&(e={});var l=s(e,"key",null),a=s(e,"frame",null),h=i(e,"vertices",[]),f=i(e,"uvs",[]),u=i(e,"indicies",[]),d=i(e,"containsZ",!1),m=i(e,"normals",[]),x=i(e,"colors",16777215),S=i(e,"alphas",1),T=new n(this.scene,0,0,l,a,h,f,u,d,m,x,S);return r!==void 0&&(e.add=r),o(this.scene,T,e),T})},9225:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4703),v=t(39429);v.register("mesh",function(s,i,n,e,r,l,a,h,f,u,d){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a,h,f,u,d))})},29807:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(48833),s=t(36488),c.exports={renderWebGL:v,renderCanvas:s}},48833:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(s,i,n,e){var r=i.faces,l=r.length;if(l!==0){n.addToRenderList(i);var a=s.pipelines.set(i.pipeline,i),h=o(i,n,e).calc;s.pipelines.preBatch(i);for(var f=a.setGameObject(i),u=a.vertexViewF32,d=a.vertexViewU32,m=a.vertexCount*a.currentShader.vertexComponentCount-1,x=i.tintFill,S=[],T=i.debugCallback,C=h.a,A=h.b,w=h.c,P=h.d,F=h.e,L=h.f,O=i.viewPosition.z,I=i.hideCCW,B=n.roundPixels,U=n.alpha*i.alpha,H=0,Z=0;Z<l;Z++){var tt=r[Z];tt.isInView(n,I,O,U,C,A,w,P,F,L,B)&&(a.shouldFlush(3)&&(a.flush(),f=a.setGameObject(i),m=0),m=tt.load(u,d,m,f,x),H++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,T&&S.push(tt))}i.totalFrame+=H,T&&T.call(i,i,S),s.pipelines.postBatch(i)}};c.exports=v},28103:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(95643),i=t(78023),n=t(39318),e=new o({Extends:s,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,i],initialize:function(l,a,h,f,u,d,m,x,S,T,C){s.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=l.textures.getFrame(f,u);this.is3Slice=!T&&!C,A.scale9&&(this.is3Slice=A.is3Slice);for(var w=this.is3Slice?18:54,P=0;P<w;P++)this.vertices.push(new n);this.setPosition(a,h),this.setTexture(f,u),this.setSlices(d,m,x,S,T,C,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(r,l,a,h,f,u,d){a===void 0&&(a=10),h===void 0&&(h=10),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=!1);var m=this.frame,x=!1;if(this.is3Slice&&d&&f!==0&&u!==0&&(x=!0),x)console.warn("Cannot change 9 slice to 3 slice");else{if(m.scale9&&!d){var S=m.data.scale9Borders,T=S.x,C=S.y;a=T,h=m.width-S.w-T,f=C,u=m.height-S.h-C,r===void 0&&(r=m.width),l===void 0&&(l=m.height)}else r===void 0&&(r=256),l===void 0&&(l=256);this._width=r,this._height=l,this.leftWidth=a,this.rightWidth=h,this.topHeight=f,this.bottomHeight=u,this.is3Slice&&(l=m.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var r=this.leftWidth,l=this.rightWidth,a=this.topHeight,h=this.bottomHeight,f=this.frame.width,u=this.frame.height;this.updateQuadUVs(0,0,0,r/f,a/u),this.updateQuadUVs(6,r/f,0,1-l/f,a/u),this.updateQuadUVs(12,1-l/f,0,1,a/u),this.is3Slice||(this.updateQuadUVs(18,0,a/u,r/f,1-h/u),this.updateQuadUVs(24,r/f,a/u,1-l/f,1-h/u),this.updateQuadUVs(30,1-l/f,a/u,1,1-h/u),this.updateQuadUVs(36,0,1-h/u,r/f,1),this.updateQuadUVs(42,r/f,1-h/u,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-h/u,1,1))},updateVertices:function(){var r=this.leftWidth,l=this.rightWidth,a=this.topHeight,h=this.bottomHeight,f=this.width,u=this.height;this.updateQuad(0,-.5,.5,-.5+r/f,.5-a/u),this.updateQuad(6,-.5+r/f,.5,.5-l/f,.5-a/u),this.updateQuad(12,.5-l/f,.5,.5,.5-a/u),this.is3Slice||(this.updateQuad(18,-.5,.5-a/u,-.5+r/f,-.5+h/u),this.updateQuad(24,-.5+r/f,.5-a/u,.5-l/f,-.5+h/u),this.updateQuad(30,.5-l/f,.5-a/u,.5,-.5+h/u),this.updateQuad(36,-.5,-.5+h/u,-.5+r/f,-.5),this.updateQuad(42,-.5+r/f,-.5+h/u,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+h/u,.5,-.5))},updateQuad:function(r,l,a,h,f){var u=this.width,d=this.height,m=this.originX,x=this.originY,S=this.vertices;S[r+0].resize(l,a,u,d,m,x),S[r+1].resize(l,f,u,d,m,x),S[r+2].resize(h,a,u,d,m,x),S[r+3].resize(l,f,u,d,m,x),S[r+4].resize(h,f,u,d,m,x),S[r+5].resize(h,a,u,d,m,x)},updateQuadUVs:function(r,l,a,h,f){var u=this.vertices,d=this.frame,m=d.u0,x=d.v0,S=d.u1,T=d.v1;if(m!==0||S!==1){var C=S-m;l=m+l*C,h=m+h*C}if(x!==0||T!==1){var A=T-x;a=x+a*A,f=x+f*A}u[r+0].setUVs(l,a),u[r+1].setUVs(l,f),u[r+2].setUVs(h,a),u[r+3].setUVs(l,f),u[r+4].setUVs(h,f),u[r+5].setUVs(h,a)},clearTint:function(){return this.setTint(16777215),this},setTint:function(r){return r===void 0&&(r=16777215),this.tint=r,this.tintFill=!1,this},setTintFill:function(r){return this.setTint(r),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(r){this._width=Math.max(r,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(r){this.is3Slice||(this._height=Math.max(r,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,l){this.width=r,this.height=l,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setDisplaySize:function(r,l){return this.displayWidth=r,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(r){this._originX=r,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(r){this._originY=r,this.updateVertices()}},setOrigin:function(r,l){return r===void 0&&(r=.5),l===void 0&&(l=r),this._originX=r,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var r=this.frame.height;this._height=r,this.topHeight=r,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=e},28279:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(35154),n=t(28103);v.register("nineslice",function(e,r){e===void 0&&(e={});var l=s(e,"key",null),a=s(e,"frame",null),h=i(e,"width",256),f=i(e,"height",256),u=i(e,"leftWidth",10),d=i(e,"rightWidth",10),m=i(e,"topHeight",0),x=i(e,"bottomHeight",0),S=new n(this.scene,0,0,l,a,h,f,u,d,m,x);return r!==void 0&&(e.add=r),o(this.scene,S,e),S})},47521:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28103),v=t(39429);v.register("nineslice",function(s,i,n,e,r,l,a,h,f,u){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a,h,f,u))})},78023:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(52230),c.exports={renderWebGL:v,renderCanvas:s}},52230:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),s=function(i,n,e,r){var l=n.vertices,a=l.length;if(a!==0){e.addToRenderList(n);var h=i.pipelines.set(n.pipeline,n),f=o(n,e,r,!1).calc;i.pipelines.preBatch(n);var u=h.setGameObject(n),d=h.vertexViewF32,m=h.vertexViewU32,x=h.vertexCount*h.currentShader.vertexComponentCount-1,S=e.roundPixels,T=n.tintFill,C=e.alpha*n.alpha,A=v.getTintAppendFloatAlpha(n.tint,C),w=h.vertexAvailable(),P=-1;w<a&&(P=w);for(var F=0;F<a;F++){var L=l[F];F===P&&(h.flush(),u=h.setGameObject(n),x=0),d[++x]=f.getXRound(L.vx,L.vy,S),d[++x]=f.getYRound(L.vx,L.vy,S),d[++x]=L.u,d[++x]=L.v,d[++x]=u,d[++x]=T,m[++x]=A,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}i.pipelines.postBatch(n)}};c.exports=s},76472:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(44777),s=t(37589),i=t(6113),n=t(91389),e=t(90664),r=new o({Extends:v,initialize:function(a){v.call(this,a,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,a=l,h=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=i("Linear"),this.interpolation=n("linear"),h=this.easedValueEmit,f=this.easeValueUpdate,a=l[0],this.active=!0;for(var u=0;u<l.length;u++){var d=e(l[u]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=h,this.onUpdate=f,this.current=a,this},setEase:function(l){this.easeName=l,this.ease=i(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,a,h){var f=this.ease(h),u=this.interpolation(this.r,f),d=this.interpolation(this.g,f),m=this.interpolation(this.b,f),x=s(u,d,m);return this.current=x,x}});c.exports=r},44777:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),v=t(45319),s=t(83419),i=t(99472),n=t(6113),e=t(95540),r=t(91389),l=t(77720),a=t(15994),h=new s({initialize:function(u,d,m){m===void 0&&(m=!1),this.propertyKey=u,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,u){f===void 0&&(f={}),u&&(this.propertyKey=u),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var u;switch(this.method){case 1:case 3:case 8:u=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(u=f);break;case 4:var d=(this.end-this.start)/this.steps;u=l(f,d),this.counter=u;break;case 5:case 6:case 7:u=v(f,this.start,this.end);break;case 9:u=this.start[0];break}return this.current=u,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var u=typeof f;if(u==="number")return 1;if(Array.isArray(f))return 2;if(u==="function")return 3;if(u==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,u=f,d=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,u=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,u=this.start;break;case 5:this.start=f.start,this.end=f.end;var x=this.has(f,"ease")?f.ease:"Linear";this.ease=n(x,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,u=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,u=this.start;break;case 7:var S=f.random;Array.isArray(S)&&(this.start=S[0],this.end=S[1]),d=this.randomRangedIntEmit,u=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,m=this.proxyUpdate;break;case 9:this.start=f.values;var T=this.has(f,"ease")?f.ease:"Linear";this.ease=n(T,f.easeParams),this.interpolation=r(f.interpolation),d=this.easedValueEmit,m=this.easeValueUpdate,u=this.start[0];break}return this.onEmit=d,this.onUpdate=m,this.current=u,this},has:function(f,u){return f.hasOwnProperty(u)},hasBoth:function(f,u,d){return f.hasOwnProperty(u)&&f.hasOwnProperty(d)},hasEither:function(f,u,d){return f.hasOwnProperty(u)||f.hasOwnProperty(d)},defaultEmit:function(f,u,d){return d},defaultUpdate:function(f,u,d,m){return m},proxyEmit:function(f,u,d){var m=this._onEmit(f,u,d);return this.current=m,m},proxyUpdate:function(f,u,d,m){var x=this._onUpdate(f,u,d,m);return this.current=x,x},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,u){var d=i(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,u){var d=o(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,u=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(u+=d,u>=this.end&&(m=u-this.end,u=this.end-m,this.direction=1)):(u-=d,u<=this.start&&(m=this.start-u,u=this.start+m,this.direction=0)),this.counter=u}else this.counter=a(u+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,u){if(f&&f.data[u]){var d=f.data[u];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,u,d){var m=f.data[u],x,S=this.ease(d);return this.interpolation?x=this.interpolation(this.start,S):x=(m.max-m.min)*S+m.min,this.current=x,x},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=h},24502:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=t(20286),i=new o({Extends:s,initialize:function(e,r,l,a,h){if(typeof e=="object"){var f=e;e=v(f,"x",0),r=v(f,"y",0),l=v(f,"power",0),a=v(f,"epsilon",100),h=v(f,"gravity",50)}else e===void 0&&(e=0),r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=100),h===void 0&&(h=50);s.call(this,e,r,!0),this._gravity=h,this._power=l*h,this._epsilon=a*a},update:function(n,e){var r=this.x-n.x,l=this.y-n.y,a=r*r+l*l;if(a!==0){var h=Math.sqrt(a);a<this._epsilon&&(a=this._epsilon);var f=this._power*e/(a*h)*100;n.velocityX+=r*f,n.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});c.exports=i},56480:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(45319),s=t(83419),i=t(39506),n=t(87841),e=t(11520),r=t(26099),l=new s({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new r,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=new o(this),this.bounds=new n},emit:function(a,h,f,u,d,m){return this.emitter.emit(a,h,f,u,d,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(a,h){a===void 0&&(a=0),h===void 0&&(h=0),this.x=a,this.y=h},fire:function(a,h){var f=this.emitter,u=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),a===void 0?this.x+=u.x.onEmit(this,"x"):u.x.steps>0?this.x+=a+u.x.onEmit(this,"x"):this.x+=a,h===void 0?this.y+=u.y.onEmit(this,"y"):u.y.steps>0?this.y+=h+u.y.onEmit(this,"y"):this.y+=h,this.life=u.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=u.delay.onEmit(this,"delay"),this.holdCurrent=u.hold.onEmit(this,"hold"),this.scaleX=u.scaleX.onEmit(this,"scaleX"),this.scaleY=u.scaleY.active?u.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=u.rotate.onEmit(this,"rotate"),this.rotation=i(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var m=u.speedX.onEmit(this,"speedX"),x=u.speedY.active?u.speedY.onEmit(this,"speedY"):m;if(f.radial){var S=i(u.angle.onEmit(this,"angle"));this.velocityX=Math.cos(S)*Math.abs(m),this.velocityY=Math.sin(S)*Math.abs(x)}else if(f.moveTo){var T=u.moveToX.onEmit(this,"moveToX"),C=u.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(T-this.x)/A,this.velocityY=(C-this.y)/A}else this.velocityX=m,this.velocityY=x;return f.acceleration&&(this.accelerationX=u.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=u.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=u.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=u.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=u.bounce.onEmit(this,"bounce"),this.alpha=u.alpha.onEmit(this,"alpha"),u.color.active?this.tint=u.color.onEmit(this,"tint"):this.tint=u.tint.onEmit(this,"tint"),!0},update:function(a,h,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=a,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=a,!1;this.anims.update(0,a);var u=this.emitter,d=u.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=d.x.onUpdate(this,"x",m,this.x),this.y=d.y.onUpdate(this,"y",m,this.y),u.moveTo){var x=d.moveToX.onUpdate(this,"moveToX",m,u.moveToX),S=d.moveToY.onUpdate(this,"moveToY",m,u.moveToY),T=this.lifeCurrent/1e3;this.velocityX=(x-this.x)/T,this.velocityY=(S-this.y)/T}return this.computeVelocity(u,a,h,f,m),this.scaleX=d.scaleX.onUpdate(this,"scaleX",m,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=i(this.angle),u.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(d.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",m,this.tint):this.tint=d.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(a,h,f,u,d){var m=a.ops,x=this.velocityX,S=this.velocityY,T=m.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),C=m.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),A=m.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),w=m.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",d,this.bounce),x+=a.gravityX*f+T*f,S+=a.gravityY*f+C*f,x=v(x,-A,A),S=v(S,-w,w),this.velocityX=x,this.velocityY=S,this.x+=x*f,this.y+=S*f,a.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var P=0;P<u.length;P++){var F=u[P];F.active&&F.update(this,h,f,d)}},setSizeToFrame:function(){},getBounds:function(a){a===void 0&&(a=this.emitter.getWorldTransformMatrix());var h=Math.abs(a.scaleX)*this.scaleX,f=Math.abs(a.scaleY)*this.scaleY,u=this.x,d=this.y,m=this.rotation,x=this.frame.width*h/2,S=this.frame.height*f/2,T=this.bounds,C=new r(u-x,d-S),A=new r(u+x,d-S),w=new r(u-x,d+S),P=new r(u+x,d+S);return m!==0&&(e(C,u,d,m),e(A,u,d,m),e(w,u,d,m),e(P,u,d,m)),a.transformPoint(C.x,C.y,C),a.transformPoint(A.x,A.y,A),a.transformPoint(w.x,w.y,w),a.transformPoint(P.x,P.y,P),T.x=Math.min(C.x,A.x,w.x,P.x),T.y=Math.min(C.y,A.y,w.y,P.y),T.width=Math.max(C.x,A.x,w.x,P.x)-T.x,T.height=Math.max(C.y,A.y,w.y,P.y)-T.y,T},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=l},69601:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(20286),s=t(87841),i=new o({Extends:v,initialize:function(e,r,l,a,h,f,u,d){h===void 0&&(h=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),v.call(this,e,r,!0),this.bounds=new s(e,r,l,a),this.collideLeft=h,this.collideRight=f,this.collideTop=u,this.collideBottom=d},update:function(n){var e=this.bounds,r=-n.bounce,l=n.worldPosition;l.x<e.x&&this.collideLeft?(n.x+=e.x-l.x,n.velocityX*=r):l.x>e.right&&this.collideRight&&(n.x-=l.x-e.right,n.velocityX*=r),l.y<e.y&&this.collideTop?(n.y+=e.y-l.y,n.velocityY*=r):l.y>e.bottom&&this.collideBottom&&(n.y-=l.y-e.bottom,n.velocityY*=r)}});c.exports=i},31600:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(53774),i=t(43459),n=t(26388),e=t(19909),r=t(76472),l=t(44777),a=t(20696),h=t(95643),f=t(95540),u=t(26546),d=t(24502),m=t(1985),x=t(97022),S=t(86091),T=t(73162),C=t(20074),A=t(56480),w=t(68875),P=t(87841),F=t(59996),L=t(72905),O=t(90668),I=t(19186),B=t(61340),U=t(26099),H=t(15994),Z=t(69601),tt=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],k=new o({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,O],initialize:function(z,Y,j,J,it){h.call(this,z,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new r("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new U,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(Y,j),this.setTexture(J),it&&this.setConfig(it)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var z=0,Y="",j=this.ops;for(z=0;z<X.length;z++)Y=X[z],j[Y].loadConfig(D);for(z=0;z<tt.length;z++)Y=tt[z],x(D,Y)&&(this[Y]=f(D,Y));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,x(D,"speed")&&(j.speedX.loadConfig(D,"speed"),j.speedY.active=!1),(m(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),x(D,"scale")&&(j.scaleX.loadConfig(D,"scale"),j.scaleY.active=!1),x(D,"callbackScope")){var J=f(D,"callbackScope",null);this.emitCallbackScope=J,this.deathCallbackScope=J}if(x(D,"emitZone")&&this.addEmitZone(D.emitZone),x(D,"deathZone")&&this.addDeathZone(D.deathZone),x(D,"bounds")){var it=this.addParticleBounds(D.bounds);it.collideLeft=f(D,"collideLeft",!0),it.collideRight=f(D,"collideRight",!0),it.collideTop=f(D,"collideTop",!0),it.collideBottom=f(D,"collideBottom",!0)}return x(D,"followOffset")&&this.followOffset.setFromObject(f(D,"followOffset",0)),x(D,"texture")&&this.setTexture(D.texture),x(D,"frame")?this.setEmitterFrame(D.frame):x(D,"anim")&&this.setAnim(D.anim),x(D,"reserve")&&this.reserve(D.reserve),x(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(a.START,this),this},toJSON:function(){var D=s(this),z=0,Y="";for(z=0;z<tt.length;z++)Y=tt[z],D[Y]=this[Y];var j=this.ops;for(z=0;z<X.length;z++)Y=X[z],j[Y]&&(D[Y]=j[Y].toJSON());return j.speedY.active||(delete D.speedX,D.speed=j.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=j.scaleX.toJSON()),D},resetCounters:function(D,z){var Y=this.counters;Y.fill(0),Y[0]=D,z&&(Y[5]=1)},startFollow:function(D,z,Y,j){return z===void 0&&(z=0),Y===void 0&&(Y=0),j===void 0&&(j=!1),this.follow=D,this.followOffset.set(z,Y),this.trackVisible=j,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,z=D.length,Y;return z===1?Y=D[0]:this.randomFrame?Y=u(D):(Y=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get(Y)},setEmitterFrame:function(D,z,Y){z===void 0&&(z=!0),Y===void 0&&(Y=1),this.randomFrame=z,this.frameQuantity=Y,this.currentFrame=0;var j=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(j==="string"||j==="number")this.frames.push(D);else if(j==="object"){var J=D;D=f(J,"frames",null),D&&(this.frames=this.frames.concat(D));var it=f(J,"cycle",!1);this.randomFrame=!it,this.frameQuantity=f(J,"quantity",Y)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,z=D.length;if(z===0)return null;if(z===1)return D[0];if(this.randomAnim)return u(D);var Y=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=H(this.currentAnim+1,0,z)),Y},setAnim:function(D,z,Y){z===void 0&&(z=!0),Y===void 0&&(Y=1),this.randomAnim=z,this.animQuantity=Y,this.currentAnim=0;var j=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(j==="string")this.anims.push(D);else if(j==="object"){var J=D;D=f(J,"anims",null),D&&(this.anims=this.anims.concat(D));var it=f(J,"cycle",!1);this.randomAnim=!it,this.animQuantity=f(J,"quantity",Y)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,z,Y,j,J,it,st,at){if(typeof D=="object"){var ft=D;D=ft.x,z=ft.y,Y=x(ft,"w")?ft.w:ft.width,j=x(ft,"h")?ft.h:ft.height}return this.addParticleProcessor(new Z(D,z,Y,j,J,it,st,at))},setParticleSpeed:function(D,z){return z===void 0&&(z=D),this.ops.speedX.onChange(D),D===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(D,z){return D===void 0&&(D=1),z===void 0&&(z=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(z),this},setParticleGravity:function(D,z){return this.gravityX=D,this.gravityY=z,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,z){return this.frequency=D,this.flowCounter=D>0?D:0,z&&(this.quantity=z),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var z,Y=[],j=0;j<D.length;j++)if(z=D[j],z instanceof n)Y.push(z);else if(typeof z.contains=="function")z=new n(z,!0),Y.push(z);else{var J=f(z,"type","onEnter"),it=f(z,"source",null);if(it&&typeof it.contains=="function"){var st=J==="onEnter";z=new n(it,st),Y.push(z)}}return this.deathZones=this.deathZones.concat(Y),Y},removeDeathZone:function(D){return L(this.deathZones,D),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var z,Y=[],j=0;j<D.length;j++)if(z=D[j],z instanceof w||z instanceof e)Y.push(z);else{var J=f(z,"source",null);if(J){var it=f(z,"type","random");if(it==="random"&&typeof J.getRandomPoint=="function")z=new w(J),Y.push(z);else if(it==="edge"&&typeof J.getPoints=="function"){var st=f(z,"quantity",1),at=f(z,"stepRate",0),ft=f(z,"yoyo",!1),vt=f(z,"seamless",!0),xt=f(z,"total",-1);z=new e(J,st,at,ft,vt,xt),Y.push(z)}}}return this.emitZones=this.emitZones.concat(Y),Y},removeEmitZone:function(D){return L(this.emitZones,D),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(D){var z=this.emitZones,Y=z.length;if(Y!==0){var j=z[this.zoneIndex];j.getPoint(D),j.total>-1&&(this.zoneTotal++,this.zoneTotal===j.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===Y&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var z=this.deathZones,Y=0;Y<z.length;Y++){var j=z[Y];if(j.willKill(D))return this.emit(a.DEATH_ZONE,this,D,j),!0}return!1},setEmitZone:function(D){var z;return isFinite(D)?z=D:z=this.emitZones.indexOf(D),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new d(D))},reserve:function(D){var z=this.dead;if(this.maxParticles>0){var Y=this.getParticleCount();Y+D>this.maxParticles&&(D=this.maxParticles-(Y+D))}for(var j=0;j<D;j++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,z){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(D,z){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var D=this.dead,z=this.alive;z.length>0;)D.push(z.pop());return this},forEachAlive:function(D,z){for(var Y=this.alive,j=Y.length,J=0;J<j;J++)D.call(z,Y[J],this);return this},forEachDead:function(D,z){for(var Y=this.dead,j=Y.length,J=0;J<j;J++)D.call(z,Y[J],this);return this},start:function(D,z){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(a.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(a.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,z){return D===void 0&&(D=""),z===void 0&&(z=this.true),this.sortProperty=D,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return I(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,z){var Y=this.sortProperty;return this.sortOrderAsc?D[Y]-z[Y]:z[Y]-D[Y]},flow:function(D,z,Y){return z===void 0&&(z=1),this.emitting=!1,this.frequency=D,this.quantity=z,Y!==void 0&&(this.stopAfter=Y),this.start()},explode:function(D,z,Y){this.frequency=-1,this.resetCounters(-1,!0);var j=this.emitParticle(D,z,Y);return this.emit(a.EXPLODE,this,j),j},emitParticleAt:function(D,z,Y){return this.emitParticle(Y,D,z)},emitParticle:function(D,z,Y){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var j=this.dead,J=this.stopAfter,it=this.follow?this.follow.x+this.followOffset.x:z,st=this.follow?this.follow.y+this.followOffset.y:Y,at=0;at<D;at++){var ft=j.pop();if(ft||(ft=new this.particleClass(this)),ft.fire(it,st)?(this.particleBringToTop?this.alive.push(ft):this.alive.unshift(ft),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ft,this)):this.dead.push(ft),J>0&&(this.stopCounter++,this.stopCounter>=J)||this.atLimit())break}return ft}},fastForward:function(D,z){z===void 0&&(z=1e3/60);var Y=0;for(this.skipping=!0;Y<Math.abs(D);)this.preUpdate(0,z),Y+=z;return this.skipping=!1,this},preUpdate:function(D,z){z*=this.timeScale;var Y=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var j=this.getProcessors(),J=this.alive,it=this.dead,st=0,at=[],ft=J.length;for(st=0;st<ft;st++){var vt=J[st];vt.update(z,Y,j)&&at.push({index:st,particle:vt})}if(ft=at.length,ft>0){var xt=this.deathCallback,Ct=this.deathCallbackScope;for(st=ft-1;st>=0;st--){var yt=at[st];J.splice(yt.index,1),it.push(yt.particle),xt&&xt.call(Ct,yt.particle),yt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&J.length===0&&(this.completeFlag=0,this.emit(a.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var z=this.getWorldTransformMatrix(),Y=this.alive,j=Y.length,J=[],it=0;it<j;it++){var st=Y[it];F(D,st.getBounds(z))&&J.push(st)}return J},getBounds:function(D,z,Y,j){D===void 0&&(D=0),z===void 0&&(z=0),Y===void 0&&(Y=1e3/60),j===void 0&&(j=new P);var J=this.getWorldTransformMatrix(),it,st,at=this.alive,ft=!1;if(j.setTo(0,0,0,0),z>0){var vt=0;for(this.skipping=!0;vt<Math.abs(z);){for(this.preUpdate(0,Y),it=0;it<at.length;it++)st=at[it].getBounds(J),ft?C(j,st):(ft=!0,i(st,j));vt+=Y}this.skipping=!1}else for(it=0;it<at.length;it++)st=at[it].getBounds(J),ft?C(j,st):(ft=!0,i(st,j));return D>0&&S(j,D,D),j},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,z=this.ops;for(D=0;D<X.length;D++){var Y=X[D];z[Y].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=k},9871:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),v=t(61340),s=new v,i=new v,n=new v,e=new v,r=function(l,a,h,f){var u=s,d=i,m=n,x=e;f?(x.loadIdentity(),x.multiply(f),x.translate(a.x,a.y),x.rotate(a.rotation),x.scale(a.scaleX,a.scaleY)):x.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var S=l.currentContext,T=h.roundPixels,C=h.alpha,A=a.alpha,w=a.alive,P=w.length,F=a.viewBounds;if(!(!a.visible||P===0||F&&!o(F,h.worldView))){a.sortCallback&&a.depthSort(),h.addToRenderList(a);var L=a.scrollFactorX,O=a.scrollFactorY;S.save(),S.globalCompositeOperation=l.blendModes[a.blendMode];for(var I=0;I<P;I++){var B=w[I],U=B.alpha*A*C;if(!(U<=0||B.scaleX===0||B.scaleY===0)){m.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),u.copyFrom(h.matrix),u.multiplyWithOffset(x,-h.scrollX*L,-h.scrollY*O),m.e=B.x,m.f=B.y,u.multiply(m,d);var H=B.frame,Z=H.canvasData;if(Z.width>0&&Z.height>0){var tt=-H.halfWidth,X=-H.halfHeight;S.globalAlpha=U,S.save(),d.setToContext(S),T&&(tt=Math.round(tt),X=Math.round(X)),S.imageSmoothingEnabled=!H.source.scaleMode,S.drawImage(H.source.image,Z.x,Z.y,Z.width,Z.height,tt,X,Z.width,Z.height),S.restore()}}}S.restore()}};c.exports=r},92730:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(95540),n=t(31600);v.register("particles",function(e,r){e===void 0&&(e={});var l=s(e,"key",null),a=i(e,"config",null),h=new n(this.scene,0,0,l);return r!==void 0&&(e.add=r),o(this.scene,h,e),a&&h.setConfig(a),h})},676:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(31600);o.register("particles",function(s,i,n,e){return s!==void 0&&typeof s=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,s,i,n,e))})},90668:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(21188),s=t(9871),c.exports={renderWebGL:v,renderCanvas:s}},21188:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),v=t(61340),s=t(70554),i=new v,n=new v,e=new v,r=new v,l=function(a,h,f,u){var d=a.pipelines.set(h.pipeline),m=i,x=n,S=e,T=r;u?(T.loadIdentity(),T.multiply(u),T.translate(h.x,h.y),T.rotate(h.rotation),T.scale(h.scaleX,h.scaleY)):T.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var C=s.getTintAppendFloatAlpha,A=f.alpha,w=h.alpha;a.pipelines.preBatch(h);var P=h.alive,F=P.length,L=h.viewBounds;if(!(F===0||L&&!o(L,f.worldView))){h.sortCallback&&h.depthSort(),f.addToRenderList(h),m.copyFrom(f.matrix),m.multiplyWithOffset(T,-f.scrollX*h.scrollFactorX,-f.scrollY*h.scrollFactorY),a.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(a,h,f),a.pipelines.set(h.pipeline));for(var O=h.tintFill,I,B,U=0;U<F;U++){var H=P[U],Z=H.alpha*w*A;if(!(Z<=0||H.scaleX===0||H.scaleY===0)){S.applyITRS(H.x,H.y,H.rotation,H.scaleX,H.scaleY),S.e=H.x,S.f=H.y,m.multiply(S,x);var tt=H.frame;tt.glTexture!==B&&(B=tt.glTexture,I=d.setGameObject(h,tt));var X=-tt.halfWidth,k=-tt.halfHeight,D=x.setQuad(X,k,X+tt.width,k+tt.height),z=C(H.tint,Z);d.shouldFlush(6)&&(d.flush(),I=d.setGameObject(h,tt)),d.batchQuad(h,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],tt.u0,tt.v0,tt.u1,tt.v1,z,z,z,z,O,B,I)}}h.mask&&h.mask.postRenderWebGL(a,f),a.pipelines.postBatch(h)}};c.exports=l},20286:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e){i===void 0&&(i=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=i,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});c.exports=v},9774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},812:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="deathzone"},30522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="explode"},96695:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},18677:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},20696:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n){this.source=i,this.killOnEnter=n},willKill:function(s){var i=s.worldPosition,n=this.source.contains(i.x,i.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});c.exports=v},19909:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e,r,l,a){r===void 0&&(r=!1),l===void 0&&(l=!0),a===void 0&&(a=-1),this.source=i,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=r,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=a,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var s=this.points[0],i=this.points[this.points.length-1];s.x===i.x&&s.y===i.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(s){return this.source=s,this.updateSource()},getPoint:function(s){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var i=this.points[this.counter];i&&(s.x=i.x,s.y=i.y)}});c.exports=v},68875:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(26099),s=new o({initialize:function(n){this.source=n,this._tempVec=new v,this.total=-1},getPoint:function(i){var n=this._tempVec;this.source.getRandomPoint(n),i.x=n.x,i.y=n.y}});c.exports=s},21024:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(68287),i=new o({Extends:s,Mixins:[v.PathFollower],initialize:function(e,r,l,a,h,f){s.call(this,e,l,a,h,f),this.path=r},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});c.exports=i},90145:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(1159);o.register("follower",function(s,i,n,e,r){var l=new v(this.scene,s,i,n,e,r);return this.displayList.add(l),this.updateList.add(l),l})},33663:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(83419),s=t(48803),i=t(90664),n=t(4703),e=t(45650),r=new v({Extends:n,initialize:function(a,h,f,u,d,m,x,S){u||(u="__DEFAULT"),n.call(this,a,h,f,u,d),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,x,S),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,a,h){l===void 0&&(l=8),a===void 0&&(a=8),h===void 0&&(h=!1);var f=!1;return h&&(f=!0),this.gridWidth=l,this.gridHeight=a,this.isTiled=h,this.clear(),s({mesh:this,widthSegments:l,heightSegments:a,isOrtho:!1,tile:h,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var a=this.frame;if(this.setPerspective(this.width/a.width,this.height/a.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var h=this.gridWidth,f=this.gridHeight,u=this.vertices,d=a.u0,m=a.u1,x=a.v0,S=a.v1,T,C,A=0;if(this.isTiled)for(x=a.v1,S=a.v0,C=0;C<f;C++)for(T=0;T<h;T++)u[A++].setUVs(d,S),u[A++].setUVs(d,x),u[A++].setUVs(m,S),u[A++].setUVs(d,x),u[A++].setUVs(m,x),u[A++].setUVs(m,S);else{var w=h+1,P=f+1,F=m-d,L=S-x,O=[];for(C=0;C<P;C++)for(T=0;T<w;T++){var I=d+F*(T/h),B=x+L*(C/f);O.push(I,B)}for(C=0;C<f;C++)for(T=0;T<h;T++){var U=(T+w*C)*2,H=(T+w*(C+1))*2,Z=(T+1+w*(C+1))*2,tt=(T+1+w*C)*2;u[A++].setUVs(O[U],O[U+1]),u[A++].setUVs(O[H],O[H+1]),u[A++].setUVs(O[tt],O[tt+1]),u[A++].setUVs(O[H],O[H+1]),u[A++].setUVs(O[Z],O[Z+1]),u[A++].setUVs(O[tt],O[tt+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var a=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(a/2),this.dirtyCache[10]=1},createCheckerboard:function(l,a,h,f,u){l===void 0&&(l=16777215),a===void 0&&(a=255),h===void 0&&(h=255),f===void 0&&(f=255),u===void 0&&(u=128);for(var d=i(l),m=i(a),x=[],S=0;S<16;S++)for(var T=0;T<16;T++)S<8&&T<8||S>7&&T>7?x.push(d.r,d.g,d.b,h):x.push(m.r,m.g,m.b,f);var C=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(x),16,16);return this.removeCheckerboard(),this.setTexture(C),this.setSizeToFrame(),this.setViewHeight(u),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,a){return this.anims.play(l,a)},playReverse:function(l,a){return this.anims.playReverse(l,a)},playAfterDelay:function(l,a){return this.anims.playAfterDelay(l,a)},playAfterRepeat:function(l,a){return this.anims.playAfterRepeat(l,a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,a){n.prototype.preUpdate.call(this,l,a),this.anims.update(l,a)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=r},56015:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(13059),s=t(44603),i=t(23568),n=t(35154),e=t(33663);s.register("plane",function(r,l){r===void 0&&(r={});var a=i(r,"key",null),h=i(r,"frame",null),f=n(r,"width",8),u=n(r,"height",8),d=n(r,"tile",!1),m=new e(this.scene,0,0,a,h,f,u,d);l!==void 0&&(r.add=l);var x=n(r,"checkerboard",null);if(x){var S=n(x,"color1",16777215),T=n(x,"color2",255),C=n(x,"alpha1",255),A=n(x,"alpha2",255),w=n(x,"height",128);m.createCheckerboard(S,T,C,A,w)}return o(this.scene,m,r),v(m,r),m})},30985:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33663),v=t(39429);v.register("plane",function(s,i,n,e,r,l,a){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a))})},80321:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(95643),i=t(30100),n=t(36060),e=t(67277),r=new o({Extends:s,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(a,h,f,u,d,m,x){u===void 0&&(u=16777215),d===void 0&&(d=128),m===void 0&&(m=1),x===void 0&&(x=.1),s.call(this,a,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,f),this.color=i(u),this.intensity=m,this.attenuation=x,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=r},39829:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(80321);v.register("pointlight",function(n,e){n===void 0&&(n={});var r=s(n,"color",16777215),l=s(n,"radius",128),a=s(n,"intensity",1),h=s(n,"attenuation",.1),f=new i(this.scene,0,0,r,l,a,h);return e!==void 0&&(n.add=e),o(this.scene,f,n),f})},71255:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(80321);o.register("pointlight",function(s,i,n,e,r,l){return this.displayList.add(new v(this.scene,s,i,n,e,r,l))})},67277:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(57787),c.exports={renderWebGL:v,renderCanvas:s}},57787:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(s,i,n,e){n.addToRenderList(i);var r=s.pipelines.set(i.pipeline),l=o(i,n,e).calc,a=i.width,h=i.height,f=-i._radius,u=-i._radius,d=f+a,m=u+h,x=l.getX(0,0),S=l.getY(0,0),T=l.getX(f,u),C=l.getY(f,u),A=l.getX(f,m),w=l.getY(f,m),P=l.getX(d,m),F=l.getY(d,m),L=l.getX(d,u),O=l.getY(d,u);s.pipelines.preBatch(i),r.batchPointLight(i,n,T,C,A,w,P,F,L,O,x,S),s.pipelines.postBatch(i)};c.exports=v},591:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(81320),s=t(88571),i=new o({Extends:s,initialize:function(e,r,l,a,h){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=32),h===void 0&&(h=32);var f=new v(e.sys.textures,"",a,h);s.call(this,e,r,l,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.texture.setSize(n,e),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=n,r.hitArea.height=e),this},resize:function(n,e){return this.setSize(n,e),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,r,l,a,h){return this.texture.fill(n,e,r,l,a,h),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,r,l,a){return this.texture.stamp(n,e,r,l,a),this},erase:function(n,e,r){return this.texture.erase(n,e,r),this},draw:function(n,e,r,l,a){return this.texture.draw(n,e,r,l,a),this},drawFrame:function(n,e,r,l,a,h){return this.texture.drawFrame(n,e,r,l,a,h),this},repeat:function(n,e,r,l,a,h,f,u,d){return this.texture.repeat(n,e,r,l,a,h,f,u,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,r,l,a){return this.texture.batchDraw(n,e,r,l,a),this},batchDrawFrame:function(n,e,r,l,a,h){return this.texture.batchDrawFrame(n,e,r,l,a,h),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,r,l,a,h,f){return this.texture.snapshotArea(n,e,r,l,a,h,f),this},snapshot:function(n,e,r){return this.snapshotArea(0,0,this.width,this.height,n,e,r)},snapshotPixel:function(n,e,r){return this.snapshotArea(n,e,1,1,r,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=i},34495:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(591);v.register("renderTexture",function(n,e){n===void 0&&(n={});var r=s(n,"x",0),l=s(n,"y",0),a=s(n,"width",32),h=s(n,"height",32),f=new i(this.scene,r,l,a,h);return e!==void 0&&(n.add=e),o(this.scene,f,n),f})},60505:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(591);o.register("renderTexture",function(s,i,n,e){return this.displayList.add(new v(this.scene,s,i,n,e))})},77757:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(83419),s=t(31401),i=t(95643),n=t(36060),e=t(38745),r=t(26099),l=new v({Extends:i,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.PostPipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,e],initialize:function(h,f,u,d,m,x,S,T,C){d===void 0&&(d="__DEFAULT"),x===void 0&&(x=2),S===void 0&&(S=!0),i.call(this,h,"Rope"),this.anims=new o(this),this.points=x,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=S,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,m),this.setPosition(f,u),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(x)&&this.resizeArrays(x.length),this.setPoints(x,T,C),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,h){var f=this.anims.currentFrame;this.anims.update(a,h),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(a,h,f){return this.anims.play(a,h,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,h,f){return a===void 0&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,h,f))},setVertical:function(a,h,f){return a===void 0&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,h,f)):this},setTintFill:function(a){return a===void 0&&(a=!1),this.tintFill=a,this},setAlphas:function(a,h){var f=this.points.length;if(f<1)return this;var u=this.alphas;a===void 0?a=[1]:!Array.isArray(a)&&h===void 0&&(a=[a]);var d,m=0;if(h!==void 0)for(d=0;d<f;d++)m=d*2,u[m]=a,u[m+1]=h;else if(a.length===f)for(d=0;d<f;d++)m=d*2,u[m]=a[d],u[m+1]=a[d];else{var x=a[0];for(d=0;d<f;d++)m=d*2,a.length>m&&(x=a[m]),u[m]=x,a.length>m+1&&(x=a[m+1]),u[m+1]=x}return this},setColors:function(a){var h=this.points.length;if(h<1)return this;var f=this.colors;a===void 0?a=[16777215]:Array.isArray(a)||(a=[a]);var u,d=0;if(a.length===h)for(u=0;u<h;u++)d=u*2,f[d]=a[u],f[d+1]=a[u];else{var m=a[0];for(u=0;u<h;u++)d=u*2,a.length>d&&(m=a[d]),f[d]=m,a.length>d+1&&(m=a[d+1]),f[d+1]=m}return this},setPoints:function(a,h,f){if(a===void 0&&(a=2),typeof a=="number"){var u=a;u<2&&(u=2),a=[];var d,m,x;if(this.horizontal)for(x=-this.frame.halfWidth,m=this.frame.width/(u-1),d=0;d<u;d++)a.push({x:x+d*m,y:0});else for(x=-this.frame.halfHeight,m=this.frame.height/(u-1),d=0;d<u;d++)a.push({x:0,y:x+d*m})}var S=a.length,T=this.points.length;return S<1?(console.warn("Rope: Not enough points given"),this):(S===1&&(a.unshift({x:0,y:0}),S++),T!==S&&this.resizeArrays(S),this.dirty=!0,this.points=a,this.updateUVs(),h!=null&&this.setColors(h),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var a=this.uv,h=this.points.length,f=this.frame.u0,u=this.frame.v0,d=this.frame.u1,m=this.frame.v1,x=(d-f)/(h-1),S=(m-u)/(h-1),T=0;T<h;T++){var C=T*4,A,w,P,F;this.horizontal?(this._flipX?(A=d-T*x,P=d-T*x):(A=f+T*x,P=f+T*x),this._flipY?(w=m,F=u):(w=u,F=m)):(this._flipX?(A=f,P=d):(A=d,P=f),this._flipY?(w=m-T*S,F=m-T*S):(w=u+T*S,F=u+T*S)),a[C+0]=A,a[C+1]=w,a[C+2]=P,a[C+3]=F}return this},resizeArrays:function(a){var h=this.colors,f=this.alphas;this.vertices=new Float32Array(a*4),this.uv=new Float32Array(a*4),h=new Uint32Array(a*2),f=new Float32Array(a*2);for(var u=0;u<a*2;u++)h[u]=16777215,f[u]=1;return this.colors=h,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var a=this._perp,h=this.points,f=this.vertices,u=h.length;if(this.dirty=!1,!(u<1)){for(var d,m=h[0],x=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,S=0;S<u;S++){var T=h[S],C=S*4;S<u-1?d=h[S+1]:d=T,a.x=d.y-m.y,a.y=-(d.x-m.x);var A=a.length();a.x/=A,a.y/=A,a.x*=x,a.y*=x,f[C]=T.x+a.x,f[C+1]=T.y+a.y,f[C+2]=T.x-a.x,f[C+3]=T.y-a.y,m=T}return this}},setDebug:function(a,h){return this.debugGraphic=a,!a&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(a,h,f){var u=a.debugGraphic,d=f[0],m=f[1],x=f[2],S=f[3];u.lineBetween(d,m,x,S);for(var T=4;T<h;T+=4){var C=f[T+0],A=f[T+1],w=f[T+2],P=f[T+3];u.lineBetween(d,m,C,A),u.lineBetween(x,S,w,P),u.lineBetween(x,S,C,A),u.lineBetween(C,A,w,P),d=C,m=A,x=w,S=P}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});c.exports=l},95262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};c.exports=y},26209:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(35154),n=t(77757);v.register("rope",function(e,r){e===void 0&&(e={});var l=s(e,"key",null),a=s(e,"frame",null),h=s(e,"horizontal",!0),f=i(e,"points",void 0),u=i(e,"colors",void 0),d=i(e,"alphas",void 0),m=new n(this.scene,0,0,l,a,f,h,u,d);return r!==void 0&&(e.add=r),o(this.scene,m,e),m})},96819:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(77757),v=t(39429);v.register("rope",function(s,i,n,e,r,l,a,h){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a,h))})},38745:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(20439),s=t(95262),c.exports={renderWebGL:v,renderCanvas:s}},20439:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline,n),a=o(n,e,r).calc,h=n.vertices,f=n.uv,u=n.colors,d=n.alphas,m=n.alpha,x=v.getTintAppendFloatAlpha,S=e.roundPixels,T=h.length,C=Math.floor(T*.5);l.flush(),i.pipelines.preBatch(n);var A=l.setGameObject(n),w=l.vertexViewF32,P=l.vertexViewU32,F=l.vertexCount*l.currentShader.vertexComponentCount-1,L=0,O=n.tintFill;n.dirty&&n.updateVertices();for(var I=n.debugCallback,B=[],U=0;U<T;U+=2){var H=h[U+0],Z=h[U+1],tt=H*a.a+Z*a.c+a.e,X=H*a.b+Z*a.d+a.f;S&&(tt=Math.round(tt),X=Math.round(X)),w[++F]=tt,w[++F]=X,w[++F]=f[U+0],w[++F]=f[U+1],w[++F]=A,w[++F]=O,P[++F]=x(u[L],e.alpha*(d[L]*m)),L++,I&&(B[U+0]=tt,B[U+1]=X)}I&&I.call(n,n,T,B),l.vertexCount+=C,l.currentBatch.count=l.vertexCount-l.currentBatch.start,i.pipelines.postBatch(n)};c.exports=s},20071:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(95643),i=t(95540),n=t(79291),e=t(61622),r=t(25479),l=t(61340),a=t(95428),h=t(92503),f=new o({Extends:s,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,r],initialize:function(d,m,x,S,T,C,A,w){x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=128),C===void 0&&(C=128),s.call(this,d,"Shader"),this.blendMode=-1,this.shader;var P=d.sys.renderer;this.renderer=P,this.gl=P.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=P.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=P.width,this._rendererHeight=P.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(x,S),this.setSize(T,C),this.setOrigin(.5,.5),this.setShader(m,A,w),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(u){return this.renderToTexture?!0:!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setRenderToTexture:function(u,d){if(!this.renderToTexture){var m=this.width,x=this.height,S=this.renderer;this.glTexture=S.createTextureFromSource(null,m,x,0),this.framebuffer=S.createFramebuffer(m,x,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=x,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),u&&(this.texture=this.scene.sys.textures.addGLTexture(u,this.glTexture))}return this.shader&&(S.pipelines.clear(),this.load(),this.flush(),S.pipelines.rebind()),this},setShader:function(u,d,m){if(this.renderer.contextLost)return this._deferSetShader={key:u,textures:d,textureData:m},this;if(d===void 0&&(d=[]),typeof u=="string"){var x=this.scene.sys.cache.shader;if(!x.has(u))return console.warn("Shader missing: "+u),this;this.shader=x.get(u)}else this.shader=u;var S=this.gl,T=this.renderer;this.program&&T.deleteProgram(this.program);var C=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);S.uniformMatrix4fv(S.getUniformLocation(C.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),S.uniformMatrix4fv(S.getUniformLocation(C.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),S.uniform2f(S.getUniformLocation(C.webGLProgram,"uResolution"),this.width,this.height),this.program=C;var A=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var P=0;P<4;P++)d[P]&&this.setSampler2D("iChannel"+P,d[P],P,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(u){return this.pointer=u,this},projOrtho:function(u,d,m,x){if(this.renderer.contextLost){this._deferProjOrtho={left:u,right:d,bottom:m,top:x};return}var S=-1e3,T=1e3,C=1/(u-d),A=1/(m-x),w=1/(S-T),P=this.projectionMatrix;P[0]=-2*C,P[5]=-2*A,P[10]=2*w,P[12]=(u+d)*C,P[13]=(x+m)*A,P[14]=(T+S)*w;var F=this.program,L=this.gl,O=this.renderer;O.setProgram(F),L.uniformMatrix4fv(L.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=m},initUniforms:function(){var u=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var m in this.uniforms){var x=this.uniforms[m],S=x.type,T=u[S];x.uniformLocation=this.renderer.createUniformLocation(d,m),S!=="sampler2D"&&(x.glMatrix=T.matrix,x.glValueLength=T.length,x.glFunc=T.func)}},setSampler2DBuffer:function(u,d,m,x,S,T){S===void 0&&(S=0),T===void 0&&(T={});var C=this.uniforms[u];return C.value=d,T.width=m,T.height=x,C.textureData=T,this._textureCount=S,this.initSampler2D(C),this},setSampler2D:function(u,d,m,x){m===void 0&&(m=0);var S=this.scene.sys.textures;if(S.exists(d)){var T=S.getFrame(d);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(u,T.glTexture,T.width,T.height,m,x);var C=this.uniforms[u],A=T.source;C.textureKey=d,C.source=A.image,C.value=T.glTexture,A.isGLTexture&&(x||(x={}),x.width=A.width,x.height=A.height),x&&(C.textureData=x),this._textureCount=m,this.initSampler2D(C)}return this},setUniform:function(u,d){return e(this.uniforms,u,d),this},getUniform:function(u){return i(this.uniforms,u,null)},setChannel0:function(u,d){return this.setSampler2D("iChannel0",u,0,d)},setChannel1:function(u,d){return this.setSampler2D("iChannel1",u,1,d)},setChannel2:function(u,d){return this.setSampler2D("iChannel2",u,2,d)},setChannel3:function(u,d){return this.setSampler2D("iChannel3",u,3,d)},initSampler2D:function(u){if(u.value){var d=u.textureData;if(d&&!u.value.isRenderTexture){var m=this.gl,x=u.value,S=m[i(d,"magFilter","linear").toUpperCase()],T=m[i(d,"minFilter","linear").toUpperCase()],C=m[i(d,"wrapS","repeat").toUpperCase()],A=m[i(d,"wrapT","repeat").toUpperCase()],w=m[i(d,"format","rgba").toUpperCase()],P=i(d,"flipY",!1),F=i(d,"width",x.width),L=i(d,"height",x.height),O=i(d,"source",x.pixels);d.repeat&&(C=m.REPEAT,A=m.REPEAT),d.width&&(O=null),x.update(O,F,L,P,C,A,T,S,w)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var u=this.gl,d=this.uniforms,m,x,S,T,C,A=0;for(var w in d)m=d[w],S=m.glFunc,x=m.glValueLength,T=m.uniformLocation,C=m.value,C!==null&&(x===1?m.glMatrix?S.call(u,T.webGLUniformLocation,m.transpose,C):S.call(u,T.webGLUniformLocation,C):x===2?S.call(u,T.webGLUniformLocation,C.x,C.y):x===3?S.call(u,T.webGLUniformLocation,C.x,C.y,C.z):x===4?S.call(u,T.webGLUniformLocation,C.x,C.y,C.z,C.w):m.type==="sampler2D"&&(u.activeTexture(u.TEXTURE0+A),u.bindTexture(u.TEXTURE_2D,C.webGLTexture),u.uniform1i(T.webGLUniformLocation,A),A++))},load:function(u){var d=this.gl,m=this.width,x=this.height,S=this.renderer,T=this.program,C=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,w=-this._displayOriginY;C[0]=u[0],C[1]=u[1],C[4]=u[2],C[5]=u[3],C[8]=u[4],C[9]=u[5],C[12]=C[0]*A+C[4]*w,C[13]=C[1]*A+C[5]*w}d.useProgram(T.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,C),d.uniformMatrix4fv(d.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height);var P=this.uniforms,F=P.resolution;F.value.x=m,F.value.y=x,P.time.value=S.game.loop.getDuration();var L=this.pointer;if(L){var O=P.mouse,I=L.x/m,B=1-L.y/x;O.value.x=I.toFixed(2),O.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var u=this.width,d=this.height,m=this.program,x=this.gl,S=this.vertexBuffer,T=this.renderer,C=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT)),x.bindBuffer(x.ARRAY_BUFFER,S.webGLBuffer);var A=x.getAttribLocation(m.webGLProgram,"inPosition");A!==-1&&(x.enableVertexAttribArray(A),x.vertexAttribPointer(A,2,x.FLOAT,!1,C,0));var w=this.vertexViewF32;w[3]=d,w[4]=u,w[5]=d,w[8]=u,w[9]=d,w[10]=u;var P=6;x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,P*C)),x.drawArrays(x.TRIANGLES,0,P),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var u=this._deferSetShader.key,d=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(u,d,m)}if(this._deferProjOrtho!==null){var x=this._deferProjOrtho.left,S=this._deferProjOrtho.right,T=this._deferProjOrtho.bottom,C=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(x,S,T,C)}},preDestroy:function(){var u=this.renderer;u.off(h.RESTORE_WEBGL,this.onContextRestored,this),u.deleteProgram(this.program),u.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(u.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),a(this.uniforms,function(d){u.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});c.exports=f},80464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};c.exports=y},54935:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(20071);v.register("shader",function(n,e){n===void 0&&(n={});var r=s(n,"key",null),l=s(n,"x",0),a=s(n,"y",0),h=s(n,"width",128),f=s(n,"height",128),u=new i(this.scene,r,l,a,h,f);return e!==void 0&&(n.add=e),o(this.scene,u,n),u})},74177:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20071),v=t(39429);v.register("shader",function(s,i,n,e,r,l,a){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a))})},25479:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(19257),s=t(80464),c.exports={renderWebGL:v,renderCanvas:s}},19257:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(s,i,n,e){if(i.shader){if(n.addToRenderList(i),s.pipelines.clear(),i.renderToTexture)i.load(),i.flush();else{var r=o(i,n,e).calc;(s.width!==i._rendererWidth||s.height!==i._rendererHeight)&&i.projOrtho(0,s.width,s.height,0),i.load(r.matrix),i.flush()}s.pipelines.rebind()}};c.exports=v},10441:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(s,i,n,e,r,l){for(var a=o.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),h=n.pathData,f=n.pathIndexes,u=0;u<f.length;u+=3){var d=f[u]*2,m=f[u+1]*2,x=f[u+2]*2,S=h[d+0]-r,T=h[d+1]-l,C=h[m+0]-r,A=h[m+1]-l,w=h[x+0]-r,P=h[x+1]-l,F=i.getX(S,T),L=i.getY(S,T),O=i.getX(C,A),I=i.getY(C,A),B=i.getX(w,P),U=i.getY(w,P);s.batchTri(n,F,L,O,I,B,U,0,0,1,1,a,a,a,2)}};c.exports=v},65960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=v||o.fillColor,n=s||o.fillAlpha,e=(i&16711680)>>>16,r=(i&65280)>>>8,l=i&255;t.fillStyle="rgba("+e+","+r+","+l+","+n+")"};c.exports=y},75177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=v||o.strokeColor,n=s||o.strokeAlpha,e=(i&16711680)>>>16,r=(i&65280)>>>8,l=i&255;t.strokeStyle="rgba("+e+","+r+","+l+","+n+")",t.lineWidth=o.lineWidth};c.exports=y},17803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(95643),i=t(23031),n=new o({Extends:s,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(r,l,a){l===void 0&&(l="Shape"),s.call(this,r,l),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new i,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,r){return r===void 0&&(r=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(e,r,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=r,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,r){return this.width=e,this.height=r,this},setDisplaySize:function(e,r){return this.displayWidth=e,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});c.exports=n},34682:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(s,i,n,e,r){var l=s.strokeTint,a=o.getTintAppendFloatAlpha(i.strokeColor,i.strokeAlpha*n);l.TL=a,l.TR=a,l.BL=a,l.BR=a;var h=i.pathData,f=h.length-1,u=i.lineWidth,d=u/2,m=h[0]-e,x=h[1]-r;i.closePath||(f-=2);for(var S=2;S<f;S+=2){var T=h[S]-e,C=h[S+1]-r;s.batchLine(m,x,T,C,d,d,u,S-2,i.closePath?S===f-1:!1),m=T,x=C}};c.exports=v},23629:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13609),v=t(83419),s=t(39506),i=t(94811),n=t(96503),e=t(36383),r=t(17803),l=new v({Extends:r,Mixins:[o],initialize:function(h,f,u,d,m,x,S,T,C){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),m===void 0&&(m=0),x===void 0&&(x=360),S===void 0&&(S=!1),r.call(this,h,"Arc",new n(0,0,d)),this._startAngle=m,this._endAngle=x,this._anticlockwise=S,this._iterations=.01,this.setPosition(f,u);var A=this.geom.radius*2;this.setSize(A,A),T!==void 0&&this.setFillStyle(T,C),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var h=a*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return a===void 0&&(a=.01),this.iterations=a,this},setStartAngle:function(a,h){return this._startAngle=a,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(a,h){return this._endAngle=a,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var a=this._iterations,h=a,f=this.geom.radius,u=s(this._startAngle),d=s(this._endAngle),m=this._anticlockwise,x=f,S=f;d-=u,m?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var T=[x+Math.cos(u)*f,S+Math.sin(u)*f],C;h<1;)C=d*h+u,T.push(x+Math.cos(C)*f,S+Math.sin(C)*f),h+=a;return C=d+u,T.push(x+Math.cos(C)*f,S+Math.sin(C)*f),T.push(x+Math.cos(u)*f,S+Math.sin(u)*f),this.pathIndexes=i(T),this.pathData=T,this}});c.exports=l},42542:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),v=t(65960),s=t(75177),i=t(20926),n=function(e,r,l,a){l.addToRenderList(r);var h=e.currentContext;if(i(e,h,r,l,a)){var f=r.radius;h.beginPath(),h.arc(f-r.originX*(f*2),f-r.originY*(f*2),f,o(r._startAngle),o(r._endAngle),r.anticlockwise),r.closePath&&h.closePath(),r.isFilled&&(v(h,r),h.fill()),r.isStroked&&(s(h,r),h.stroke()),h.restore()}};c.exports=n},42563:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23629),v=t(39429);v.register("arc",function(s,i,n,e,r,l,a,h){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a,h))}),v.register("circle",function(s,i,n,e,r){return this.displayList.add(new o(this.scene,s,i,n,0,360,!1,e,r))})},13609:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(41447),s=t(42542),c.exports={renderWebGL:v,renderCanvas:s}},41447:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(10441),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=o(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,d=e._displayOriginY,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&v(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},89:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(33141),s=t(94811),i=t(87841),n=t(17803),e=new o({Extends:n,Mixins:[v],initialize:function(l,a,h,f,u,d){a===void 0&&(a=0),h===void 0&&(h=0),n.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new i,this.closePath=!1,this.setPosition(a,h),u!==void 0&&this.setFillStyle(u,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,l=this._smoothness;this.geom.getBounds(r,l),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var a=[],h=this.geom.getPoints(l),f=0;f<h.length;f++)a.push(h[f].x,h[f].y);return a.push(h[0].x,h[0].y),this.pathIndexes=s(a),this.pathData=a,this}});c.exports=e},3170:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,u=e.pathData,d=u.length-1,m=u[0]-h,x=u[1]-f;a.beginPath(),a.moveTo(m,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=u[S]-h,C=u[S+1]-f;a.lineTo(T,C)}e.closePath&&a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(v(a,e),a.stroke()),a.restore()}};c.exports=i},40511:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(89);o.register("curve",function(s,i,n,e,r){return this.displayList.add(new v(this.scene,s,i,n,e,r))})},33141:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(53987),s=t(3170),c.exports={renderWebGL:v,renderCanvas:s}},53987:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),v=t(91296),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=v(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},19921:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(94811),s=t(54205),i=t(8497),n=t(17803),e=new o({Extends:n,Mixins:[s],initialize:function(l,a,h,f,u,d,m){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=128),u===void 0&&(u=128),n.call(this,l,"Ellipse",new i(f/2,u/2,f,u)),this._smoothness=64,this.setPosition(a,h),this.width=f,this.height=u,d!==void 0&&this.setFillStyle(d,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,l){return this.width=r,this.height=l,this.geom.setPosition(r/2,l/2),this.geom.setSize(r,l),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],l=this.geom.getPoints(this._smoothness),a=0;a<l.length;a++)r.push(l[a].x,l[a].y);return r.push(l[0].x,l[0].y),this.pathIndexes=v(r),this.pathData=r,this}});c.exports=e},7930:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,m=u[0]-h,x=u[1]-f;a.beginPath(),a.moveTo(m,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=u[S]-h,C=u[S+1]-f;a.lineTo(T,C)}a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(v(a,e),a.stroke()),a.restore()}};c.exports=i},1543:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19921),v=t(39429);v.register("ellipse",function(s,i,n,e,r,l){return this.displayList.add(new o(this.scene,s,i,n,e,r,l))})},54205:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(19467),s=t(7930),c.exports={renderWebGL:v,renderCanvas:s}},19467:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),v=t(91296),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=v(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,d=e._displayOriginY,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},30479:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(17803),s=t(26015),i=new o({Extends:v,Mixins:[s],initialize:function(e,r,l,a,h,f,u,d,m,x,S){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=128),h===void 0&&(h=128),f===void 0&&(f=32),u===void 0&&(u=32),v.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=u,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,l),this.setSize(a,h),this.setFillStyle(d,m),x!==void 0&&this.setOutlineStyle(x,S),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});c.exports=i},49912:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=-e._displayOriginX,f=-e._displayOriginY,u=r.alpha*e.alpha,d=e.width,m=e.height,x=e.cellWidth,S=e.cellHeight,T=Math.ceil(d/x),C=Math.ceil(m/S),A=x,w=S,P=x-(T*x-d),F=S-(C*S-m),L=e.showCells,O=e.showAltCells,I=e.showOutline,B=0,U=0,H=0,Z=0,tt=0;if(I&&(A--,w--,P===x&&P--,F===S&&F--),L&&e.fillAlpha>0)for(o(a,e),U=0;U<C;U++)for(O&&(H=U%2),B=0;B<T;B++){if(O&&H){H=0;continue}H++,Z=B<T-1?A:P,tt=U<C-1?w:F,a.fillRect(h+B*x,f+U*S,Z,tt)}if(O&&e.altFillAlpha>0)for(o(a,e,e.altFillColor,e.altFillAlpha*u),U=0;U<C;U++)for(O&&(H=U%2),B=0;B<T;B++){if(O&&!H){H=1;continue}H=0,Z=B<T-1?A:P,tt=U<C-1?w:F,a.fillRect(h+B*x,f+U*S,Z,tt)}if(I&&e.outlineFillAlpha>0){for(v(a,e,e.outlineFillColor,e.outlineFillAlpha*u),B=1;B<T;B++){var X=B*x;a.beginPath(),a.moveTo(X+h,f),a.lineTo(X+h,m+f),a.stroke()}for(U=1;U<C;U++){var k=U*S;a.beginPath(),a.moveTo(h,k+f),a.lineTo(h+d,k+f),a.stroke()}}a.restore()}};c.exports=i},34137:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(30479);o.register("grid",function(s,i,n,e,r,l,a,h,f,u){return this.displayList.add(new v(this.scene,s,i,n,e,r,l,a,h,f,u))})},26015:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(46161),s=t(49912),c.exports={renderWebGL:v,renderCanvas:s}},46161:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline),a=o(n,e,r),h=l.calcMatrix.copyFrom(a.calc);h.translate(-n._displayOriginX,-n._displayOriginY);var f=e.alpha*n.alpha,u=n.width,d=n.height,m=n.cellWidth,x=n.cellHeight,S=Math.ceil(u/m),T=Math.ceil(d/x),C=m,A=x,w=m-(S*m-u),P=x-(T*x-d),F,L,O=n.showCells,I=n.showAltCells,B=n.showOutline,U=0,H=0,Z=0,tt=0,X=0;if(B&&(C--,A--,w===m&&w--,P===x&&P--),i.pipelines.preBatch(n),O&&n.fillAlpha>0)for(F=l.fillTint,L=v.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*f),F.TL=L,F.TR=L,F.BL=L,F.BR=L,H=0;H<T;H++)for(I&&(Z=H%2),U=0;U<S;U++){if(I&&Z){Z=0;continue}Z++,tt=U<S-1?C:w,X=H<T-1?A:P,l.batchFillRect(U*m,H*x,tt,X)}if(I&&n.altFillAlpha>0)for(F=l.fillTint,L=v.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*f),F.TL=L,F.TR=L,F.BL=L,F.BR=L,H=0;H<T;H++)for(I&&(Z=H%2),U=0;U<S;U++){if(I&&!Z){Z=1;continue}Z=0,tt=U<S-1?C:w,X=H<T-1?A:P,l.batchFillRect(U*m,H*x,tt,X)}if(B&&n.outlineFillAlpha>0){var k=l.strokeTint,D=v.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*f);for(k.TL=D,k.TR=D,k.BL=D,k.BR=D,U=1;U<S;U++){var z=U*m;l.batchLine(z,0,z,d,1,1,1,0,!1)}for(H=1;H<T;H++){var Y=H*x;l.batchLine(0,Y,u,Y,1,1,1,0,!1)}}i.pipelines.postBatch(n)};c.exports=s},61475:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99651),v=t(83419),s=t(17803),i=new v({Extends:s,Mixins:[o],initialize:function(e,r,l,a,h,f,u,d){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=48),h===void 0&&(h=32),f===void 0&&(f=15658734),u===void 0&&(u=10066329),d===void 0&&(d=13421772),s.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=u,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,l),this.setSize(a,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,r){return n===void 0&&(n=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=n,this.showLeft=e,this.showRight=r,this},setFillStyle:function(n,e,r){return this.fillTop=n,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});c.exports=i},11508:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(20926),s=function(i,n,e,r){e.addToRenderList(n);var l=i.currentContext;if(v(i,l,n,e,r)&&n.isFilled){var a=n.width,h=n.height,f=a/2,u=a/n.projection;n.showTop&&(o(l,n,n.fillTop),l.beginPath(),l.moveTo(-f,-h),l.lineTo(0,-u-h),l.lineTo(f,-h),l.lineTo(f,-1),l.lineTo(0,u-1),l.lineTo(-f,-1),l.lineTo(-f,-h),l.fill()),n.showLeft&&(o(l,n,n.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,u),l.lineTo(0,u-h),l.lineTo(-f,-h),l.lineTo(-f,0),l.fill()),n.showRight&&(o(l,n,n.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,u),l.lineTo(0,u-h),l.lineTo(f,-h),l.lineTo(f,0),l.fill()),l.restore()}};c.exports=s},3933:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(61475);o.register("isobox",function(s,i,n,e,r,l,a){return this.displayList.add(new v(this.scene,s,i,n,e,r,l,a))})},99651:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(68149),s=t(11508),c.exports={renderWebGL:v,renderCanvas:s}},68149:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline),a=o(n,e,r),h=l.calcMatrix.copyFrom(a.calc),f=n.width,u=n.height,d=f/2,m=f/n.projection,x=e.alpha*n.alpha;if(n.isFilled){var S,T,C,A,w,P,F,L,O;i.pipelines.preBatch(n),n.showTop&&(S=v.getTintAppendFloatAlpha(n.fillTop,x),T=h.getX(-d,-u),C=h.getY(-d,-u),A=h.getX(0,-m-u),w=h.getY(0,-m-u),P=h.getX(d,-u),F=h.getY(d,-u),L=h.getX(0,m-u),O=h.getY(0,m-u),l.batchQuad(n,T,C,A,w,P,F,L,O,0,0,1,1,S,S,S,S,2)),n.showLeft&&(S=v.getTintAppendFloatAlpha(n.fillLeft,x),T=h.getX(-d,0),C=h.getY(-d,0),A=h.getX(0,m),w=h.getY(0,m),P=h.getX(0,m-u),F=h.getY(0,m-u),L=h.getX(-d,-u),O=h.getY(-d,-u),l.batchQuad(n,T,C,A,w,P,F,L,O,0,0,1,1,S,S,S,S,2)),n.showRight&&(S=v.getTintAppendFloatAlpha(n.fillRight,x),T=h.getX(d,0),C=h.getY(d,0),A=h.getX(0,m),w=h.getY(0,m),P=h.getX(0,m-u),F=h.getY(0,m-u),L=h.getX(d,-u),O=h.getY(d,-u),l.batchQuad(n,T,C,A,w,P,F,L,O,0,0,1,1,S,S,S,S,2)),i.pipelines.postBatch(n)}};c.exports=s},16933:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(60561),s=t(17803),i=new o({Extends:s,Mixins:[v],initialize:function(e,r,l,a,h,f,u,d,m){r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a=48),h===void 0&&(h=32),f===void 0&&(f=!1),u===void 0&&(u=15658734),d===void 0&&(d=10066329),m===void 0&&(m=13421772),s.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(r,l),this.setSize(a,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,r){return n===void 0&&(n=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=n,this.showLeft=e,this.showRight=r,this},setFillStyle:function(n,e,r){return this.fillTop=n,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});c.exports=i},79590:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(20926),s=function(i,n,e,r){e.addToRenderList(n);var l=i.currentContext;if(v(i,l,n,e,r)&&n.isFilled){var a=n.width,h=n.height,f=a/2,u=a/n.projection,d=n.isReversed;n.showTop&&d&&(o(l,n,n.fillTop),l.beginPath(),l.moveTo(-f,-h),l.lineTo(0,-u-h),l.lineTo(f,-h),l.lineTo(0,u-h),l.fill()),n.showLeft&&(o(l,n,n.fillLeft),l.beginPath(),d?(l.moveTo(-f,-h),l.lineTo(0,u),l.lineTo(0,u-h)):(l.moveTo(-f,0),l.lineTo(0,u),l.lineTo(0,u-h)),l.fill()),n.showRight&&(o(l,n,n.fillRight),l.beginPath(),d?(l.moveTo(f,-h),l.lineTo(0,u),l.lineTo(0,u-h)):(l.moveTo(f,0),l.lineTo(0,u),l.lineTo(0,u-h)),l.fill()),l.restore()}};c.exports=s},49803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(16933);o.register("isotriangle",function(s,i,n,e,r,l,a,h){return this.displayList.add(new v(this.scene,s,i,n,e,r,l,a,h))})},60561:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(51503),s=t(79590),c.exports={renderWebGL:v,renderCanvas:s}},51503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline),a=o(n,e,r),h=l.calcMatrix.copyFrom(a.calc),f=n.width,u=n.height,d=f/2,m=f/n.projection,x=n.isReversed,S=e.alpha*n.alpha;if(n.isFilled){i.pipelines.preBatch(n);var T,C,A,w,P,F,L;if(n.showTop&&x){T=v.getTintAppendFloatAlpha(n.fillTop,S),C=h.getX(-d,-u),A=h.getY(-d,-u),w=h.getX(0,-m-u),P=h.getY(0,-m-u),F=h.getX(d,-u),L=h.getY(d,-u);var O=h.getX(0,m-u),I=h.getY(0,m-u);l.batchQuad(n,C,A,w,P,F,L,O,I,0,0,1,1,T,T,T,T,2)}n.showLeft&&(T=v.getTintAppendFloatAlpha(n.fillLeft,S),x?(C=h.getX(-d,-u),A=h.getY(-d,-u),w=h.getX(0,m),P=h.getY(0,m),F=h.getX(0,m-u),L=h.getY(0,m-u)):(C=h.getX(-d,0),A=h.getY(-d,0),w=h.getX(0,m),P=h.getY(0,m),F=h.getX(0,m-u),L=h.getY(0,m-u)),l.batchTri(n,C,A,w,P,F,L,0,0,1,1,T,T,T,2)),n.showRight&&(T=v.getTintAppendFloatAlpha(n.fillRight,S),x?(C=h.getX(d,-u),A=h.getY(d,-u),w=h.getX(0,m),P=h.getY(0,m),F=h.getX(0,m-u),L=h.getY(0,m-u)):(C=h.getX(d,0),A=h.getY(d,0),w=h.getX(0,m),P=h.getY(0,m),F=h.getX(0,m-u),L=h.getY(0,m-u)),l.batchTri(n,C,A,w,P,F,L,0,0,1,1,T,T,T,2)),i.pipelines.postBatch(n)}};c.exports=s},57847:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(17803),s=t(23031),i=t(36823),n=new o({Extends:v,Mixins:[i],initialize:function(r,l,a,h,f,u,d,m,x){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=128),d===void 0&&(d=0),v.call(this,r,"Line",new s(h,f,u,d));var S=Math.max(1,this.geom.right-this.geom.left),T=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,a),this.setSize(S,T),m!==void 0&&this.setStrokeStyle(1,m,x),this.updateDisplayOrigin()},setLineWidth:function(e,r){return r===void 0&&(r=e),this._startWidth=e,this._endWidth=r,this.lineWidth=e,this},setTo:function(e,r,l,a){return this.geom.setTo(e,r,l,a),this}});c.exports=n},17440:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75177),v=t(20926),s=function(i,n,e,r){e.addToRenderList(n);var l=i.currentContext;if(v(i,l,n,e,r)){var a=n._displayOriginX,h=n._displayOriginY;n.isStroked&&(o(l,n),l.beginPath(),l.moveTo(n.geom.x1-a,n.geom.y1-h),l.lineTo(n.geom.x2-a,n.geom.y2-h),l.stroke()),l.restore()}};c.exports=s},2481:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(57847);o.register("line",function(s,i,n,e,r,l,a,h){return this.displayList.add(new v(this.scene,s,i,n,e,r,l,a,h))})},36823:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(77385),s=t(17440),c.exports={renderWebGL:v,renderCanvas:s}},77385:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),s=function(i,n,e,r){e.addToRenderList(n);var l=i.pipelines.set(n.pipeline),a=o(n,e,r);l.calcMatrix.copyFrom(a.calc);var h=n._displayOriginX,f=n._displayOriginY,u=e.alpha*n.alpha;if(i.pipelines.preBatch(n),n.isStroked){var d=l.strokeTint,m=v.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*u);d.TL=m,d.TR=m,d.BL=m,d.BR=m,l.batchLine(n.geom.x1-h,n.geom.y1-f,n.geom.x2-h,n.geom.y2-f,n._startWidth/2,n._endWidth/2,1,0,!1,a.sprite,a.camera)}i.pipelines.postBatch(n)};c.exports=s},24949:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90273),v=t(83419),s=t(94811),i=t(13829),n=t(25717),e=t(17803),r=t(5469),l=new v({Extends:e,Mixins:[o],initialize:function(h,f,u,d,m,x){f===void 0&&(f=0),u===void 0&&(u=0),e.call(this,h,"Polygon",new n(d));var S=i(this.geom);this.setPosition(f,u),this.setSize(S.width,S.height),m!==void 0&&this.setFillStyle(m,x),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){a===void 0&&(a=1);for(var h=0;h<a;h++)r(this.geom);return this.updateData()},setTo:function(a){this.geom.setTo(a);var h=i(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var a=[],h=this.geom.points,f=0;f<h.length;f++)a.push(h[f].x,h[f].y);return a.push(h[0].x,h[0].y),this.pathIndexes=s(a),this.pathData=a,this}});c.exports=l},38710:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,m=u[0]-h,x=u[1]-f;a.beginPath(),a.moveTo(m,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=u[S]-h,C=u[S+1]-f;a.lineTo(T,C)}e.closePath&&a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(v(a,e),a.stroke()),a.restore()}};c.exports=i},64827:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(24949);o.register("polygon",function(s,i,n,e,r){return this.displayList.add(new v(this.scene,s,i,n,e,r))})},90273:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(73695),s=t(38710),c.exports={renderWebGL:v,renderCanvas:s}},73695:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),v=t(91296),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=v(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,d=e._displayOriginY,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},74561:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(87841),s=t(17803),i=t(95597),n=new o({Extends:s,Mixins:[i],initialize:function(r,l,a,h,f,u,d){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=128),f===void 0&&(f=128),s.call(this,r,"Rectangle",new v(0,0,h,f)),this.setPosition(l,a),this.setSize(h,f),u!==void 0&&this.setFillStyle(u,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,r){this.width=e,this.height=r,this.geom.setSize(e,r),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=e,l.hitArea.height=r),this},updateData:function(){var e=[],r=this.geom,l=this._tempLine;return r.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),r.getLineB(l),e.push(l.x2,l.y2),r.getLineC(l),e.push(l.x2,l.y2),r.getLineD(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=n},48682:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(o(a,e),a.fillRect(-h,-f,e.width,e.height)),e.isStroked&&(v(a,e),a.beginPath(),a.rect(-h,-f,e.width,e.height),a.stroke()),a.restore()}};c.exports=i},87959:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(74561);o.register("rectangle",function(s,i,n,e,r,l){return this.displayList.add(new v(this.scene,s,i,n,e,r,l))})},95597:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(52059),s=t(48682),c.exports={renderWebGL:v,renderCanvas:s}},52059:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(34682),s=t(70554),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=o(e,r,l);a.calcMatrix.copyFrom(h.calc);var f=e._displayOriginX,u=e._displayOriginY,d=r.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var m=a.fillTint,x=s.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);m.TL=x,m.TR=x,m.BL=x,m.BR=x,a.batchFillRect(-f,-u,e.width,e.height)}e.isStroked&&v(a,e,d,f,u),n.pipelines.postBatch(e)};c.exports=i},55911:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81991),v=t(83419),s=t(94811),i=t(17803),n=new v({Extends:i,Mixins:[o],initialize:function(r,l,a,h,f,u,d,m){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=5),f===void 0&&(f=32),u===void 0&&(u=64),i.call(this,r,"Star",null),this._points=h,this._innerRadius=f,this._outerRadius=u,this.setPosition(l,a),this.setSize(u*2,u*2),d!==void 0&&this.setFillStyle(d,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],r=this._points,l=this._innerRadius,a=this._outerRadius,h=Math.PI/2*3,f=Math.PI/r,u=a,d=a;e.push(u,d+-a);for(var m=0;m<r;m++)e.push(u+Math.cos(h)*a,d+Math.sin(h)*a),h+=f,e.push(u+Math.cos(h)*l,d+Math.sin(h)*l),h+=f;return e.push(u,d+-a),this.pathIndexes=s(e),this.pathData=e,this}});c.exports=n},64272:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,m=u[0]-h,x=u[1]-f;a.beginPath(),a.moveTo(m,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=u[S]-h,C=u[S+1]-f;a.lineTo(T,C)}a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(v(a,e),a.stroke()),a.restore()}};c.exports=i},93697:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55911),v=t(39429);v.register("star",function(s,i,n,e,r,l,a){return this.displayList.add(new o(this.scene,s,i,n,e,r,l,a))})},81991:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(57017),s=t(64272),c.exports={renderWebGL:v,renderCanvas:s}},57017:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),v=t(91296),s=t(34682),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=v(e,r,l),f=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,d=e._displayOriginY,m=r.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(a,f,e,m,u,d),e.isStroked&&s(a,e,m,u,d),n.pipelines.postBatch(e)};c.exports=i},36931:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(17803),s=t(16483),i=t(96195),n=new o({Extends:v,Mixins:[i],initialize:function(r,l,a,h,f,u,d,m,x,S,T){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=128),u===void 0&&(u=64),d===void 0&&(d=0),m===void 0&&(m=128),x===void 0&&(x=128),v.call(this,r,"Triangle",new s(h,f,u,d,m,x));var C=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(l,a),this.setSize(C,A),S!==void 0&&this.setFillStyle(S,T),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,r,l,a,h,f){return this.geom.setTo(e,r,l,a,h,f),this.updateData()},updateData:function(){var e=[],r=this.geom,l=this._tempLine;return r.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),r.getLineB(l),e.push(l.x2,l.y2),r.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=n},85172:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),s=t(20926),i=function(n,e,r,l){r.addToRenderList(e);var a=n.currentContext;if(s(n,a,e,r,l)){var h=e._displayOriginX,f=e._displayOriginY,u=e.geom.x1-h,d=e.geom.y1-f,m=e.geom.x2-h,x=e.geom.y2-f,S=e.geom.x3-h,T=e.geom.y3-f;a.beginPath(),a.moveTo(u,d),a.lineTo(m,x),a.lineTo(S,T),a.closePath(),e.isFilled&&(o(a,e),a.fill()),e.isStroked&&(v(a,e),a.stroke()),a.restore()}};c.exports=i},45245:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(36931);o.register("triangle",function(s,i,n,e,r,l,a,h,f,u){return this.displayList.add(new v(this.scene,s,i,n,e,r,l,a,h,f,u))})},96195:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(83253),s=t(85172),c.exports={renderWebGL:v,renderCanvas:s}},83253:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(34682),s=t(70554),i=function(n,e,r,l){r.addToRenderList(e);var a=n.pipelines.set(e.pipeline),h=o(e,r,l);a.calcMatrix.copyFrom(h.calc);var f=e._displayOriginX,u=e._displayOriginY,d=r.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var m=a.fillTint,x=s.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);m.TL=x,m.TR=x,m.BL=x,m.BR=x;var S=e.geom.x1-f,T=e.geom.y1-u,C=e.geom.x2-f,A=e.geom.y2-u,w=e.geom.x3-f,P=e.geom.y3-u;a.batchFillTriangle(S,T,C,A,w,P,h.sprite,h.camera)}e.isStroked&&v(a,e,d,f,u),n.pipelines.postBatch(e)};c.exports=i},68287:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(83419),s=t(31401),i=t(95643),n=t(92751),e=new v({Extends:i,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,n],initialize:function(l,a,h,f,u){i.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(f,u),this.setPosition(a,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,l){this.anims.update(r,l)},play:function(r,l){return this.anims.play(r,l)},playReverse:function(r,l){return this.anims.playReverse(r,l)},playAfterDelay:function(r,l){return this.anims.playAfterDelay(r,l)},playAfterRepeat:function(r,l){return this.anims.playAfterRepeat(r,l)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=e},76552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v.addToRenderList(o),t.batchSprite(o,o.frame,v,s)};c.exports=y},15567:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(13059),s=t(44603),i=t(23568),n=t(68287);s.register("sprite",function(e,r){e===void 0&&(e={});var l=i(e,"key",null),a=i(e,"frame",null),h=new n(this.scene,0,0,l,a);return r!==void 0&&(e.add=r),o(this.scene,h,e),v(h,e),h})},46409:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(68287);o.register("sprite",function(s,i,n,e){return this.displayList.add(new v(this.scene,s,i,n,e))})},92751:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(9409),s=t(76552),c.exports={renderWebGL:v,renderCanvas:s}},9409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v.addToRenderList(o),o.pipeline.batchSprite(o,v,s)};c.exports=y},14220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=t.canvas,i=t.context,n=t.style,e=[],r=0,l=v.length;n.maxLines>0&&n.maxLines<v.length&&(l=n.maxLines),n.syncFont(s,i);for(var a=0;a<l;a++){var h=n.strokeThickness;h+=i.measureText(v[a]).width,v[a].length>1&&(h+=t.letterSpacing*(v[a].length-1)),n.wordWrap&&(h-=i.measureText(" ").width),e[a]=Math.ceil(h),r=Math.max(r,e[a])}var f=o.fontSize+n.strokeThickness,u=f*l,d=t.lineSpacing;return l>1&&(u+=d*(l-1)),{width:r,height:u,lines:l,lineWidths:e,lineSpacing:d,lineHeight:f}};c.exports=y},79557:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=function(s){var i=o.create(this),n=i.getContext("2d",{willReadFrequently:!0});s.syncFont(i,n);var e=n.measureText(s.testString);if("actualBoundingBoxAscent"in e){var r=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return o.remove(i),{ascent:r,descent:l,fontSize:r+l}}var a=Math.ceil(e.width*s.baselineX),h=a,f=2*h;h=h*s.baselineY|0,i.width=a,i.height=f,n.fillStyle="#f00",n.fillRect(0,0,a,f),n.font=s._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s.testString,0,h);var u={ascent:0,descent:0,fontSize:0},d=n.getImageData(0,0,a,f);if(!d)return u.ascent=h,u.descent=h+6,u.fontSize=u.ascent+u.descent,o.remove(i),u;var m=d.data,x=m.length,S=a*4,T,C,A=0,w=!1;for(T=0;T<h;T++){for(C=0;C<S;C+=4)if(m[A+C]!==255){w=!0;break}if(!w)A+=S;else break}for(u.ascent=h-T,A=x-S,w=!1,T=f;T>h;T--){for(C=0;C<S;C+=4)if(m[A+C]!==255){w=!0;break}if(!w)A-=S;else break}return u.descent=T-h,u.fontSize=u.ascent+u.descent,o.remove(i),u};c.exports=v},50171:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),v=t(27919),s=t(83419),i=t(31401),n=t(95643),e=t(14220),r=t(35154),l=t(35846),a=t(61771),h=t(35762),f=t(45650),u=new s({Extends:n,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Crop,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.PostPipeline,i.ScrollFactor,i.Tint,i.Transform,i.Visible,a],initialize:function(m,x,S,T,C){x===void 0&&(x=0),S===void 0&&(S=0),n.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(x,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new h(this,C),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(T),C&&C.padding&&this.setPadding(C.padding),C&&C.lineSpacing&&this.setLineSpacing(C.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var m=this.style;if(m.wordWrapCallback){var x=m.wordWrapCallback.call(m.wordWrapCallbackScope,d,this);return Array.isArray(x)&&(x=x.join(`
`)),x}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,m,x){for(var S="",T=d.replace(/ +/gi," ").split(this.splitRegExp),C=T.length,A=0;A<C;A++){var w=T[A],P="";w=w.replace(/^ *|\s*$/gi,"");var F=m.measureText(w).width;if(F<x){S+=w+`
`;continue}for(var L=x,O=w.split(" "),I=0;I<O.length;I++){var B=O[I],U=B+" ",H=m.measureText(U).width;if(H>L){if(I===0){for(var Z=U;Z.length&&(Z=Z.slice(0,-1),H=m.measureText(Z).width,!(H<=L)););if(!Z.length)throw new Error("wordWrapWidth < a single character");var tt=B.substr(Z.length);O[I]=tt,P+=Z}var X=O[I].length?I:I+1,k=O.slice(X).join(" ").replace(/[ \n]*$/gi,"");T.splice(A+1,0,k),C=T.length;break}else P+=U,L-=H}S+=P.replace(/[ \n]*$/gi,"")+`
`}return S=S.replace(/[\s|\n]*$/gi,""),S},basicWordWrap:function(d,m,x){for(var S="",T=d.split(this.splitRegExp),C=T.length-1,A=m.measureText(" ").width,w=0;w<=C;w++){for(var P=x,F=T[w].split(" "),L=F.length-1,O=0;O<=L;O++){var I=F[O],B=m.measureText(I).width,U=B;O<L&&(U+=A),U>P&&O>0&&(S+=`
`,P=x),S+=I,O<L?(S+=" ",P-=U):P-=B}w<C&&(S+=`
`)}return S},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(d);return m.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,m){m===void 0&&(m=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var x=this._text.concat(m?`
`+d:d);return x!==this._text&&(this._text=x,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,m){return this.style.setFixedSize(d,m)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,m){return this.style.setStroke(d,m)},setShadow:function(d,m,x,S,T,C){return this.style.setShadow(d,m,x,S,T,C)},setShadowOffset:function(d,m){return this.style.setShadowOffset(d,m)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,m){return this.style.setWordWrapWidth(d,m)},setWordWrapCallback:function(d,m){return this.style.setWordWrapCallback(d,m)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,m,x,S){if(typeof d=="object"){var T=d,C=r(T,"x",null);C!==null?(d=C,x=C):(d=r(T,"left",0),x=r(T,"right",d));var A=r(T,"y",null);A!==null?(m=A,S=A):(m=r(T,"top",0),S=r(T,"bottom",m))}else d===void 0&&(d=0),m===void 0&&(m=d),x===void 0&&(x=d),S===void 0&&(S=m);return this.padding.left=d,this.padding.top=m,this.padding.right=x,this.padding.bottom=S,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var m=this.style;return m.rtl===d?this:(m.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var d=this.canvas,m=this.context,x=this.style,S=x.resolution,T=x.metrics;x.syncFont(d,m);var C=this._text;(x.wordWrapWidth||x.wordWrapCallback)&&(C=this.runWordWrap(this._text));var A=C.split(this.splitRegExp),w=e(this,T,A),P=this.padding,F;x.fixedWidth===0?(this.width=w.width+P.left+P.right,F=w.width):(this.width=x.fixedWidth,F=this.width-P.left-P.right,F<w.width&&(F=w.width)),x.fixedHeight===0?this.height=w.height+P.top+P.bottom:this.height=x.fixedHeight;var L=this.width,O=this.height;this.updateDisplayOrigin(),L*=S,O*=S,L=Math.max(L,1),O=Math.max(O,1),d.width!==L||d.height!==O?(d.width=L,d.height=O,this.frame.setSize(L,O),x.syncFont(d,m),x.rtl&&(m.direction="rtl")):m.clearRect(0,0,L,O),m.save(),m.scale(S,S),x.backgroundColor&&(m.fillStyle=x.backgroundColor,m.fillRect(0,0,L,O)),x.syncStyle(d,m),m.translate(P.left,P.top);for(var I,B,U=0;U<w.lines;U++){if(I=x.strokeThickness/2,B=x.strokeThickness/2+U*w.lineHeight+T.ascent,U>0&&(B+=w.lineSpacing*U),x.rtl)I=L-I-P.left-P.right;else if(x.align==="right")I+=F-w.lineWidths[U];else if(x.align==="center")I+=(F-w.lineWidths[U])/2;else if(x.align==="justify"){var H=.85;if(w.lineWidths[U]/w.width>=H){var Z=w.width-w.lineWidths[U],tt=m.measureText(" ").width,X=A[U].trim(),k=X.split(" ");Z+=(A[U].length-X.length)*tt;for(var D=Math.floor(Z/tt),z=0;D>0;)k[z]+=" ",z=(z+1)%(k.length-1||1),--D;A[U]=k.join(" ")}}if(this.autoRound&&(I=Math.round(I),B=Math.round(B)),x.strokeThickness&&(x.syncShadow(m,x.shadowStroke),m.strokeText(A[U],I,B)),x.color){x.syncShadow(m,x.shadowFill);var Y=this.letterSpacing;if(Y!==0)for(var j=0,J=A[U].split(""),it=0;it<J.length;it++)m.fillText(J[it],I+j,B),j+=m.measureText(J[it]).width+Y;else m.fillText(A[U],I,B)}}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var st=this.input;return st&&!st.customHitArea&&(st.hitArea.width=this.width,st.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=i.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=m,d},preDestroy:function(){l(this.canvas),v.remove(this.canvas);var d=this.texture;d&&d.destroy()}});c.exports=u},79724:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){o.width===0||o.height===0||(v.addToRenderList(o),t.batchSprite(o,o.frame,v,s))};c.exports=y},71259:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(50171);v.register("text",function(n,e){n===void 0&&(n={});var r=s(n,"text",""),l=s(n,"style",null),a=s(n,"padding",null);a!==null&&(l.padding=a);var h=new i(this.scene,0,0,r,l);return e!==void 0&&(n.add=e),o(this.scene,h,n),h.autoRound=s(n,"autoRound",!0),h.resolution=s(n,"resolution",1),h})},68005:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50171),v=t(39429);v.register("text",function(s,i,n,e){return this.displayList.add(new o(this.scene,s,i,n,e))})},61771:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(34397),s=t(79724),c.exports={renderWebGL:v,renderCanvas:s}},35762:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23568),s=t(35154),i=t(79557),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new o({initialize:function(l,a){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(a,!1,!0)},setStyle:function(r,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var h in n){var f=a?n[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=s(r,n[h][0],f):this[h]=v(r,n[h][0],f)}var u=s(r,"font",null);u!==null&&this.setFont(u,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=s(r,"fill",null);d!==null&&(this.color=d);var m=s(r,"metrics",!1);return m?this.metrics={ascent:s(m,"ascent",0),descent:s(m,"descent",0),fontSize:s(m,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=i(this)),l?this.parent.updateText():this.parent},syncFont:function(r,l){l.font=this._font},syncStyle:function(r,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(r,l){l?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=i(this)),this.parent.updateText()},setFont:function(r,l){l===void 0&&(l=!0);var a=r,h="",f="";if(typeof r!="string")a=s(r,"fontFamily","Courier"),h=s(r,"fontSize","16px"),f=s(r,"fontStyle","");else{var u=r.split(" "),d=0;f=u.length>2?u[d++]:"",h=u[d++]||"16px",a=u[d++]||"Courier"}return(a!==this.fontFamily||h!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=h,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,l){return this.fixedWidth=r,this.fixedHeight=l,r&&(this.parent.width=r),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,l){return l===void 0&&(l=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==l)&&(this.stroke=r,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(r,l,a,h,f,u){return r===void 0&&(r=0),l===void 0&&(l=0),a===void 0&&(a="#000"),h===void 0&&(h=0),f===void 0&&(f=!1),u===void 0&&(u=!0),this.shadowOffsetX=r,this.shadowOffsetY=l,this.shadowColor=a,this.shadowBlur=h,this.shadowStroke=f,this.shadowFill=u,this.update(!1)},setShadowOffset:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this.shadowOffsetX=r,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,l){return l===void 0&&(l=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(r,l){return l===void 0&&(l=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var l in n)r[l]=this[l];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});c.exports=e},34397:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(s,i,n,e){if(!(i.width===0||i.height===0)){n.addToRenderList(i);var r=i.frame,l=r.width,a=r.height,h=o.getTintAppendFloatAlpha,f=s.pipelines.set(i.pipeline,i),u=f.setTexture2D(r.glTexture,i);f.batchTexture(i,r.glTexture,l,a,i.x,i.y,l/i.style.resolution,a/i.style.resolution,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.displayOriginX,i.displayOriginY,0,0,l,a,h(i.tintTopLeft,n.alpha*i._alphaTL),h(i.tintTopRight,n.alpha*i._alphaTR),h(i.tintBottomLeft,n.alpha*i._alphaBL),h(i.tintBottomRight,n.alpha*i._alphaBR),i.tintFill,0,0,n,e,!1,u)}};c.exports=v},20839:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(83419),s=t(31401),i=t(95643),n=t(98439),e=t(68703),r=t(56295),l=t(45650),a=t(26099),h=8,f=new v({Extends:i,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,r],initialize:function(d,m,x,S,T,C,A){var w=d.sys.renderer;i.call(this,d,"TileSprite");var P=d.sys.textures.get(C),F=P.get(A);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),P=d.sys.textures.get("__MISSING"),F=P.get()),P.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),P=d.sys.textures.get("__MISSING"),F=P.get()),!S||!T?(S=F.width,T=F.height):(S=Math.floor(S),T=Math.floor(T)),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=w,this.canvas=o.create(this,S,T),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=P,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=n(F.width),this.potHeight=n(F.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,x),this.setSize(S,T),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(u,d){return this.displayTexture=this.scene.sys.textures.get(u),this.setFrame(d)},setFrame:function(u){var d=this.displayTexture.get(u);return this.potWidth=n(d.width),this.potHeight=n(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(u,d){return u!==void 0&&(this.tilePositionX=u),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(u,d){return u===void 0&&(u=this.tileScaleX),d===void 0&&(d=u),this.tileScaleX=u,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var u=this.displayFrame;if(u.source.isRenderTexture||u.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,m=this.fillCanvas,x=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(x=u.cutWidth,S=u.cutHeight),d.clearRect(0,0,x,S),m.width=x,m.height=S,d.drawImage(u.source.image,u.cutX,u.cutY,u.cutWidth,u.cutHeight,0,0,x,S),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=d.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var u=this.canvas;if((u.width!==this.width||u.height!==this.height)&&(u.width=this.width,u.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var m=this._tileScale.x,x=this._tileScale.y,S=this._tilePosition.x,T=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(m,x),d.translate(-S,-T),d.fillStyle=this.fillPattern,d.fillRect(S,T,this.width/m,this.height/x),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var u=this.texture;u&&u.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(u){this._tilePosition.x=u,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(u){this._tilePosition.y=u,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(u){this._tileScale.x=u,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(u){this._tileScale.y=u,this.dirty=!0}}});c.exports=f},46992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){o.updateCanvas(),v.addToRenderList(o),t.batchSprite(o,o.frame,v,s)};c.exports=y},14167:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(20839);v.register("tileSprite",function(n,e){n===void 0&&(n={});var r=s(n,"x",0),l=s(n,"y",0),a=s(n,"width",512),h=s(n,"height",512),f=s(n,"key",""),u=s(n,"frame",""),d=new i(this.scene,r,l,a,h,f,u);return e!==void 0&&(n.add=e),o(this.scene,d,n),d})},91681:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20839),v=t(39429);v.register("tileSprite",function(s,i,n,e,r,l){return this.displayList.add(new o(this.scene,s,i,n,e,r,l))})},56295:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(18553),s=t(46992),c.exports={renderWebGL:v,renderCanvas:s}},18553:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(s,i,n,e){i.updateCanvas();var r=i.width,l=i.height;if(!(r===0||l===0)){n.addToRenderList(i);var a=o.getTintAppendFloatAlpha,h=s.pipelines.set(i.pipeline,i),f=h.setTexture2D(i.fillPattern,i);h.batchTexture(i,i.fillPattern,i.displayFrame.width*i.tileScaleX,i.displayFrame.height*i.tileScaleY,i.x,i.y,r,l,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.originX*r,i.originY*l,0,0,r,l,a(i.tintTopLeft,n.alpha*i._alphaTL),a(i.tintTopRight,n.alpha*i._alphaTR),a(i.tintBottomLeft,n.alpha*i._alphaBL),a(i.tintBottomRight,n.alpha*i._alphaBR),i.tintFill,i.tilePositionX%i.displayFrame.width/i.displayFrame.width,i.tilePositionY%i.displayFrame.height/i.displayFrame.height,n,e,!1,f)}};c.exports=v},18471:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(31401),i=t(51708),n=t(8443),e=t(95643),r=t(36383),l=t(14463),a=t(45650),h=t(10247),f=new v({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.TextureCrop,s.Tint,s.Transform,s.Visible,h],initialize:function(d,m,x,S){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=a(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var T=d.sys.game;this._device=T.device.video,this.setPosition(m,x),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),T.events.on(n.PAUSE,this.globalPause,this),T.events.on(n.RESUME,this.globalResume,this);var C=d.sys.sound;C&&C.on(l.GLOBAL_MUTE,this.globalMute,this),S&&this.load(S)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(u){var d=this.scene.sys.cache.video.get(u);return d?(this.cacheKey=u,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+u),this},changeSource:function(u,d,m,x,S){d===void 0&&(d=!0),m===void 0&&(m=!1),this.cacheKey!==u&&(this.load(u),d&&this.play(m,x,S))},getVideoKey:function(){return this.cacheKey},loadURL:function(u,d,m){d===void 0&&(d=!1);var x=this._device.getVideoURL(u);return x?(this.cacheKey="",this.loadHandler(x.url,d,m)):console.warn("No supported video format found for "+u),this},loadMediaStream:function(u,d,m){return this.loadHandler(null,d,m,u)},loadHandler:function(u,d,m,x){d||(d=!1);var S=this.video;if(S?(this.removeLoadEventHandlers(),this.stop()):(S=document.createElement("video"),S.controls=!1,S.setAttribute("playsinline","playsinline"),S.setAttribute("preload","auto"),S.setAttribute("disablePictureInPicture","true")),d?(S.muted=!0,S.defaultMuted=!0,S.setAttribute("autoplay","autoplay")):(S.muted=!1,S.defaultMuted=!1,S.removeAttribute("autoplay")),m?S.setAttribute("crossorigin",m):S.removeAttribute("crossorigin"),x)if("srcObject"in S)try{S.srcObject=x}catch(C){if(C.name!=="TypeError")throw C;S.src=URL.createObjectURL(x)}else S.src=URL.createObjectURL(x);else S.src=u;this.retry=0,this.video=S,this._playCalled=!1,S.load(),this.addLoadEventHandlers();var T=this.scene.sys.textures.get(this._key);return this.setTexture(T),this},requestVideoFrame:function(u,d){var m=this.video;if(m){var x=d.width,S=d.height,T=this.videoTexture,C=this.videoTextureSource,A=!T||C.source!==m;A?(this._codePaused=m.paused,this._codeMuted=m.muted,T?(C.source=m,C.width=x,C.height=S,T.get().setSize(x,S)):(T=this.scene.sys.textures.create(this._key,m,x,S),T.add("__BASE",0,0,0,x,S),this.setTexture(T),this.videoTexture=T,this.videoTextureSource=T.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(i.VIDEO_TEXTURE,this,T)),this.setSizeToFrame(),this.updateDisplayOrigin()):C.update(),this.isStalled=!1,this.metadata=d;var w=d.mediaTime;A&&(this._lastUpdate=w,this.emit(i.VIDEO_CREATED,this,x,S),this.frameReady||(this.frameReady=!0,this.emit(i.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(i.VIDEO_LOOP,this)):(this.stop(!1),this.emit(i.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(i.VIDEO_LOOP,this),this._lastUpdate=w,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(u,d,m){d===void 0&&(d=-1),m===void 0&&(m=r.MAX_SAFE_INTEGER);var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(u===void 0&&(u=x.loop),x.loop=u,this._markerIn=d,this._markerOut=m,this._playingMarker=d>-1&&m>d&&m<r.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var u=this.video;u&&(u.addEventListener("error",this._loadCallbackHandler),u.addEventListener("abort",this._loadCallbackHandler),u.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var u=this.video;u&&(u.removeEventListener("error",this._loadCallbackHandler),u.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var m in d)u.addEventListener(m,d[m])}},removeEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var m in d)u.removeEventListener(m,d[m])}},createPlayPromise:function(u){u===void 0&&(u=!0);var d=this.video,m=d.play();if(m!==void 0){var x=this.playSuccess.bind(this),S=this.playError.bind(this);if(!u){var T=this;S=function(){T.failedPlayAttempts++}}m.then(x).catch(S)}else d.addEventListener("playing",this._callbacks.legacy),u||this.failedPlayAttempts++},addMarker:function(u,d,m){return!isNaN(d)&&d>=0&&!isNaN(m)&&m>d&&(this.markers[u]=[d,m]),this},playMarker:function(u,d){var m=this.markers[u];return m&&this.play(d,m[0],m[1]),this},removeMarker:function(u){return delete this.markers[u],this},snapshot:function(u,d){return u===void 0&&(u=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,u,d)},snapshotArea:function(u,d,m,x,S,T){u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=this.width),x===void 0&&(x=this.height),S===void 0&&(S=m),T===void 0&&(T=x);var C=this.video,A=this.snapshotTexture;return A?(A.setSize(S,T),C&&A.context.drawImage(C,u,d,m,x,0,0,S,T)):(A=this.scene.sys.textures.createCanvas(a(),S,T),this.snapshotTexture=A,C&&A.context.drawImage(C,u,d,m,x,0,0,S,T)),A.update()},saveSnapshotTexture:function(u){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,u):this.snapshotTexture=this.scene.sys.textures.createCanvas(u,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(i.VIDEO_UNLOCKED,this));var u=this.scene.sys.sound;u&&u.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(u){var d=u.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(i.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(i.VIDEO_UNSUPPORTED,this,u)):(this.stop(!1),this.emit(i.VIDEO_ERROR,this,u))},legacyPlayHandler:function(){var u=this.video;u&&(this.playSuccess(),u.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(i.VIDEO_PLAYING,this)},loadErrorHandler:function(u){this.stop(!1),this.emit(i.VIDEO_ERROR,this,u)},metadataHandler:function(u){this.emit(i.VIDEO_METADATA,this,u)},setSizeToFrame:function(u){u||(u=this.frame),this.width=u.realWidth,this.height=u.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(u){this.isStalled=!0,this.emit(i.VIDEO_STALLED,this,u)},completeHandler:function(){this._playCalled=!1,this.emit(i.VIDEO_COMPLETE,this)},preUpdate:function(u,d){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(u){var d=this.video;if(d){var m=d.duration;if(m!==1/0&&!isNaN(m)){var x=m*u;this.setCurrentTime(x)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(u){var d=this.video;if(d){if(typeof u=="string"){var m=u[0],x=parseFloat(u.substr(1));m==="+"?u=d.currentTime+x:m==="-"&&(u=d.currentTime-x)}d.currentTime=u}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(i.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(i.VIDEO_SEEKED,this)},getProgress:function(){var u=this.video;if(u){var d=u.duration;if(d!==1/0&&!isNaN(d))return u.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(u){u===void 0&&(u=!0),this._codeMuted=u;var d=this.video;return d&&(d.muted=this._systemMuted?!0:u),this},isMuted:function(){return this._codeMuted},globalMute:function(u,d){this._systemMuted=d;var m=this.video;m&&(m.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(u){u===void 0&&(u=!0);var d=this.video;return this._codePaused=u,d&&!d.ended&&(u?d.paused||(this.removeEventHandlers(),d.pause()):u||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(u){return u===void 0&&(u=1),this.video&&(this.video.volume=o(u,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(u){return this.video&&(this.video.playbackRate=u),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(u){return u===void 0&&(u=!0),this.video&&(this.video.loop=u),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(u,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,u),this.videoTextureSource.setFlipY(d)),this._key=u,this.flipY=d,!!this.videoTexture},stop:function(u){u===void 0&&(u=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,u&&this.emit(i.VIDEO_STOP,this),this},removeVideoElement:function(){var u=this.video;if(u){for(u.parentNode&&u.parentNode.removeChild(u);u.hasChildNodes();)u.removeChild(u.firstChild);u.removeAttribute("autoplay"),u.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var u=this.scene.sys.game.events;u.off(n.PAUSE,this.globalPause,this),u.off(n.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(l.GLOBAL_MUTE,this.globalMute,this)}});c.exports=f},58352:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){o.videoTexture&&(v.addToRenderList(o),t.batchSprite(o,o.frame,v,s))};c.exports=y},11511:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),s=t(23568),i=t(18471);v.register("video",function(n,e){n===void 0&&(n={});var r=s(n,"key",null),l=new i(this.scene,0,0,r);return e!==void 0&&(n.add=e),o(this.scene,l,n),l})},89025:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18471),v=t(39429);v.register("video",function(s,i,n){return this.displayList.add(new o(this.scene,s,i,n))})},10247:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(29849),s=t(58352),c.exports={renderWebGL:v,renderCanvas:s}},29849:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){o.videoTexture&&(v.addToRenderList(o),o.pipeline.batchSprite(o,v,s))};c.exports=y},41481:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(96503),s=t(87902),i=t(83419),n=t(31401),e=t(95643),r=t(87841),l=t(37303),a=new i({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(f,u,d,m,x){m===void 0&&(m=1),x===void 0&&(x=m),e.call(this,f,"Zone"),this.setPosition(u,d),this.width=m,this.height=x,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,f,u){u===void 0&&(u=!0),this.width=h,this.height=f,this.updateDisplayOrigin();var d=this.input;return u&&d&&!d.customHitArea&&(d.hitArea.width=h,d.hitArea.height=f),this},setDisplaySize:function(h,f){return this.displayWidth=h,this.displayHeight=f,this},setCircleDropZone:function(h){return this.setDropZone(new v(0,0,h),s)},setRectangleDropZone:function(h,f){return this.setDropZone(new r(0,0,h,f),l)},setDropZone:function(h,f){return this.input||this.setInteractive(h,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,f,u){u.addToRenderList(f)},renderWebGL:function(h,f,u){u.addToRenderList(f)}});c.exports=a},95261:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),v=t(23568),s=t(41481);o.register("zone",function(i){var n=v(i,"x",0),e=v(i,"y",0),r=v(i,"width",1),l=v(i,"height",r);return new s(this.scene,n,e,r,l)})},84175:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41481),v=t(39429);v.register("zone",function(s,i,n,e){return this.displayList.add(new o(this.scene,s,i,n,e))})},95166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};c.exports=y},96503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(87902),s=t(26241),i=t(79124),n=t(23777),e=t(28176),r=new o({initialize:function(a,h,f){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),this.type=n.CIRCLE,this.x=a,this.y=h,this._radius=f,this._diameter=f*2},contains:function(l,a){return v(this,l,a)},getPoint:function(l,a){return s(this,l,a)},getPoints:function(l,a,h){return i(this,l,a,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,a,h){return this.x=l,this.y=a,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,a){return a===void 0&&(a=l),this.x=l,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});c.exports=r},71562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(Math.PI*t.radius)};c.exports=y},92110:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i,n){return n===void 0&&(n=new o),n.x=s.x+s.radius*Math.cos(i),n.y=s.y+s.radius*Math.sin(i),n};c.exports=v},42250:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),v=function(s){return new o(s.x,s.y,s.radius)};c.exports=v},87902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(t.radius>0&&o>=t.left&&o<=t.right&&v>=t.top&&v<=t.bottom){var s=(t.x-o)*(t.x-o),i=(t.y-v)*(t.y-v);return s+i<=t.radius*t.radius}else return!1};c.exports=y},5698:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),v=function(s,i){return o(s,i.x,i.y)};c.exports=v},70588:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),v=function(s,i){return o(s,i.x,i.y)&&o(s,i.right,i.y)&&o(s,i.x,i.bottom)&&o(s,i.right,i.bottom)};c.exports=v},26394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.radius)};c.exports=y},76278:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.radius===o.radius};c.exports=y},2074:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(s,i){return i===void 0&&(i=new o),i.x=s.left,i.y=s.top,i.width=s.diameter,i.height=s.diameter,i};c.exports=v},26241:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92110),v=t(62945),s=t(36383),i=t(2141),n=function(e,r,l){l===void 0&&(l=new i);var a=v(r,0,s.PI2);return o(e,a,l)};c.exports=n},79124:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71562),v=t(92110),s=t(62945),i=t(36383),n=function(e,r,l,a){a===void 0&&(a=[]),!r&&l>0&&(r=o(e)/l);for(var h=0;h<r;h++){var f=s(h/r,0,i.PI2);a.push(v(e,f))}return a};c.exports=n},50884:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t.x+=o,t.y+=v,t};c.exports=y},39212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=y},28176:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){i===void 0&&(i=new o);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),r=e>1?2-e:e,l=r*Math.cos(n),a=r*Math.sin(n);return i.x=s.x+l*s.radius,i.y=s.y+a*s.radius,i};c.exports=v},88911:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503);o.Area=t(95166),o.Circumference=t(71562),o.CircumferencePoint=t(92110),o.Clone=t(42250),o.Contains=t(87902),o.ContainsPoint=t(5698),o.ContainsRect=t(70588),o.CopyFrom=t(26394),o.Equals=t(76278),o.GetBounds=t(2074),o.GetPoint=t(26241),o.GetPoints=t(79124),o.Offset=t(50884),o.OffsetPoint=t(39212),o.Random=t(28176),c.exports=o},23777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=y},78874:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};c.exports=y},92990:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.width/2,v=t.height/2,s=Math.pow(o-v,2)/Math.pow(o+v,2);return Math.PI*(o+v)*(1+3*s/(10+Math.sqrt(4-3*s)))};c.exports=y},79522:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i,n){n===void 0&&(n=new o);var e=s.width/2,r=s.height/2;return n.x=s.x+e*Math.cos(i),n.y=s.y+r*Math.sin(i),n};c.exports=v},58102:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497),v=function(s){return new o(s.x,s.y,s.width,s.height)};c.exports=v},81154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(t.width<=0||t.height<=0)return!1;var s=(o-t.x)/t.width,i=(v-t.y)/t.height;return s*=s,i*=i,s+i<.25};c.exports=y},46662:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),v=function(s,i){return o(s,i.x,i.y)};c.exports=v},1632:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),v=function(s,i){return o(s,i.x,i.y)&&o(s,i.right,i.y)&&o(s,i.x,i.bottom)&&o(s,i.right,i.bottom)};c.exports=v},65534:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};c.exports=y},8497:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(81154),s=t(90549),i=t(48320),n=t(23777),e=t(24820),r=new o({initialize:function(a,h,f,u){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=n.ELLIPSE,this.x=a,this.y=h,this.width=f,this.height=u},contains:function(l,a){return v(this,l,a)},getPoint:function(l,a){return s(this,l,a)},getPoints:function(l,a,h){return i(this,l,a,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,a,h,f){return this.x=l,this.y=a,this.width=h,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,a){return a===void 0&&(a=l),this.x=l,this.y=a,this},setSize:function(l,a){return a===void 0&&(a=l),this.width=l,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});c.exports=r},36146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};c.exports=y},23694:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(s,i){return i===void 0&&(i=new o),i.x=s.left,i.y=s.top,i.width=s.width,i.height=s.height,i};c.exports=v},90549:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79522),v=t(62945),s=t(36383),i=t(2141),n=function(e,r,l){l===void 0&&(l=new i);var a=v(r,0,s.PI2);return o(e,a,l)};c.exports=n},48320:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92990),v=t(79522),s=t(62945),i=t(36383),n=function(e,r,l,a){a===void 0&&(a=[]),!r&&l>0&&(r=o(e)/l);for(var h=0;h<r;h++){var f=s(h/r,0,i.PI2);a.push(v(e,f))}return a};c.exports=n},73424:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t.x+=o,t.y+=v,t};c.exports=y},44808:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=y},24820:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){i===void 0&&(i=new o);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return i.x=s.x+e*Math.cos(n)*s.width/2,i.y=s.y+e*Math.sin(n)*s.height/2,i};c.exports=v},49203:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497);o.Area=t(78874),o.Circumference=t(92990),o.CircumferencePoint=t(79522),o.Clone=t(58102),o.Contains=t(81154),o.ContainsPoint=t(46662),o.ContainsRect=t(1632),o.CopyFrom=t(65534),o.Equals=t(36146),o.GetBounds=t(23694),o.GetPoint=t(90549),o.GetPoints=t(48320),o.Offset=t(73424),o.OffsetPoint=t(44808),o.Random=t(24820),c.exports=o},55738:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23777),v=t(79291),s={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};s=v(!1,s,o),c.exports=s},2044:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20339),v=function(s,i){return o(s.x,s.y,i.x,i.y)<=s.radius+i.radius};c.exports=v},81491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=o.width/2,s=o.height/2,i=Math.abs(t.x-o.x-v),n=Math.abs(t.y-o.y-s),e=v+t.radius,r=s+t.radius;if(i>e||n>r)return!1;if(i<=v||n<=s)return!0;var l=i-v,a=n-s,h=l*l,f=a*a,u=t.radius*t.radius;return h+f<=u};c.exports=y},63376:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(2044),s=function(i,n,e){if(e===void 0&&(e=[]),v(i,n)){var r=i.x,l=i.y,a=i.radius,h=n.x,f=n.y,u=n.radius,d,m,x,S,T;if(l===f)T=(u*u-a*a-h*h+r*r)/(2*(r-h)),d=1,m=-2*f,x=h*h+T*T-2*h*T+f*f-u*u,S=m*m-4*d*x,S===0?e.push(new o(T,-m/(2*d))):S>0&&(e.push(new o(T,(-m+Math.sqrt(S))/(2*d))),e.push(new o(T,(-m-Math.sqrt(S))/(2*d))));else{var C=(r-h)/(l-f),A=(u*u-a*a-h*h+r*r-f*f+l*l)/(2*(l-f));d=C*C+1,m=2*l*C-2*A*C-2*r,x=r*r+l*l+A*A-a*a-2*l*A,S=m*m-4*d*x,S===0?(T=-m/(2*d),e.push(new o(T,A-T*C))):S>0&&(T=(-m+Math.sqrt(S))/(2*d),e.push(new o(T,A-T*C)),T=(-m-Math.sqrt(S))/(2*d),e.push(new o(T,A-T*C)))}}return e};c.exports=s},97439:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),v=t(81491),s=function(i,n,e){if(e===void 0&&(e=[]),v(i,n)){var r=n.getLineA(),l=n.getLineB(),a=n.getLineC(),h=n.getLineD();o(r,i,e),o(l,i,e),o(a,i,e),o(h,i,e)}return e};c.exports=s},4042:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(80462),s=function(i,n,e){if(e===void 0&&(e=[]),v(i,n)){var r=i.x1,l=i.y1,a=i.x2,h=i.y2,f=n.x,u=n.y,d=n.radius,m=a-r,x=h-l,S=r-f,T=l-u,C=m*m+x*x,A=2*(m*S+x*T),w=S*S+T*T-d*d,P=A*A-4*C*w,F,L;if(P===0){var O=-A/(2*C);F=r+O*m,L=l+O*x,O>=0&&O<=1&&e.push(new o(F,L))}else if(P>0){var I=(-A-Math.sqrt(P))/(2*C);F=r+I*m,L=l+I*x,I>=0&&I<=1&&e.push(new o(F,L));var B=(-A+Math.sqrt(P))/(2*C);F=r+B*m,L=l+B*x,B>=0&&B<=1&&e.push(new o(F,L))}}return e};c.exports=s},36100:(c,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),v=function(s,i,n,e){n===void 0&&(n=!1);var r=s.x1,l=s.y1,a=s.x2,h=s.y2,f=i.x1,u=i.y1,d=i.x2,m=i.y2,x=a-r,S=h-l,T=d-f,C=m-u,A=x*C-S*T;if(A===0)return null;var w,P,F;if(n){if(w=(x*(u-l)+S*(r-f))/(T*S-C*x),P=(f+T*w-r)/x,P<0||w<0||w>1)return null;F=P}else{if(w=((f-r)*C-(u-l)*T)/A,P=((l-u)*x-(r-f)*S)/A,w<0||w>1||P<0||P>1)return null;F=w}return e===void 0&&(e=new o),e.set(r+x*F,l+S*F,F)};c.exports=v},3073:(c,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36100),v=t(23031),s=t(25836),i=new v,n=new s,e=function(r,l,a,h){a===void 0&&(a=!1),h===void 0&&(h=new s);var f=!1;h.set(),n.set();for(var u=l[l.length-1],d=0;d<l.length;d++){var m=l[d];i.setTo(u.x,u.y,m.x,m.y),u=m,o(r,i,a,n)&&(!f||n.z<h.z)&&(h.copy(n),f=!0)}return f?h:null};c.exports=e},56362:(c,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),v=t(61369),s=t(3073),i=new o,n=function(e,r,l,a){a===void 0&&(a=new v),Array.isArray(r)||(r=[r]);var h=!1;a.set(),i.set();for(var f=0;f<r.length;f++)s(e,r[f].points,l,i)&&(!h||i.z<a.z)&&(a.set(i.x,i.y,i.z,f),h=!0);return h?a:null};c.exports=n},60646:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(76112),s=t(92773),i=function(n,e,r){if(r===void 0&&(r=[]),s(n,e))for(var l=e.getLineA(),a=e.getLineB(),h=e.getLineC(),f=e.getLineD(),u=[new o,new o,new o,new o],d=[v(l,n,u[0]),v(a,n,u[1]),v(h,n,u[2]),v(f,n,u[3])],m=0;m<4;m++)d[m]&&r.push(u[m]);return r};c.exports=i},71147:(c,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61369),v=t(56362),s=t(23031),i=new s;function n(l,a,h,f,u){var d=Math.cos(l),m=Math.sin(l);i.setTo(a,h,a+d,h+m);var x=v(i,f,!0);x&&u.push(new o(x.x,x.y,l,x.w))}function e(l,a){return l.z-a.z}var r=function(l,a,h){Array.isArray(h)||(h=[h]);for(var f=[],u=[],d=0;d<h.length;d++)for(var m=h[d].points,x=0;x<m.length;x++){var S=Math.atan2(m[x].y-a,m[x].x-l);u.indexOf(S)===-1&&(n(S,l,a,h,f),n(S-1e-5,l,a,h,f),n(S+1e-5,l,a,h,f),u.push(S))}return f.sort(e)};c.exports=r},68389:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(59996),s=function(i,n,e){return e===void 0&&(e=new o),v(i,n)&&(e.x=Math.max(i.x,n.x),e.y=Math.max(i.y,n.y),e.width=Math.min(i.right,n.right)-e.x,e.height=Math.min(i.bottom,n.bottom)-e.y),e};c.exports=s},52784:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60646),v=t(59996),s=function(i,n,e){if(e===void 0&&(e=[]),v(i,n)){var r=i.getLineA(),l=i.getLineB(),a=i.getLineC(),h=i.getLineD();o(r,n,e),o(l,n,e),o(a,n,e),o(h,n,e)}return e};c.exports=s},26341:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89265),v=t(60646),s=function(i,n,e){if(e===void 0&&(e=[]),o(i,n)){var r=n.getLineA(),l=n.getLineB(),a=n.getLineC();v(r,i,e),v(l,i,e),v(a,i,e)}return e};c.exports=s},38720:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),v=t(67636),s=function(i,n,e){if(e===void 0&&(e=[]),v(i,n)){var r=i.getLineA(),l=i.getLineB(),a=i.getLineC();o(r,n,e),o(l,n,e),o(a,n,e)}return e};c.exports=s},13882:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(2822),s=t(76112),i=function(n,e,r){if(r===void 0&&(r=[]),v(n,e))for(var l=n.getLineA(),a=n.getLineB(),h=n.getLineC(),f=[new o,new o,new o],u=[s(l,e,f[0]),s(a,e,f[1]),s(h,e,f[2])],d=0;d<3;d++)u[d]&&r.push(f[d]);return r};c.exports=i},75636:(c,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82944),v=t(13882),s=function(i,n,e){if(e===void 0&&(e=[]),o(i,n)){var r=n.getLineA(),l=n.getLineB(),a=n.getLineC();v(i,r,e),v(i,l,e),v(i,a,e)}return e};c.exports=s},80462:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),v=t(2141),s=new v,i=function(n,e,r){if(r===void 0&&(r=s),o(e,n.x1,n.y1))return r.x=n.x1,r.y=n.y1,!0;if(o(e,n.x2,n.y2))return r.x=n.x2,r.y=n.y2,!0;var l=n.x2-n.x1,a=n.y2-n.y1,h=e.x-n.x1,f=e.y-n.y1,u=l*l+a*a,d=l,m=a;if(u>0){var x=(h*l+f*a)/u;d*=x,m*=x}r.x=n.x1+d,r.y=n.y1+m;var S=d*d+m*m;return S<=u&&d*l+m*a>=0&&o(e,r.x,r.y)};c.exports=i},76112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=t.x1,i=t.y1,n=t.x2,e=t.y2,r=o.x1,l=o.y1,a=o.x2,h=o.y2;if(s===n&&i===e||r===a&&l===h)return!1;var f=(h-l)*(n-s)-(a-r)*(e-i);if(f===0)return!1;var u=((a-r)*(i-l)-(h-l)*(s-r))/f,d=((n-s)*(i-l)-(e-i)*(s-r))/f;return u<0||u>1||d<0||d>1?!1:(v&&(v.x=s+u*(n-s),v.y=i+u*(e-i)),!0)};c.exports=y},92773:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.x1,s=t.y1,i=t.x2,n=t.y2,e=o.x,r=o.y,l=o.right,a=o.bottom,h=0;if(v>=e&&v<=l&&s>=r&&s<=a||i>=e&&i<=l&&n>=r&&n<=a)return!0;if(v<e&&i>=e){if(h=s+(n-s)*(e-v)/(i-v),h>r&&h<=a)return!0}else if(v>l&&i<=l&&(h=s+(n-s)*(l-v)/(i-v),h>=r&&h<=a))return!0;if(s<r&&n>=r){if(h=v+(i-v)*(r-s)/(n-s),h>=e&&h<=l)return!0}else if(s>a&&n<=a&&(h=v+(i-v)*(a-s)/(n-s),h>=e&&h<=l))return!0;return!1};c.exports=y},16204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){v===void 0&&(v=1);var s=o.x1,i=o.y1,n=o.x2,e=o.y2,r=t.x,l=t.y,a=(n-s)*(n-s)+(e-i)*(e-i);if(a===0)return!1;var h=((r-s)*(n-s)+(l-i)*(e-i))/a;if(h<0)return Math.sqrt((s-r)*(s-r)+(i-l)*(i-l))<=v;if(h>=0&&h<=1){var f=((i-l)*(n-s)-(s-r)*(e-i))/a;return Math.abs(f)*Math.sqrt(a)<=v}else return Math.sqrt((n-r)*(n-r)+(e-l)*(e-l))<=v};c.exports=y},14199:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16204),v=function(s,i){if(!o(s,i))return!1;var n=Math.min(i.x1,i.x2),e=Math.max(i.x1,i.x2),r=Math.min(i.y1,i.y2),l=Math.max(i.y1,i.y2);return s.x>=n&&s.x<=e&&s.y>=r&&s.y<=l};c.exports=v},59996:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.width<=0||t.height<=0||o.width<=0||o.height<=0?!1:!(t.right<o.x||t.bottom<o.y||t.x>o.right||t.y>o.bottom)};c.exports=y},89265:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),v=t(37303),s=t(48653),i=t(77493),n=function(e,r){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var l=r.getLineA(),a=r.getLineB(),h=r.getLineC();if(v(e,l.x1,l.y1)||v(e,l.x2,l.y2)||v(e,a.x1,a.y1)||v(e,a.x2,a.y2)||v(e,h.x1,h.y1)||v(e,h.x2,h.y2))return!0;var f=e.getLineA(),u=e.getLineB(),d=e.getLineC(),m=e.getLineD();if(o(l,f)||o(l,u)||o(l,d)||o(l,m)||o(a,f)||o(a,u)||o(a,d)||o(a,m)||o(h,f)||o(h,u)||o(h,d)||o(h,m))return!0;var x=i(e),S=s(r,x,!0);return S.length>0};c.exports=n},84411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i,n){return n===void 0&&(n=0),!(o>t.right+n||v<t.left-n||s>t.bottom+n||i<t.top-n)};c.exports=y},67636:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80462),v=t(10690),s=function(i,n){return i.left>n.right||i.right<n.left||i.top>n.bottom||i.bottom<n.top?!1:!!(v(i,n.x,n.y)||o(i.getLineA(),n)||o(i.getLineB(),n)||o(i.getLineC(),n))};c.exports=s},2822:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),v=function(s,i){return!!(s.contains(i.x1,i.y1)||s.contains(i.x2,i.y2)||o(s.getLineA(),i)||o(s.getLineB(),i)||o(s.getLineC(),i))};c.exports=v},82944:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48653),v=t(71694),s=t(76112),i=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var r=n.getLineA(),l=n.getLineB(),a=n.getLineC(),h=e.getLineA(),f=e.getLineB(),u=e.getLineC();if(s(r,h)||s(r,f)||s(r,u)||s(l,h)||s(l,f)||s(l,u)||s(a,h)||s(a,f)||s(a,u))return!0;var d=v(n),m=o(e,d,!0);return m.length>0||(d=v(e),m=o(n,d,!0),m.length>0)};c.exports=i},91865:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};c.exports=y},84993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){o===void 0&&(o=1),v===void 0&&(v=[]);var s=Math.round(t.x1),i=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),r=Math.abs(n-s),l=Math.abs(e-i),a=s<n?1:-1,h=i<e?1:-1,f=r-l;v.push({x:s,y:i});for(var u=1;!(s===n&&i===e);){var d=f<<1;d>-l&&(f-=l,s+=a),d<r&&(f+=r,i+=h),u%o===0&&v.push({x:s,y:i}),u++}return v};c.exports=y},36469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=o-(t.x1+t.x2)/2,i=v-(t.y1+t.y2)/2;return t.x1+=s,t.y1+=i,t.x2+=s,t.y2+=i,t};c.exports=y},31116:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031),v=function(s){return new o(s.x1,s.y1,s.x2,s.y2)};c.exports=v},59944:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2)};c.exports=y},59220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2};c.exports=y},78177:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=function(s,i,n){n===void 0&&(n=i);var e=o(s),r=s.x2-s.x1,l=s.y2-s.y1;return i&&(s.x1=s.x1-r/e*i,s.y1=s.y1-l/e*i),n&&(s.x2=s.x2+r/e*n,s.y2=s.y2+l/e*n),s};c.exports=v},26708:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(52816),v=t(6113),s=t(2141),i=function(n,e,r,l,a){l===void 0&&(l=0),a===void 0&&(a=[]);var h=[],f=n.x1,u=n.y1,d=n.x2-f,m=n.y2-u,x=v(e,a),S,T,C=r-1;for(S=0;S<C;S++)T=x(S/C),h.push(new s(f+d*T,u+m*T));if(T=x(1),h.push(new s(f+d*T,u+m*T)),l>0){var A=h[0],w=[A];for(S=1;S<h.length-1;S++){var P=h[S];o(A,P)>=l&&(w.push(P),A=P)}var F=h[h.length-1];return o(A,F)<l&&w.pop(),w.push(F),w}else return h};c.exports=i},32125:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){return i===void 0&&(i=new o),i.x=(s.x1+s.x2)/2,i.y=(s.y1+s.y2)/2,i};c.exports=v},99569:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i,n){n===void 0&&(n=new o);var e=s.x1,r=s.y1,l=s.x2,a=s.y2,h=(l-e)*(l-e)+(a-r)*(a-r);if(h===0)return n;var f=((i.x-e)*(l-e)+(i.y-r)*(a-r))/h;return n.x=e+f*(l-e),n.y=r+f*(a-r),n};c.exports=v},34638:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(91938),s=t(2141),i=function(n,e){e===void 0&&(e=new s);var r=v(n)-o.TAU;return e.x=Math.cos(r),e.y=Math.sin(r),e};c.exports=i},13151:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i,n){return n===void 0&&(n=new o),n.x=s.x1+(s.x2-s.x1)*i,n.y=s.y1+(s.y2-s.y1)*i,n};c.exports=v},15258:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=t(2141),s=function(i,n,e,r){r===void 0&&(r=[]),!n&&e>0&&(n=o(i)/e);for(var l=i.x1,a=i.y1,h=i.x2,f=i.y2,u=0;u<n;u++){var d=u/n,m=l+(h-l)*d,x=a+(f-a)*d;r.push(new v(m,x))}return r};c.exports=s},26408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.x1,s=t.y1,i=t.x2,n=t.y2,e=(i-v)*(i-v)+(n-s)*(n-s);if(e===0)return!1;var r=((s-o.y)*(i-v)-(v-o.x)*(n-s))/e;return Math.abs(r)*Math.sqrt(e)};c.exports=y},98770:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.y1-t.y2)};c.exports=y},35001:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};c.exports=y},23031:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(13151),s=t(15258),i=t(23777),n=t(65822),e=t(26099),r=new o({initialize:function(a,h,f,u){a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=i.LINE,this.x1=a,this.y1=h,this.x2=f,this.y2=u},getPoint:function(l,a){return v(this,l,a)},getPoints:function(l,a,h){return s(this,l,a,h)},getRandomPoint:function(l){return n(this,l)},setTo:function(l,a,h,f){return l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),this.x1=l,this.y1=a,this.x2=h,this.y2=f,this},setFromObjects:function(l,a){return this.x1=l.x,this.y1=l.y,this.x2=a.x,this.y2=a.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});c.exports=r},64795:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(15994),s=t(91938),i=function(n){var e=s(n)-o.TAU;return v(e,-Math.PI,Math.PI)};c.exports=i},52616:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(91938),s=function(i){return Math.cos(v(i)-o.TAU)};c.exports=s},87231:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(91938),s=function(i){return Math.sin(v(i)-o.TAU)};c.exports=s},89662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t.x1+=o,t.y1+=v,t.x2+=o,t.y2+=v,t};c.exports=y},71165:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};c.exports=y},65822:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){i===void 0&&(i=new o);var n=Math.random();return i.x=s.x1+n*(s.x2-s.x1),i.y=s.y1+n*(s.y2-s.y1),i};c.exports=v},69777:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91938),v=t(64795),s=function(i,n){return 2*v(n)-Math.PI-o(i)};c.exports=s},39706:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),v=function(s,i){var n=(s.x1+s.x2)/2,e=(s.y1+s.y2)/2;return o(s,n,e,i)};c.exports=v},82585:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),v=function(s,i,n){return o(s,i.x,i.y,n)};c.exports=v},64400:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=Math.cos(s),n=Math.sin(s),e=t.x1-o,r=t.y1-v;return t.x1=e*i-r*n+o,t.y1=e*n+r*i+v,e=t.x2-o,r=t.y2-v,t.x2=e*i-r*n+o,t.y2=e*n+r*i+v,t};c.exports=y},62377:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i){return t.x1=o,t.y1=v,t.x2=o+Math.cos(s)*i,t.y2=v+Math.sin(s)*i,t};c.exports=y},71366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};c.exports=y},10809:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.x1-t.x2)};c.exports=y},2529:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031);o.Angle=t(91938),o.BresenhamPoints=t(84993),o.CenterOn=t(36469),o.Clone=t(31116),o.CopyFrom=t(59944),o.Equals=t(59220),o.Extend=t(78177),o.GetEasedPoints=t(26708),o.GetMidPoint=t(32125),o.GetNearestPoint=t(99569),o.GetNormal=t(34638),o.GetPoint=t(13151),o.GetPoints=t(15258),o.GetShortestDistance=t(26408),o.Height=t(98770),o.Length=t(35001),o.NormalAngle=t(64795),o.NormalX=t(52616),o.NormalY=t(87231),o.Offset=t(89662),o.PerpSlope=t(71165),o.Random=t(65822),o.ReflectAngle=t(69777),o.Rotate=t(39706),o.RotateAroundPoint=t(82585),o.RotateAroundXY=t(64400),o.SetToAngle=t(62377),o.Slope=t(71366),o.Width=t(10809),c.exports=o},83997:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(87841),s=t(26099);function i(e,r,l,a){var h=e-l,f=r-a,u=h*h+f*f;return Math.sqrt(u)}var n=new o({initialize:function(r,l,a){this.vertex1=r,this.vertex2=l,this.vertex3=a,this.bounds=new v,this._inCenter=new s},getInCenter:function(e){e===void 0&&(e=!0);var r=this.vertex1,l=this.vertex2,a=this.vertex3,h,f,u,d,m,x;e?(h=r.x,f=r.y,u=l.x,d=l.y,m=a.x,x=a.y):(h=r.vx,f=r.vy,u=l.vx,d=l.vy,m=a.vx,x=a.vy);var S=i(m,x,u,d),T=i(h,f,m,x),C=i(u,d,h,f),A=S+T+C;return this._inCenter.set((h*S+u*T+m*C)/A,(f*S+d*T+x*C)/A)},contains:function(e,r,l){var a=this.vertex1,h=this.vertex2,f=this.vertex3,u=a.vx,d=a.vy,m=h.vx,x=h.vy,S=f.vx,T=f.vy;if(l){var C=l.a,A=l.b,w=l.c,P=l.d,F=l.e,L=l.f;u=a.vx*C+a.vy*w+F,d=a.vx*A+a.vy*P+L,m=h.vx*C+h.vy*w+F,x=h.vx*A+h.vy*P+L,S=f.vx*C+f.vy*w+F,T=f.vx*A+f.vy*P+L}var O=S-u,I=T-d,B=m-u,U=x-d,H=e-u,Z=r-d,tt=O*O+I*I,X=O*B+I*U,k=O*H+I*Z,D=B*B+U*U,z=B*H+U*Z,Y=tt*D-X*X,j=Y===0?0:1/Y,J=(D*k-X*z)*j,it=(tt*z-X*k)*j;return J>=0&&it>=0&&J+it<1},isCounterClockwise:function(e){var r=this.vertex1,l=this.vertex2,a=this.vertex3,h=(l.vx-r.vx)*(a.vy-r.vy)-(l.vy-r.vy)*(a.vx-r.vx);return e<=0?h>=0:h<0},load:function(e,r,l,a,h){return l=this.vertex1.load(e,r,l,a,h),l=this.vertex2.load(e,r,l,a,h),l=this.vertex3.load(e,r,l,a,h),l},transformCoordinatesLocal:function(e,r,l,a){return this.vertex1.transformCoordinatesLocal(e,r,l,a),this.vertex2.transformCoordinatesLocal(e,r,l,a),this.vertex3.transformCoordinatesLocal(e,r,l,a),this},updateBounds:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3,a=this.bounds;return a.x=Math.min(e.vx,r.vx,l.vx),a.y=Math.min(e.vy,r.vy,l.vy),a.width=Math.max(e.vx,r.vx,l.vx)-a.x,a.height=Math.max(e.vy,r.vy,l.vy)-a.y,this},isInView:function(e,r,l,a,h,f,u,d,m,x,S){this.update(a,h,f,u,d,m,x,S);var T=this.vertex1,C=this.vertex2,A=this.vertex3;if(T.ta<=0&&C.ta<=0&&A.ta<=0||r&&!this.isCounterClockwise(l))return!1;var w=this.bounds;w.x=Math.min(T.tx,C.tx,A.tx),w.y=Math.min(T.ty,C.ty,A.ty),w.width=Math.max(T.tx,C.tx,A.tx)-w.x,w.height=Math.max(T.ty,C.ty,A.ty)-w.y;var P=e.x+e.width,F=e.y+e.height;return w.width<=0||w.height<=0||e.width<=0||e.height<=0?!1:!(w.right<e.x||w.bottom<e.y||w.x>P||w.y>F)},scrollUV:function(e,r){return this.vertex1.scrollUV(e,r),this.vertex2.scrollUV(e,r),this.vertex3.scrollUV(e,r),this},scaleUV:function(e,r){return this.vertex1.scaleUV(e,r),this.vertex2.scaleUV(e,r),this.vertex3.scaleUV(e,r),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,r,l,a,h,f,u,d){return this.vertex1.update(r,l,a,h,f,u,d,e),this.vertex2.update(r,l,a,h,f,u,d,e),this.vertex3.update(r,l,a,h,f,u,d,e),this},translate:function(e,r){r===void 0&&(r=0);var l=this.vertex1,a=this.vertex2,h=this.vertex3;return l.x+=e,l.y+=r,a.x+=e,a.y+=r,h.x+=e,h.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(e){var r=this.getInCenter();this.translate(e-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var r=this.getInCenter();this.translate(0,e-r.y)}},alpha:{get:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3;return(e.alpha+r.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3;return(e.vz+r.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=n},48803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),v=t(95540),s=t(37867),i=t(25836),n=t(39318),e=new i,r=new i,l=new s,a=function(h){var f=v(h,"mesh"),u=v(h,"texture",null),d=v(h,"frame"),m=v(h,"width",1),x=v(h,"height",m),S=v(h,"widthSegments",1),T=v(h,"heightSegments",S),C=v(h,"x",0),A=v(h,"y",0),w=v(h,"z",0),P=v(h,"rotateX",0),F=v(h,"rotateY",0),L=v(h,"rotateZ",0),O=v(h,"zIsUp",!0),I=v(h,"isOrtho",f?f.dirtyCache[11]:!1),B=v(h,"colors",[16777215]),U=v(h,"alphas",[1]),H=v(h,"tile",!1),Z=v(h,"flipY",!1),tt=v(h,"width",null),X={faces:[],verts:[]};e.set(C,A,w),r.set(P,F,L),l.fromRotationXYTranslation(r,e,O);var k;if(!u&&f)u=f.texture,d||(k=f.frame);else if(f&&typeof u=="string")u=f.scene.sys.textures.get(u);else if(!u)return X;k||(k=u.get(d)),!tt&&I&&u&&f&&(m=k.width/f.height,x=k.height/f.height);var D=m/2,z=x/2,Y=Math.floor(S),j=Math.floor(T),J=Y+1,it=j+1,st=m/Y,at=x/j,ft=[],vt=[],xt,Ct,yt=0,Pt=1,Gt=0,Ut=1;k&&(yt=k.u0,Pt=k.u1,Z?(Gt=k.v1,Ut=k.v0):(Gt=k.v0,Ut=k.v1));var Nt=Pt-yt,wt=Ut-Gt;for(Ct=0;Ct<it;Ct++){var Dt=Ct*at-z;for(xt=0;xt<J;xt++){var Rt=xt*st-D;vt.push(Rt,-Dt);var Ht=yt+Nt*(xt/Y),qt=Gt+wt*(Ct/j);ft.push(Ht,qt)}}Array.isArray(B)||(B=[B]),Array.isArray(U)||(U=[U]);var ee=0,te=0;for(Ct=0;Ct<j;Ct++)for(xt=0;xt<Y;xt++){var oe=(xt+J*Ct)*2,Vt=(xt+J*(Ct+1))*2,jt=(xt+1+J*(Ct+1))*2,It=(xt+1+J*Ct)*2,Ft=B[te],St=U[ee],At=new n(vt[oe],vt[oe+1],0,ft[oe],ft[oe+1],Ft,St).transformMat4(l),Lt=new n(vt[Vt],vt[Vt+1],0,ft[Vt],ft[Vt+1],Ft,St).transformMat4(l),ae=new n(vt[It],vt[It+1],0,ft[It],ft[It+1],Ft,St).transformMat4(l),Jt=new n(vt[Vt],vt[Vt+1],0,ft[Vt],ft[Vt+1],Ft,St).transformMat4(l),ge=new n(vt[jt],vt[jt+1],0,ft[jt],ft[jt+1],Ft,St).transformMat4(l),ye=new n(vt[It],vt[It+1],0,ft[It],ft[It+1],Ft,St).transformMat4(l);H&&(At.setUVs(yt,Ut),Lt.setUVs(yt,Gt),ae.setUVs(Pt,Ut),Jt.setUVs(yt,Gt),ge.setUVs(Pt,Gt),ye.setUVs(Pt,Ut)),te++,te===B.length&&(te=0),ee++,ee===U.length&&(ee=0),X.verts.push(At,Lt,ae,Jt,ge,ye),X.faces.push(new o(At,Lt,ae),new o(Jt,ge,ye))}return f&&(f.faces=f.faces.concat(X.faces),f.vertices=f.vertices.concat(X.verts)),X};c.exports=a},34684:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),v=t(37867),s=t(25836),i=t(39318),n=new s,e=new s,r=new v,l=function(a,h,f,u,d,m,x,S,T,C){f===void 0&&(f=1),u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=0),x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=0),C===void 0&&(C=!0);var A={faces:[],verts:[]},w=a.materials;n.set(u,d,m),e.set(x,S,T),r.fromRotationXYTranslation(e,n,C);for(var P=0;P<a.models.length;P++)for(var F=a.models[P],L=F.vertices,O=F.textureCoords,I=F.faces,B=0;B<I.length;B++){var U=I[B],H=U.vertices[0],Z=U.vertices[1],tt=U.vertices[2],X=L[H.vertexIndex],k=L[Z.vertexIndex],D=L[tt.vertexIndex],z=H.textureCoordsIndex,Y=Z.textureCoordsIndex,j=tt.textureCoordsIndex,J=z===-1?{u:0,v:1}:O[z],it=Y===-1?{u:0,v:0}:O[Y],st=j===-1?{u:1,v:1}:O[j],at=16777215;U.material!==""&&w[U.material]&&(at=w[U.material]);var ft=new i(X.x*f,X.y*f,X.z*f,J.u,J.v,at).transformMat4(r),vt=new i(k.x*f,k.y*f,k.z*f,it.u,it.v,at).transformMat4(r),xt=new i(D.x*f,D.y*f,D.z*f,st.u,st.v,at).transformMat4(r);A.verts.push(ft,vt,xt),A.faces.push(new o(ft,vt,xt))}return h&&(h.faces=h.faces.concat(A.faces),h.vertices=h.vertices.concat(A.verts)),A};c.exports=l},92515:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),v=t(39318),s=function(i,n,e,r,l,a,h,f){if(r===void 0&&(r=!1),a===void 0&&(a=16777215),h===void 0&&(h=1),f===void 0&&(f=!1),i.length!==n.length&&!r){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u={faces:[],vertices:[]},d,m,x,S,T,C,A,w,P,F,L,O=r?3:2,I=Array.isArray(a),B=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var U=e[d],H=e[d]*2,Z=e[d]*O;m=i[Z],x=i[Z+1],S=r?i[Z+2]:0,T=n[H],C=n[H+1],f&&(C=1-C),A=I?a[U]:a,w=B?h[U]:h,P=0,F=0,L=0,l&&(P=l[Z],F=l[Z+1],L=r?l[Z+2]:0),u.vertices.push(new v(m,x,S,T,C,A,w,P,F,L))}else{var tt=0,X=0;for(d=0;d<i.length;d+=O)m=i[d],x=i[d+1],S=r?i[d+2]:0,T=n[tt],C=n[tt+1],A=I?a[X]:a,w=B?h[X]:h,P=0,F=0,L=0,l&&(P=l[d],F=l[d+1],L=r?l[d+2]:0),u.vertices.push(new v(m,x,S,T,C,A,w,P,F,L)),tt+=2,X++}for(d=0;d<u.vertices.length;d+=3){var k=u.vertices[d],D=u.vertices[d+1],z=u.vertices[d+2];u.faces.push(new o(k,D,z))}return u};c.exports=s},85048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,t="untitled",o="",v="";function s(m){var x=m.indexOf("#");return x>-1?m.substring(0,x):m}function i(m){return m.models.length===0&&m.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),o="",m.models[m.models.length-1]}function n(m,x){var S=m.length>=2?m[1]:t;x.models.push({faces:[],name:S,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function e(m){m.length===2&&(o=m[1])}function r(m,x){var S=m.length,T=S>=2?parseFloat(m[1]):0,C=S>=3?parseFloat(m[2]):0,A=S>=4?parseFloat(m[3]):0;i(x).vertices.push({x:T,y:C,z:A})}function l(m,x){var S=m.length,T=S>=2?parseFloat(m[1]):0,C=S>=3?parseFloat(m[2]):0,A=S>=4?parseFloat(m[3]):0;isNaN(T)&&(T=0),isNaN(C)&&(C=0),isNaN(A)&&(A=0),y&&(C=1-C),i(x).textureCoords.push({u:T,v:C,w:A})}function a(m,x){var S=m.length,T=S>=2?parseFloat(m[1]):0,C=S>=3?parseFloat(m[2]):0,A=S>=4?parseFloat(m[3]):0;i(x).vertexNormals.push({x:T,y:C,z:A})}function h(m,x){var S=m.length-1;if(!(S<3)){for(var T={group:o,material:v,vertices:[]},C=0;C<S;C++){var A=m[C+1],w=A.split("/"),P=w.length;if(!(P<1||P>3)){var F=0,L=0,O=0;F=parseInt(w[0],10),P>1&&w[1]!==""&&(L=parseInt(w[1],10)),P>2&&(O=parseInt(w[2],10)),F!==0&&(F<0&&(F=i(x).vertices.length+1+F),L-=1,F-=1,O-=1,T.vertices.push({textureCoordsIndex:L,vertexIndex:F,vertexNormalIndex:O}))}}i(x).faces.push(T)}}function f(m,x){m.length>=2&&x.materialLibraries.push(m[1])}function u(m){m.length>=2&&(v=m[1])}var d=function(m,x){x===void 0&&(x=!0),y=x;var S={materials:{},materialLibraries:[],models:[]};o="",v="";for(var T=m.split(`
`),C=0;C<T.length;C++){var A=s(T[C]),w=A.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":n(w,S);break;case"g":e(w);break;case"v":r(w,S);break;case"vt":l(w,S);break;case"vn":a(w,S);break;case"f":h(w,S);break;case"mtllib":f(w,S);break;case"usemtl":u(w);break}}return S};c.exports=d},61485:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),v=function(s){for(var i={},n=s.split(`
`),e="",r=0;r<n.length;r++){var l=n[r].trim();if(!(l.indexOf("#")===0||l==="")){var a=l.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":{e=a[1];break}case"kd":{var h=Math.floor(a[1]*255),f=a.length>=2?Math.floor(a[2]*255):h,u=a.length>=3?Math.floor(a[3]*255):h;i[e]=o(h,f,u);break}}}}return i};c.exports=v},92570:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i,n;if(v===void 0&&s===void 0){var e=t.getInCenter();i=e.x,n=e.y}var r=Math.cos(o),l=Math.sin(o),a=t.vertex1,h=t.vertex2,f=t.vertex3,u=a.x-i,d=a.y-n;a.set(u*r-d*l+i,u*l+d*r+n),u=h.x-i,d=h.y-n,h.set(u*r-d*l+i,u*l+d*r+n),u=f.x-i,d=f.y-n,f.set(u*r-d*l+i,u*l+d*r+n)};c.exports=y},39318:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(70554),s=t(25836),i=new o({Extends:s,initialize:function(e,r,l,a,h,f,u,d,m,x){f===void 0&&(f=16777215),u===void 0&&(u=1),d===void 0&&(d=0),m===void 0&&(m=0),x===void 0&&(x=0),s.call(this,e,r,l),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=m,this.nz=x,this.u=a,this.v=h,this.color=f,this.alpha=u,this.tx=0,this.ty=0,this.ta=0,this.tu=a,this.tv=h},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,r,l){var a=this.x,h=this.y,f=this.z,u=n.val,d=a*u[0]+h*u[4]+f*u[8]+u[12],m=a*u[1]+h*u[5]+f*u[9]+u[13],x=a*u[2]+h*u[6]+f*u[10]+u[14],S=a*u[3]+h*u[7]+f*u[11]+u[15];this.vx=d/S*e,this.vy=-(m/S)*r,l<=0?this.vz=x/S:this.vz=-(x/S)},resize:function(n,e,r,l,a,h){return this.x=n,this.y=e,this.vx=this.x*r,this.vy=-this.y*l,this.vz=0,a<.5?this.vx+=r*(.5-a):a>.5&&(this.vx-=r*(a-.5)),h<.5?this.vy+=l*(.5-h):h>.5&&(this.vy-=l*(h-.5)),this},update:function(n,e,r,l,a,h,f,u){var d=this.vx*n+this.vy*r+a,m=this.vx*e+this.vy*l+h;return f&&(d=Math.round(d),m=Math.round(m)),this.tx=d,this.ty=m,this.ta=this.alpha*u,this},load:function(n,e,r,l,a){return n[++r]=this.tx,n[++r]=this.ty,n[++r]=this.tu,n[++r]=this.tv,n[++r]=l,n[++r]=a,e[++r]=v.getTintAppendFloatAlpha(this.color,this.ta),r}});c.exports=i},73090:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};c.exports=o},96550:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};c.exports=y},99706:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s){return new o(s.x,s.y)};c.exports=v},68010:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y)};c.exports=y},27814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y};c.exports=y},73565:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};c.exports=y},87555:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){if(i===void 0&&(i=new o),!Array.isArray(s))throw new Error("GetCentroid points argument must be an array");var n=s.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)i.x=s[0].x,i.y=s[0].y;else{for(var e=0;e<n;e++)i.x+=s[e].x,i.y+=s[e].y;i.x/=n,i.y/=n}return i};c.exports=v},28793:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};c.exports=y},44405:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x*t.x+t.y*t.y};c.exports=y},20873:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(s,i){i===void 0&&(i=new o);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,a=0;a<s.length;a++){var h=s[a];h.x>n&&(n=h.x),h.x<e&&(e=h.x),h.y>r&&(r=h.y),h.y<l&&(l=h.y)}return i.x=e,i.y=l,i.width=n-e,i.height=r-l,i};c.exports=v},26152:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i,n,e){return n===void 0&&(n=0),e===void 0&&(e=new o),e.x=s.x+(i.x-s.x)*n,e.y=s.y+(i.y-s.y)*n,e};c.exports=v},55767:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(t.y,t.x)};c.exports=y},79432:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){return i===void 0&&(i=new o),i.setTo(-s.x,-s.y)};c.exports=v},2141:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23777),s=new o({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=v.POINT,this.x=n,this.y=e},setTo:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.x=i,this.y=n,this}});c.exports=s},72930:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(44405),s=function(i,n,e){e===void 0&&(e=new o);var r=i.x*n.x+i.y*n.y,l=r/v(n);return l!==0&&(e.x=l*n.x,e.y=l*n.y),e};c.exports=s},62880:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i,n){n===void 0&&(n=new o);var e=s.x*i.x+s.y*i.y;return e!==0&&(n.x=e*i.x,n.y=e*i.y),n};c.exports=v},15093:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28793),v=function(s,i){if(s.x!==0||s.y!==0){var n=o(s);s.x/=n,s.y/=n}return s.x*=i,s.y*=i,s};c.exports=v},43711:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);o.Ceil=t(96550),o.Clone=t(99706),o.CopyFrom=t(68010),o.Equals=t(27814),o.Floor=t(73565),o.GetCentroid=t(87555),o.GetMagnitude=t(28793),o.GetMagnitudeSq=t(44405),o.GetRectangleFromPoints=t(20873),o.Interpolate=t(26152),o.Invert=t(55767),o.Negative=t(79432),o.Project=t(72930),o.ProjectUnit=t(62880),o.SetMagnitude=t(15093),c.exports=o},12306:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717),v=function(s){return new o(s.points)};c.exports=v},63814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){for(var s=!1,i=-1,n=t.points.length-1;++i<t.points.length;n=i){var e=t.points[i].x,r=t.points[i].y,l=t.points[n].x,a=t.points[n].y;(r<=v&&v<a||a<=v&&v<r)&&o<(l-e)*(v-r)/(a-r)+e&&(s=!s)}return s};c.exports=y},99338:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63814),v=function(s,i){return o(s,i.x,i.y)};c.exports=v},94811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(X,k,D){D=D||2;var z=k&&k.length,Y=z?k[0]*D:X.length,j=t(X,0,Y,D,!0),J=[];if(!j||j.next===j.prev)return J;var it,st,at,ft,vt,xt,Ct;if(z&&(j=r(X,k,j,D)),X.length>80*D){it=at=X[0],st=ft=X[1];for(var yt=D;yt<Y;yt+=D)vt=X[yt],xt=X[yt+1],vt<it&&(it=vt),xt<st&&(st=xt),vt>at&&(at=vt),xt>ft&&(ft=xt);Ct=Math.max(at-it,ft-st),Ct=Ct!==0?32767/Ct:0}return v(j,J,D,it,st,Ct,0),J}function t(X,k,D,z,Y){var j,J;if(Y===tt(X,k,D,z)>0)for(j=k;j<D;j+=z)J=U(j,X[j],X[j+1],J);else for(j=D-z;j>=k;j-=z)J=U(j,X[j],X[j+1],J);return J&&A(J,J.next)&&(H(J),J=J.next),J}function o(X,k){if(!X)return X;k||(k=X);var D=X,z;do if(z=!1,!D.steiner&&(A(D,D.next)||C(D.prev,D,D.next)===0)){if(H(D),D=k=D.prev,D===D.next)break;z=!0}else D=D.next;while(z||D!==k);return k}function v(X,k,D,z,Y,j,J){if(X){!J&&j&&u(X,z,Y,j);for(var it=X,st,at;X.prev!==X.next;){if(st=X.prev,at=X.next,j?i(X,z,Y,j):s(X)){k.push(st.i/D|0),k.push(X.i/D|0),k.push(at.i/D|0),H(X),X=at.next,it=at.next;continue}if(X=at,X===it){J?J===1?(X=n(o(X),k,D),v(X,k,D,z,Y,j,2)):J===2&&e(X,k,D,z,Y,j):v(o(X),k,D,z,Y,j,1);break}}}}function s(X){var k=X.prev,D=X,z=X.next;if(C(k,D,z)>=0)return!1;for(var Y=k.x,j=D.x,J=z.x,it=k.y,st=D.y,at=z.y,ft=Y<j?Y<J?Y:J:j<J?j:J,vt=it<st?it<at?it:at:st<at?st:at,xt=Y>j?Y>J?Y:J:j>J?j:J,Ct=it>st?it>at?it:at:st>at?st:at,yt=z.next;yt!==k;){if(yt.x>=ft&&yt.x<=xt&&yt.y>=vt&&yt.y<=Ct&&S(Y,it,j,st,J,at,yt.x,yt.y)&&C(yt.prev,yt,yt.next)>=0)return!1;yt=yt.next}return!0}function i(X,k,D,z){var Y=X.prev,j=X,J=X.next;if(C(Y,j,J)>=0)return!1;for(var it=Y.x,st=j.x,at=J.x,ft=Y.y,vt=j.y,xt=J.y,Ct=it<st?it<at?it:at:st<at?st:at,yt=ft<vt?ft<xt?ft:xt:vt<xt?vt:xt,Pt=it>st?it>at?it:at:st>at?st:at,Gt=ft>vt?ft>xt?ft:xt:vt>xt?vt:xt,Ut=m(Ct,yt,k,D,z),Nt=m(Pt,Gt,k,D,z),wt=X.prevZ,Dt=X.nextZ;wt&&wt.z>=Ut&&Dt&&Dt.z<=Nt;){if(wt.x>=Ct&&wt.x<=Pt&&wt.y>=yt&&wt.y<=Gt&&wt!==Y&&wt!==J&&S(it,ft,st,vt,at,xt,wt.x,wt.y)&&C(wt.prev,wt,wt.next)>=0||(wt=wt.prevZ,Dt.x>=Ct&&Dt.x<=Pt&&Dt.y>=yt&&Dt.y<=Gt&&Dt!==Y&&Dt!==J&&S(it,ft,st,vt,at,xt,Dt.x,Dt.y)&&C(Dt.prev,Dt,Dt.next)>=0))return!1;Dt=Dt.nextZ}for(;wt&&wt.z>=Ut;){if(wt.x>=Ct&&wt.x<=Pt&&wt.y>=yt&&wt.y<=Gt&&wt!==Y&&wt!==J&&S(it,ft,st,vt,at,xt,wt.x,wt.y)&&C(wt.prev,wt,wt.next)>=0)return!1;wt=wt.prevZ}for(;Dt&&Dt.z<=Nt;){if(Dt.x>=Ct&&Dt.x<=Pt&&Dt.y>=yt&&Dt.y<=Gt&&Dt!==Y&&Dt!==J&&S(it,ft,st,vt,at,xt,Dt.x,Dt.y)&&C(Dt.prev,Dt,Dt.next)>=0)return!1;Dt=Dt.nextZ}return!0}function n(X,k,D){var z=X;do{var Y=z.prev,j=z.next.next;!A(Y,j)&&w(Y,z,z.next,j)&&O(Y,j)&&O(j,Y)&&(k.push(Y.i/D|0),k.push(z.i/D|0),k.push(j.i/D|0),H(z),H(z.next),z=X=j),z=z.next}while(z!==X);return o(z)}function e(X,k,D,z,Y,j){var J=X;do{for(var it=J.next.next;it!==J.prev;){if(J.i!==it.i&&T(J,it)){var st=B(J,it);J=o(J,J.next),st=o(st,st.next),v(J,k,D,z,Y,j,0),v(st,k,D,z,Y,j,0);return}it=it.next}J=J.next}while(J!==X)}function r(X,k,D,z){var Y=[],j,J,it,st,at;for(j=0,J=k.length;j<J;j++)it=k[j]*z,st=j<J-1?k[j+1]*z:X.length,at=t(X,it,st,z,!1),at===at.next&&(at.steiner=!0),Y.push(x(at));for(Y.sort(l),j=0;j<Y.length;j++)D=a(Y[j],D);return D}function l(X,k){return X.x-k.x}function a(X,k){var D=h(X,k);if(!D)return k;var z=B(D,X);return o(z,z.next),o(D,D.next)}function h(X,k){var D=k,z=X.x,Y=X.y,j=-1/0,J;do{if(Y<=D.y&&Y>=D.next.y&&D.next.y!==D.y){var it=D.x+(Y-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(it<=z&&it>j&&(j=it,J=D.x<D.next.x?D:D.next,it===z))return J}D=D.next}while(D!==k);if(!J)return null;var st=J,at=J.x,ft=J.y,vt=1/0,xt;D=J;do z>=D.x&&D.x>=at&&z!==D.x&&S(Y<ft?z:j,Y,at,ft,Y<ft?j:z,Y,D.x,D.y)&&(xt=Math.abs(Y-D.y)/(z-D.x),O(D,X)&&(xt<vt||xt===vt&&(D.x>J.x||D.x===J.x&&f(J,D)))&&(J=D,vt=xt)),D=D.next;while(D!==st);return J}function f(X,k){return C(X.prev,X,k.prev)<0&&C(k.next,X,X.next)<0}function u(X,k,D,z){var Y=X;do Y.z===0&&(Y.z=m(Y.x,Y.y,k,D,z)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==X);Y.prevZ.nextZ=null,Y.prevZ=null,d(Y)}function d(X){var k,D,z,Y,j,J,it,st,at=1;do{for(D=X,X=null,j=null,J=0;D;){for(J++,z=D,it=0,k=0;k<at&&(it++,z=z.nextZ,!!z);k++);for(st=at;it>0||st>0&&z;)it!==0&&(st===0||!z||D.z<=z.z)?(Y=D,D=D.nextZ,it--):(Y=z,z=z.nextZ,st--),j?j.nextZ=Y:X=Y,Y.prevZ=j,j=Y;D=z}j.nextZ=null,at*=2}while(J>1);return X}function m(X,k,D,z,Y){return X=(X-D)*Y|0,k=(k-z)*Y|0,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,X|k<<1}function x(X){var k=X,D=X;do(k.x<D.x||k.x===D.x&&k.y<D.y)&&(D=k),k=k.next;while(k!==X);return D}function S(X,k,D,z,Y,j,J,it){return(Y-J)*(k-it)>=(X-J)*(j-it)&&(X-J)*(z-it)>=(D-J)*(k-it)&&(D-J)*(j-it)>=(Y-J)*(z-it)}function T(X,k){return X.next.i!==k.i&&X.prev.i!==k.i&&!L(X,k)&&(O(X,k)&&O(k,X)&&I(X,k)&&(C(X.prev,X,k.prev)||C(X,k.prev,k))||A(X,k)&&C(X.prev,X,X.next)>0&&C(k.prev,k,k.next)>0)}function C(X,k,D){return(k.y-X.y)*(D.x-k.x)-(k.x-X.x)*(D.y-k.y)}function A(X,k){return X.x===k.x&&X.y===k.y}function w(X,k,D,z){var Y=F(C(X,k,D)),j=F(C(X,k,z)),J=F(C(D,z,X)),it=F(C(D,z,k));return!!(Y!==j&&J!==it||Y===0&&P(X,D,k)||j===0&&P(X,z,k)||J===0&&P(D,X,z)||it===0&&P(D,k,z))}function P(X,k,D){return k.x<=Math.max(X.x,D.x)&&k.x>=Math.min(X.x,D.x)&&k.y<=Math.max(X.y,D.y)&&k.y>=Math.min(X.y,D.y)}function F(X){return X>0?1:X<0?-1:0}function L(X,k){var D=X;do{if(D.i!==X.i&&D.next.i!==X.i&&D.i!==k.i&&D.next.i!==k.i&&w(D,D.next,X,k))return!0;D=D.next}while(D!==X);return!1}function O(X,k){return C(X.prev,X,X.next)<0?C(X,k,X.next)>=0&&C(X,X.prev,k)>=0:C(X,k,X.prev)<0||C(X,X.next,k)<0}function I(X,k){var D=X,z=!1,Y=(X.x+k.x)/2,j=(X.y+k.y)/2;do D.y>j!=D.next.y>j&&D.next.y!==D.y&&Y<(D.next.x-D.x)*(j-D.y)/(D.next.y-D.y)+D.x&&(z=!z),D=D.next;while(D!==X);return z}function B(X,k){var D=new Z(X.i,X.x,X.y),z=new Z(k.i,k.x,k.y),Y=X.next,j=k.prev;return X.next=k,k.prev=X,D.next=Y,Y.prev=D,z.next=D,D.prev=z,j.next=z,z.prev=j,z}function U(X,k,D,z){var Y=new Z(X,k,D);return z?(Y.next=z.next,Y.prev=z,z.next.prev=Y,z.next=Y):(Y.prev=Y,Y.next=Y),Y}function H(X){X.next.prev=X.prev,X.prev.next=X.next,X.prevZ&&(X.prevZ.nextZ=X.nextZ),X.nextZ&&(X.nextZ.prevZ=X.prevZ)}function Z(X,k,D){this.i=X,this.x=k,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(X,k,D,z){var Y=k&&k.length,j=Y?k[0]*D:X.length,J=Math.abs(tt(X,0,j,D));if(Y)for(var it=0,st=k.length;it<st;it++){var at=k[it]*D,ft=it<st-1?k[it+1]*D:X.length;J-=Math.abs(tt(X,at,ft,D))}var vt=0;for(it=0;it<z.length;it+=3){var xt=z[it]*D,Ct=z[it+1]*D,yt=z[it+2]*D;vt+=Math.abs((X[xt]-X[yt])*(X[Ct+1]-X[xt+1])-(X[xt]-X[Ct])*(X[yt+1]-X[xt+1]))}return J===0&&vt===0?0:Math.abs((vt-J)/J)};function tt(X,k,D,z){for(var Y=0,j=k,J=D-z;j<D;j+=z)Y+=(X[J]-X[j])*(X[j+1]+X[J+1]),J=j;return Y}y.flatten=function(X){for(var k=X[0][0].length,D={vertices:[],holes:[],dimensions:k},z=0,Y=0;Y<X.length;Y++){for(var j=0;j<X[Y].length;j++)for(var J=0;J<k;J++)D.vertices.push(X[Y][j][J]);Y>0&&(z+=X[Y-1].length,D.holes.push(z))}return D},c.exports=y},13829:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(s,i){i===void 0&&(i=new o);for(var n=1/0,e=1/0,r=-n,l=-e,a,h=0;h<s.points.length;h++)a=s.points[h],n=Math.min(n,a.x),e=Math.min(e,a.y),r=Math.max(r,a.x),l=Math.max(l,a.y);return i.x=n,i.y=e,i.width=r-n,i.height=l-e,i};c.exports=v},26173:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=[]);for(var v=0;v<t.points.length;v++)o.push(t.points[v].x),o.push(t.points[v].y);return o};c.exports=y},9564:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=t(23031),s=t(30052),i=function(n,e,r,l){l===void 0&&(l=[]);var a=n.points,h=s(n);!e&&r>0&&(e=h/r);for(var f=0;f<e;f++)for(var u=h*(f/e),d=0,m=0;m<a.length;m++){var x=a[m],S=a[(m+1)%a.length],T=new v(x.x,x.y,S.x,S.y),C=o(T);if(u<d||u>d+C){d+=C;continue}var A=T.getPoint((u-d)/C);l.push(A);break}return l};c.exports=i},30052:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=t(23031),s=function(i){for(var n=i.points,e=0,r=0;r<n.length;r++){var l=n[r],a=n[(r+1)%n.length],h=new v(l.x,l.y,a.x,a.y);e+=o(h)}return e};c.exports=s},25717:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(63814),s=t(9564),i=t(23777),n=new o({initialize:function(r){this.type=i.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(e,r){return v(this,e,r)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var r,l=0;l<e.length;l++)r={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(r.x=parseFloat(e[l]),r.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(r.x=e[l][0],r.y=e[l][1]):(r.x=e[l].x,r.y=e[l].y),this.points.push(r);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,r,l,a=0;a<this.points.length-1;a++)r=this.points[a],l=this.points[a+1],e+=(l.x-r.x)*(r.y+l.y);return r=this.points[0],l=this.points[this.points.length-1],e+=(r.x-l.x)*(l.y+r.y),this.area=-e*.5,this.area},getPoints:function(e,r,l){return s(this,e,r,l)}});c.exports=n},8133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.points.reverse(),t};c.exports=y},29524:c=>{function y(n,e){var r=n.x-e.x,l=n.y-e.y;return r*r+l*l}function t(n,e,r){var l=e.x,a=e.y,h=r.x-l,f=r.y-a;if(h!==0||f!==0){var u=((n.x-l)*h+(n.y-a)*f)/(h*h+f*f);u>1?(l=r.x,a=r.y):u>0&&(l+=h*u,a+=f*u)}return h=n.x-l,f=n.y-a,h*h+f*f}function o(n,e){for(var r=n[0],l=[r],a,h=1,f=n.length;h<f;h++)a=n[h],y(a,r)>e&&(l.push(a),r=a);return r!==a&&l.push(a),l}function v(n,e,r,l,a){for(var h=l,f,u=e+1;u<r;u++){var d=t(n[u],n[e],n[r]);d>h&&(f=u,h=d)}h>l&&(f-e>1&&v(n,e,f,l,a),a.push(n[f]),r-f>1&&v(n,f,r,l,a))}function s(n,e){var r=n.length-1,l=[n[0]];return v(n,0,r,e,l),l.push(n[r]),l}var i=function(n,e,r){e===void 0&&(e=1),r===void 0&&(r=!1);var l=n.points;if(l.length>2){var a=e*e;r||(l=o(l,a)),n.setTo(s(l,a))}return n};c.exports=i},5469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(o,v){return o[0]=v[0],o[1]=v[1],o},t=function(o){var v,s=[],i=o.points;for(v=0;v<i.length;v++)s.push([i[v].x,i[v].y]);var n=[];for(s.length>0&&n.push(y([0,0],s[0])),v=0;v<s.length-1;v++){var e=s[v],r=s[v+1],l=e[0],a=e[1],h=r[0],f=r[1];n.push([.85*l+.15*h,.85*a+.15*f]),n.push([.15*l+.85*h,.15*a+.85*f])}return s.length>1&&n.push(y([0,0],s[s.length-1])),o.setTo(n)};c.exports=t},24709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){for(var s=t.points,i=0;i<s.length;i++)s[i].x+=o,s[i].y+=v;return t};c.exports=y},58423:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717);o.Clone=t(12306),o.Contains=t(63814),o.ContainsPoint=t(99338),o.Earcut=t(94811),o.GetAABB=t(13829),o.GetNumberArray=t(26173),o.GetPoints=t(9564),o.Perimeter=t(30052),o.Reverse=t(8133),o.Simplify=t(29524),o.Smooth=t(5469),o.Translate=t(24709),c.exports=o},62224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.height};c.exports=y},98615:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};c.exports=y},31688:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};c.exports=y},67502:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t.x=o-t.width/2,t.y=v-t.height/2,t};c.exports=y},65085:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(s){return new o(s.x,s.y,s.width,s.height)};c.exports=v},37303:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t.width<=0||t.height<=0?!1:t.x<=o&&t.x+t.width>=o&&t.y<=v&&t.y+t.height>=v};c.exports=y},96553:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37303),v=function(s,i){return o(s,i.x,i.y)};c.exports=v},70273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.width*o.height>t.width*t.height?!1:o.x>t.x&&o.x<t.right&&o.right>t.x&&o.right<t.right&&o.y>t.y&&o.y<t.bottom&&o.bottom>t.y&&o.bottom<t.bottom};c.exports=y},43459:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};c.exports=y},77493:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x,y:t.y}),o.push({x:t.right,y:t.y}),o.push({x:t.right,y:t.bottom}),o.push({x:t.x,y:t.bottom}),o};c.exports=y},9219:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};c.exports=y},53751:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),v=function(s,i){var n=o(s);return n<o(i)?s.setSize(i.height*n,i.height):s.setSize(i.width,i.width/n),s.setPosition(i.centerX-s.width/2,i.centerY-s.height/2)};c.exports=v},16088:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),v=function(s,i){var n=o(s);return n>o(i)?s.setSize(i.height*n,i.height):s.setSize(i.width,i.width/n),s.setPosition(i.centerX-s.width/2,i.centerY-s.height/2)};c.exports=v},80774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};c.exports=y},83859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};c.exports=y},19217:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(36383),s=function(i,n){if(n===void 0&&(n=new o),i.length===0)return n;for(var e=Number.MAX_VALUE,r=Number.MAX_VALUE,l=v.MIN_SAFE_INTEGER,a=v.MIN_SAFE_INTEGER,h,f,u,d=0;d<i.length;d++)h=i[d],Array.isArray(h)?(f=h[0],u=h[1]):(f=h.x,u=h.y),e=Math.min(e,f),r=Math.min(r,u),l=Math.max(l,f),a=Math.max(a,u);return n.x=e,n.y=r,n.width=l-e,n.height=a-r,n};c.exports=s},9477:(c,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(s,i,n,e,r){return r===void 0&&(r=new o),r.setTo(Math.min(s,n),Math.min(i,e),Math.abs(s-n),Math.abs(i-e))};c.exports=v},8249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height===0?NaN:t.width/t.height};c.exports=y},27165:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){return i===void 0&&(i=new o),i.x=s.centerX,i.y=s.centerY,i};c.exports=v},20812:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),v=t(2141),s=function(i,n,e){if(e===void 0&&(e=new v),n<=0||n>=1)return e.x=i.x,e.y=i.y,e;var r=o(i)*n;return n>.5?(r-=i.width+i.height,r<=i.width?(e.x=i.right-r,e.y=i.bottom):(e.x=i.x,e.y=i.bottom-(r-i.width))):r<=i.width?(e.x=i.x+r,e.y=i.y):(e.x=i.right,e.y=i.y+(r-i.width)),e};c.exports=s},34819:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20812),v=t(13019),s=function(i,n,e,r){r===void 0&&(r=[]),!n&&e>0&&(n=v(i)/e);for(var l=0;l<n;l++){var a=l/n;r.push(o(i,a))}return r};c.exports=s},51313:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){return i===void 0&&(i=new o),i.x=s.width,i.y=s.height,i};c.exports=v},86091:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67502),v=function(s,i,n){var e=s.centerX,r=s.centerY;return s.setSize(s.width+i*2,s.height+n*2),o(s,e,r)};c.exports=v},53951:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(59996),s=function(i,n,e){return e===void 0&&(e=new o),v(i,n)?(e.x=Math.max(i.x,n.x),e.y=Math.max(i.y,n.y),e.width=Math.min(i.right,n.right)-e.x,e.height=Math.min(i.bottom,n.bottom)-e.y):e.setEmpty(),e};c.exports=s},14649:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),v=t(2141),s=function(i,n,e,r){if(r===void 0&&(r=[]),!n&&!e)return r;n?e=Math.round(o(i)/n):n=o(i)/e;for(var l=i.x,a=i.y,h=0,f=0;f<e;f++)switch(r.push(new v(l,a)),h){case 0:l+=n,l>=i.right&&(h=1,a+=l-i.right,l=i.right);break;case 1:a+=n,a>=i.bottom&&(h=2,l-=a-i.bottom,a=i.bottom);break;case 2:l-=n,l<=i.left&&(h=3,a-=i.left-l,l=i.left);break;case 3:a-=n,a<=i.top&&(h=0,a=i.top);break}return r};c.exports=s},33595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var v=t.x,s=t.right,i=t.y,n=t.bottom,e=0;e<o.length;e++)v=Math.min(v,o[e].x),s=Math.max(s,o[e].x),i=Math.min(i,o[e].y),n=Math.max(n,o[e].y);return t.x=v,t.y=i,t.width=s-v,t.height=n-i,t};c.exports=y},20074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=Math.min(t.x,o.x),s=Math.max(t.right,o.right);t.x=v,t.width=s-v;var i=Math.min(t.y,o.y),n=Math.max(t.bottom,o.bottom);return t.y=i,t.height=n-i,t};c.exports=y},92171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=Math.min(t.x,o),i=Math.max(t.right,o);t.x=s,t.width=i-s;var n=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=n,t.height=e-n,t};c.exports=y},42981:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t.x+=o,t.y+=v,t};c.exports=y},46907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=y},60170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x<o.right&&t.right>o.x&&t.y<o.bottom&&t.bottom>o.y};c.exports=y},13019:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(t.width+t.height)};c.exports=y},85133:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(39506),s=function(i,n,e){e===void 0&&(e=new o),n=v(n);var r=Math.sin(n),l=Math.cos(n),a=l>0?i.width/2:i.width/-2,h=r>0?i.height/2:i.height/-2;return Math.abs(a*r)<Math.abs(h*l)?h=a*r/l:a=h*l/r,e.x=a+i.centerX,e.y=h+i.centerY,e};c.exports=s},26597:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){return i===void 0&&(i=new o),i.x=s.x+Math.random()*s.width,i.y=s.y+Math.random()*s.height,i};c.exports=v},86470:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),v=t(70273),s=t(2141),i=function(n,e,r){if(r===void 0&&(r=new s),v(n,e))switch(o(0,3)){case 0:r.x=n.x+Math.random()*(e.right-n.x),r.y=n.y+Math.random()*(e.top-n.y);break;case 1:r.x=e.x+Math.random()*(n.right-e.x),r.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:r.x=n.x+Math.random()*(e.x-n.x),r.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:r.x=e.right+Math.random()*(n.right-e.right),r.y=n.y+Math.random()*(e.bottom-n.y);break}return r};c.exports=i},87841:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37303),s=t(20812),i=t(34819),n=t(23777),e=t(23031),r=t(26597),l=new o({initialize:function(h,f,u,d){h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=n.RECTANGLE,this.x=h,this.y=f,this.width=u,this.height=d},contains:function(a,h){return v(this,a,h)},getPoint:function(a,h){return s(this,a,h)},getPoints:function(a,h,f){return i(this,a,h,f)},getRandomPoint:function(a){return r(this,a)},setTo:function(a,h,f,u){return this.x=a,this.y=h,this.width=f,this.height=u,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,h){return h===void 0&&(h=a),this.x=a,this.y=h,this},setSize:function(a,h){return h===void 0&&(h=a),this.width=a,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return a===void 0&&(a=new e),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return a===void 0&&(a=new e),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return a===void 0&&(a=new e),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return a===void 0&&(a=new e),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}},top:{get:function(){return this.y},set:function(a){a>=this.bottom?this.height=0:this.height=this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});c.exports=l},94845:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.width===o.width&&t.height===o.height};c.exports=y},31730:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return v===void 0&&(v=o),t.width*=o,t.height*=v,t};c.exports=y},36899:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(s,i,n){n===void 0&&(n=new o);var e=Math.min(s.x,i.x),r=Math.min(s.y,i.y),l=Math.max(s.right,i.right)-e,a=Math.max(s.bottom,i.bottom)-r;return n.setTo(e,r,l,a)};c.exports=v},93232:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841);o.Area=t(62224),o.Ceil=t(98615),o.CeilAll=t(31688),o.CenterOn=t(67502),o.Clone=t(65085),o.Contains=t(37303),o.ContainsPoint=t(96553),o.ContainsRect=t(70273),o.CopyFrom=t(43459),o.Decompose=t(77493),o.Equals=t(9219),o.FitInside=t(53751),o.FitOutside=t(16088),o.Floor=t(80774),o.FloorAll=t(83859),o.FromPoints=t(19217),o.FromXY=t(9477),o.GetAspectRatio=t(8249),o.GetCenter=t(27165),o.GetPoint=t(20812),o.GetPoints=t(34819),o.GetSize=t(51313),o.Inflate=t(86091),o.Intersection=t(53951),o.MarchingAnts=t(14649),o.MergePoints=t(33595),o.MergeRect=t(20074),o.MergeXY=t(92171),o.Offset=t(42981),o.OffsetPoint=t(46907),o.Overlaps=t(60170),o.Perimeter=t(13019),o.PerimeterPoint=t(85133),o.Random=t(26597),o.RandomOutside=t(86470),o.SameDimensions=t(94845),o.Scale=t(31730),o.Union=t(36899),c.exports=o},41658:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.x1,v=t.y1,s=t.x2,i=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-o)*(i-v)-(s-o)*(e-v))/2)};c.exports=y},39208:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),v=function(s,i,n){var e=n*(Math.sqrt(3)/2),r=s,l=i,a=s+n/2,h=i+e,f=s-n/2,u=i+e;return new o(r,l,a,h,f,u)};c.exports=v},39545:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(94811),v=t(16483),s=function(i,n,e,r,l){n===void 0&&(n=null),e===void 0&&(e=1),r===void 0&&(r=1),l===void 0&&(l=[]);for(var a=o(i,n),h,f,u,d,m,x,S,T,C,A=0;A<a.length;A+=3)h=a[A],f=a[A+1],u=a[A+2],d=i[h*2]*e,m=i[h*2+1]*r,x=i[f*2]*e,S=i[f*2+1]*r,T=i[u*2]*e,C=i[u*2+1]*r,l.push(new v(d,m,x,S,T,C));return l};c.exports=s},90301:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),v=function(s,i,n,e){e===void 0&&(e=n);var r=s,l=i,a=s,h=i-e,f=s+n,u=i;return new o(r,l,a,h,f,u)};c.exports=v},23707:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97523),v=t(13584),s=function(i,n,e,r){r===void 0&&(r=o);var l=r(i),a=n-l.x,h=e-l.y;return v(i,a,h)};c.exports=s},97523:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){return i===void 0&&(i=new o),i.x=(s.x1+s.x2+s.x3)/3,i.y=(s.y1+s.y2+s.y3)/3,i};c.exports=v},24951:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099);function v(i,n,e,r){return i*r-n*e}var s=function(i,n){n===void 0&&(n=new o);var e=i.x3,r=i.y3,l=i.x1-e,a=i.y1-r,h=i.x2-e,f=i.y2-r,u=2*v(l,a,h,f),d=v(a,l*l+a*a,f,h*h+f*f),m=v(l,l*l+a*a,h,h*h+f*f);return n.x=e-d/u,n.y=r+m/u,n};c.exports=s},85614:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),v=function(s,i){i===void 0&&(i=new o);var n=s.x1,e=s.y1,r=s.x2,l=s.y2,a=s.x3,h=s.y3,f=r-n,u=l-e,d=a-n,m=h-e,x=f*(n+r)+u*(e+l),S=d*(n+a)+m*(e+h),T=2*(f*(h-l)-u*(a-r)),C,A;if(Math.abs(T)<1e-6){var w=Math.min(n,r,a),P=Math.min(e,l,h);C=(Math.max(n,r,a)-w)*.5,A=(Math.max(e,l,h)-P)*.5,i.x=w+C,i.y=P+A,i.radius=Math.sqrt(C*C+A*A)}else i.x=(m*x-u*S)/T,i.y=(f*S-d*x)/T,C=i.x-n,A=i.y-e,i.radius=Math.sqrt(C*C+A*A);return i};c.exports=v},74422:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),v=function(s){return new o(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};c.exports=v},10690:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=t.x3-t.x1,i=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,r=o-t.x1,l=v-t.y1,a=s*s+i*i,h=s*n+i*e,f=s*r+i*l,u=n*n+e*e,d=n*r+e*l,m=a*u-h*h,x=m===0?0:1/m,S=(u*f-h*d)*x,T=(a*d-h*f)*x;return S>=0&&T>=0&&S+T<1};c.exports=y},48653:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v===void 0&&(v=!1),s===void 0&&(s=[]);for(var i=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,r=t.y2-t.y1,l=i*i+n*n,a=i*e+n*r,h=e*e+r*r,f=l*h-a*a,u=f===0?0:1/f,d,m,x,S,T,C,A=t.x1,w=t.y1,P=0;P<o.length&&(x=o[P].x-A,S=o[P].y-w,T=i*x+n*S,C=e*x+r*S,d=(h*T-a*C)*u,m=(l*C-a*T)*u,!(d>=0&&m>=0&&d+m<1&&(s.push({x:o[P].x,y:o[P].y}),v)));P++);return s};c.exports=y},96006:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10690),v=function(s,i){return o(s,i.x,i.y)};c.exports=v},71326:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};c.exports=y},71694:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x1,y:t.y1}),o.push({x:t.x2,y:t.y2}),o.push({x:t.x3,y:t.y3}),o};c.exports=y},33522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2&&t.x3===o.x3&&t.y3===o.y3};c.exports=y},20437:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(35001),s=function(i,n,e){e===void 0&&(e=new o);var r=i.getLineA(),l=i.getLineB(),a=i.getLineC();if(n<=0||n>=1)return e.x=r.x1,e.y=r.y1,e;var h=v(r),f=v(l),u=v(a),d=h+f+u,m=d*n,x=0;return m<h?(x=m/h,e.x=r.x1+(r.x2-r.x1)*x,e.y=r.y1+(r.y2-r.y1)*x):m>h+f?(m-=h+f,x=m/u,e.x=a.x1+(a.x2-a.x1)*x,e.y=a.y1+(a.y2-a.y1)*x):(m-=h,x=m/f,e.x=l.x1+(l.x2-l.x1)*x,e.y=l.y1+(l.y2-l.y1)*x),e};c.exports=s},80672:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=t(2141),s=function(i,n,e,r){r===void 0&&(r=[]);var l=i.getLineA(),a=i.getLineB(),h=i.getLineC(),f=o(l),u=o(a),d=o(h),m=f+u+d;!n&&e>0&&(n=m/e);for(var x=0;x<n;x++){var S=m*(x/n),T=0,C=new v;S<f?(T=S/f,C.x=l.x1+(l.x2-l.x1)*T,C.y=l.y1+(l.y2-l.y1)*T):S>f+u?(S-=f+u,T=S/d,C.x=h.x1+(h.x2-h.x1)*T,C.y=h.y1+(h.y2-h.y1)*T):(S-=f,T=S/u,C.x=a.x1+(a.x2-a.x1)*T,C.y=a.y1+(a.y2-a.y1)*T),r.push(C)}return r};c.exports=s},39757:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);function v(i,n,e,r){var l=i-e,a=n-r,h=l*l+a*a;return Math.sqrt(h)}var s=function(i,n){n===void 0&&(n=new o);var e=i.x1,r=i.y1,l=i.x2,a=i.y2,h=i.x3,f=i.y3,u=v(h,f,l,a),d=v(e,r,h,f),m=v(l,a,e,r),x=u+d+m;return n.x=(e*u+l*d+h*m)/x,n.y=(r*u+a*d+f*m)/x,n};c.exports=s},13584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t.x1+=o,t.y1+=v,t.x2+=o,t.y2+=v,t.x3+=o,t.y3+=v,t};c.exports=y},1376:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=function(s){var i=s.getLineA(),n=s.getLineB(),e=s.getLineC();return o(i)+o(n)+o(e)};c.exports=v},90260:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(s,i){i===void 0&&(i=new o);var n=s.x2-s.x1,e=s.y2-s.y1,r=s.x3-s.x1,l=s.y3-s.y1,a=Math.random(),h=Math.random();return a+h>=1&&(a=1-a,h=1-h),i.x=s.x1+(n*a+r*h),i.y=s.y1+(e*a+l*h),i};c.exports=v},52172:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),v=t(39757),s=function(i,n){var e=v(i);return o(i,e.x,e.y,n)};c.exports=s},49907:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),v=function(s,i,n){return o(s,i.x,i.y,n)};c.exports=v},99614:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=Math.cos(s),n=Math.sin(s),e=t.x1-o,r=t.y1-v;return t.x1=e*i-r*n+o,t.y1=e*n+r*i+v,e=t.x2-o,r=t.y2-v,t.x2=e*i-r*n+o,t.y2=e*n+r*i+v,e=t.x3-o,r=t.y3-v,t.x3=e*i-r*n+o,t.y3=e*n+r*i+v,t};c.exports=y},16483:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(10690),s=t(20437),i=t(80672),n=t(23777),e=t(23031),r=t(90260),l=new o({initialize:function(h,f,u,d,m,x){h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=n.TRIANGLE,this.x1=h,this.y1=f,this.x2=u,this.y2=d,this.x3=m,this.y3=x},contains:function(a,h){return v(this,a,h)},getPoint:function(a,h){return s(this,a,h)},getPoints:function(a,h,f){return i(this,a,h,f)},getRandomPoint:function(a){return r(this,a)},setTo:function(a,h,f,u,d,m){return a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),m===void 0&&(m=0),this.x1=a,this.y1=h,this.x2=f,this.y2=u,this.x3=d,this.y3=m,this},getLineA:function(a){return a===void 0&&(a=new e),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return a===void 0&&(a=new e),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return a===void 0&&(a=new e),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-a:h=this.x3-a,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-a:h=this.x3-a,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-a:h=this.y3-a,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-a:h=this.y3-a,this.y1-=h,this.y2-=h,this.y3-=h}}});c.exports=l},84435:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483);o.Area=t(41658),o.BuildEquilateral=t(39208),o.BuildFromPolygon=t(39545),o.BuildRight=t(90301),o.CenterOn=t(23707),o.Centroid=t(97523),o.CircumCenter=t(24951),o.CircumCircle=t(85614),o.Clone=t(74422),o.Contains=t(10690),o.ContainsArray=t(48653),o.ContainsPoint=t(96006),o.CopyFrom=t(71326),o.Decompose=t(71694),o.Equals=t(33522),o.GetPoint=t(20437),o.GetPoints=t(80672),o.InCenter=t(39757),o.Perimeter=t(1376),o.Offset=t(13584),o.Random=t(90260),o.Rotate=t(52172),o.RotateAroundPoint=t(49907),o.RotateAroundXY=t(99614),c.exports=o},74457:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};c.exports=y},84409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return function(v,s,i,n){var e=t.getPixelAlpha(s,i,n.texture.key,n.frame.name);return e&&e>=o}};c.exports=y},7003:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(93301),s=t(50792),i=t(8214),n=t(8443),e=t(78970),r=t(85098),l=t(42515),a=t(36210),h=t(61340),f=t(85955),u=new o({initialize:function(m,x){this.game=m,this.scaleManager,this.canvas,this.config=x,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=x.inputKeyboard?new e(this):null,this.mouse=x.inputMouse?new r(this):null,this.touch=x.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=x.inputActivePointers,x.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var S=0;S<=this.pointersTotal;S++){var T=new l(this,S);T.smoothFactor=x.inputSmoothFactor,this.pointers.push(T)}this.mousePointer=x.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(n.BOOT,this.boot,this)},boot:function(){var d=this.game,m=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(i.MANAGER_BOOT),m.on(n.PRE_RENDER,this.preRender,this),m.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(i.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(i.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,m=this.game.loop.delta,x=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(i.MANAGER_UPDATE);for(var S=0;S<x.length;S++){var T=x[S];if(T.sys.input&&T.sys.input.updatePoll(d,m)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var m=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var x=0;x<d;x++){var S=this.pointers.length,T=new l(this,S);T.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(T),this.pointersTotal++,m.push(T)}return m},updateInputPlugins:function(d,m){var x=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var S=0;S<x.length;S++){var T=x[S];if(T.sys.input){var C=T.sys.input.update(d,m);if(C&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var m=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var A=m[C];if(!A.active){A.touchstart(T,d),this.activePointer=A,x.push(A);break}}this.updateInputPlugins(v.TOUCH_START,x)},onTouchMove:function(d){for(var m=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===T.identifier){var w=document.elementFromPoint(T.clientX,T.clientY),P=w===this.canvas;!this.isOver&&P?this.setCanvasOver(d):this.isOver&&!P&&this.setCanvasOut(d),this.isOver&&(A.touchmove(T,d),this.activePointer=A,x.push(A));break}}this.updateInputPlugins(v.TOUCH_MOVE,x)},onTouchEnd:function(d){for(var m=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===T.identifier){A.touchend(T,d),x.push(A);break}}this.updateInputPlugins(v.TOUCH_END,x)},onTouchCancel:function(d){for(var m=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===T.identifier){A.touchcancel(T,d),x.push(A);break}}this.updateInputPlugins(v.TOUCH_CANCEL,x)},onMouseDown:function(d){var m=this.mousePointer;m.down(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var m=this.mousePointer;m.move(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var m=this.mousePointer;m.up(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var m=this.mousePointer;m.wheel(d),this.activePointer=m,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(i.POINTERLOCK_CHANGE,d,m)},inputCandidate:function(d,m){var x=d.input;if(!x||!x.enabled||!d.willRender(m))return!1;var S=!0,T=d.parentContainer;if(T)do{if(!T.willRender(m)){S=!1;break}T=T.parentContainer}while(T);return S},hitTest:function(d,m,x,S){S===void 0&&(S=this._tempHitTest);var T=this._tempPoint,C=x.scrollX,A=x.scrollY;S.length=0;var w=d.x,P=d.y;x.getWorldPoint(w,P,T),d.worldX=T.x,d.worldY=T.y;for(var F={x:0,y:0},L=this._tempMatrix,O=this._tempMatrix2,I=0;I<m.length;I++){var B=m[I];if(this.inputCandidate(B,x)){var U=T.x+C*B.scrollFactorX-C,H=T.y+A*B.scrollFactorY-A;B.parentContainer?(B.getWorldTransformMatrix(L,O),L.applyInverse(U,H,F)):f(U,H,B.x,B.y,B.rotation,B.scaleX,B.scaleY,F),this.pointWithinHitArea(B,F.x,F.y)&&S.push(B)}}return S},pointWithinHitArea:function(d,m,x){m+=d.displayOriginX,x+=d.displayOriginY;var S=d.input;return S&&S.hitAreaCallback(S.hitArea,m,x,d)?(S.localX=m,S.localY=x,!0):!1},pointWithinInteractiveObject:function(d,m,x){return d.hitArea?(m+=d.gameObject.displayOriginX,x+=d.gameObject.displayOriginY,d.localX=m,d.localY=x,d.hitAreaCallback(d.hitArea,m,x,d)):!1},transformPointer:function(d,m,x,S){var T=d.position,C=d.prevPosition;C.x=T.x,C.y=T.y;var A=this.scaleManager.transformX(m),w=this.scaleManager.transformY(x),P=d.smoothFactor;!S||P===0?(T.x=A,T.y=w):(T.x=A*P+C.x*(1-P),T.y=w*P+C.y*(1-P))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=u},48205:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),v=t(87902),s=t(83419),i=t(93301),n=t(74457),e=t(84409),r=t(20339),l=t(8497),a=t(81154),h=t(8214),f=t(50792),u=t(95540),d=t(23777),m=t(89639),x=t(41212),S=t(37277),T=t(87841),C=t(37303),A=t(44594),w=t(16483),P=t(10690),F=new s({Extends:f,initialize:function(O){f.call(this),this.scene=O,this.systems=O.sys,this.settings=O.sys.settings,this.manager=O.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var I={cancelled:!1};this._eventContainer={stopPropagation:function(){I.cancelled=!0}},this._eventData=I,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,O.sys.events.once(A.BOOT,this.boot,this),O.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var L=this.systems.events;L.on(A.TRANSITION_START,this.transitionIn,this),L.on(A.TRANSITION_OUT,this.transitionOut,this),L.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(A.PRE_UPDATE,this.preUpdate,this),L.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(L){this.isActive()&&this.emit(h.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(h.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var L=this._pendingRemoval,O=this._pendingInsertion,I=L.length,B=O.length;if(!(I===0&&B===0)){for(var U=this._list,H=0;H<I;H++){var Z=L[H],tt=U.indexOf(Z);tt>-1&&(U.splice(tt,1),this.clear(Z,!0))}this._pendingRemoval.length=0,this._list=U.concat(O.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(L,O){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,L,O),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var I,B=this.manager,U=B.pointers,H=B.pointersTotal;for(I=0;I<H;I++)U[I].updateMotion();if(this._list.length===0)return!1;var Z=this.pollRate;if(Z===-1)return!1;if(Z>0)if(this._pollTimer-=O,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var tt=!1;for(I=0;I<H;I++){var X=0,k=U[I];this._tempZones=[],this._temp=this.hitTestPointer(k),this.sortGameObjects(this._temp,k),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(k),this.getDragState(k)===2&&this.processDragThresholdEvent(k,L),X>0&&(tt=!0)}return tt},update:function(L,O){if(!this.isActive())return!1;for(var I=O.length,B=!1,U=0;U<I;U++){var H=0,Z=O[U];switch(this._tempZones=[],this._temp=this.hitTestPointer(Z),this.sortGameObjects(this._temp,Z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case i.MOUSE_DOWN:H+=this.processDragDownEvent(Z),H+=this.processDownEvents(Z),H+=this.processOverOutEvents(Z);break;case i.MOUSE_UP:H+=this.processDragUpEvent(Z),H+=this.processUpEvents(Z),H+=this.processOverOutEvents(Z);break;case i.TOUCH_START:H+=this.processDragDownEvent(Z),H+=this.processDownEvents(Z),H+=this.processOverEvents(Z);break;case i.TOUCH_END:case i.TOUCH_CANCEL:H+=this.processDragUpEvent(Z),H+=this.processUpEvents(Z),H+=this.processOutEvents(Z);break;case i.MOUSE_MOVE:case i.TOUCH_MOVE:H+=this.processDragMoveEvent(Z),H+=this.processMoveEvents(Z),H+=this.processOverOutEvents(Z);break;case i.MOUSE_WHEEL:H+=this.processWheelEvent(Z);break}H>0&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(L,O){O===void 0&&(O=!1),this.disable(L);var I=L.input;I&&(this.removeDebug(L),this.manager.resetCursor(I),I.gameObject=void 0,I.target=void 0,I.hitArea=void 0,I.hitAreaCallback=void 0,I.callbackContext=void 0,L.input=null),O||this.queueForRemoval(L);var B=this._draggable.indexOf(L);return B>-1&&this._draggable.splice(B,1),L},disable:function(L){var O=L.input;O&&(O.enabled=!1,O.dragState=0);for(var I=this._drag,B=this._over,U=this.manager,H=0,Z;H<U.pointersTotal;H++)Z=I[H].indexOf(L),Z>-1&&I[H].splice(Z,1),Z=B[H].indexOf(L),Z>-1&&B[H].splice(Z,1);return this},enable:function(L,O,I,B){return B===void 0&&(B=!1),L.input?L.input.enabled=!0:this.setHitArea(L,O,I),L.input&&B&&!L.input.dropZone&&(L.input.dropZone=B),this},hitTestPointer:function(L){for(var O=this.cameras.getCamerasBelowPointer(L),I=0;I<O.length;I++){for(var B=O[I],U=this.manager.hitTest(L,this._list,B),H=0;H<U.length;H++){var Z=U[H];Z.input.dropZone&&this._tempZones.push(Z)}if(U.length>0)return L.camera=B,U}return L.camera=O[0],[]},processDownEvents:function(L){var O=0,I=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var H=!1,Z=0;Z<I.length;Z++){var tt=I[Z];if(!(!tt.input||!tt.input.enabled)){if(O++,tt.emit(h.GAMEOBJECT_POINTER_DOWN,L,tt.input.localX,tt.input.localY,U),B.cancelled||!tt.input||!tt.input.enabled){H=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,L,tt,U),B.cancelled||!tt.input){H=!0;break}}}return!H&&this.manager&&(L.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,L,I):this.emit(h.POINTER_DOWN_OUTSIDE,L)),O},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,O){this._dragState[L.id]=O},processDragThresholdEvent:function(L,O){var I=!1,B=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&r(L.x,L.y,L.downX,L.downY)>=U||B>0&&O>=L.downTime+B)&&(I=!0),I)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;for(var O=this._drag[L.id],I=0;I<O.length;I++){var B=O[I],U=B.input;U.dragState=2,U.dragStartX=B.x,U.dragStartY=B.y,U.dragStartXGlobal=L.worldX,U.dragStartYGlobal=L.worldY,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,B.emit(h.GAMEOBJECT_DRAG_START,L,U.dragX,U.dragY),this.emit(h.DRAG_START,L,B)}return this.setDragState(L,4),O.length},processDragDownEvent:function(L){var O=this._temp;if(this._draggable.length===0||O.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var I=[],B=0;B<O.length;B++){var U=O[B];U.input.draggable&&U.input.dragState===0&&I.push(U)}return I.length===0?(this.setDragState(L,0),0):(I.length>1&&(this.sortGameObjects(I,L),this.topOnly&&I.splice(1)),this._drag[L.id]=I,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;for(var O=this._tempZones,I=this._drag[L.id],B=0;B<I.length;B++){var U=I[B],H=U.input,Z=H.target;if(Z){var tt=O.indexOf(Z);tt===0?(U.emit(h.GAMEOBJECT_DRAG_OVER,L,Z),this.emit(h.DRAG_OVER,L,U,Z)):tt>0?(U.emit(h.GAMEOBJECT_DRAG_LEAVE,L,Z),this.emit(h.DRAG_LEAVE,L,U,Z),H.target=O[0],Z=H.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,L,Z),this.emit(h.DRAG_ENTER,L,U,Z)):(U.emit(h.GAMEOBJECT_DRAG_LEAVE,L,Z),this.emit(h.DRAG_LEAVE,L,U,Z),O[0]?(H.target=O[0],Z=H.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,L,Z),this.emit(h.DRAG_ENTER,L,U,Z)):H.target=null)}else!Z&&O[0]&&(H.target=O[0],Z=H.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,L,Z),this.emit(h.DRAG_ENTER,L,U,Z));var X,k;if(!U.parentContainer)X=L.worldX-H.dragX,k=L.worldY-H.dragY;else{var D=L.worldX-H.dragStartXGlobal,z=L.worldY-H.dragStartYGlobal,Y=U.getParentRotation(),j=D*Math.cos(Y)+z*Math.sin(Y),J=z*Math.cos(Y)-D*Math.sin(Y);j*=1/U.parentContainer.scaleX,J*=1/U.parentContainer.scaleY,X=j+H.dragStartX,k=J+H.dragStartY}U.emit(h.GAMEOBJECT_DRAG,L,X,k),this.emit(h.DRAG,L,U,X,k)}return I.length},processDragUpEvent:function(L){for(var O=this._drag[L.id],I=0;I<O.length;I++){var B=O[I],U=B.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-B.displayOriginX,U.dragY=U.localY-B.displayOriginY;var H=!1,Z=U.target;Z&&(B.emit(h.GAMEOBJECT_DROP,L,Z),this.emit(h.DROP,L,B,Z),U.target=null,H=!0),B.input&&B.input.enabled&&(B.emit(h.GAMEOBJECT_DRAG_END,L,U.dragX,U.dragY,H),this.emit(h.DRAG_END,L,B,H))}}return this.setDragState(L,0),O.splice(0),0},processMoveEvents:function(L){var O=0,I=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var H=!1,Z=0;Z<I.length;Z++){var tt=I[Z];if(!(!tt.input||!tt.input.enabled)){if(O++,tt.emit(h.GAMEOBJECT_POINTER_MOVE,L,tt.input.localX,tt.input.localY,U),B.cancelled||!tt.input||!tt.input.enabled){H=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,L,tt,U),B.cancelled||!tt.input||!tt.input.enabled){H=!0;break}if(this.topOnly)break}}return H||this.emit(h.POINTER_MOVE,L,I),O},processWheelEvent:function(L){var O=0,I=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var H=!1,Z=L.deltaX,tt=L.deltaY,X=L.deltaZ,k=0;k<I.length;k++){var D=I[k];if(!(!D.input||!D.input.enabled)){if(O++,D.emit(h.GAMEOBJECT_POINTER_WHEEL,L,Z,tt,X,U),B.cancelled||!D.input||!D.input.enabled){H=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,L,D,Z,tt,X,U),B.cancelled||!D.input||!D.input.enabled){H=!0;break}}}return H||this.emit(h.POINTER_WHEEL,L,I,Z,tt,X),O},processOverEvents:function(L){var O=this._temp,I=0,B=O.length,U=[];if(B>0){var H=this.manager,Z=this._eventData,tt=this._eventContainer;Z.cancelled=!1;for(var X=!1,k=0;k<B;k++){var D=O[k];if(!(!D.input||!D.input.enabled)){if(U.push(D),H.setCursor(D.input),D.emit(h.GAMEOBJECT_POINTER_OVER,L,D.input.localX,D.input.localY,tt),I++,Z.cancelled||!D.input||!D.input.enabled){X=!0;break}if(this.emit(h.GAMEOBJECT_OVER,L,D,tt),Z.cancelled||!D.input||!D.input.enabled){X=!0;break}}}X||this.emit(h.POINTER_OVER,L,U)}return this._over[L.id]=U,I},processOutEvents:function(L){var O=this._over[L.id],I=0,B=O.length;if(B>0){var U=this.manager,H=this._eventData,Z=this._eventContainer;H.cancelled=!1;var tt=!1;this.sortGameObjects(O,L);for(var X=0;X<B;X++){var k=O[X];if(k=O[X],!(!k.input||!k.input.enabled)){if(U.resetCursor(k.input),k.emit(h.GAMEOBJECT_POINTER_OUT,L,Z),I++,H.cancelled||!k.input||!k.input.enabled){tt=!0;break}if(this.emit(h.GAMEOBJECT_OUT,L,k,Z),H.cancelled||!k.input||!k.input.enabled){tt=!0;break}tt||this.emit(h.POINTER_OUT,L,O)}}this._over[L.id]=[]}return I},processOverOutEvents:function(L){var O=this._temp,I,B,U=[],H=[],Z=[],tt=this._over[L.id],X=this._drag[L.id],k=this.manager;for(I=0;I<tt.length;I++)B=tt[I],O.indexOf(B)===-1&&X.indexOf(B)===-1?U.push(B):Z.push(B);for(I=0;I<O.length;I++)B=O[I],tt.indexOf(B)===-1&&H.push(B);var D=U.length,z=0,Y=this._eventData,j=this._eventContainer;Y.cancelled=!1;var J=!1;if(D>0){for(this.sortGameObjects(U,L),I=0;I<D;I++)if(B=U[I],!(!B.input||!B.input.enabled)){if(k.resetCursor(B.input),B.emit(h.GAMEOBJECT_POINTER_OUT,L,j),z++,Y.cancelled||!B.input||!B.input.enabled){J=!0;break}if(this.emit(h.GAMEOBJECT_OUT,L,B,j),Y.cancelled||!B.input||!B.input.enabled){J=!0;break}}J||this.emit(h.POINTER_OUT,L,U)}if(D=H.length,Y.cancelled=!1,J=!1,D>0){for(this.sortGameObjects(H,L),I=0;I<D;I++)if(B=H[I],!(!B.input||!B.input.enabled)){if(k.setCursor(B.input),B.emit(h.GAMEOBJECT_POINTER_OVER,L,B.input.localX,B.input.localY,j),z++,Y.cancelled||!B.input||!B.input.enabled){J=!0;break}if(this.emit(h.GAMEOBJECT_OVER,L,B,j),Y.cancelled||!B.input||!B.input.enabled){J=!0;break}}J||this.emit(h.POINTER_OVER,L,H)}return tt=Z.concat(H),this._over[L.id]=this.sortGameObjects(tt,L),z},processUpEvents:function(L){var O=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var U=!1,H=0;H<O.length;H++){var Z=O[H];if(!(!Z.input||!Z.input.enabled)){if(Z.emit(h.GAMEOBJECT_POINTER_UP,L,Z.input.localX,Z.input.localY,B),I.cancelled||!Z.input||!Z.input.enabled){U=!0;break}if(this.emit(h.GAMEOBJECT_UP,L,Z,B),I.cancelled||!Z.input||!Z.input.enabled){U=!0;break}}}return!U&&this.manager&&(L.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,L,O):this.emit(h.POINTER_UP_OUTSIDE,L)),O.length},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,O){O===void 0&&(O=!0),Array.isArray(L)||(L=[L]);for(var I=0;I<L.length;I++){var B=L[I];B.input.draggable=O;var U=this._draggable.indexOf(B);O&&U===-1?this._draggable.push(B):!O&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var O=this.systems.textures;return e(O,L)},setHitArea:function(L,O,I){if(O===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var B=!1,U=!1,H=!1,Z=!1,tt=!1,X=!0;if(x(O)&&Object.keys(O).length){var k=O,D=L.some(function(it){return it.hasOwnProperty("faces")});if(!D){O=u(k,"hitArea",null),I=u(k,"hitAreaCallback",null),tt=u(k,"pixelPerfect",!1);var z=u(k,"alphaTolerance",1);tt&&(O={},I=this.makePixelPerfect(z))}B=u(k,"draggable",!1),U=u(k,"dropZone",!1),H=u(k,"cursor",!1),Z=u(k,"useHandCursor",!1),(!O||!I)&&(this.setHitAreaFromTexture(L),X=!1)}else typeof O=="function"&&!I&&(I=O,O={});for(var Y=0;Y<L.length;Y++){var j=L[Y];if(tt&&j.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var J=j.input?j.input:n(j,O,I);J.customHitArea=X,J.dropZone=U,J.cursor=Z?"pointer":H,j.input=J,B&&this.setDraggable(j),this.queueForInsertion(j)}return this},setHitAreaCircle:function(L,O,I,B,U){U===void 0&&(U=v);var H=new o(O,I,B);return this.setHitArea(L,H,U)},setHitAreaEllipse:function(L,O,I,B,U,H){H===void 0&&(H=a);var Z=new l(O,I,B,U);return this.setHitArea(L,Z,H)},setHitAreaFromTexture:function(L,O){O===void 0&&(O=C),Array.isArray(L)||(L=[L]);for(var I=0;I<L.length;I++){var B=L[I],U=B.frame,H=0,Z=0;if(B.width?(H=B.width,Z=B.height):U&&(H=U.realWidth,Z=U.realHeight),B.type==="Container"&&(H===0||Z===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}H!==0&&Z!==0&&(B.input=n(B,new T(0,0,H,Z),O),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(L,O,I,B,U,H){H===void 0&&(H=C);var Z=new T(O,I,B,U);return this.setHitArea(L,Z,H)},setHitAreaTriangle:function(L,O,I,B,U,H,Z,tt){tt===void 0&&(tt=P);var X=new w(O,I,B,U,H,Z);return this.setHitArea(L,X,tt)},enableDebug:function(L,O){O===void 0&&(O=65280);var I=L.input;if(!I||!I.hitArea)return this;var B=I.hitArea,U=B.type,H=I.hitAreaDebug,Z=this.systems.add,tt=this.systems.updateList;H&&(tt.remove(H),H.destroy(),H=null);var X=0,k=0;switch(U){case d.CIRCLE:H=Z.arc(0,0,B.radius),X=B.x-B.radius,k=B.y-B.radius;break;case d.ELLIPSE:H=Z.ellipse(0,0,B.width,B.height),X=B.x-B.width/2,k=B.y-B.height/2;break;case d.LINE:H=Z.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case d.POLYGON:H=Z.polygon(0,0,B.points);break;case d.RECTANGLE:H=Z.rectangle(0,0,B.width,B.height),X=B.x,k=B.y;break;case d.TRIANGLE:H=Z.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return H&&(H.isFilled=!1,H.strokeColor=O,H.preUpdate=function(){H.setVisible(L.visible),H.setStrokeStyle(1/L.scale,H.strokeColor),H.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var D=L.x,z=L.y,Y=L.rotation,j=L.scaleX,J=L.scaleY;if(L.parentContainer){var it=L.getWorldTransformMatrix();D=it.tx,z=it.ty,Y=it.rotation,j=it.scaleX,J=it.scaleY}H.setRotation(Y),H.setScale(j,J),H.setPosition(D+X*j,z+k*J),H.setScrollFactor(L.scrollFactorX,L.scrollFactorY),H.setDepth(L.depth)},tt.add(H),I.hitAreaDebug=H),this},removeDebug:function(L){var O=L.input;if(O&&O.hitAreaDebug){var I=O.hitAreaDebug;I.destroy(),O.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,O){if(L.length<2||!O.camera)return L;var I=O.camera.renderList;return L.sort(function(B,U){var H=Math.max(I.indexOf(B),0),Z=Math.max(I.indexOf(U),0);return Z-H})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,O){if(!L.parentContainer&&!O.parentContainer)return this.displayList.getIndex(O)-this.displayList.getIndex(L);if(L.parentContainer===O.parentContainer)return O.parentContainer.getIndex(O)-L.parentContainer.getIndex(L);if(L.parentContainer===O)return-1;if(O.parentContainer===L)return 1;for(var I=L.getIndexList(),B=O.getIndexList(),U=Math.min(I.length,B.length),H=0;H<U;H++){var Z=I[H],tt=B[H];if(Z!==tt)return tt-Z}return B.length-I.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var O=this.manager;O.canvas.style.cursor=O.defaultCursor;var I=this.systems.events;I.off(A.TRANSITION_START,this.transitionIn,this),I.off(A.TRANSITION_OUT,this.transitionOut,this),I.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),I.off(A.PRE_UPDATE,this.preUpdate,this),O.events.off(h.GAME_OUT,this.onGameOut,this),O.events.off(h.GAME_OVER,this.onGameOver,this),I.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,O=0;O<L.length;O++)L[O].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});S.register("InputPlugin",F,"input"),c.exports=F},89639:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v={},s={};s.register=function(i,n,e,r,l){v[i]={plugin:n,mapping:e,settingsKey:r,configKey:l}},s.getPlugin=function(i){return v[i]},s.install=function(i){var n=i.scene.sys,e=n.settings.input,r=n.game.config;for(var l in v){var a=v[l].plugin,h=v[l].mapping,f=v[l].settingsKey,u=v[l].configKey;o(e,f,r[u])&&(i[h]=new a(i))}},s.remove=function(i){v.hasOwnProperty(i)&&delete v[i]},c.exports=s},42515:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31040),v=t(83419),s=t(20339),i=t(43855),n=t(47235),e=t(26099),r=t(25892),l=new v({initialize:function(h,f){this.manager=h,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var h=a.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(a,h){return a.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var a=this.position.x,h=this.position.y,f=this.midPoint.x,u=this.midPoint.y;if(!(a===f&&h===u)){var d=n(this.motionFactor,f,a),m=n(this.motionFactor,u,h);i(d,a,.1)&&(d=a),i(m,h,.1)&&(m=h),this.midPoint.set(d,m);var x=a-d,S=h-m;this.velocity.set(x,S),this.angle=o(d,m,a,h),this.distance=Math.sqrt(x*x+S*S)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,h){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,h){this.event=h,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,h){this.buttons=0,this.event=h,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,h){this.buttons=0,this.event=h,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,h){a===void 0&&(a=10),h===void 0&&(h=[]);for(var f=this.prevPosition.x,u=this.prevPosition.y,d=this.position.x,m=this.position.y,x=0;x<a;x++){var S=1/a*x;h[x]={x:n(S,f,d),y:n(S,u,m)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=l},93301:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=y},7179:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},85375:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},39843:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},23388:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},16133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},27829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},53904:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},56058:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},2642:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},88171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},36147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},71692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},96149:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},81285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},74048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},21322:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},49378:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},86754:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},86433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},60709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},24081:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},11172:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},18907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},95579:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},35368:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},26972:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},47078:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},73802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},56718:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},25936:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},27503:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},50852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},96438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},59152:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},47777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},27957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},19444:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},54251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},18667:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},27192:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},24652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},45132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},44512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},15757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},41637:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},93802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},8214:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n){this.pad=i,this.events=i.events,this.index=n,this.value=0,this.threshold=.1},update:function(s){this.value=s},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=v},28884:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92734),s=new o({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(i){this.value=i;var n=this.pad,e=this.index;i>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,n,this,i),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,i,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,n,this,i),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,i,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=s},99125:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97421),v=t(28884),s=t(83419),i=t(50792),n=t(26099),e=new s({Extends:i,initialize:function(l,a){i.call(this),this.manager=l,this.pad=a,this.id=a.id,this.index=a.index;for(var h=[],f=0;f<a.buttons.length;f++)h.push(new v(this,f));this.buttons=h;var u=[];for(f=0;f<a.axes.length;f++)u.push(new o(this,f));this.axes=u,this.vibration=a.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:d,this._LCRight=h[15]?h[15]:d,this._LCTop=h[12]?h[12]:d,this._LCBottom=h[13]?h[13]:d,this._RCLeft=h[2]?h[2]:d,this._RCRight=h[1]?h[1]:d,this._RCTop=h[3]?h[3]:d,this._RCBottom=h[0]?h[0]:d,this._FBLeftTop=h[4]?h[4]:d,this._FBLeftBottom=h[6]?h[6]:d,this._FBRightTop=h[5]?h[5]:d,this._FBRightBottom=h[7]?h[7]:d;var m={value:0};this._HAxisLeft=u[0]?u[0]:m,this._VAxisLeft=u[1]?u[1]:m,this._HAxisRight=u[2]?u[2]:m,this._VAxisRight=u[3]?u[3]:m,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var l,a=this.buttons,h=r.buttons,f=a.length;for(l=0;l<f;l++)a[l].update(h[l].value);var u=this.axes,d=r.axes;for(f=u.length,l=0;l<f;l++)u[l].update(d[l]);f>=2&&(this.leftStick.set(u[0].getValue(),u[1].getValue()),f>=4&&this.rightStick.set(u[2].getValue(),u[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=e},56654:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),s=t(92734),i=t(99125),n=t(35154),e=t(89639),r=t(8214),l=new o({Extends:v,initialize:function(h){v.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(r.BOOT,this.boot,this),h.pluginEvents.on(r.START,this.start,this)},boot:function(){var a=this.scene.sys.game,h=this.settings.input,f=a.config;this.enabled=n(h,"gamepad",f.inputGamepad)&&a.device.input.gamepads,this.target=n(h,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,h=this.target,f=function(u){u.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(u))};this.onGamepadHandler=f,h.addEventListener("gamepadconnected",f,!1),h.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(!a)this.disconnectAll();else for(var h=this.gamepads,f=0;f<a.length;f++){var u=a[f];if(u){var d=u.id,m=u.index,x=h[m];if(x)x.id!==d?(x.destroy(),h[m]=new i(this,u)):x.update(u);else{var S=new i(this,u);h[m]=S,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=S):this._pad3=S:this._pad2=S:this._pad1=S}}}},getAll:function(){for(var a=[],h=this.gamepads,f=0;f<h.length;f++)h[f]&&a.push(h[f]);return a},getPad:function(a){for(var h=this.gamepads,f=0;f<h.length;f++)if(h[f]&&h[f].index===a)return h[f]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(a!==0)for(var h=this.queue.splice(0,a),f=0;f<a;f++){var u=h[f],d=this.getPad(u.gamepad.index);u.type==="gamepadconnected"?this.emit(s.CONNECTED,d,u):u.type==="gamepaddisconnected"&&this.emit(s.DISCONNECTED,d,u)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),c.exports=l},89651:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},7629:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},42206:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},86544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},94784:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},14325:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},92734:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93301),v=t(79291),s={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};s=v(!1,s,o),c.exports=s},78970:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),v=t(83419),s=t(8443),i=t(8214),n=t(46032),e=t(29747),r=new v({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,a.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(i.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!f&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(i.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!f&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var a=this.captures,h=0;h<l.length;h++){var f=l[h];typeof f=="string"&&(f=n[f.trim().toUpperCase()]),a.indexOf(f)===-1&&a.push(f)}this.preventDefault=a.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var a=this.captures,h=0;h<l.length;h++){var f=l[h];typeof f=="string"&&(f=n[f.toUpperCase()]),o(a,f)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},28846:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),s=t(95922),i=t(8443),n=t(35154),e=t(8214),r=t(89639),l=t(30472),a=t(46032),h=t(87960),f=t(74600),u=t(44594),d=t(56583),m=new o({Extends:v,initialize:function(S){v.call(this),this.game=S.systems.game,this.scene=S.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=S,this.manager=S.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,S.pluginEvents.once(e.BOOT,this.boot,this),S.pluginEvents.on(e.START,this.start,this)},boot:function(){var x=this.settings.input;this.enabled=n(x,"keyboard",!0);var S=n(x,"keyboard.capture",null);S&&this.addCaptures(S),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(i.BLUR,this.resetKeys,this),this.scene.sys.events.on(u.PAUSE,this.resetKeys,this),this.scene.sys.events.on(u.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(x){return this.manager.addCapture(x),this},removeCapture:function(x){return this.manager.removeCapture(x),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(x,S,T){S===void 0&&(S=!0),T===void 0&&(T=!1);var C={};if(typeof x=="string"){x=x.split(",");for(var A=0;A<x.length;A++){var w=x[A].trim();w&&(C[w]=this.addKey(w,S,T))}}else for(var P in x)C[P]=this.addKey(x[P],S,T);return C},addKey:function(x,S,T){S===void 0&&(S=!0),T===void 0&&(T=!1);var C=this.keys;if(x instanceof l){var A=C.indexOf(x);return A>-1?C[A]=x:C[x.keyCode]=x,S&&this.addCapture(x.keyCode),x.setEmitOnRepeat(T),x}return typeof x=="string"&&(x=a[x.toUpperCase()]),C[x]||(C[x]=new l(this,x),S&&this.addCapture(x),C[x].setEmitOnRepeat(T)),C[x]},removeKey:function(x,S,T){S===void 0&&(S=!1),T===void 0&&(T=!1);var C=this.keys,A;if(x instanceof l){var w=C.indexOf(x);w>-1&&(A=this.keys[w],this.keys[w]=void 0)}else typeof x=="string"&&(x=a[x.toUpperCase()]);return C[x]&&(A=C[x],C[x]=void 0),A&&(A.plugin=null,T&&this.removeCapture(A.keyCode),S&&A.destroy()),this},removeAllKeys:function(x,S){x===void 0&&(x=!1),S===void 0&&(S=!1);for(var T=this.keys,C=0;C<T.length;C++){var A=T[C];A&&(T[C]=void 0,S&&this.removeCapture(A.keyCode),x&&A.destroy())}return this},createCombo:function(x,S){return new h(this,x,S)},checkDown:function(x,S){if(S===void 0&&(S=0),this.enabled&&x.isDown){var T=d(this.time-x.timeDown,S);if(T>x._tick)return x._tick=T,!0}return!1},update:function(){var x=this.manager.queue,S=x.length;if(!(!this.isActive()||S===0))for(var T=this.keys,C=0;C<S;C++){var A=x[C],w=A.keyCode,P=T[w],F=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(w===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=w,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(P&&(F=P.isDown,P.onDown(A)),!A.cancelled&&(!P||!F)&&(f[w]&&this.emit(s.KEY_DOWN+f[w],A),A.cancelled||this.emit(s.ANY_KEY_DOWN,A))):(P&&P.onUp(A),A.cancelled||(f[w]&&this.emit(s.KEY_UP+f[w],A),A.cancelled||this.emit(s.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var x=this.keys,S=0;S<x.length;S++)x[S]&&x[S].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(i.BLUR,this.resetKeys),this.scene.sys.events.off(u.PAUSE,this.resetKeys,this),this.scene.sys.events.off(u.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var x=this.keys,S=0;S<x.length;S++)x[S]&&x[S].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),c.exports=m},66970:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.timeLastMatched=t.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};c.exports=y},87960:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95922),s=t(95540),i=t(68769),n=t(92803),e=new o({initialize:function(l,a,h){if(h===void 0&&(h={}),a.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<a.length;f++){var u=a[f];typeof u=="string"?this.keyCodes.push(u.toUpperCase().charCodeAt(0)):typeof u=="number"?this.keyCodes.push(u):u.hasOwnProperty("keyCode")&&this.keyCodes.push(u.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(h,"resetOnWrongKey",!0),this.maxKeyDelay=s(h,"maxKeyDelay",0),this.resetOnMatch=s(h,"resetOnMatch",!1),this.deleteOnMatch=s(h,"deleteOnMatch",!1);var d=this,m=function(x){if(!(d.matched||!d.enabled)){var S=i(x,d);S&&(d.manager.emit(v.COMBO_MATCH,d,x),d.resetOnMatch?n(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=m,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=e},68769:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66970),v=function(s,i){if(i.matched)return!0;var n=!1,e=!1;if(s.keyCode===i.current)if(i.index>0&&i.maxKeyDelay>0){var r=i.timeLastMatched+i.maxKeyDelay;s.timeStamp<=r&&(e=!0,n=o(s,i))}else e=!0,n=o(s,i);return!e&&i.resetOnWrongKey&&(i.index=0,i.current=i.keyCodes[0]),n&&(i.timeLastMatched=s.timeStamp,i.matched=!0,i.timeMatched=s.timeStamp),n};c.exports=v},92803:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};c.exports=y},92612:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},23345:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},21957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},44743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},3771:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},46358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},75674:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},95922:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<o};c.exports=y},90229:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justDown?(t._justDown=!1,!0):!1};c.exports=y},38796:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justUp?(t._justUp=!1,!0):!1};c.exports=y},30472:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),s=t(95922),i=new o({Extends:v,initialize:function(e,r){v.call(this),this.plugin=e,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=i},46032:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=y},74600:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(46032),v={};for(var s in o)v[o[s]]=s;c.exports=v},41170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<o};c.exports=y},85098:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89357),s=t(8214),i=t(29747),n=new o({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=i,this.onMouseDown=i,this.onMouseUp=i,this.onMouseDownWindow=i,this.onMouseUpWindow=i,this.onMouseOver=i,this.onMouseOut=i,this.onMouseWheel=i,this.pointerLockChange=i,this.isTop=!0,r.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var r=this,l=this.manager,a=l.canvas,h=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseMove(u),r.preventDefaultMove&&u.preventDefault())},this.onMouseDown=function(u){h&&window.focus(),!u.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseDown(u),r.preventDefaultDown&&u.target===a&&u.preventDefault())},this.onMouseDownWindow=function(u){u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents||!u.defaultPrevented&&r.enabled&&l&&l.enabled&&u.target!==a&&l.onMouseDown(u)},this.onMouseUp=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseUp(u),r.preventDefaultUp&&u.target===a&&u.preventDefault())},this.onMouseUpWindow=function(u){u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents||!u.defaultPrevented&&r.enabled&&l&&l.enabled&&u.target!==a&&l.onMouseUp(u)},this.onMouseOver=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&l.setCanvasOver(u)},this.onMouseOut=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&l.setCanvasOut(u)},this.onMouseWheel=function(u){!u.defaultPrevented&&r.enabled&&l&&l.enabled&&l.onMouseWheel(u),r.preventDefaultWheel&&u.target===a&&u.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(u){var d=r.target;r.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,l.onPointerLockChange(u)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=n},87078:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(85098)}},36210:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(8214),s=t(29747),i=new o({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(n){var e=this,r=this.manager,l=r.canvas,a=window&&window.focus&&r.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){a&&window.focus(),!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchStart(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&d.target!==l&&r.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchEnd(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&d.target!==l&&r.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&r.onTouchCancel(d)};var h=this.capture,f={passive:!0},u={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,h?u:f),n.addEventListener("touchmove",this.onTouchMove,h?u:f),n.addEventListener("touchend",this.onTouchEnd,h?u:f),n.addEventListener("touchcancel",this.onTouchCancel,h?u:f),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,u),window.top.addEventListener("touchend",this.onTouchEndWindow,u),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,u)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,u),window.addEventListener("touchend",this.onTouchEndWindow,u),window.addEventListener("touchcancel",this.onTouchCancelWindow,u),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=i},95618:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(36210)}},41299:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(54899),i=t(95540),n=t(98356),e=t(3374),r=t(84376),l=t(92638),a=new o({initialize:function(f,u){if(this.loader=f,this.cache=i(u,"cache",!1),this.type=i(u,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=i(u,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var m=i(u,"url");m===void 0?m=f.path+d+"."+i(u,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=f.path+m),this.url=m,this.src="",this.xhrSettings=l(i(u,"responseType",void 0)),i(u,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,i(u,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=i(u,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===v.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=v.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(h,f){var u=h.responseURL&&this.loader.localSchemes.some(function(x){return h.responseURL.indexOf(x)===0}),d=u&&f.target.status===0,m=!(f.target&&f.target.status!==200)||d;h.readyState===4&&h.status>=400&&h.status<=599&&(m=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(h){this.xhrLoader=h,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==v.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var f=this.key,u=this.type;this.loader.emit(s.FILE_COMPLETE,f,u,h),this.loader.emit(s.FILE_KEY_COMPLETE+u+"-"+f,f,u,h),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(h,f,u){if(typeof URL=="function")h.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(f.type||u)+";base64,"+d.result.split(",")[1]},d.onerror=h.onerror,d.readAsDataURL(f)}},a.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},c.exports=a},74099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={install:function(o){for(var v in y)o[v]=y[v]},register:function(o,v){y[o]=v},destroy:function(){y={}}};c.exports=t},98356:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:o+t.url:!1};c.exports=y},74261:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(35072),i=t(50792),n=t(54899),e=t(74099),r=t(95540),l=t(35154),a=t(37277),h=t(44594),f=t(92638),u=new o({Extends:i,initialize:function(m){i.call(this);var x=m.sys.game.config,S=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(S,"baseURL",x.loaderBaseURL)),this.setPath(r(S,"path",x.loaderPath)),this.setPrefix(r(S,"prefix",x.loaderPrefix)),this.maxParallelDownloads=r(S,"maxParallelDownloads",x.loaderMaxParallelDownloads),this.xhr=f(r(S,"responseType",x.loaderResponseType),r(S,"async",x.loaderAsync),r(S,"user",x.loaderUser),r(S,"password",x.loaderPassword),r(S,"timeout",x.loaderTimeout),r(S,"withCredentials",x.loaderWithCredentials)),this.crossOrigin=r(S,"crossOrigin",x.loaderCrossOrigin),this.imageLoadType=r(S,"imageLoadType",x.loaderImageLoadType),this.localSchemes=r(S,"localScheme",x.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,m.sys.events.once(h.BOOT,this.boot,this),m.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++){var x=d[m];this.keyExists(x)||(this.list.set(x),this.emit(n.ADD,x.key,x.type,this,x),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var m=d.hasCacheConflict();return m||this.list.iterate(function(x){if(x.type===d.type&&x.key===d.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(x){if(x.type===d.type&&x.key===d.key)return m=!0,!1}),this.queue.iterate(function(x){if(x.type===d.type&&x.key===d.key)return m=!0,!1})),m},addPack:function(d,m){if(typeof m=="string"){var x=l(d,m);x&&(d={packKey:x})}var S=0,T=this.baseURL,C=this.path,A=this.prefix;for(var w in d)if(Object.prototype.hasOwnProperty.call(d,w)){var P=d[w],F=r(P,"baseURL",T),L=r(P,"path",C),O=r(P,"prefix",A),I=r(P,"files",null),B=r(P,"defaultType","void");if(Array.isArray(I)){this.setBaseURL(F),this.setPath(L),this.setPrefix(O);for(var U=0;U<I.length;U++){var H=I[U],Z=H.hasOwnProperty("type")?H.type:B;this[Z]&&(this[Z](H),S++)}}}return this.setBaseURL(T),this.setPath(C),this.setPrefix(A),S>0},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(h.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===v.FILE_POPULATED||d.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,m){this.inflight&&(this.inflight.delete(d),this.updateProgress(),m?(this.totalComplete++,this.queue.set(d),this.emit(n.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(n.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===v.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===v.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(h.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,m){return this.save(JSON.stringify(d),m)},save:function(d,m,x){m===void 0&&(m="file.json"),x===void 0&&(x="application/json");var S=new Blob([d],{type:x}),T=URL.createObjectURL(S),C=document.createElement("a");return C.download=m,C.textContent="Download "+m,C.href=T,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(r(m,"baseURL",d.loaderBaseURL)),this.setPath(r(m,"path",d.loaderPath)),this.setPrefix(r(m,"prefix",d.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});a.register("Loader",u,"load"),c.exports=u},3374:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(92638),s=function(i,n){var e=i===void 0?v():o({},i);if(n)for(var r in n)n[r]!==void 0&&(e[r]=n[r]);return e};c.exports=s},26430:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(54899),i=new o({initialize:function(e,r,l,a){var h=[];a.forEach(function(d){d&&h.push(d)}),this.loader=e,this.type=r,this.key=l;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=v.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var u=0;u<h.length;u++)h[u].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(s.FILE_COMPLETE,n,e),this.loader.emit(s.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=i},84376:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3374),v=function(s,i){var n=o(i,s.xhrSettings);if(s.base64){var e=s.url.split(";base64,").pop()||s.url.split(",").pop(),r={responseText:atob(e)};s.onBase64Load(r);return}var l=new XMLHttpRequest;if(l.open("GET",s.src,n.async,n.user,n.password),l.responseType=s.xhrSettings.responseType,l.timeout=n.timeout,n.headers)for(var a in n.headers)l.setRequestHeader(a,n.headers[a]);return n.header&&n.headerValue&&l.setRequestHeader(n.header,n.headerValue),n.requestedWith&&l.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&l.overrideMimeType(n.overrideMimeType),n.withCredentials&&(l.withCredentials=!0),l.onload=s.onLoad.bind(s,l),l.onerror=s.onError.bind(s,l),l.onprogress=s.onProgress.bind(s),l.ontimeout=s.onError.bind(s,l),l.send(),l};c.exports=v},92638:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i,n){return t===void 0&&(t=""),o===void 0&&(o=!0),v===void 0&&(v=""),s===void 0&&(s=""),i===void 0&&(i=0),n===void 0&&(n=!1),{responseType:t,async:o,user:v,password:s,timeout:i,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};c.exports=y},23906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=y},42155:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},38991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},27540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},87464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},94486:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},13035:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},38144:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},97520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},85595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},55680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},54899:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(518),i=t(54899),n=new o({Extends:s,initialize:function(r,l,a,h,f){s.call(this,r,l,a,h,f),this.type="animationJSON"},onProcess:function(){this.loader.once(i.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,r,l,a){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,r,a,l));return this}),c.exports=n},76272:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(h,f,u,d,m,x){var S,T;if(n(f)){var C=f;f=s(C,"key"),S=new i(h,{key:f,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),T=new e(h,{key:f,url:s(C,"atlasURL"),extension:s(C,"atlasExtension","json"),xhrSettings:s(C,"atlasXhrSettings")})}else S=new i(h,f,u,m),T=new e(h,f,d,x);S.linkFile?r.call(this,h,"atlasjson",f,[S,T,S.linkFile]):r.call(this,h,"atlasjson",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,h.data,f),h.addToCache(),this.complete=!0}}});v.register("aseprite",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},38734:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(h,f,u,d,m,x){var S,T;if(n(f)){var C=f;f=s(C,"key"),S=new i(h,{key:f,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),T=new e(h,{key:f,url:s(C,"atlasURL"),extension:s(C,"atlasExtension","json"),xhrSettings:s(C,"atlasXhrSettings")})}else S=new i(h,f,u,m),T=new e(h,f,d,x);S.linkFile?r.call(this,h,"atlasjson",f,[S,T,S.linkFile]):r.call(this,h,"atlasjson",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,h.data,f),this.complete=!0}}});v.register("atlas",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},74599:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(26430),r=t(57318),l=new o({Extends:e,initialize:function(h,f,u,d,m,x){var S,T;if(n(f)){var C=f;f=s(C,"key"),S=new i(h,{key:f,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),T=new r(h,{key:f,url:s(C,"atlasURL"),extension:s(C,"atlasExtension","xml"),xhrSettings:s(C,"atlasXhrSettings")})}else S=new i(h,f,u,m),T=new r(h,f,d,x);S.linkFile?e.call(this,h,"atlasxml",f,[S,T,S.linkFile]):e.call(this,h,"atlasxml",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(a.key,a.data,h.data,f),this.complete=!0}}});v.register("atlasXML",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},21097:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(89749),r=t(41212),l=new o({Extends:s,initialize:function(h,f,u,d,m){if(r(f)){var x=f;f=n(x,"key"),d=n(x,"xhrSettings"),m=n(x,"context",m)}var S={type:"audio",cache:h.cacheManager.audio,extension:u.type,responseType:"arraybuffer",key:f,url:u.url,xhrSettings:d,config:{context:m}};s.call(this,h,S)},onProcess:function(){this.state=v.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){a.data=h,a.onProcessComplete()},function(h){console.error("Error decoding audio: "+a.key+" - ",h?h.message:null),a.onProcessError()}),this.config.context=null}});l.create=function(a,h,f,u,d){var m=a.systems.game,x=m.config.audio,S=m.device.audio;r(h)&&(f=n(h,"url",[]),u=n(h,"config",{}));var T=l.getAudioURL(m,f);return T?S.webAudio&&!x.disableWebAudio?new l(a,h,T,d,m.sound.context):new e(a,h,T,u):(console.warn('No audio URLs for "%s" matched this device',h),null)},l.getAudioURL=function(a,h){Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++){var u=n(h[f],"url",h[f]);if(u.indexOf("blob:")===0||u.indexOf("data:")===0)return{url:u,type:""};var d=u.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=n(h[f],"type",d?d[1]:"").toLowerCase(),a.device.audio[d])return{url:u,type:d}}return null},i.register("audio",function(a,h,f,u){var d=this.systems.game,m=d.config.audio,x=d.device.audio;if(m.noAudio||!x.webAudio&&!x.audioData)return this;var S;if(Array.isArray(a))for(var T=0;T<a.length;T++)S=l.create(this,a[T]),S&&this.addFile(S);else S=l.create(this,a,h,f,u),S&&this.addFile(S);return this}),c.exports=l},89524:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21097),v=t(83419),s=t(74099),i=t(95540),n=t(41212),e=t(518),r=t(26430),l=new v({Extends:r,initialize:function(h,f,u,d,m,x,S){if(n(f)){var T=f;f=i(T,"key"),u=i(T,"jsonURL"),d=i(T,"audioURL"),m=i(T,"audioConfig"),x=i(T,"audioXhrSettings"),S=i(T,"jsonXhrSettings")}var C;if(!d)C=new e(h,f,u,S),r.call(this,h,"audiosprite",f,[C]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=x;else{var A=o.create(h,f,d,m,x);A&&(C=new e(h,f,u,S),r.call(this,h,"audiosprite",f,[A,C]),this.config.resourceLoad=!1)}},onFileComplete:function(a){var h=this.files.indexOf(a);if(h!==-1&&(this.pending--,this.config.resourceLoad&&a.type==="json"&&a.data.hasOwnProperty("resources"))){var f=a.data.resources,u=i(this.config,"audioConfig"),d=i(this.config,"audioXhrSettings"),m=o.create(this.loader,a.key,f,u,d);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1];a.addToCache(),h.addToCache(),this.complete=!0}}});s.register("audioSprite",function(a,h,f,u,d,m){var x=this.systems.game,S=x.config.audio,T=x.device.audio;if(S&&S.noAudio||!T.webAudio&&!T.audioData)return this;var C;if(Array.isArray(a))for(var A=0;A<a.length;A++)C=new l(this,a[A]),C.files&&this.addFile(C.files);else C=new l(this,a,h,f,u,d,m),C.files&&this.addFile(C.files);return this})},85722:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d){var m="bin";if(e(h)){var x=h;h=n(x,"key"),f=n(x,"url"),u=n(x,"xhrSettings"),m=n(x,"extension",m),d=n(x,"dataType",d)}var S={type:"binary",cache:a.cacheManager.binary,extension:m,responseType:"arraybuffer",key:h,url:f,xhrSettings:u,config:{dataType:d}};s.call(this,a,S)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});i.register("binary",function(l,a,h,f){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,a,f,h));return this}),c.exports=r},97025:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(26430),r=t(21859),l=t(57318),a=new o({Extends:e,initialize:function(f,u,d,m,x,S){var T,C;if(n(u)){var A=u;u=s(A,"key"),T=new i(f,{key:u,url:s(A,"textureURL"),extension:s(A,"textureExtension","png"),normalMap:s(A,"normalMap"),xhrSettings:s(A,"textureXhrSettings")}),C=new l(f,{key:u,url:s(A,"fontDataURL"),extension:s(A,"fontDataExtension","xml"),xhrSettings:s(A,"fontDataXhrSettings")})}else T=new i(f,u,d,x),C=new l(f,u,m,S);T.linkFile?e.call(this,f,"bitmapfont",u,[T,C,T.linkFile]):e.call(this,f,"bitmapfont",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1];h.addToCache();var u=h.cache.get(h.key),d=r(f.data,h.cache.getFrame(h.key),0,0,u);this.loader.cacheManager.bitmapFont.add(h.key,{data:d,texture:h.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(h,f,u,d,m){var x;if(Array.isArray(h))for(var S=0;S<h.length;S++)x=new a(this,h[S]),this.addFile(x.files);else x=new a(this,h,f,u,d,m),this.addFile(x.files);return this}),c.exports=a},16024:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){var d="css";if(e(h)){var m=h;h=n(m,"key"),f=n(m,"url"),u=n(m,"xhrSettings"),d=n(m,"extension",d)}var x={type:"script",cache:!1,extension:d,responseType:"text",key:h,url:f,xhrSettings:u};s.call(this,a,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("css",function(l,a,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,a,h));return this}),c.exports=r},69559:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38734),v=t(85722),s=t(83419),i=t(74099),n=t(95540),e=t(19550),r=t(41212),l=t(518),a=t(31403),h=t(46975),f=t(59327),u=t(26430),d=t(82038),m=t(55222),x=new s({Extends:u,initialize:function(T,C,A,w){if(A.multiAtlasURL){var P=new l(T,{key:C,url:A.multiAtlasURL,xhrSettings:w,config:A});u.call(this,T,"texture",C,[P])}else{var F=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var L=new v(T,{key:C,url:A.textureURL,extension:F,xhrSettings:w,config:A});if(A.atlasURL){var O=new l(T,{key:C,url:A.atlasURL,xhrSettings:w,config:A});u.call(this,T,"texture",C,[L,O])}else u.call(this,T,"texture",C,[L])}this.config=A},onFileComplete:function(S){var T=this.files.indexOf(S);if(T!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(S.type==="json"&&S.data.hasOwnProperty("textures")){var C=S.data.textures,A=this.config,w=this.loader,P=w.baseURL,F=w.path,L=w.prefix,O=n(A,"multiBaseURL",this.baseURL),I=n(A,"multiPath",this.path),B=n(A,"prefix",this.prefix),U=n(A,"textureXhrSettings");O&&w.setBaseURL(O),I&&w.setPath(I),B&&w.setPrefix(B);for(var H=0;H<C.length;H++){var Z=C[H].image,tt="CMA"+this.multiKeyIndex+"_"+Z,X=new v(w,tt,Z,U);if(this.addToMultiFile(X),w.addFile(X),C[H].normalMap){var k=new v(w,tt,C[H].normalMap,U);k.type="normalMap",X.setLink(k),this.addToMultiFile(k),w.addFile(k)}}w.setBaseURL(P),w.setPath(F),w.setPrefix(L)}}},addToCache:function(){function S(O){console.warn('Compressed Texture Invalid: "'+P.key+'". '+O)}if(this.isReadyToProcess()){var T=this.config;if(T.multiAtlasURL)this.addMultiToCache();else{var C=this.loader.systems.renderer,A=this.loader.textureManager,w,P=this.files[0],F=this.files[1];if(T.type==="PVR"?w=d(P.data):T.type==="KTX"&&(w=a(P.data),w||S("KTX file contains unsupported format.")),w&&!m(w)&&(S("Texture dimensions failed verification. Check the texture format specifications for "+T.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!C.supportsCompressedTexture(T.format,w.internalFormat)&&(S("Texture format "+T.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=C.getCompressedTextureName(T.format,w.internalFormat);var L=F&&F.data?F.data:null;A.addCompressedTexture(P.key,w,L)}}this.complete=!0}},addMultiToCache:function(){for(var S=this.config,T=this.files[0],C=[],A=[],w=[],P=this.loader.systems.renderer,F=this.loader.textureManager,L,O=1;O<this.files.length;O++){var I=this.files[O];if(I.type!=="normalMap")for(var B=I.key.indexOf("_"),U=I.key.substr(B+1),H=I.data,Z=0;Z<T.data.textures.length;Z++){var tt=T.data.textures[Z];if(tt.image===U){S.type==="PVR"?L=d(H):S.type==="KTX"&&(L=a(H)),L&&P.supportsCompressedTexture(S.format,L.internalFormat)&&(L.format=P.getCompressedTextureName(S.format,L.internalFormat),A.push(L),C.push(tt),I.linkFile&&w.push(I.linkFile.data));break}}}w.length===0&&(w=void 0),F.addAtlasJSONArray(this.key,A,C,w),this.complete=!0}});i.register("texture",function(S,T,C){var A=this.systems.renderer,w=function(F,L,O,I){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(r(L)){var U=L;L=n(U,"key"),O=n(U,"url"),I=n(U,"xhrSettings")}var H=!1;for(var Z in O)if(A.supportsCompressedTexture(Z)){var tt=O[Z];typeof tt=="string"?B.textureURL=tt:B=h(tt,B),B.format=Z.toUpperCase(),H=!0;break}if(!H)console.warn("No supported compressed texture format or IMG fallback",L);else if(B.format==="IMG"){var X,k;B.multiAtlasURL?(k=new f(F,L,B.multiAtlasURL,B.multiPath,B.multiBaseURL,I),X=k.files):B.atlasURL?(k=new o(F,L,B.textureURL,B.atlasURL,I),X=k.files):X=new e(F,L,B.textureURL,I),F.addFile(X)}else{var D=new x(F,L,B,I);F.addFile(D.files)}};if(Array.isArray(S))for(var P=0;P<S.length;P++)w(this,S[P]);else w(this,S,T,C);return this}),c.exports=x},47931:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=t(73894),l=new o({Extends:s,initialize:function(h,f,u,d,m){var x="glsl";if(e(f)){var S=f;f=n(S,"key"),u=n(S,"url"),d=n(S,"shaderType","fragment"),m=n(S,"xhrSettings"),x=n(S,"extension",x)}else d===void 0&&(d="fragment");var T={type:"glsl",cache:h.cacheManager.shader,extension:x,responseType:"text",key:f,url:u,config:{shaderType:d},xhrSettings:m};s.call(this,h,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split(`
`),h=this.extractBlock(a,0);if(h)for(;h;){var f=this.getShaderName(h.header),u=this.getShaderType(h.header),d=this.getShaderUniforms(h.header),m=h.shader;if(this.cache.has(f)){var x=this.cache.get(f);u==="fragment"?x.fragmentSrc=m:x.vertexSrc=m,x.uniforms||(x.uniforms=d)}else u==="fragment"?this.cache.add(f,new r(f,m,"",d)):this.cache.add(f,new r(f,"",m,d));h=this.extractBlock(a,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data))},getShaderName:function(a){for(var h=0;h<a.length;h++){var f=a[h].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(a){for(var h=0;h<a.length;h++){var f=a[h].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var h={},f=0;f<a.length;f++){var u=a[f].trim();if(u.substring(0,8)==="uniform."){var d=u.indexOf(":");if(d){var m=u.substring(8,d);try{h[m]=JSON.parse(u.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return h},extractBlock:function(a,h){for(var f=-1,u=-1,d=-1,m=!1,x=!1,S=[],T=[],C=h;C<a.length;C++){var A=a[C].trim();if(A==="---")if(f===-1)f=C,m=!0;else if(m)u=C,m=!1,x=!0;else{x=!1;break}else m?S.push(A):x&&(T.push(A),d=C)}return!m&&u!==-1?{header:S,shader:T.join(`
`),offset:d}:null}});i.register("glsl",function(a,h,f,u){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new l(this,a[d]));else this.addFile(new l(this,a,h,f,u));return this}),c.exports=l},89749:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(54899),s=t(41299),i=t(95540),n=t(98356),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){if(e(h)){var d=h;h=i(d,"key"),u=i(d,"config",u)}var m={type:"audio",cache:a.cacheManager.audio,extension:f.type,key:h,url:f.url,config:u};s.call(this,a,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var a=this.data[l];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var a=l.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<l;a++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+a).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(a=0;a<this.data.length;a++)h=this.data[a],h.src=n(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=r},88470:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){var d="html";if(e(h)){var m=h;h=n(m,"key"),f=n(m,"url"),u=n(m,"xhrSettings"),d=n(m,"extension",d)}var x={type:"text",cache:a.cacheManager.html,extension:d,responseType:"text",key:h,url:f,xhrSettings:u};s.call(this,a,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});i.register("html",function(l,a,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,a,h));return this}),c.exports=r},14643:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d,m){u===void 0&&(u=512),d===void 0&&(d=512);var x="html";if(e(h)){var S=h;h=n(S,"key"),f=n(S,"url"),m=n(S,"xhrSettings"),x=n(S,"extension",x),u=n(S,"width",u),d=n(S,"height",d)}var T={type:"html",cache:a.textureManager,extension:x,responseType:"text",key:h,url:f,xhrSettings:m,config:{width:u,height:d}};s.call(this,a,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.config.width,a=this.config.height,h=[];h.push('<svg width="'+l+'px" height="'+a+'px" viewBox="0 0 '+l+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var f=[h.join(`
`)],u=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{u.state=v.FILE_ERRORED,u.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(u.data),u.onProcessError()},s.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});i.register("htmlTexture",function(l,a,h,f,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,a,h,f,u));return this}),c.exports=r},19550:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=t(98356),l=new o({Extends:s,initialize:function a(h,f,u,d,m){var x="png",S;if(e(f)){var T=f;f=n(T,"key"),u=n(T,"url"),S=n(T,"normalMap"),d=n(T,"xhrSettings"),x=n(T,"extension",x),m=n(T,"frameConfig")}Array.isArray(u)&&(S=u[1],u=u[0]);var C={type:"image",cache:h.textureManager,extension:x,responseType:"blob",key:f,url:u,xhrSettings:d,config:m};if(s.call(this,h,C),S){var A=new a(h,this.key,S,d,m);A.type="normalMap",this.setLink(A),h.addFile(A)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){s.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(a.data),a.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var a=this.state;this.state=v.FILE_PROCESSING,a===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){a.state=v.FILE_LOADED,a.loader.nextFile(a,!0)},this.data.onerror=function(){a.loader.nextFile(a,!1)},this.data.src=this.src},addToCache:function(){var a=this.linkFile;a?a.state>=v.FILE_COMPLETE&&(a.type==="spritesheet"?a.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,a.data,this.data):this.cache.addImage(this.key,this.data,a.data)):this.cache.addImage(this.key,this.data)}});i.register("image",function(a,h,f){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,h,f));return this}),c.exports=l},518:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(35154),r=t(41212),l=new o({Extends:s,initialize:function(h,f,u,d,m){var x="json";if(r(f)){var S=f;f=n(S,"key"),u=n(S,"url"),d=n(S,"xhrSettings"),x=n(S,"extension",x),m=n(S,"dataKey",m)}var T={type:"json",cache:h.cacheManager.json,extension:x,responseType:"text",key:f,url:u,xhrSettings:d,config:m};s.call(this,h,T),r(u)&&(m?this.data=e(u,m):this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var h=this.config;typeof h=="string"?this.data=e(a,h,a):this.data=a}this.onProcessComplete()}});i.register("json",function(a,h,f,u){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new l(this,a[d]));else this.addFile(new l(this,a,h,u,f));return this}),c.exports=l},59327:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(h,f,u,d,m,x,S){if(n(f)){var T=f;f=s(T,"key"),s(T,"url",!1)?u=s(T,"url"):u=s(T,"atlasURL"),x=s(T,"xhrSettings"),d=s(T,"path"),m=s(T,"baseURL"),S=s(T,"textureXhrSettings")}var C=new e(h,f,u,x);r.call(this,h,"multiatlas",f,[C]),this.config.path=d,this.config.baseURL=m,this.config.textureXhrSettings=S},onFileComplete:function(a){var h=this.files.indexOf(a);if(h!==-1&&(this.pending--,a.type==="json"&&a.data.hasOwnProperty("textures"))){var f=a.data.textures,u=this.config,d=this.loader,m=d.baseURL,x=d.path,S=d.prefix,T=s(u,"baseURL",this.baseURL),C=s(u,"path",this.path),A=s(u,"prefix",this.prefix),w=s(u,"textureXhrSettings");d.setBaseURL(T),d.setPath(C),d.setPrefix(A);for(var P=0;P<f.length;P++){var F=f[P].image,L="MA"+this.multiKeyIndex+"_"+F,O=new i(d,L,F,w);if(this.addToMultiFile(O),d.addFile(O),f[P].normalMap){var I=new i(d,L,f[P].normalMap,w);I.type="normalMap",O.setLink(I),this.addToMultiFile(I),d.addFile(I)}}d.setBaseURL(m),d.setPath(x),d.setPrefix(S)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],h=[],f=[],u=[],d=1;d<this.files.length;d++){var m=this.files[d];if(m.type!=="normalMap")for(var x=m.key.indexOf("_"),S=m.key.substr(x+1),T=m.data,C=0;C<a.data.textures.length;C++){var A=a.data.textures[C];if(A.image===S){f.push(T),h.push(A),m.linkFile&&u.push(m.linkFile.data);break}}}u.length===0&&(u=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,h,u),this.complete=!0}}});v.register("multiatlas",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},99297:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(95540),i=t(41212),n=t(26430),e=t(34328),r=new o({Extends:n,initialize:function(a,h,f,u){var d="js",m=[];if(i(h)){var x=h;h=s(x,"key"),f=s(x,"url"),u=s(x,"xhrSettings"),d=s(x,"extension",d)}Array.isArray(f)||(f=[f]);for(var S=0;S<f.length;S++){var T=new e(a,{key:h+"_"+S.toString(),url:f[S],extension:d,xhrSettings:u});T.onProcess=function(){this.onProcessComplete()},m.push(T)}n.call(this,a,"scripts",h,m)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var a=this.files[l];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});v.register("scripts",function(l,a,h){var f;if(Array.isArray(l))for(var u=0;u<l.length;u++)f=new r(this,l[u]),this.addFile(f.files);else f=new r(this,l,a,h),this.addFile(f.files);return this}),c.exports=r},41846:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(95540),i=t(41212),n=t(26430),e=t(85048),r=t(61485),l=t(78776),a=new o({Extends:n,initialize:function(f,u,d,m,x,S){var T,C,A=f.cacheManager.obj;if(i(u)){var w=u;u=s(w,"key"),T=new l(f,{key:u,type:"obj",cache:A,url:s(w,"url"),extension:s(w,"extension","obj"),xhrSettings:s(w,"xhrSettings"),config:{flipUV:s(w,"flipUV",x)}}),m=s(w,"matURL"),m&&(C=new l(f,{key:u,type:"mat",cache:A,url:m,extension:s(w,"matExtension","mat"),xhrSettings:s(w,"xhrSettings")}))}else T=new l(f,{key:u,url:d,type:"obj",cache:A,extension:"obj",xhrSettings:S,config:{flipUV:x}}),m&&(C=new l(f,{key:u,url:m,type:"mat",cache:A,extension:"mat",xhrSettings:S}));n.call(this,f,"obj",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],u=e(h.data,h.config.flipUV);f&&(u.materials=r(f.data)),h.cache.add(h.key,u),this.complete=!0}}});v.register("obj",function(h,f,u,d,m){var x;if(Array.isArray(h))for(var S=0;S<h.length;S++)x=new a(this,h[S]),this.addFile(x.files);else x=new a(this,h,f,u,d,m),this.addFile(x.files);return this}),c.exports=a},58610:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(74099),i=t(518),n=new o({Extends:i,initialize:function(r,l,a,h,f){i.call(this,r,l,a,h,f),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(e,r,l,a){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,r,a,l));return this}),c.exports=n},48988:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d,m){var x="js";if(e(h)){var S=h;h=n(S,"key"),f=n(S,"url"),m=n(S,"xhrSettings"),x=n(S,"extension",x),u=n(S,"start"),d=n(S,"mapping")}var T={type:"plugin",cache:!1,extension:x,responseType:"text",key:h,url:f,xhrSettings:m,config:{start:u,mapping:d}};s.call(this,a,T),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,a=this.config,h=n(a,"start",!1),f=n(a,"mapping",null);if(this.state===v.FILE_POPULATED)l.install(this.key,this.data,h,f);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var u=l.install(this.key,window[this.key],h,f);(h||f)&&(this.loader.systems[f]=u,this.loader.scene[f]=u)}this.onProcessComplete()}});i.register("plugin",function(l,a,h,f,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,a,h,f,u));return this}),c.exports=r},67397:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d){var m="svg";if(e(h)){var x=h;h=n(x,"key"),f=n(x,"url"),u=n(x,"svgConfig",{}),d=n(x,"xhrSettings"),m=n(x,"extension",m)}var S={type:"svg",cache:a.textureManager,extension:m,responseType:"text",key:h,url:f,xhrSettings:d,config:{width:n(u,"width"),height:n(u,"height"),scale:n(u,"scale")}};s.call(this,a,S)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.xhrLoader.responseText,a=[l],h=this.config.width,f=this.config.height,u=this.config.scale;t:if(h&&f||u){var d=null,m=new DOMParser;d=m.parseFromString(l,"text/xml");var x=d.getElementsByTagName("svg")[0],S=x.hasAttribute("viewBox"),T=parseFloat(x.getAttribute("width")),C=parseFloat(x.getAttribute("height"));if(!S&&T&&C)x.setAttribute("viewBox","0  0 "+T+" "+C);else if(S&&!T&&!C){var A=x.getAttribute("viewBox").split(/\s+|,/);T=A[2],C=A[3]}if(u)if(T&&C)h=T*u,f=C*u;else break t;x.setAttribute("width",h.toString()+"px"),x.setAttribute("height",f.toString()+"px"),a=[new XMLSerializer().serializeToString(x)]}try{var w=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var P=this,F=!1;this.data.onload=function(){F||s.revokeObjectURL(P.data),P.onProcessComplete()},this.data.onerror=function(){F?P.onProcessError():(F=!0,s.revokeObjectURL(P.data),P.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},s.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});i.register("svg",function(l,a,h,f){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,a,h,f));return this}),c.exports=r},88423:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){var d="js";if(e(h)){var m=h;h=n(m,"key"),f=n(m,"url"),u=n(m,"xhrSettings"),d=n(m,"extension",d)}var x={type:"text",extension:d,responseType:"text",key:h,url:f,xhrSettings:u};s.call(this,a,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),a=eval;this.loader.sceneManager.add(this.key,a(l)),this.complete=!0}});i.register("sceneFile",function(l,a,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,a,h));return this}),c.exports=r},56812:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d,m){var x="js";if(e(h)){var S=h;h=n(S,"key"),f=n(S,"url"),m=n(S,"xhrSettings"),x=n(S,"extension",x),u=n(S,"systemKey"),d=n(S,"sceneKey")}var T={type:"scenePlugin",cache:!1,extension:x,responseType:"text",key:h,url:f,xhrSettings:m,config:{systemKey:u,sceneKey:d}};s.call(this,a,T),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,a=this.config,h=this.key,f=n(a,"systemKey",h),u=n(a,"sceneKey",h);this.state===v.FILE_POPULATED?l.installScenePlugin(f,this.data,u,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],u,this.loader.scene,!0)),this.onProcessComplete()}});i.register("scenePlugin",function(l,a,h,f,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,a,h,f,u));return this}),c.exports=r},34328:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u,d){var m="js";if(e(h)){var x=h;h=n(x,"key"),f=n(x,"url"),u=n(x,"type","script"),d=n(x,"xhrSettings"),m=n(x,"extension",m)}else u===void 0&&(u="script");var S={type:u,cache:!1,extension:m,responseType:"text",key:h,url:f,xhrSettings:d};s.call(this,a,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("script",function(l,a,h,f){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,a,h,f));return this}),c.exports=r},85035:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(74099),i=t(19550),n=new o({Extends:i,initialize:function(r,l,a,h,f){i.call(this,r,l,a,f,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});s.register("spritesheet",function(e,r,l,a){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,r,l,a));return this}),c.exports=n},78776:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=new o({Extends:s,initialize:function(a,h,f,u){var d="text",m="txt",x=a.cacheManager.text;if(e(h)){var S=h;h=n(S,"key"),f=n(S,"url"),u=n(S,"xhrSettings"),m=n(S,"extension",m),d=n(S,"type",d),x=n(S,"cache",x)}var T={type:d,cache:x,extension:m,responseType:"text",key:h,url:f,xhrSettings:u};s.call(this,a,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});i.register("text",function(l,a,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,a,h));return this}),c.exports=r},49477:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=t(80341),l=new o({Extends:s,initialize:function(h,f,u,d){var m="csv";if(e(f)){var x=f;f=n(x,"key"),u=n(x,"url"),d=n(x,"xhrSettings"),m=n(x,"extension",m)}var S={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:m,responseType:"text",key:f,url:u,xhrSettings:d};s.call(this,h,S),this.tilemapFormat=r.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a)}});i.register("tilemapCSV",function(a,h,f){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,h,f));return this}),c.exports=l},40807:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(518),i=t(80341),n=new o({Extends:s,initialize:function(r,l,a,h){s.call(this,r,l,a,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:i.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,r,l){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,r,l));return this}),c.exports=n},56775:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(518),i=t(80341),n=new o({Extends:s,initialize:function(r,l,a,h){s.call(this,r,l,a,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:i.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,r,l){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,r,l));return this}),c.exports=n},25771:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),s=t(95540),i=t(19550),n=t(41212),e=t(26430),r=t(78776),l=new o({Extends:e,initialize:function(h,f,u,d,m,x){var S,T;if(n(f)){var C=f;f=s(C,"key"),S=new i(h,{key:f,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),T=new r(h,{key:f,url:s(C,"atlasURL"),extension:s(C,"atlasExtension","txt"),xhrSettings:s(C,"atlasXhrSettings")})}else S=new i(h,f,u,m),T=new r(h,f,d,x);S.linkFile?e.call(this,h,"unityatlas",f,[S,T,S.linkFile]):e.call(this,h,"unityatlas",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(a.key,a.data,h.data,f),this.complete=!0}}});v.register("unityAtlas",function(a,h,f,u,d){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new l(this,a[x]),this.addFile(m.files);else m=new l(this,a,h,f,u,d),this.addFile(m.files);return this}),c.exports=l},33720:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(98356),e=t(95540),r=t(41212),l=new o({Extends:s,initialize:function(h,f,u,d){if(d===void 0&&(d=!1),r(f)){var m=f;f=e(m,"key"),u=e(m,"url",[]),d=e(m,"noAudio",!1)}var x=h.systems.game.device.video.getVideoURL(u);x||console.warn("VideoFile: No supported format for "+f);var S={type:"video",cache:h.cacheManager.video,extension:x.type,key:f,url:x.url,config:{noAudio:d}};s.call(this,h,S)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});i.register("video",function(a,h,f){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,h,f));return this}),c.exports=l},57318:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),s=t(41299),i=t(74099),n=t(95540),e=t(41212),r=t(56836),l=new o({Extends:s,initialize:function(h,f,u,d){var m="xml";if(e(f)){var x=f;f=n(x,"key"),u=n(x,"url"),d=n(x,"xhrSettings"),m=n(x,"extension",m)}var S={type:"xml",cache:h.cacheManager.xml,extension:m,responseType:"text",key:f,url:u,xhrSettings:d};s.call(this,h,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});i.register("xml",function(a,h,f){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,h,f));return this}),c.exports=l},64589:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23906),v=t(79291),s={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};s=v(!1,s,o),c.exports=s},53307:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0,v=0;v<t.length;v++)o+=+t[v];return o/t.length};c.exports=y},85710:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6411),v=function(s,i){return o(s)/o(i)/o(s-i)};c.exports=v},30976:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.floor(Math.random()*(o-t+1)+t)};c.exports=y},87842:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i){var n=(s-o)*.5,e=(i-v)*.5,r=t*t,l=t*r;return(2*v-2*s+n+e)*l+(-3*v+3*s-2*n-e)*r+n*t+v};c.exports=y},26302:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var s=Math.pow(v,-o);return Math.ceil(t*s)/s};c.exports=y},45319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return Math.max(o,Math.min(v,t))};c.exports=y},39506:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=function(s){return s*o.DEG_TO_RAD};c.exports=v},61241:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.abs(t-o)};c.exports=y},38857:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(37867),i=t(29747),n=new s,e=new v({initialize:function r(l,a,h,f){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f=r.DefaultOrder),this._x=l,this._y=a,this._z=h,this._order=f,this.onChangeCallback=i},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,l,a,h){return h===void 0&&(h=this._order),this._x=r,this._y=l,this._z=a,this._order=h,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,l,a){return l===void 0&&(l=this._order),a===void 0&&(a=!1),n.fromQuat(r),this.setFromRotationMatrix(n,l,a)},setFromRotationMatrix:function(r,l,a){l===void 0&&(l=this._order),a===void 0&&(a=!1);var h=r.val,f=h[0],u=h[4],d=h[8],m=h[1],x=h[5],S=h[9],T=h[2],C=h[6],A=h[10],w=0,P=0,F=0,L=.99999;switch(l){case"XYZ":{P=Math.asin(o(d,-1,1)),Math.abs(d)<L?(w=Math.atan2(-S,A),F=Math.atan2(-u,f)):w=Math.atan2(C,x);break}case"YXZ":{w=Math.asin(-o(S,-1,1)),Math.abs(S)<L?(P=Math.atan2(d,A),F=Math.atan2(m,x)):P=Math.atan2(-T,f);break}case"ZXY":{w=Math.asin(o(C,-1,1)),Math.abs(C)<L?(P=Math.atan2(-T,A),F=Math.atan2(-u,x)):F=Math.atan2(m,f);break}case"ZYX":{P=Math.asin(-o(T,-1,1)),Math.abs(T)<L?(w=Math.atan2(C,A),F=Math.atan2(m,f)):F=Math.atan2(-u,x);break}case"YZX":{F=Math.asin(o(m,-1,1)),Math.abs(m)<L?(w=Math.atan2(-S,x),P=Math.atan2(-T,f)):P=Math.atan2(d,A);break}case"XZY":{F=Math.asin(-o(u,-1,1)),Math.abs(u)<L?(w=Math.atan2(C,x),P=Math.atan2(d,f)):w=Math.atan2(-S,A);break}}return this._x=w,this._y=P,this._z=F,this._order=l,a&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",c.exports=e},6411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(t===0)return 1;for(var o=t;--t;)o*=t;return o};c.exports=y},99472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.random()*(o-t)+t};c.exports=y},77623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var s=Math.pow(v,-o);return Math.floor(t*s)/s};c.exports=y},62945:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=function(s,i,n){return s=o(s,0,1),(n-i)*s+i};c.exports=v},38265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t/o/1e3};c.exports=y},78702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t==parseFloat(t)?!(t%2):void 0};c.exports=y},94883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===parseFloat(t)?!(t%2):void 0};c.exports=y},28915:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return(o-t)*v+t};c.exports=y},94908:c=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return v===void 0&&(v=0),t.clone().lerp(o,v)};c.exports=y},94434:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){this.val=new Float32Array(9),i?this.copy(i):this.identity()},clone:function(){return new v(this)},set:function(s){return this.copy(s)},copy:function(s){var i=this.val,n=s.val;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],this},fromMat4:function(s){var i=s.val,n=this.val;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[4],n[4]=i[5],n[5]=i[6],n[6]=i[8],n[7]=i[9],n[8]=i[10],this},fromArray:function(s){var i=this.val;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this},identity:function(){var s=this.val;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,this},transpose:function(){var s=this.val,i=s[1],n=s[2],e=s[5];return s[1]=s[3],s[2]=s[6],s[3]=i,s[5]=s[7],s[6]=n,s[7]=e,this},invert:function(){var s=this.val,i=s[0],n=s[1],e=s[2],r=s[3],l=s[4],a=s[5],h=s[6],f=s[7],u=s[8],d=u*l-a*f,m=-u*r+a*h,x=f*r-l*h,S=i*d+n*m+e*x;return S?(S=1/S,s[0]=d*S,s[1]=(-u*n+e*f)*S,s[2]=(a*n-e*l)*S,s[3]=m*S,s[4]=(u*i-e*h)*S,s[5]=(-a*i+e*r)*S,s[6]=x*S,s[7]=(-f*i+n*h)*S,s[8]=(l*i-n*r)*S,this):null},adjoint:function(){var s=this.val,i=s[0],n=s[1],e=s[2],r=s[3],l=s[4],a=s[5],h=s[6],f=s[7],u=s[8];return s[0]=l*u-a*f,s[1]=e*f-n*u,s[2]=n*a-e*l,s[3]=a*h-r*u,s[4]=i*u-e*h,s[5]=e*r-i*a,s[6]=r*f-l*h,s[7]=n*h-i*f,s[8]=i*l-n*r,this},determinant:function(){var s=this.val,i=s[0],n=s[1],e=s[2],r=s[3],l=s[4],a=s[5],h=s[6],f=s[7],u=s[8];return i*(u*l-a*f)+n*(-u*r+a*h)+e*(f*r-l*h)},multiply:function(s){var i=this.val,n=i[0],e=i[1],r=i[2],l=i[3],a=i[4],h=i[5],f=i[6],u=i[7],d=i[8],m=s.val,x=m[0],S=m[1],T=m[2],C=m[3],A=m[4],w=m[5],P=m[6],F=m[7],L=m[8];return i[0]=x*n+S*l+T*f,i[1]=x*e+S*a+T*u,i[2]=x*r+S*h+T*d,i[3]=C*n+A*l+w*f,i[4]=C*e+A*a+w*u,i[5]=C*r+A*h+w*d,i[6]=P*n+F*l+L*f,i[7]=P*e+F*a+L*u,i[8]=P*r+F*h+L*d,this},translate:function(s){var i=this.val,n=s.x,e=s.y;return i[6]=n*i[0]+e*i[3]+i[6],i[7]=n*i[1]+e*i[4]+i[7],i[8]=n*i[2]+e*i[5]+i[8],this},rotate:function(s){var i=this.val,n=i[0],e=i[1],r=i[2],l=i[3],a=i[4],h=i[5],f=Math.sin(s),u=Math.cos(s);return i[0]=u*n+f*l,i[1]=u*e+f*a,i[2]=u*r+f*h,i[3]=u*l-f*n,i[4]=u*a-f*e,i[5]=u*h-f*r,this},scale:function(s){var i=this.val,n=s.x,e=s.y;return i[0]=n*i[0],i[1]=n*i[1],i[2]=n*i[2],i[3]=e*i[3],i[4]=e*i[4],i[5]=e*i[5],this},fromQuat:function(s){var i=s.x,n=s.y,e=s.z,r=s.w,l=i+i,a=n+n,h=e+e,f=i*l,u=i*a,d=i*h,m=n*a,x=n*h,S=e*h,T=r*l,C=r*a,A=r*h,w=this.val;return w[0]=1-(m+S),w[3]=u+A,w[6]=d-C,w[1]=u-A,w[4]=1-(f+S),w[7]=x+T,w[2]=d+C,w[5]=x-T,w[8]=1-(f+m),this},normalFromMat4:function(s){var i=s.val,n=this.val,e=i[0],r=i[1],l=i[2],a=i[3],h=i[4],f=i[5],u=i[6],d=i[7],m=i[8],x=i[9],S=i[10],T=i[11],C=i[12],A=i[13],w=i[14],P=i[15],F=e*f-r*h,L=e*u-l*h,O=e*d-a*h,I=r*u-l*f,B=r*d-a*f,U=l*d-a*u,H=m*A-x*C,Z=m*w-S*C,tt=m*P-T*C,X=x*w-S*A,k=x*P-T*A,D=S*P-T*w,z=F*D-L*k+O*X+I*tt-B*Z+U*H;return z?(z=1/z,n[0]=(f*D-u*k+d*X)*z,n[1]=(u*tt-h*D-d*Z)*z,n[2]=(h*k-f*tt+d*H)*z,n[3]=(l*k-r*D-a*X)*z,n[4]=(e*D-l*tt+a*Z)*z,n[5]=(r*tt-e*k-a*H)*z,n[6]=(A*U-w*B+P*I)*z,n[7]=(w*O-C*U-P*L)*z,n[8]=(C*B-A*O+P*F)*z,this):null}});c.exports=v},37867:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(25836),s=1e-6,i=new o({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new i(this)},set:function(h){return this.copy(h)},setValues:function(h,f,u,d,m,x,S,T,C,A,w,P,F,L,O,I){var B=this.val;return B[0]=h,B[1]=f,B[2]=u,B[3]=d,B[4]=m,B[5]=x,B[6]=S,B[7]=T,B[8]=C,B[9]=A,B[10]=w,B[11]=P,B[12]=F,B[13]=L,B[14]=O,B[15]=I,this},copy:function(h){var f=h.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,f,u){var d=n.fromQuat(u),m=d.val,x=f.x,S=f.y,T=f.z;return this.setValues(m[0]*x,m[1]*x,m[2]*x,0,m[4]*S,m[5]*S,m[6]*S,0,m[8]*T,m[9]*T,m[10]*T,0,h.x,h.y,h.z,1)},xyz:function(h,f,u){this.identity();var d=this.val;return d[12]=h,d[13]=f,d[14]=u,this},scaling:function(h,f,u){this.zero();var d=this.val;return d[0]=h,d[5]=f,d[10]=u,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,f=h[1],u=h[2],d=h[3],m=h[6],x=h[7],S=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=f,h[6]=h[9],h[7]=h[13],h[8]=u,h[9]=m,h[11]=h[14],h[12]=d,h[13]=x,h[14]=S,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,f=h[0],u=h[1],d=h[2],m=h[3],x=h[4],S=h[5],T=h[6],C=h[7],A=h[8],w=h[9],P=h[10],F=h[11],L=h[12],O=h[13],I=h[14],B=h[15],U=f*S-u*x,H=f*T-d*x,Z=f*C-m*x,tt=u*T-d*S,X=u*C-m*S,k=d*C-m*T,D=A*O-w*L,z=A*I-P*L,Y=A*B-F*L,j=w*I-P*O,J=w*B-F*O,it=P*B-F*I,st=U*it-H*J+Z*j+tt*Y-X*z+k*D;return st?(st=1/st,this.setValues((S*it-T*J+C*j)*st,(d*J-u*it-m*j)*st,(O*k-I*X+B*tt)*st,(P*X-w*k-F*tt)*st,(T*Y-x*it-C*z)*st,(f*it-d*Y+m*z)*st,(I*Z-L*k-B*H)*st,(A*k-P*Z+F*H)*st,(x*J-S*Y+C*D)*st,(u*Y-f*J-m*D)*st,(L*X-O*Z+B*U)*st,(w*Z-A*X-F*U)*st,(S*z-x*j-T*D)*st,(f*j-u*z+d*D)*st,(O*H-L*tt-I*U)*st,(A*tt-w*H+P*U)*st)):this},adjoint:function(){var h=this.val,f=h[0],u=h[1],d=h[2],m=h[3],x=h[4],S=h[5],T=h[6],C=h[7],A=h[8],w=h[9],P=h[10],F=h[11],L=h[12],O=h[13],I=h[14],B=h[15];return this.setValues(S*(P*B-F*I)-w*(T*B-C*I)+O*(T*F-C*P),-(u*(P*B-F*I)-w*(d*B-m*I)+O*(d*F-m*P)),u*(T*B-C*I)-S*(d*B-m*I)+O*(d*C-m*T),-(u*(T*F-C*P)-S*(d*F-m*P)+w*(d*C-m*T)),-(x*(P*B-F*I)-A*(T*B-C*I)+L*(T*F-C*P)),f*(P*B-F*I)-A*(d*B-m*I)+L*(d*F-m*P),-(f*(T*B-C*I)-x*(d*B-m*I)+L*(d*C-m*T)),f*(T*F-C*P)-x*(d*F-m*P)+A*(d*C-m*T),x*(w*B-F*O)-A*(S*B-C*O)+L*(S*F-C*w),-(f*(w*B-F*O)-A*(u*B-m*O)+L*(u*F-m*w)),f*(S*B-C*O)-x*(u*B-m*O)+L*(u*C-m*S),-(f*(S*F-C*w)-x*(u*F-m*w)+A*(u*C-m*S)),-(x*(w*I-P*O)-A*(S*I-T*O)+L*(S*P-T*w)),f*(w*I-P*O)-A*(u*I-d*O)+L*(u*P-d*w),-(f*(S*I-T*O)-x*(u*I-d*O)+L*(u*T-d*S)),f*(S*P-T*w)-x*(u*P-d*w)+A*(u*T-d*S))},determinant:function(){var h=this.val,f=h[0],u=h[1],d=h[2],m=h[3],x=h[4],S=h[5],T=h[6],C=h[7],A=h[8],w=h[9],P=h[10],F=h[11],L=h[12],O=h[13],I=h[14],B=h[15],U=f*S-u*x,H=f*T-d*x,Z=f*C-m*x,tt=u*T-d*S,X=u*C-m*S,k=d*C-m*T,D=A*O-w*L,z=A*I-P*L,Y=A*B-F*L,j=w*I-P*O,J=w*B-F*O,it=P*B-F*I;return U*it-H*J+Z*j+tt*Y-X*z+k*D},multiply:function(h){var f=this.val,u=f[0],d=f[1],m=f[2],x=f[3],S=f[4],T=f[5],C=f[6],A=f[7],w=f[8],P=f[9],F=f[10],L=f[11],O=f[12],I=f[13],B=f[14],U=f[15],H=h.val,Z=H[0],tt=H[1],X=H[2],k=H[3];return f[0]=Z*u+tt*S+X*w+k*O,f[1]=Z*d+tt*T+X*P+k*I,f[2]=Z*m+tt*C+X*F+k*B,f[3]=Z*x+tt*A+X*L+k*U,Z=H[4],tt=H[5],X=H[6],k=H[7],f[4]=Z*u+tt*S+X*w+k*O,f[5]=Z*d+tt*T+X*P+k*I,f[6]=Z*m+tt*C+X*F+k*B,f[7]=Z*x+tt*A+X*L+k*U,Z=H[8],tt=H[9],X=H[10],k=H[11],f[8]=Z*u+tt*S+X*w+k*O,f[9]=Z*d+tt*T+X*P+k*I,f[10]=Z*m+tt*C+X*F+k*B,f[11]=Z*x+tt*A+X*L+k*U,Z=H[12],tt=H[13],X=H[14],k=H[15],f[12]=Z*u+tt*S+X*w+k*O,f[13]=Z*d+tt*T+X*P+k*I,f[14]=Z*m+tt*C+X*F+k*B,f[15]=Z*x+tt*A+X*L+k*U,this},multiplyLocal:function(h){var f=this.val,u=h.val;return this.setValues(f[0]*u[0]+f[1]*u[4]+f[2]*u[8]+f[3]*u[12],f[0]*u[1]+f[1]*u[5]+f[2]*u[9]+f[3]*u[13],f[0]*u[2]+f[1]*u[6]+f[2]*u[10]+f[3]*u[14],f[0]*u[3]+f[1]*u[7]+f[2]*u[11]+f[3]*u[15],f[4]*u[0]+f[5]*u[4]+f[6]*u[8]+f[7]*u[12],f[4]*u[1]+f[5]*u[5]+f[6]*u[9]+f[7]*u[13],f[4]*u[2]+f[5]*u[6]+f[6]*u[10]+f[7]*u[14],f[4]*u[3]+f[5]*u[7]+f[6]*u[11]+f[7]*u[15],f[8]*u[0]+f[9]*u[4]+f[10]*u[8]+f[11]*u[12],f[8]*u[1]+f[9]*u[5]+f[10]*u[9]+f[11]*u[13],f[8]*u[2]+f[9]*u[6]+f[10]*u[10]+f[11]*u[14],f[8]*u[3]+f[9]*u[7]+f[10]*u[11]+f[11]*u[15],f[12]*u[0]+f[13]*u[4]+f[14]*u[8]+f[15]*u[12],f[12]*u[1]+f[13]*u[5]+f[14]*u[9]+f[15]*u[13],f[12]*u[2]+f[13]*u[6]+f[14]*u[10]+f[15]*u[14],f[12]*u[3]+f[13]*u[7]+f[14]*u[11]+f[15]*u[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,f){var u=h.val,d=f.val,m=u[0],x=u[4],S=u[8],T=u[12],C=u[1],A=u[5],w=u[9],P=u[13],F=u[2],L=u[6],O=u[10],I=u[14],B=u[3],U=u[7],H=u[11],Z=u[15],tt=d[0],X=d[4],k=d[8],D=d[12],z=d[1],Y=d[5],j=d[9],J=d[13],it=d[2],st=d[6],at=d[10],ft=d[14],vt=d[3],xt=d[7],Ct=d[11],yt=d[15];return this.setValues(m*tt+x*z+S*it+T*vt,C*tt+A*z+w*it+P*vt,F*tt+L*z+O*it+I*vt,B*tt+U*z+H*it+Z*vt,m*X+x*Y+S*st+T*xt,C*X+A*Y+w*st+P*xt,F*X+L*Y+O*st+I*xt,B*X+U*Y+H*st+Z*xt,m*k+x*j+S*at+T*Ct,C*k+A*j+w*at+P*Ct,F*k+L*j+O*at+I*Ct,B*k+U*j+H*at+Z*Ct,m*D+x*J+S*ft+T*yt,C*D+A*J+w*ft+P*yt,F*D+L*J+O*ft+I*yt,B*D+U*J+H*ft+Z*yt)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,f,u){var d=this.val;return d[12]=d[0]*h+d[4]*f+d[8]*u+d[12],d[13]=d[1]*h+d[5]*f+d[9]*u+d[13],d[14]=d[2]*h+d[6]*f+d[10]*u+d[14],d[15]=d[3]*h+d[7]*f+d[11]*u+d[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,f,u){var d=this.val;return d[0]=d[0]*h,d[1]=d[1]*h,d[2]=d[2]*h,d[3]=d[3]*h,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*u,d[9]=d[9]*u,d[10]=d[10]*u,d[11]=d[11]*u,this},makeRotationAxis:function(h,f){var u=Math.cos(f),d=Math.sin(f),m=1-u,x=h.x,S=h.y,T=h.z,C=m*x,A=m*S;return this.setValues(C*x+u,C*S-d*T,C*T+d*S,0,C*S+d*T,A*S+u,A*T-d*x,0,C*T-d*S,A*T+d*x,m*T*T+u,0,0,0,0,1)},rotate:function(h,f){var u=this.val,d=f.x,m=f.y,x=f.z,S=Math.sqrt(d*d+m*m+x*x);if(Math.abs(S)<s)return this;S=1/S,d*=S,m*=S,x*=S;var T=Math.sin(h),C=Math.cos(h),A=1-C,w=u[0],P=u[1],F=u[2],L=u[3],O=u[4],I=u[5],B=u[6],U=u[7],H=u[8],Z=u[9],tt=u[10],X=u[11],k=u[12],D=u[13],z=u[14],Y=u[15],j=d*d*A+C,J=m*d*A+x*T,it=x*d*A-m*T,st=d*m*A-x*T,at=m*m*A+C,ft=x*m*A+d*T,vt=d*x*A+m*T,xt=m*x*A-d*T,Ct=x*x*A+C;return this.setValues(w*j+O*J+H*it,P*j+I*J+Z*it,F*j+B*J+tt*it,L*j+U*J+X*it,w*st+O*at+H*ft,P*st+I*at+Z*ft,F*st+B*at+tt*ft,L*st+U*at+X*ft,w*vt+O*xt+H*Ct,P*vt+I*xt+Z*Ct,F*vt+B*xt+tt*Ct,L*vt+U*xt+X*Ct,k,D,z,Y)},rotateX:function(h){var f=this.val,u=Math.sin(h),d=Math.cos(h),m=f[4],x=f[5],S=f[6],T=f[7],C=f[8],A=f[9],w=f[10],P=f[11];return f[4]=m*d+C*u,f[5]=x*d+A*u,f[6]=S*d+w*u,f[7]=T*d+P*u,f[8]=C*d-m*u,f[9]=A*d-x*u,f[10]=w*d-S*u,f[11]=P*d-T*u,this},rotateY:function(h){var f=this.val,u=Math.sin(h),d=Math.cos(h),m=f[0],x=f[1],S=f[2],T=f[3],C=f[8],A=f[9],w=f[10],P=f[11];return f[0]=m*d-C*u,f[1]=x*d-A*u,f[2]=S*d-w*u,f[3]=T*d-P*u,f[8]=m*u+C*d,f[9]=x*u+A*d,f[10]=S*u+w*d,f[11]=T*u+P*d,this},rotateZ:function(h){var f=this.val,u=Math.sin(h),d=Math.cos(h),m=f[0],x=f[1],S=f[2],T=f[3],C=f[4],A=f[5],w=f[6],P=f[7];return f[0]=m*d+C*u,f[1]=x*d+A*u,f[2]=S*d+w*u,f[3]=T*d+P*u,f[4]=C*d-m*u,f[5]=A*d-x*u,f[6]=w*d-S*u,f[7]=P*d-T*u,this},fromRotationTranslation:function(h,f){var u=h.x,d=h.y,m=h.z,x=h.w,S=u+u,T=d+d,C=m+m,A=u*S,w=u*T,P=u*C,F=d*T,L=d*C,O=m*C,I=x*S,B=x*T,U=x*C;return this.setValues(1-(F+O),w+U,P-B,0,w-U,1-(A+O),L+I,0,P+B,L-I,1-(A+F),0,f.x,f.y,f.z,1)},fromQuat:function(h){var f=h.x,u=h.y,d=h.z,m=h.w,x=f+f,S=u+u,T=d+d,C=f*x,A=f*S,w=f*T,P=u*S,F=u*T,L=d*T,O=m*x,I=m*S,B=m*T;return this.setValues(1-(P+L),A+B,w-I,0,A-B,1-(C+L),F+O,0,w+I,F-O,1-(C+P),0,0,0,0,1)},frustum:function(h,f,u,d,m,x){var S=1/(f-h),T=1/(d-u),C=1/(m-x);return this.setValues(m*2*S,0,0,0,0,m*2*T,0,0,(f+h)*S,(d+u)*T,(x+m)*C,-1,0,0,x*m*2*C,0)},perspective:function(h,f,u,d){var m=1/Math.tan(h/2),x=1/(u-d);return this.setValues(m/f,0,0,0,0,m,0,0,0,0,(d+u)*x,-1,0,0,2*d*u*x,0)},perspectiveLH:function(h,f,u,d){return this.setValues(2*u/h,0,0,0,0,2*u/f,0,0,0,0,-d/(u-d),1,0,0,u*d/(u-d),0)},ortho:function(h,f,u,d,m,x){var S=h-f,T=u-d,C=m-x;return S=S===0?S:1/S,T=T===0?T:1/T,C=C===0?C:1/C,this.setValues(-2*S,0,0,0,0,-2*T,0,0,0,0,2*C,0,(h+f)*S,(d+u)*T,(x+m)*C,1)},lookAtRH:function(h,f,u){var d=this.val;return a.subVectors(h,f),a.getLengthSquared()===0&&(a.z=1),a.normalize(),r.crossVectors(u,a),r.getLengthSquared()===0&&(Math.abs(u.z)===1?a.x+=1e-4:a.z+=1e-4,a.normalize(),r.crossVectors(u,a)),r.normalize(),l.crossVectors(a,r),d[0]=r.x,d[1]=r.y,d[2]=r.z,d[4]=l.x,d[5]=l.y,d[6]=l.z,d[8]=a.x,d[9]=a.y,d[10]=a.z,this},lookAt:function(h,f,u){var d=h.x,m=h.y,x=h.z,S=u.x,T=u.y,C=u.z,A=f.x,w=f.y,P=f.z;if(Math.abs(d-A)<s&&Math.abs(m-w)<s&&Math.abs(x-P)<s)return this.identity();var F=d-A,L=m-w,O=x-P,I=1/Math.sqrt(F*F+L*L+O*O);F*=I,L*=I,O*=I;var B=T*O-C*L,U=C*F-S*O,H=S*L-T*F;I=Math.sqrt(B*B+U*U+H*H),I?(I=1/I,B*=I,U*=I,H*=I):(B=0,U=0,H=0);var Z=L*H-O*U,tt=O*B-F*H,X=F*U-L*B;return I=Math.sqrt(Z*Z+tt*tt+X*X),I?(I=1/I,Z*=I,tt*=I,X*=I):(Z=0,tt=0,X=0),this.setValues(B,Z,F,0,U,tt,L,0,H,X,O,0,-(B*d+U*m+H*x),-(Z*d+tt*m+X*x),-(F*d+L*m+O*x),1)},yawPitchRoll:function(h,f,u){this.zero(),n.zero(),e.zero();var d=this.val,m=n.val,x=e.val,S=Math.sin(u),T=Math.cos(u);return d[10]=1,d[15]=1,d[0]=T,d[1]=S,d[4]=-S,d[5]=T,S=Math.sin(f),T=Math.cos(f),m[0]=1,m[15]=1,m[5]=T,m[10]=T,m[9]=-S,m[6]=S,S=Math.sin(h),T=Math.cos(h),x[5]=1,x[15]=1,x[0]=T,x[2]=-S,x[8]=S,x[10]=T,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(h,f,u,d,m){return this.yawPitchRoll(h.y,h.x,h.z),n.scaling(u.x,u.y,u.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(n),this.multiplyLocal(e),d&&this.multiplyLocal(d),m&&this.multiplyLocal(m),this},multiplyToMat4:function(h,f){var u=this.val,d=h.val,m=u[0],x=u[1],S=u[2],T=u[3],C=u[4],A=u[5],w=u[6],P=u[7],F=u[8],L=u[9],O=u[10],I=u[11],B=u[12],U=u[13],H=u[14],Z=u[15],tt=d[0],X=d[1],k=d[2],D=d[3],z=d[4],Y=d[5],j=d[6],J=d[7],it=d[8],st=d[9],at=d[10],ft=d[11],vt=d[12],xt=d[13],Ct=d[14],yt=d[15];return f.setValues(tt*m+X*C+k*F+D*B,X*x+X*A+k*L+D*U,k*S+X*w+k*O+D*H,D*T+X*P+k*I+D*Z,z*m+Y*C+j*F+J*B,z*x+Y*A+j*L+J*U,z*S+Y*w+j*O+J*H,z*T+Y*P+j*I+J*Z,it*m+st*C+at*F+ft*B,it*x+st*A+at*L+ft*U,it*S+st*w+at*O+ft*H,it*T+st*P+at*I+ft*Z,vt*m+xt*C+Ct*F+yt*B,vt*x+xt*A+Ct*L+yt*U,vt*S+xt*w+Ct*O+yt*H,vt*T+xt*P+Ct*I+yt*Z)},fromRotationXYTranslation:function(h,f,u){var d=f.x,m=f.y,x=f.z,S=Math.sin(h.x),T=Math.cos(h.x),C=Math.sin(h.y),A=Math.cos(h.y),w=d,P=m,F=x,L=-S,O=0-L*C,I=0-T*C,B=L*A,U=T*A;return u||(w=A*d+C*x,P=O*d+T*m+B*x,F=I*d+S*m+U*x),this.setValues(A,O,I,0,0,T,S,0,C,B,U,0,w,P,F,1)},getMaxScaleOnAxis:function(){var h=this.val,f=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],u=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],d=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(f,u,d))}}),n=new i,e=new i,r=new v,l=new v,a=new v;c.exports=i},86883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return Math.min(t+o,v)};c.exports=y},50040:c=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.length;if(o===0)return 0;t.sort(function(s,i){return s-i});var v=Math.floor(o/2);return o%2===0?(t[v]+t[v-1])/2:t[v]};c.exports=y},37204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return Math.max(t-o,v)};c.exports=y},65201:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){v===void 0&&(v=o+1);var i=(t-o)/(v-o);return i>1?s!==void 0?(i=(s-t)/(s-v),i<0&&(i=0)):i=1:i<0&&(i=0),i};c.exports=y},15746:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(94434),s=t(29747),i=t(25836),n=1e-6,e=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),l=new i(1,0,0),a=new i(0,1,0),h=new i,f=new v,u=new o({initialize:function(m,x,S,T){this.onChangeCallback=s,this.set(m,x,S,T)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,m,x,S,T){return T===void 0&&(T=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=m||0,this._z=x||0,this._w=S||0),T&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,m=this.y,x=this.z,S=this.w;return Math.sqrt(d*d+m*m+x*x+S*S)},lengthSq:function(){var d=this.x,m=this.y,x=this.z,S=this.w;return d*d+m*m+x*x+S*S},normalize:function(){var d=this.x,m=this.y,x=this.z,S=this.w,T=d*d+m*m+x*x+S*S;return T>0&&(T=1/Math.sqrt(T),this._x=d*T,this._y=m*T,this._z=x*T,this._w=S*T),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,m){m===void 0&&(m=0);var x=this.x,S=this.y,T=this.z,C=this.w;return this.set(x+m*(d.x-x),S+m*(d.y-S),T+m*(d.z-T),C+m*(d.w-C))},rotationTo:function(d,m){var x=d.x*m.x+d.y*m.y+d.z*m.z;return x<-.999999?(h.copy(l).cross(d).length()<n&&h.copy(a).cross(d),h.normalize(),this.setAxisAngle(h,Math.PI)):x>.999999?this.set(0,0,0,1):(h.copy(d).cross(m),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+x,this.normalize())},setAxes:function(d,m,x){var S=f.val;return S[0]=m.x,S[3]=m.y,S[6]=m.z,S[1]=x.x,S[4]=x.y,S[7]=x.z,S[2]=-d.x,S[5]=-d.y,S[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,m){m=m*.5;var x=Math.sin(m);return this.set(x*d.x,x*d.y,x*d.z,Math.cos(m))},multiply:function(d){var m=this.x,x=this.y,S=this.z,T=this.w,C=d.x,A=d.y,w=d.z,P=d.w;return this.set(m*P+T*C+x*w-S*A,x*P+T*A+S*C-m*w,S*P+T*w+m*A-x*C,T*P-m*C-x*A-S*w)},slerp:function(d,m){var x=this.x,S=this.y,T=this.z,C=this.w,A=d.x,w=d.y,P=d.z,F=d.w,L=x*A+S*w+T*P+C*F;L<0&&(L=-L,A=-A,w=-w,P=-P,F=-F);var O=1-m,I=m;if(1-L>n){var B=Math.acos(L),U=Math.sin(B);O=Math.sin((1-m)*B)/U,I=Math.sin(m*B)/U}return this.set(O*x+I*A,O*S+I*w,O*T+I*P,O*C+I*F)},invert:function(){var d=this.x,m=this.y,x=this.z,S=this.w,T=d*d+m*m+x*x+S*S,C=T?1/T:0;return this.set(-d*C,-m*C,-x*C,S*C)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var m=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(m*A+T*C,x*A+S*C,S*A-x*C,T*A-m*C)},rotateY:function(d){d*=.5;var m=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(m*A-S*C,x*A+T*C,S*A+m*C,T*A-x*C)},rotateZ:function(d){d*=.5;var m=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(m*A+x*C,x*A-m*C,S*A+T*C,T*A-S*C)},calculateW:function(){var d=this.x,m=this.y,x=this.z;return this.w=-Math.sqrt(1-d*d-m*m-x*x),this},setFromEuler:function(d,m){var x=d.x/2,S=d.y/2,T=d.z/2,C=Math.cos(x),A=Math.cos(S),w=Math.cos(T),P=Math.sin(x),F=Math.sin(S),L=Math.sin(T);switch(d.order){case"XYZ":{this.set(P*A*w+C*F*L,C*F*w-P*A*L,C*A*L+P*F*w,C*A*w-P*F*L,m);break}case"YXZ":{this.set(P*A*w+C*F*L,C*F*w-P*A*L,C*A*L-P*F*w,C*A*w+P*F*L,m);break}case"ZXY":{this.set(P*A*w-C*F*L,C*F*w+P*A*L,C*A*L+P*F*w,C*A*w-P*F*L,m);break}case"ZYX":{this.set(P*A*w-C*F*L,C*F*w+P*A*L,C*A*L-P*F*w,C*A*w+P*F*L,m);break}case"YZX":{this.set(P*A*w+C*F*L,C*F*w+P*A*L,C*A*L-P*F*w,C*A*w-P*F*L,m);break}case"XZY":{this.set(P*A*w-C*F*L,C*F*w-P*A*L,C*A*L+P*F*w,C*A*w+P*F*L,m);break}}return this},setFromRotationMatrix:function(d){var m=d.val,x=m[0],S=m[4],T=m[8],C=m[1],A=m[5],w=m[9],P=m[2],F=m[6],L=m[10],O=x+A+L,I;return O>0?(I=.5/Math.sqrt(O+1),this.set((F-w)*I,(T-P)*I,(C-S)*I,.25/I)):x>A&&x>L?(I=2*Math.sqrt(1+x-A-L),this.set(.25*I,(S+C)/I,(T+P)/I,(F-w)/I)):A>L?(I=2*Math.sqrt(1+A-x-L),this.set((S+C)/I,.25*I,(w+F)/I,(T-P)/I)):(I=2*Math.sqrt(1+L-x-A),this.set((T+P)/I,(w+F)/I,.25*I,(C-S)/I)),this},fromMat3:function(d){var m=d.val,x=m[0]+m[4]+m[8],S;if(x>0)S=Math.sqrt(x+1),this.w=.5*S,S=.5/S,this._x=(m[7]-m[5])*S,this._y=(m[2]-m[6])*S,this._z=(m[3]-m[1])*S;else{var T=0;m[4]>m[0]&&(T=1),m[8]>m[T*3+T]&&(T=2);var C=e[T],A=e[C];S=Math.sqrt(m[T*3+T]-m[C*3+C]-m[A*3+A]+1),r[T]=.5*S,S=.5/S,r[C]=(m[C*3+T]+m[T*3+C])*S,r[A]=(m[A*3+T]+m[T*3+A])*S,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(m[A*3+C]-m[C*3+A])*S}return this.onChangeCallback(this),this}});c.exports=u},43396:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=function(s){return s*o.RAD_TO_DEG};c.exports=v},74362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*o,t.y=Math.sin(v)*o,t};c.exports=y},60706:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);var v=Math.random()*2*Math.PI,s=Math.random()*2-1,i=Math.sqrt(1-s*s)*o;return t.x=Math.cos(v)*i,t.y=Math.sin(v)*i,t.z=s*o,t};c.exports=y},67421:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1),t.x=(Math.random()*2-1)*o,t.y=(Math.random()*2-1)*o,t.z=(Math.random()*2-1)*o,t.w=(Math.random()*2-1)*o,t};c.exports=y},36305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.x,s=t.y;return t.x=v*Math.cos(o)-s*Math.sin(o),t.y=v*Math.sin(o)+s*Math.cos(o),t};c.exports=y},11520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=Math.cos(s),n=Math.sin(s),e=t.x-o,r=t.y-v;return t.x=e*i-r*n+o,t.y=e*n+r*i+v,t};c.exports=y},1163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i){var n=s+Math.atan2(t.y-v,t.x-o);return t.x=o+i*Math.cos(n),t.y=v+i*Math.sin(n),t};c.exports=y},70336:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i){return t.x=o+i*Math.cos(s),t.y=v+i*Math.sin(s),t};c.exports=y},72678:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),v=t(37867),s=t(15746),i=new v,n=new s,e=new o,r=function(l,a,h){return n.setAxisAngle(a,h),i.fromRotationTranslation(n,e.set(0,0,0)),l.transformMat4(i)};c.exports=r},2284:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0?Math.ceil(t):Math.floor(t)};c.exports=y},41013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var s=Math.pow(v,-o);return Math.round(t*s)/s};c.exports=y},16922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){o===void 0&&(o=1),v===void 0&&(v=1),s===void 0&&(s=1),s*=Math.PI/t;for(var i=[],n=[],e=0;e<t;e++)v-=o*s,o+=v*s,i[e]=v,n[e]=o;return{sin:n,cos:i,length:t}};c.exports=y},7602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t<=o?0:t>=v?1:(t=(t-o)/(v-o),t*t*(3-2*t))};c.exports=y},54261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t=Math.max(0,Math.min(1,(t-o)/(v-o))),t*t*t*(t*(t*6-15)+10)};c.exports=y},44408:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e){e===void 0&&(e=new o);var r=0,l=0,a=i*n;return s>0&&s<=a&&(s>i-1?(l=Math.floor(s/i),r=s-l*i):r=s),e.set(r,l)};c.exports=v},85955:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r,l,a,h){h===void 0&&(h=new o);var f=Math.sin(r),u=Math.cos(r),d=u*l,m=f*l,x=-f*a,S=u*a,T=1/(d*S+x*-m);return h.x=S*T*s+-x*T*i+(e*x-n*S)*T,h.y=d*T*i+-m*T*s+(-e*d+n*m)*T,h};c.exports=v},26099:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(43855),s=new o({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new s(this.x,this.y)},copy:function(i){return this.x=i.x||0,this.y=i.y||0,this},setFromObject:function(i){return this.x=i.x||0,this.y=i.y||0,this},set:function(i,n){return n===void 0&&(n=i),this.x=i,this.y=n,this},setTo:function(i,n){return this.set(i,n)},setToPolar:function(i,n){return n==null&&(n=1),this.x=Math.cos(i)*n,this.y=Math.sin(i)*n,this},equals:function(i){return this.x===i.x&&this.y===i.y},fuzzyEquals:function(i,n){return v(this.x,i.x,n)&&v(this.y,i.y,n)},angle:function(){var i=Math.atan2(this.y,this.x);return i<0&&(i+=2*Math.PI),i},setAngle:function(i){return this.setToPolar(i,this.length())},add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this},scale:function(i){return isFinite(i)?(this.x*=i,this.y*=i):(this.x=0,this.y=0),this},divide:function(i){return this.x/=i.x,this.y/=i.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(i){var n=i.x-this.x,e=i.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(i){var n=i.x-this.x,e=i.y-this.y;return n*n+e*e},length:function(){var i=this.x,n=this.y;return Math.sqrt(i*i+n*n)},setLength:function(i){return this.normalize().scale(i)},lengthSq:function(){var i=this.x,n=this.y;return i*i+n*n},normalize:function(){var i=this.x,n=this.y,e=i*i+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=i*e,this.y=n*e),this},normalizeRightHand:function(){var i=this.x;return this.x=this.y*-1,this.y=i,this},normalizeLeftHand:function(){var i=this.x;return this.x=this.y,this.y=i*-1,this},dot:function(i){return this.x*i.x+this.y*i.y},cross:function(i){return this.x*i.y-this.y*i.x},lerp:function(i,n){n===void 0&&(n=0);var e=this.x,r=this.y;return this.x=e+n*(i.x-e),this.y=r+n*(i.y-r),this},transformMat3:function(i){var n=this.x,e=this.y,r=i.val;return this.x=r[0]*n+r[3]*e+r[6],this.y=r[1]*n+r[4]*e+r[7],this},transformMat4:function(i){var n=this.x,e=this.y,r=i.val;return this.x=r[0]*n+r[4]*e+r[12],this.y=r[1]*n+r[5]*e+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(i){var n=this.length();return n&&n>i&&this.scale(i/n),this},reflect:function(i){return i=i.clone().normalize(),this.subtract(i.scale(2*this.dot(i)))},mirror:function(i){return this.reflect(i).negate()},rotate:function(i){var n=Math.cos(i),e=Math.sin(i);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(i){var n=this.dot(i)/i.dot(i);return this.copy(i).scale(n)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),c.exports=s},25836:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e){this.x=0,this.y=0,this.z=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this},max:function(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(s,i){return this.x=s.x+i.x,this.y=s.y+i.y,this.z=s.z+i.z,this},crossVectors:function(s,i){var n=s.x,e=s.y,r=s.z,l=i.x,a=i.y,h=i.z;return this.x=e*h-r*a,this.y=r*l-n*h,this.z=n*a-e*l,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this},set:function(s,i,n){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=i||0,this.z=n||0),this},setFromMatrixPosition:function(s){return this.fromArray(s.val,12)},setFromMatrixColumn:function(s,i){return this.fromArray(s.val,i*4)},fromArray:function(s,i){return i===void 0&&(i=0),this.x=s[i],this.y=s[i+1],this.z=s[i+2],this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addScale:function(s,i){return this.x+=s.x*i,this.y+=s.y*i,this.z+=s.z*i||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s,this.z*=s):(this.x=0,this.y=0,this.z=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(s){var i=s.x-this.x,n=s.y-this.y,e=s.z-this.z||0;return Math.sqrt(i*i+n*n+e*e)},distanceSq:function(s){var i=s.x-this.x,n=s.y-this.y,e=s.z-this.z||0;return i*i+n*n+e*e},length:function(){var s=this.x,i=this.y,n=this.z;return Math.sqrt(s*s+i*i+n*n)},lengthSq:function(){var s=this.x,i=this.y,n=this.z;return s*s+i*i+n*n},normalize:function(){var s=this.x,i=this.y,n=this.z,e=s*s+i*i+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=i*e,this.z=n*e),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},cross:function(s){var i=this.x,n=this.y,e=this.z,r=s.x,l=s.y,a=s.z;return this.x=n*a-e*l,this.y=e*r-i*a,this.z=i*l-n*r,this},lerp:function(s,i){i===void 0&&(i=0);var n=this.x,e=this.y,r=this.z;return this.x=n+i*(s.x-n),this.y=e+i*(s.y-e),this.z=r+i*(s.z-r),this},applyMatrix3:function(s){var i=this.x,n=this.y,e=this.z,r=s.val;return this.x=r[0]*i+r[3]*n+r[6]*e,this.y=r[1]*i+r[4]*n+r[7]*e,this.z=r[2]*i+r[5]*n+r[8]*e,this},applyMatrix4:function(s){var i=this.x,n=this.y,e=this.z,r=s.val,l=1/(r[3]*i+r[7]*n+r[11]*e+r[15]);return this.x=(r[0]*i+r[4]*n+r[8]*e+r[12])*l,this.y=(r[1]*i+r[5]*n+r[9]*e+r[13])*l,this.z=(r[2]*i+r[6]*n+r[10]*e+r[14])*l,this},transformMat3:function(s){var i=this.x,n=this.y,e=this.z,r=s.val;return this.x=i*r[0]+n*r[3]+e*r[6],this.y=i*r[1]+n*r[4]+e*r[7],this.z=i*r[2]+n*r[5]+e*r[8],this},transformMat4:function(s){var i=this.x,n=this.y,e=this.z,r=s.val;return this.x=r[0]*i+r[4]*n+r[8]*e+r[12],this.y=r[1]*i+r[5]*n+r[9]*e+r[13],this.z=r[2]*i+r[6]*n+r[10]*e+r[14],this},transformCoordinates:function(s){var i=this.x,n=this.y,e=this.z,r=s.val,l=i*r[0]+n*r[4]+e*r[8]+r[12],a=i*r[1]+n*r[5]+e*r[9]+r[13],h=i*r[2]+n*r[6]+e*r[10]+r[14],f=i*r[3]+n*r[7]+e*r[11]+r[15];return this.x=l/f,this.y=a/f,this.z=h/f,this},transformQuat:function(s){var i=this.x,n=this.y,e=this.z,r=s.x,l=s.y,a=s.z,h=s.w,f=h*i+l*e-a*n,u=h*n+a*i-r*e,d=h*e+r*n-l*i,m=-r*i-l*n-a*e;return this.x=f*h+m*-r+u*-a-d*-l,this.y=u*h+m*-l+d*-r-f*-a,this.z=d*h+m*-a+f*-l-u*-r,this},project:function(s){var i=this.x,n=this.y,e=this.z,r=s.val,l=r[0],a=r[1],h=r[2],f=r[3],u=r[4],d=r[5],m=r[6],x=r[7],S=r[8],T=r[9],C=r[10],A=r[11],w=r[12],P=r[13],F=r[14],L=r[15],O=1/(i*f+n*x+e*A+L);return this.x=(i*l+n*u+e*S+w)*O,this.y=(i*a+n*d+e*T+P)*O,this.z=(i*h+n*m+e*C+F)*O,this},projectViewMatrix:function(s,i){return this.applyMatrix4(s).applyMatrix4(i)},unprojectViewMatrix:function(s,i){return this.applyMatrix4(s).applyMatrix4(i)},unproject:function(s,i){var n=s.x,e=s.y,r=s.z,l=s.w,a=this.x-n,h=l-this.y-1-e,f=this.z;return this.x=2*a/r-1,this.y=2*h/l-1,this.z=2*f-1,this.project(i)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),c.exports=v},61369:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=n||0,this.z=e||0,this.w=r||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this.w=s.w||0,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z&&this.w===s.w},set:function(s,i,n,e){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=i||0,this.z=n||0,this.w=e||0),this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this.w+=s.w||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this.w-=s.w||0,this},scale:function(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this},length:function(){var s=this.x,i=this.y,n=this.z,e=this.w;return Math.sqrt(s*s+i*i+n*n+e*e)},lengthSq:function(){var s=this.x,i=this.y,n=this.z,e=this.w;return s*s+i*i+n*n+e*e},normalize:function(){var s=this.x,i=this.y,n=this.z,e=this.w,r=s*s+i*i+n*n+e*e;return r>0&&(r=1/Math.sqrt(r),this.x=s*r,this.y=i*r,this.z=n*r,this.w=e*r),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w},lerp:function(s,i){i===void 0&&(i=0);var n=this.x,e=this.y,r=this.z,l=this.w;return this.x=n+i*(s.x-n),this.y=e+i*(s.y-e),this.z=r+i*(s.z-r),this.w=l+i*(s.w-l),this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this.w*=s.w||1,this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this.w/=s.w||1,this},distance:function(s){var i=s.x-this.x,n=s.y-this.y,e=s.z-this.z||0,r=s.w-this.w||0;return Math.sqrt(i*i+n*n+e*e+r*r)},distanceSq:function(s){var i=s.x-this.x,n=s.y-this.y,e=s.z-this.z||0,r=s.w-this.w||0;return i*i+n*n+e*e+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(s){var i=this.x,n=this.y,e=this.z,r=this.w,l=s.val;return this.x=l[0]*i+l[4]*n+l[8]*e+l[12]*r,this.y=l[1]*i+l[5]*n+l[9]*e+l[13]*r,this.z=l[2]*i+l[6]*n+l[10]*e+l[14]*r,this.w=l[3]*i+l[7]*n+l[11]*e+l[15]*r,this},transformQuat:function(s){var i=this.x,n=this.y,e=this.z,r=s.x,l=s.y,a=s.z,h=s.w,f=h*i+l*e-a*n,u=h*n+a*i-r*e,d=h*e+r*n-l*i,m=-r*i-l*n-a*e;return this.x=f*h+m*-r+u*-a-d*-l,this.y=u*h+m*-l+d*-r-f*-a,this.z=d*h+m*-a+f*-l-u*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,c.exports=v},60417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return Math.abs(t-o)<=v};c.exports=y},15994:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=v-o;return o+((t-o)%s+s)%s};c.exports=y},31040:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){return Math.atan2(s-o,v-t)};c.exports=y},55495:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)};c.exports=y},128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.atan2(o.x-t.x,o.y-t.y)};c.exports=y},41273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){return Math.atan2(v-t,s-o)};c.exports=y},1432:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=function(s){return s>Math.PI&&(s-=o.PI2),Math.abs(((s+o.TAU)%o.PI2-o.PI2)%o.PI2)};c.exports=v},12407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};c.exports=y},53993:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),v=function(){return o(-Math.PI,Math.PI)};c.exports=v},86564:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),v=function(){return o(-180,180)};c.exports=v},90154:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(12407),v=function(s){return o(s+Math.PI)};c.exports=v},48736:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=function(s,i,n){return n===void 0&&(n=.05),s===i||(Math.abs(i-s)<=n||Math.abs(i-s)>=o.PI2-n?s=i:(Math.abs(i-s)>Math.PI&&(i<s?i+=o.PI2:i-=o.PI2),i>s?s+=n:i<s&&(s-=n))),s};c.exports=v},61430:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=o-t;if(v===0)return 0;var s=Math.floor((v- -180)/360);return v-s*360};c.exports=y},86554:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),v=function(s){return o(s,-Math.PI,Math.PI)};c.exports=v},30954:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),v=function(s){return o(s,-180,180)};c.exports=v},25588:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=y},20339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=t-v,n=o-s;return Math.sqrt(i*i+n*n)};c.exports=y},52816:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.x-o.x,s=t.y-o.y;return Math.sqrt(v*v+s*s)};c.exports=y},64559:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.x-o.x,s=t.y-o.y;return v*v+s*s};c.exports=y},82340:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){return Math.max(Math.abs(t-v),Math.abs(o-s))};c.exports=y},14390:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i){return i===void 0&&(i=2),Math.sqrt(Math.pow(v-t,i)+Math.pow(s-o,i))};c.exports=y},2243:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){return Math.abs(t-v)+Math.abs(o-s)};c.exports=y},89774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=t-v,n=o-s;return i*i+n*n};c.exports=y},50994:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54178),v=t(41521),s=t(79980),i=t(85433),n=t(99140),e=t(48857),r=t(81596),l=t(59133),a=t(98516),h=t(35248),f=t(82500),u=t(49752);c.exports={Power0:r,Power1:l.Out,Power2:i.Out,Power3:a.Out,Power4:h.Out,Linear:r,Quad:l.Out,Cubic:i.Out,Quart:a.Out,Quint:h.Out,Sine:f.Out,Expo:e.Out,Circ:s.Out,Elastic:n.Out,Back:o.Out,Bounce:v.Out,Stepped:u,"Quad.easeIn":l.In,"Cubic.easeIn":i.In,"Quart.easeIn":a.In,"Quint.easeIn":h.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":s.In,"Elastic.easeIn":n.In,"Back.easeIn":o.In,"Bounce.easeIn":v.In,"Quad.easeOut":l.Out,"Cubic.easeOut":i.Out,"Quart.easeOut":a.Out,"Quint.easeOut":h.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":n.Out,"Back.easeOut":o.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":i.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":v.InOut}},1639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1.70158),t*t*((o+1)*t-o)};c.exports=y},50099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1.70158);var v=o*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};c.exports=y},41286:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1.70158),--t*t*((o+1)*t+o)+1};c.exports=y},54178:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};c.exports=y},41788:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=!1;return t<.5?(t=1-t*2,o=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,o?(1-t)*.5:t*.5+.5};c.exports=y},69905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};c.exports=y},41521:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.sqrt(1-t*t)};c.exports=y},4177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};c.exports=y},57512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(1- --t*t)};c.exports=y},79980:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t};c.exports=y},82820:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};c.exports=y},35033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t+1};c.exports=y},85433:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var s=v/4;return o<1?o=1:s=v*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/v))};c.exports=y},50665:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var s=v/4;return o<1?o=1:s=v*Math.asin(1/o)/(2*Math.PI),(t*=2)<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/v)):o*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/v)*.5+1};c.exports=y},7744:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var s=v/4;return o<1?o=1:s=v*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/v)+1};c.exports=y},99140:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.pow(2,10*(t-1))-.001};c.exports=y},87844:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};c.exports=y},89433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.pow(2,-10*t)};c.exports=y},48857:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t};c.exports=y},81596:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(7147)},34826:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t};c.exports=y},20544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};c.exports=y},92029:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*(2-t)};c.exports=y},59133:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t};c.exports=y},78137:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};c.exports=y},45840:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1- --t*t*t*t};c.exports=y},98516:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t*t};c.exports=y},16509:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};c.exports=y},17868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t*t*t+1};c.exports=y},35248:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};c.exports=y},34025:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};c.exports=y},52768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};c.exports=y},82500:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1),t<=0?0:t>=1?1:((o*t|0)+1)*(1/o)};c.exports=y},49752:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(72251)},75698:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1e-4),Math.ceil(t-o)};c.exports=y},43855:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return v===void 0&&(v=1e-4),Math.abs(t-o)<v};c.exports=y},25777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1e-4),Math.floor(t+o)};c.exports=y},5470:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return v===void 0&&(v=1e-4),t>o-v};c.exports=y},94977:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return v===void 0&&(v=1e-4),t<o+v};c.exports=y},48379:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(79291),s={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};s=v(!1,s,o),c.exports=s},89318:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85710),v=function(s,i){for(var n=0,e=s.length-1,r=0;r<=e;r++)n+=Math.pow(1-i,e-r)*Math.pow(i,r)*s[r]*o(e,r);return n};c.exports=v},77259:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),v=function(s,i){var n=s.length-1,e=n*i,r=Math.floor(e);return s[0]===s[n]?(i<0&&(r=Math.floor(e=n*(1+i))),o(e-r,s[(r-1+n)%n],s[r],s[(r+1)%n],s[(r+2)%n])):i<0?s[0]-(o(-e,s[0],s[0],s[1],s[1])-s[0]):i>1?s[n]-(o(e-n,s[n],s[n],s[n-1],s[n-1])-s[n]):o(e-r,s[r?r-1:0],s[r],s[n<r+1?n:r+1],s[n<r+2?n:r+2])};c.exports=v},36316:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(i,n){var e=1-i;return e*e*e*n}function t(i,n){var e=1-i;return 3*e*e*i*n}function o(i,n){return 3*(1-i)*i*i*n}function v(i,n){return i*i*i*n}var s=function(i,n,e,r,l){return y(i,n)+t(i,e)+o(i,r)+v(i,l)};c.exports=s},28392:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),v=function(s,i){var n=s.length-1,e=n*i,r=Math.floor(e);return i<0?o(s[0],s[1],e):i>1?o(s[n],s[n-1],n-e):o(s[r],s[r+1>n?n:r+1],e-r)};c.exports=v},32112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(s,i){var n=1-s;return n*n*i}function t(s,i){return 2*(1-s)*s*i}function o(s,i){return s*s*i}var v=function(s,i,n,e){return y(s,i)+t(s,n)+o(s,e)};c.exports=v},47235:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),v=function(s,i,n){return i+(n-i)*o(s,0,1)};c.exports=v},50178:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),v=function(s,i,n){return i+(n-i)*o(s,0,1)};c.exports=v},38289:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=Math.log(t)/.6931471805599453;return 1<<Math.ceil(o)};c.exports=y},50030:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t>0&&(t&t-1)===0&&o>0&&(o&o-1)===0};c.exports=y},81230:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0&&(t&t-1)===0};c.exports=y},49001:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){i===void 0&&(i=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],i&&this.init(i)},rnd:function(){var s=2091639*this.s0+this.c*23283064365386963e-26;return this.c=s|0,this.s0=this.s1,this.s1=this.s2,this.s2=s-this.c,this.s2},hash:function(s){var i,n=this.n;s=s.toString();for(var e=0;e<s.length;e++)n+=s.charCodeAt(e),i=.02519603282416938*n,n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(s){typeof s=="string"?this.state(s):this.sow(s)},sow:function(s){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!s)for(var i=0;i<s.length&&s[i]!=null;i++){var n=s[i];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(s,i){return Math.floor(this.realInRange(0,i-s+1)+s)},between:function(s,i){return Math.floor(this.realInRange(0,i-s+1)+s)},realInRange:function(s,i){return this.frac()*(i-s)+s},normal:function(){return 1-2*this.frac()},uuid:function(){var s="",i="";for(i=s="";s++<36;i+=~s%5|s*3&4?(s^15?8^this.frac()*(s^20?16:4):4).toString(16):"-");return i},pick:function(s){return s[this.integerInRange(0,s.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(s){return s[~~(Math.pow(this.frac(),2)*(s.length-.5)+.5)]},timestamp:function(s,i){return this.realInRange(s||9466848e5,i||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(s){return typeof s=="string"&&s.match(/^!rnd/)&&(s=s.split(","),this.c=parseFloat(s[1]),this.s0=parseFloat(s[2]),this.s1=parseFloat(s[3]),this.s2=parseFloat(s[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(s){for(var i=s.length-1,n=i;n>0;n--){var e=Math.floor(this.frac()*(n+1)),r=s[e];s[e]=s[n],s[n]=r}return s}});c.exports=v},63448:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.ceil(t/o),s?(v+t)/o:v+t)};c.exports=y},56583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.floor(t/o),s?(v+t)/o:v+t)};c.exports=y},77720:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.round(t/o),s?(v+t)/o:v+t)};c.exports=y},73697:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var o=t(8054),v=t(79291),s={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};s.Sound=t(23717),s=v(!1,s,o),c.exports=s,t.g.Phaser=s},71289:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92209),s=t(88571),i=new o({Extends:s,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,r,l,a,h){s.call(this,e,r,l,a,h),this.body=null}});c.exports=i},86689:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(39506),s=t(20339),i=t(89774),n=t(66022),e=t(95540),r=t(46975),l=t(72441),a=t(47956),h=t(37277),f=t(44594),u=t(26099),d=t(82248),m=new o({initialize:function(S){this.scene=S,this.systems=S.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,S.sys.events.once(f.BOOT,this.boot,this),S.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new n(this.world));var x=this.systems.events;e(this.config,"customUpdate",!1)||x.on(f.UPDATE,this.world.update,this.world),x.on(f.POST_UPDATE,this.world.postUpdate,this.world),x.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var x=this.systems.game.config.physics,S=this.systems.settings.physics,T=r(e(S,"arcade",{}),e(x,"arcade",{}));return T},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(x,S,T,C,A){return T===void 0&&(T=null),C===void 0&&(C=null),A===void 0&&(A=T),this.world.collideObjects(x,S,T,C,A,!0)},collide:function(x,S,T,C,A){return T===void 0&&(T=null),C===void 0&&(C=null),A===void 0&&(A=T),this.world.collideObjects(x,S,T,C,A,!1)},collideTiles:function(x,S,T,C,A){return this.world.collideTiles(x,S,T,C,A)},overlapTiles:function(x,S,T,C,A){return this.world.overlapTiles(x,S,T,C,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(x,S,T,C,A,w){C===void 0&&(C=60);var P=Math.atan2(T-x.y,S-x.x);return x.body.acceleration.setToPolar(P,C),A!==void 0&&w!==void 0&&x.body.maxVelocity.set(A,w),P},accelerateToObject:function(x,S,T,C,A){return this.accelerateTo(x,S.x,S.y,T,C,A)},closest:function(x,S){S||(S=this.world.bodies.entries);for(var T=Number.MAX_VALUE,C=null,A=x.x,w=x.y,P=S.length,F=0;F<P;F++){var L=S[F],O=L.body||L;if(!(x===L||x===O||x===O.gameObject||x===O.center)){var I=i(A,w,O.center.x,O.center.y);I<T&&(C=L,T=I)}}return C},furthest:function(x,S){S||(S=this.world.bodies.entries);for(var T=-1,C=null,A=x.x,w=x.y,P=S.length,F=0;F<P;F++){var L=S[F],O=L.body||L;if(!(x===L||x===O||x===O.gameObject||x===O.center)){var I=i(A,w,O.center.x,O.center.y);I>T&&(C=L,T=I)}}return C},moveTo:function(x,S,T,C,A){C===void 0&&(C=60),A===void 0&&(A=0);var w=Math.atan2(T-x.y,S-x.x);return A>0&&(C=s(x.x,x.y,S,T)/(A/1e3)),x.body.velocity.setToPolar(w,C),w},moveToObject:function(x,S,T,C){return this.moveTo(x,S.x,S.y,T,C)},velocityFromAngle:function(x,S,T){return S===void 0&&(S=60),T===void 0&&(T=new u),T.setToPolar(v(x),S)},velocityFromRotation:function(x,S,T){return S===void 0&&(S=60),T===void 0&&(T=new u),T.setToPolar(x,S)},overlapRect:function(x,S,T,C,A,w){return a(this.world,x,S,T,C,A,w)},overlapCirc:function(x,S,T,C,A){return l(this.world,x,S,T,C,A)},shutdown:function(){if(this.world){var x=this.systems.events;x.off(f.UPDATE,this.world.update,this.world),x.off(f.POST_UPDATE,this.world.postUpdate,this.world),x.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",m,"arcadePhysics"),c.exports=m},13759:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92209),s=t(68287),i=new o({Extends:s,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,r,l,a,h){s.call(this,e,r,l,a,h),this.body=null}});c.exports=i},37742:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(78389),s=t(37747),i=t(63012),n=t(43396),e=t(87841),r=t(37303),l=t(95829),a=t(26099),h=new o({Mixins:[v],initialize:function(u,d){var m=64,x=64,S={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=d!==void 0;T&&d.displayWidth&&(m=d.displayWidth,x=d.displayHeight),T||(d=S),this.world=u,this.gameObject=T?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=u.defaults.debugShowBody,this.debugShowVelocity=u.defaults.debugShowVelocity,this.debugBodyColor=u.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=m,this.height=x,this.sourceWidth=m,this.sourceHeight=x,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(x/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new a,this.newVelocity=new a,this.deltaMax=new a,this.acceleration=new a,this.allowDrag=!0,this.drag=new a,this.allowGravity=!0,this.gravity=new a,this.bounce=new a,this.worldBounce=null,this.customBoundsRectangle=u.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a(1e4,1e4),this.maxSpeed=-1,this.friction=new a(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=s.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new a(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,u=this.transform;if(f.parentContainer){var d=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);u.x=d.tx,u.y=d.ty,u.rotation=n(d.rotation),u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.displayOriginX=f.displayOriginX,u.displayOriginY=f.displayOriginY}else u.x=f.x,u.y=f.y,u.rotation=f.angle,u.scaleX=f.scaleX,u.scaleY=f.scaleY,u.displayOriginX=f.displayOriginX,u.displayOriginY=f.displayOriginY;var m=!1;if(this.syncBounds){var x=f.getBounds(this._bounds);this.width=x.width,this.height=x.height,m=!0}else{var S=Math.abs(u.scaleX),T=Math.abs(u.scaleY);(this._sx!==S||this._sy!==T)&&(this.width=this.sourceWidth*S,this.height=this.sourceHeight*T,this._sx=S,this._sy=T,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var u=this.wasTouching,d=this.touching,m=this.blocked;f?l(!0,u):(u.none=d.none,u.up=d.up,u.down=d.down,u.left=d.left,u.right=d.right),l(!0,d),l(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,u){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}f&&this.update(u)},update:function(f){var u=this.prev,d=this.position,m=this.velocity;if(u.set(d.x,d.y),!this.moves){this._dx=d.x-u.x,this._dy=d.y-u.y;return}if(this.directControl){var x=this.autoFrame;m.set((d.x-x.x)/f,(d.y-x.y)/f),this.world.updateMotion(this,f),this._dx=d.x-x.x,this._dy=d.y-x.y}else this.world.updateMotion(this,f),this.newVelocity.set(m.x*f,m.y*f),d.add(this.newVelocity),this._dx=d.x-u.x,this._dy=d.y-u.y;var S=m.x,T=m.y;if(this.updateCenter(),this.angle=Math.atan2(T,S),this.speed=Math.sqrt(S*S+T*T),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var C=this.blocked;this.world.emit(i.WORLD_BOUNDS,this,C.up,C.down,C.left,C.right)}},postUpdate:function(){var f=this.position,u=f.x-this.prevFrame.x,d=f.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var x=this.deltaMax.x,S=this.deltaMax.y;x!==0&&u!==0&&(u<0&&u<-x?u=-x:u>0&&u>x&&(u=x)),S!==0&&d!==0&&(d<0&&d<-S?d=-S:d>0&&d>S&&(d=S)),m&&(m.x+=u,m.y+=d)}u<0?this.facing=s.FACING_LEFT:u>0&&(this.facing=s.FACING_RIGHT),d<0?this.facing=s.FACING_UP:d>0&&(this.facing=s.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=u,this._ty=d,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,u=this.velocity,d=this.blocked,m=this.customBoundsRectangle,x=this.world.checkCollision,S=this.worldBounce?-this.worldBounce.x:-this.bounce.x,T=this.worldBounce?-this.worldBounce.y:-this.bounce.y,C=!1;return f.x<m.x&&x.left?(f.x=m.x,u.x*=S,d.left=!0,C=!0):this.right>m.right&&x.right&&(f.x=m.right-this.width,u.x*=S,d.right=!0,C=!0),f.y<m.y&&x.up?(f.y=m.y,u.y*=T,d.up=!0,C=!0):this.bottom>m.bottom&&x.down&&(f.y=m.bottom-this.height,u.y*=T,d.down=!0,C=!0),C&&(this.blocked.none=!1,this.updateCenter()),C},setOffset:function(f,u){return u===void 0&&(u=f),this.offset.set(f,u),this},setGameObject:function(f,u){return u===void 0&&(u=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=f,f.body&&(f.body=this),this.setSize(),this.world.add(this),this.enable=u,this},setSize:function(f,u,d){d===void 0&&(d=!0);var m=this.gameObject;if(m&&(!f&&m.frame&&(f=m.frame.realWidth),!u&&m.frame&&(u=m.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=u,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&m&&m.getCenter){var x=(m.width-f)/2,S=(m.height-u)/2;this.offset.set(x,S)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,u,d){return u===void 0&&(u=this.offset.x),d===void 0&&(d=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,d),this.updateCenter()):this.isCircle=!1,this},reset:function(f,u){this.stop();var d=this.gameObject;d&&(d.setPosition(f,u),this.rotation=d.angle,this.preRotation=d.angle);var m=this.position;d&&d.getTopLeft?d.getTopLeft(m):m.set(f,u),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,u){if(!this.isCircle)return r(this,f,u);if(this.radius>0&&f>=this.left&&f<=this.right&&u>=this.top&&u<=this.bottom){var d=(this.center.x-f)*(this.center.x-f),m=(this.center.y-u)*(this.center.y-u);return d+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var u=this.position,d=u.x+this.halfWidth,m=u.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(d,m,this.width/2):(this.checkCollision.up&&f.lineBetween(u.x,u.y,u.x+this.width,u.y),this.checkCollision.right&&f.lineBetween(u.x+this.width,u.y,u.x+this.width,u.y+this.height),this.checkCollision.down&&f.lineBetween(u.x,u.y+this.height,u.x+this.width,u.y+this.height),this.checkCollision.left&&f.lineBetween(u.x,u.y,u.x,u.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(d,m,d+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,u,d,m){f===void 0&&(f=!0),this.collideWorldBounds=f;var x=u!==void 0,S=d!==void 0;return(x||S)&&(this.worldBounce||(this.worldBounce=new a),x&&(this.worldBounce.x=u),S&&(this.worldBounce.y=d)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(f,u){return this.velocity.set(f,u),f=this.velocity.x,u=this.velocity.y,this.speed=Math.sqrt(f*f+u*u),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,u){return this.maxVelocity.set(f,u),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,u){return this.slideFactor.set(f,u),this},setBounce:function(f,u){return this.bounce.set(f,u),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,u){return this.acceleration.set(f,u),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,u){return this.drag.set(f,u),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,u){return this.gravity.set(f,u),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,u){return this.friction.set(f,u),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,u,d,m){this.x+=f,this.updateCenter(),u!==null&&(this.velocity.x=u*this.slideFactor.x);var x=this.blocked;d&&(x.left=!0,x.none=!1),m&&(x.right=!0,x.none=!1)},processY:function(f,u,d,m){this.y+=f,this.updateCenter(),u!==null&&(this.velocity.y=u*this.slideFactor.y);var x=this.blocked;d&&(x.up=!0,x.none=!1),m&&(x.down=!0,x.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=h},79342:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e,r,l,a,h){this.world=i,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=r,this.collideCallback=l,this.processCallback=a,this.callbackContext=h},setName:function(s){return this.name=s,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=v},66022:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71289),v=t(13759),s=t(37742),i=t(83419),n=t(37747),e=t(60758),r=t(72624),l=t(71464),a=new i({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(h,f,u,d,m){return this.world.addCollider(h,f,u,d,m)},overlap:function(h,f,u,d,m){return this.world.addOverlap(h,f,u,d,m)},existing:function(h,f){var u=f?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(h,u),h},staticImage:function(h,f,u,d){var m=new o(this.scene,h,f,u,d);return this.sys.displayList.add(m),this.world.enableBody(m,n.STATIC_BODY),m},image:function(h,f,u,d){var m=new o(this.scene,h,f,u,d);return this.sys.displayList.add(m),this.world.enableBody(m,n.DYNAMIC_BODY),m},staticSprite:function(h,f,u,d){var m=new v(this.scene,h,f,u,d);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,n.STATIC_BODY),m},sprite:function(h,f,u,d){var m=new v(this.scene,h,f,u,d);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,n.DYNAMIC_BODY),m},staticGroup:function(h,f){return this.sys.updateList.add(new l(this.world,this.world.scene,h,f))},group:function(h,f){return this.sys.updateList.add(new e(this.world,this.world.scene,h,f))},body:function(h,f,u,d){var m=new s(this.world);return m.position.set(h,f),u&&d&&m.setSize(u,d),this.world.add(m,n.DYNAMIC_BODY),m},staticBody:function(h,f,u,d){var m=new r(this.world);return m.position.set(h,f),u&&d&&m.setSize(u,d),this.world.add(m,n.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=a},79599:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=0;if(!Array.isArray(t))o=t;else for(var v=0;v<t.length;v++)o|=t[v];return o};c.exports=y},64897:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),v=function(s,i,n,e){var r=0,l=s.deltaAbsX()+i.deltaAbsX()+e;return s._dx===0&&i._dx===0?(s.embedded=!0,i.embedded=!0):s._dx>i._dx?(r=s.right-i.x,r>l&&!n||s.checkCollision.right===!1||i.checkCollision.left===!1?r=0:(s.touching.none=!1,s.touching.right=!0,i.touching.none=!1,i.touching.left=!0,i.physicsType===o.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.right=!0),s.physicsType===o.STATIC_BODY&&!n&&(i.blocked.none=!1,i.blocked.left=!0))):s._dx<i._dx&&(r=s.x-i.width-i.x,-r>l&&!n||s.checkCollision.left===!1||i.checkCollision.right===!1?r=0:(s.touching.none=!1,s.touching.left=!0,i.touching.none=!1,i.touching.right=!0,i.physicsType===o.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.left=!0),s.physicsType===o.STATIC_BODY&&!n&&(i.blocked.none=!1,i.blocked.right=!0))),s.overlapX=r,i.overlapX=r,r};c.exports=v},45170:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),v=function(s,i,n,e){var r=0,l=s.deltaAbsY()+i.deltaAbsY()+e;return s._dy===0&&i._dy===0?(s.embedded=!0,i.embedded=!0):s._dy>i._dy?(r=s.bottom-i.y,r>l&&!n||s.checkCollision.down===!1||i.checkCollision.up===!1?r=0:(s.touching.none=!1,s.touching.down=!0,i.touching.none=!1,i.touching.up=!0,i.physicsType===o.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.down=!0),s.physicsType===o.STATIC_BODY&&!n&&(i.blocked.none=!1,i.blocked.up=!0))):s._dy<i._dy&&(r=s.y-i.bottom,-r>l&&!n||s.checkCollision.up===!1||i.checkCollision.down===!1?r=0:(s.touching.none=!1,s.touching.up=!0,i.touching.none=!1,i.touching.down=!0,i.physicsType===o.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.up=!0),s.physicsType===o.STATIC_BODY&&!n&&(i.blocked.none=!1,i.blocked.down=!0))),s.overlapY=r,i.overlapY=r,r};c.exports=v},60758:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),v=t(83419),s=t(78389),i=t(37747),n=t(95540),e=t(26479),r=t(41212),l=new v({Extends:e,Mixins:[s],initialize:function(h,f,u,d){if(!u&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(r(u))d=u,u=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(u)&&r(u[0])){var m=this;u.forEach(function(x){x.internalCreateCallback=m.createCallbackHandler,x.internalRemoveCallback=m.removeCallbackHandler,x.classType=n(x,"classType",o)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,d&&(d.classType=n(d,"classType",o)),this.physicsType=i.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:n(d,"collideWorldBounds",!1),setBoundsRectangle:n(d,"customBoundsRectangle",null),setAccelerationX:n(d,"accelerationX",0),setAccelerationY:n(d,"accelerationY",0),setAllowDrag:n(d,"allowDrag",!0),setAllowGravity:n(d,"allowGravity",!0),setAllowRotation:n(d,"allowRotation",!0),setDamping:n(d,"useDamping",!1),setBounceX:n(d,"bounceX",0),setBounceY:n(d,"bounceY",0),setDragX:n(d,"dragX",0),setDragY:n(d,"dragY",0),setEnable:n(d,"enable",!0),setGravityX:n(d,"gravityX",0),setGravityY:n(d,"gravityY",0),setFrictionX:n(d,"frictionX",0),setFrictionY:n(d,"frictionY",0),setMaxSpeed:n(d,"maxSpeed",-1),setMaxVelocityX:n(d,"maxVelocityX",1e4),setMaxVelocityY:n(d,"maxVelocityY",1e4),setVelocityX:n(d,"velocityX",0),setVelocityY:n(d,"velocityY",0),setAngularVelocity:n(d,"angularVelocity",0),setAngularAcceleration:n(d,"angularAcceleration",0),setAngularDrag:n(d,"angularDrag",0),setMass:n(d,"mass",1),setImmovable:n(d,"immovable",!1)},e.call(this,f,u,d),this.type="PhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,i.DYNAMIC_BODY);var h=a.body;for(var f in this.defaults)h[f](this.defaults[f])},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},setVelocity:function(a,h,f){f===void 0&&(f=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.set(a+d*f,h+d*f);return this},setVelocityX:function(a,h){h===void 0&&(h=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.x=a+u*h;return this},setVelocityY:function(a,h){h===void 0&&(h=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.y=a+u*h;return this}});c.exports=l},3017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,o,v,s,i,n,e,r,l,a,h,f,u,d,m,x,S=function(F,L,O){y=F,t=L;var I=y.velocity.x,B=t.velocity.x;return o=y.pushable,r=y._dx<0,l=y._dx>0,a=y._dx===0,d=Math.abs(y.right-t.x)<=Math.abs(t.right-y.x),n=B-I*y.bounce.x,v=t.pushable,h=t._dx<0,f=t._dx>0,u=t._dx===0,m=!d,e=I-B*t.bounce.x,x=Math.abs(O),T()},T=function(){return l&&d&&t.blocked.right?(y.processX(-x,n,!1,!0),1):r&&m&&t.blocked.left?(y.processX(x,n,!0),1):f&&m&&y.blocked.right?(t.processX(-x,e,!1,!0),2):h&&d&&y.blocked.left?(t.processX(x,e,!0),2):0},C=function(){var F=y.velocity.x,L=t.velocity.x,O=Math.sqrt(L*L*t.mass/y.mass)*(L>0?1:-1),I=Math.sqrt(F*F*y.mass/t.mass)*(F>0?1:-1),B=(O+I)*.5;return O-=B,I-=B,s=B+O*y.bounce.x,i=B+I*t.bounce.x,r&&m?A(0):h&&d?A(1):l&&d?A(2):f&&m?A(3):!1},A=function(F){if(o&&v)x*=.5,F===0||F===3?(y.processX(x,s),t.processX(-x,i)):(y.processX(-x,s),t.processX(x,i));else if(o&&!v)F===0||F===3?y.processX(x,n,!0):y.processX(-x,n,!1,!0);else if(!o&&v)F===0||F===3?t.processX(-x,e,!1,!0):t.processX(x,e,!0);else{var L=x*.5;F===0?u?(y.processX(x,0,!0),t.processX(0,null,!1,!0)):f?(y.processX(L,0,!0),t.processX(-L,0,!1,!0)):(y.processX(L,t.velocity.x,!0),t.processX(-L,null,!1,!0)):F===1?a?(y.processX(0,null,!1,!0),t.processX(x,0,!0)):l?(y.processX(-L,0,!1,!0),t.processX(L,0,!0)):(y.processX(-L,null,!1,!0),t.processX(L,y.velocity.x,!0)):F===2?u?(y.processX(-x,0,!1,!0),t.processX(0,null,!0)):h?(y.processX(-L,0,!1,!0),t.processX(L,0,!0)):(y.processX(-L,t.velocity.x,!1,!0),t.processX(L,null,!0)):F===3&&(a?(y.processX(0,null,!0),t.processX(-x,0,!1,!0)):r?(y.processX(L,0,!0),t.processX(-L,0,!1,!0)):(y.processX(L,t.velocity.y,!0),t.processX(-L,null,!1,!0)))}return!0},w=function(F){F===1?t.velocity.x=0:d?t.processX(x,e,!0):t.processX(-x,e,!1,!0),y.moves&&(t.y+=(y.y-y.prev.y)*y.friction.y,t._dy=t.y-t.prev.y)},P=function(F){F===2?y.velocity.x=0:m?y.processX(x,n,!0):y.processX(-x,n,!1,!0),t.moves&&(y.y+=(t.y-t.prev.y)*t.friction.y,y._dy=y.y-y.prev.y)};c.exports={BlockCheck:T,Check:C,Set:S,Run:A,RunImmovableBody1:w,RunImmovableBody2:P}},47962:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,o,v,s,i,n,e,r,l,a,h,f,u,d,m,x,S=function(F,L,O){y=F,t=L;var I=y.velocity.y,B=t.velocity.y;return o=y.pushable,r=y._dy<0,l=y._dy>0,a=y._dy===0,d=Math.abs(y.bottom-t.y)<=Math.abs(t.bottom-y.y),n=B-I*y.bounce.y,v=t.pushable,h=t._dy<0,f=t._dy>0,u=t._dy===0,m=!d,e=I-B*t.bounce.y,x=Math.abs(O),T()},T=function(){return l&&d&&t.blocked.down?(y.processY(-x,n,!1,!0),1):r&&m&&t.blocked.up?(y.processY(x,n,!0),1):f&&m&&y.blocked.down?(t.processY(-x,e,!1,!0),2):h&&d&&y.blocked.up?(t.processY(x,e,!0),2):0},C=function(){var F=y.velocity.y,L=t.velocity.y,O=Math.sqrt(L*L*t.mass/y.mass)*(L>0?1:-1),I=Math.sqrt(F*F*y.mass/t.mass)*(F>0?1:-1),B=(O+I)*.5;return O-=B,I-=B,s=B+O*y.bounce.y,i=B+I*t.bounce.y,r&&m?A(0):h&&d?A(1):l&&d?A(2):f&&m?A(3):!1},A=function(F){if(o&&v)x*=.5,F===0||F===3?(y.processY(x,s),t.processY(-x,i)):(y.processY(-x,s),t.processY(x,i));else if(o&&!v)F===0||F===3?y.processY(x,n,!0):y.processY(-x,n,!1,!0);else if(!o&&v)F===0||F===3?t.processY(-x,e,!1,!0):t.processY(x,e,!0);else{var L=x*.5;F===0?u?(y.processY(x,0,!0),t.processY(0,null,!1,!0)):f?(y.processY(L,0,!0),t.processY(-L,0,!1,!0)):(y.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)):F===1?a?(y.processY(0,null,!1,!0),t.processY(x,0,!0)):l?(y.processY(-L,0,!1,!0),t.processY(L,0,!0)):(y.processY(-L,null,!1,!0),t.processY(L,y.velocity.y,!0)):F===2?u?(y.processY(-x,0,!1,!0),t.processY(0,null,!0)):h?(y.processY(-L,0,!1,!0),t.processY(L,0,!0)):(y.processY(-L,t.velocity.y,!1,!0),t.processY(L,null,!0)):F===3&&(a?(y.processY(0,null,!0),t.processY(-x,0,!1,!0)):r?(y.processY(L,0,!0),t.processY(-L,0,!1,!0)):(y.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)))}return!0},w=function(F){F===1?t.velocity.y=0:d?t.processY(x,e,!0):t.processY(-x,e,!1,!0),y.moves&&(t.x+=(y.x-y.prev.x)*y.friction.x,t._dx=t.x-t.prev.x)},P=function(F){F===2?y.velocity.y=0:m?y.processY(x,n,!0):y.processY(-x,n,!1,!0),t.moves&&(y.x+=(t.x-t.prev.x)*t.friction.x,y._dx=y.x-y.prev.x)};c.exports={BlockCheck:T,Check:C,Set:S,Run:A,RunImmovableBody1:w,RunImmovableBody2:P}},14087:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64897),v=t(3017),s=function(i,n,e,r,l){l===void 0&&(l=o(i,n,e,r));var a=i.immovable,h=n.immovable;if(e||l===0||a&&h||i.customSeparateX||n.customSeparateX)return l!==0||i.embedded&&n.embedded;var f=v.Set(i,n,l);return!a&&!h?f>0?!0:v.Check():(a?v.RunImmovableBody1(f):h&&v.RunImmovableBody2(f),!0)};c.exports=s},89936:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45170),v=t(47962),s=function(i,n,e,r,l){l===void 0&&(l=o(i,n,e,r));var a=i.immovable,h=n.immovable;if(e||l===0||a&&h||i.customSeparateY||n.customSeparateY)return l!==0||i.embedded&&n.embedded;var f=v.Set(i,n,l);return!a&&!h?f>0?!0:v.Check():(a?v.RunImmovableBody1(f):h&&v.RunImmovableBody2(f),!0)};c.exports=s},95829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o={}),o.none=t,o.up=!1,o.down=!1,o.left=!1,o.right=!1,t||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};c.exports=y},72624:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),v=t(83419),s=t(78389),i=t(37747),n=t(37303),e=t(95829),r=t(26099),l=new v({Mixins:[s],initialize:function(h,f){var u=64,d=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=f!==void 0;x&&f.displayWidth&&(u=f.displayWidth,d=f.displayHeight),x||(f=m),this.world=h,this.gameObject=x?f:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(f.x-u*f.originX,f.y-d*f.originY),this.width=u,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=i.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(a,h){return a&&a!==this.gameObject&&(this.gameObject.body=null,a.body=this,this.gameObject=a),h&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var a=this.gameObject;return a.getTopLeft(this.position),this.width=a.displayWidth,this.height=a.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(a,h){return h===void 0&&(h=a),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(a,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(a,h,f){f===void 0&&(f=!0);var u=this.gameObject;if(u&&u.frame&&(a||(a=u.frame.realWidth),h||(h=u.frame.realHeight)),this.world.staticTree.remove(this),this.width=a,this.height=h,this.halfWidth=Math.floor(a/2),this.halfHeight=Math.floor(h/2),f&&u&&u.getCenter){var d=u.displayWidth/2,m=u.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(a,h,f){return h===void 0&&(h=this.offset.x),f===void 0&&(f=this.offset.y),a>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=a,this.width=a*2,this.height=a*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(a,h){var f=this.gameObject;a===void 0&&(a=f.x),h===void 0&&(h=f.y),this.world.staticTree.remove(this),f.setPosition(a,h),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,h){return this.isCircle?o(this,a,h):n(this,a,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(a){var h=this.position,f=h.x+this.halfWidth,u=h.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?a.strokeCircle(f,u,this.width/2):a.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(a){return a<=0&&(a=.1),this.mass=a,this},x:{get:function(){return this.position.x},set:function(a){this.world.staticTree.remove(this),this.position.x=a,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(a){this.world.staticTree.remove(this),this.position.y=a,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},71464:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),v=t(83419),s=t(78389),i=t(37747),n=t(95540),e=t(26479),r=t(41212),l=new v({Extends:e,Mixins:[s],initialize:function(h,f,u,d){!u&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:r(u)?(d=u,u=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=n(d,"classType",o)):Array.isArray(u)&&r(u[0])?(d=u,u=null,d.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=n(m,"classType",o)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=i.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,u,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,i.STATIC_BODY)},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var a=this.children.entries,h=0;h<a.length;h++)a[h].body.reset();return this}});c.exports=l},82248:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55495),v=t(37742),s=t(45319),i=t(83419),n=t(79342),e=t(37747),r=t(20339),l=t(52816),a=t(50792),h=t(63012),f=t(43855),u=t(5470),d=t(94977),m=t(64897),x=t(45170),S=t(96523),T=t(35154),C=t(36383),A=t(25774),w=t(96602),P=t(87841),F=t(59542),L=t(40012),O=t(14087),I=t(89936),B=t(35072),U=t(72624),H=t(2483),Z=t(61340),tt=t(26099),X=t(15994),k=new i({Extends:a,initialize:function(z,Y){a.call(this),this.scene=z,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new A,this.gravity=new tt(T(Y,"gravity.x",0),T(Y,"gravity.y",0)),this.bounds=new P(T(Y,"x",0),T(Y,"y",0),T(Y,"width",z.sys.scale.width),T(Y,"height",z.sys.scale.height)),this.checkCollision={up:T(Y,"checkCollision.up",!0),down:T(Y,"checkCollision.down",!0),left:T(Y,"checkCollision.left",!0),right:T(Y,"checkCollision.right",!0)},this.fps=T(Y,"fps",60),this.fixedStep=T(Y,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(Y,"timeScale",1),this.OVERLAP_BIAS=T(Y,"overlapBias",4),this.TILE_BIAS=T(Y,"tileBias",16),this.forceX=T(Y,"forceX",!1),this.isPaused=T(Y,"isPaused",!1),this._total=0,this.drawDebug=T(Y,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(Y,"debugShowBody",!0),debugShowStaticBody:T(Y,"debugShowStaticBody",!0),debugShowVelocity:T(Y,"debugShowVelocity",!0),bodyDebugColor:T(Y,"debugBodyColor",16711935),staticBodyDebugColor:T(Y,"debugStaticBodyColor",255),velocityDebugColor:T(Y,"debugVelocityColor",65280)},this.maxEntries=T(Y,"maxEntries",16),this.useTree=T(Y,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Z,this._tempMatrix2=new Z,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,z){z===void 0&&(z=e.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var Y=0;Y<D.length;Y++){var j=D[Y];if(j.isParent)for(var J=j.getChildren(),it=0;it<J.length;it++){var st=J[it];st.isParent?this.enable(st,z):this.enableBody(st,z)}else this.enableBody(j,z)}},enableBody:function(D,z){return z===void 0&&(z=e.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(z===e.DYNAMIC_BODY?D.body=new v(this,D):z===e.STATIC_BODY&&(D.body=new U(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===e.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===e.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var z=0;z<D.length;z++){var Y=D[z];if(Y.isParent)for(var j=Y.getChildren(),J=0;J<j.length;J++){var it=j[J];it.isParent?this.disable(it):this.disableBody(it.body)}else this.disableBody(Y.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===e.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,z,Y,j,J,it,st,at){return this.bounds.setTo(D,z,Y,j),J!==void 0&&this.setBoundsCollision(J,it,st,at),this},setBoundsCollision:function(D,z,Y,j){return D===void 0&&(D=!0),z===void 0&&(z=!0),Y===void 0&&(Y=!0),j===void 0&&(j=!0),this.checkCollision.left=D,this.checkCollision.right=z,this.checkCollision.up=Y,this.checkCollision.down=j,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(D,z,Y,j,J){Y===void 0&&(Y=null),j===void 0&&(j=null),J===void 0&&(J=Y);var it=new n(this,!1,D,z,Y,j,J);return this.colliders.add(it),it},addOverlap:function(D,z,Y,j,J){Y===void 0&&(Y=null),j===void 0&&(j=null),J===void 0&&(J=Y);var it=new n(this,!0,D,z,Y,j,J);return this.colliders.add(it),it},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,z){if(!(this.isPaused||this.bodies.size===0)){var Y,j=this._frameTime,J=this._frameTimeMS*this.timeScale;this._elapsed+=z;var it,st=this.bodies.entries,at=this._elapsed>=J;for(this.fixedStep||(j=z*.001,at=!0,this._elapsed=0),Y=0;Y<st.length;Y++)it=st[Y],it.enable&&it.preUpdate(at,j);if(at){this._elapsed-=J,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(st));var ft=this.colliders.update();for(Y=0;Y<ft.length;Y++){var vt=ft[Y];vt.active&&vt.update()}this.emit(h.WORLD_STEP,j)}for(;this._elapsed>=J;)this._elapsed-=J,this.step(j)}},step:function(D){var z,Y,j=this.bodies.entries,J=j.length;for(z=0;z<J;z++)Y=j[z],Y.enable&&Y.update(D);this.useTree&&(this.tree.clear(),this.tree.load(j));var it=this.colliders.update();for(z=0;z<it.length;z++){var st=it[z];st.active&&st.update()}this.emit(h.WORLD_STEP,D),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var D,z,Y=this.bodies.entries,j=Y.length,J=this.bodies,it=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<j;D++)z=Y[D],z.enable&&z.postUpdate();if(this.drawDebug){var st=this.debugGraphic;for(st.clear(),D=0;D<j;D++)z=Y[D],z.willDrawDebug()&&z.drawDebug(st);for(Y=it.entries,j=Y.length,D=0;D<j;D++)z=Y[D],z.willDrawDebug()&&z.drawDebug(st)}var at=this.pendingDestroy;if(at.size>0){var ft=this.tree,vt=this.staticTree;for(Y=at.entries,j=Y.length,D=0;D<j;D++)z=Y[D],z.physicsType===e.DYNAMIC_BODY?(ft.remove(z),J.delete(z)):z.physicsType===e.STATIC_BODY&&(vt.remove(z),it.delete(z)),z.world=void 0,z.gameObject=void 0;at.clear()}},updateMotion:function(D,z){D.allowRotation&&this.computeAngularVelocity(D,z),this.computeVelocity(D,z)},computeAngularVelocity:function(D,z){var Y=D.angularVelocity,j=D.angularAcceleration,J=D.angularDrag,it=D.maxAngular;j?Y+=j*z:D.allowDrag&&J&&(J*=z,u(Y-J,0,.1)?Y-=J:d(Y+J,0,.1)?Y+=J:Y=0),Y=s(Y,-it,it);var st=Y-D.angularVelocity;D.angularVelocity+=st,D.rotation+=D.angularVelocity*z},computeVelocity:function(D,z){var Y=D.velocity.x,j=D.acceleration.x,J=D.drag.x,it=D.maxVelocity.x,st=D.velocity.y,at=D.acceleration.y,ft=D.drag.y,vt=D.maxVelocity.y,xt=D.speed,Ct=D.maxSpeed,yt=D.allowDrag,Pt=D.useDamping;D.allowGravity&&(Y+=(this.gravity.x+D.gravity.x)*z,st+=(this.gravity.y+D.gravity.y)*z),j?Y+=j*z:yt&&J&&(Pt?(J=Math.pow(J,z),Y*=J,xt=Math.sqrt(Y*Y+st*st),f(xt,0,.001)&&(Y=0)):(J*=z,u(Y-J,0,.01)?Y-=J:d(Y+J,0,.01)?Y+=J:Y=0)),at?st+=at*z:yt&&ft&&(Pt?(ft=Math.pow(ft,z),st*=ft,xt=Math.sqrt(Y*Y+st*st),f(xt,0,.001)&&(st=0)):(ft*=z,u(st-ft,0,.01)?st-=ft:d(st+ft,0,.01)?st+=ft:st=0)),Y=s(Y,-it,it),st=s(st,-vt,vt),D.velocity.set(Y,st),Ct>-1&&D.velocity.length()>Ct&&(D.velocity.normalize().scale(Ct),xt=Ct),D.speed=xt},separate:function(D,z,Y,j,J){var it,st,at=!1,ft=!0;if(!D.enable||!z.enable||D.checkCollision.none||z.checkCollision.none||!this.intersects(D,z)||Y&&Y.call(j,D.gameObject,z.gameObject)===!1)return at;if(D.isCircle||z.isCircle){var vt=this.separateCircle(D,z,J);vt.result?(at=!0,ft=!1):(it=vt.x,st=vt.y,ft=!0)}if(ft){var xt=!1,Ct=!1,yt=this.OVERLAP_BIAS;J?(xt=O(D,z,J,yt,it),Ct=I(D,z,J,yt,st)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(xt=O(D,z,J,yt,it),this.intersects(D,z)&&(Ct=I(D,z,J,yt,st))):(Ct=I(D,z,J,yt,st),this.intersects(D,z)&&(xt=O(D,z,J,yt,it))),at=xt||Ct}return at&&(J?(D.onOverlap||z.onOverlap)&&this.emit(h.OVERLAP,D.gameObject,z.gameObject,D,z):(D.onCollide||z.onCollide)&&this.emit(h.COLLIDE,D.gameObject,z.gameObject,D,z)),at},separateCircle:function(D,z,Y){m(D,z,!1,0),x(D,z,!1,0);var j=D.isCircle,J=z.isCircle,it=D.center,st=z.center,at=D.immovable,ft=z.immovable,vt=D.velocity,xt=z.velocity,Ct=0,yt=!0;if(j!==J){yt=!1;var Pt=it.x,Gt=it.y,Ut=D.halfWidth,Nt=z.position.x,wt=z.position.y,Dt=z.right,Rt=z.bottom;J&&(Pt=st.x,Gt=st.y,Ut=z.halfWidth,Nt=D.position.x,wt=D.position.y,Dt=D.right,Rt=D.bottom),Gt<wt?Pt<Nt?Ct=r(Pt,Gt,Nt,wt)-Ut:Pt>Dt&&(Ct=r(Pt,Gt,Dt,wt)-Ut):Gt>Rt&&(Pt<Nt?Ct=r(Pt,Gt,Nt,Rt)-Ut:Pt>Dt&&(Ct=r(Pt,Gt,Dt,Rt)-Ut)),Ct*=-1}else Ct=D.halfWidth+z.halfWidth-l(it,st);D.overlapR=Ct,z.overlapR=Ct;var Ht=o(it,st),qt=(Ct+C.EPSILON)*Math.cos(Ht),ee=(Ct+C.EPSILON)*Math.sin(Ht),te={overlap:Ct,result:!1,x:qt,y:ee};if(Y&&(!yt||yt&&Ct!==0))return te.result=!0,te;if(!yt&&Ct===0||at&&ft||D.customSeparateX||z.customSeparateX)return te.x=void 0,te.y=void 0,te;var oe=!D.pushable&&!z.pushable;if(yt){var Vt=it.x-st.x,jt=it.y-st.y,It=Math.sqrt(Math.pow(Vt,2)+Math.pow(jt,2)),Ft=(st.x-it.x)/It||0,St=(st.y-it.y)/It||0,At=2*(vt.x*Ft+vt.y*St-xt.x*Ft-xt.y*St)/(D.mass+z.mass);(at||ft)&&(At*=2),at||(vt.x=vt.x-At/D.mass*Ft,vt.y=vt.y-At/D.mass*St,vt.multiply(D.bounce)),ft||(xt.x=xt.x+At/z.mass*Ft,xt.y=xt.y+At/z.mass*St,xt.multiply(z.bounce)),!at&&!ft&&(qt*=.5,ee*=.5),at||(D.x-=qt,D.y-=ee,D.updateCenter()),ft||(z.x+=qt,z.y+=ee,z.updateCenter()),te.result=!0}else!at||D.pushable||oe?(D.x-=qt,D.y-=ee,D.updateCenter()):(!ft||z.pushable||oe)&&(z.x+=qt,z.y+=ee,z.updateCenter()),te.x=void 0,te.y=void 0;return te},intersects:function(D,z){return D===z?!1:!D.isCircle&&!z.isCircle?!(D.right<=z.left||D.bottom<=z.top||D.left>=z.right||D.top>=z.bottom):D.isCircle?z.isCircle?l(D.center,z.center)<=D.halfWidth+z.halfWidth:this.circleBodyIntersects(D,z):this.circleBodyIntersects(z,D)},circleBodyIntersects:function(D,z){var Y=s(D.center.x,z.left,z.right),j=s(D.center.y,z.top,z.bottom),J=(D.center.x-Y)*(D.center.x-Y),it=(D.center.y-j)*(D.center.y-j);return J+it<=D.halfWidth*D.halfWidth},overlap:function(D,z,Y,j,J){return Y===void 0&&(Y=null),j===void 0&&(j=null),J===void 0&&(J=Y),this.collideObjects(D,z,Y,j,J,!0)},collide:function(D,z,Y,j,J){return Y===void 0&&(Y=null),j===void 0&&(j=null),J===void 0&&(J=Y),this.collideObjects(D,z,Y,j,J,!1)},collideObjects:function(D,z,Y,j,J,it){var st,at;D.isParent&&(D.physicsType===void 0||z===void 0||D===z)&&(D=D.children.entries),z&&z.isParent&&z.physicsType===void 0&&(z=z.children.entries);var ft=Array.isArray(D),vt=Array.isArray(z);if(this._total=0,!ft&&!vt)this.collideHandler(D,z,Y,j,J,it);else if(!ft&&vt)for(st=0;st<z.length;st++)this.collideHandler(D,z[st],Y,j,J,it);else if(ft&&!vt)if(z)for(st=0;st<D.length;st++)this.collideHandler(D[st],z,Y,j,J,it);else for(st=0;st<D.length;st++){var xt=D[st];for(at=st+1;at<D.length;at++)st!==at&&this.collideHandler(xt,D[at],Y,j,J,it)}else for(st=0;st<D.length;st++)for(at=0;at<z.length;at++)this.collideHandler(D[st],z[at],Y,j,J,it);return this._total>0},collideHandler:function(D,z,Y,j,J,it){if(z===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,Y,j,J,it);if(!D||!z)return!1;if(D.body||D.isBody){if(z.body||z.isBody)return this.collideSpriteVsSprite(D,z,Y,j,J,it);if(z.isParent)return this.collideSpriteVsGroup(D,z,Y,j,J,it);if(z.isTilemap)return this.collideSpriteVsTilemapLayer(D,z,Y,j,J,it)}else if(D.isParent){if(z.body||z.isBody)return this.collideSpriteVsGroup(z,D,Y,j,J,it);if(z.isParent)return this.collideGroupVsGroup(D,z,Y,j,J,it);if(z.isTilemap)return this.collideGroupVsTilemapLayer(D,z,Y,j,J,it)}else if(D.isTilemap){if(z.body||z.isBody)return this.collideSpriteVsTilemapLayer(z,D,Y,j,J,it);if(z.isParent)return this.collideGroupVsTilemapLayer(z,D,Y,j,J,it)}},canCollide:function(D,z){return D&&z&&(D.collisionMask&z.collisionCategory)!==0&&(z.collisionMask&D.collisionCategory)!==0},collideSpriteVsSprite:function(D,z,Y,j,J,it){var st=D.isBody?D:D.body,at=z.isBody?z:z.body;return this.canCollide(st,at)?(this.separate(st,at,j,J,it)&&(Y&&Y.call(J,D,z),this._total++),!0):!1},collideSpriteVsGroup:function(D,z,Y,j,J,it){var st=D.isBody?D:D.body;if(!(z.length===0||!st||!st.enable||st.checkCollision.none||!this.canCollide(st,z))){var at,ft,vt;if(this.useTree||z.physicsType===e.STATIC_BODY){var xt=this.treeMinMax;xt.minX=st.left,xt.minY=st.top,xt.maxX=st.right,xt.maxY=st.bottom;var Ct=z.physicsType===e.DYNAMIC_BODY?this.tree.search(xt):this.staticTree.search(xt);for(ft=Ct.length,at=0;at<ft;at++)vt=Ct[at],!(st===vt||!vt.enable||vt.checkCollision.none||!z.contains(vt.gameObject))&&this.separate(st,vt,j,J,it)&&(Y&&Y.call(J,st.gameObject,vt.gameObject),this._total++)}else{var yt=z.getChildren(),Pt=z.children.entries.indexOf(D);for(ft=yt.length,at=0;at<ft;at++)vt=yt[at].body,!(!vt||at===Pt||!vt.enable)&&this.separate(st,vt,j,J,it)&&(Y&&Y.call(J,st.gameObject,vt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,z,Y,j,J,it){if(!this.canCollide(D,z))return!1;var st=D.getChildren();if(st.length===0)return!1;for(var at=!1,ft=0;ft<st.length;ft++)(st[ft].body||st[ft].isBody)&&this.collideSpriteVsTilemapLayer(st[ft],z,Y,j,J,it)&&(at=!0);return at},collideTiles:function(D,z,Y,j,J){return z.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,z,Y,j,J,!1,!1)},overlapTiles:function(D,z,Y,j,J){return z.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,z,Y,j,J,!0,!1)},collideSpriteVsTilemapLayer:function(D,z,Y,j,J,it){var st=D.isBody?D:D.body;if(!st.enable||st.checkCollision.none||!this.canCollide(st,z))return!1;var at=z.layer,ft=st.x-at.tileWidth*z.scaleX,vt=st.y-at.tileHeight*z.scaleY,xt=st.width+at.tileWidth*z.scaleX,Ct=st.height+at.tileHeight*z.scaleY,yt=it?null:this.tileFilterOptions,Pt=S(ft,vt,xt,Ct,yt,z.scene.cameras.main,z.layer);return Pt.length===0?!1:this.collideSpriteVsTilesHandler(D,Pt,Y,j,J,it,!0)},collideSpriteVsTilesHandler:function(D,z,Y,j,J,it,st){for(var at=D.isBody?D:D.body,ft,vt={left:0,right:0,top:0,bottom:0},xt,Ct=!1,yt=0;yt<z.length;yt++){ft=z[yt],xt=ft.tilemapLayer;var Pt=xt.tileToWorldXY(ft.x,ft.y);vt.left=Pt.x,vt.top=Pt.y,vt.right=vt.left+ft.width*xt.scaleX,vt.bottom=vt.top+ft.height*xt.scaleY,H(vt,at)&&(!j||j.call(J,D,ft))&&w(ft,D)&&(it||L(yt,at,ft,vt,xt,this.TILE_BIAS,st))&&(this._total++,Ct=!0,Y&&Y.call(J,D,ft),it&&at.onOverlap?this.emit(h.TILE_OVERLAP,D,ft,at):at.onCollide&&this.emit(h.TILE_COLLIDE,D,ft,at))}return Ct},collideGroupVsGroup:function(D,z,Y,j,J,it){if(!(D.length===0||z.length===0||!this.canCollide(D,z)))for(var st=D.getChildren(),at=0;at<st.length;at++)this.collideSpriteVsGroup(st[at],z,Y,j,J,it)},wrap:function(D,z){D.body?this.wrapObject(D,z):D.getChildren?this.wrapArray(D.getChildren(),z):Array.isArray(D)?this.wrapArray(D,z):this.wrapObject(D,z)},wrapArray:function(D,z){for(var Y=0;Y<D.length;Y++)this.wrapObject(D[Y],z)},wrapObject:function(D,z){z===void 0&&(z=0),D.x=X(D.x,this.bounds.left-z,this.bounds.right+z),D.y=X(D.y,this.bounds.top-z,this.bounds.bottom+z)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=k},1093:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(t,o){return this.body.acceleration.set(t,o),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};c.exports=y},59023:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};c.exports=y},62069:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t,o){return this.body.bounce.set(t,o),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,o,v,s){return this.body.setCollideWorldBounds(t,o,v,s),this}};c.exports=y},78389:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79599),v={setCollisionCategory:function(s){var i=this.body?this.body:this;return i.collisionCategory=s,this},willCollideWith:function(s){var i=this.body?this.body:this;return(i.collisionMask&s)!==0},addCollidesWith:function(s){var i=this.body?this.body:this;return i.collisionMask=i.collisionMask|s,this},removeCollidesWith:function(s){var i=this.body?this.body:this;return i.collisionMask=i.collisionMask&~s,this},setCollidesWith:function(s){var i=this.body?this.body:this;return i.collisionMask=o(s),this},resetCollisionCategory:function(){var s=this.body?this.body:this;return s.collisionCategory=1,s.collisionMask=1,this}};c.exports=v},87118:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(t,o,v){return this.debugShowBody=t,this.debugShowVelocity=o,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};c.exports=y},52819:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(t,o){return this.body.drag.set(t,o),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};c.exports=y},4074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,o,v,s,i){return t&&this.body.reset(o,v),s&&(this.body.gameObject.active=!0),i&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=y},40831:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,o){return this.body.friction.set(t,o),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};c.exports=y},26775:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(t,o){return this.body.gravity.set(t,o),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};c.exports=y},9437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};c.exports=y},30621:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(t){return this.body.mass=t,this}};c.exports=y},72441:(c,y,t)=>{var o=t(47956),v=t(96503),s=t(2044),i=t(81491),n=function(e,r,l,a,h,f){var u=o(e,r-a,l-a,2*a,2*a,h,f);if(u.length===0)return u;for(var d=new v(r,l,a),m=new v,x=[],S=0;S<u.length;S++){var T=u[S];T.isCircle?(m.setTo(T.center.x,T.center.y,T.halfWidth),s(d,m)&&x.push(T)):i(d,T)&&x.push(T)}return x};c.exports=n},47956:c=>{var y=function(t,o,v,s,i,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var r=[],l=[],a=t.treeMinMax;if(a.minX=o,a.minY=v,a.maxX=o+s,a.maxY=v+i,e&&(l=t.staticTree.search(a)),n&&t.useTree)r=t.tree.search(a);else if(n){var h=t.bodies,f={position:{x:o,y:v},left:o,top:v,right:o+s,bottom:v+i,isCircle:!1},u=t.intersects;h.iterate(function(d){u(d,f)&&r.push(d)})}return l.concat(r)};c.exports=y},62121:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};c.exports=y},29384:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(t,o){return this.body.setOffset(t,o),this},setSize:function(t,o,v){return this.body.setSize(t,o,v),this},setBodySize:function(t,o,v){return this.body.setSize(t,o,v),this},setCircle:function(t,o,v){return this.body.setCircle(t,o,v),this}};c.exports=y},15098:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(t,o){return this.body.setVelocity(t,o),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,o){return this.body.maxVelocity.set(t,o),this}};c.exports=y},92209:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=y},20009:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},36768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},60473:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},89954:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},61804:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},7161:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},34689:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},16006:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},63012:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),v=t(79291),s={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};s=v(!1,s,o),c.exports=s},96602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,o,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,o,t):!0};c.exports=y},36294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o<0?(t.blocked.none=!1,t.blocked.left=!0):o>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=o,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};c.exports=y},67013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o<0?(t.blocked.none=!1,t.blocked.up=!0):o>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=o,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};c.exports=y},40012:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21329),v=t(53442),s=t(2483),i=function(n,e,r,l,a,h,f){var u=l.left,d=l.top,m=l.right,x=l.bottom,S=r.faceLeft||r.faceRight,T=r.faceTop||r.faceBottom;if(f||(S=!0,T=!0),!S&&!T)return!1;var C=0,A=0,w=0,P=1;if(e.deltaAbsX()>e.deltaAbsY()?w=-1:e.deltaAbsX()<e.deltaAbsY()&&(P=-1),e.deltaX()!==0&&e.deltaY()!==0&&S&&T&&(w=Math.min(Math.abs(e.position.x-m),Math.abs(e.right-u)),P=Math.min(Math.abs(e.position.y-x),Math.abs(e.bottom-d))),w<P){if(S&&(C=o(e,r,u,m,h,f),C!==0&&!s(l,e)))return!0;T&&(A=v(e,r,d,x,h,f))}else{if(T&&(A=v(e,r,d,x,h,f),A!==0&&!s(l,e)))return!0;S&&(C=o(e,r,u,m,h,f))}return C!==0||A!==0};c.exports=i},21329:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36294),v=function(s,i,n,e,r,l){var a=0,h=i.faceLeft,f=i.faceRight,u=i.collideLeft,d=i.collideRight;return l||(h=!0,f=!0,u=!0,d=!0),s.deltaX()<0&&d&&s.checkCollision.left?f&&s.x<e&&(a=s.x-e,a<-r&&(a=0)):s.deltaX()>0&&u&&s.checkCollision.right&&h&&s.right>n&&(a=s.right-n,a>r&&(a=0)),a!==0&&(s.customSeparateX?s.overlapX=a:o(s,a)),a};c.exports=v},53442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67013),v=function(s,i,n,e,r,l){var a=0,h=i.faceTop,f=i.faceBottom,u=i.collideUp,d=i.collideDown;return l||(h=!0,f=!0,u=!0,d=!0),s.deltaY()<0&&d&&s.checkCollision.up?f&&s.y<e&&(a=s.y-e,a<-r&&(a=0)):s.deltaY()>0&&u&&s.checkCollision.down&&h&&s.bottom>n&&(a=s.bottom-n,a>r&&(a=0)),a!==0&&(s.customSeparateY?s.overlapY=a:o(s,a)),a};c.exports=v},2483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return!(o.right<=t.left||o.bottom<=t.top||o.position.x>=t.right||o.position.y>=t.bottom)};c.exports=y},55173:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};c.exports=o},44563:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(27064),Matter:t(3875)}},68174:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(26099),s=new o({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(i){if(i=i.hasOwnProperty("body")?i.body:i,!i.hasOwnProperty("bounds")||!i.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,r=i.bounds.max.x-i.bounds.min.x,l=i.bounds.max.y-i.bounds.min.y,a=r*i.centerOfMass.x,h=l*i.centerOfMass.y;return n.set(r/2,l/2),e.set(a-n.x,h-n.y),!0},getTopLeft:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new v(n+r.x+l.x,e+r.y+l.y)}return!1},getTopCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new v(n+l.x,e+r.y+l.y)}return!1},getTopRight:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new v(n-(r.x-l.x),e+r.y+l.y)}return!1},getLeftCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new v(n+r.x+l.x,e+l.y)}return!1},getCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.centerDiff;return new v(n+r.x,e+r.y)}return!1},getRightCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new v(n-(r.x-l.x),e+l.y)}return!1},getBottomLeft:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new v(n+r.x+l.x,e-(r.y-l.y))}return!1},getBottomCenter:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new v(n+l.x,e-(r.y-l.y))}return!1},getBottomRight:function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,l=this.centerDiff;return new v(n-(r.x-l.x),e-(r.y-l.y))}return!1}});c.exports=s},19933:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6790);o.Body=t(22562),o.Composite=t(69351),o.World=t(4372),o.Collision=t(52284),o.Detector=t(81388),o.Pairs=t(99561),o.Pair=t(4506),o.Query=t(73296),o.Resolver=t(66272),o.Constraint=t(48140),o.Common=t(53402),o.Engine=t(48413),o.Events=t(35810),o.Sleeping=t(53614),o.Plugin=t(73832),o.Bodies=t(66280),o.Composites=t(74116),o.Axes=t(66615),o.Bounds=t(15647),o.Svg=t(74058),o.Vector=t(31725),o.Vertices=t(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,c.exports=o},28137:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(83419),s=t(74116),i=t(48140),n=t(74058),e=t(75803),r=t(23181),l=t(34803),a=t(73834),h=t(19496),f=t(85791),u=t(98713),d=t(41598),m=new v({initialize:function(S){this.world=S,this.scene=S.scene,this.sys=S.scene.sys},rectangle:function(x,S,T,C,A){var w=o.rectangle(x,S,T,C,A);return this.world.add(w),w},trapezoid:function(x,S,T,C,A,w){var P=o.trapezoid(x,S,T,C,A,w);return this.world.add(P),P},circle:function(x,S,T,C,A){var w=o.circle(x,S,T,C,A);return this.world.add(w),w},polygon:function(x,S,T,C,A){var w=o.polygon(x,S,T,C,A);return this.world.add(w),w},fromVertices:function(x,S,T,C,A,w,P){typeof T=="string"&&(T=d.fromPath(T));var F=o.fromVertices(x,S,T,C,A,w,P);return this.world.add(F),F},fromPhysicsEditor:function(x,S,T,C,A){A===void 0&&(A=!0);var w=h.parseBody(x,S,T,C);return A&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(x,S,T,C,A,w){C===void 0&&(C=1),A===void 0&&(A={}),w===void 0&&(w=!0);for(var P=T.getElementsByTagName("path"),F=[],L=0;L<P.length;L++){var O=n.pathToVertices(P[L],30);C!==1&&d.scale(O,C,C),F.push(O)}var I=o.fromVertices(x,S,F,A);return w&&this.world.add(I),I},fromJSON:function(x,S,T,C,A){C===void 0&&(C={}),A===void 0&&(A=!0);var w=f.parseBody(x,S,T,C);return w&&A&&this.world.add(w),w},imageStack:function(x,S,T,C,A,w,P,F,L){P===void 0&&(P=0),F===void 0&&(F=0),L===void 0&&(L={});var O=this.world,I=this.sys.displayList;L.addToWorld=!1;var B=s.stack(T,C,A,w,P,F,function(U,H){var Z=new r(O,U,H,x,S,L);return I.add(Z),Z.body});return O.add(B),B},stack:function(x,S,T,C,A,w,P){var F=s.stack(x,S,T,C,A,w,P);return this.world.add(F),F},pyramid:function(x,S,T,C,A,w,P){var F=s.pyramid(x,S,T,C,A,w,P);return this.world.add(F),F},chain:function(x,S,T,C,A,w){return s.chain(x,S,T,C,A,w)},mesh:function(x,S,T,C,A){return s.mesh(x,S,T,C,A)},newtonsCradle:function(x,S,T,C,A){var w=s.newtonsCradle(x,S,T,C,A);return this.world.add(w),w},car:function(x,S,T,C,A){var w=s.car(x,S,T,C,A);return this.world.add(w),w},softBody:function(x,S,T,C,A,w,P,F,L,O){var I=s.softBody(x,S,T,C,A,w,P,F,L,O);return this.world.add(I),I},joint:function(x,S,T,C,A){return this.constraint(x,S,T,C,A)},spring:function(x,S,T,C,A){return this.constraint(x,S,T,C,A)},constraint:function(x,S,T,C,A){C===void 0&&(C=1),A===void 0&&(A={}),A.bodyA=x.type==="body"?x:x.body,A.bodyB=S.type==="body"?S:S.body,isNaN(T)||(A.length=T),A.stiffness=C;var w=i.create(A);return this.world.add(w),w},worldConstraint:function(x,S,T,C){T===void 0&&(T=1),C===void 0&&(C={}),C.bodyB=x.type==="body"?x:x.body,isNaN(S)||(C.length=S),C.stiffness=T;var A=i.create(C);return this.world.add(A),A},mouseSpring:function(x){return this.pointerConstraint(x)},pointerConstraint:function(x){x===void 0&&(x={}),x.hasOwnProperty("render")||(x.render={visible:!1});var S=new u(this.scene,this.world,x);return this.world.add(S.constraint),S},image:function(x,S,T,C,A){var w=new r(this.world,x,S,T,C,A);return this.sys.displayList.add(w),w},tileBody:function(x,S){return new a(this.world,x,S)},sprite:function(x,S,T,C,A){var w=new l(this.world,x,S,T,C,A);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(x,S,T){return e(this.world,x,S,T)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=m},75803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31884),v=t(95540),s=t(26099);function i(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,r,l,a){l===void 0&&(l={}),a===void 0&&(a=!0);var h=r.x,f=r.y;r.body={temp:!0,position:{x:h,y:f}};var u=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(u.forEach(function(m){for(var x in m)i(m[x])?Object.defineProperty(r,x,{get:m[x].get,set:m[x].set}):Object.defineProperty(r,x,{value:m[x]})}),r.world=e,r._tempVec2=new s(h,f),l.hasOwnProperty("type")&&l.type==="body")r.setExistingBody(l,a);else{var d=v(l,"shape",null);d||(d="rectangle"),l.addToWorld=a,r.setBody(d,l)}return r};c.exports=n},23181:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31884),s=t(95643),i=t(95540),n=t(88571),e=t(72699),r=t(26099),l=new o({Extends:n,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(h,f,u,d,m,x){s.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,m),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new r(f,u);var S=i(x,"shape",null);S?this.setBody(S,x):this.setRectangle(this.width,this.height,x),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=l},42045:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),v=t(66615),s=t(66280),i=t(22562),n=t(68174),e=t(15647),r=t(83419),l=t(52284),a=t(53402),h=t(69351),f=t(74116),u=t(48140),d=t(81388),m=t(20339),x=t(28137),S=t(95540),T=t(35154),C=t(18210),A=t(40178),w=t(6790),P=t(74507),F=t(46975),L=t(4506),O=t(99561),I=t(73832),B=t(37277),U=t(73296),H=t(66272),Z=t(44594),tt=t(74058),X=t(31725),k=t(41598),D=t(68243);a.setDecomp(t(55973));var z=new r({initialize:function(j){this.scene=j,this.systems=j.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=i,this.composite=h,this.collision=l,this.detector=d,this.pair=L,this.pairs=O,this.query=U,this.resolver=H,this.constraint=u,this.bodies=s,this.composites=f,this.axes=v,this.bounds=e,this.svg=tt,this.vector=X,this.vertices=k,this.verts=k,this._tempVec2=X.create(),T(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),T(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),T(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),H._restingThresh=T(this.config,"restingThresh",4),H._restingThreshTangent=T(this.config,"restingThreshTangent",6),H._positionDampen=T(this.config,"positionDampen",.9),H._positionWarming=T(this.config,"positionWarming",.8),H._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),j.sys.events.once(Z.BOOT,this.boot,this),j.sys.events.on(Z.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new x(this.world),this.bodyBounds=new n,this.systems.events.once(Z.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new x(this.world));var Y=this.systems.events;Y.on(Z.UPDATE,this.world.update,this.world),Y.on(Z.POST_UPDATE,this.world.postUpdate,this.world),Y.once(Z.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,j=this.systems.settings.physics,J=F(S(j,"matter",{}),S(Y,"matter",{}));return J},enableAttractorPlugin:function(){return I.register(C),I.use(w,C),this},enableWrapPlugin:function(){return I.register(P),I.use(w,P),this},enableCollisionEventsPlugin:function(){return I.register(A),I.use(w,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,j){this.world.step(Y,j)},containsPoint:function(Y,j,J){Y=this.getMatterBodies(Y);var it=X.create(j,J),st=U.point(Y,it);return st.length>0},intersectPoint:function(Y,j,J){J=this.getMatterBodies(J);var it=X.create(Y,j),st=[],at=U.point(J,it);return at.forEach(function(ft){st.indexOf(ft)===-1&&st.push(ft)}),st},intersectRect:function(Y,j,J,it,st,at){st===void 0&&(st=!1),at=this.getMatterBodies(at);var ft={min:{x:Y,y:j},max:{x:Y+J,y:j+it}},vt=[],xt=U.region(at,ft,st);return xt.forEach(function(Ct){vt.indexOf(Ct)===-1&&vt.push(Ct)}),vt},intersectRay:function(Y,j,J,it,st,at){st===void 0&&(st=1),at=this.getMatterBodies(at);for(var ft=[],vt=U.ray(at,X.create(Y,j),X.create(J,it),st),xt=0;xt<vt.length;xt++)ft.push(vt[xt].body);return ft},intersectBody:function(Y,j){j=this.getMatterBodies(j);for(var J=[],it=U.collides(Y,j),st=0;st<it.length;st++){var at=it[st];at.bodyA===Y?J.push(at.bodyB):J.push(at.bodyA)}return J},overlap:function(Y,j,J,it,st){J===void 0&&(J=null),it===void 0&&(it=null),st===void 0&&(st=J),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),j=this.getMatterBodies(j);for(var at=!1,ft=0;ft<Y.length;ft++)for(var vt=Y[ft],xt=U.collides(vt,j),Ct=0;Ct<xt.length;Ct++){var yt=xt[Ct],Pt=yt.bodyA.id===vt.id?yt.bodyB:yt.bodyA;if(!it||it.call(st,vt,Pt,yt)){if(at=!0,J)J.call(st,vt,Pt,yt);else if(!it)return!0}}return at},setCollisionCategory:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(J){J.collisionFilter.category=j}),this},setCollisionGroup:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(J){J.collisionFilter.group=j}),this},setCollidesWith:function(Y,j){Y=this.getMatterBodies(Y);var J=0;if(!Array.isArray(j))J=j;else for(var it=0;it<j.length;it++)J|=j[it];return Y.forEach(function(st){st.collisionFilter.mask=J}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var j=[],J=0;J<Y.length;J++){var it=Y[J].hasOwnProperty("body")?Y[J].body:Y[J];j.push(it)}return j},setVelocity:function(Y,j,J){Y=this.getMatterBodies(Y);var it=this._tempVec2;return it.x=j,it.y=J,Y.forEach(function(st){i.setVelocity(st,it)}),this},setVelocityX:function(Y,j){Y=this.getMatterBodies(Y);var J=this._tempVec2;return J.x=j,Y.forEach(function(it){J.y=it.velocity.y,i.setVelocity(it,J)}),this},setVelocityY:function(Y,j){Y=this.getMatterBodies(Y);var J=this._tempVec2;return J.y=j,Y.forEach(function(it){J.x=it.velocity.x,i.setVelocity(it,J)}),this},setAngularVelocity:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(J){i.setAngularVelocity(J,j)}),this},applyForce:function(Y,j){Y=this.getMatterBodies(Y);var J=this._tempVec2;return Y.forEach(function(it){J.x=it.position.x,J.y=it.position.y,i.applyForce(it,J,j)}),this},applyForceFromPosition:function(Y,j,J,it){Y=this.getMatterBodies(Y);var st=this._tempVec2;return Y.forEach(function(at){it===void 0&&(it=at.angle),st.x=J*Math.cos(it),st.y=J*Math.sin(it),i.applyForce(at,j,st)}),this},applyForceFromAngle:function(Y,j,J){Y=this.getMatterBodies(Y);var it=this._tempVec2;return Y.forEach(function(st){J===void 0&&(J=st.angle),it.x=j*Math.cos(J),it.y=j*Math.sin(J),i.applyForce(st,{x:st.position.x,y:st.position.y},it)}),this},getConstraintLength:function(Y){var j=Y.pointA.x,J=Y.pointA.y,it=Y.pointB.x,st=Y.pointB.y;return Y.bodyA&&(j+=Y.bodyA.position.x,J+=Y.bodyA.position.y),Y.bodyB&&(it+=Y.bodyB.position.x,st+=Y.bodyB.position.y),m(j,J,it,st)},alignBody:function(Y,j,J,it){Y=Y.hasOwnProperty("body")?Y.body:Y;var st;switch(it){case o.TOP_LEFT:case o.LEFT_TOP:st=this.bodyBounds.getTopLeft(Y,j,J);break;case o.TOP_CENTER:st=this.bodyBounds.getTopCenter(Y,j,J);break;case o.TOP_RIGHT:case o.RIGHT_TOP:st=this.bodyBounds.getTopRight(Y,j,J);break;case o.LEFT_CENTER:st=this.bodyBounds.getLeftCenter(Y,j,J);break;case o.CENTER:st=this.bodyBounds.getCenter(Y,j,J);break;case o.RIGHT_CENTER:st=this.bodyBounds.getRightCenter(Y,j,J);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:st=this.bodyBounds.getBottomLeft(Y,j,J);break;case o.BOTTOM_CENTER:st=this.bodyBounds.getBottomCenter(Y,j,J);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:st=this.bodyBounds.getBottomRight(Y,j,J);break}return st&&i.setPosition(Y,st),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(Z.UPDATE,this.world.update,this.world),Y.off(Z.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(Z.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(Z.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",z,"matterPhysics"),c.exports=z},34803:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(83419),s=t(31884),i=t(95643),n=t(95540),e=t(72699),r=t(68287),l=t(26099),a=new v({Extends:r,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,e],initialize:function(f,u,d,m,x,S){i.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(m,x),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(u,d);var T=n(S,"shape",null);T?this.setBody(T,S):this.setRectangle(this.width,this.height,S),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=a},73834:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),s=t(83419),i=t(31884),n=t(62644),e=t(50792),r=t(95540),l=t(97022),a=t(41598),h=new s({Extends:e,Mixins:[i.Bounce,i.Collision,i.Friction,i.Gravity,i.Mass,i.Sensor,i.Sleep,i.Static],initialize:function(u,d,m){e.call(this),this.tile=d,this.world=u,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var x=r(m,"body",null),S=r(m,"addToWorld",!0);if(x)this.setBody(x,S);else{var T=d.getCollisionGroup(),C=r(T,"objects",[]);C.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(d.flipX||d.flipY){var A={x:d.getCenterX(),y:d.getCenterY()},w=d.flipX?-1:1,P=d.flipY?-1:1;v.scale(x,w,P,A)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var u=this.tile.getBounds(),d=u.x+u.width/2,m=u.y+u.height/2,x=o.rectangle(d,m,u.width,u.height,f);return this.setBody(x,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var u=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),x=this.tile.getTop(),S=this.tile.getCollisionGroup(),T=r(S,"objects",[]),C=[],A=0;A<T.length;A++){var w=T[A],P=m+w.x*u,F=x+w.y*d,L=w.width*u,O=w.height*d,I=null;if(w.rectangle)I=o.rectangle(P+L/2,F+O/2,L,O,f);else if(w.ellipse)I=o.circle(P+L/2,F+O/2,L/2,f);else if(w.polygon||w.polyline){var B=w.polygon?w.polygon:w.polyline,U=B.map(function(X){return{x:X.x*u,y:X.y*d}}),H=a.create(U),Z=a.centre(H);P+=Z.x,F+=Z.y,I=o.fromVertices(P,F,H,f)}I&&C.push(I)}if(C.length===1)this.setBody(C[0],f.addToWorld);else if(C.length>1){var tt=n(f);tt.parts=C,this.setBody(v.create(tt),tt.addToWorld)}return this},setBody:function(f,u){return u===void 0&&(u=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,u&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=h},19496:(c,y,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),s=t(53402),i=t(95540),n=t(41598),e={parseBody:function(r,l,a,h){h===void 0&&(h={});for(var f=i(a,"fixtures",[]),u=[],d=0;d<f.length;d++)for(var m=this.parseFixture(f[d]),x=0;x<m.length;x++)u.push(m[x]);var S=s.clone(a,!0);s.extend(S,h,!0),delete S.fixtures,delete S.type;var T=v.create(S);return v.setParts(T,u),v.setPosition(T,{x:r,y:l}),T},parseFixture:function(r){var l=s.extend({},!1,r);delete l.circle,delete l.vertices;var a;if(r.circle){var h=i(r.circle,"x"),f=i(r.circle,"y"),u=i(r.circle,"radius");a=[o.circle(h,f,u,l)]}else r.vertices&&(a=this.parseVertices(r.vertices,l));return a},parseVertices:function(r,l){l===void 0&&(l={});for(var a=[],h=0;h<r.length;h++)n.clockwiseSort(r[h]),a.push(v.create(s.extend({position:n.centre(r[h]),vertices:r[h]},l)));return o.flagCoincidentParts(a)}};c.exports=e},85791:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),s={parseBody:function(i,n,e,r){r===void 0&&(r={});var l,a=e.vertices;if(a.length===1)r.vertices=a[0],l=v.create(r),o.flagCoincidentParts(l.parts);else{for(var h=[],f=0;f<a.length;f++){var u=v.create({vertices:a[f]});h.push(u)}o.flagCoincidentParts(h),r.parts=h,l=v.create(r)}return l.label=e.label,v.setPosition(l,{x:i,y:n}),l}};c.exports=s},98713:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15647),v=t(83419),s=t(69351),i=t(48140),n=t(81388),e=t(1121),r=t(8214),l=t(46975),a=t(53614),h=t(26099),f=t(41598),u=new v({initialize:function(m,x,S){S===void 0&&(S={});var T={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=x,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=i.create(l(S,T)),this.world.on(e.BEFORE_UPDATE,this.update,this),m.sys.input.on(r.POINTER_DOWN,this.onDown,this),m.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var m=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,m);for(var S=s.allBodies(this.world.localWorld),T=0;T<S.length;T++){var C=S[T];if(!C.ignorePointer&&o.contains(C.bounds,m)&&n.canCollide(C.collisionFilter,x.collisionFilter)&&this.hitTestBody(C,m))return this.world.emit(e.DRAG_START,C,this.part,this),!0}return!1},hitTestBody:function(d,m){for(var x=this.constraint,S=d.parts.length,T=S>1?1:0,C=T;C<S;C++){var A=d.parts[C];if(f.contains(A.vertices,m))return x.pointA=m,x.pointB={x:m.x-d.position.x,y:m.y-d.position.y},x.bodyB=d,x.angleB=d.angle,a.set(d,!1),this.part=A,this.body=d,!0}return!1},update:function(){var d=this.pointer,m=this.body;if(!this.active||!d){m&&this.stopDrag();return}if(!d.isDown&&m){this.stopDrag();return}else if(d.isDown){if(!this.camera||!m&&!this.getBody(d))return;m=this.body;var x=this.position,S=this.constraint;this.camera.getWorldPoint(d.x,d.y,x),S.pointA.x=x.x,S.pointA.y=x.y,a.set(m,!1),this.world.emit(e.DRAG,m,this)}},stopDrag:function(){var d=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});c.exports=u},68243:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),s=t(83419),i=t(53402),n=t(69351),e=t(48413),r=t(50792),l=t(1121),a=t(95540),h=t(35154),f=t(22562),u=t(35810),d=t(73834),m=t(4372),x=t(31725),S=new s({Extends:r,initialize:function(C,A){r.call(this),this.scene=C,this.engine=e.create(A),this.localWorld=this.engine.world;var w=h(A,"gravity",null);w?this.setGravity(w.x,w.y,w.scale):w===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(A,"enabled",!0),this.getDelta=h(A,"getDelta",this.update60Hz);var P=a(A,"runner",{}),F=a(P,"fps",!1),L=a(P,"fps",60),O=a(P,"delta",1e3/L),I=a(P,"deltaMin",1e3/L),B=a(P,"deltaMax",1e3/(L*.5));F||(L=1e3/O),this.runner={fps:L,deltaSampleSize:a(P,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(P,"isFixed",!1),delta:O,deltaMin:I,deltaMax:B},this.autoUpdate=h(A,"autoUpdate",!0);var U=h(A,"debug",!1);if(this.drawDebug=typeof U=="object"?!0:U,this.debugGraphic,this.debugConfig={showAxes:a(U,"showAxes",!1),showAngleIndicator:a(U,"showAngleIndicator",!1),angleColor:a(U,"angleColor",15208787),showBroadphase:a(U,"showBroadphase",!1),broadphaseColor:a(U,"broadphaseColor",16757760),showBounds:a(U,"showBounds",!1),boundsColor:a(U,"boundsColor",16777215),showVelocity:a(U,"showVelocity",!1),velocityColor:a(U,"velocityColor",44783),showCollisions:a(U,"showCollisions",!1),collisionColor:a(U,"collisionColor",16094476),showSeparations:a(U,"showSeparations",!1),separationColor:a(U,"separationColor",16753920),showBody:a(U,"showBody",!0),showStaticBody:a(U,"showStaticBody",!0),showInternalEdges:a(U,"showInternalEdges",!1),renderFill:a(U,"renderFill",!1),renderLine:a(U,"renderLine",!0),fillColor:a(U,"fillColor",1075465),fillOpacity:a(U,"fillOpacity",1),lineColor:a(U,"lineColor",2678297),lineOpacity:a(U,"lineOpacity",1),lineThickness:a(U,"lineThickness",1),staticFillColor:a(U,"staticFillColor",857979),staticLineColor:a(U,"staticLineColor",1255396),showSleeping:a(U,"showSleeping",!1),staticBodySleepOpacity:a(U,"staticBodySleepOpacity",.7),sleepFillColor:a(U,"sleepFillColor",4605510),sleepLineColor:a(U,"sleepLineColor",10066585),showSensors:a(U,"showSensors",!0),sensorFillColor:a(U,"sensorFillColor",857979),sensorLineColor:a(U,"sensorLineColor",1255396),showPositions:a(U,"showPositions",!0),positionSize:a(U,"positionSize",4),positionColor:a(U,"positionColor",14697178),showJoint:a(U,"showJoint",!0),jointColor:a(U,"jointColor",14737474),jointLineOpacity:a(U,"jointLineOpacity",1),jointLineThickness:a(U,"jointLineThickness",2),pinSize:a(U,"pinSize",4),pinColor:a(U,"pinColor",4382944),springColor:a(U,"springColor",14697184),anchorColor:a(U,"anchorColor",15724527),anchorSize:a(U,"anchorSize",4),showConvexHulls:a(U,"showConvexHulls",!1),hullColor:a(U,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(A,"setBounds",!1)){var H=A.setBounds;if(typeof H=="boolean")this.setBounds();else{var Z=a(H,"x",0),tt=a(H,"y",0),X=a(H,"width",C.sys.scale.width),k=a(H,"height",C.sys.scale.height),D=a(H,"thickness",64),z=a(H,"left",!0),Y=a(H,"right",!0),j=a(H,"top",!0),J=a(H,"bottom",!0);this.setBounds(Z,tt,X,k,D,z,Y,j,J)}}},setCompositeRenderStyle:function(T){var C=T.bodies,A=T.constraints,w=T.composites,P,F,L;for(P=0;P<C.length;P++)F=C[P],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(P=0;P<A.length;P++)F=A[P],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(P=0;P<w.length;P++)F=w[P],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(T,C,A,w,P,F){var L=T.render,O=this.debugConfig;return L?(C==null&&(C=T.isStatic?O.staticLineColor:O.lineColor),A==null&&(A=O.lineOpacity),w==null&&(w=O.lineThickness),P==null&&(P=T.isStatic?O.staticFillColor:O.fillColor),F==null&&(F=O.fillOpacity),C!==!1&&(L.lineColor=C),A!==!1&&(L.lineOpacity=A),w!==!1&&(L.lineThickness=w),P!==!1&&(L.fillColor=P),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(T,C,A,w,P,F,L){var O=T.render,I=this.debugConfig;if(!O)return this;if(C==null){var B=O.type;B==="line"?C=I.jointColor:B==="pin"?C=I.pinColor:B==="spring"&&(C=I.springColor)}return A==null&&(A=I.jointLineOpacity),w==null&&(w=I.jointLineThickness),P==null&&(P=I.pinSize),F==null&&(F=I.anchorColor),L==null&&(L=I.anchorSize),C!==!1&&(O.lineColor=C),A!==!1&&(O.lineOpacity=A),w!==!1&&(O.lineThickness=w),P!==!1&&(O.pinSize=P),F!==!1&&(O.anchorColor=F),L!==!1&&(O.anchorSize=L),this},setEventsProxy:function(){var T=this,C=this.engine,A=this.localWorld;this.drawDebug&&(u.on(A,"compositeModified",function(w){T.setCompositeRenderStyle(w)}),u.on(A,"beforeAdd",function(w){for(var P=[].concat(w.object),F=0;F<P.length;F++){var L=P[F],O=L.render;L.type==="body"?T.setBodyRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):L.type==="composite"?T.setCompositeRenderStyle(L):L.type==="constraint"&&T.setConstraintRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),u.on(A,"beforeAdd",function(w){T.emit(l.BEFORE_ADD,w)}),u.on(A,"afterAdd",function(w){T.emit(l.AFTER_ADD,w)}),u.on(A,"beforeRemove",function(w){T.emit(l.BEFORE_REMOVE,w)}),u.on(A,"afterRemove",function(w){T.emit(l.AFTER_REMOVE,w)}),u.on(C,"beforeUpdate",function(w){T.emit(l.BEFORE_UPDATE,w)}),u.on(C,"afterUpdate",function(w){T.emit(l.AFTER_UPDATE,w)}),u.on(C,"collisionStart",function(w){var P=w.pairs,F,L;P.length>0&&(F=P[0].bodyA,L=P[0].bodyB),T.emit(l.COLLISION_START,w,F,L)}),u.on(C,"collisionActive",function(w){var P=w.pairs,F,L;P.length>0&&(F=P[0].bodyA,L=P[0].bodyB),T.emit(l.COLLISION_ACTIVE,w,F,L)}),u.on(C,"collisionEnd",function(w){var P=w.pairs,F,L;P.length>0&&(F=P[0].bodyA,L=P[0].bodyB),T.emit(l.COLLISION_END,w,F,L)})},setBounds:function(T,C,A,w,P,F,L,O,I){return T===void 0&&(T=0),C===void 0&&(C=0),A===void 0&&(A=this.scene.sys.scale.width),w===void 0&&(w=this.scene.sys.scale.height),P===void 0&&(P=64),F===void 0&&(F=!0),L===void 0&&(L=!0),O===void 0&&(O=!0),I===void 0&&(I=!0),this.updateWall(F,"left",T-P,C-P,P,w+P*2),this.updateWall(L,"right",T+A,C-P,P,w+P*2),this.updateWall(O,"top",T,C-P,A,P),this.updateWall(I,"bottom",T,C+w,A,P),this},updateWall:function(T,C,A,w,P,F){var L=this.walls[C];T?(L&&m.remove(this.localWorld,L),A+=P/2,w+=F/2,this.walls[C]=this.create(A,w,P,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&m.remove(this.localWorld,L),this.walls[C]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,C,A){return T===void 0&&(T=0),C===void 0&&(C=1),A===void 0&&(A=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=C,this.localWorld.gravity.scale=A,this},create:function(T,C,A,w,P){var F=o.rectangle(T,C,A,w,P);return m.add(this.localWorld,F),F},add:function(T){return m.add(this.localWorld,T),this},remove:function(T,C){Array.isArray(T)||(T=[T]);for(var A=0;A<T.length;A++){var w=T[A],P=w.body?w.body:w;n.remove(this.localWorld,P,C)}return this},removeConstraint:function(T,C){return n.remove(this.localWorld,T,C),this},convertTilemapLayer:function(T,C){var A=T.layer,w=T.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(w,C),this},convertTiles:function(T,C){if(T.length===0)return this;for(var A=0;A<T.length;A++)new d(this,T[A],C);return this},nextGroup:function(T){return f.nextGroup(T)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(T,C){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,w=this.runner,P=A.timing;w.isFixed?C=this.getDelta(T,C):(C=T-w.timePrev||w.delta,w.timePrev=T,w.deltaHistory.push(C),w.deltaHistory=w.deltaHistory.slice(-w.deltaSampleSize),C=Math.min.apply(null,w.deltaHistory),C=C<w.deltaMin?w.deltaMin:C,C=C>w.deltaMax?w.deltaMax:C,w.delta=C),w.timeScalePrev=P.timeScale,w.frameCounter+=1,T-w.counterTimestamp>=1e3&&(w.fps=w.frameCounter*((T-w.counterTimestamp)/1e3),w.counterTimestamp=T,w.frameCounter=0),e.update(A,C)}},step:function(T){e.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var C=T.hasOwnProperty("body")?T.body:T;return n.get(this.localWorld,C.id,C.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,C=this.engine,A=this.debugGraphic,w=n.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&C.broadphase.controller&&this.renderGrid(C.broadphase,A,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(w,A,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(w),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(w,A,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(w,A,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(C.pairs.list,A,T.separationColor),T.showCollisions&&this.renderCollisions(C.pairs.list,A,T.collisionColor)}},renderGrid:function(T,C,A,w){C.lineStyle(1,A,w);for(var P=i.keys(T.buckets),F=0;F<P.length;F++){var L=P[F];if(!(T.buckets[L].length<2)){var O=L.split(/C|R/);C.strokeRect(parseInt(O[1],10)*T.bucketWidth,parseInt(O[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,C,A){C.lineStyle(1,A,1);for(var w=0;w<T.length;w++){var P=T[w];if(P.isActive){var F=P.collision,L=F.bodyA,O=F.bodyB,I=L.position,B=O.position,U=F.penetration,H=!L.isStatic&&!O.isStatic?4:1;O.isStatic&&(H=0),C.lineBetween(B.x,B.y,B.x-U.x*H,B.y-U.y*H),H=!L.isStatic&&!O.isStatic?4:1,L.isStatic&&(H=0),C.lineBetween(I.x,I.y,I.x-U.x*H,I.y-U.y*H)}}return this},renderCollisions:function(T,C,A){C.lineStyle(1,A,.5),C.fillStyle(A,1);var w,P;for(w=0;w<T.length;w++)if(P=T[w],!!P.isActive)for(var F=0;F<P.activeContacts.length;F++){var L=P.activeContacts[F],O=L.vertex;C.fillRect(O.x-2,O.y-2,5,5)}for(w=0;w<T.length;w++)if(P=T[w],!!P.isActive){var I=P.collision,B=P.activeContacts;if(B.length>0){var U=B[0].vertex.x,H=B[0].vertex.y;B.length===2&&(U=(B[0].vertex.x+B[1].vertex.x)/2,H=(B[0].vertex.y+B[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic?C.lineBetween(U-I.normal.x*8,H-I.normal.y*8,U,H):C.lineBetween(U+I.normal.x*8,H+I.normal.y*8,U,H)}}return this},renderBodyBounds:function(T,C,A,w){C.lineStyle(1,A,w);for(var P=0;P<T.length;P++){var F=T[P];if(F.render.visible){var L=F.bounds;if(L)C.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var O=F.parts,I=O.length>1?1:0;I<O.length;I++){var B=O[I];C.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(T,C,A,w,P){C.lineStyle(1,w,P);for(var F=0;F<T.length;F++){var L=T[F],O=L.parts;if(L.render.visible){var I,B,U;if(A)for(B=O.length>1?1:0;B<O.length;B++)for(I=O[B],U=0;U<I.axes.length;U++){var H=I.axes[U];C.lineBetween(I.position.x,I.position.y,I.position.x+H.x*20,I.position.y+H.y*20)}else for(B=O.length>1?1:0;B<O.length;B++)for(I=O[B],U=0;U<I.axes.length;U++)C.lineBetween(I.position.x,I.position.y,(I.vertices[0].x+I.vertices[I.vertices.length-1].x)/2,(I.vertices[0].y+I.vertices[I.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,C,A,w,P){C.lineStyle(P,A,w);for(var F=0;F<T.length;F++){var L=T[F];L.render.visible&&C.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(T){for(var C=this.debugGraphic,A=this.debugConfig,w=A.showBody,P=A.showStaticBody,F=A.showSleeping,L=A.showInternalEdges,O=A.showConvexHulls,I=A.renderFill,B=A.renderLine,U=A.staticBodySleepOpacity,H=A.sleepFillColor,Z=A.sleepLineColor,tt=A.hullColor,X=0;X<T.length;X++){var k=T[X];if(k.render.visible&&!(!P&&k.isStatic||!w&&!k.isStatic)){var D=k.render.lineColor,z=k.render.lineOpacity,Y=k.render.lineThickness,j=k.render.fillColor,J=k.render.fillOpacity;F&&k.isSleeping&&(k.isStatic?(z*=U,J*=U):(D=Z,j=H)),I||(j=null),B||(D=null),this.renderBody(k,C,L,D,z,Y,j,J);var it=k.parts.length;O&&it>1&&this.renderConvexHull(k,C,tt,Y)}}},renderBody:function(T,C,A,w,P,F,L,O){w===void 0&&(w=null),P===void 0&&(P=null),F===void 0&&(F=1),L===void 0&&(L=null),O===void 0&&(O=null);for(var I=this.debugConfig,B=I.sensorFillColor,U=I.sensorLineColor,H=T.parts,Z=H.length,tt=Z>1?1:0;tt<Z;tt++){var X=H[tt],k=X.render,D=k.opacity;if(!(!k.visible||D===0||X.isSensor&&!I.showSensors)){var z=X.circleRadius;if(C.beginPath(),X.isSensor?(L!==null&&C.fillStyle(B,O*D),w!==null&&C.lineStyle(F,U,P*D)):(L!==null&&C.fillStyle(L,O*D),w!==null&&C.lineStyle(F,w,P*D)),z)C.arc(X.position.x,X.position.y,z,0,2*Math.PI);else{var Y=X.vertices,j=Y.length;C.moveTo(Y[0].x,Y[0].y);for(var J=1;J<j;J++){var it=Y[J];if(!Y[J-1].isInternal||A?C.lineTo(it.x,it.y):C.moveTo(it.x,it.y),J<j&&it.isInternal&&!A){var st=(J+1)%j;C.moveTo(Y[st].x,Y[st].y)}}C.closePath()}L!==null&&C.fillPath(),w!==null&&C.strokePath()}}if(I.showPositions&&!T.isStatic){var at=T.position.x,ft=T.position.y,vt=Math.ceil(I.positionSize/2);C.fillStyle(I.positionColor,1),C.fillRect(at-vt,ft-vt,I.positionSize,I.positionSize)}return this},renderConvexHull:function(T,C,A,w){w===void 0&&(w=1);var P=T.parts,F=P.length;if(F>1){var L=T.vertices;C.lineStyle(w,A),C.beginPath(),C.moveTo(L[0].x,L[0].y);for(var O=1;O<L.length;O++)C.lineTo(L[O].x,L[O].y);C.lineTo(L[0].x,L[0].y),C.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,C=n.allConstraints(this.localWorld),A=0;A<C.length;A++){var w=C[A].render,P=w.lineColor,F=w.lineOpacity,L=w.lineThickness,O=w.pinSize,I=w.anchorColor,B=w.anchorSize;this.renderConstraint(C[A],T,P,F,L,O,I,B)}},renderConstraint:function(T,C,A,w,P,F,L,O){var I=T.render;if(!I.visible||!T.pointA||!T.pointB)return this;C.lineStyle(P,A,w);var B=T.bodyA,U=T.bodyB,H,Z;if(B?H=x.add(B.position,T.pointA):H=T.pointA,I.type==="pin")C.strokeCircle(H.x,H.y,F);else{if(U?Z=x.add(U.position,T.pointB):Z=T.pointB,C.beginPath(),C.moveTo(H.x,H.y),I.type==="spring")for(var tt=x.sub(Z,H),X=x.perp(x.normalise(tt)),k=Math.ceil(i.clamp(T.length/5,12,20)),D,z=1;z<k;z+=1)D=z%2===0?1:-1,C.lineTo(H.x+tt.x*(z/k)+X.x*D*4,H.y+tt.y*(z/k)+X.y*D*4);C.lineTo(Z.x,Z.y)}return C.strokePath(),I.anchors&&O>0&&(C.fillStyle(L),C.fillCircle(H.x,H.y,O),C.fillCircle(Z.x,Z.y,O)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){u.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=S},70410:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t){return this.body.restitution=t,this}};c.exports=y},66968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var o=0;if(!Array.isArray(t))o=t;else for(var v=0;v<t.length;v++)o|=t[v];return this.body.collisionFilter.mask=o,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,o){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var s=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(s,o)}return this}};c.exports=y},51607:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v={applyForce:function(s){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,s),this},applyForceFrom:function(s,i){return o.applyForce(this.body,s,i),this},thrust:function(s){var i=this.body.angle;return this._tempVec2.set(s*Math.cos(i),s*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(s){var i=this.body.angle-Math.PI/2;return this._tempVec2.set(s*Math.cos(i),s*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(s){var i=this.body.angle+Math.PI/2;return this._tempVec2.set(s*Math.cos(i),s*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(s){var i=this.body.angle-Math.PI;return this._tempVec2.set(s*Math.cos(i),s*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=v},5436:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,o,v){return this.body.friction=t,o!==void 0&&(this.body.frictionAir=o),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};c.exports=y},39858:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};c.exports=y},37302:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v=t(26099),s={setMass:function(i){return o.setMass(this.body,i),this},setDensity:function(i){return o.setDensity(this.body,i),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=s},39132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};c.exports=y},57772:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),s=t(43855),i=t(95540),n=t(19496),e=t(85791),r=t(41598),l={setRectangle:function(a,h,f){return this.setBody({type:"rectangle",width:a,height:h},f)},setCircle:function(a,h){return this.setBody({type:"circle",radius:a},h)},setPolygon:function(a,h,f){return this.setBody({type:"polygon",sides:h,radius:a},f)},setTrapezoid:function(a,h,f,u){return this.setBody({type:"trapezoid",width:a,height:h,slope:f},u)},setExistingBody:function(a,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var f=0;f<a.parts.length;f++)a.parts[f].gameObject=this;var u=this;if(a.destroy=function(){u.world.remove(u.body,!0),u.body.gameObject=null},h&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var d=a.render.sprite.xOffset,m=a.render.sprite.yOffset,x=a.centerOfMass.x,S=a.centerOfMass.y;if(s(x,.5)&&s(S,.5))this.setOrigin(d+.5,m+.5);else{var T=a.centerOffset.x,C=a.centerOffset.y;this.setOrigin(d+T/this.displayWidth,m+C/this.displayHeight)}}return this},setBody:function(a,h){if(!a)return this;var f;typeof a=="string"&&(a={type:a});var u=i(a,"type","rectangle"),d=i(a,"x",this._tempVec2.x),m=i(a,"y",this._tempVec2.y),x=i(a,"width",this.width),S=i(a,"height",this.height);switch(u){case"rectangle":f=o.rectangle(d,m,x,S,h);break;case"circle":var T=i(a,"radius",Math.max(x,S)/2),C=i(a,"maxSides",25);f=o.circle(d,m,T,h,C);break;case"trapezoid":var A=i(a,"slope",.5);f=o.trapezoid(d,m,x,S,A,h);break;case"polygon":var w=i(a,"sides",5),P=i(a,"radius",Math.max(x,S)/2);f=o.polygon(d,m,w,P,h);break;case"fromVertices":case"fromVerts":var F=i(a,"verts",null);if(F)if(typeof F=="string"&&(F=r.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,F),f=this.body;else{var L=i(a,"flagInternal",!1),O=i(a,"removeCollinear",.01),I=i(a,"minimumArea",10);f=o.fromVertices(d,m,F,h,L,O,I)}break;case"fromPhysicsEditor":f=n.parseBody(d,m,a,h);break;case"fromPhysicsTracer":f=e.parseBody(d,m,a,h);break}return f&&this.setExistingBody(f,a.addToWorld),this}};c.exports=l},38083:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1121),v=t(53614),s=t(35810),i={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;s.on(this.body,"sleepStart",function(r){e.emit(o.SLEEP_START,r,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;s.on(this.body,"sleepEnd",function(r){e.emit(o.SLEEP_END,r,this)})}else s.off(this.body,"sleepEnd");return this}};c.exports=i},90556:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v={setStatic:function(s){return o.setStatic(this.body,s),this},isStatic:function(){return this.body.isStatic}};c.exports=v},85436:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v=t(36383),s=t(86554),i=t(30954),n=4,e={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),o.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var l=1/this._scaleX,a=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=~n:this.renderFlags|=n,o.scale(this.body,l,a),o.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var l=1/this._scaleX,a=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=~n:this.renderFlags|=n,o.scale(this.body,l,a),o.scale(this.body,this._scaleX,r)}},angle:{get:function(){return i(this.body.angle*v.RAD_TO_DEG)},set:function(r){this.rotation=i(r)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=s(r),o.setAngle(this.body,this._rotation)}},setPosition:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this._tempVec2.set(r,l),o.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=s(r),o.setAngle(this.body,r),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,o.setAngle(this.body,this.rotation),this},setScale:function(r,l,a){r===void 0&&(r=1),l===void 0&&(l=r);var h=1/this._scaleX,f=1/this._scaleY;return this._scaleX=r,this._scaleY=l,o.scale(this.body,h,f,a),o.scale(this.body,r,l,a),this}};c.exports=e},42081:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v={setVelocityX:function(s){return this._tempVec2.set(s,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(s){return this._tempVec2.set(this.body.velocity.x,s),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(s,i){return this._tempVec2.set(s,i),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(s){return o.setAngularVelocity(this.body,s),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(s){return o.setAngularSpeed(this.body,s),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};c.exports=v},31884:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},1213:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},25968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},67205:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},39438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},44823:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},92593:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},60128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},76861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},92362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},76408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},93971:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},5656:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},47861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},79099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},35906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},1121:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(c,y,t)=>{var o={};c.exports=o;var v=t(41598),s=t(31725),i=t(53614),n=t(53402),e=t(15647),r=t(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(a){var h={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=v.centre(a.vertices):a.hasOwnProperty("vertices")||(h.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=n.extend(h,a);return l(f,a),f.setOnCollideWith=function(u,d){return d?this.onCollideWith[u.id]=d:delete this.onCollideWith[u.id],this},f},o.nextGroup=function(a){return a?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var l=function(a,h){if(h=h||{},o.set(a,{bounds:a.bounds||e.create(a.vertices),positionPrev:a.positionPrev||s.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),v.rotate(a.vertices,a.angle,a.position),r.rotate(a.axes,a.angle),e.update(a.bounds,a.vertices,a.velocity),o.set(a,{axes:h.axes||a.axes,area:h.area||a.area,mass:h.mass||a.mass,inertia:h.inertia||a.inertia}),a.parts.length===1){var f=a.bounds,u=a.centerOfMass,d=a.centerOffset,m=f.max.x-f.min.x,x=f.max.y-f.min.y;u.x=-(f.min.x-a.position.x)/m,u.y=-(f.min.y-a.position.y)/x,d.x=m*u.x,d.y=x*u.y}};o.set=function(a,h,f){var u;typeof h=="string"&&(u=h,h={},h[u]=f);for(u in h)if(Object.prototype.hasOwnProperty.call(h,u))switch(f=h[u],u){case"isStatic":o.setStatic(a,f);break;case"isSleeping":i.set(a,f);break;case"mass":o.setMass(a,f);break;case"density":o.setDensity(a,f);break;case"inertia":o.setInertia(a,f);break;case"vertices":o.setVertices(a,f);break;case"position":o.setPosition(a,f);break;case"angle":o.setAngle(a,f);break;case"velocity":o.setVelocity(a,f);break;case"angularVelocity":o.setAngularVelocity(a,f);break;case"speed":o.setSpeed(a,f);break;case"angularSpeed":o.setAngularSpeed(a,f);break;case"parts":o.setParts(a,f);break;case"centre":o.setCentre(a,f);break;default:a[u]=f}},o.setStatic=function(a,h){for(var f=0;f<a.parts.length;f++){var u=a.parts[f];h?(u.isStatic||(u._original={restitution:u.restitution,friction:u.friction,mass:u.mass,inertia:u.inertia,density:u.density,inverseMass:u.inverseMass,inverseInertia:u.inverseInertia}),u.restitution=0,u.friction=1,u.mass=u.inertia=u.density=1/0,u.inverseMass=u.inverseInertia=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.angularVelocity=0,u.speed=0,u.angularSpeed=0,u.motion=0):u._original&&(u.restitution=u._original.restitution,u.friction=u._original.friction,u.mass=u._original.mass,u.inertia=u._original.inertia,u.density=u._original.density,u.inverseMass=u._original.inverseMass,u.inverseInertia=u._original.inverseInertia,u._original=null),u.isStatic=h}},o.setMass=function(a,h){var f=a.inertia/(a.mass/6);a.inertia=f*(h/6),a.inverseInertia=1/a.inertia,a.mass=h,a.inverseMass=1/a.mass,a.density=a.mass/a.area},o.setDensity=function(a,h){o.setMass(a,h*a.area),a.density=h},o.setInertia=function(a,h){a.inertia=h,a.inverseInertia=1/a.inertia},o.setVertices=function(a,h){h[0].body===a?a.vertices=h:a.vertices=v.create(h,a),a.axes=r.fromVertices(a.vertices),a.area=v.area(a.vertices),o.setMass(a,a.density*a.area);var f=v.centre(a.vertices);v.translate(a.vertices,f,-1),o.setInertia(a,o._inertiaScale*v.inertia(a.vertices,a.mass)),v.translate(a.vertices,a.position),e.update(a.bounds,a.vertices,a.velocity)},o.setParts=function(a,h,f){var u;for(h=h.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,u=0;u<h.length;u++){var d=h[u];d!==a&&(d.parent=a,a.parts.push(d))}if(a.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var m=[];for(u=0;u<h.length;u++)m=m.concat(h[u].vertices);v.clockwiseSort(m);var x=v.hull(m),S=v.centre(x);o.setVertices(a,x),v.translate(a.vertices,S)}var T=o._totalProperties(a),C=T.centre.x,A=T.centre.y,w=a.bounds,P=a.centerOfMass,F=a.centerOffset;e.update(w,a.vertices,a.velocity),P.x=-(w.min.x-C)/(w.max.x-w.min.x),P.y=-(w.min.y-A)/(w.max.y-w.min.y),F.x=C,F.y=A,a.area=T.area,a.parent=a,a.position.x=C,a.position.y=A,a.positionPrev.x=C,a.positionPrev.y=A,o.setMass(a,T.mass),o.setInertia(a,T.inertia),o.setPosition(a,T.centre)}},o.setCentre=function(a,h,f){f?(a.positionPrev.x+=h.x,a.positionPrev.y+=h.y,a.position.x+=h.x,a.position.y+=h.y):(a.positionPrev.x=h.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=h.y-(a.position.y-a.positionPrev.y),a.position.x=h.x,a.position.y=h.y)},o.setPosition=function(a,h,f){var u=s.sub(h,a.position);f?(a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.velocity.x=u.x,a.velocity.y=u.y,a.speed=s.magnitude(u)):(a.positionPrev.x+=u.x,a.positionPrev.y+=u.y);for(var d=0;d<a.parts.length;d++){var m=a.parts[d];m.position.x+=u.x,m.position.y+=u.y,v.translate(m.vertices,u),e.update(m.bounds,m.vertices,a.velocity)}},o.setAngle=function(a,h,f){var u=h-a.angle;f?(a.anglePrev=a.angle,a.angularVelocity=u,a.angularSpeed=Math.abs(u)):a.anglePrev+=u;for(var d=0;d<a.parts.length;d++){var m=a.parts[d];m.angle+=u,v.rotate(m.vertices,u,a.position),r.rotate(m.axes,u),e.update(m.bounds,m.vertices,a.velocity),d>0&&s.rotateAbout(m.position,u,a.position,m.position)}},o.setVelocity=function(a,h){var f=a.deltaTime/o._baseDelta;a.positionPrev.x=a.position.x-h.x*f,a.positionPrev.y=a.position.y-h.y*f,a.velocity.x=(a.position.x-a.positionPrev.x)/f,a.velocity.y=(a.position.y-a.positionPrev.y)/f,a.speed=s.magnitude(a.velocity)},o.getVelocity=function(a){var h=o._baseDelta/a.deltaTime;return{x:(a.position.x-a.positionPrev.x)*h,y:(a.position.y-a.positionPrev.y)*h}},o.getSpeed=function(a){return s.magnitude(o.getVelocity(a))},o.setSpeed=function(a,h){o.setVelocity(a,s.mult(s.normalise(o.getVelocity(a)),h))},o.setAngularVelocity=function(a,h){var f=a.deltaTime/o._baseDelta;a.anglePrev=a.angle-h*f,a.angularVelocity=(a.angle-a.anglePrev)/f,a.angularSpeed=Math.abs(a.angularVelocity)},o.getAngularVelocity=function(a){return(a.angle-a.anglePrev)*o._baseDelta/a.deltaTime},o.getAngularSpeed=function(a){return Math.abs(o.getAngularVelocity(a))},o.setAngularSpeed=function(a,h){o.setAngularVelocity(a,n.sign(o.getAngularVelocity(a))*h)},o.translate=function(a,h,f){o.setPosition(a,s.add(a.position,h),f)},o.rotate=function(a,h,f,u){if(!f)o.setAngle(a,a.angle+h,u);else{var d=Math.cos(h),m=Math.sin(h),x=a.position.x-f.x,S=a.position.y-f.y;o.setPosition(a,{x:f.x+(x*d-S*m),y:f.y+(x*m+S*d)},u),o.setAngle(a,a.angle+h,u)}},o.scale=function(a,h,f,u){var d=0,m=0;u=u||a.position;for(var x=a.inertia===1/0,S=0;S<a.parts.length;S++){var T=a.parts[S];T.scale.x=h,T.scale.y=f,v.scale(T.vertices,h,f,u),T.axes=r.fromVertices(T.vertices),T.area=v.area(T.vertices),o.setMass(T,a.density*T.area),v.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),o.setInertia(T,o._inertiaScale*v.inertia(T.vertices,T.mass)),v.translate(T.vertices,{x:T.position.x,y:T.position.y}),S>0&&(d+=T.area,m+=T.inertia),T.position.x=u.x+(T.position.x-u.x)*h,T.position.y=u.y+(T.position.y-u.y)*f,e.update(T.bounds,T.vertices,a.velocity)}a.parts.length>1&&(a.area=d,a.isStatic||(o.setMass(a,a.density*d),o.setInertia(a,m))),a.circleRadius&&(h===f?a.circleRadius*=h:a.circleRadius=null),x&&o.setInertia(a,1/0)},o.update=function(a,h){h=(typeof h<"u"?h:16.666666666666668)*a.timeScale;var f=h*h,u=o._timeCorrection?h/(a.deltaTime||h):1,d=1-a.frictionAir*(h/n._baseDelta),m=(a.position.x-a.positionPrev.x)*u,x=(a.position.y-a.positionPrev.y)*u;a.velocity.x=m*d+a.force.x/a.mass*f,a.velocity.y=x*d+a.force.y/a.mass*f,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.deltaTime=h,a.angularVelocity=(a.angle-a.anglePrev)*d*u+a.torque/a.inertia*f,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=s.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var S=0;S<a.parts.length;S++){var T=a.parts[S];v.translate(T.vertices,a.velocity),S>0&&(T.position.x+=a.velocity.x,T.position.y+=a.velocity.y),a.angularVelocity!==0&&(v.rotate(T.vertices,a.angularVelocity,a.position),r.rotate(T.axes,a.angularVelocity),S>0&&s.rotateAbout(T.position,a.angularVelocity,a.position,T.position)),e.update(T.bounds,T.vertices,a.velocity)}},o.updateVelocities=function(a){var h=o._baseDelta/a.deltaTime,f=a.velocity;f.x=(a.position.x-a.positionPrev.x)*h,f.y=(a.position.y-a.positionPrev.y)*h,a.speed=Math.sqrt(f.x*f.x+f.y*f.y),a.angularVelocity=(a.angle-a.anglePrev)*h,a.angularSpeed=Math.abs(a.angularVelocity)},o.applyForce=function(a,h,f){var u={x:h.x-a.position.x,y:h.y-a.position.y};a.force.x+=f.x,a.force.y+=f.y,a.torque+=u.x*f.y-u.y*f.x},o._totalProperties=function(a){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=a.parts.length===1?0:1;f<a.parts.length;f++){var u=a.parts[f],d=u.mass!==1/0?u.mass:1;h.mass+=d,h.area+=u.area,h.inertia+=u.inertia,h.centre=s.add(h.centre,s.mult(u.position,d))}return h.centre=s.div(h.centre,h.mass),h}})()},69351:(c,y,t)=>{var o={};c.exports=o;var v=t(35810),s=t(53402),i=t(15647),n=t(22562);(function(){o.create=function(e){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},o.setModified=function(e,r,l,a){if(v.trigger(e,"compositeModified",e),e.isModified=r,r&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&o.setModified(e.parent,r,l,a),a)for(var h=0;h<e.composites.length;h++){var f=e.composites[h];o.setModified(f,r,l,a)}},o.add=function(e,r){var l=[].concat(r);v.trigger(e,"beforeAdd",{object:r});for(var a=0;a<l.length;a++){var h=l[a];switch(h.type){case"body":if(h.parent!==h){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,h);break;case"constraint":o.addConstraint(e,h);break;case"composite":o.addComposite(e,h);break;case"mouseConstraint":o.addConstraint(e,h.constraint);break}}return v.trigger(e,"afterAdd",{object:r}),e},o.remove=function(e,r,l){var a=[].concat(r);v.trigger(e,"beforeRemove",{object:r});for(var h=0;h<a.length;h++){var f=a[h];switch(f.type){case"body":o.removeBody(e,f,l);break;case"constraint":o.removeConstraint(e,f,l);break;case"composite":o.removeComposite(e,f,l);break;case"mouseConstraint":o.removeConstraint(e,f.constraint);break}}return v.trigger(e,"afterRemove",{object:r}),e},o.addComposite=function(e,r){return e.composites.push(r),r.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,r,l){var a=s.indexOf(e.composites,r);if(a!==-1&&o.removeCompositeAt(e,a),l)for(var h=0;h<e.composites.length;h++)o.removeComposite(e.composites[h],r,!0);return e},o.removeCompositeAt=function(e,r){return e.composites.splice(r,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,r){return e.bodies.push(r),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,r,l){var a=s.indexOf(e.bodies,r);if(a!==-1&&o.removeBodyAt(e,a),l)for(var h=0;h<e.composites.length;h++)o.removeBody(e.composites[h],r,!0);return e},o.removeBodyAt=function(e,r){return e.bodies.splice(r,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,r){return e.constraints.push(r),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,r,l){var a=s.indexOf(e.constraints,r);if(a!==-1&&o.removeConstraintAt(e,a),l)for(var h=0;h<e.composites.length;h++)o.removeConstraint(e.composites[h],r,!0);return e},o.removeConstraintAt=function(e,r){return e.constraints.splice(r,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,r,l){if(l)for(var a=0;a<e.composites.length;a++)o.clear(e.composites[a],r,!0);return r?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var r=[].concat(e.bodies),l=0;l<e.composites.length;l++)r=r.concat(o.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=r),r},o.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var r=[].concat(e.constraints),l=0;l<e.composites.length;l++)r=r.concat(o.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=r),r},o.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var r=[].concat(e.composites),l=0;l<e.composites.length;l++)r=r.concat(o.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=r),r},o.get=function(e,r,l){var a,h;switch(l){case"body":a=o.allBodies(e);break;case"constraint":a=o.allConstraints(e);break;case"composite":a=o.allComposites(e).concat(e);break}return a?(h=a.filter(function(f){return f.id.toString()===r.toString()}),h.length===0?null:h[0]):null},o.move=function(e,r,l){return o.remove(e,r),o.add(l,r),e},o.rebase=function(e){for(var r=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),l=0;l<r.length;l++)r[l].id=s.nextId();return e},o.translate=function(e,r,l){for(var a=l?o.allBodies(e):e.bodies,h=0;h<a.length;h++)n.translate(a[h],r);return e},o.rotate=function(e,r,l,a){for(var h=Math.cos(r),f=Math.sin(r),u=a?o.allBodies(e):e.bodies,d=0;d<u.length;d++){var m=u[d],x=m.position.x-l.x,S=m.position.y-l.y;n.setPosition(m,{x:l.x+(x*h-S*f),y:l.y+(x*f+S*h)}),n.rotate(m,r)}return e},o.scale=function(e,r,l,a,h){for(var f=h?o.allBodies(e):e.bodies,u=0;u<f.length;u++){var d=f[u],m=d.position.x-a.x,x=d.position.y-a.y;n.setPosition(d,{x:a.x+m*r,y:a.y+x*l}),n.scale(d,r,l)}return e},o.bounds=function(e){for(var r=o.allBodies(e),l=[],a=0;a<r.length;a+=1){var h=r[a];l.push(h.bounds.min,h.bounds.max)}return i.create(l)}})()},4372:(c,y,t)=>{var o={};c.exports=o;var v=t(69351);(function(){o.create=v.create,o.add=v.add,o.remove=v.remove,o.clear=v.clear,o.addComposite=v.addComposite,o.addBody=v.addBody,o.addConstraint=v.addConstraint})()},52284:(c,y,t)=>{var o={};c.exports=o;var v=t(41598),s=t(4506);(function(){var i=[],n={overlap:0,axis:null},e={overlap:0,axis:null};o.create=function(r,l){return{pair:null,collided:!1,bodyA:r,bodyB:l,parentA:r.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},o.collides=function(r,l,a){if(o._overlapAxes(n,r.vertices,l.vertices,r.axes),n.overlap<=0||(o._overlapAxes(e,l.vertices,r.vertices,l.axes),e.overlap<=0))return null;var h=a&&a.table[s.id(r,l)],f;h?f=h.collision:(f=o.create(r,l),f.collided=!0,f.bodyA=r.id<l.id?r:l,f.bodyB=r.id<l.id?l:r,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),r=f.bodyA,l=f.bodyB;var u;n.overlap<e.overlap?u=n:u=e;var d=f.normal,m=f.supports,x=u.axis,S=x.x,T=x.y;S*(l.position.x-r.position.x)+T*(l.position.y-r.position.y)<0?(d.x=S,d.y=T):(d.x=-S,d.y=-T),f.tangent.x=-d.y,f.tangent.y=d.x,f.depth=u.overlap,f.penetration.x=d.x*f.depth,f.penetration.y=d.y*f.depth;var C=o._findSupports(r,l,d,1),A=0;if(v.contains(r.vertices,C[0])&&(m[A++]=C[0]),v.contains(r.vertices,C[1])&&(m[A++]=C[1]),A<2){var w=o._findSupports(l,r,d,-1);v.contains(l.vertices,w[0])&&(m[A++]=w[0]),A<2&&v.contains(l.vertices,w[1])&&(m[A++]=w[1])}return A===0&&(m[A++]=C[0]),m.length=A,f},o._overlapAxes=function(r,l,a,h){var f=l.length,u=a.length,d=l[0].x,m=l[0].y,x=a[0].x,S=a[0].y,T=h.length,C=Number.MAX_VALUE,A=0,w,P,F,L,O,I;for(O=0;O<T;O++){var B=h[O],U=B.x,H=B.y,Z=d*U+m*H,tt=x*U+S*H,X=Z,k=tt;for(I=1;I<f;I+=1)L=l[I].x*U+l[I].y*H,L>X?X=L:L<Z&&(Z=L);for(I=1;I<u;I+=1)L=a[I].x*U+a[I].y*H,L>k?k=L:L<tt&&(tt=L);if(P=X-tt,F=k-Z,w=P<F?P:F,w<C&&(C=w,A=O,w<=0))break}r.axis=h[A],r.overlap=C},o._projectToAxis=function(r,l,a){for(var h=l[0].x*a.x+l[0].y*a.y,f=h,u=1;u<l.length;u+=1){var d=l[u].x*a.x+l[u].y*a.y;d>f?f=d:d<h&&(h=d)}r.min=h,r.max=f},o._findSupports=function(r,l,a,h){var f=l.vertices,u=f.length,d=r.position.x,m=r.position.y,x=a.x*h,S=a.y*h,T=Number.MAX_VALUE,C,A,w,P,F;for(F=0;F<u;F+=1)A=f[F],P=x*(d-A.x)+S*(m-A.y),P<T&&(T=P,C=A);return w=f[(u+C.index-1)%u],T=x*(d-w.x)+S*(m-w.y),A=f[(C.index+1)%u],x*(d-A.x)+S*(m-A.y)<T?(i[0]=C,i[1]=A,i):(i[0]=C,i[1]=w,i)}})()},43424:c=>{var y={};c.exports=y,function(){y.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,y,t)=>{var o={};c.exports=o;var v=t(53402),s=t(52284);(function(){o.create=function(i){var n={bodies:[],pairs:null};return v.extend(n,i)},o.setBodies=function(i,n){i.bodies=n.slice(0)},o.clear=function(i){i.bodies=[]},o.collisions=function(i){var n=[],e=i.pairs,r=i.bodies,l=r.length,a=o.canCollide,h=s.collides,f,u;for(r.sort(o._compareBoundsX),f=0;f<l;f++){var d=r[f],m=d.bounds,x=d.bounds.max.x,S=d.bounds.max.y,T=d.bounds.min.y,C=d.isStatic||d.isSleeping,A=d.parts.length,w=A===1;for(u=f+1;u<l;u++){var P=r[u],F=P.bounds;if(F.min.x>x)break;if(!(S<F.min.y||T>F.max.y)&&!(C&&(P.isStatic||P.isSleeping))&&a(d.collisionFilter,P.collisionFilter)){var L=P.parts.length;if(w&&L===1){var O=h(d,P,e);O&&n.push(O)}else for(var I=A>1?1:0,B=L>1?1:0,U=I;U<A;U++)for(var H=d.parts[U],m=H.bounds,Z=B;Z<L;Z++){var tt=P.parts[Z],F=tt.bounds;if(!(m.min.x>F.max.x||m.max.x<F.min.x||m.max.y<F.min.y||m.min.y>F.max.y)){var O=h(H,tt,e);O&&n.push(O)}}}}}return n},o.canCollide=function(i,n){return i.group===n.group&&i.group!==0?i.group>0:(i.mask&n.category)!==0&&(n.mask&i.category)!==0},o._compareBoundsX=function(i,n){return i.bounds.min.x-n.bounds.min.x}})()},4506:(c,y,t)=>{var o={};c.exports=o;var v=t(43424);(function(){o.create=function(s,i){var n=s.bodyA,e=s.bodyB,r={id:o.id(n,e),bodyA:n,bodyB:e,collision:s,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:i,timeUpdated:i,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(r,s,i),r},o.update=function(s,i,n){var e=s.contacts,r=i.supports,l=s.activeContacts,a=i.parentA,h=i.parentB,f=a.vertices.length;s.isActive=!0,s.timeUpdated=n,s.collision=i,s.separation=i.depth,s.inverseMass=a.inverseMass+h.inverseMass,s.friction=a.friction<h.friction?a.friction:h.friction,s.frictionStatic=a.frictionStatic>h.frictionStatic?a.frictionStatic:h.frictionStatic,s.restitution=a.restitution>h.restitution?a.restitution:h.restitution,s.slop=a.slop>h.slop?a.slop:h.slop,i.pair=s,l.length=0;for(var u=0;u<r.length;u++){var d=r[u],m=d.body===a?d.index:f+d.index,x=e[m];x?l.push(x):l.push(e[m]=v.create(d))}},o.setActive=function(s,i,n){i?(s.isActive=!0,s.timeUpdated=n):(s.isActive=!1,s.activeContacts.length=0)},o.id=function(s,i){return s.id<i.id?"A"+s.id+"B"+i.id:"A"+i.id+"B"+s.id}})()},99561:(c,y,t)=>{var o={};c.exports=o;var v=t(4506),s=t(53402);(function(){o.create=function(i){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},o.update=function(i,n,e){var r=i.list,l=r.length,a=i.table,h=n.length,f=i.collisionStart,u=i.collisionEnd,d=i.collisionActive,m,x,S,T;for(f.length=0,u.length=0,d.length=0,T=0;T<l;T++)r[T].confirmedActive=!1;for(T=0;T<h;T++)m=n[T],S=m.pair,S?(S.isActive?d.push(S):f.push(S),v.update(S,m,e),S.confirmedActive=!0):(S=v.create(m,e),a[S.id]=S,f.push(S),r.push(S));var C=[];for(l=r.length,T=0;T<l;T++)S=r[T],S.confirmedActive||(v.setActive(S,!1,e),u.push(S),!S.collision.bodyA.isSleeping&&!S.collision.bodyB.isSleeping&&C.push(T));for(T=0;T<C.length;T++)x=C[T]-T,S=r[x],r.splice(x,1),delete a[S.id]},o.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},73296:(c,y,t)=>{var o={};c.exports=o;var v=t(31725),s=t(52284),i=t(15647),n=t(66280),e=t(41598);(function(){o.collides=function(r,l){for(var a=[],h=l.length,f=r.bounds,u=s.collides,d=i.overlaps,m=0;m<h;m++){var x=l[m],S=x.parts.length,T=S===1?0:1;if(r!==x&&d(x.bounds,f))for(var C=T;C<S;C++){var A=x.parts[C];if(d(A.bounds,f)){var w=u(A,r);if(w){a.push(w);break}}}}return a},o.ray=function(r,l,a,h){h=h||1e-100;for(var f=v.angle(l,a),u=v.magnitude(v.sub(l,a)),d=(a.x+l.x)*.5,m=(a.y+l.y)*.5,x=n.rectangle(d,m,u,h,{angle:f}),S=o.collides(x,r),T=0;T<S.length;T+=1){var C=S[T];C.body=C.bodyB=C.bodyA}return S},o.region=function(r,l,a){for(var h=[],f=0;f<r.length;f++){var u=r[f],d=i.overlaps(u.bounds,l);(d&&!a||!d&&a)&&h.push(u)}return h},o.point=function(r,l){for(var a=[],h=0;h<r.length;h++){var f=r[h];if(i.contains(f.bounds,l))for(var u=f.parts.length===1?0:1;u<f.parts.length;u++){var d=f.parts[u];if(i.contains(d.bounds,l)&&e.contains(d.vertices,l)){a.push(f);break}}}return a}})()},66272:(c,y,t)=>{var o={};c.exports=o;var v=t(41598),s=t(53402),i=t(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(n){var e,r,l,a=n.length;for(e=0;e<a;e++)r=n[e],r.isActive&&(l=r.activeContacts.length,r.collision.parentA.totalContacts+=l,r.collision.parentB.totalContacts+=l)},o.solvePosition=function(n,e,r){var l,a,h,f,u,d,m,x,S=o._positionDampen*(r||1),T=s.clamp(e/s._baseDelta,0,1),C=n.length;for(l=0;l<C;l++)a=n[l],!(!a.isActive||a.isSensor)&&(h=a.collision,f=h.parentA,u=h.parentB,d=h.normal,a.separation=d.x*(u.positionImpulse.x+h.penetration.x-f.positionImpulse.x)+d.y*(u.positionImpulse.y+h.penetration.y-f.positionImpulse.y));for(l=0;l<C;l++)a=n[l],!(!a.isActive||a.isSensor)&&(h=a.collision,f=h.parentA,u=h.parentB,d=h.normal,x=a.separation-a.slop*T,(f.isStatic||u.isStatic)&&(x*=2),f.isStatic||f.isSleeping||(m=S/f.totalContacts,f.positionImpulse.x+=d.x*x*m,f.positionImpulse.y+=d.y*x*m),u.isStatic||u.isSleeping||(m=S/u.totalContacts,u.positionImpulse.x-=d.x*x*m,u.positionImpulse.y-=d.y*x*m))},o.postSolvePosition=function(n){for(var e=o._positionWarming,r=n.length,l=v.translate,a=i.update,h=0;h<r;h++){var f=n[h],u=f.positionImpulse,d=u.x,m=u.y,x=f.velocity;if(f.totalContacts=0,d!==0||m!==0){for(var S=0;S<f.parts.length;S++){var T=f.parts[S];l(T.vertices,u),a(T.bounds,T.vertices,x),T.position.x+=d,T.position.y+=m}f.positionPrev.x+=d,f.positionPrev.y+=m,d*x.x+m*x.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},o.preSolveVelocity=function(n){var e=n.length,r,l;for(r=0;r<e;r++){var a=n[r];if(!(!a.isActive||a.isSensor)){var h=a.activeContacts,f=h.length,u=a.collision,d=u.parentA,m=u.parentB,x=u.normal,S=u.tangent;for(l=0;l<f;l++){var T=h[l],C=T.vertex,A=T.normalImpulse,w=T.tangentImpulse;if(A!==0||w!==0){var P=x.x*A+S.x*w,F=x.y*A+S.y*w;d.isStatic||d.isSleeping||(d.positionPrev.x+=P*d.inverseMass,d.positionPrev.y+=F*d.inverseMass,d.anglePrev+=d.inverseInertia*((C.x-d.position.x)*F-(C.y-d.position.y)*P)),m.isStatic||m.isSleeping||(m.positionPrev.x-=P*m.inverseMass,m.positionPrev.y-=F*m.inverseMass,m.anglePrev-=m.inverseInertia*((C.x-m.position.x)*F-(C.y-m.position.y)*P))}}}}},o.solveVelocity=function(n,e){var r=e/s._baseDelta,l=r*r,a=l*r,h=-o._restingThresh*r,f=o._restingThreshTangent,u=o._frictionNormalMultiplier*r,d=o._frictionMaxStatic,m=n.length,x,S,T,C;for(T=0;T<m;T++){var A=n[T];if(!(!A.isActive||A.isSensor)){var w=A.collision,P=w.parentA,F=w.parentB,L=P.velocity,O=F.velocity,I=w.normal.x,B=w.normal.y,U=w.tangent.x,H=w.tangent.y,Z=A.activeContacts,tt=Z.length,X=1/tt,k=P.inverseMass+F.inverseMass,D=A.friction*A.frictionStatic*u;for(L.x=P.position.x-P.positionPrev.x,L.y=P.position.y-P.positionPrev.y,O.x=F.position.x-F.positionPrev.x,O.y=F.position.y-F.positionPrev.y,P.angularVelocity=P.angle-P.anglePrev,F.angularVelocity=F.angle-F.anglePrev,C=0;C<tt;C++){var z=Z[C],Y=z.vertex,j=Y.x-P.position.x,J=Y.y-P.position.y,it=Y.x-F.position.x,st=Y.y-F.position.y,at=L.x-J*P.angularVelocity,ft=L.y+j*P.angularVelocity,vt=O.x-st*F.angularVelocity,xt=O.y+it*F.angularVelocity,Ct=at-vt,yt=ft-xt,Pt=I*Ct+B*yt,Gt=U*Ct+H*yt,Ut=A.separation+Pt,Nt=Math.min(Ut,1);Nt=Ut<0?0:Nt;var wt=Nt*D;Gt<-wt||Gt>wt?(S=Gt>0?Gt:-Gt,x=A.friction*(Gt>0?1:-1)*a,x<-S?x=-S:x>S&&(x=S)):(x=Gt,S=d);var Dt=j*B-J*I,Rt=it*B-st*I,Ht=X/(k+P.inverseInertia*Dt*Dt+F.inverseInertia*Rt*Rt),qt=(1+A.restitution)*Pt*Ht;if(x*=Ht,Pt<h)z.normalImpulse=0;else{var ee=z.normalImpulse;z.normalImpulse+=qt,z.normalImpulse>0&&(z.normalImpulse=0),qt=z.normalImpulse-ee}if(Gt<-f||Gt>f)z.tangentImpulse=0;else{var te=z.tangentImpulse;z.tangentImpulse+=x,z.tangentImpulse<-S&&(z.tangentImpulse=-S),z.tangentImpulse>S&&(z.tangentImpulse=S),x=z.tangentImpulse-te}var oe=I*qt+U*x,Vt=B*qt+H*x;P.isStatic||P.isSleeping||(P.positionPrev.x+=oe*P.inverseMass,P.positionPrev.y+=Vt*P.inverseMass,P.anglePrev+=(j*Vt-J*oe)*P.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=oe*F.inverseMass,F.positionPrev.y-=Vt*F.inverseMass,F.anglePrev-=(it*Vt-st*oe)*F.inverseInertia)}}}}})()},48140:(c,y,t)=>{var o={};c.exports=o;var v=t(41598),s=t(31725),i=t(53614),n=t(15647),e=t(66615),r=t(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(l){var a=l;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var h=a.bodyA?s.add(a.bodyA.position,a.pointA):a.pointA,f=a.bodyB?s.add(a.bodyB.position,a.pointB):a.pointB,u=s.magnitude(s.sub(h,f));a.length=typeof a.length<"u"?a.length:u,a.id=a.id||r.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return a.length===0&&a.stiffness>.1?(d.type="pin",d.anchors=!1):a.stiffness<.9&&(d.type="spring"),a.render=r.extend(d,a.render),a},o.preSolveAll=function(l){for(var a=0;a<l.length;a+=1){var h=l[a],f=h.constraintImpulse;h.isStatic||f.x===0&&f.y===0&&f.angle===0||(h.position.x+=f.x,h.position.y+=f.y,h.angle+=f.angle)}},o.solveAll=function(l,a){for(var h=r.clamp(a/r._baseDelta,0,1),f=0;f<l.length;f+=1){var u=l[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,m=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(d||m)&&o.solve(l[f],h)}for(f=0;f<l.length;f+=1)u=l[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,m=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!d&&!m&&o.solve(l[f],h)},o.solve=function(l,a){var h=l.bodyA,f=l.bodyB,u=l.pointA,d=l.pointB;if(!(!h&&!f)){h&&!h.isStatic&&(s.rotate(u,h.angle-l.angleA,u),l.angleA=h.angle),f&&!f.isStatic&&(s.rotate(d,f.angle-l.angleB,d),l.angleB=f.angle);var m=u,x=d;if(h&&(m=s.add(h.position,u)),f&&(x=s.add(f.position,d)),!(!m||!x)){var S=s.sub(m,x),T=s.magnitude(S);T<o._minLength&&(T=o._minLength);var C=(T-l.length)/T,A=l.stiffness>=1||l.length===0,w=A?l.stiffness*a:l.stiffness*a*a,P=l.damping*a,F=s.mult(S,C*w),L=(h?h.inverseMass:0)+(f?f.inverseMass:0),O=(h?h.inverseInertia:0)+(f?f.inverseInertia:0),I=L+O,B,U,H,Z,tt;if(P>0){var X=s.create();H=s.div(S,T),tt=s.sub(f&&s.sub(f.position,f.positionPrev)||X,h&&s.sub(h.position,h.positionPrev)||X),Z=s.dot(H,tt)}h&&!h.isStatic&&(U=h.inverseMass/L,h.constraintImpulse.x-=F.x*U,h.constraintImpulse.y-=F.y*U,h.position.x-=F.x*U,h.position.y-=F.y*U,P>0&&(h.positionPrev.x-=P*H.x*Z*U,h.positionPrev.y-=P*H.y*Z*U),B=s.cross(u,F)/I*o._torqueDampen*h.inverseInertia*(1-l.angularStiffness),h.constraintImpulse.angle-=B,h.angle-=B),f&&!f.isStatic&&(U=f.inverseMass/L,f.constraintImpulse.x+=F.x*U,f.constraintImpulse.y+=F.y*U,f.position.x+=F.x*U,f.position.y+=F.y*U,P>0&&(f.positionPrev.x+=P*H.x*Z*U,f.positionPrev.y+=P*H.y*Z*U),B=s.cross(d,F)/I*o._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=B,f.angle+=B)}}},o.postSolveAll=function(l){for(var a=0;a<l.length;a++){var h=l[a],f=h.constraintImpulse;if(!(h.isStatic||f.x===0&&f.y===0&&f.angle===0)){i.set(h,!1);for(var u=0;u<h.parts.length;u++){var d=h.parts[u];v.translate(d.vertices,f),u>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(v.rotate(d.vertices,f.angle,h.position),e.rotate(d.axes,f.angle),u>0&&s.rotateAbout(d.position,f.angle,h.position,d.position)),n.update(d.bounds,d.vertices,h.velocity)}f.angle*=o._warming,f.x*=o._warming,f.y*=o._warming}}},o.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},o.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},o.currentLength=function(l){var a=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),h=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),u=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),d=a-f,m=h-u;return Math.sqrt(d*d+m*m)}})()},53402:(c,y,t)=>{var o={};c.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(s,i){var n,e;typeof i=="boolean"?(n=2,e=i):(n=1,e=!0);for(var r=n;r<arguments.length;r++){var l=arguments[r];if(l)for(var a in l)e&&l[a]&&l[a].constructor===Object&&(!s[a]||s[a].constructor===Object)?(s[a]=s[a]||{},o.extend(s[a],e,l[a])):s[a]=l[a]}return s},o.clone=function(s,i){return o.extend({},i,s)},o.keys=function(s){if(Object.keys)return Object.keys(s);var i=[];for(var n in s)i.push(n);return i},o.values=function(s){var i=[];if(Object.keys){for(var n=Object.keys(s),e=0;e<n.length;e++)i.push(s[n[e]]);return i}for(var r in s)i.push(s[r]);return i},o.get=function(s,i,n,e){i=i.split(".").slice(n,e);for(var r=0;r<i.length;r+=1)s=s[i[r]];return s},o.set=function(s,i,n,e,r){var l=i.split(".").slice(e,r);return o.get(s,i,0,-1)[l[l.length-1]]=n,n},o.shuffle=function(s){for(var i=s.length-1;i>0;i--){var n=Math.floor(o.random()*(i+1)),e=s[i];s[i]=s[n],s[n]=e}return s},o.choose=function(s){return s[Math.floor(o.random()*s.length)]},o.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},o.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},o.isFunction=function(s){return typeof s=="function"},o.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},o.isString=function(s){return toString.call(s)==="[object String]"},o.clamp=function(s,i,n){return s<i?i:s>n?n:s},o.sign=function(s){return s<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(s,i){return s=typeof s<"u"?s:0,i=typeof i<"u"?i:1,s+v()*(i-s)};var v=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[s]||(o.warn(s),o._warnedOnce[s]=!0)},o.deprecated=function(s,i,n){s[i]=o.chain(function(){o.warnOnce("🔅 deprecated 🔅",n)},s[i])},o.nextId=function(){return o._nextId++},o.indexOf=function(s,i){if(s.indexOf)return s.indexOf(i);for(var n=0;n<s.length;n++)if(s[n]===i)return n;return-1},o.map=function(s,i){if(s.map)return s.map(i);for(var n=[],e=0;e<s.length;e+=1)n.push(i(s[e]));return n},o.topologicalSort=function(s){var i=[],n=[],e=[];for(var r in s)!n[r]&&!e[r]&&o._topologicalSort(r,n,e,s,i);return i},o._topologicalSort=function(s,i,n,e,r){var l=e[s]||[];n[s]=!0;for(var a=0;a<l.length;a+=1){var h=l[a];n[h]||i[h]||o._topologicalSort(h,i,n,e,r)}n[s]=!1,i[s]=!0,r.push(s)},o.chain=function(){for(var s=[],i=0;i<arguments.length;i+=1){var n=arguments[i];n._chained?s.push.apply(s,n._chained):s.push(n)}var e=function(){for(var r,l=new Array(arguments.length),a=0,h=arguments.length;a<h;a++)l[a]=arguments[a];for(a=0;a<s.length;a+=1){var f=s[a].apply(r,l);typeof f<"u"&&(r=f)}return r};return e._chained=s,e},o.chainPathBefore=function(s,i,n){return o.set(s,i,o.chain(n,o.get(s,i)))},o.chainPathAfter=function(s,i,n){return o.set(s,i,o.chain(o.get(s,i),n))},o.setDecomp=function(s){o._decomp=s},o.getDecomp=function(){var s=o._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof t.g<"u"&&(s=t.g.decomp)}catch{s=null}return s}}()},48413:(c,y,t)=>{var o={};c.exports=o;var v=t(53614),s=t(66272),i=t(81388),n=t(99561),e=t(35810),r=t(69351),l=t(48140),a=t(53402),h=t(22562);(function(){o.create=function(f){f=f||{};var u={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=a.extend(u,f);return d.world=f.world||r.create({label:"World"}),d.pairs=f.pairs||n.create(),d.detector=f.detector||i.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},o.update=function(f,u){var d=a.now(),m=f.world,x=f.detector,S=f.pairs,T=f.timing,C=T.timestamp,A;u=typeof u<"u"?u:a._baseDelta,u*=T.timeScale,T.timestamp+=u,T.lastDelta=u;var w={timestamp:T.timestamp,delta:u};e.trigger(f,"beforeUpdate",w);var P=r.allBodies(m),F=r.allConstraints(m);for(m.isModified&&(i.setBodies(x,P),r.setModified(m,!1,!1,!0)),f.enableSleeping&&v.update(P,u),o._bodiesApplyGravity(P,f.gravity),u>0&&o._bodiesUpdate(P,u),e.trigger(f,"beforeSolve",w),l.preSolveAll(P),A=0;A<f.constraintIterations;A++)l.solveAll(F,u);l.postSolveAll(P),x.pairs=f.pairs;var L=i.collisions(x);n.update(S,L,C),f.enableSleeping&&v.afterCollisions(S.list),S.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:S.collisionStart,timestamp:T.timestamp,delta:u});var O=a.clamp(20/f.positionIterations,0,1);for(s.preSolvePosition(S.list),A=0;A<f.positionIterations;A++)s.solvePosition(S.list,u,O);for(s.postSolvePosition(P),l.preSolveAll(P),A=0;A<f.constraintIterations;A++)l.solveAll(F,u);for(l.postSolveAll(P),s.preSolveVelocity(S.list),A=0;A<f.velocityIterations;A++)s.solveVelocity(S.list,u);return o._bodiesUpdateVelocities(P),S.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:S.collisionActive,timestamp:T.timestamp,delta:u}),S.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:S.collisionEnd,timestamp:T.timestamp,delta:u}),o._bodiesClearForces(P),e.trigger(f,"afterUpdate",w),f.timing.lastElapsed=a.now()-d,f},o.merge=function(f,u){if(a.extend(f,u),u.world){f.world=u.world,o.clear(f);for(var d=r.allBodies(f.world),m=0;m<d.length;m++){var x=d[m];v.set(x,!1),x.id=a.nextId()}}},o.clear=function(f){n.clear(f.pairs),i.clear(f.detector)},o._bodiesClearForces=function(f){for(var u=f.length,d=0;d<u;d++){var m=f[d];m.force.x=0,m.force.y=0,m.torque=0}},o._bodiesApplyGravity=function(f,u){var d=typeof u.scale<"u"?u.scale:.001,m=f.length;if(!(u.x===0&&u.y===0||d===0))for(var x=0;x<m;x++){var S=f[x];S.ignoreGravity||S.isStatic||S.isSleeping||(S.force.y+=S.mass*u.y*d,S.force.x+=S.mass*u.x*d)}},o._bodiesUpdate=function(f,u){for(var d=f.length,m=0;m<d;m++){var x=f[m];x.isStatic||x.isSleeping||h.update(x,u)}},o._bodiesUpdateVelocities=function(f){for(var u=f.length,d=0;d<u;d++)h.updateVelocities(f[d])}})()},35810:(c,y,t)=>{var o={};c.exports=o;var v=t(53402);(function(){o.on=function(s,i,n){for(var e=i.split(" "),r,l=0;l<e.length;l++)r=e[l],s.events=s.events||{},s.events[r]=s.events[r]||[],s.events[r].push(n);return n},o.off=function(s,i,n){if(!i){s.events={};return}typeof i=="function"&&(n=i,i=v.keys(s.events).join(" "));for(var e=i.split(" "),r=0;r<e.length;r++){var l=s.events[e[r]],a=[];if(n&&l)for(var h=0;h<l.length;h++)l[h]!==n&&a.push(l[h]);s.events[e[r]]=a}},o.trigger=function(s,i,n){var e,r,l,a,h=s.events;if(h&&v.keys(h).length>0){n||(n={}),e=i.split(" ");for(var f=0;f<e.length;f++)if(r=e[f],l=h[r],l){a=v.clone(n,!1),a.name=r,a.source=s;for(var u=0;u<l.length;u++)l[u].apply(s,[a])}}}})()},6790:(c,y,t)=>{var o={};c.exports=o;var v=t(73832),s=t(53402);(function(){o.name="matter-js",o.version="0.19.0",o.uses=[],o.used=[],o.use=function(){v.use(o,Array.prototype.slice.call(arguments))},o.before=function(i,n){return i=i.replace(/^Matter./,""),s.chainPathBefore(o,i,n)},o.after=function(i,n){return i=i.replace(/^Matter./,""),s.chainPathAfter(o,i,n)}})()},73832:(c,y,t)=>{var o={};c.exports=o;var v=t(53402);(function(){o._registry={},o.register=function(s){if(o.isPlugin(s)||v.warn("Plugin.register:",o.toString(s),"does not implement all required fields."),s.name in o._registry){var i=o._registry[s.name],n=o.versionParse(s.version).number,e=o.versionParse(i.version).number;n>e?(v.warn("Plugin.register:",o.toString(i),"was upgraded to",o.toString(s)),o._registry[s.name]=s):n<e?v.warn("Plugin.register:",o.toString(i),"can not be downgraded to",o.toString(s)):s!==i&&v.warn("Plugin.register:",o.toString(s),"is already registered to different plugin object")}else o._registry[s.name]=s;return s},o.resolve=function(s){return o._registry[o.dependencyParse(s).name]},o.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},o.isPlugin=function(s){return s&&s.name&&s.version&&s.install},o.isUsed=function(s,i){return s.used.indexOf(i)>-1},o.isFor=function(s,i){var n=s.for&&o.dependencyParse(s.for);return!s.for||i.name===n.name&&o.versionSatisfies(i.version,n.range)},o.use=function(s,i){if(s.uses=(s.uses||[]).concat(i||[]),s.uses.length===0){v.warn("Plugin.use:",o.toString(s),"does not specify any dependencies to install.");return}for(var n=o.dependencies(s),e=v.topologicalSort(n),r=[],l=0;l<e.length;l+=1)if(e[l]!==s.name){var a=o.resolve(e[l]);if(!a){r.push("❌ "+e[l]);continue}o.isUsed(s,a.name)||(o.isFor(a,s)||(v.warn("Plugin.use:",o.toString(a),"is for",a.for,"but installed on",o.toString(s)+"."),a._warned=!0),a.install?a.install(s):(v.warn("Plugin.use:",o.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(r.push("🔶 "+o.toString(a)),delete a._warned):r.push("✅ "+o.toString(a)),s.used.push(a.name))}r.length>0&&!a.silent&&v.info(r.join("  "))},o.dependencies=function(s,i){var n=o.dependencyParse(s),e=n.name;if(i=i||{},!(e in i)){s=o.resolve(s)||s,i[e]=v.map(s.uses||[],function(l){o.isPlugin(l)&&o.register(l);var a=o.dependencyParse(l),h=o.resolve(l);return h&&!o.versionSatisfies(h.version,a.range)?(v.warn("Plugin.dependencies:",o.toString(h),"does not satisfy",o.toString(a),"used by",o.toString(n)+"."),h._warned=!0,s._warned=!0):h||(v.warn("Plugin.dependencies:",o.toString(l),"used by",o.toString(n),"could not be resolved."),s._warned=!0),a.name});for(var r=0;r<i[e].length;r+=1)o.dependencies(i[e][r],i);return i}},o.dependencyParse=function(s){if(v.isString(s)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return i.test(s)||v.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},o.versionParse=function(s){var i=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;i.test(s)||v.warn("Plugin.versionParse:",s,"is not a valid version or range.");var n=i.exec(s),e=Number(n[4]),r=Number(n[5]),l=Number(n[6]);return{isRange:!!(n[1]||n[2]),version:n[3],range:s,operator:n[1]||n[2]||"",major:e,minor:r,patch:l,parts:[e,r,l],prerelease:n[7],number:e*1e8+r*1e4+l}},o.versionSatisfies=function(s,i){i=i||"*";var n=o.versionParse(i),e=o.versionParse(s);if(n.isRange){if(n.operator==="*"||s==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return s===i||s==="*"}})()},53614:(c,y,t)=>{var o={};c.exports=o;var v=t(22562),s=t(35810),i=t(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(n,e){for(var r=e/i._baseDelta,l=o._motionSleepThreshold,a=0;a<n.length;a++){var h=n[a],f=v.getSpeed(h),u=v.getAngularSpeed(h),d=f*f+u*u;if(h.force.x!==0||h.force.y!==0){o.set(h,!1);continue}var m=Math.min(h.motion,d),x=Math.max(h.motion,d);h.motion=o._minBias*m+(1-o._minBias)*x,h.sleepThreshold>0&&h.motion<l?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/r&&o.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},o.afterCollisions=function(n){for(var e=o._motionSleepThreshold,r=0;r<n.length;r++){var l=n[r];if(l.isActive){var a=l.collision,h=a.bodyA.parent,f=a.bodyB.parent;if(!(h.isSleeping&&f.isSleeping||h.isStatic||f.isStatic)&&(h.isSleeping||f.isSleeping)){var u=h.isSleeping&&!h.isStatic?h:f,d=u===h?f:h;!u.isStatic&&d.motion>e&&o.set(u,!1)}}}},o.set=function(n,e){var r=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,r||s.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,r&&s.trigger(n,"sleepEnd"))}})()},66280:(c,y,t)=>{var o={};c.exports=o;var v=t(41598),s=t(53402),i=t(22562),n=t(15647),e=t(31725);(function(){o.rectangle=function(r,l,a,h,f){f=f||{};var u={label:"Rectangle Body",position:{x:r,y:l},vertices:v.fromPath("L 0 0 L "+a+" 0 L "+a+" "+h+" L 0 "+h)};if(f.chamfer){var d=f.chamfer;u.vertices=v.chamfer(u.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return i.create(s.extend({},u,f))},o.trapezoid=function(r,l,a,h,f,u){u=u||{},f*=.5;var d=(1-f*2)*a,m=a*f,x=m+d,S=x+m,T;f<.5?T="L 0 0 L "+m+" "+-h+" L "+x+" "+-h+" L "+S+" 0":T="L 0 0 L "+x+" "+-h+" L "+S+" 0";var C={label:"Trapezoid Body",position:{x:r,y:l},vertices:v.fromPath(T)};if(u.chamfer){var A=u.chamfer;C.vertices=v.chamfer(C.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete u.chamfer}return i.create(s.extend({},C,u))},o.circle=function(r,l,a,h,f){h=h||{};var u={label:"Circle Body",circleRadius:a};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,a)));return d%2===1&&(d+=1),o.polygon(r,l,d,a,s.extend({},u,h))},o.polygon=function(r,l,a,h,f){if(f=f||{},a<3)return o.circle(r,l,h,f);for(var u=2*Math.PI/a,d="",m=u*.5,x=0;x<a;x+=1){var S=m+x*u,T=Math.cos(S)*h,C=Math.sin(S)*h;d+="L "+T.toFixed(3)+" "+C.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:r,y:l},vertices:v.fromPath(d)};if(f.chamfer){var w=f.chamfer;A.vertices=v.chamfer(A.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete f.chamfer}return i.create(s.extend({},A,f))},o.fromVertices=function(r,l,a,h,f,u,d,m){var x=s.getDecomp(),S,T,C,A,w,P,F,L,O,I,B;for(S=!!(x&&x.quickDecomp),h=h||{},C=[],f=typeof f<"u"?f:!1,u=typeof u<"u"?u:.01,d=typeof d<"u"?d:10,m=typeof m<"u"?m:.01,s.isArray(a[0])||(a=[a]),I=0;I<a.length;I+=1)if(P=a[I],A=v.isConvex(P),w=!A,w&&!S&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!S)A?P=v.clockwiseSort(P):P=v.hull(P),C.push({position:{x:r,y:l},vertices:P});else{var U=P.map(function(it){return[it.x,it.y]});x.makeCCW(U),u!==!1&&x.removeCollinearPoints(U,u),m!==!1&&x.removeDuplicatePoints&&x.removeDuplicatePoints(U,m);var H=x.quickDecomp(U);for(F=0;F<H.length;F++){var Z=H[F],tt=Z.map(function(it){return{x:it[0],y:it[1]}});d>0&&v.area(tt)<d||C.push({position:v.centre(tt),vertices:tt})}}for(F=0;F<C.length;F++)C[F]=i.create(s.extend(C[F],h));if(f){var X=5;for(F=0;F<C.length;F++){var k=C[F];for(L=F+1;L<C.length;L++){var D=C[L];if(n.overlaps(k.bounds,D.bounds)){var z=k.vertices,Y=D.vertices;for(O=0;O<k.vertices.length;O++)for(B=0;B<D.vertices.length;B++){var j=e.magnitudeSquared(e.sub(z[(O+1)%z.length],Y[B])),J=e.magnitudeSquared(e.sub(z[O],Y[(B+1)%Y.length]));j<X&&J<X&&(z[O].isInternal=!0,Y[B].isInternal=!0)}}}}}return C.length>1?(T=i.create(s.extend({parts:C.slice(0)},h)),i.setPosition(T,{x:r,y:l}),T):C[0]},o.flagCoincidentParts=function(r,l){l===void 0&&(l=5);for(var a=0;a<r.length;a++)for(var h=r[a],f=a+1;f<r.length;f++){var u=r[f];if(n.overlaps(h.bounds,u.bounds))for(var d=h.vertices,m=u.vertices,x=0;x<h.vertices.length;x++)for(var S=0;S<u.vertices.length;S++){var T=e.magnitudeSquared(e.sub(d[(x+1)%d.length],m[S])),C=e.magnitudeSquared(e.sub(d[x],m[(S+1)%m.length]));T<l&&C<l&&(d[x].isInternal=!0,m[S].isInternal=!0)}}return r}})()},74116:(c,y,t)=>{var o={};c.exports=o;var v=t(69351),s=t(48140),i=t(53402),n=t(22562),e=t(66280);(function(){o.stack=function(r,l,a,h,f,u,d){for(var m=v.create({label:"Stack"}),x=r,S=l,T,C=0,A=0;A<h;A++){for(var w=0,P=0;P<a;P++){var F=d(x,S,P,A,T,C);if(F){var L=F.bounds.max.y-F.bounds.min.y,O=F.bounds.max.x-F.bounds.min.x;L>w&&(w=L),n.translate(F,{x:O*.5,y:L*.5}),x=F.bounds.max.x+f,v.addBody(m,F),T=F,C+=1}else x+=f}S+=w+u,x=r}return m},o.chain=function(r,l,a,h,f,u){for(var d=r.bodies,m=1;m<d.length;m++){var x=d[m-1],S=d[m],T=x.bounds.max.y-x.bounds.min.y,C=x.bounds.max.x-x.bounds.min.x,A=S.bounds.max.y-S.bounds.min.y,w=S.bounds.max.x-S.bounds.min.x,P={bodyA:x,pointA:{x:C*l,y:T*a},bodyB:S,pointB:{x:w*h,y:A*f}},F=i.extend(P,u);v.addConstraint(r,s.create(F))}return r.label+=" Chain",r},o.mesh=function(r,l,a,h,f){var u=r.bodies,d,m,x,S,T;for(d=0;d<a;d++){for(m=1;m<l;m++)x=u[m-1+d*l],S=u[m+d*l],v.addConstraint(r,s.create(i.extend({bodyA:x,bodyB:S},f)));if(d>0)for(m=0;m<l;m++)x=u[m+(d-1)*l],S=u[m+d*l],v.addConstraint(r,s.create(i.extend({bodyA:x,bodyB:S},f))),h&&m>0&&(T=u[m-1+(d-1)*l],v.addConstraint(r,s.create(i.extend({bodyA:T,bodyB:S},f)))),h&&m<l-1&&(T=u[m+1+(d-1)*l],v.addConstraint(r,s.create(i.extend({bodyA:T,bodyB:S},f))))}return r.label+=" Mesh",r},o.pyramid=function(r,l,a,h,f,u,d){return o.stack(r,l,a,h,f,u,function(m,x,S,T,C,A){var w=Math.min(h,Math.ceil(a/2)),P=C?C.bounds.max.x-C.bounds.min.x:0;if(!(T>w)){T=w-T;var F=T,L=a-1-T;if(!(S<F||S>L)){A===1&&n.translate(C,{x:(S+(a%2===1?1:-1))*P,y:0});var O=C?S*P:0;return d(r+O+S*f,x,S,T,C,A)}}})},o.newtonsCradle=function(r,l,a,h,f){for(var u=v.create({label:"Newtons Cradle"}),d=0;d<a;d++){var m=1.9,x=e.circle(r+d*(h*m),l+f,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),S=s.create({pointA:{x:r+d*(h*m),y:l},bodyB:x});v.addBody(u,x),v.addConstraint(u,S)}return u},o.car=function(r,l,a,h,f){var u=n.nextGroup(!0),d=20,m=-a*.5+d,x=a*.5-d,S=0,T=v.create({label:"Car"}),C=e.rectangle(r,l,a,h,{collisionFilter:{group:u},chamfer:{radius:h*.5},density:2e-4}),A=e.circle(r+m,l+S,f,{collisionFilter:{group:u},friction:.8}),w=e.circle(r+x,l+S,f,{collisionFilter:{group:u},friction:.8}),P=s.create({bodyB:C,pointB:{x:m,y:S},bodyA:A,stiffness:1,length:0}),F=s.create({bodyB:C,pointB:{x,y:S},bodyA:w,stiffness:1,length:0});return v.addBody(T,C),v.addBody(T,A),v.addBody(T,w),v.addConstraint(T,P),v.addConstraint(T,F),T},o.softBody=function(r,l,a,h,f,u,d,m,x,S){x=i.extend({inertia:1/0},x),S=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},S);var T=o.stack(r,l,a,h,f,u,function(C,A){return e.circle(C,A,m,x)});return o.mesh(T,a,h,d,S),T.label="Soft Body",T}})()},66615:(c,y,t)=>{var o={};c.exports=o;var v=t(31725),s=t(53402);(function(){o.fromVertices=function(i){for(var n={},e=0;e<i.length;e++){var r=(e+1)%i.length,l=v.normalise({x:i[r].y-i[e].y,y:i[e].x-i[r].x}),a=l.y===0?1/0:l.x/l.y;a=a.toFixed(3).toString(),n[a]=l}return s.values(n)},o.rotate=function(i,n){if(n!==0)for(var e=Math.cos(n),r=Math.sin(n),l=0;l<i.length;l++){var a=i[l],h;h=a.x*e-a.y*r,a.y=a.x*r+a.y*e,a.x=h}}})()},15647:c=>{var y={};c.exports=y,function(){y.create=function(t){var o={min:{x:0,y:0},max:{x:0,y:0}};return t&&y.update(o,t),o},y.update=function(t,o,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var s=0;s<o.length;s++){var i=o[s];i.x>t.max.x&&(t.max.x=i.x),i.x<t.min.x&&(t.min.x=i.x),i.y>t.max.y&&(t.max.y=i.y),i.y<t.min.y&&(t.min.y=i.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},y.contains=function(t,o){return o.x>=t.min.x&&o.x<=t.max.x&&o.y>=t.min.y&&o.y<=t.max.y},y.overlaps=function(t,o){return t.min.x<=o.max.x&&t.max.x>=o.min.x&&t.max.y>=o.min.y&&t.min.y<=o.max.y},y.translate=function(t,o){t.min.x+=o.x,t.max.x+=o.x,t.min.y+=o.y,t.max.y+=o.y},y.shift=function(t,o){var v=t.max.x-t.min.x,s=t.max.y-t.min.y;t.min.x=o.x,t.max.x=o.x+v,t.min.y=o.y,t.max.y=o.y+s}}()},74058:(c,y,t)=>{var o={};c.exports=o,t(15647);var v=t(53402);(function(){o.pathToVertices=function(s,i){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,r,l,a,h,f,u,d,m,x=[],S,T,C=0,A=0,w=0;i=i||15;var P=function(L,O,I){var B=I%2===1&&I>1;if(!d||L!=d.x||O!=d.y){d&&B?(S=d.x,T=d.y):(S=0,T=0);var U={x:S+L,y:T+O};(B||!d)&&(d=U),x.push(U),A=S+L,w=T+O}},F=function(L){var O=L.pathSegTypeAsLetter.toUpperCase();if(O!=="Z"){switch(O){case"M":case"L":case"T":case"C":case"S":case"Q":A=L.x,w=L.y;break;case"H":A=L.x;break;case"V":w=L.y;break}P(A,w,L.pathSegType)}};for(o._svgPathToAbsolute(s),r=s.getTotalLength(),h=[],n=0;n<s.pathSegList.numberOfItems;n+=1)h.push(s.pathSegList.getItem(n));for(f=h.concat();C<r;){if(m=s.getPathSegAtLength(C),a=h[m],a!=u){for(;f.length&&f[0]!=a;)F(f.shift());u=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=s.getPointAtLength(C),P(l.x,l.y,0);break}C+=i}for(n=0,e=f.length;n<e;++n)F(f[n]);return x},o._svgPathToAbsolute=function(s){for(var i,n,e,r,l,a,h=s.pathSegList,f=0,u=0,d=h.numberOfItems,m=0;m<d;++m){var x=h.getItem(m),S=x.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(S))"x"in x&&(f=x.x),"y"in x&&(u=x.y);else switch("x1"in x&&(e=f+x.x1),"x2"in x&&(l=f+x.x2),"y1"in x&&(r=u+x.y1),"y2"in x&&(a=u+x.y2),"x"in x&&(f+=x.x),"y"in x&&(u+=x.y),S){case"m":h.replaceItem(s.createSVGPathSegMovetoAbs(f,u),m);break;case"l":h.replaceItem(s.createSVGPathSegLinetoAbs(f,u),m);break;case"h":h.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(f),m);break;case"v":h.replaceItem(s.createSVGPathSegLinetoVerticalAbs(u),m);break;case"c":h.replaceItem(s.createSVGPathSegCurvetoCubicAbs(f,u,e,r,l,a),m);break;case"s":h.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(f,u,l,a),m);break;case"q":h.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(f,u,e,r),m);break;case"t":h.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(f,u),m);break;case"a":h.replaceItem(s.createSVGPathSegArcAbs(f,u,x.r1,x.r2,x.angle,x.largeArcFlag,x.sweepFlag),m);break;case"z":case"Z":f=i,u=n;break}(S=="M"||S=="m")&&(i=f,n=u)}}})()},31725:c=>{var y={};c.exports=y,function(){y.create=function(t,o){return{x:t||0,y:o||0}},y.clone=function(t){return{x:t.x,y:t.y}},y.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},y.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},y.rotate=function(t,o,v){var s=Math.cos(o),i=Math.sin(o);v||(v={});var n=t.x*s-t.y*i;return v.y=t.x*i+t.y*s,v.x=n,v},y.rotateAbout=function(t,o,v,s){var i=Math.cos(o),n=Math.sin(o);s||(s={});var e=v.x+((t.x-v.x)*i-(t.y-v.y)*n);return s.y=v.y+((t.x-v.x)*n+(t.y-v.y)*i),s.x=e,s},y.normalise=function(t){var o=y.magnitude(t);return o===0?{x:0,y:0}:{x:t.x/o,y:t.y/o}},y.dot=function(t,o){return t.x*o.x+t.y*o.y},y.cross=function(t,o){return t.x*o.y-t.y*o.x},y.cross3=function(t,o,v){return(o.x-t.x)*(v.y-t.y)-(o.y-t.y)*(v.x-t.x)},y.add=function(t,o,v){return v||(v={}),v.x=t.x+o.x,v.y=t.y+o.y,v},y.sub=function(t,o,v){return v||(v={}),v.x=t.x-o.x,v.y=t.y-o.y,v},y.mult=function(t,o){return{x:t.x*o,y:t.y*o}},y.div=function(t,o){return{x:t.x/o,y:t.y/o}},y.perp=function(t,o){return o=o===!0?-1:1,{x:o*-t.y,y:o*t.x}},y.neg=function(t){return{x:-t.x,y:-t.y}},y.angle=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},41598:(c,y,t)=>{var o={};c.exports=o;var v=t(31725),s=t(53402);(function(){o.create=function(i,n){for(var e=[],r=0;r<i.length;r++){var l=i[r],a={x:l.x,y:l.y,index:r,body:n,isInternal:!1};e.push(a)}return e},o.fromPath=function(i,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return i.replace(e,function(l,a,h){r.push({x:parseFloat(a),y:parseFloat(h)})}),o.create(r,n)},o.centre=function(i){for(var n=o.area(i,!0),e={x:0,y:0},r,l,a,h=0;h<i.length;h++)a=(h+1)%i.length,r=v.cross(i[h],i[a]),l=v.mult(v.add(i[h],i[a]),r),e=v.add(e,l);return v.div(e,6*n)},o.mean=function(i){for(var n={x:0,y:0},e=0;e<i.length;e++)n.x+=i[e].x,n.y+=i[e].y;return v.div(n,i.length)},o.area=function(i,n){for(var e=0,r=i.length-1,l=0;l<i.length;l++)e+=(i[r].x-i[l].x)*(i[r].y+i[l].y),r=l;return n?e/2:Math.abs(e)/2},o.inertia=function(i,n){for(var e=0,r=0,l=i,a,h,f=0;f<l.length;f++)h=(f+1)%l.length,a=Math.abs(v.cross(l[h],l[f])),e+=a*(v.dot(l[h],l[h])+v.dot(l[h],l[f])+v.dot(l[f],l[f])),r+=a;return n/6*(e/r)},o.translate=function(i,n,e){e=typeof e<"u"?e:1;var r=i.length,l=n.x*e,a=n.y*e,h;for(h=0;h<r;h++)i[h].x+=l,i[h].y+=a;return i},o.rotate=function(i,n,e){if(n!==0){var r=Math.cos(n),l=Math.sin(n),a=e.x,h=e.y,f=i.length,u,d,m,x;for(x=0;x<f;x++)u=i[x],d=u.x-a,m=u.y-h,u.x=a+(d*r-m*l),u.y=h+(d*l+m*r);return i}},o.contains=function(i,n){for(var e=n.x,r=n.y,l=i.length,a=i[l-1],h,f=0;f<l;f++){if(h=i[f],(e-a.x)*(h.y-a.y)+(r-a.y)*(a.x-h.x)>0)return!1;a=h}return!0},o.scale=function(i,n,e,r){if(n===1&&e===1)return i;r=r||o.centre(i);for(var l,a,h=0;h<i.length;h++)l=i[h],a=v.sub(l,r),i[h].x=r.x+a.x*n,i[h].y=r.y+a.y*e;return i},o.chamfer=function(i,n,e,r,l){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,r=r||2,l=l||14;for(var a=[],h=0;h<i.length;h++){var f=i[h-1>=0?h-1:i.length-1],u=i[h],d=i[(h+1)%i.length],m=n[h<n.length?h:n.length-1];if(m===0){a.push(u);continue}var x=v.normalise({x:u.y-f.y,y:f.x-u.x}),S=v.normalise({x:d.y-u.y,y:u.x-d.x}),T=Math.sqrt(2*Math.pow(m,2)),C=v.mult(s.clone(x),m),A=v.normalise(v.mult(v.add(x,S),.5)),w=v.sub(u,v.mult(A,T)),P=e;e===-1&&(P=Math.pow(m,.32)*1.75),P=s.clamp(P,r,l),P%2===1&&(P+=1);for(var F=Math.acos(v.dot(x,S)),L=F/P,O=0;O<P;O++)a.push(v.add(v.rotate(C,L*O),w))}return a},o.clockwiseSort=function(i){var n=o.mean(i);return i.sort(function(e,r){return v.angle(n,e)-v.angle(n,r)}),i},o.isConvex=function(i){var n=0,e=i.length,r,l,a,h;if(e<3)return null;for(r=0;r<e;r++)if(l=(r+1)%e,a=(r+2)%e,h=(i[l].x-i[r].x)*(i[a].y-i[l].y),h-=(i[l].y-i[r].y)*(i[a].x-i[l].x),h<0?n|=1:h>0&&(n|=2),n===3)return!1;return n!==0?!0:null},o.hull=function(i){var n=[],e=[],r,l;for(i=i.slice(0),i.sort(function(a,h){var f=a.x-h.x;return f!==0?f:a.y-h.y}),l=0;l<i.length;l+=1){for(r=i[l];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],r)<=0;)e.pop();e.push(r)}for(l=i.length-1;l>=0;l-=1){for(r=i[l];n.length>=2&&v.cross3(n[n.length-2],n[n.length-1],r)<=0;)n.pop();n.push(r)}return n.pop(),e.pop(),n.concat(e)}})()},18210:(c,y,t)=>{var o=t(19933),v={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Body.create",function(){v.Body.init(this)}),s.before("Engine.update",function(i){v.Engine.update(i)})},Body:{init:function(s){s.plugin.attractors=s.plugin.attractors||[]}},Engine:{update:function(s){for(var i=o.Composite.allBodies(s.world),n=0;n<i.length;n++){var e=i[n],r=e.plugin.attractors;if(r&&r.length>0)for(var l=0;l<i.length;l++){var a=i[l];if(n!==l)for(var h=0;h<r.length;h++){var f=r[h],u=f;o.Common.isFunction(f)&&(u=f(e,a)),u&&o.Body.applyForce(a,a.position,u)}}}}},Attractors:{gravityConstant:.001,gravity:function(s,i){var n=o.Vector.sub(i.position,s.position),e=o.Vector.magnitudeSquared(n)||1e-4,r=o.Vector.normalise(n),l=-v.Attractors.gravityConstant*(s.mass*i.mass/e),a=o.Vector.mult(r,l);o.Body.applyForce(s,s.position,o.Vector.neg(a)),o.Body.applyForce(i,i.position,a)}}};c.exports=v},40178:c=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(o){o.pairs.map(function(v){var s=v.bodyA,i=v.bodyB;s.gameObject&&s.gameObject.emit("collide",s,i,v),i.gameObject&&i.gameObject.emit("collide",i,s,v),t.Events.trigger(s,"onCollide",{pair:v}),t.Events.trigger(i,"onCollide",{pair:v}),s.onCollideCallback&&s.onCollideCallback(v),i.onCollideCallback&&i.onCollideCallback(v),s.onCollideWith[i.id]&&s.onCollideWith[i.id](i,v),i.onCollideWith[s.id]&&i.onCollideWith[s.id](s,v)})}),t.Events.on(this,"collisionActive",function(o){o.pairs.map(function(v){var s=v.bodyA,i=v.bodyB;s.gameObject&&s.gameObject.emit("collideActive",s,i,v),i.gameObject&&i.gameObject.emit("collideActive",i,s,v),t.Events.trigger(s,"onCollideActive",{pair:v}),t.Events.trigger(i,"onCollideActive",{pair:v}),s.onCollideActiveCallback&&s.onCollideActiveCallback(v),i.onCollideActiveCallback&&i.onCollideActiveCallback(v)})}),t.Events.on(this,"collisionEnd",function(o){o.pairs.map(function(v){var s=v.bodyA,i=v.bodyB;s.gameObject&&s.gameObject.emit("collideEnd",s,i,v),i.gameObject&&i.gameObject.emit("collideEnd",i,s,v),t.Events.trigger(s,"onCollideEnd",{pair:v}),t.Events.trigger(i,"onCollideEnd",{pair:v}),s.onCollideEndCallback&&s.onCollideEndCallback(v),i.onCollideEndCallback&&i.onCollideEndCallback(v)})})})}};c.exports=y},74507:(c,y,t)=>{var o=t(19933),v={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Engine.update",function(){v.Engine.update(this)})},Engine:{update:function(s){for(var i=s.world,n=o.Composite.allBodies(i),e=o.Composite.allComposites(i),r=0;r<n.length;r+=1){var l=n[r];l.plugin.wrap&&v.Body.wrap(l,l.plugin.wrap)}for(r=0;r<e.length;r+=1){var a=e[r];a.plugin.wrap&&v.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(s,i){var n=null,e=null;if(typeof i.min.x<"u"&&typeof i.max.x<"u"&&(s.min.x>i.max.x?n=i.min.x-s.max.x:s.max.x<i.min.x&&(n=i.max.x-s.min.x)),typeof i.min.y<"u"&&typeof i.max.y<"u"&&(s.min.y>i.max.y?e=i.min.y-s.max.y:s.max.y<i.min.y&&(e=i.max.y-s.min.y)),n!==null||e!==null)return{x:n||0,y:e||0}}},Body:{wrap:function(s,i){var n=v.Bounds.wrap(s.bounds,i);return n&&o.Body.translate(s,n),n}},Composite:{bounds:function(s){for(var i=o.Composite.allBodies(s),n=[],e=0;e<i.length;e+=1){var r=i[e];n.push(r.bounds.min,r.bounds.max)}return o.Bounds.create(n)},wrap:function(s,i){var n=v.Bounds.wrap(v.Composite.bounds(s),i);return n&&o.Composite.translate(s,n),n}}};c.exports=v},55973:c=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:F,quickDecomp:B,isSimple:O,removeCollinearPoints:U,removeDuplicatePoints:H,makeCCW:d};function y(X,k,D){D=D||0;var z=[0,0],Y,j,J,it,st,at,ft;return Y=X[1][1]-X[0][1],j=X[0][0]-X[1][0],J=Y*X[0][0]+j*X[0][1],it=k[1][1]-k[0][1],st=k[0][0]-k[1][0],at=it*k[0][0]+st*k[0][1],ft=Y*st-it*j,Z(ft,0,D)||(z[0]=(st*J-j*at)/ft,z[1]=(Y*at-it*J)/ft),z}function t(X,k,D,z){var Y=k[0]-X[0],j=k[1]-X[1],J=z[0]-D[0],it=z[1]-D[1];if(J*j-it*Y===0)return!1;var st=(Y*(D[1]-X[1])+j*(X[0]-D[0]))/(J*j-it*Y),at=(J*(X[1]-D[1])+it*(D[0]-X[0]))/(it*Y-J*j);return st>=0&&st<=1&&at>=0&&at<=1}function o(X,k,D){return(k[0]-X[0])*(D[1]-X[1])-(D[0]-X[0])*(k[1]-X[1])}function v(X,k,D){return o(X,k,D)>0}function s(X,k,D){return o(X,k,D)>=0}function i(X,k,D){return o(X,k,D)<0}function n(X,k,D){return o(X,k,D)<=0}var e=[],r=[];function l(X,k,D,z){if(z){var Y=e,j=r;Y[0]=k[0]-X[0],Y[1]=k[1]-X[1],j[0]=D[0]-k[0],j[1]=D[1]-k[1];var J=Y[0]*j[0]+Y[1]*j[1],it=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),st=Math.sqrt(j[0]*j[0]+j[1]*j[1]),at=Math.acos(J/(it*st));return at<z}else return o(X,k,D)===0}function a(X,k){var D=k[0]-X[0],z=k[1]-X[1];return D*D+z*z}function h(X,k){var D=X.length;return X[k<0?k%D+D:k%D]}function f(X){X.length=0}function u(X,k,D,z){for(var Y=D;Y<z;Y++)X.push(k[Y])}function d(X){for(var k=0,D=X,z=1;z<X.length;++z)(D[z][1]<D[k][1]||D[z][1]===D[k][1]&&D[z][0]>D[k][0])&&(k=z);return v(h(X,k-1),h(X,k),h(X,k+1))?!1:(m(X),!0)}function m(X){for(var k=[],D=X.length,z=0;z!==D;z++)k.push(X.pop());for(var z=0;z!==D;z++)X[z]=k[z]}function x(X,k){return i(h(X,k-1),h(X,k),h(X,k+1))}var S=[],T=[];function C(X,k,D){var z,Y,j=S,J=T;if(s(h(X,k+1),h(X,k),h(X,D))&&n(h(X,k-1),h(X,k),h(X,D)))return!1;Y=a(h(X,k),h(X,D));for(var it=0;it!==X.length;++it)if(!((it+1)%X.length===k||it===k)&&s(h(X,k),h(X,D),h(X,it+1))&&n(h(X,k),h(X,D),h(X,it))&&(j[0]=h(X,k),j[1]=h(X,D),J[0]=h(X,it),J[1]=h(X,it+1),z=y(j,J),a(h(X,k),z)<Y))return!1;return!0}function A(X,k,D){for(var z=0;z!==X.length;++z)if(!(z===k||z===D||(z+1)%X.length===k||(z+1)%X.length===D)&&t(h(X,k),h(X,D),h(X,z),h(X,z+1)))return!1;return!0}function w(X,k,D,z){var Y=z||[];if(f(Y),k<D)for(var j=k;j<=D;j++)Y.push(X[j]);else{for(var j=0;j<=D;j++)Y.push(X[j]);for(var j=k;j<X.length;j++)Y.push(X[j])}return Y}function P(X){for(var k=[],D=[],z=[],Y=[],j=Number.MAX_VALUE,J=0;J<X.length;++J)if(x(X,J)){for(var it=0;it<X.length;++it)if(C(X,J,it)){D=P(w(X,J,it,Y)),z=P(w(X,it,J,Y));for(var st=0;st<z.length;st++)D.push(z[st]);D.length<j&&(k=D,j=D.length,k.push([h(X,J),h(X,it)]))}}return k}function F(X){var k=P(X);return k.length>0?L(X,k):[X]}function L(X,k){if(k.length===0)return[X];if(k instanceof Array&&k.length&&k[0]instanceof Array&&k[0].length===2&&k[0][0]instanceof Array){for(var D=[X],z=0;z<k.length;z++)for(var Y=k[z],j=0;j<D.length;j++){var J=D[j],it=L(J,Y);if(it){D.splice(j,1),D.push(it[0],it[1]);break}}return D}else{var Y=k,z=X.indexOf(Y[0]),j=X.indexOf(Y[1]);return z!==-1&&j!==-1?[w(X,z,j),w(X,j,z)]:!1}}function O(X){var k=X,D;for(D=0;D<k.length-1;D++)for(var z=0;z<D-1;z++)if(t(k[D],k[D+1],k[z],k[z+1]))return!1;for(D=1;D<k.length-2;D++)if(t(k[0],k[k.length-1],k[D],k[D+1]))return!1;return!0}function I(X,k,D,z,Y){Y=Y||0;var j=k[1]-X[1],J=X[0]-k[0],it=j*X[0]+J*X[1],st=z[1]-D[1],at=D[0]-z[0],ft=st*D[0]+at*D[1],vt=j*at-st*J;return Z(vt,0,Y)?[0,0]:[(at*it-J*ft)/vt,(j*ft-st*it)/vt]}function B(X,k,D,z,Y,j,J){j=j||100,J=J||0,Y=Y||25,k=typeof k<"u"?k:[],D=D||[],z=z||[];var it=[0,0],st=[0,0],at=[0,0],ft=0,vt=0,xt=0,Ct=0,yt=0,Pt=0,Gt=0,Ut=[],Nt=[],wt=X,Dt=X;if(Dt.length<3)return k;if(J++,J>j)return console.warn("quickDecomp: max level ("+j+") reached."),k;for(var Rt=0;Rt<X.length;++Rt)if(x(wt,Rt)){D.push(wt[Rt]),ft=vt=Number.MAX_VALUE;for(var Ht=0;Ht<X.length;++Ht)v(h(wt,Rt-1),h(wt,Rt),h(wt,Ht))&&n(h(wt,Rt-1),h(wt,Rt),h(wt,Ht-1))&&(at=I(h(wt,Rt-1),h(wt,Rt),h(wt,Ht),h(wt,Ht-1)),i(h(wt,Rt+1),h(wt,Rt),at)&&(xt=a(wt[Rt],at),xt<vt&&(vt=xt,st=at,Pt=Ht))),v(h(wt,Rt+1),h(wt,Rt),h(wt,Ht+1))&&n(h(wt,Rt+1),h(wt,Rt),h(wt,Ht))&&(at=I(h(wt,Rt+1),h(wt,Rt),h(wt,Ht),h(wt,Ht+1)),v(h(wt,Rt-1),h(wt,Rt),at)&&(xt=a(wt[Rt],at),xt<ft&&(ft=xt,it=at,yt=Ht)));if(Pt===(yt+1)%X.length)at[0]=(st[0]+it[0])/2,at[1]=(st[1]+it[1])/2,z.push(at),Rt<yt?(u(Ut,wt,Rt,yt+1),Ut.push(at),Nt.push(at),Pt!==0&&u(Nt,wt,Pt,wt.length),u(Nt,wt,0,Rt+1)):(Rt!==0&&u(Ut,wt,Rt,wt.length),u(Ut,wt,0,yt+1),Ut.push(at),Nt.push(at),u(Nt,wt,Pt,Rt+1));else{if(Pt>yt&&(yt+=X.length),Ct=Number.MAX_VALUE,yt<Pt)return k;for(var Ht=Pt;Ht<=yt;++Ht)s(h(wt,Rt-1),h(wt,Rt),h(wt,Ht))&&n(h(wt,Rt+1),h(wt,Rt),h(wt,Ht))&&(xt=a(h(wt,Rt),h(wt,Ht)),xt<Ct&&A(wt,Rt,Ht)&&(Ct=xt,Gt=Ht%X.length));Rt<Gt?(u(Ut,wt,Rt,Gt+1),Gt!==0&&u(Nt,wt,Gt,Dt.length),u(Nt,wt,0,Rt+1)):(Rt!==0&&u(Ut,wt,Rt,Dt.length),u(Ut,wt,0,Gt+1),u(Nt,wt,Gt,Rt+1))}return Ut.length<Nt.length?(B(Ut,k,D,z,Y,j,J),B(Nt,k,D,z,Y,j,J)):(B(Nt,k,D,z,Y,j,J),B(Ut,k,D,z,Y,j,J)),k}return k.push(X),k}function U(X,k){for(var D=0,z=X.length-1;X.length>3&&z>=0;--z)l(h(X,z-1),h(X,z),h(X,z+1),k)&&(X.splice(z%X.length,1),D++);return D}function H(X,k){for(var D=X.length-1;D>=1;--D)for(var z=X[D],Y=D-1;Y>=0;--Y)if(tt(z,X[Y],k)){X.splice(D,1);continue}}function Z(X,k,D){return D=D||0,Math.abs(X-k)<=D}function tt(X,k,D){return Z(X[0],k[0],D)&&Z(X[1],k[1],D)}},52018:(c,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(83419),v=new o({initialize:function(i){this.pluginManager=i,this.game=i.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=v},42363:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=y},37277:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={},o={};o.register=function(v,s,i,n){n===void 0&&(n=!1),y[v]={plugin:s,mapping:i,custom:n}},o.registerCustom=function(v,s,i,n){t[v]={plugin:s,mapping:i,data:n}},o.hasCore=function(v){return y.hasOwnProperty(v)},o.hasCustom=function(v){return t.hasOwnProperty(v)},o.getCore=function(v){return y[v]},o.getCustom=function(v){return t[v]},o.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},o.remove=function(v){y.hasOwnProperty(v)&&delete y[v]},o.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},o.destroyCorePlugins=function(){for(var v in y)y.hasOwnProperty(v)&&delete y[v]},o.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},c.exports=o},77332:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(8443),s=t(50792),i=t(74099),n=t(44603),e=t(39429),r=t(95540),l=t(37277),a=t(72905),h=new o({Extends:s,initialize:function(u){s.call(this),this.game=u,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],u.isBooted?this.boot():u.events.once(v.BOOT,this.boot,this)},boot:function(){var f,u,d,m,x,S,T,C=this.game.config,A=C.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),f=0;f<A.length;f++)u=A[f],d=r(u,"key",null),m=r(u,"plugin",null),x=r(u,"start",!1),S=r(u,"mapping",null),T=r(u,"data",null),d&&(m?this.install(d,m,x,S,T):console.warn("Missing `plugin` for key: "+d));for(A=C.installScenePlugins,A=A.concat(this._pendingScene),f=0;f<A.length;f++)u=A[f],d=r(u,"key",null),m=r(u,"plugin",null),S=r(u,"mapping",null),d&&(m?this.installScenePlugin(d,m,S):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(f,u,d){var m,x,S,T=this.game,C=f.scene,A=f.settings.map,w=f.settings.isBooted;for(m=0;m<u.length;m++)x=u[m],T[x]?(f[x]=T[x],A.hasOwnProperty(x)&&(C[A[x]]=f[x])):x==="game"&&A.hasOwnProperty(x)&&(C[A[x]]=T);for(var P=0;P<d.length;P++)for(S=d[P],m=0;m<S.length;m++)if(x=S[m],!!l.hasCore(x)){var F=l.getCore(x),L=F.mapping,O=new F.plugin(C,this,L);f[L]=O,F.custom?C[L]=O:A.hasOwnProperty(L)&&(C[A[L]]=O),w&&O.boot()}for(S=this.plugins,m=0;m<S.length;m++){var I=S[m];I.mapping&&(C[I.mapping]=I.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,u,d,m,x){if(x===void 0&&(x=!1),typeof u!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(l.hasCore(f)||l.register(f,u,d,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!x&&l.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(m){var S=new u(m,this,f);m.sys[f]=S,d&&d!==""&&(m[d]=S),S.boot()}},install:function(f,u,d,m,x){if(d===void 0&&(d=!1),m===void 0&&(m=null),x===void 0&&(x=null),typeof u!="function")return console.warn("Invalid Plugin: "+f),null;if(l.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(m!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:u,start:d,mapping:m,data:x});else if(l.registerCustom(f,u,m,x),d)return this.start(f);return null},getIndex:function(f){for(var u=this.plugins,d=0;d<u.length;d++){var m=u[d];if(m.key===f)return d}return-1},getEntry:function(f){var u=this.getIndex(f);if(u!==-1)return this.plugins[u]},isActive:function(f){var u=this.getEntry(f);return u&&u.active},start:function(f,u){u===void 0&&(u=f);var d=this.getEntry(u);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(f,u)),d?d.plugin:null},createEntry:function(f,u){var d=l.getCustom(f);if(d){var m=new d.plugin(this);d={key:u,plugin:m,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),m.init(d.data),m.start()}return d},stop:function(f){var u=this.getEntry(f);return u&&u.active&&(u.active=!1,u.plugin.stop()),this},get:function(f,u){u===void 0&&(u=!0);var d=this.getEntry(f);if(d)return d.plugin;var m=this.getClass(f);return m&&u?(d=this.createEntry(f,f),d?d.plugin:null):m||null},getClass:function(f){return l.getCustomClass(f)},removeGlobalPlugin:function(f){var u=this.getEntry(f);u&&a(this.plugins,u),l.removeCustom(f)},removeScenePlugin:function(f){a(this.scenePlugins,f),l.remove(f)},registerGameObject:function(f,u,d){return u&&e.register(f,u),d&&n.register(f,d),this},removeGameObject:function(f,u,d){return u===void 0&&(u=!0),d===void 0&&(d=!0),u&&e.remove(f),d&&n.remove(f),this},registerFileType:function(f,u,d){i.register(f,u),d&&d.sys.load&&(d.sys.load[f]=u)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=h},45145:(c,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(52018),v=t(83419),s=t(44594),i=new v({Extends:o,initialize:function(e,r,l){o.call(this,r),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=i},18922:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){const y=performance.now(),t=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(s,i)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>o){const r=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,l=i-s;c(i,{presentationTime:i+r*1e3,expectedDisplayTime:i+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:r}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(r=>v(i,r))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(s=>v(y,s)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=y},68627:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19715),v=t(32880),s=t(83419),i=t(8054),n=t(50792),e=t(92503),r=t(56373),l=t(97480),a=t(69442),h=t(61340),f=new s({Extends:n,initialize:function(d){n.call(this);var m=d.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=d,this.type=i.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var x={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",x),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(a.READY,this.boot,this)},boot:function(){var u=this.game,d=u.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,u.scale.on(l.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(u,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(u,d){this.width=u,this.height=d,this.emit(e.RESIZE,u,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(u){return this.currentContext.globalCompositeOperation=u,this},setContext:function(u){return this.currentContext=u||this.gameContext,this},setAlpha:function(u){return this.currentContext.globalAlpha=u,this},preRender:function(){var u=this.gameContext,d=this.config,m=this.width,x=this.height;u.globalAlpha=1,u.globalCompositeOperation="source-over",u.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(u.clearRect(0,0,m,x),d.transparent||(u.fillStyle=d.backgroundColor.rgba,u.fillRect(0,0,m,x))),u.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(u,d,m){var x=d.length;this.emit(e.RENDER,u,m);var S=m.x,T=m.y,C=m.width,A=m.height,w=m.renderToTexture?m.context:u.sys.context;w.save(),this.game.scene.customViewports&&(w.beginPath(),w.rect(S,T,C,A),w.clip()),m.emit(o.PRE_RENDER,m),this.currentContext=w;var P=m.mask;P&&P.preRenderCanvas(this,null,m._maskCamera),m.transparent||(w.fillStyle=m.backgroundColor.rgba,w.fillRect(S,T,C,A)),w.globalAlpha=m.alpha,w.globalCompositeOperation="source-over",this.drawCount+=x,m.renderToTexture&&m.emit(o.PRE_RENDER,m),m.matrix.copyToContext(w);for(var F=0;F<x;F++){var L=d[F];L.mask&&L.mask.preRenderCanvas(this,L,m),L.renderCanvas(this,L,m),L.mask&&L.mask.postRenderCanvas(this,L,m)}w.setTransform(1,0,0,1,0,0),w.globalCompositeOperation="source-over",w.globalAlpha=1,m.flashEffect.postRenderCanvas(w),m.fadeEffect.postRenderCanvas(w),m.dirty=!1,P&&P.postRenderCanvas(this),w.restore(),m.renderToTexture&&(m.emit(o.POST_RENDER,m),m.renderToGame&&u.sys.context.drawImage(m.canvas,S,T)),m.emit(o.POST_RENDER,m)},postRender:function(){var u=this.gameContext;u.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(v(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(u,d,m,x,S,T,C,A,w){m===void 0&&(m=!1),this.snapshotArea(x,S,T,C,d,A,w);var P=this.snapshotState;return P.getPixel=m,v(u,P),P.callback=null,this},snapshot:function(u,d,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,u,d,m)},snapshotArea:function(u,d,m,x,S,T,C){var A=this.snapshotState;return A.callback=S,A.type=T,A.encoder=C,A.getPixel=!1,A.x=u,A.y=d,A.width=Math.min(m,this.gameCanvas.width),A.height=Math.min(x,this.gameCanvas.height),this},snapshotPixel:function(u,d,m){return this.snapshotArea(u,d,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(u,d,m,x){var S=m.alpha*u.alpha;if(S!==0){var T=this.currentContext,C=this._tempMatrix1,A=this._tempMatrix2,w=d.canvasData,P=w.x,F=w.y,L=d.cutWidth,O=d.cutHeight,I=d.customPivot,B=d.source.resolution,U=u.displayOriginX,H=u.displayOriginY,Z=-U+d.x,tt=-H+d.y;if(u.isCropped){var X=u._crop;(X.flipX!==u.flipX||X.flipY!==u.flipY)&&d.updateCropUVs(X,u.flipX,u.flipY),L=X.cw,O=X.ch,P=X.cx,F=X.cy,Z=-U+X.x,tt=-H+X.y,u.flipX&&(Z>=0?Z=-(Z+L):Z<0&&(Z=Math.abs(Z)-L)),u.flipY&&(tt>=0?tt=-(tt+O):tt<0&&(tt=Math.abs(tt)-O))}var k=1,D=1;u.flipX&&(I||(Z+=-d.realWidth+U*2),k=-1),u.flipY&&(I||(tt+=-d.realHeight+H*2),D=-1);var z=u.x,Y=u.y;A.applyITRS(z,Y,u.rotation,u.scaleX*k,u.scaleY*D),C.copyFrom(m.matrix),x?(C.multiplyWithOffset(x,-m.scrollX*u.scrollFactorX,-m.scrollY*u.scrollFactorY),A.e=z,A.f=Y):(A.e-=m.scrollX*u.scrollFactorX,A.f-=m.scrollY*u.scrollFactorY),C.multiply(A),m.roundPixels&&(C.e=Math.round(C.e),C.f=Math.round(C.f)),T.save(),C.setToContext(T),T.globalCompositeOperation=this.blendModes[u.blendMode],T.globalAlpha=S,T.imageSmoothingEnabled=!d.source.scaleMode,u.mask&&u.mask.preRenderCanvas(this,u,m),L>0&&O>0&&(m.roundPixels?T.drawImage(d.source.image,P,F,L,O,Math.round(Z),Math.round(tt),Math.round(L/B),Math.round(O/B)):T.drawImage(d.source.image,P,F,L,O,Z,tt,L/B,O/B)),u.mask&&u.mask.postRenderCanvas(this,u,m),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=f},55830:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(89289),s=function(){var i=[],n=v.supportNewBlendModes,e="source-over";return i[o.NORMAL]=e,i[o.ADD]="lighter",i[o.MULTIPLY]=n?"multiply":e,i[o.SCREEN]=n?"screen":e,i[o.OVERLAY]=n?"overlay":e,i[o.DARKEN]=n?"darken":e,i[o.LIGHTEN]=n?"lighten":e,i[o.COLOR_DODGE]=n?"color-dodge":e,i[o.COLOR_BURN]=n?"color-burn":e,i[o.HARD_LIGHT]=n?"hard-light":e,i[o.SOFT_LIGHT]=n?"soft-light":e,i[o.DIFFERENCE]=n?"difference":e,i[o.EXCLUSION]=n?"exclusion":e,i[o.HUE]=n?"hue":e,i[o.SATURATION]=n?"saturation":e,i[o.COLOR]=n?"color":e,i[o.LUMINOSITY]=n?"luminosity":e,i[o.ERASE]="destination-out",i[o.SOURCE_IN]="source-in",i[o.SOURCE_OUT]="source-out",i[o.SOURCE_ATOP]="source-atop",i[o.DESTINATION_OVER]="destination-over",i[o.DESTINATION_IN]="destination-in",i[o.DESTINATION_OUT]="destination-out",i[o.DESTINATION_ATOP]="destination-atop",i[o.LIGHTER]="lighter",i[o.COPY]="copy",i[o.XOR]="xor",i};c.exports=s},20926:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(s,i,n,e,r){var l=e.alpha*n.alpha;if(l<=0)return!1;var a=o(n,e,r).calc;return i.globalCompositeOperation=s.blendModes[n.blendMode],i.globalAlpha=l,i.save(),a.setToContext(i),i.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:s.antialias,!0};c.exports=v},63899:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="losewebgl"},6119:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},48070:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},15640:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},8912:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},87124:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restorewebgl"},92503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(92503),Snapshot:t(89966)},c.exports.Canvas=t(55830),c.exports.WebGL=t(4159)},32880:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(40987),s=t(95540),i=function(n,e){var r=s(e,"callback"),l=s(e,"type","image/png"),a=s(e,"encoder",.92),h=Math.abs(Math.round(s(e,"x",0))),f=Math.abs(Math.round(s(e,"y",0))),u=Math.floor(s(e,"width",n.width)),d=Math.floor(s(e,"height",n.height)),m=s(e,"getPixel",!1);if(m){var x=n.getContext("2d",{willReadFrequently:!1}),S=x.getImageData(h,f,1,1),T=S.data;r.call(null,new v(T[0],T[1],T[2],T[3]))}else if(h!==0||f!==0||u!==n.width||d!==n.height){var C=o.createWebGL(this,u,d),A=C.getContext("2d",{willReadFrequently:!0});u>0&&d>0&&A.drawImage(n,h,f,u,d,0,0,u,d);var w=new Image;w.onerror=function(){r.call(null),o.remove(C)},w.onload=function(){r.call(null,w),o.remove(C)},w.src=C.toDataURL(l,a)}else{var P=new Image;P.onerror=function(){r.call(null)},P.onload=function(){r.call(null,P)},P.src=n.toDataURL(l,a)}};c.exports=i},88815:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(40987),s=t(95540),i=function(n,e){var r=n,l=s(e,"callback"),a=s(e,"type","image/png"),h=s(e,"encoder",.92),f=Math.abs(Math.round(s(e,"x",0))),u=Math.abs(Math.round(s(e,"y",0))),d=s(e,"getPixel",!1),m=s(e,"isFramebuffer",!1),x=m?s(e,"bufferWidth",1):r.drawingBufferWidth,S=m?s(e,"bufferHeight",1):r.drawingBufferHeight;if(d){var T=new Uint8Array(4),C=m?u:S-u;r.readPixels(f,C,1,1,r.RGBA,r.UNSIGNED_BYTE,T),l.call(null,new v(T[0],T[1],T[2],T[3]))}else{var A=Math.floor(s(e,"width",x)),w=Math.floor(s(e,"height",S)),P=A*w*4,F=new Uint8Array(P);r.readPixels(f,S-u-w,A,w,r.RGBA,r.UNSIGNED_BYTE,F);for(var L=o.createWebGL(this,A,w),O=L.getContext("2d",{willReadFrequently:!0}),I=O.getImageData(0,0,A,w),B=I.data,U=0;U<w;U++)for(var H=0;H<A;H++){var Z=((w-U-1)*A+H)*4,tt=m?P-(U*A+(A-H))*4:(U*A+H)*4;B[tt+0]=F[Z+0],B[tt+1]=F[Z+1],B[tt+2]=F[Z+2],B[tt+3]=F[Z+3]}O.putImageData(I,0,0);var X=new Image;X.onerror=function(){l.call(null),o.remove(L)},X.onload=function(){l.call(null,X),o.remove(L)},X.src=L.toDataURL(a,h)}};c.exports=i},89966:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(36060),s=t(90330),i=t(82264),n=t(95540),e=t(32302),r=t(63448),l=t(31302),a=t(58918),h=t(14811),f=t(92651),u=t(96569),d=t(56527),m=t(57516),x=t(43439),S=t(81041),T=t(12385),C=t(7589),A=t(95428),w=t(72905),P=new o({initialize:function(L){this.game=L.game,this.renderer=L,this.classes=new s([[v.UTILITY_PIPELINE,C],[v.MULTI_PIPELINE,m],[v.BITMAPMASK_PIPELINE,l],[v.SINGLE_PIPELINE,T],[v.ROPE_PIPELINE,S],[v.LIGHT_PIPELINE,u],[v.POINTLIGHT_PIPELINE,x],[v.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new s,this.pipelines=new s,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,L,O){var I=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(n(F,"frameInc",32));var U=I.width,H=I.height,Z=this.game.config.disablePreFX,tt=this.game.config.disablePostFX;if(tt||this.postPipelineClasses.setAll([[String(h.BARREL),a.Barrel],[String(h.BLOOM),a.Bloom],[String(h.BLUR),a.Blur],[String(h.BOKEH),a.Bokeh],[String(h.CIRCLE),a.Circle],[String(h.COLOR_MATRIX),a.ColorMatrix],[String(h.DISPLACEMENT),a.Displacement],[String(h.GLOW),a.Glow],[String(h.GRADIENT),a.Gradient],[String(h.PIXELATE),a.Pixelate],[String(h.SHADOW),a.Shadow],[String(h.SHINE),a.Shine],[String(h.VIGNETTE),a.Vignette],[String(h.WIPE),a.Wipe]]),!Z){this.classes.set(v.FX_PIPELINE,f);for(var X=Math.min(U,H),k=Math.ceil(X/this.frameInc),D=1;D<k;D++){var z=D*this.frameInc;B.push(new e(I,z,z)),B.push(new e(I,z,z)),B.push(new e(I,z,z)),this.maxDimension=z}B.push(new e(I,U,H,1,0,!0,!0)),B.push(new e(I,U,H,1,0,!0,!0)),B.push(new e(I,U,H,1,0,!0,!0))}var Y,j,J=this,it=this.game;if(this.classes.each(function(at,ft){Y=J.add(at,new ft({game:it})),at===v.UTILITY_PIPELINE&&(J.UTILITY_PIPELINE=Y,J.fullFrame1=Y.fullFrame1,J.fullFrame2=Y.fullFrame2,J.halfFrame1=Y.halfFrame1,J.halfFrame2=Y.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),Z||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),F)for(j in F){var st=F[j];Y=new st(it),Y.name=j,Y.isPostFX?this.postPipelineClasses.set(j,st):this.has(j)||(this.classes.set(j,st),this.add(j,Y))}this.default=this.get(L),O&&!i.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var L=this.get(F);return L&&(this.default=L),L},add:function(F,L){if(L.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var O=this.pipelines,I=this.renderer;return O.has(F)?console.warn("Pipeline exists: "+F):(L.name=F,L.manager=this,O.set(F,L)),L.hasBooted||L.boot(),I.width!==0&&I.height!==0&&!L.isPreFX&&L.resize(I.width,I.height),L},addPostPipeline:function(F,L){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,L)},flush:function(){this.current&&this.current.flush()},has:function(F){var L=this.pipelines;return typeof F=="string"?L.has(F):!!L.contains(F)},get:function(F){var L=this.pipelines;if(typeof F=="string")return L.get(F);if(L.contains(F))return F},getPostPipeline:function(F,L,O){var I=this.postPipelineClasses,B,U="",H=typeof F;if(H==="string"||H==="number"?(B=I.get(F),U=F):H==="function"?(I.contains(F)&&(B=F),U=F.name):H==="object"&&(B=I.get(F.name),U=F.name),B){var Z=new B(this.game,O);return Z.name=U,L&&(Z.gameObject=L),this.postPipelineInstances.push(Z),Z}},removePostPipeline:function(F){w(this.postPipelineInstances,F)},remove:function(F,L,O){L===void 0&&(L=!0),O===void 0&&(O=!0),this.pipelines.delete(F),L&&this.classes.delete(F),O&&this.postPipelineClasses.delete(F)},set:function(F,L,O){if(!F.isPostFX)return this.isCurrent(F,O)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(O)),F.updateProjectionMatrix(),F.onBind(L),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,O=L.length-1;O>=0;O--){var I=L[O];I.active&&I.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,O=0;O<L.length;O++){var I=L[O];I.active&&I.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,O=L.length-1;O>=0;O--){var I=L[O];I.active&&I.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,O=0;O<L.length;O++){var I=L[O];I.active&&I.postBatch(F)}}},isCurrent:function(F,L){var O=this.renderer,I=this.current;return I&&!L&&(L=I.currentShader),!(I!==F||L.program!==O.currentProgram)},copyFrame:function(F,L,O,I,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,L,O,I,B),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,L,O,I){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,L,O,I),this},blendFrames:function(F,L,O,I,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,L,O,I,B),this},blendFramesAdditive:function(F,L,O,I,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,L,O,I,B),this},clearFrame:function(F,L){return this.UTILITY_PIPELINE.clearFrame(F,L),this},blitFrame:function(F,L,O,I,B,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,L,O,I,B,U),this},copyFrameRect:function(F,L,O,I,B,U,H,Z){return this.UTILITY_PIPELINE.copyFrameRect(F,L,O,I,B,U,H,Z),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,L){L.restoreContext()}),A(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var L=this.renderer,O=L.gl;O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),L.hasActiveStencilMask()?O.clear(O.DEPTH_BUFFER_BIT):(O.disable(O.STENCIL_TEST),O.clear(O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)),O.viewport(0,0,L.width,L.height),L.currentProgram=null,L.setBlendMode(0,!0);var I=L.vaoExtension;I&&I.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var U in B)B[U].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var L=F.vaoExtension;L&&L.bindVertexArrayOES(null)},getRenderTarget:function(F){var L=this.renderTargets,O=3;if(F>this.maxDimension)return this.targetIndex=L.length-O,L[this.targetIndex];var I=(r(F,this.frameInc,0,!0)-1)*O;return this.targetIndex=I,L[I]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=P},32302:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92503),s=new o({initialize:function(n,e,r,l,a,h,f,u,d){l===void 0&&(l=1),a===void 0&&(a=0),h===void 0&&(h=!0),f===void 0&&(f=!1),u===void 0&&(u=!0),d===void 0&&(d=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=a,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=u,this.forceClamp=d,this.resize(e,r),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(i){return i&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!i&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(i,n){if(i=Math.round(i*this.scale),n=Math.round(n*this.scale),i<=0&&(i=1),n<=0&&(n=1),this.autoResize&&(i!==this.width||n!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,i,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(i,n,this.texture,this.hasDepthBuffer),this.width=i,this.height=n}return this},willResize:function(i,n){return i=Math.round(i*this.scale),n=Math.round(n*this.scale),i<=0&&(i=1),n<=0&&(n=1),i!==this.width||n!==this.height},bind:function(i,n,e){i===void 0&&(i=!1);var r=this.renderer;if(i&&r.flush(),n&&e&&this.resize(n,e),r.pushFramebuffer(this.framebuffer,!1,!1),i&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var i=this.renderer.gl;i.viewport(0,0,this.width,this.height),i.disable(i.SCISSOR_TEST)},clear:function(){var i=this.renderer,n=i.gl;i.pushFramebuffer(this.framebuffer),n.disable(n.SCISSOR_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),i.popFramebuffer(),i.resetScissor()},unbind:function(i){i===void 0&&(i=!1);var n=this.renderer;return i&&n.flush(),n.popFramebuffer()},destroy:function(){var i=this.renderer;i.off(v.RESIZE,this.resize,this),i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=s},70554:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(y,t,o,v){var s=(y*255|0)&255,i=(t*255|0)&255,n=(o*255|0)&255,e=(v*255|0)&255;return(e<<24|s<<16|i<<8|n)>>>0},getTintAppendFloatAlpha:function(y,t){var o=(t*255|0)&255;return(o<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,t){var o=(y>>16|0)&255,v=(y>>8|0)&255,s=(y|0)&255,i=(t*255|0)&255;return(i<<24|s<<16|v<<8|o)>>>0},getFloatsFromUintRGB:function(y){var t=(y>>16|0)&255,o=(y>>8|0)&255,v=(y|0)&255;return[t/255,o/255,v/255]},checkShaderMax:function(y,t){var o=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?o:Math.min(o,t)},parseFragmentShaderMaxTextures:function(y,t){if(!y)return"";for(var o="",v=0;v<t;v++)v>0&&(o+=`
	else `),v<t-1&&(o+="if (outTexId < "+v+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",o+=`
	}`;return y=y.replace(/%count%/gi,t.toString()),y.replace(/%forloop%/gi,o)},setGlowQuality:function(y,t,o,v){return o===void 0&&(o=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/o/v).toFixed(7)),y=y.replace(/__DIST__/gi,v.toFixed(0)+".0"),y}}},29100:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(62644),s=t(50792),i=t(77085),n=t(95540),e=t(37867),r=t(92503),l=t(32302),a=t(70554),h=t(38683),f=new o({Extends:s,initialize:function(d){s.call(this);var m=d.game,x=m.renderer,S=x.gl;this.name=n(d,"name","WebGLPipeline"),this.game=m,this.renderer=x,this.manager,this.gl=S,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(d,"topology",S.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=n(d,"resizeUniform","")},boot:function(){var u,d=this.gl,m=this.config,x=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var S=this.renderTargets,T=n(m,"renderTarget",!1);typeof T=="boolean"&&T&&(T=1);var C=x.width,A=x.height;if(typeof T=="number")for(u=0;u<T;u++)S.push(new l(x,C,A,1,0,!0));else if(Array.isArray(T))for(u=0;u<T.length;u++){var w=n(T[u],"scale",1),P=n(T[u],"minFilter",0),F=n(T[u],"autoClear",1),L=n(T[u],"autoResize",!1),O=n(T[u],"width",null),I=n(T[u],"height",O);O?S.push(new l(x,O,I,1,P,F,L)):S.push(new l(x,C,A,w,P,F,L))}S.length&&(this.currentRenderTarget=S[0]),this.setShadersFromConfig(m);var B=this.shaders,U=0;for(u=0;u<B.length;u++)B[u].vertexSize>U&&(U=B[u].vertexSize);var H=n(m,"batchSize",x.config.batchSize);this.vertexCapacity=H*6;var Z=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=Z,this.bytes=new Uint8Array(Z),this.vertexViewF32=new Float32Array(Z),this.vertexViewU32=new Uint32Array(Z);var tt=n(m,"vertices",null);for(tt?(this.vertexViewF32.set(tt),this.vertexBuffer=x.createVertexBuffer(Z,d.STATIC_DRAW)):this.vertexBuffer=x.createVertexBuffer(Z.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),u=B.length-1;u>=0;u--)B[u].rebind();this.hasBooted=!0,x.on(r.RESIZE,this.resize,this),x.on(r.PRE_RENDER,this.onPreRender,this),x.on(r.RENDER,this.onRender,this),x.on(r.POST_RENDER,this.onPostRender,this),this.emit(i.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(u,d,m){var x=this.renderer;if(u!==this.currentShader||x.currentProgram!==this.currentShader.program){this.flush();var S=this.setVertexBuffer(m);S&&!d&&(d=!0),u.bind(d,!1),this.currentShader=u}return this},getShaderByName:function(u){for(var d=this.shaders,m=0;m<d.length;m++)if(d[m].name===u)return d[m]},setShadersFromConfig:function(u){var d,m=this.shaders,x=this.renderer;for(d=0;d<m.length;d++)m[d].destroy();var S="vertShader",T="fragShader",C="attributes",A=n(u,S,null),w=a.parseFragmentShaderMaxTextures(n(u,T,null),x.maxTextures),P=n(u,C,null),F=n(u,"shaders",[]),L=F.length;if(L===0)A&&w&&(this.shaders=[new h(this,"default",A,w,v(P))]);else{var O=[];for(d=0;d<L;d++){var I=F[d],B,U,H,Z;if(typeof I=="string"?(B="default",U=A,H=a.parseFragmentShaderMaxTextures(I,x.maxTextures),Z=P):(B=n(I,"name","default"),U=n(I,S,A),H=a.parseFragmentShaderMaxTextures(n(I,T,w),x.maxTextures),Z=n(I,C,P)),B==="default"){var tt=H.split(`
`),X=tt[0].trim();X.indexOf("#define SHADER_NAME")>-1&&(B=X.substring(20))}U&&H&&O.push(new h(this,B,U,H,v(Z)))}this.shaders=O}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(u){return this.currentBatch={start:this.vertexCount,count:0,texture:[u],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=u,this.batch.push(this.currentBatch),0},addTextureToBatch:function(u){var d=this.currentBatch;d&&(d.texture.push(u),d.unit++,d.maxUnit++)},pushBatch:function(u){if(!this.currentBatch||this.forceZero&&u!==this.currentTexture)return this.createBatch(u);if(u===this.currentTexture)return this.currentUnit;var d=this.currentBatch,m=d.texture.indexOf(u);return m===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(u):(d.unit++,d.maxUnit++,d.texture.push(u),this.currentUnit=d.unit,this.currentTexture=u,d.unit):(this.currentUnit=m,this.currentTexture=u,m)},setGameObject:function(u,d){return d===void 0&&(d=u.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(u){return u===void 0&&(u=0),this.vertexCount+u>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(u,d){(u!==this.width||d!==this.height)&&this.flush(),this.width=u,this.height=d;for(var m=this.renderTargets,x=0;x<m.length;x++)m[x].resize(u,d);return this.setProjectionMatrix(u,d),this.resizeUniform&&this.set2f(this.resizeUniform,u,d),this.emit(i.RESIZE,u,d,this),this.onResize(u,d),this},setProjectionMatrix:function(u,d){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=u,this.projectionHeight=d,m.ortho(0,u,d,0,-1e3,1e3);for(var x=this.shaders,S="uProjectionMatrix",T=0;T<x.length;T++){var C=x[T];C.hasUniform(S)&&(C.resetUniform(S),C.setMatrix4fv(S,!1,m.val,C))}return this},flipProjectionMatrix:function(u){u===void 0&&(u=!0);var d=this.projectionMatrix;if(!d)return this;var m=this.projectionWidth,x=this.projectionHeight;u?d.ortho(0,m,0,x,-1e3,1e3):d.ortho(0,m,x,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var u=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==u||this.projectionHeight!==d)&&this.setProjectionMatrix(u,d)}},bind:function(u){if(u===void 0&&(u=this.currentShader),this.glReset)return this.rebind(u);var d=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),u.bind(d),this.currentShader=u,this.activeTextures.length=0,this.emit(i.BIND,this,u),this.onActive(u),this},rebind:function(u){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,m=d.length-1;m>=0;m--){var x=d[m].rebind();(!u||x===u)&&(this.currentShader=x)}return this.activeTextures.length=0,this.emit(i.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var u=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var m=0;m<u.length;m++){var x=u[m];x.syncUniforms(),d&&x.rebind()}},setVertexBuffer:function(u){if(u===void 0&&(u=this.vertexBuffer),u!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,u.webGLBuffer),this.activeBuffer=u,!0}return!1},preBatch:function(u){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(u),this},postBatch:function(u){return this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(u){if(u===void 0&&(u=!1),this.vertexCount>0){this.emit(i.BEFORE_FLUSH,this,u),this.onBeforeFlush(u);var d=this.gl,m=this.vertexCount,x=this.currentShader.vertexSize,S=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,m*x));var T,C,A,w=this.batch,P=this.activeTextures;if(this.forceZero)for(P[0]||d.activeTexture(d.TEXTURE0),T=0;T<w.length;T++)C=w[T],A=C.texture[0],P[0]!==A&&(d.bindTexture(d.TEXTURE_2D,A.webGLTexture),P[0]=A),d.drawArrays(S,C.start,C.count);else for(T=0;T<w.length;T++){C=w[T];for(var F=0;F<=C.maxUnit;F++)A=C.texture[F],P[F]!==A&&(d.activeTexture(d.TEXTURE0+F),d.bindTexture(d.TEXTURE_2D,A.webGLTexture),P[F]=A);d.drawArrays(S,C.start,C.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(i.AFTER_FLUSH,this,u),this.onAfterFlush(u)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(u,d,m,x,S,T,C){var A=this.vertexViewF32,w=this.vertexViewU32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++P]=u,A[++P]=d,A[++P]=m,A[++P]=x,A[++P]=S,A[++P]=T,w[++P]=C,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(u,d,m,x,S,T,C,A,w,P,F,L,O,I,B,U,H,Z,tt,X){X===void 0&&(X=this.currentUnit);var k=!1;this.shouldFlush(6)&&(this.flush(),k=!0),this.currentBatch||(X=this.setTexture2D(tt));var D=this.vertexViewF32,z=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++Y]=d,D[++Y]=m,D[++Y]=P,D[++Y]=F,D[++Y]=X,D[++Y]=Z,z[++Y]=I,D[++Y]=x,D[++Y]=S,D[++Y]=P,D[++Y]=O,D[++Y]=X,D[++Y]=Z,z[++Y]=U,D[++Y]=T,D[++Y]=C,D[++Y]=L,D[++Y]=O,D[++Y]=X,D[++Y]=Z,z[++Y]=H,D[++Y]=d,D[++Y]=m,D[++Y]=P,D[++Y]=F,D[++Y]=X,D[++Y]=Z,z[++Y]=I,D[++Y]=T,D[++Y]=C,D[++Y]=L,D[++Y]=O,D[++Y]=X,D[++Y]=Z,z[++Y]=H,D[++Y]=A,D[++Y]=w,D[++Y]=L,D[++Y]=F,D[++Y]=X,D[++Y]=Z,z[++Y]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),k},batchTri:function(u,d,m,x,S,T,C,A,w,P,F,L,O,I,B,U,H){H===void 0&&(H=this.currentUnit);var Z=!1;this.shouldFlush(3)&&(this.flush(),Z=!0),this.currentBatch||(H=this.setTexture2D(U));var tt=this.vertexViewF32,X=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;return tt[++k]=d,tt[++k]=m,tt[++k]=A,tt[++k]=w,tt[++k]=H,tt[++k]=B,X[++k]=L,tt[++k]=x,tt[++k]=S,tt[++k]=A,tt[++k]=F,tt[++k]=H,tt[++k]=B,X[++k]=O,tt[++k]=T,tt[++k]=C,tt[++k]=P,tt[++k]=F,tt[++k]=H,tt[++k]=B,X[++k]=I,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),Z},drawFillRect:function(u,d,m,x,S,T,C,A){C===void 0&&(C=this.renderer.whiteTexture),A===void 0&&(A=!0),u=Math.floor(u),d=Math.floor(d);var w=Math.floor(u+m),P=Math.floor(d+x),F=this.setTexture2D(C),L=a.getTintAppendFloatAlphaAndSwap(S,T),O=0,I=0,B=1,U=1;A&&(I=1,U=0),this.batchQuad(null,u,d,u,P,w,P,w,d,O,I,B,U,L,L,L,L,0,C,F)},setTexture2D:function(u){return u===void 0&&(u=this.renderer.whiteTexture),this.pushBatch(u)},bindTexture:function(u,d){d===void 0&&(d=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+d),m.bindTexture(m.TEXTURE_2D,u.webGLTexture),this},bindRenderTarget:function(u,d){return this.bindTexture(u.texture,d)},setTime:function(u,d){return this.set1f(u,this.game.loop.getDuration(),d),this},setBoolean:function(u,d,m){return m===void 0&&(m=this.currentShader),m.setBoolean(u,d),this},set1f:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set1f(u,d),this},set2f:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.set2f(u,d,m),this},set3f:function(u,d,m,x,S){return S===void 0&&(S=this.currentShader),S.set3f(u,d,m,x),this},set4f:function(u,d,m,x,S,T){return T===void 0&&(T=this.currentShader),T.set4f(u,d,m,x,S),this},set1fv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set1fv(u,d),this},set2fv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set2fv(u,d),this},set3fv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set3fv(u,d),this},set4fv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set4fv(u,d),this},set1iv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set1iv(u,d),this},set2iv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set2iv(u,d),this},set3iv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set3iv(u,d),this},set4iv:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set4iv(u,d),this},set1i:function(u,d,m){return m===void 0&&(m=this.currentShader),m.set1i(u,d),this},set2i:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.set2i(u,d,m),this},set3i:function(u,d,m,x,S){return S===void 0&&(S=this.currentShader),S.set3i(u,d,m,x),this},set4i:function(u,d,m,x,S,T){return T===void 0&&(T=this.currentShader),T.set4i(u,d,m,x,S),this},setMatrix2fv:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.setMatrix2fv(u,d,m),this},setMatrix3fv:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.setMatrix3fv(u,d,m),this},setMatrix4fv:function(u,d,m,x){return x===void 0&&(x=this.currentShader),x.setMatrix4fv(u,d,m),this},destroy:function(){this.emit(i.DESTROY,this);var u,d=this.shaders;for(u=0;u<d.length;u++)d[u].destroy();var m=this.renderTargets;for(u=0;u<m.length;u++)m[u].destroy();var x=this.renderer;return x.deleteBuffer(this.vertexBuffer),x.off(r.RESIZE,this.resize,this),x.off(r.PRE_RENDER,this.onPreRender,this),x.off(r.RENDER,this.onRender,this),x.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=f},74797:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95428),v=t(72905),s=t(19715),i=t(83419),n=t(8054),e=t(50792),r=t(92503),l=t(50030),a=t(37867),h=t(29747),f=t(7530),u=t(32302),d=t(97480),m=t(69442),x=t(70554),S=t(88815),T=t(26128),C=t(1482),A=t(82751),w=t(84387),P=t(93567),F=t(57183),L=new i({Extends:e,initialize:function(I){e.call(this);var B=I.config,U={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:U,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=I,this.type=n.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=I.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(O){var I,B=this.game,U=this.canvas,H=O.backgroundColor;if(B.config.context?I=B.config.context:I=U.getContext("webgl",O.contextCreation)||U.getContext("experimental-webgl",O.contextCreation),!I||I.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=I;var Z=this,tt=function(){var D=I.getSupportedExtensions();Z.supportedExtensions=D;var z="ANGLE_instanced_arrays";Z.instancedArraysExtension=D.indexOf(z)>-1?I.getExtension(z):null;var Y="OES_vertex_array_object";Z.vaoExtension=D.indexOf(Y)>-1?I.getExtension(Y):null};tt(),this.contextLostHandler=function(D){Z.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),Z.emit(r.LOSE_WEBGL,Z),D.preventDefault()},U.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(D){if(I.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}Z.currentProgram=null,Z.currentFramebuffer=null,Z.setBlendMode(n.BlendModes.NORMAL),I.disable(I.BLEND),I.disable(I.DEPTH_TEST),I.enable(I.CULL_FACE),Z.compression=Z.getCompressedTextures();var z=function(Y){Y.createResource()};o(Z.glTextureWrappers,z),o(Z.glBufferWrappers,z),o(Z.glFramebufferWrappers,z),o(Z.glProgramWrappers,z),o(Z.glAttribLocationWrappers,z),o(Z.glUniformLocationWrappers,z),Z.createTemporaryTextures(),Z.pipelines.restoreContext(),Z.resize(Z.game.scale.baseSize.width,Z.game.scale.baseSize.height),tt(),Z.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),Z.emit(r.RESTORE_WEBGL,Z),D.preventDefault()},U.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),B.context=I;for(var X=0;X<=27;X++)this.blendModes.push({func:[I.ONE,I.ONE_MINUS_SRC_ALPHA],equation:I.FUNC_ADD});this.blendModes[1].func=[I.ONE,I.DST_ALPHA],this.blendModes[2].func=[I.DST_COLOR,I.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[I.ONE,I.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[I.ZERO,I.ONE_MINUS_SRC_ALPHA],equation:I.FUNC_REVERSE_SUBTRACT},this.glFormats=[I.BYTE,I.SHORT,I.UNSIGNED_BYTE,I.UNSIGNED_SHORT,I.FLOAT],this.glFuncMap={mat2:{func:I.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:I.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:I.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:I.uniform1f,length:1},"1fv":{func:I.uniform1fv,length:1},"1i":{func:I.uniform1i,length:1},"1iv":{func:I.uniform1iv,length:1},"2f":{func:I.uniform2f,length:2},"2fv":{func:I.uniform2fv,length:1},"2i":{func:I.uniform2i,length:2},"2iv":{func:I.uniform2iv,length:1},"3f":{func:I.uniform3f,length:3},"3fv":{func:I.uniform3fv,length:1},"3i":{func:I.uniform3i,length:3},"3iv":{func:I.uniform3iv,length:1},"4f":{func:I.uniform4f,length:4},"4fv":{func:I.uniform4fv,length:1},"4i":{func:I.uniform4i,length:4},"4iv":{func:I.uniform4iv,length:1}},(!O.maxTextures||O.maxTextures===-1)&&(O.maxTextures=I.getParameter(I.MAX_TEXTURE_IMAGE_UNITS)),O.maxTextureSize||(O.maxTextureSize=I.getParameter(I.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),I.disable(I.DEPTH_TEST),I.disable(I.CULL_FACE),I.enable(I.BLEND),I.clearColor(H.redGL,H.greenGL,H.blueGL,H.alphaGL);var k=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return k.indexOf(O.mipmapFilter)!==-1&&(this.mipmapFilter=I[O.mipmapFilter]),this.maxTextures=x.checkShaderMax(I,O.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(n.BlendModes.NORMAL),this.projectionMatrix=new a().identity(),B.textures.once(m.READY,this.boot,this),this},boot:function(){var O=this.game,I=this.pipelines,B=O.scale.baseSize,U=B.width,H=B.height;this.width=U,this.height=H,this.isBooted=!0,this.renderTarget=new u(this,U,H,1,0,!0,!0),this.maskTarget=new u(this,U,H,1,0,!0,!0),this.maskSource=new u(this,U,H,1,0,!0,!0);var Z=O.config;I.boot(Z.pipeline,Z.defaultPipeline,Z.autoMobilePipeline),this.blankTexture=O.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=O.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=O.textures.getFrame("__WHITE").glTexture;var tt=this.gl;tt.bindFramebuffer(tt.FRAMEBUFFER,null),tt.enable(tt.SCISSOR_TEST),O.scale.on(d.RESIZE,this.onResize,this),this.resize(U,H)},createTemporaryTextures:function(){for(var O=this.gl,I=0;I<this.maxTextures;I++){var B=O.createTexture();O.activeTexture(O.TEXTURE0+I),O.bindTexture(O.TEXTURE_2D,B),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,1,1,0,O.RGBA,O.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(I)}},captureFrame:function(O,I){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(O,I,B){},stopCapture:function(){},onCapture:function(O){},onResize:function(O,I){(I.width!==this.width||I.height!==this.height)&&this.resize(I.width,I.height)},beginCapture:function(O,I){O===void 0&&(O=this.width),I===void 0&&(I=this.height),this.renderTarget.bind(!0,O,I),this.setProjectionMatrix(O,I)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(O,I){var B=this.gl;return this.width=O,this.height=I,this.setProjectionMatrix(O,I),B.viewport(0,0,O,I),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-I,O,I),this.defaultScissor[2]=O,this.defaultScissor[3]=I,this.emit(r.RESIZE,O,I),this},getCompressedTextures:function(){var O="WEBGL_compressed_texture_",I="WEBKIT_"+O,B="EXT_texture_compression_",U=function(Z,tt){var X=Z.getExtension(O+tt)||Z.getExtension(I+tt)||Z.getExtension(B+tt);if(X){var k={};for(var D in X)k[X[D]]=D;return k}},H=this.gl;return{ETC:U(H,"etc"),ETC1:U(H,"etc1"),ATC:U(H,"atc"),ASTC:U(H,"astc"),BPTC:U(H,"bptc"),RGTC:U(H,"rgtc"),PVRTC:U(H,"pvrtc"),S3TC:U(H,"s3tc"),S3TCSRGB:U(H,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(O,I){var B=this.compression[O.toUpperCase()];if(I in B)return B[I]},supportsCompressedTexture:function(O,I){var B=this.compression[O.toUpperCase()];return B?I?I in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(O,I){return(O!==this.projectionWidth||I!==this.projectionHeight)&&(this.projectionWidth=O,this.projectionHeight=I,this.projectionMatrix.ortho(0,O,I,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(O){return this.supportedExtensions?this.supportedExtensions.indexOf(O):!1},getExtension:function(O){return this.hasExtension(O)?(O in this.extensions||(this.extensions[O]=this.gl.getExtension(O)),this.extensions[O]):null},flush:function(){this.pipelines.flush()},pushScissor:function(O,I,B,U,H){H===void 0&&(H=this.drawingBufferHeight);var Z=this.scissorStack,tt=[O,I,B,U];return Z.push(tt),this.setScissor(O,I,B,U,H),this.currentScissor=tt,tt},setScissor:function(O,I,B,U,H){H===void 0&&(H=this.drawingBufferHeight);var Z=this.gl,tt=this.currentScissor,X=B>0&&U>0;if(tt&&X){var k=tt[0],D=tt[1],z=tt[2],Y=tt[3];X=k!==O||D!==I||z!==B||Y!==U}X&&(this.flush(),Z.scissor(O,H-I-U,B,U))},resetScissor:function(){var O=this.gl;O.enable(O.SCISSOR_TEST);var I=this.currentScissor;if(I){var B=I[0],U=I[1],H=I[2],Z=I[3];H>0&&Z>0&&O.scissor(B,this.drawingBufferHeight-U-Z,H,Z)}},popScissor:function(){var O=this.scissorStack;O.pop();var I=O[O.length-1];I&&this.setScissor(I[0],I[1],I[2],I[3]),this.currentScissor=I},hasActiveStencilMask:function(){var O=this.currentMask.mask,I=this.currentCameraMask.mask;return O&&O.isStencil||I&&I.isStencil},resetViewport:function(){var O=this.gl;O.viewport(0,0,this.width,this.height),this.drawingBufferHeight=O.drawingBufferHeight},setBlendMode:function(O,I){I===void 0&&(I=!1);var B=this.gl,U=this.blendModes[O];return I||O!==n.BlendModes.SKIP_CHECK&&this.currentBlendMode!==O?(this.flush(),B.enable(B.BLEND),B.blendEquation(U.equation),U.func.length>2?B.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):B.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=O,!0):!1},addBlendMode:function(O,I){var B=this.blendModes.push({func:O,equation:I});return B-1},updateBlendMode:function(O,I,B){return this.blendModes[O]&&(this.blendModes[O].func=I,B&&(this.blendModes[O].equation=B)),this},removeBlendMode:function(O){return O>17&&this.blendModes[O]&&this.blendModes.splice(O,1),this},pushFramebuffer:function(O,I,B,U,H){return O===this.currentFramebuffer?this:(this.fboStack.push(O),this.setFramebuffer(O,I,B,U,H))},setFramebuffer:function(O,I,B,U,H){if(I===void 0&&(I=!1),B===void 0&&(B=!0),U===void 0&&(U=null),H===void 0&&(H=!1),O===this.currentFramebuffer)return this;var Z=this.gl,tt=this.width,X=this.height;return O&&O.renderTexture&&B?(tt=O.renderTexture.width,X=O.renderTexture.height):this.flush(),O?Z.bindFramebuffer(Z.FRAMEBUFFER,O.webGLFramebuffer):Z.bindFramebuffer(Z.FRAMEBUFFER,null),B&&Z.viewport(0,0,tt,X),U&&Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,U.webGLTexture,0),H&&(Z.clearColor(0,0,0,0),Z.clear(Z.COLOR_BUFFER_BIT)),I&&(O?(this.drawingBufferHeight=X,this.pushScissor(0,0,tt,X)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=O,this},popFramebuffer:function(O,I){O===void 0&&(O=!1),I===void 0&&(I=!0);var B=this.fboStack;B.pop();var U=B[B.length-1];return U||(U=null),this.setFramebuffer(U,O,I),U},restoreFramebuffer:function(O,I){O===void 0&&(O=!1),I===void 0&&(I=!0);var B=this.fboStack,U=B[B.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,O,I)},setProgram:function(O){return O!==this.currentProgram?(this.flush(),this.gl.useProgram(O.webGLProgram),this.currentProgram=O,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(O,I,B,U,H){H===void 0&&(H=!1);var Z=this.gl,tt=Z.NEAREST,X=Z.NEAREST,k=Z.CLAMP_TO_EDGE,D=null;I=O?O.width:I,B=O?O.height:B;var z=l(I,B);if(z&&!H&&(k=Z.REPEAT),U===n.ScaleModes.LINEAR&&this.config.antialias){var Y=O&&O.compressed,j=!Y&&z||Y&&O.mipmaps.length>1;tt=this.mipmapFilter&&j?this.mipmapFilter:Z.LINEAR,X=Z.LINEAR}return!O&&typeof I=="number"&&typeof B=="number"?D=this.createTexture2D(0,tt,X,k,k,Z.RGBA,null,I,B):D=this.createTexture2D(0,tt,X,k,k,Z.RGBA,O),D},createTexture2D:function(O,I,B,U,H,Z,tt,X,k,D,z,Y){typeof X!="number"&&(X=tt?tt.width:1),typeof k!="number"&&(k=tt?tt.height:1);var j=new A(this.gl,O,I,B,U,H,Z,tt,X,k,D,z,Y);return this.glTextureWrappers.push(j),j},createFramebuffer:function(O,I,B,U){this.currentFramebuffer=null;var H=new w(this.gl,O,I,B,U);return this.glFramebufferWrappers.push(H),H},beginBitmapMask:function(O,I){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==O&&(this.currentMask.mask=O,this.currentMask.camera=I))},drawBitmapMask:function(O,I,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),O.renderWebGL(this,O,I),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,H=this.getCurrentStencilMask();H?(U.enable(U.STENCIL_TEST),H.mask.applyStencil(this,H.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(O,I){var B=new C(this.gl,O,I);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(O,I){var B=this.gl,U=new T(B,O,B.ARRAY_BUFFER,I);return this.glBufferWrappers.push(U),U},createAttribLocation:function(O,I){var B=new P(this.gl,O,I);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(O,I){var B=new F(this.gl,O,I);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(O,I){var B=this.gl,U=new T(B,O,B.ELEMENT_ARRAY_BUFFER,I);return this.glBufferWrappers.push(U),U},deleteTexture:function(O){if(O)return v(this.glTextureWrappers,O),O.destroy(),this},deleteFramebuffer:function(O){return O?(v(this.fboStack,O),v(this.glFramebufferWrappers,O),O.destroy(),this):this},deleteProgram:function(O){return O&&(v(this.glProgramWrappers,O),O.destroy()),this},deleteAttribLocation:function(O){return O&&(v(this.glAttribLocationWrappers,O),O.destroy()),this},deleteUniformLocation:function(O){return O&&(v(this.glUniformLocationWrappers,O),O.destroy()),this},deleteBuffer:function(O){return O?(v(this.glBufferWrappers,O),O.destroy(),this):this},preRenderCamera:function(O){var I=O.x,B=O.y,U=O.width,H=O.height,Z=O.backgroundColor;if(O.emit(s.PRE_RENDER,O),this.pipelines.preBatchCamera(O),this.pushScissor(I,B,U,H),O.mask&&(this.currentCameraMask.mask=O.mask,this.currentCameraMask.camera=O._maskCamera,O.mask.preRenderWebGL(this,O,O._maskCamera)),Z.alphaGL>0){var tt=this.pipelines.setMulti();tt.drawFillRect(I,B,U,H,x.getTintFromFloats(Z.blueGL,Z.greenGL,Z.redGL,1),Z.alphaGL)}},getCurrentStencilMask:function(){var O=null,I=this.maskStack,B=this.currentCameraMask;return I.length>0?O=I[I.length-1]:B.mask&&B.mask.isStencil&&(O=B),O},postRenderCamera:function(O){var I=O.flashEffect,B=O.fadeEffect;if(I.isRunning||B.isRunning||B.isComplete){var U=this.pipelines.setMulti();I.postRenderWebGL(U,x.getTintFromFloats),B.postRenderWebGL(U,x.getTintFromFloats)}O.dirty=!1,this.popScissor(),O.mask&&(this.currentCameraMask.mask=null,O.mask.postRenderWebGL(this,O._maskCamera)),this.pipelines.postBatchCamera(O),O.emit(s.POST_RENDER,O)},preRender:function(){if(!this.contextLost){var O=this.gl;if(O.bindFramebuffer(O.FRAMEBUFFER,null),this.config.clearBeforeRender){var I=this.config.backgroundColor;O.clearColor(I.redGL,I.greenGL,I.blueGL,I.alphaGL),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)}O.enable(O.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&O.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(r.PRE_RENDER)}},render:function(O,I,B){if(!this.contextLost){var U=I.length;if(this.emit(r.RENDER,O,B),this.preRenderCamera(B),U===0){this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var H=this.currentMask,Z=0;Z<U;Z++){this.finalType=Z===U-1;var tt=I[Z],X=tt.mask;H=this.currentMask,H.mask&&H.mask!==X&&H.mask.postRenderWebGL(this,H.camera),X&&H.mask!==X&&X.preRenderWebGL(this,tt,B),tt.blendMode!==this.currentBlendMode&&this.setBlendMode(tt.blendMode);var k=tt.type;k!==this.currentType&&(this.newType=!0,this.currentType=k),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=I[Z+1].type===this.currentType,tt.renderWebGL(this,tt,B),this.newType=!1}H=this.currentMask,H.mask&&H.mask.postRenderWebGL(this,H.camera),this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(r.POST_RENDER);var O=this.snapshotState;O.callback&&(S(this.gl,O),O.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var O=this.gl,I=this.getCurrentStencilMask();if(I){var B=I.mask;O.enable(O.STENCIL_TEST),B.invertAlpha?O.stencilFunc(O.NOTEQUAL,B.level,255):O.stencilFunc(O.EQUAL,B.level,255)}},snapshot:function(O,I,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,O,I,B)},snapshotArea:function(O,I,B,U,H,Z,tt){var X=this.snapshotState;return X.callback=H,X.type=Z,X.encoder=tt,X.getPixel=!1,X.x=O,X.y=I,X.width=B,X.height=U,this},snapshotPixel:function(O,I,B){return this.snapshotArea(O,I,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(O,I,B,U,H,Z,tt,X,k,D,z){H===void 0&&(H=!1),Z===void 0&&(Z=0),tt===void 0&&(tt=0),X===void 0&&(X=I),k===void 0&&(k=B),D==="pixel"&&(H=!0,D="image/png");var Y=this.currentFramebuffer;this.snapshotArea(Z,tt,X,k,U,D,z);var j=this.snapshotState;return j.getPixel=H,j.isFramebuffer=!0,j.bufferWidth=I,j.bufferHeight=B,j.width=Math.min(j.width,I),j.height=Math.min(j.height,B),this.setFramebuffer(O),S(this.gl,j),this.setFramebuffer(Y),j.callback=null,j.isFramebuffer=!1,this},canvasToTexture:function(O,I,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var H=this.gl,Z=H.NEAREST,tt=H.NEAREST,X=O.width,k=O.height,D=H.CLAMP_TO_EDGE,z=l(X,k);return!B&&z&&(D=H.REPEAT),this.config.antialias&&(Z=z&&this.mipmapFilter?this.mipmapFilter:H.LINEAR,tt=H.LINEAR),I?(I.update(O,X,k,U,D,D,Z,tt,I.format),I):this.createTexture2D(0,Z,tt,D,D,H.RGBA,O,X,k,!0,!1,U)},createCanvasTexture:function(O,I,B){return I===void 0&&(I=!1),B===void 0&&(B=!1),this.canvasToTexture(O,null,I,B)},updateCanvasTexture:function(O,I,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.canvasToTexture(O,I,U,B)},videoToTexture:function(O,I,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var H=this.gl,Z=H.NEAREST,tt=H.NEAREST,X=O.videoWidth,k=O.videoHeight,D=H.CLAMP_TO_EDGE,z=l(X,k);return!B&&z&&(D=H.REPEAT),this.config.antialias&&(Z=z&&this.mipmapFilter?this.mipmapFilter:H.LINEAR,tt=H.LINEAR),I?(I.update(O,X,k,U,D,D,Z,tt,I.format),I):this.createTexture2D(0,Z,tt,D,D,H.RGBA,O,X,k,!0,!0,U)},createVideoTexture:function(O,I,B){return I===void 0&&(I=!1),B===void 0&&(B=!1),this.videoToTexture(O,null,I,B)},updateVideoTexture:function(O,I,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.videoToTexture(O,I,U,B)},createUint8ArrayTexture:function(O,I,B){var U=this.gl,H=U.NEAREST,Z=U.NEAREST,tt=U.CLAMP_TO_EDGE,X=l(I,B);return X&&(tt=U.REPEAT),this.createTexture2D(0,H,Z,tt,tt,U.RGBA,O,I,B)},setTextureFilter:function(O,I){var B=this.gl,U=I===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var H=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,O.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,U),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,U),O.minFilter=U,O.magFilter=U,H&&B.bindTexture(B.TEXTURE_2D,H),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var O=function(I){I.destroy()};o(this.glAttribLocationWrappers,O),o(this.glBufferWrappers,O),o(this.glFramebufferWrappers,O),o(this.glProgramWrappers,O),o(this.glTextureWrappers,O),o(this.glUniformLocationWrappers,O),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});c.exports=L},38683:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95428),s=t(95540),i=t(14500),n=new o({initialize:function(r,l,a,h,f){this.pipeline=r,this.name=l,this.renderer=r.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=a,this.program=this.renderer.createProgram(a,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var r=0,l=0,a=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var f=e[h],u=f.name,d=s(f,"size",1),m=s(f,"type",i.FLOAT),x=m.enum,S=m.size,T=!!f.normalized;a.push({name:u,size:d,type:x,normalized:T,offset:l,enabled:!1,location:-1}),S===4?r+=d:r++,l+=d*S}this.vertexSize=l,this.vertexComponentCount=r,this.attributes=a},bind:function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),r&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var r=this.gl,l=this.renderer,a=this.vertexSize,h=this.attributes,f=this.program,u=0;u<h.length;u++){var d=h[u],m=d.size,x=d.type,S=d.offset,T=d.enabled,C=d.location,A=!!d.normalized;if(e){C!==-1&&l.deleteAttribLocation(C);var w=this.renderer.createAttribLocation(f,d.name);w.webGLAttribLocation>=0?(r.enableVertexAttribArray(w.webGLAttribLocation),r.vertexAttribPointer(w.webGLAttribLocation,m,x,A,a,S),d.enabled=!0,d.location=w):w.webGLAttribLocation!==-1&&r.disableVertexAttribArray(w.webGLAttribLocation)}else T?r.vertexAttribPointer(C.webGLAttribLocation,m,x,A,a,S):!T&&C!==-1&&C.webGLAttribLocation>-1&&(r.disableVertexAttribArray(C.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,r=this.program,l=this.uniforms,a,h,f,u=e.getProgramParameter(r.webGLProgram,e.ACTIVE_UNIFORMS);for(a=0;a<u;a++){var d=e.getActiveUniform(r.webGLProgram,a);if(d){h=d.name,f=this.renderer.createUniformLocation(r,h),f!==null&&(l[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var m=h.indexOf("[");m>0&&(h=h.substr(0,m),l.hasOwnProperty(h)||(f=this.renderer.createUniformLocation(r,h),f!==null&&(l[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var r in this.uniforms){var l=this.uniforms[r];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var r=this.uniforms[e];return r&&(r.value1=null,r.value2=null,r.value3=null,r.value4=null),this},setUniform1:function(e,r,l,a){var h=this.uniforms[r];return h?((a||h.value1!==l)&&(h.setter||(h.setter=e),h.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,r,l,a,h){var f=this.uniforms[r];return f?((h||f.value1!==l||f.value2!==a)&&(f.setter||(f.setter=e),f.value1=l,f.value2=a,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,a),this.pipeline.currentShader=this),this):this},setUniform3:function(e,r,l,a,h,f){var u=this.uniforms[r];return u?((f||u.value1!==l||u.value2!==a||u.value3!==h)&&(u.setter||(u.setter=e),u.value1=l,u.value2=a,u.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l,a,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,r,l,a,h,f,u){var d=this.uniforms[r];return d?((u||d.value1!==l||d.value2!==a||d.value3!==h||d.value4!==f)&&(d.setter||(d.setter=e),d.value1=l,d.value2=a,d.value3=h,d.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,a,h,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,r){return this.setUniform1(this.gl.uniform1i,e,Number(r))},set1f:function(e,r){return this.setUniform1(this.gl.uniform1f,e,r)},set2f:function(e,r,l){return this.setUniform2(this.gl.uniform2f,e,r,l)},set3f:function(e,r,l,a){return this.setUniform3(this.gl.uniform3f,e,r,l,a)},set4f:function(e,r,l,a,h){return this.setUniform4(this.gl.uniform4f,e,r,l,a,h)},set1fv:function(e,r){return this.setUniform1(this.gl.uniform1fv,e,r,!0)},set2fv:function(e,r){return this.setUniform1(this.gl.uniform2fv,e,r,!0)},set3fv:function(e,r){return this.setUniform1(this.gl.uniform3fv,e,r,!0)},set4fv:function(e,r){return this.setUniform1(this.gl.uniform4fv,e,r,!0)},set1iv:function(e,r){return this.setUniform1(this.gl.uniform1iv,e,r,!0)},set2iv:function(e,r){return this.setUniform1(this.gl.uniform2iv,e,r,!0)},set3iv:function(e,r){return this.setUniform1(this.gl.uniform3iv,e,r,!0)},set4iv:function(e,r){return this.setUniform1(this.gl.uniform4iv,e,r,!0)},set1i:function(e,r){return this.setUniform1(this.gl.uniform1i,e,r)},set2i:function(e,r,l){return this.setUniform2(this.gl.uniform2i,e,r,l)},set3i:function(e,r,l,a){return this.setUniform3(this.gl.uniform3i,e,r,l,a)},set4i:function(e,r,l,a,h){return this.setUniform4(this.gl.uniform4i,e,r,l,a,h)},setMatrix2fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,r,l,!0)},setMatrix3fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,r,l,!0)},setMatrix4fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,r,l,!0)},createProgram:function(e,r){return e===void 0&&(e=this.vertSrc),r===void 0&&(r=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=r,this.program=this.renderer.createProgram(e,r),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;v(this.uniforms,function(r){e.deleteUniformLocation(r.location)}),this.uniforms=null,v(this.attributes,function(r){e.deleteAttribLocation(r.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=n},14500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=y},4159:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14500),v=t(79291),s={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};s=v(!1,s,o),c.exports=s},31302:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=t(78908),i=t(85191),n=t(14500),e=t(29100),r=new o({Extends:e,initialize:function(a){a.fragShader=v(a,"fragShader",s),a.vertShader=v(a,"vertShader",i),a.batchSize=v(a,"batchSize",1),a.vertices=v(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=v(a,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,a)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,a){e.prototype.resize.call(this,l,a),this.set2f("uResolution",l,a)},beginMask:function(l,a,h){this.renderer.beginBitmapMask(l,h)},endMask:function(l,a,h){var f=this.gl,u=this.renderer,d=l.bitmapMask;d&&f&&(u.drawBitmapMask(d,a,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});c.exports=r},92651:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(58918),s=t(14811),i=t(95540),n=t(43558),e=t(89350),r=t(70554),l=new o({Extends:n,initialize:function(h){h.shaders=[r.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,h);var f=this.game;this.glow=new v.Glow(f),this.shadow=new v.Shadow(f),this.pixelate=new v.Pixelate(f),this.vignette=new v.Vignette(f),this.shine=new v.Shine(f),this.gradient=new v.Gradient(f),this.circle=new v.Circle(f),this.barrel=new v.Barrel(f),this.wipe=new v.Wipe(f),this.bokeh=new v.Bokeh(f);var u=[];u[s.GLOW]=this.onGlow,u[s.SHADOW]=this.onShadow,u[s.PIXELATE]=this.onPixelate,u[s.VIGNETTE]=this.onVignette,u[s.SHINE]=this.onShine,u[s.BLUR]=this.onBlur,u[s.GRADIENT]=this.onGradient,u[s.BLOOM]=this.onBloom,u[s.COLOR_MATRIX]=this.onColorMatrix,u[s.CIRCLE]=this.onCircle,u[s.BARREL]=this.onBarrel,u[s.DISPLACEMENT]=this.onDisplacement,u[s.WIPE]=this.onWipe,u[s.BOKEH]=this.onBokeh,this.fxHandlers=u,this.source,this.target,this.swap},onDraw:function(a,h,f){this.source=a,this.target=h,this.swap=f;var u=a.width,d=a.height,m=this.tempSprite,x=this.fxHandlers;if(m&&m.preFX)for(var S=m.preFX.list,T=0;T<S.length;T++){var C=S[T];C.active&&x[C.type].call(this,C,u,d)}this.drawToGame(this.source)},runDraw:function(){var a=this.source,h=this.target;this.copy(a,h),this.source=h,this.target=a},onGlow:function(a,h,f){var u=this.shaders[s.GLOW];this.setShader(u),this.glow.onPreRender(a,u,h,f),this.runDraw()},onShadow:function(a){var h=this.shaders[s.SHADOW];this.setShader(h),this.shadow.onPreRender(a,h),this.runDraw()},onPixelate:function(a,h,f){var u=this.shaders[s.PIXELATE];this.setShader(u),this.pixelate.onPreRender(a,u,h,f),this.runDraw()},onVignette:function(a){var h=this.shaders[s.VIGNETTE];this.setShader(h),this.vignette.onPreRender(a,h),this.runDraw()},onShine:function(a,h,f){var u=this.shaders[s.SHINE];this.setShader(u),this.shine.onPreRender(a,u,h,f),this.runDraw()},onBlur:function(a,h,f){var u=i(a,"quality"),d=this.shaders[s.BLUR+u];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",h,f),this.set1f("strength",i(a,"strength")),this.set3fv("color",i(a,"glcolor"));for(var m=i(a,"x"),x=i(a,"y"),S=i(a,"steps"),T=0;T<S;T++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,x),this.runDraw()},onGradient:function(a){var h=this.shaders[s.GRADIENT];this.setShader(h),this.gradient.onPreRender(a,h),this.runDraw()},onBloom:function(a,h,f){var u=this.shaders[s.BLOOM];this.copySprite(this.source,this.swap),this.setShader(u),this.set1i("uMainSampler",0),this.set1f("strength",i(a,"blurStrength")),this.set3fv("color",i(a,"glcolor"));for(var d=2/h*i(a,"offsetX"),m=2/f*i(a,"offsetY"),x=i(a,"steps"),S=0;S<x;S++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,i(a,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(a){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha),this.runDraw()},onCircle:function(a,h,f){var u=this.shaders[s.CIRCLE];this.setShader(u),this.circle.onPreRender(a,u,h,f),this.runDraw()},onBarrel:function(a){var h=this.shaders[s.BARREL];this.setShader(h),this.barrel.onPreRender(a,h),this.runDraw()},onDisplacement:function(a){this.setShader(this.shaders[s.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.runDraw()},onWipe:function(a){var h=this.shaders[s.WIPE];this.setShader(h),this.wipe.onPreRender(a,h),this.runDraw()},onBokeh:function(a,h,f){var u=this.shaders[s.BOKEH];this.setShader(u),this.bokeh.onPreRender(a,u,h,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});c.exports=l},96569:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=t(31063),i=t(57516),n=t(61340),e=t(26099),r=t(29100),l=new o({Extends:i,initialize:function(h){var f=v(h,"fragShader",s);h.fragShader=f.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),i.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){r.prototype.boot.call(this)},onRender:function(a,h){var f=a.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var u=f.getLights(h),d=u.length;this.lightsActive=!0;var m,x=this.renderer,S=x.height,T=h.matrix,C=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),m=0;m<d;m++){var A=u[m].light,w=A.color,P="uLights["+m+"].";T.transformPoint(A.x,A.y,C),this.set2f(P+"position",C.x-h.scrollX*A.scrollFactorX*h.zoom,S-(C.y-h.scrollY*A.scrollFactorY*h.zoom)),this.set3f(P+"color",w.r,w.g,w.b),this.set1f(P+"intensity",A.intensity),this.set1f(P+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(a){if(a!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(a){var f=-a,u=Math.cos(f),d=Math.sin(f);h[1]=d,h[3]=-d,h[0]=h[4]=u}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=a}},setTexture2D:function(a,h){var f=this.renderer;a===void 0&&(a=f.whiteTexture);var u=this.getNormalMap(h);this.isNewNormalMap(a,u)&&(this.flush(),this.createBatch(a),this.addTextureToBatch(u),this.currentNormalMap=u);var d=0;if(h&&h.parentContainer){var m=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=m.rotationNormalized}else h&&(d=h.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(a,h){h===void 0&&(h=a.frame);var f=h.glTexture,u=this.getNormalMap(a);if(this.isNewNormalMap(f,u)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(u),this.currentNormalMap=u),a.parentContainer){var d=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(a.rotation);return 0},isNewNormalMap:function(a,h){return this.currentTexture!==a||this.currentNormalMap!==h},getNormalMap:function(a){var h;if(a)a.displayTexture?h=a.displayTexture.dataSource[a.displayFrame.sourceIndex]:a.texture?h=a.texture.dataSource[a.frame.sourceIndex]:a.tileset&&(Array.isArray(a.tileset)?h=a.tileset[0].image.dataSource[0]:h=a.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(a,h,f){this.lightsActive&&i.prototype.batchSprite.call(this,a,h,f)},batchTexture:function(a,h,f,u,d,m,x,S,T,C,A,w,P,F,L,O,I,B,U,H,Z,tt,X,k,D,z,Y,j,J,it,st,at){this.lightsActive&&i.prototype.batchTexture.call(this,a,h,f,u,d,m,x,S,T,C,A,w,P,F,L,O,I,B,U,H,Z,tt,X,k,D,z,Y,j,J,it,st,at)},batchTextureFrame:function(a,h,f,u,d,m,x){this.lightsActive&&i.prototype.batchTextureFrame.call(this,a,h,f,u,d,m,x)}});c.exports=l},56527:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=t(57516),i=t(45561),n=t(60722),e=t(14500),r=t(29100),l=new o({Extends:s,initialize:function(h){h.fragShader=v(h,"fragShader",i),h.vertShader=v(h,"vertShader",n),h.attributes=v(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",s.call(this,h)},boot:function(){r.prototype.boot.call(this);var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height),this.set1i("uRoundPixels",a.config.roundPixels)}});c.exports=l},57516:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(94811),s=t(95540),i=t(98840),n=t(44667),e=t(61340),r=t(70554),l=t(14500),a=t(29100),h=new o({Extends:a,initialize:function(u){var d=u.game.renderer,m=s(u,"fragShader",i);u.fragShader=r.parseFragmentShaderMaxTextures(m,d.maxTextures),u.vertShader=s(u,"vertShader",n),u.attributes=s(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),u.resizeUniform="uResolution",a.call(this,u),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height),this.set1i("uRoundPixels",f.config.roundPixels)},batchSprite:function(f,u,d){this.manager.set(this,f);var m=this._tempMatrix1,x=this._tempMatrix2,S=this._tempMatrix3,T=f.frame,C=T.glTexture,A=T.u0,w=T.v0,P=T.u1,F=T.v1,L=T.x,O=T.y,I=T.cutWidth,B=T.cutHeight,U=T.customPivot,H=f.displayOriginX,Z=f.displayOriginY,tt=-H+L,X=-Z+O;if(f.isCropped){var k=f._crop;(k.flipX!==f.flipX||k.flipY!==f.flipY)&&T.updateCropUVs(k,f.flipX,f.flipY),A=k.u0,w=k.v0,P=k.u1,F=k.v1,I=k.width,B=k.height,L=k.x,O=k.y,tt=-H+L,X=-Z+O}var D=1,z=1;f.flipX&&(U||(tt+=-T.realWidth+H*2),D=-1),f.flipY&&(U||(X+=-T.realHeight+Z*2),z=-1);var Y=f.x,j=f.y;x.applyITRS(Y,j,f.rotation,f.scaleX*D,f.scaleY*z),m.copyFrom(u.matrix),d?(m.multiplyWithOffset(d,-u.scrollX*f.scrollFactorX,-u.scrollY*f.scrollFactorY),x.e=Y,x.f=j):(x.e-=u.scrollX*f.scrollFactorX,x.f-=u.scrollY*f.scrollFactorY),m.multiply(x,S);var J=S.setQuad(tt,X,tt+I,X+B),it=r.getTintAppendFloatAlpha,st=u.alpha,at=it(f.tintTopLeft,st*f._alphaTL),ft=it(f.tintTopRight,st*f._alphaTR),vt=it(f.tintBottomLeft,st*f._alphaBL),xt=it(f.tintBottomRight,st*f._alphaBR);this.shouldFlush(6)&&this.flush();var Ct=this.setGameObject(f,T);this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",u.roundPixels),this.batchQuad(f,J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],A,w,P,F,at,ft,vt,xt,f.tintFill,C,Ct),this.manager.postBatch(f)},batchTexture:function(f,u,d,m,x,S,T,C,A,w,P,F,L,O,I,B,U,H,Z,tt,X,k,D,z,Y,j,J,it,st,at,ft,vt,xt){xt===void 0&&(xt=!1),this.manager.set(this,f);var Ct=this._tempMatrix1,yt=this._tempMatrix2,Pt=this._tempMatrix3,Gt=H/d+J,Ut=Z/m+it,Nt=(H+tt)/d+J,wt=(Z+X)/m+it,Dt=T,Rt=C,Ht=-B,qt=-U;if(f.isCropped){var ee=f._crop,te=ee.width,oe=ee.height;Dt=te,Rt=oe,T=te,C=oe,H=ee.x,Z=ee.y;var Vt=H,jt=Z;F&&(Vt=tt-ee.x-te),L&&(jt=X-ee.y-oe),Gt=Vt/d+J,Ut=jt/m+it,Nt=(Vt+te)/d+J,wt=(jt+oe)/m+it,Ht=-B+H,qt=-U+Z}L=L^(!ft&&u.isRenderTexture?1:0),F&&(Dt*=-1,Ht+=T),L&&(Rt*=-1,qt+=C),yt.applyITRS(x,S,P,A,w),Ct.copyFrom(st.matrix),at?(Ct.multiplyWithOffset(at,-st.scrollX*O,-st.scrollY*I),yt.e=x,yt.f=S):(yt.e-=st.scrollX*O,yt.f-=st.scrollY*I),Ct.multiply(yt,Pt);var It=Pt.setQuad(Ht,qt,Ht+Dt,qt+Rt);vt==null&&(vt=this.setTexture2D(u)),f&&!xt&&this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",st.roundPixels),this.batchQuad(f,It[0],It[1],It[2],It[3],It[4],It[5],It[6],It[7],Gt,Ut,Nt,wt,k,D,z,Y,j,u,vt),f&&!xt&&this.manager.postBatch(f)},batchTextureFrame:function(f,u,d,m,x,S,T){this.manager.set(this);var C=this._tempMatrix1.copyFrom(S),A=this._tempMatrix2;T?C.multiply(T,A):A=C;var w=A.setQuad(u,d,u+f.width,d+f.height),P=this.setTexture2D(f.source.glTexture);m=r.getTintAppendFloatAlpha(m,x),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],f.u0,f.v0,f.u1,f.v1,m,m,m,m,0,f.glTexture,P)},batchFillRect:function(f,u,d,m,x,S){this.renderer.pipelines.set(this);var T=this.calcMatrix;S&&S.multiply(x,T);var C=T.setQuad(f,u,f+d,u+m),A=this.fillTint;this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(f,u,d,m,x,S,T,C){this.renderer.pipelines.set(this);var A=this.calcMatrix;C&&C.multiply(T,A);var w=A.getX(f,u),P=A.getY(f,u),F=A.getX(d,m),L=A.getY(d,m),O=A.getX(x,S),I=A.getY(x,S),B=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,w,P,F,L,O,I,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(f,u,d,m,x,S,T,C,A){var w=this.tempTriangle;w[0].x=f,w[0].y=u,w[0].width=T,w[1].x=d,w[1].y=m,w[1].width=T,w[2].x=x,w[2].y=S,w[2].width=T,w[3].x=f,w[3].y=u,w[3].width=T,this.batchStrokePath(w,T,!1,C,A)},batchFillPath:function(f,u,d){this.renderer.pipelines.set(this);var m=this.calcMatrix;d&&d.multiply(u,m);for(var x=f.length,S=this.polygonCache,T,C,A=this.fillTint.TL,w=this.fillTint.TR,P=this.fillTint.BL,F=0;F<x;++F)C=f[F],S.push(C.x,C.y);T=v(S),x=T.length,this.currentShader.set1i("uRoundPixels",!1);for(var L=0;L<x;L+=3){var O=T[L+0]*2,I=T[L+1]*2,B=T[L+2]*2,U=S[O+0],H=S[O+1],Z=S[I+0],tt=S[I+1],X=S[B+0],k=S[B+1],D=m.getX(U,H),z=m.getY(U,H),Y=m.getX(Z,tt),j=m.getY(Z,tt),J=m.getX(X,k),it=m.getY(X,k);this.batchTri(null,D,z,Y,j,J,it,0,0,1,1,A,w,P,2)}S.length=0},batchStrokePath:function(f,u,d,m,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var S=f.length-1,T=0;T<S;T++){var C=f[T],A=f[T+1];this.batchLine(C.x,C.y,A.x,A.y,C.width/2,A.width/2,u,T,!d&&T===S-1,m,x)}},batchLine:function(f,u,d,m,x,S,T,C,A,w,P){this.renderer.pipelines.set(this);var F=this.calcMatrix;P&&P.multiply(w,F);var L=d-f,O=m-u,I=Math.sqrt(L*L+O*O);if(I!==0){var B=x*(m-u)/I,U=x*(f-d)/I,H=S*(m-u)/I,Z=S*(f-d)/I,tt=d-H,X=m-Z,k=f-B,D=u-U,z=d+H,Y=m+Z,j=f+B,J=u+U,it=F.getX(tt,X),st=F.getY(tt,X),at=F.getX(k,D),ft=F.getY(k,D),vt=F.getX(z,Y),xt=F.getY(z,Y),Ct=F.getX(j,J),yt=F.getY(j,J),Pt=this.strokeTint,Gt=Pt.TL,Ut=Pt.TR,Nt=Pt.BL,wt=Pt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,Ct,yt,at,ft,it,st,vt,xt,0,0,1,1,Gt,Ut,Nt,wt,2),!(T<=2)){var Dt=this.prevQuad,Rt=this.firstQuad;C>0&&Dt[4]?this.batchQuad(null,Ct,yt,at,ft,Dt[0],Dt[1],Dt[2],Dt[3],0,0,1,1,Gt,Ut,Nt,wt,2):(Rt[0]=Ct,Rt[1]=yt,Rt[2]=at,Rt[3]=ft,Rt[4]=1),A&&Rt[4]?this.batchQuad(null,it,st,vt,xt,Rt[0],Rt[1],Rt[2],Rt[3],0,0,1,1,Gt,Ut,Nt,wt,2):(Dt[0]=it,Dt[1]=st,Dt[2]=vt,Dt[3]=xt,Dt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,a.prototype.destroy.call(this),this}});c.exports=h},43439:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=t(4127),i=t(89924),n=t(29100),e=new o({Extends:n,initialize:function(l){l.vertShader=v(l,"vertShader",i),l.fragShader=v(l,"fragShader",s),l.attributes=v(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,l)},onRender:function(r,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(r,l,a,h,f,u,d,m,x,S,T,C){var A=r.color,w=r.intensity,P=r.radius,F=r.attenuation,L=A.r*w,O=A.g*w,I=A.b*w,B=l.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(a,h,T,C,P,F,L,O,I,B),this.batchLightVert(f,u,T,C,P,F,L,O,I,B),this.batchLightVert(d,m,T,C,P,F,L,O,I,B),this.batchLightVert(a,h,T,C,P,F,L,O,I,B),this.batchLightVert(d,m,T,C,P,F,L,O,I,B),this.batchLightVert(x,S,T,C,P,F,L,O,I,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(r,l,a,h,f,u,d,m,x,S){var T=this.vertexViewF32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++C]=r,T[++C]=l,T[++C]=a,T[++C]=h,T[++C]=f,T[++C]=u,T[++C]=d,T[++C]=m,T[++C]=x,T[++C]=S,this.vertexCount++}});c.exports=e},84057:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89422),s=t(95540),i=t(27681),n=t(49627),e=t(29100),r=new o({Extends:e,initialize:function(a){a.renderTarget=s(a,"renderTarget",1),a.fragShader=s(a,"fragShader",i),a.vertShader=s(a,"vertShader",n),a.attributes=s(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,a),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height),this.set1i("uRoundPixels",a.config.roundPixels);for(var h=this.renderTargets,f=0;f<h.length;f++)h[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,a,h){h===void 0&&(h=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var u=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,a.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),h&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,u))},copyFrame:function(l,a,h,f,u){this.manager.copyFrame(l,a,h,f,u)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,a,h){this.manager.drawFrame(l,a,h,this.colorMatrix)},blendFrames:function(l,a,h,f,u){this.manager.blendFrames(l,a,h,f,u)},blendFramesAdditive:function(l,a,h,f,u){this.manager.blendFramesAdditive(l,a,h,f,u)},clearFrame:function(l,a){this.manager.clearFrame(l,a)},blitFrame:function(l,a,h,f,u,d){this.manager.blitFrame(l,a,h,f,u,d)},copyFrameRect:function(l,a,h,f,u,d,m,x){this.manager.copyFrameRect(l,a,h,f,u,d,m,x)},bindAndDraw:function(l,a,h,f,u){h===void 0&&(h=!0),f===void 0&&(f=!0);var d=this.gl,m=this.renderer;this.bind(u),this.set1i("uMainSampler",0),a?(d.viewport(0,0,a.width,a.height),d.bindFramebuffer(d.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a.texture.webGLTexture,0),h&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||d.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),a&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});c.exports=r},43558:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(67502),s=t(83419),i=t(96293),n=t(95540),e=t(57516),r=t(27681),l=t(87841),a=t(32302),h=t(45561),f=t(60722),u=t(29100),d=new s({Extends:e,initialize:function(x){var S=n(x,"fragShader",r),T=n(x,"vertShader",f),C=n(x,"drawShader",r),A=[{name:"DrawSprite",fragShader:h,vertShader:f},{name:"CopySprite",fragShader:S,vertShader:T},{name:"DrawGame",fragShader:C,vertShader:f},{name:"ColorMatrix",fragShader:i}],w=n(x,"shaders",[]);x.shaders=A.concat(w),x.vertShader||(x.vertShader=T),x.batchSize=1,e.call(this,x),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){u.prototype.boot.call(this);var m=this.shaders,x=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new a(x,x.width,x.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var S=new ArrayBuffer(168);this.quadVertexData=S,this.quadVertexViewF32=new Float32Array(S),this.quadVertexBuffer=x.createVertexBuffer(S,this.gl.STATIC_DRAW),this.onResize(x.width,x.height),this.currentShader=this.copyShader,this.set2f("uResolution",x.width,x.height),this.set1i("uRoundPixels",x.config.roundPixels)},onResize:function(m,x){var S=this.quadVertexViewF32;S[1]=x,S[22]=x,S[14]=m,S[28]=m,S[35]=m,S[36]=x},batchQuad:function(m,x,S,T,C,A,w,P,F,L,O,I,B,U,H,Z,tt,X,k){var D=Math.min(x,T,A,P),z=Math.min(S,C,w,F),Y=Math.max(x,T,A,P),j=Math.max(S,C,w,F),J=Y-D,it=j-z,st=this.spriteBounds.setTo(D,z,J,it),at=m?m.preFX.padding:0,ft=J+at*2,vt=it+at*2,xt=Math.abs(Math.max(ft,vt)),Ct=this.manager.getRenderTarget(xt),yt=this.targetBounds.setTo(0,0,Ct.width,Ct.height);v(yt,st.centerX,st.centerY),this.tempSprite=m;var Pt=this.gl,Gt=this.renderer;Gt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Gt.width,Gt.height),this.set1i("uRoundPixels",Gt.config.roundPixels),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,Ct),m.preFX.onFX(this));var Ut=this.fsTarget;return this.flush(),Pt.viewport(0,0,Gt.width,Gt.height),Pt.bindFramebuffer(Pt.FRAMEBUFFER,Ut.framebuffer.webGLFramebuffer),Pt.framebufferTexture2D(Pt.FRAMEBUFFER,Pt.COLOR_ATTACHMENT0,Pt.TEXTURE_2D,Ut.texture.webGLTexture,0),Pt.clearColor(0,0,0,0),Pt.clear(Pt.COLOR_BUFFER_BIT),this.setTexture2D(k),this.batchVert(x,S,L,O,0,X,U),this.batchVert(T,C,L,B,0,X,Z),this.batchVert(A,w,I,B,0,X,tt),this.batchVert(x,S,L,O,0,X,U),this.batchVert(A,w,I,B,0,X,tt),this.batchVert(P,F,I,O,0,X,H),this.flush(),this.flipProjectionMatrix(!1),Pt.activeTexture(Pt.TEXTURE0),Pt.bindTexture(Pt.TEXTURE_2D,Ct.texture.webGLTexture),Pt.copyTexSubImage2D(Pt.TEXTURE_2D,0,0,0,yt.x,yt.y,yt.width,yt.height),Pt.bindFramebuffer(Pt.FRAMEBUFFER,null),Pt.bindTexture(Pt.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(Ct,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,x,S,T,C,A,w){S===void 0&&(S=!0),T===void 0&&(T=!0),C===void 0&&(C=!1),w===void 0&&(w=this.copyShader);var P=this.gl,F=this.tempSprite;A&&(w=this.colorMatrixShader),this.currentShader=w;var L=this.setVertexBuffer(this.quadVertexBuffer);w.bind(L,!1);var O=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",O.width,O.height),this.set1i("uRoundPixels",O.config.roundPixels),F.preFX.onFXCopy(this),this.onCopySprite(m,x,F),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,m.texture.webGLTexture),m.height>x.height)P.viewport(0,0,m.width,m.height),this.setTargetUVs(m,x);else{var I=x.height-m.height;P.viewport(0,I,m.width,m.height),this.resetUVs()}if(P.bindFramebuffer(P.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,x.texture.webGLTexture,0),S&&(P.clearColor(0,0,0,+!T),P.clear(P.COLOR_BUFFER_BIT)),C){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),C&&this.renderer.setBlendMode(B),P.bindFramebuffer(P.FRAMEBUFFER,null)},copy:function(m,x){var S=this.gl;this.set1i("uMainSampler",0),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,m.texture.webGLTexture),S.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),S.bindFramebuffer(S.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,x.texture.webGLTexture,0),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.quadVertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null)},blendFrames:function(m,x,S,T,C){this.manager.blendFrames(m,x,S,T,C)},blendFramesAdditive:function(m,x,S,T,C){this.manager.blendFramesAdditive(m,x,S,T,C)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var x=this.gl,S=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var T=this._tempMatrix1.loadIdentity(),C=this.targetBounds.x,A=this.targetBounds.y,w=C+m.width,P=A+m.height,F=T.getX(C,A),L=T.getX(C,P),O=T.getX(w,P),I=T.getX(w,A),B=T.getY(C,A),U=T.getY(C,P),H=T.getY(w,P),Z=T.getY(w,A),tt=16777215;this.batchVert(F,B,0,0,0,0,tt),this.batchVert(L,U,0,1,0,0,tt),this.batchVert(O,H,1,1,0,0,tt),this.batchVert(F,B,0,0,0,0,tt),this.batchVert(O,H,1,1,0,0,tt),this.batchVert(I,Z,1,0,0,0,tt),S.restoreFramebuffer(!1,!0),S.currentFramebuffer||x.viewport(0,0,S.width,S.height),S.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,x,S,T,C,A,w,P){var F=this.quadVertexViewF32;F[2]=m,F[3]=x,F[9]=S,F[10]=T,F[16]=C,F[17]=A,F[23]=m,F[24]=x,F[30]=C,F[31]=A,F[37]=w,F[38]=P},setTargetUVs:function(m,x){var S=x.height/m.height;S>.5?S=.5-(S-.5):S=.5+(.5-S),this.setUVs(0,S,0,1+S,1,1+S,1,S)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});c.exports=d},81041:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=t(57516),i=new o({Extends:s,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),s.call(this,e)}});c.exports=i},12385:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=t(57516),i=t(45561),n=t(60722),e=t(29100),r=new o({Extends:s,initialize:function(a){a.fragShader=v(a,"fragShader",i),a.vertShader=v(a,"vertShader",n),a.forceZero=!0,s.call(this,a)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels)}});c.exports=r},7589:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35407),v=t(10312),s=t(83419),i=t(89422),n=t(96293),e=t(36682),r=t(95540),l=t(48247),a=t(49627),h=t(29100),f=new s({Extends:h,initialize:function(d){d.renderTarget=r(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=r(d,"vertShader",a),d.shaders=r(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:n}]),d.attributes=r(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,h.call(this,d),this.colorMatrix=new i,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var u=this.shaders,d=this.renderTargets;this.copyShader=u[0],this.addShader=u[1],this.linearShader=u[2],this.colorMatrixShader=u[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(u,d,m,x,S){m===void 0&&(m=1),x===void 0&&(x=!0),S===void 0&&(S=!0);var T=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,u.texture.webGLTexture),d?(T.viewport(0,0,d.width,d.height),T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture.webGLTexture,0)):T.viewport(0,0,u.width,u.height),x&&(S?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blitFrame:function(u,d,m,x,S,T,C){m===void 0&&(m=1),x===void 0&&(x=!0),S===void 0&&(S=!0),T===void 0&&(T=!1),C===void 0&&(C=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,u.texture.webGLTexture),u.height>d.height)A.viewport(0,0,u.width,u.height),this.setTargetUVs(u,d);else{var w=d.height-u.height;A.viewport(0,w,u.width,u.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,d.texture.webGLTexture,0),x&&(S?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),T){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}C&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),T&&this.renderer.setBlendMode(P),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(u,d,m,x,S,T,C,A){C===void 0&&(C=!0),A===void 0&&(A=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,u.texture.webGLTexture,0),C&&(A?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,d.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,m,x,S,T),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(u){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(u,d,m,x){m===void 0&&(m=!0),x===void 0&&(x=this.colorMatrix);var S=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",x.getData()),this.set1f("uAlpha",x.alpha),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,u.texture.webGLTexture),d?(S.viewport(0,0,d.width,d.height),S.bindFramebuffer(S.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,d.texture.webGLTexture,0)):S.viewport(0,0,u.width,u.height),m?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFrames:function(u,d,m,x,S,T){x===void 0&&(x=1),S===void 0&&(S=!0),T===void 0&&(T=this.linearShader);var C=this.gl;this.setShader(T),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",x),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,u.texture.webGLTexture),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),m?(C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,m.texture.webGLTexture,0),C.viewport(0,0,m.width,m.height)):C.viewport(0,0,u.width,u.height),S?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFramesAdditive:function(u,d,m,x,S){this.blendFrames(u,d,m,x,S,this.addShader)},clearFrame:function(u,d){d===void 0&&(d=!0);var m=this.gl;m.viewport(0,0,u.width,u.height),m.bindFramebuffer(m.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),d?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var x=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,x.webGLFramebuffer)},setUVs:function(u,d,m,x,S,T,C,A){var w=this.vertexViewF32;w[2]=u,w[3]=d,w[6]=m,w[7]=x,w[10]=S,w[11]=T,w[14]=u,w[15]=d,w[18]=S,w[19]=T,w[22]=C,w[23]=A},setTargetUVs:function(u,d){var m=d.height/u.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=f},36060:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=y},84817:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineafterflush"},36712:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebeforeflush"},40285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebind"},65918:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineboot"},92852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinedestroy"},56072:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinerebind"},57566:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineresize"},77085:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(99155),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});c.exports=i},67329:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(24400),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),r=this.fullFrame1,l=this.fullFrame2;this.copyFrame(n,l);for(var a=2/n.width*e.offsetX,h=2/n.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",a,0),this.copySprite(n,r),this.set2f("offset",0,h),this.copySprite(r,n);this.blendFrames(l,n,r,e.strength),this.copyToGame(r)}});c.exports=i},8861:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(41514),s=t(51078),i=t(94328),n=t(84057),e=new o({Extends:n,initialize:function(l){n.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:s},{name:"Gaussian13",fragShader:i}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(r){var l=this.getController(),a=this.gl,h=this.fullFrame1,f=a.getParameter(a.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),a.activeTexture(a.TEXTURE0),a.viewport(0,0,r.width,r.height),this.set1i("uMainSampler",0),this.set2f("resolution",r.width,r.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var u=0;u<l.steps;u++)this.set2f("offset",l.x,0),this.copySprite(r,h),this.set2f("offset",0,l.y),this.copySprite(h,r);a.bindFramebuffer(a.FRAMEBUFFER,f),a.bindTexture(a.TEXTURE_2D,null),this.copyToGame(r)}});c.exports=e},51051:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(90610),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,r,l){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},89428:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(91899),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,r,l){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},88904:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(84057),s=new o({Extends:v,initialize:function(n){v.call(this,{game:n})},onDraw:function(i){var n=this.fullFrame1;this.controller?this.manager.drawFrame(i,n,!0,this.controller):this.drawFrame(i,n),this.copyToGame(n)}});c.exports=s},63563:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(47838),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),r=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,r),this.copyToGame(r)}});c.exports=i},94045:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=t(98656),i=t(84057),n=t(70554),e=new o({Extends:i,initialize:function(l,a){var h=v(a,"quality",.1),f=v(a,"distance",10);i.call(this,{game:l,fragShader:n.setGlowQuality(s,l,h,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(r,l,a,h){r=this.getController(r),this.set1f("outerStrength",r.outerStrength,l),this.set1f("innerStrength",r.innerStrength,l),this.set4fv("glowColor",r.glcolor,l),this.setBoolean("knockout",r.knockout,l),a&&h&&this.set2f("resolution",a,h,l)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=e},74088:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(70463),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});c.exports=i},99636:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50831),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(n,e,r,l){n=this.getController(n),this.set1f("amount",n.amount,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},34700:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92595),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var r=n.samples;this.set1i("samples",r,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/r,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});c.exports=i},91157:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72464),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,r,l){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},27797:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(39249),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});c.exports=i},67603:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(2878),s=t(84057),i=new o({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var r=n.progress,l=n.wipeWidth,a=n.direction,h=n.axis;this.set4f("config",r,l,a,h,e),this.setBoolean("reveal",n.reveal,e)}});c.exports=i},58918:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};c.exports=o},96615:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36060),v=t(79291),s={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};s=v(!1,s,o),c.exports=s},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e){this.webGLAttribLocation=-1,this.gl=i,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var s=this.gl;s.isContextLost()||(this.webGLAttribLocation=s.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=v},26128:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e,r){this.webGLBuffer=null,this.gl=i,this.initialDataOrSize=n,this.bufferType=e,this.bufferUsage=r,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var s=this.gl;if(!s.isContextLost()){var i=this.bufferType,n=s.createBuffer();this.webGLBuffer=n,s.bindBuffer(i,this.webGLBuffer),s.bufferData(i,this.initialDataOrSize,this.bufferUsage),s.bindBuffer(i,null)}}},destroy:function(){var s=this.gl;s.isContextLost()||s.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=v},84387:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},s=new o({initialize:function(n,e,r,l,a){this.webGLFramebuffer=null,this.gl=n,this.width=e,this.height=r,this.renderTexture=l,this.addDepthStencilBuffer=!!a,this.createResource()},createResource:function(){var i=this.gl;if(!i.isContextLost()){var n=this.renderTexture,e=0,r=i.createFramebuffer();if(this.webGLFramebuffer=r,i.bindFramebuffer(i.FRAMEBUFFER,r),n.isRenderTexture=!0,n.isAlphaPremultiplied=!1,i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n.webGLTexture,0),e=i.checkFramebufferStatus(i.FRAMEBUFFER),e!==i.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[e]||e));if(this.addDepthStencilBuffer){var l=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,l),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,this.width,this.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,l)}i.bindFramebuffer(i.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var i=this.gl;if(!i.isContextLost()){i.bindFramebuffer(i.FRAMEBUFFER,this.webGLFramebuffer);var n=i.getFramebufferAttachmentParameter(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,null,0),i.deleteTexture(n));var e=i.getFramebufferAttachmentParameter(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&i.deleteRenderbuffer(e),i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=s},1482:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e){this.webGLProgram=null,this.gl=i,this.vertexSource=n,this.fragmentSource=e,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var i=s.createProgram(),n=s.createShader(s.VERTEX_SHADER),e=s.createShader(s.FRAGMENT_SHADER);s.shaderSource(n,this.vertexSource),s.shaderSource(e,this.fragmentSource),s.compileShader(n),s.compileShader(e);var r=`Shader failed:
`;if(!s.getShaderParameter(n,s.COMPILE_STATUS))throw new Error("Vertex "+r+s.getShaderInfoLog(n));if(!s.getShaderParameter(e,s.COMPILE_STATUS))throw new Error("Fragment "+r+s.getShaderInfoLog(e));if(s.attachShader(i,n),s.attachShader(i,e),s.linkProgram(i),!s.getProgramParameter(i,s.LINK_STATUS))throw new Error("Link "+r+s.getProgramInfoLog(i));s.useProgram(i),this.webGLProgram=i}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=v},82751:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50030),s=new o({initialize:function(n,e,r,l,a,h,f,u,d,m,x,S,T){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=n,this.mipLevel=e,this.minFilter=r,this.magFilter=l,this.wrapT=a,this.wrapS=h,this.format=f,this.pixels=u,this.width=d,this.height=m,this.pma=x??!0,this.forceSize=!!S,this.flipY=!!T,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var i=this.gl;if(!i.isContextLost()){if(this.pixels instanceof s){this.webGLTexture=this.pixels.webGLTexture;return}var n=i.createTexture();n.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=n,this._processTexture()}},update:function(i,n,e,r,l,a,h,f,u){if(!(n===0||e===0)){this.pixels=i,this.width=n,this.height=e,this.flipY=r,this.wrapS=l,this.wrapT=a,this.minFilter=h,this.magFilter=f,this.format=u;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var i=this.gl;i.activeTexture(i.TEXTURE0);var n=i.getParameter(i.TEXTURE_BINDING_2D);i.bindTexture(i.TEXTURE_2D,this.webGLTexture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.minFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.magFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.wrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.wrapT),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,r=this.mipLevel,l=this.width,a=this.height,h=this.format,f=!1;if(e==null)i.texImage2D(i.TEXTURE_2D,r,h,l,a,0,h,i.UNSIGNED_BYTE,null),f=v(l,a);else if(e.compressed){l=e.width,a=e.height,f=e.generateMipmap;for(var u=0;u<e.mipmaps.length;u++)i.compressedTexImage2D(i.TEXTURE_2D,u,e.internalFormat,e.mipmaps[u].width,e.mipmaps[u].height,0,e.mipmaps[u].data)}else e instanceof Uint8Array?(i.texImage2D(i.TEXTURE_2D,r,h,l,a,0,h,i.UNSIGNED_BYTE,e),f=v(l,a)):(this.forceSize||(l=e.width,a=e.height),i.texImage2D(i.TEXTURE_2D,r,h,h,i.UNSIGNED_BYTE,e),f=v(l,a));f&&i.generateMipmap(i.TEXTURE_2D),n?i.bindTexture(i.TEXTURE_2D,n):i.bindTexture(i.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(i){this.__SPECTOR_Metadata=i,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=i)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof s||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=s},57183:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e){this.webGLUniformLocation=null,this.gl=i,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var s=this.gl;s.isContextLost()||(this.webGLUniformLocation=s.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=v},9503:(c,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};c.exports=o},76531:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),v=t(83419),s=t(50792),i=t(97480),n=t(8443),e=t(57811),r=t(74403),l=t(45818),a=t(29747),h=t(87841),f=t(86555),u=t(56583),d=t(26099),m=t(38058),x=new v({Extends:s,initialize:function(T){s.call(this),this.game=T,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:a,windowResize:a,fullScreenChange:a,fullScreenError:a}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen,this.scaleMode!==o.SCALE_MODE.RESIZE&&this.scaleMode!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(n.PRE_STEP,this.step,this),S.events.once(n.READY,this.refresh,this),S.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var T=S.width,C=S.height,A=S.scaleMode,w=S.zoom,P=S.autoRound;if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var L=parseInt(T,10)/100;T=Math.floor(F*L)}if(typeof C=="string")if(C.substr(-1)!=="%")C=parseInt(C,10);else{var O=this.parentSize.height;O===0&&(O=window.innerHeight);var I=parseInt(C,10)/100;C=Math.floor(O*I)}this.scaleMode=A,this.autoRound=P,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,P&&(T=Math.floor(T),C=Math.floor(C)),this.gameSize.setSize(T,C),w===o.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,C),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*w,S.minHeight*w),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*w,S.maxHeight*w),this.displaySize.setSize(T,C),(S.snapWidth>0||S.snapHeight>0)&&this.displaySize.setSnap(S.snapWidth,S.snapHeight),this.orientation=l(T,C)},getParent:function(S){var T=S.parent;if(T!==null){if(this.parent=r(T),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==o.SCALE_MODE.NONE){var C=this.parent.getBoundingClientRect();(this.parentIsWindow||C.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",C=this.parent.getBoundingClientRect(),!this.parentIsWindow&&C.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=e(!0));var C=T.width,A=T.height;if(S.width!==C||S.height!==A)return S.setSize(C,A),!0;if(this.canvas){var w=this.canvasBounds,P=this.canvas.getBoundingClientRect();if(P.x!==w.x||P.y!==w.y)return!0}return!1},lockOrientation:function(S){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,S):!1},setParentSize:function(S,T){return this.parentSize.setSize(S,T),this.refresh()},setGameSize:function(S,T){var C=this.autoRound;C&&(S=Math.floor(S),T=Math.floor(T));var A=this.width,w=this.height;return this.gameSize.resize(S,T),this.baseSize.resize(S,T),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,w)},resize:function(S,T){var C=this.zoom,A=this.autoRound;A&&(S=Math.floor(S),T=Math.floor(T));var w=this.width,P=this.height;this.gameSize.resize(S,T),this.baseSize.resize(S,T),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*C,T*C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,L=S*C,O=T*C;return A&&(L=Math.floor(L),O=Math.floor(O)),(L!==S||O!==T)&&(F.width=L+"px",F.height=O+"px"),this.refresh(w,P)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(S,T){return S===void 0&&(S=0),T===void 0&&(T=S),this.displaySize.setSnap(S,T),this.refresh()},refresh:function(S,T){S===void 0&&(S=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var C=this.game.domContainer;if(C){this.baseSize.setCSS(C);var A=this.canvas.style,w=C.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=A.marginLeft,w.marginTop=A.marginTop}return this.emit(i.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=l(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(i.ORIENTATION_CHANGE,S))}},updateScale:function(){var S=this.canvas.style,T=this.gameSize.width,C=this.gameSize.height,A,w,P=this.zoom,F=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(T*P,C*P),A=this.displaySize.width,w=this.displaySize.height,F&&(A=Math.floor(A),w=Math.floor(w)),this._resetZoom&&(S.width=A+"px",S.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,w=this.displaySize.height,F&&(A=Math.floor(A),w=Math.floor(w)),this.canvas.width=A,this.canvas.height=w;else if(this.scaleMode===o.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,w=this.displaySize.height,F&&(A=Math.floor(A),w=Math.floor(w)),S.width=A+"px",S.height=w+"px";var L=this.parentSize.width/this.gameSize.width,O=this.parentSize.height/this.gameSize.height;L<O?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/L):this.baseSize.setSize(this.displaySize.width/O,this.gameSize.height),A=this.baseSize.width,w=this.baseSize.height,F&&(A=Math.floor(A),w=Math.floor(w)),this.canvas.width=A,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,w=this.displaySize.height,F&&(A=Math.floor(A),w=Math.floor(w)),S.width=A+"px",S.height=w+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=u(this.parentSize.width,this.gameSize.width,0,!0),T=u(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,T),1)},updateCenter:function(){var S=this.autoCenter;if(S!==o.CENTER.NO_CENTER){var T=this.canvas,C=T.style,A=T.getBoundingClientRect(),w=A.width,P=A.height,F=Math.floor((this.parentSize.width-w)/2),L=Math.floor((this.parentSize.height-P)/2);S===o.CENTER.CENTER_HORIZONTALLY?L=0:S===o.CENTER.CENTER_VERTICALLY&&(F=0),C.marginLeft=F+"px",C.marginTop=L+"px"}},updateBounds:function(){var S=this.canvasBounds,T=this.canvas.getBoundingClientRect();S.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=T.width,S.height=T.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){S===void 0&&(S={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(i.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var C=this.getFullscreenTarget();T.keyboard?C[T.request](Element.ALLOW_KEYBOARD_INPUT):C[T.request](S)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(i.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(i.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var T=S.parentNode;T.insertBefore(this.canvas,S),T.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(i.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(i.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,T=this.domlisteners;if(T.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0,S.refresh()},T.windowResize=function(){S.updateBounds(),S.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(A){return S.onFullScreenChange(A)},T.fullScreenError=function(A){return S.onFullScreenError(A)};var C=["webkit","moz",""];C.forEach(function(A){document.addEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,T){S instanceof m||(T=S,S=void 0),T===void 0&&(T=new h);var C=this.baseSize,A=this.parentSize,w=this.canvasBounds,P=this.displayScale,F=w.x>=0?0:-(w.x*P.x),L=w.y>=0?0:-(w.y*P.y),O;A.width>=w.width?O=C.width:O=C.width-(w.width-A.width)*P.x;var I;return A.height>=w.height?I=C.height:I=C.height-(w.height-A.height)*P.y,T.setTo(F,L,O,I),S&&(T.width/=S.zoomX,T.height/=S.zoomY,T.centerX=S.centerX+S.scrollX,T.centerY=S.centerY+S.scrollY),T},step:function(S,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(C){document.removeEventListener(C+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(C+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=x},64743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};c.exports=o},56139:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},2336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},47412:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},51452:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},20666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},47945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},97480:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(13560),s={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};s=o(!1,s,v.CENTER),s=o(!1,s,v.ORIENTATION),s=o(!1,s,v.SCALE_MODE),s=o(!1,s,v.ZOOM),c.exports=s},27397:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=t(35355),s=function(i){var n=i.game.config.defaultPhysicsSystem,e=o(i.settings,"physics",!1);if(!(!n&&!e)){var r=[];if(n&&r.push(v(n+"Physics")),e)for(var l in e)l=v(l.concat("Physics")),r.indexOf(l)===-1&&r.push(l);return r}};c.exports=s},52106:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(s){var i=s.plugins.getDefaultScenePlugins(),n=o(s.settings,"plugins",!1);return Array.isArray(n)?n:i||[]};c.exports=v},87033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=y},97482:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(2368),s=new o({initialize:function(n){this.sys=new v(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=s},60903:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89993),s=t(44594),i=t(8443),n=t(35154),e=t(54899),r=t(29747),l=t(97482),a=t(2368),h=new o({initialize:function(u,d){if(this.game=u,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)this._pending.push({key:"default",scene:d[m],autoStart:m===0,data:{}})}u.events.once(i.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(i.SYSTEM_READY,this.systemScene,this);var f,u,d,m;for(f=0;f<this._pending.length;f++){u=this._pending[f],d=u.key,m=u.scene;var x;m instanceof l?x=this.createSceneFromInstance(d,m):typeof m=="object"?x=this.createSceneFromObject(d,m):typeof m=="function"&&(x=this.createSceneFromFunction(d,m)),d=x.sys.settings.key,this.keys[d]=x,this.scenes.push(x),this._data[d]&&(x.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(u.autoStart=!0)),(u.autoStart||x.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)u=this._start[f],this.start(u);this._start.length=0}},processQueue:function(){var f=this._pending.length,u=this._queue.length;if(!(f===0&&u===0)){var d,m;if(f){for(d=0;d<f;d++)m=this._pending[d],this.add(m.key,m.scene,m.autoStart,m.data);for(d=0;d<this._start.length;d++)m=this._start[d],this.start(m);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)m=this._queue[d],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(f,u,d,m){if(d===void 0&&(d=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:u,autoStart:d,data:m}),this.isBooted||(this._data[f]={data:m}),null;f=this.getKey(f,u);var x;return u instanceof l?x=this.createSceneFromInstance(f,u):typeof u=="object"?(u.key=f,x=this.createSceneFromObject(f,u)):typeof u=="function"&&(x=this.createSceneFromFunction(f,u)),x.sys.settings.data=m,f=x.sys.settings.key,this.keys[f]=x,this.scenes.push(x),(d||x.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),x},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var u=this.getScene(f);if(!u||u.sys.isTransitioning())return this;var d=this.scenes.indexOf(u),m=u.sys.settings.key;d>-1&&(delete this.keys[m],this.scenes.splice(d,1),this._start.indexOf(m)>-1&&(d=this._start.indexOf(m),this._start.splice(d,1)),u.sys.destroy())}return this},bootScene:function(f){var u=f.sys,d=u.settings;u.sceneUpdate=r,f.init&&(f.init.call(f,d.data),d.status=v.INIT,d.isTransition&&u.events.emit(s.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var m;u.load&&(m=u.load,m.reset()),m&&f.preload?(f.preload.call(f),d.status=v.LOADING,m.once(e.COMPLETE,this.loadComplete,this),m.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,u){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var m=this.scenes[d].sys;m.settings.status>v.START&&m.settings.status<=v.RUNNING&&m.step(f,u),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(f,u)}},render:function(f){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.settings.visible&&d.settings.status>=v.LOADING&&d.settings.status<v.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var u=f.sys,d=u.settings;f.create&&(d.status=v.CREATING,f.create.call(f,d.data),d.status===v.DESTROYED)||(d.isTransition&&u.events.emit(s.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(u.sceneUpdate=f.update),d.status=v.RUNNING,u.events.emit(s.CREATE,f))},createSceneFromFunction:function(f,u){var d=new u;if(d instanceof l){var m=d.sys.settings.key;if(m!==""&&(f=m),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new a(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,u){var d=u.sys.settings.key;return d===""&&(u.sys.settings.key=f),u.sys.init(this.game),u},createSceneFromObject:function(f,u){var d=new l(u),m=d.sys.settings.key;m!==""?f=m:d.sys.settings.key=f,d.sys.init(this.game);for(var x=["init","preload","create","update","render"],S=0;S<x.length;S++){var T=n(u,x[S],null);T&&(d[x[S]]=T)}if(u.hasOwnProperty("extend")){for(var C in u.extend)if(u.extend.hasOwnProperty(C)){var A=u.extend[C];C==="data"&&d.hasOwnProperty("data")&&typeof A=="object"?d.data.merge(A):C!=="sys"&&(d[C]=A)}}return d},getKey:function(f,u){if(f||(f="default"),typeof u=="function")return f;if(u instanceof l?f=u.sys.settings.key:typeof u=="object"&&u.hasOwnProperty("key")&&(f=u.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,u){f===void 0&&(f=!0),u===void 0&&(u=!1);for(var d=[],m=this.scenes,x=0;x<m.length;x++){var S=m[x];S&&(!f||f&&S.sys.isActive())&&d.push(S)}return u?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var u=0;u<this.scenes.length;u++)if(f===this.scenes[u])return f;return null},isActive:function(f){var u=this.getScene(f);return u?u.sys.isActive():null},isPaused:function(f){var u=this.getScene(f);return u?u.sys.isPaused():null},isVisible:function(f){var u=this.getScene(f);return u?u.sys.isVisible():null},isSleeping:function(f){var u=this.getScene(f);return u?u.sys.isSleeping():null},pause:function(f,u){var d=this.getScene(f);return d&&d.sys.pause(u),this},resume:function(f,u){var d=this.getScene(f);return d&&d.sys.resume(u),this},sleep:function(f,u){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(u),this},wake:function(f,u){var d=this.getScene(f);return d&&d.sys.wake(u),this},run:function(f,u){var d=this.getScene(f);if(!d){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===f){this.queueOp("start",f,u);break}return this}d.sys.isSleeping()?d.sys.wake(u):d.sys.isPaused()?d.sys.resume(u):this.start(f,u)},start:function(f,u){if(!this.isBooted)return this._data[f]={autoStart:!0,data:u},this;var d=this.getScene(f);if(!d)return console.warn("Scene not found for key: "+f),this;var m=d.sys,x=m.settings.status;if(x>=v.START&&x<=v.CREATING)return this;if(x>=v.RUNNING&&x<=v.SLEEPING)m.shutdown(),m.sceneUpdate=r,m.start(u);else{m.sceneUpdate=r,m.start(u);var S;if(m.load&&(S=m.load),S&&m.settings.hasOwnProperty("pack")&&(S.reset(),S.addPack({payload:m.settings.pack})))return m.settings.status=v.LOADING,S.once(e.COMPLETE,this.payloadComplete,this),S.start(),this}return this.bootScene(d),this},stop:function(f,u){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==v.SHUTDOWN){var m=d.sys.load;m&&(m.off(e.COMPLETE,this.loadComplete,this),m.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(u)}return this},switch:function(f,u){var d=this.getScene(f),m=this.getScene(u);return d&&m&&d!==m&&(this.sleep(f),this.isSleeping(u)?this.wake(u):this.start(u)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var u=this.getScene(f);return this.scenes.indexOf(u)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u<this.scenes.length){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.push(d)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u>0){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.unshift(d)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u>0){var d=u-1,m=this.getScene(f),x=this.getAt(d);this.scenes[u]=x,this.scenes[d]=m}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u<this.scenes.length-1){var d=u+1,m=this.getScene(f),x=this.getAt(d);this.scenes[u]=x,this.scenes[d]=m}}return this},moveAbove:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:u});else{var d=this.getIndex(f),m=this.getIndex(u);if(d!==-1&&m!==-1&&m<d){var x=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(d+(m>d),0,x)}}return this},moveBelow:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:u});else{var d=this.getIndex(f),m=this.getIndex(u);if(d!==-1&&m!==-1&&m>d){var x=this.getAt(m);this.scenes.splice(m,1),d===0?this.scenes.unshift(x):this.scenes.splice(d-(m<d),0,x)}}return this},queueOp:function(f,u,d){return this._queue.push({op:f,keyA:u,keyB:d}),this},swapPosition:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:u});else{var d=this.getIndex(f),m=this.getIndex(u);if(d!==m&&d!==-1&&m!==-1){var x=this.getAt(d);this.scenes[d]=this.scenes[m],this.scenes[m]=x}}return this},dump:function(){for(var f=[],u=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var m=this.scenes[d].sys,x=m.settings.visible&&(m.settings.status===v.RUNNING||m.settings.status===v.PAUSED)?"[*] ":"[-] ";x+=m.settings.key+" ("+u[m.settings.status]+")",f.push(x)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var u=this.scenes[f].sys;u.destroy()}this.systemScene.sys.destroy(),this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=h},52209:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(44594),i=t(95540),n=t(37277),e=new v({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(s.BOOT,this.boot,this),l.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,l),this},restart:function(r){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,r),this},transition:function(r){r===void 0&&(r={});var l=i(r,"target",!1),a=this.manager.getScene(l);if(!l||!this.checkValidTransition(a))return!1;var h=i(r,"duration",1e3);this._elapsed=0,this._target=a,this._duration=h,this._willSleep=i(r,"sleep",!1),this._willRemove=i(r,"remove",!1);var f=i(r,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=i(r,"onUpdateScope",this.scene));var u=i(r,"allowInput",!1);this.settings.transitionAllowInput=u;var d=a.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=h,d.transitionAllowInput=u,i(r,"moveAbove",!1)?this.manager.moveAbove(this.key,l):i(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),a.sys.isSleeping()?a.sys.wake(i(r,"data")):this.manager.start(l,i(r,"data"));var m=i(r,"onStart",null),x=i(r,"onStartScope",this.scene);return m&&m.call(x,this.scene,a,h),this.systems.events.emit(s.TRANSITION_OUT,a,h),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,l){this._elapsed+=l,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,l=this._target.sys.settings;r.events.emit(s.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,l,a,h){return this.manager.add(r,l,a,h)},launch:function(r,l){return r&&r!==this.key&&this.manager.queueOp("start",r,l),this},run:function(r,l){return r&&r!==this.key&&this.manager.queueOp("run",r,l),this},pause:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,l),this},resume:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,l),this},sleep:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,l),this},wake:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,l),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,l),this},setActive:function(r,l,a){l===void 0&&(l=this.key);var h=this.manager.getScene(l);return h&&h.sys.setActive(r,a),this},setVisible:function(r,l){l===void 0&&(l=this.key);var a=this.manager.getScene(l);return a&&a.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.swapPosition(r,l),this},moveAbove:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.moveAbove(r,l),this},moveBelow:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.moveBelow(r,l),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getStatus:function(r){var l=this.manager.getScene(r);if(l)return l.sys.getStatus()},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(s.SHUTDOWN,this.shutdown,this),r.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),c.exports=e},55681:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),v=t(35154),s=t(46975),i=t(87033),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:o.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",s(i,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};c.exports=n},2368:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89993),s=t(42363),i=t(44594),n=t(27397),e=t(52106),r=t(29747),l=t(55681),a=new o({initialize:function(f,u){this.scene=f,this.game,this.renderer,this.config=u,this.settings=l.create(u),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(h){this.settings.status=v.INIT,this.sceneUpdate=r,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var f=h.plugins;this.plugins=f,f.addToScene(this,s.Global,[s.CoreScene,e(this),n(this)]),this.events.emit(i.BOOT,this),this.settings.isBooted=!0},step:function(h,f){var u=this.events;u.emit(i.PRE_UPDATE,h,f),u.emit(i.UPDATE,h,f),this.sceneUpdate.call(this.scene,h,f),u.emit(i.POST_UPDATE,h,f)},render:function(h){var f=this.displayList;f.depthSort(),this.events.emit(i.PRE_RENDER,h),this.cameras.render(h,f),this.events.emit(i.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var f=this.settings,u=this.getStatus();return u!==v.CREATING&&u!==v.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=v.PAUSED,f.active=!1,this.events.emit(i.PAUSE,this,h)),this},resume:function(h){var f=this.events,u=this.settings;return this.settings.active||(u.status=v.RUNNING,u.active=!0,f.emit(i.RESUME,this,h)),this},sleep:function(h){var f=this.settings,u=this.getStatus();return u!==v.CREATING&&u!==v.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=v.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(i.SLEEP,this,h)),this},wake:function(h){var f=this.events,u=this.settings;return u.status=v.RUNNING,u.active=!0,u.visible=!0,f.emit(i.WAKE,this,h),u.isTransition&&f.emit(i.TRANSITION_WAKE,u.transitionFrom,u.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>v.PENDING&&h<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,f){return h?this.resume(f):this.pause(f)},start:function(h){var f=this.events,u=this.settings;h&&(u.data=h),u.status=v.START,u.active=!0,u.visible=!0,f.emit(i.START,this),f.emit(i.READY,this,h)},shutdown:function(h){var f=this.events,u=this.settings;f.off(i.TRANSITION_INIT),f.off(i.TRANSITION_START),f.off(i.TRANSITION_COMPLETE),f.off(i.TRANSITION_OUT),u.status=v.SHUTDOWN,u.active=!1,u.visible=!1,f.emit(i.SHUTDOWN,this,h)},destroy:function(){var h=this.events,f=this.settings;f.status=v.DESTROYED,f.active=!1,f.visible=!1,h.emit(i.DESTROY,this),h.removeAllListeners();for(var u=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<u.length;d++)this[u[d]]=null}});c.exports=a},89993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=y},69830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},7919:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},46763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},11763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},71555:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},36735:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},3809:c=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},90716:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},58262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},91633:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},10319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},87132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},81961:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},90194:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},6265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},33178:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},43063:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},11259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},61611:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},45209:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},22966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},21747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},44594:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),v=t(79291),s={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};s=v(!1,s,o),c.exports=s},30341:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),s=t(14463),i=t(79291),n=t(29747),e=new o({Extends:v,initialize:function(l,a,h){v.call(this),this.manager=l,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=i(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=i(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=i(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var l=this.markers[r];return l?(this.markers[r]=null,l):null},play:function(r,l){if(r===void 0&&(r=""),typeof r=="object"&&(l=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=i(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var r=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,a=Math.pow(r,l);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.stop(),this.emit(s.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=e},85034:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(41786),s=t(50792),i=t(14463),n=t(8443),e=t(46710),r=t(58731),l=t(29747),a=t(26099),h=new o({Extends:s,initialize:function(u){s.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new a,u.events.on(n.BLUR,this.onGameBlur,this),u.events.on(n.FOCUS,this.onGameFocus,this),u.events.on(n.PRE_STEP,this.update,this),u.events.once(n.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,u){u===void 0&&(u={});var d=this.add(f,u);d.spritemap=this.jsonCache.get(f).spritemap;for(var m in d.spritemap)if(d.spritemap.hasOwnProperty(m)){var x=v(u),S=d.spritemap[m];x.loop=S.hasOwnProperty("loop")?S.loop:!1,d.addMarker({name:m,start:S.start,duration:S.end-S.start,config:x})}return d},get:function(f){return r(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,u){var d=this.add(f);return d.once(i.COMPLETE,d.destroy,d),u?u.name?(d.addMarker(u),d.play(u.name)):d.play(u):d.play()},playAudioSprite:function(f,u,d){var m=this.addAudioSprite(f);return m.once(i.COMPLETE,m.destroy,m),m.play(u,d)},remove:function(f){var u=this.sounds.indexOf(f);return u!==-1?(f.destroy(),this.sounds.splice(u,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var u=0,d=this.sounds.length-1;d>=0;d--){var m=this.sounds[d];m.key===f&&(m.destroy(),this.sounds.splice(d,1),u++)}return u},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(i.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(i.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(i.STOP_ALL,this)},stopByKey:function(f){var u=0;return this.getAll(f).forEach(function(d){d.stop()&&u++}),u},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,u){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(i.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(m){m.update(f,u)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,u){var d=this;this.sounds.forEach(function(m,x){m&&!m.pendingRemove&&f.call(u||d,m,x,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(i.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(i.GLOBAL_DETUNE,this,f)}}});c.exports=h},14747:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33684),v=t(25960),s=t(57490),i={create:function(n){var e=n.config.audio,r=n.device.audio;return e.noAudio||!r.webAudio&&!r.audioData?new v(n):r.webAudio&&!e.disableWebAudio?new s(n):new o(n)}};c.exports=i},19723:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},98882:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},57506:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},73146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},11305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},40577:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},30333:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},20394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},21802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},1299:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},99190:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},97125:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},89259:c=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pan"},79986:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},17586:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},19618:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},42306:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},10387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},48959:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},9960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},19180:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},98328:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},50401:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},52498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},14463:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),v=t(83419),s=t(14463),i=t(45319),n=new v({Extends:o,initialize:function(r,l,a){if(a===void 0&&(a={}),this.tags=r.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,r,l,a)},play:function(e,r){return this.manager.isLocked(this,"play",[e,r])||!o.prototype.play.call(this,e,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,r=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var r=this.tags[e];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&l.push(h)},this),l.sort(function(h,f){return h.loop===f.loop?f.seek/f.duration-h.seek/h.duration:h.loop?1:-1});var a=l[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,l=r+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=l-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,a-l),a=this.audio.currentTime):a<r&&(this.audio.currentTime+=r,a=this.audio.currentTime),a<this.previousTime&&this.emit(s.LOOPED,this);else if(a>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(s.COMPLETE,this);return}this.previousTime=a}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=i(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(s.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(s.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,s.RATE,e)&&(this.calculateRate(),this.emit(s.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,s.DETUNE,e)&&(this.calculateRate(),this.emit(s.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(s.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(s.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(s.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=n},33684:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),v=t(83419),s=t(14463),i=t(64895),n=new v({Extends:o,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,r)},add:function(e,r){var l=new i(this,e,r);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,f){for(var u=0;u<f.length;u++)if(f[u].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var r=!1,l=function(){r=!0},a=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",a);var h=[];if(e.game.cache.audio.entries.each(function(u,d){for(var m=0;m<d.length;m++){var x=d[m];x.dataset.locked==="true"&&h.push(x)}return!0}),h.length!==0){var f=h[h.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,h.forEach(function(u){u.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(u){u.load()})}};this.once(s.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,r,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:r,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(s.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(s.GLOBAL_VOLUME,this,e)}}});c.exports=n},23717:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),v=t(83419),s=t(50792),i=t(79291),n=t(29747),e=function(){return!1},r=function(){return null},l=function(){return this},a=new v({Extends:s,initialize:function(f,u,d){d===void 0&&(d={}),s.call(this),this.manager=f,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=i({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:r,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:r,resetConfig:r,update:n,calculateRate:r,destroy:function(){o.prototype.destroy.call(this)}});c.exports=a},25960:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),v=t(83419),s=t(50792),i=t(4603),n=t(29747),e=new v({Extends:s,initialize:function(l){s.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,l){var a=new i(this,r,l);return this.sounds.push(a),a},addAudioSprite:function(r,l){var a=this.add(r,l);return a.spritemap={},a},get:function(r){return o.prototype.get.call(this,r)},getAll:function(r){return o.prototype.getAll.call(this,r)},play:function(r,l){return!1},playAudioSprite:function(r,l,a){return!1},remove:function(r){return o.prototype.remove.call(this,r)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(r){return o.prototype.removeByKey.call(this,r)},stopByKey:function(r){return o.prototype.stopByKey.call(this,r)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(r,l){o.prototype.forEachActiveSound.call(this,r,l)},destroy:function(){o.prototype.destroy.call(this)}});c.exports=e},71741:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),v=t(83419),s=t(14463),i=t(95540),n=new v({Extends:o,initialize:function(r,l,a){if(a===void 0&&(a={}),this.audioBuffer=r.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createPanner&&(this.spatialNode=r.context.createPanner(),this.volumeNode.connect(this.spatialNode)),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),r.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):r.context.createPanner?this.spatialNode.connect(r.destination):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,r,l,a)},play:function(e,r){return o.prototype.play.call(this,e,r)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,r=this.currentConfig.delay,l=this.manager.context.currentTime+r,a=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,a),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),r=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,r),Math.max(0,l))},createBufferSource:function(){var e=this,r=this.manager.context.createBufferSource();return r.buffer=this.audioBuffer,r.connect(this.muteNode),r.onended=function(l){l.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},r},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var r=this.spatialNode;r.panningModel=i(e,"panningModel","equalpower"),r.distanceModel=i(e,"distanceModel","inverse"),r.orientationX.value=i(e,"orientationX",0),r.orientationY.value=i(e,"orientationY",0),r.orientationZ.value=i(e,"orientationZ",-1),r.refDistance=i(e,"refDistance",1),r.maxDistance=i(e,"maxDistance",1e4),r.rolloffFactor=i(e,"rolloffFactor",1),r.coneInnerAngle=i(e,"coneInnerAngle",360),r.coneOuterAngle=i(e,"coneOuterAngle",0),r.coneOuterGain=i(e,"coneOuterGain",0),this.spatialSource=i(e,"follow",null),this.spatialSource||(r.positionX.value=i(e,"x",0),r.positionY.value=i(e,"y",0),r.positionZ.value=i(e,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=i(this.spatialSource,"x",null),r=i(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),r&&r!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=r)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,r=0;r<this.rateUpdates.length;r++){var l=0;r<this.rateUpdates.length-1?l=this.rateUpdates[r+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[r].time)*this.rateUpdates[r].rate}return e},getLoopTime:function(){for(var e=0,r=0;r<this.rateUpdates.length-1;r++)e+=(this.rateUpdates[r+1].time-this.rateUpdates[r].time)*this.rateUpdates[r].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(s.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(s.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(s.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(s.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(s.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=n},57490:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(53134),v=t(85034),s=t(83419),i=t(14463),n=t(8443),e=t(71741),r=t(95540),l=new s({Extends:v,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),v.call(this,h),this.locked&&h.isBooted?this.unlock():h.events.once(n.BOOT,this.unlock,this)},createAudioContext:function(a){var h=a.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(a){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=a,this.masterMuteNode=a.createGain(),this.masterVolumeNode=a.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(a.destination),this.destination=this.masterMuteNode,this},add:function(a,h){var f=new e(this,a,h);return this.sounds.push(f),f},decodeAudio:function(a,h){var f;Array.isArray(a)?f=a:f=[{key:a,data:h}];for(var u=this.game.cache.audio,d=f.length,m=0;m<f.length;m++){var x=f[m],S=x.key,T=x.data;typeof T=="string"&&(T=o(T));var C=(function(w,P){u.add(w,P),this.emit(i.DECODED,w),d--,d===0&&this.emit(i.DECODED_ALL)}).bind(this,S),A=(function(w,P){console.error("Error decoding audio: "+w+" - ",P?P.message:""),d--,d===0&&this.emit(i.DECODED_ALL)}).bind(this,S);this.context.decodeAudioData(T,C,A)}},setListenerPosition:function(a,h){return a===void 0&&(a=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(a,h),this},unlock:function(){var a=this,h=document.body,f=function u(){if(a.context&&h){var d=h.removeEventListener.bind(h);a.context.resume().then(function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u),a.unlocked=!0},function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u)})}};h&&(h.addEventListener("touchstart",f,!1),h.addEventListener("touchend",f,!1),h.addEventListener("click",f,!1),h.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var a=this.context;a&&!this.locked&&(a.state==="suspended"||a.state==="interrupted")&&a.resume()},update:function(a,h){var f=this.context.listener;if(f&&f.positionX!==void 0){var u=r(this.listenerPosition,"x",null),d=r(this.listenerPosition,"y",null);u&&u!==this._spatialx&&(this._spatialx=f.positionX.value=u),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d)}v.prototype.update.call(this,a,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var a=this;this.context.close().then(function(){a.context=null})}v.prototype.destroy.call(this)},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(a){this.masterMuteNode.gain.setValueAtTime(a?0:1,0),this.emit(i.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(a){this.masterVolumeNode.gain.setValueAtTime(a,0),this.emit(i.GLOBAL_VOLUME,this,a)}}});c.exports=l},73162:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),v=t(83419),s=t(29747),i=t(19186),n=new v({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(e,r){return r?o.Add(this.list,e):o.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,r,l){return l?o.AddAt(this.list,e,r):o.AddAt(this.list,e,r,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,r){return e?(r===void 0&&(r=function(l,a){return l[e]-a[e]}),i(this.list,r),this):this},getByName:function(e){return o.GetFirst(this.list,"name",e)},getRandom:function(e,r){return o.GetRandom(this.list,e,r)},getFirst:function(e,r,l,a){return o.GetFirst(this.list,e,r,l,a)},getAll:function(e,r,l,a){return o.GetAll(this.list,e,r,l,a)},count:function(e,r){return o.CountAllMatching(this.list,e,r)},swap:function(e,r){o.Swap(this.list,e,r)},moveTo:function(e,r){return o.MoveTo(this.list,e,r)},moveAbove:function(e,r){return o.MoveAbove(this.list,e,r)},moveBelow:function(e,r){return o.MoveBelow(this.list,e,r)},remove:function(e,r){return r?o.Remove(this.list,e):o.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,r){return r?o.RemoveAt(this.list,e):o.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,r,l){return l?o.RemoveBetween(this.list,e,r):o.RemoveBetween(this.list,e,r,this.removeCallback,this)},removeAll:function(e){for(var r=this.list.length;r--;)this.remove(this.list[r],e);return this},bringToTop:function(e){return o.BringToTop(this.list,e)},sendToBack:function(e){return o.SendToBack(this.list,e)},moveUp:function(e){return o.MoveUp(this.list,e),e},moveDown:function(e){return o.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(e,r){return o.Replace(this.list,e,r)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,r,l,a){return o.SetAll(this.list,e,r,l,a),this},each:function(e,r){for(var l=[null],a=2;a<arguments.length;a++)l.push(arguments[a]);for(a=0;a<this.list.length;a++)l[0]=this.list[a],e.apply(r,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=n},90330:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){this.entries={},this.size=0,this.setAll(i)},setAll:function(s){if(Array.isArray(s))for(var i=0;i<s.length;i++)this.set(s[i][0],s[i][1]);return this},set:function(s,i){return this.has(s)||this.size++,this.entries[s]=i,this},get:function(s){if(this.has(s))return this.entries[s]},getArray:function(){var s=[],i=this.entries;for(var n in i)s.push(i[n]);return s},has:function(s){return this.entries.hasOwnProperty(s)},delete:function(s){return this.has(s)&&(delete this.entries[s],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(s){delete this.entries[s]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var s=[],i=this.entries;for(var n in i)s.push(i[n]);return s},dump:function(){var s=this.entries;console.group("Map");for(var i in s)console.log(i,s[i]);console.groupEnd()},each:function(s){var i=this.entries;for(var n in i)if(s(n,i[n])===!1)break;return this},contains:function(s){var i=this.entries;for(var n in i)if(i[n]===s)return!0;return!1},merge:function(s,i){i===void 0&&(i=!1);var n=this.entries,e=s.entries;for(var r in e)n.hasOwnProperty(r)&&i?n[r]=e[r]:this.set(r,e[r]);return this}});c.exports=v},25774:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),s=t(82348),i=new o({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive(n)&&!this.isDestroying(n)||this.isPending(n)||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,r=e.indexOf(n);r!==-1&&e.splice(r,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,r=n.length;r--;)e.push(n[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,r,l;for(r=0;r<n.length;r++){l=n[r];var a=e.indexOf(l);a!==-1&&(e.splice(a,1),this.emit(s.PROCESS_QUEUE_REMOVE,l))}for(n.length=0,n=this._pending,r=0;r<n.length;r++)l=n[r],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(s.PROCESS_QUEUE_ADD,l));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=i},59542:(c,y,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43886);function v(T){if(!(this instanceof v))return new v(T);this._maxEntries=Math.max(4,T||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(T){var C=this.data,A=[],w=this.toBBox;if(!m(T,C))return A;for(var P=[],F,L,O,I;C;){for(F=0,L=C.children.length;F<L;F++)O=C.children[F],I=C.leaf?w(O):O,m(T,I)&&(C.leaf?A.push(O):d(T,I)?this._all(O,A):P.push(O));C=P.pop()}return A},collides:function(T){var C=this.data,A=this.toBBox;if(!m(T,C))return!1;for(var w=[],P,F,L,O;C;){for(P=0,F=C.children.length;P<F;P++)if(L=C.children[P],O=C.leaf?A(L):L,m(T,O)){if(C.leaf||d(T,O))return!0;w.push(L)}C=w.pop()}return!1},load:function(T){if(!(T&&T.length))return this;if(T.length<this._minEntries){for(var C=0,A=T.length;C<A;C++)this.insert(T[C]);return this}var w=this._build(T.slice(),0,T.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var P=this.data;this.data=w,w=P}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(T){return T&&this._insert(T,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(T,C){if(!T)return this;for(var A=this.data,w=this.toBBox(T),P=[],F=[],L,O,I,B;A||P.length;){if(A||(A=P.pop(),O=P[P.length-1],L=F.pop(),B=!0),A.leaf&&(I=s(T,A.children,C),I!==-1))return A.children.splice(I,1),P.push(A),this._condense(P),this;!B&&!A.leaf&&d(A,w)?(P.push(A),F.push(L),L=0,O=A,A=A.children[0]):O?(L++,A=O.children[L],B=!1):A=null}return this},toBBox:function(T){return T},compareMinX:r,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(T){return this.data=T,this},_all:function(T,C){for(var A=[];T;)T.leaf?C.push.apply(C,T.children):A.push.apply(A,T.children),T=A.pop();return C},_build:function(T,C,A,w){var P=A-C+1,F=this._maxEntries,L;if(P<=F)return L=x(T.slice(C,A+1)),i(L,this.toBBox),L;w||(w=Math.ceil(Math.log(P)/Math.log(F)),F=Math.ceil(P/Math.pow(F,w-1))),L=x([]),L.leaf=!1,L.height=w;var O=Math.ceil(P/F),I=O*Math.ceil(Math.sqrt(F)),B,U,H,Z;for(S(T,C,A,I,this.compareMinX),B=C;B<=A;B+=I)for(H=Math.min(B+I-1,A),S(T,B,H,O,this.compareMinY),U=B;U<=H;U+=O)Z=Math.min(U+O-1,H),L.children.push(this._build(T,U,Z,w-1));return i(L,this.toBBox),L},_chooseSubtree:function(T,C,A,w){for(var P,F,L,O,I,B,U,H;w.push(C),!(C.leaf||w.length-1===A);){for(U=H=1/0,P=0,F=C.children.length;P<F;P++)L=C.children[P],I=a(L),B=f(T,L)-I,B<H?(H=B,U=I<U?I:U,O=L):B===H&&I<U&&(U=I,O=L);C=O||C.children[0]}return C},_insert:function(T,C,A){var w=this.toBBox,P=A?T:w(T),F=[],L=this._chooseSubtree(P,this.data,C,F);for(L.children.push(T),e(L,P);C>=0&&F[C].children.length>this._maxEntries;)this._split(F,C),C--;this._adjustParentBBoxes(P,F,C)},_split:function(T,C){var A=T[C],w=A.children.length,P=this._minEntries;this._chooseSplitAxis(A,P,w);var F=this._chooseSplitIndex(A,P,w),L=x(A.children.splice(F,A.children.length-F));L.height=A.height,L.leaf=A.leaf,i(A,this.toBBox),i(L,this.toBBox),C?T[C-1].children.push(L):this._splitRoot(A,L)},_splitRoot:function(T,C){this.data=x([T,C]),this.data.height=T.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},_chooseSplitIndex:function(T,C,A){var w,P,F,L,O,I,B,U;for(I=B=1/0,w=C;w<=A-C;w++)P=n(T,0,w,this.toBBox),F=n(T,w,A,this.toBBox),L=u(P,F),O=a(P)+a(F),L<I?(I=L,U=w,B=O<B?O:B):L===I&&O<B&&(B=O,U=w);return U},_chooseSplitAxis:function(T,C,A){var w=T.leaf?this.compareMinX:r,P=T.leaf?this.compareMinY:l,F=this._allDistMargin(T,C,A,w),L=this._allDistMargin(T,C,A,P);F<L&&T.children.sort(w)},_allDistMargin:function(T,C,A,w){T.children.sort(w);var P=this.toBBox,F=n(T,0,C,P),L=n(T,A-C,A,P),O=h(F)+h(L),I,B;for(I=C;I<A-C;I++)B=T.children[I],e(F,T.leaf?P(B):B),O+=h(F);for(I=A-C-1;I>=C;I--)B=T.children[I],e(L,T.leaf?P(B):B),O+=h(L);return O},_adjustParentBBoxes:function(T,C,A){for(var w=A;w>=0;w--)e(C[w],T)},_condense:function(T){for(var C=T.length-1,A;C>=0;C--)T[C].children.length===0?C>0?(A=T[C-1].children,A.splice(A.indexOf(T[C]),1)):this.clear():i(T[C],this.toBBox)},compareMinX:function(T,C){return T.left-C.left},compareMinY:function(T,C){return T.top-C.top},toBBox:function(T){return{minX:T.left,minY:T.top,maxX:T.right,maxY:T.bottom}}};function s(T,C,A){if(!A)return C.indexOf(T);for(var w=0;w<C.length;w++)if(A(T,C[w]))return w;return-1}function i(T,C){n(T,0,T.children.length,C,T)}function n(T,C,A,w,P){P||(P=x(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var F=C,L;F<A;F++)L=T.children[F],e(P,T.leaf?w(L):L);return P}function e(T,C){return T.minX=Math.min(T.minX,C.minX),T.minY=Math.min(T.minY,C.minY),T.maxX=Math.max(T.maxX,C.maxX),T.maxY=Math.max(T.maxY,C.maxY),T}function r(T,C){return T.minX-C.minX}function l(T,C){return T.minY-C.minY}function a(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function h(T){return T.maxX-T.minX+(T.maxY-T.minY)}function f(T,C){return(Math.max(C.maxX,T.maxX)-Math.min(C.minX,T.minX))*(Math.max(C.maxY,T.maxY)-Math.min(C.minY,T.minY))}function u(T,C){var A=Math.max(T.minX,C.minX),w=Math.max(T.minY,C.minY),P=Math.min(T.maxX,C.maxX),F=Math.min(T.maxY,C.maxY);return Math.max(0,P-A)*Math.max(0,F-w)}function d(T,C){return T.minX<=C.minX&&T.minY<=C.minY&&C.maxX<=T.maxX&&C.maxY<=T.maxY}function m(T,C){return C.minX<=T.maxX&&C.minY<=T.maxY&&C.maxX>=T.minX&&C.maxY>=T.minY}function x(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function S(T,C,A,w,P){for(var F=[C,A],L;F.length;)A=F.pop(),C=F.pop(),!(A-C<=w)&&(L=C+Math.ceil((A-C)/w/2)*w,o(T,L,C,A,P),F.push(C,L,L,A))}c.exports=v},35072:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){if(this.entries=[],Array.isArray(i))for(var n=0;n<i.length;n++)this.set(i[n])},set:function(s){return this.entries.indexOf(s)===-1&&this.entries.push(s),this},get:function(s,i){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[s]===i)return e}},getArray:function(){return this.entries.slice(0)},delete:function(s){var i=this.entries.indexOf(s);return i>-1&&this.entries.splice(i,1),this},dump:function(){console.group("Set");for(var s=0;s<this.entries.length;s++){var i=this.entries[s];console.log(i)}console.groupEnd()},each:function(s,i){var n,e=this.entries.slice(),r=e.length;if(i)for(n=0;n<r&&s.call(i,e[n],n)!==!1;n++);else for(n=0;n<r&&s(e[n],n)!==!1;n++);return this},iterate:function(s,i){var n,e=this.entries.length;if(i)for(n=0;n<e&&s.call(i,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&s(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(s){var i,n=[];for(i=1;i<arguments.length;i++)n.push(arguments[i]);var e=this.entries.length;for(i=0;i<e;i++){var r=this.entries[i];r[s].apply(r,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(s){return this.entries.indexOf(s)>-1},union:function(s){var i=new v;return s.entries.forEach(function(n){i.set(n)}),this.entries.forEach(function(n){i.set(n)}),i},intersect:function(s){var i=new v;return this.entries.forEach(function(n){s.contains(n)&&i.set(n)}),i},difference:function(s){var i=new v;return this.entries.forEach(function(n){s.contains(n)||i.set(n)}),i},size:{get:function(){return this.entries.length},set:function(s){return s<this.entries.length?this.entries.length=s:this.entries.length}}});c.exports=v},86555:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),s=t(56583),i=t(26099),n=new v({initialize:function(r,l,a,h){r===void 0&&(r=0),l===void 0&&(l=r),a===void 0&&(a=0),h===void 0&&(h=null),this._width=r,this._height=l,this._parent=h,this.aspectMode=a,this.aspectRatio=l===0?1:r/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new i},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.snapTo.set(e,r),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.minWidth=o(e,0,this.maxWidth),this.minHeight=o(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,r){return e===void 0&&(e=Number.MAX_VALUE),r===void 0&&(r=e),this.maxWidth=o(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,r){switch(e===void 0&&(e=0),r===void 0&&(r=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(s(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,r,!0);break;case n.ENVELOP:this.constrain(e,r,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,r){return this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(s(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,r){return r===void 0&&(r=!0),e=o(e,this.minWidth,this.maxWidth),r&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,r){return r===void 0&&(r=!0),e=o(e,this.minHeight,this.maxHeight),r&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,r,l){e===void 0&&(e=0),r===void 0&&(r=e),l===void 0&&(l=!0),e=this.getNewWidth(e),r=this.getNewHeight(r);var a=this.snapTo,h=r===0?1:e/r;return l&&this.aspectRatio>h||!l&&this.aspectRatio<h?(e=s(e,a.x),r=e/this.aspectRatio,a.y>0&&(r=s(r,a.y),e=r*this.aspectRatio)):(l&&this.aspectRatio<h||!l&&this.aspectRatio>h)&&(r=s(r,a.y),e=r*this.aspectRatio,a.x>0&&(e=s(e,a.x),r=e*(1/this.aspectRatio))),this._width=e,this._height=r,this},fitTo:function(e,r){return this.constrain(e,r,!0)},envelop:function(e,r){return this.constrain(e,r,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,c.exports=n},15238:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},56187:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},82348:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(45319),s=t(40987),i=t(8054),n=t(50030),e=t(79237),r=new o({Extends:e,initialize:function(a,h,f,u,d){e.call(this,a,h,f,u,d),this.add("__BASE",0,0,0,u,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=u,this.height=d,this.imageData=this.context.getImageData(0,0,u,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===i.WEBGL&&this.refresh(),this},draw:function(l,a,h,f){return f===void 0&&(f=!0),this.context.drawImage(h,l,a),f&&this.update(),this},drawFrame:function(l,a,h,f,u){h===void 0&&(h=0),f===void 0&&(f=0),u===void 0&&(u=!0);var d=this.manager.getFrame(l,a);if(d){var m=d.canvasData,x=d.cutWidth,S=d.cutHeight,T=d.source.resolution;this.context.drawImage(d.source.image,m.x,m.y,x,S,h,f,x/T,S/T),u&&this.update()}return this},setPixel:function(l,a,h,f,u,d){d===void 0&&(d=255),l=Math.abs(Math.floor(l)),a=Math.abs(Math.floor(a));var m=this.getIndex(l,a);if(m>-1){var x=this.context.getImageData(l,a,1,1);x.data[0]=h,x.data[1]=f,x.data[2]=u,x.data[3]=d,this.context.putImageData(x,l,a)}return this},putData:function(l,a,h,f,u,d,m){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=l.width),m===void 0&&(m=l.height),this.context.putImageData(l,a,h,f,u,d,m),this},getData:function(l,a,h,f){l=v(Math.floor(l),0,this.width-1),a=v(Math.floor(a),0,this.height-1),h=v(h,1,this.width-l),f=v(f,1,this.height-a);var u=this.context.getImageData(l,a,h,f);return u},getPixel:function(l,a,h){h||(h=new s);var f=this.getIndex(l,a);if(f>-1){var u=this.data,d=u[f+0],m=u[f+1],x=u[f+2],S=u[f+3];h.setTo(d,m,x,S)}return h},getPixels:function(l,a,h,f){l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=this.width),f===void 0&&(f=h),l=Math.abs(Math.round(l)),a=Math.abs(Math.round(a));for(var u=v(l,0,this.width),d=v(l+h,0,this.width),m=v(a,0,this.height),x=v(a+f,0,this.height),S=new s,T=[],C=m;C<x;C++){for(var A=[],w=u;w<d;w++)S=this.getPixel(w,C,S),A.push({x:w,y:C,color:S.color,alpha:S.alphaGL});T.push(A)}return T},getIndex:function(l,a){return l=Math.abs(Math.round(l)),a=Math.abs(Math.round(a)),l<this.width&&a<this.height?(l+a*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,a,h,f,u){return l===void 0&&(l=0),a===void 0&&(a=0),h===void 0&&(h=this.width),f===void 0&&(f=this.height),u===void 0&&(u=!0),this.context.clearRect(l,a,h,f),u&&this.update(),this},setSize:function(l,a){return a===void 0&&(a=l),(l!==this.width||a!==this.height)&&(this.canvas.width=l,this.canvas.height=a,this._source.width=l,this._source.height=a,this._source.isPowerOf2=n(l,a),this.frames.__BASE.setSize(l,a,0,0),this.width=l,this.height=a,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=r},81320:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(71911),s=t(27919),i=t(83419),n=t(8054),e=t(4327),r=t(95540),l=t(36060),a=t(32302),h=t(79237),f=t(70554),u=new i({Extends:h,initialize:function(m,x,S,T){S===void 0&&(S=256),T===void 0&&(T=256),this.type="DynamicTexture";var C=m.game.renderer,A=C&&C.type===n.CANVAS,w=A?s.create2D(this,S,T):[this];h.call(this,m,x,w,S,T),this.add("__BASE",0,0,0,S,T),this.renderer=C,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?w:null,this.context=A?w.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,S,T).setScene(m.game.scene.systemScene,!1),this.renderTarget=A?null:new a(C,S,T,1,0,!1,!0,!0,!1),this.pipeline=A?null:C.pipelines.get(l.SINGLE_PIPELINE),this.setSize(S,T)},setSize:function(d,m){m===void 0&&(m=d);var x=this.get(),S=x.source;if(d!==this.width||m!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=m);var T=this.renderTarget;T&&(T.willResize(d,m)&&T.resize(d,m),T.texture!==S.glTexture&&this.renderer.deleteTexture(S.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,m),S.width=d,S.height=m,x.setSize(d,m),this.width=d,this.height=m}else{var C=this.getSourceImage();x.cutX+d>C.width&&(d=C.width-x.cutX),x.cutY+m>C.height&&(m=C.height-x.cutY),x.setSize(d,m,x.cutX,x.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),m=d.source,x=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=x.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,m,x,S,T,C){var A=this.camera,w=this.renderer;m===void 0&&(m=1),x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=this.width),C===void 0&&(C=this.height);var P=d>>16&255,F=d>>8&255,L=d&255,O=this.renderTarget;if(A.preRender(),O){O.bind(!0);var I=this.pipeline.manager.set(this.pipeline),B=w.width/O.width,U=w.height/O.height,H=O.height-(S+C);I.drawFillRect(x*B,H*U,T*B,C*U,f.getTintFromFloats(L/255,F/255,P/255,1),m),O.unbind(!0)}else{var Z=this.context;w.setContext(Z),Z.globalCompositeOperation="source-over",Z.fillStyle="rgba("+P+","+F+","+L+","+m+")",Z.fillRect(x,S,T,C),w.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,m=this.renderTarget;m?m.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,m,x,S,T){x===void 0&&(x=0),S===void 0&&(S=0);var C=r(T,"alpha",1),A=r(T,"tint",16777215),w=r(T,"angle",0),P=r(T,"rotation",0),F=r(T,"scale",1),L=r(T,"scaleX",F),O=r(T,"scaleY",F),I=r(T,"originX",.5),B=r(T,"originY",.5),U=r(T,"blendMode",0),H=r(T,"erase",!1),Z=r(T,"skipBatch",!1),tt=this.manager.resetStamp(C,A);return tt.setAngle(0),w!==0?tt.setAngle(w):P!==0&&tt.setRotation(P),tt.setScale(L,O),tt.setTexture(d,m),tt.setOrigin(I,B),tt.setBlendMode(U),H&&(this._eraseMode=!0),Z?this.batchGameObject(tt,x,S):this.draw(tt,x,S),H&&(this._eraseMode=!1),this},erase:function(d,m,x){return this._eraseMode=!0,this.draw(d,m,x),this._eraseMode=!1,this},draw:function(d,m,x,S,T){return this.beginDraw(),this.batchDraw(d,m,x,S,T),this.endDraw(),this},drawFrame:function(d,m,x,S,T,C){return this.beginDraw(),this.batchDrawFrame(d,m,x,S,T,C),this.endDraw(),this},repeat:function(d,m,x,S,T,C,A,w,P){if(x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=this.width),C===void 0&&(C=this.height),A===void 0&&(A=1),w===void 0&&(w=16777215),P===void 0&&(P=!1),d instanceof e?m=d:m=this.manager.getFrame(d,m),!m)return this;var F=this.manager.resetStamp(A,w);F.setFrame(m),F.setOrigin(0);var L=m.width,O=m.height;T=Math.floor(T),C=Math.floor(C);var I=Math.ceil(T/L),B=Math.ceil(C/O),U=I*L-T,H=B*O-C;U>0&&(U=L-U),H>0&&(H=O-H),x<0&&(I+=Math.ceil(Math.abs(x)/L)),S<0&&(B+=Math.ceil(Math.abs(S)/O));var Z=x,tt=S,X=!1,k=this.manager.stampCrop.setTo(0,0,L,O);P||this.beginDraw();for(var D=0;D<B;D++){if(tt+O<0){tt+=O;continue}for(var z=0;z<I;z++){if(X=!1,Z+L<0){Z+=L;continue}else Z<0&&(X=!0,k.width=L+Z,k.x=L-k.width);tt<0&&(X=!0,k.height=O+tt,k.y=O-k.height),U>0&&z===I-1&&(X=!0,k.width=U),H>0&&D===B-1&&(X=!0,k.height=H),X&&F.setCrop(k),this.batchGameObject(F,Z,tt),F.isCropped=!1,k.setTo(0,0,L,O),Z+=L}Z=x,tt+=O}return P||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,m=this.renderer,x=this.renderTarget;d.preRender(),x?m.beginCapture(x.width,x.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,m,x,S,T){return Array.isArray(d)||(d=[d]),this.batchList(d,m,x,S,T),this},batchDrawFrame:function(d,m,x,S,T,C){x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=1),C===void 0&&(C=16777215);var A=this.manager.getFrame(d,m);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,x,S,C,T,this.camera.matrix,null):this.batchTextureFrame(A,x,S,T,C)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var m=this.renderer,x=this.renderTarget;if(x){var S=m.endCapture(),T=m.pipelines.setUtility();T.blitFrame(S,x,1,!1,!1,d,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,m,x,S,T){var C=d.length;if(C!==0)for(var A=0;A<C;A++){var w=d[A];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,m,x):w.isParent||w.list?this.batchGroup(w.getChildren(),m,x):typeof w=="string"?this.batchTextureFrameKey(w,null,m,x,S,T):w instanceof e?this.batchTextureFrame(w,m,x,S,T):Array.isArray(w)&&this.batchList(w,m,x,S,T))}},batchGroup:function(d,m,x){m===void 0&&(m=0),x===void 0&&(x=0);for(var S=0;S<d.length;S++){var T=d[S];T.willRender(this.camera)&&this.batchGameObject(T,T.x+m,T.y+x)}},batchGameObject:function(d,m,x){m===void 0&&(m=d.x),x===void 0&&(x=d.y);var S=d.x,T=d.y,C=this.camera,A=this.renderer,w=this._eraseMode,P=d.mask;if(d.setPosition(m,x),this.canvas){if(w){var F=d.blendMode;d.blendMode=o.ERASE}P&&P.preRenderCanvas(A,d,C),d.renderCanvas(A,d,C,null),P&&P.postRenderCanvas(A,d,C),w&&(d.blendMode=F)}else A&&(P&&P.preRenderWebGL(A,d,C),w||A.setBlendMode(d.blendMode),d.renderWebGL(A,d,C),P&&P.postRenderWebGL(A,C,this.renderTarget));d.setPosition(S,T)},batchTextureFrameKey:function(d,m,x,S,T,C){var A=this.manager.getFrame(d,m);A&&this.batchTextureFrame(A,x,S,T,C)},batchTextureFrame:function(d,m,x,S,T){m===void 0&&(m=0),x===void 0&&(x=0),S===void 0&&(S=1),T===void 0&&(T=16777215);var C=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(d,m,x,T,S,C,null);else{var w=this.context,P=d.canvasData,F=d.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=S,C.setToContext(w),P.width>0&&P.height>0&&w.drawImage(F,P.x,P.y,P.width,P.height,m,x,P.width,P.height),w.restore()}},snapshotArea:function(d,m,x,S,T,C,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,d,m,x,S,C,A):this.renderer.snapshotCanvas(this.canvas,T,!1,d,m,x,S,C,A),this},snapshot:function(d,m,x){return this.snapshotArea(0,0,this.width,this.height,d,m,x)},snapshotPixel:function(d,m,x){return this.snapshotArea(d,m,1,1,x,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,m,x,S){var T=this.manager.resetStamp();T.setTexture(this),T.setOrigin(0),T.renderWebGL(d,T,x,S)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=u},4327:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(45319),s=t(79291),i=new o({initialize:function(e,r,l,a,h,f,u){this.texture=e,this.name=r,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,u,a,h)},setSize:function(n,e,r,l){r===void 0&&(r=0),l===void 0&&(l=0),this.cutX=r,this.cutY=l,this.cutWidth=n,this.cutHeight=e,this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var a=this.data,h=a.cut;h.x=r,h.y=l,h.w=n,h.h=e,h.r=r+n,h.b=l+e,a.sourceSize.w=n,a.sourceSize.h=e,a.spriteSourceSize.w=n,a.spriteSourceSize.h=e,a.radius=.5*Math.sqrt(n*n+e*e);var f=a.drawImage;return f.x=r,f.y=l,f.width=n,f.height=e,this.updateUVs()},setTrim:function(n,e,r,l,a,h){var f=this.data,u=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=n,f.sourceSize.h=e,u.x=r,u.y=l,u.w=a,u.h=h,u.r=r+a,u.b=l+h,this.x=r,this.y=l,this.width=a,this.height=h,this.halfWidth=a*.5,this.halfHeight=h*.5,this.centerX=Math.floor(a/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(n,e,r,l){var a=this.data;return a.scale9=!0,a.is3Slice=e===0&&l===this.height,a.scale9Borders.x=n,a.scale9Borders.y=e,a.scale9Borders.w=r,a.scale9Borders.h=l,this},setCropUVs:function(n,e,r,l,a,h,f){var u=this.cutX,d=this.cutY,m=this.cutWidth,x=this.cutHeight,S=this.realWidth,T=this.realHeight;e=v(e,0,S),r=v(r,0,T),l=v(l,0,S-e),a=v(a,0,T-r);var C=u+e,A=d+r,w=l,P=a,F=this.data;if(F.trim){var L=F.spriteSourceSize;l=v(l,0,m-e),a=v(a,0,x-r);var O=e+l,I=r+a,B=!(L.r<e||L.b<r||L.x>O||L.y>I);if(B){var U=Math.max(L.x,e),H=Math.max(L.y,r),Z=Math.min(L.r,O)-U,tt=Math.min(L.b,I)-H;w=Z,P=tt,h?C=u+(m-(U-L.x)-Z):C=u+(U-L.x),f?A=d+(x-(H-L.y)-tt):A=d+(H-L.y),e=U,r=H,l=Z,a=tt}else C=0,A=0,w=0,P=0}else h&&(C=u+(m-e-l)),f&&(A=d+(x-r-a));var X=this.source.width,k=this.source.height;return n.u0=Math.max(0,C/X),n.v0=Math.max(0,A/k),n.u1=Math.min(1,(C+w)/X),n.v1=Math.min(1,(A+P)/k),n.x=e,n.y=r,n.cx=C,n.cy=A,n.cw=w,n.ch=P,n.width=l,n.height=a,n.flipX=h,n.flipY=f,n},updateCropUVs:function(n,e,r){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,r)},setUVs:function(n,e,r,l,a,h){var f=this.data.drawImage;return f.width=n,f.height=e,this.u0=r,this.v0=l,this.u1=a,this.v1=h,this},updateUVs:function(){var n=this.cutX,e=this.cutY,r=this.cutWidth,l=this.cutHeight,a=this.data.drawImage;a.width=r,a.height=l;var h=this.source.width,f=this.source.height;return this.u0=n/h,this.v0=e/f,this.u1=(n+r)/h,this.v1=(e+l)/f,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new i(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=s(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=i},79237:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(4327),s=t(11876),i='Texture "%s" has no frame "%s"',n=new o({initialize:function(r,l,a,h,f){Array.isArray(a)||(a=[a]),this.manager=r,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var u=0;u<a.length;u++)this.source.push(new s(this,a[u],h,f))},add:function(e,r,l,a,h,f){if(this.has(e))return null;var u=new v(this,e,r,l,a,h,f);return this.frames[e]=u,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,u},remove:function(e){if(this.has(e)){var r=this.get(e);return r.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var r=this.frames[e];return r||(console.warn(i,this.key,e),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(e){for(var r=0;r<this.source.length;r++)if(this.source[r]===e)return r;return-1},getFramesFromTextureSource:function(e,r){r===void 0&&(r=!1);var l=[];for(var a in this.frames)if(!(a==="__BASE"&&!r)){var h=this.frames[a];h.sourceIndex===e&&l.push(h)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var r=this.getFramesFromTextureSource(e),l=1/0,a=1/0,h=0,f=0,u=0;u<r.length;u++){var d=r[u];d.cutX<l&&(l=d.cutX),d.cutY<a&&(a=d.cutY),d.cutX+d.cutWidth>h&&(h=d.cutX+d.cutWidth),d.cutY+d.cutHeight>f&&(f=d.cutY+d.cutHeight)}return{x:l,y:a,width:h-l,height:f-a}},getFrameNames:function(e){e===void 0&&(e=!1);var r=Object.keys(this.frames);if(!e){var l=r.indexOf("__BASE");l!==-1&&r.splice(l,1)}return r},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e];return r?r.source.image:(console.warn(i,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e],l;return r?l=r.sourceIndex:(console.warn(i,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var l=this.source[r];this.dataSource.push(new s(this,e[r],l.width,l.height))}},setFilter:function(e){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(e);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(e)},destroy:function(){var e,r=this.source,l=this.dataSource;for(e=0;e<r.length;e++)r[e]&&r[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var a in this.frames){var h=this.frames[a];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=n},17130:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(57382),s=t(83419),i=t(40987),n=t(8054),e=t(81320),r=t(50792),l=t(69442),a=t(4327),h=t(8443),f=t(99584),u=t(35154),d=t(88571),m=t(41212),x=t(61309),S=t(87841),T=t(79237),C=new s({Extends:r,initialize:function(w){r.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new S,this.silentWarnings=!1,w.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(w){this.stamp=new d(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var w=A.key;return this.list.hasOwnProperty(w)&&(A.destroy(),this.emit(l.REMOVE,w),this.emit(l.REMOVE_KEY+w)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,w){if(this.checkKey(A)){var P=this,F=new Image;F.onerror=function(){P.emit(l.ERROR,A)},F.onload=function(){var L=P.create(A,F);x.Image(L,0),P.emit(l.ADD,A,L),P.emit(l.ADD_KEY+A,L),P.emit(l.LOAD,A,L)},F.src=w}return this},getBase64:function(A,w,P,F){P===void 0&&(P="image/png"),F===void 0&&(F=.92);var L="",O=this.getFrame(A,w);if(O&&(O.source.isRenderTexture||O.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(O){var I=O.canvasData,B=o.create2D(this,I.width,I.height),U=B.getContext("2d",{willReadFrequently:!0});I.width>0&&I.height>0&&U.drawImage(O.source.image,I.x,I.y,I.width,I.height,0,0,I.width,I.height),L=B.toDataURL(P,F),o.remove(B)}return L},addImage:function(A,w,P){var F=null;return this.checkKey(A)&&(F=this.create(A,w),x.Image(F,0),P&&F.setDataSource(P),this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)),F},addGLTexture:function(A,w){var P=null;if(this.checkKey(A)){var F=w.width,L=w.height;P=this.create(A,w,F,L),P.add("__BASE",0,0,0,F,L),this.emit(l.ADD,A,P),this.emit(l.ADD_KEY+A,P)}return P},addCompressedTexture:function(A,w,P){var F=null;if(this.checkKey(A)){if(F=this.create(A,w),F.add("__BASE",0,0,0,w.width,w.height),P){var L=function(I,B,U){Array.isArray(U.textures)||Array.isArray(U.frames)?x.JSONArray(I,B,U):x.JSONHash(I,B,U)};if(Array.isArray(P))for(var O=0;O<P.length;O++)L(F,O,P[O]);else L(F,0,P)}this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)}return F},addRenderTexture:function(A,w){var P=null;return this.checkKey(A)&&(P=this.create(A,w),P.add("__BASE",0,0,0,w.width,w.height),this.emit(l.ADD,A,P),this.emit(l.ADD_KEY+A,P)),P},generate:function(A,w){if(this.checkKey(A)){var P=o.create(this,1,1);return w.canvas=P,f(w),this.addCanvas(A,P)}else return null},createCanvas:function(A,w,P){if(w===void 0&&(w=256),P===void 0&&(P=256),this.checkKey(A)){var F=o.create(this,w,P,n.CANVAS,!0);return this.addCanvas(A,F)}return null},addCanvas:function(A,w,P){P===void 0&&(P=!1);var F=null;return P?F=new v(this,A,w,w.width,w.height):this.checkKey(A)&&(F=new v(this,A,w,w.width,w.height),this.list[A]=F,this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)),F},addDynamicTexture:function(A,w,P){var F=null;return typeof A=="string"&&!this.exists(A)?F=new e(this,A,w,P):(F=A,A=F.key),this.checkKey(A)?(this.list[A]=F,this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)):F=null,F},addAtlas:function(A,w,P,F){return Array.isArray(P.textures)||Array.isArray(P.frames)?this.addAtlasJSONArray(A,w,P,F):this.addAtlasJSONHash(A,w,P,F)},addAtlasJSONArray:function(A,w,P,F){var L=null;if(w instanceof T?(A=w.key,L=w):this.checkKey(A)&&(L=this.create(A,w)),L){if(Array.isArray(P))for(var O=P.length===1,I=0;I<L.source.length;I++){var B=O?P[0]:P[I];x.JSONArray(L,I,B)}else x.JSONArray(L,0,P);F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)}return L},addAtlasJSONHash:function(A,w,P,F){var L=null;if(w instanceof T?(A=w.key,L=w):this.checkKey(A)&&(L=this.create(A,w)),L){if(Array.isArray(P))for(var O=0;O<P.length;O++)x.JSONHash(L,O,P[O]);else x.JSONHash(L,0,P);F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)}return L},addAtlasXML:function(A,w,P,F){var L=null;return w instanceof T?(A=w.key,L=w):this.checkKey(A)&&(L=this.create(A,w)),L&&(x.AtlasXML(L,0,P),F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)),L},addUnityAtlas:function(A,w,P,F){var L=null;return w instanceof T?(A=w.key,L=w):this.checkKey(A)&&(L=this.create(A,w)),L&&(x.UnityYAML(L,0,P),F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)),L},addSpriteSheet:function(A,w,P,F){var L=null;if(w instanceof T?(A=w.key,L=w):this.checkKey(A)&&(L=this.create(A,w)),L){var O=L.source[0].width,I=L.source[0].height;x.SpriteSheet(L,0,0,0,O,I,P),F&&L.setDataSource(F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L)}return L},addSpriteSheetFromAtlas:function(A,w){if(!this.checkKey(A))return null;var P=u(w,"atlas",null),F=u(w,"frame",null);if(!(!P||!F)){var L=this.get(P),O=L.get(F);if(O){var I=O.source.image;I||(I=O.source.glTexture);var B=this.create(A,I);return O.trimmed?x.SpriteSheetFromAtlas(B,O,w):x.SpriteSheet(B,0,O.cutX,O.cutY,O.cutWidth,O.cutHeight,w),this.emit(l.ADD,A,B),this.emit(l.ADD_KEY+A,B),B}}},addUint8Array:function(A,w,P,F){if(!this.checkKey(A)||w.length/4!==P*F)return null;var L=this.create(A,w,P,F);return L.add("__BASE",0,0,0,P,F),this.emit(l.ADD,A,L),this.emit(l.ADD_KEY+A,L),L},create:function(A,w,P,F){var L=null;return this.checkKey(A)&&(L=new T(this,A,w,P,F),this.list[A]=L),L},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof T?A:A instanceof a?A.texture:this.list.__MISSING},cloneFrame:function(A,w){if(this.list[A])return this.list[A].get(w).clone()},getFrame:function(A,w){if(this.list[A])return this.list[A].get(w)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(m(A))return this.getFrame(A.key,A.frame);if(A instanceof T)return A.get();if(A instanceof a)return A}else return},getTextureKeys:function(){var A=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&A.push(w);return A},getPixel:function(A,w,P,F){var L=this.getFrame(P,F);if(L){A-=L.x,w-=L.y;var O=L.data.cut;if(A+=O.x,w+=O.y,A>=O.x&&A<O.r&&w>=O.y&&w<O.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(L.source.image,A,w,1,1,0,0,1,1);var B=I.getImageData(0,0,1,1);return new i(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(A,w,P,F){var L=this.getFrame(P,F);if(L){A-=L.x,w-=L.y;var O=L.data.cut;if(A+=O.x,w+=O.y,A>=O.x&&A<O.r&&w>=O.y&&w<O.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(L.source.image,A,w,1,1,0,0,1,1);var B=I.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(A,w,P){return this.list[w]&&(A.texture=this.list[w],A.frame=A.texture.get(P)),A},renameTexture:function(A,w){var P=this.get(A);return P&&A!==w?(P.key=w,this.list[w]=P,delete this.list[A],!0):!1},each:function(A,w){for(var P=[null],F=1;F<arguments.length;F++)P.push(arguments[F]);for(var L in this.list)P[0]=this.list[L],A.apply(w,P)},resetStamp:function(A,w){A===void 0&&(A=1),w===void 0&&(w=16777215);var P=this.stamp;return P.setCrop(),P.setPosition(0),P.setAngle(0),P.setScale(1),P.setAlpha(A),P.setTint(w),P.setTexture("__WHITE"),P},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});c.exports=C},11876:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(83419),s=t(50030),i=t(29795),n=t(82751),e=new v({initialize:function(l,a,h,f,u){u===void 0&&(u=!1);var d=l.manager.game;this.renderer=d.renderer,this.texture=l,this.source=a,this.image=a.compressed?null:a,this.compressionAlgorithm=a.compressed?a.format:null,this.resolution=1,this.width=h||a.naturalWidth||a.videoWidth||a.width||0,this.height=f||a.naturalHeight||a.videoHeight||a.height||0,this.scaleMode=i.DEFAULT,this.isCanvas=a instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&a instanceof HTMLVideoElement,this.isRenderTexture=a.type==="RenderTexture"||a.type==="DynamicTexture",this.isGLTexture=a instanceof n,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.flipY=u,this.init(d)},init:function(r){var l=this.renderer;if(l){var a=this.source;if(l.gl){var h=this.image,f=this.flipY,u=this.width,d=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(h,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(h,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,u,d,m):this.isGLTexture?this.glTexture=a:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(a,void 0,void 0,m):a instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(a,u,d,m):this.glTexture=l.createTextureFromSource(h,u,d,m)}else this.isRenderTexture&&(this.image=a.canvas)}r.config.antialias||this.setFilter(1)},setFilter:function(r){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,r),this.scaleMode=r},setFlipY:function(r){return r===void 0&&(r=!0),r===this.flipY?this:(this.flipY=r,this.update(),this)},update:function(){var r=this.renderer,l=this.image,a=this.flipY,h=r.gl;h&&this.isCanvas?r.updateCanvasTexture(l,this.glTexture,a):h&&this.isVideo&&r.updateVideoTexture(l,this.glTexture,a)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=e},19673:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};c.exports=y},44538:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},63486:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture-"},94851:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},29099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},8678:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},86415:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},30879:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture-"},69442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(19673),s={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:v,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};s=o(!1,s,v),c.exports=s},89905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var s=t.source[o];t.add("__BASE",o,0,0,s.width,s.height);for(var i=v.getElementsByTagName("SubTexture"),n,e=0;e<i.length;e++){var r=i[e].attributes,l=r.name.value,a=parseInt(r.x.value,10),h=parseInt(r.y.value,10),f=parseInt(r.width.value,10),u=parseInt(r.height.value,10);if(n=t.add(l,o,a,h,f,u),r.frameX){var d=Math.abs(parseInt(r.frameX.value,10)),m=Math.abs(parseInt(r.frameY.value,10)),x=parseInt(r.frameWidth.value,10),S=parseInt(r.frameHeight.value,10);n.setTrim(f,u,d,m,x,S)}}return t};c.exports=y},72893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.source[o];return t.add("__BASE",o,0,0,v.width,v.height),t};c.exports=y},4832:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.source[o];return t.add("__BASE",o,0,0,v.width,v.height),t};c.exports=y},78566:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),v=function(s,i,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=s.source[i];s.add("__BASE",i,0,0,e.width,e.height);for(var r=Array.isArray(n.textures)?n.textures[i].frames:n.frames,l,a=0;a<r.length;a++){var h=r[a];if(l=s.add(h.filename,i,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=h.anchor||h.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=o(h)}for(var u in n)u!=="frames"&&(Array.isArray(n[u])?s.customData[u]=n[u].slice(0):s.customData[u]=n[u]);return s};c.exports=v},39711:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),v=function(s,i,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=s.source[i];s.add("__BASE",i,0,0,e.width,e.height);var r=n.frames,l;for(var a in r)if(r.hasOwnProperty(a)){var h=r[a];if(l=s.add(a,i,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+a);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=h.anchor||h.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=o(h)}for(var u in n)u!=="frames"&&(Array.isArray(n[u])?s.customData[u]=n[u].slice(0):s.customData[u]=n[u]);return s};c.exports=v},31403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=[171,75,84,88,32,49,49,187,13,10,26,10],v,s=new Uint8Array(t,0,12);for(v=0;v<s.length;v++)if(s[v]!==o[v]){console.warn("KTXParser - Invalid file format");return}var i=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*i),e=n.getUint32(0,!0)===67305985,r=n.getUint32(1*i,e);if(r!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=n.getUint32(4*i,e),a=n.getUint32(6*i,e),h=n.getUint32(7*i,e),f=Math.max(1,n.getUint32(11*i,e)),u=n.getUint32(12*i,e),d=new Array(f),m=12+13*4+u,x=a,S=h;for(v=0;v<f;v++){var T=new Int32Array(t,m,1)[0];m+=4,d[v]={data:new Uint8Array(t,m,T),width:x,height:S},x=Math.max(1,x>>1),S=Math.max(1,S>>1),m+=T}return{mipmaps:d,width:a,height:h,internalFormat:l,compressed:!0,generateMipmap:!1}};c.exports=y},82038:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(w,P,F,L,O,I,B){return B===void 0&&(B=16),Math.floor((w+F)/O)*Math.floor((P+L)/I)*B}function t(w,P){return w=Math.max(w,16),P=Math.max(P,8),w*P/4}function o(w,P){return w=Math.max(w,8),P=Math.max(P,8),w*P/2}function v(w,P){return Math.ceil(w/4)*Math.ceil(P/4)*16}function s(w,P){return y(w,P,3,3,4,4,8)}function i(w,P){return y(w,P,3,3,4,4)}function n(w,P){return y(w,P,4,3,5,4)}function e(w,P){return y(w,P,4,4,5,5)}function r(w,P){return y(w,P,5,4,6,5)}function l(w,P){return y(w,P,5,5,6,6)}function a(w,P){return y(w,P,7,4,8,5)}function h(w,P){return y(w,P,7,5,8,6)}function f(w,P){return y(w,P,7,7,8,8)}function u(w,P){return y(w,P,9,4,10,5)}function d(w,P){return y(w,P,9,5,10,6)}function m(w,P){return y(w,P,9,7,10,8)}function x(w,P){return y(w,P,9,9,10,10)}function S(w,P){return y(w,P,11,9,12,10)}function T(w,P){return y(w,P,11,11,12,12)}var C={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:s,glFormat:[36196]},7:{sizeFunc:s,glFormat:[33776,35916]},8:{sizeFunc:i,glFormat:[33777,35917]},9:{sizeFunc:i,glFormat:[33778,35918]},11:{sizeFunc:i,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:s,glFormat:[37492,37493]},23:{sizeFunc:i,glFormat:[37496,37497]},24:{sizeFunc:s,glFormat:[37494,37495]},25:{sizeFunc:s,glFormat:[37488]},26:{sizeFunc:i,glFormat:[37490]},27:{sizeFunc:i,glFormat:[37808,37840]},28:{sizeFunc:n,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:r,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:a,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:u,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:x,glFormat:[37819,37851]},39:{sizeFunc:S,glFormat:[37820,37852]},40:{sizeFunc:T,glFormat:[37821,37853]}},A=function(w){for(var P=new Uint32Array(w,0,13),F=P[0],L=F===55727696,O=L?P[2]:P[3],I=P[4],B=C[O].glFormat[I],U=C[O].sizeFunc,H=P[11],Z=P[7],tt=P[6],X=52+P[12],k=new Uint8Array(w,X),D=new Array(H),z=0,Y=Z,j=tt,J=0;J<H;J++){var it=U(Y,j);D[J]={data:new Uint8Array(k.buffer,k.byteOffset+z,it),width:Y,height:j},Y=Math.max(1,Y>>1),j=Math.max(1,j>>1),z+=it}return{mipmaps:D,width:Z,height:tt,internalFormat:B,compressed:!0,generateMipmap:!1}};c.exports=A},75549:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(s,i,n,e,r,l,a){var h=o(a,"frameWidth",null),f=o(a,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=s.source[i];s.add("__BASE",i,0,0,u.width,u.height);var d=o(a,"startFrame",0),m=o(a,"endFrame",-1),x=o(a,"margin",0),S=o(a,"spacing",0),T=Math.floor((r-x+S)/(h+S)),C=Math.floor((l-x+S)/(f+S)),A=T*C;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",s.key),(d>A||d<-A)&&(d=0),d<0&&(d=A+d),(m===-1||m>A||m<d)&&(m=A);for(var w=x,P=x,F=0,L=0,O=0,I=0;I<A;I++){F=0,L=0;var B=w+h,U=P+f;B>r&&(F=B-r),U>l&&(L=U-l),I>=d&&I<=m&&(s.add(O,i,n+w,e+P,h-F,f-L),O++),w+=h+S,w+h>r&&(w=x,P+=f+S)}return s};c.exports=v},47534:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(s,i,n){var e=o(n,"frameWidth",null),r=o(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=s.source[0];s.add("__BASE",0,0,0,l.width,l.height),o(n,"startFrame",0),o(n,"endFrame",-1);for(var a=o(n,"margin",0),h=o(n,"spacing",0),f=i.cutX,u=i.cutY,d=i.cutWidth,m=i.cutHeight,x=i.realWidth,S=i.realHeight,T=Math.floor((x-a+h)/(e+h)),C=Math.floor((S-a+h)/(r+h)),A=i.x,w=e-A,P=e-(x-d-A),F=i.y,L=r-F,O=r-(S-m-F),I,B=a,U=a,H=0,Z=0,tt=0;tt<C;tt++){for(var X=tt===0,k=tt===C-1,D=0;D<T;D++){var z=D===0,Y=D===T-1;if(I=s.add(H,Z,f+B,u+U,e,r),z||X||Y||k){var j=z?A:0,J=X?F:0,it=0,st=0;z&&(it+=e-w),Y&&(it+=e-P),X&&(st+=r-L),k&&(st+=r-O);var at=e-it,ft=r-st;I.cutWidth=at,I.cutHeight=ft,I.setTrim(e,r,j,J,at,ft)}B+=h,z?B+=w:Y?B+=P:B+=e,H++}B=a,U+=h,X?U+=L:k?U+=O:U+=r}return s};c.exports=v},86147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,t=function(v,s,i,n){var e=y-n.y-n.height;v.add(i,s,n.x,e,n.width,n.height)},o=function(v,s,i){var n=v.source[s];v.add("__BASE",s,0,0,n.width,n.height),y=n.height;for(var e=i.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",a="",h={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var u=e[f].match(r);if(u){var d=u[1]==="- ",m=u[2],x=u[3];if(d&&(a!==l&&(t(v,s,a,h),l=a),h={x:0,y:0,width:0,height:0}),m==="name"){a=x;continue}switch(m){case"x":case"y":case"width":case"height":h[m]=parseInt(x,10);break}}}return a!==l&&t(v,s,a,h),v};c.exports=o},55222:(c,y,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50030),v=function(l){for(var a=l.mipmaps,h=1;h<a.length;h++){var f=a[h].width,u=a[h].height;if(!o(f,u))return console.warn("Mip level "+h+" is not a power-of-two size: "+f+"x"+u),!1}var d=r[l.internalFormat];return d?d(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function s(l){for(var a=l.mipmaps,h=0;h<a.length;h++){var f=a[h].width,u=a[h].height;if((f<<h)%4!==0||(u<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+f+"x"+u),!1}return!0}function i(){return!0}function n(l){var a=l.mipmaps,h=a[0];return o(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(l){var a=l.mipmaps,h=a[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var r={37488:i,37489:i,37490:i,37491:i,37492:i,37493:i,37494:i,37495:i,37496:i,37497:i,36196:i,37808:i,37809:i,37810:i,37811:i,37812:i,37813:i,37814:i,37815:i,37816:i,37817:i,37818:i,37819:i,37820:i,37821:i,37840:i,37841:i,37842:i,37843:i,37844:i,37845:i,37846:i,37847:i,37848:i,37849:i,37850:i,37851:i,37852:i,37853:i,36492:s,36493:s,36494:s,36495:s,36283:s,36284:s,36285:s,36286:s,35840:n,35841:n,35842:n,35843:n,33776:s,33777:s,33778:s,33779:s,35916:e,35917:e,35918:e,35919:e};c.exports=v},61309:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,n,e,r,l,a,h){(e===void 0||e<=0)&&(e=32),(r===void 0||r<=0)&&(r=32),l===void 0&&(l=0),a===void 0&&(a=0),this.name=i,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=r|0,this.imageMargin=l|0,this.imageSpacing=a|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},addImage:function(s,i){return this.images.push({gid:s,image:i}),this.total++,this}});c.exports=v},27462:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){if(this.gids=[],i!==void 0)for(var n=0;n<i.length;++n)for(var e=i[n],r=0;r<e.total;++r)this.gids[e.firstgid+r]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(s){this.gids=s?this._gids:void 0}},getTypeIncludingTile:function(s){if(s.type!==void 0&&s.type!=="")return s.type;if(!(!this.gids||s.gid===void 0)){var i=this.gids[s.gid];if(i){var n=i.getTileData(s.gid);if(n)return n.type}}},setTextureAndFrame:function(s,i,n,e){if(i===null&&this.gids&&e.gid!==void 0){var r=this.gids[e.gid];r&&(i===null&&r.image!==void 0&&(i=r.image.key),n===null&&(n=e.gid-r.firstgid),s.scene.textures.getFrame(i,n)||(i=null,n=null))}s.setTexture(i,n)},setPropertiesFromTiledObject:function(s,i){if(this.gids!==void 0&&i.gid!==void 0){var n=this.gids[i.gid];n!==void 0&&this.setFromJSON(s,n.getTileProperties(i.gid))}this.setFromJSON(s,i.properties)},setFromJSON:function(s,i){if(i){if(Array.isArray(i)){for(var n=0;n<i.length;n++){var e=i[n];s[e.name]!==void 0?s[e.name]=e.value:s.setData(e.name,e.value)}return}for(var r in i)s[r]!==void 0?s[r]=i[r]:s.setData(r,i[r])}}});c.exports=v},31989:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(87010),s=t(46177),i=t(49075),n=function(e,r,l,a,h,f,u,d){l===void 0&&(l=32),a===void 0&&(a=32),h===void 0&&(h=10),f===void 0&&(f=10),d===void 0&&(d=!1);var m=null;if(Array.isArray(u)){var x=r!==void 0?r:"map";m=s(x,o.ARRAY_2D,u,l,a,d)}else if(r!==void 0){var S=e.cache.tilemap.get(r);S?m=s(r,S.format,S.data,l,a,d):console.warn("No map data found for key "+r)}return m===null&&(m=new v({tileWidth:l,tileHeight:a,width:h,height:f})),new i(e,m)};c.exports=n},23029:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),s=t(91907),i=t(62644),n=t(93232),e=new o({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(l,a,h,f,u,d,m,x){this.layer=l,this.index=a,this.x=h,this.y=f,this.width=u,this.height=d,this.right,this.bottom,this.baseWidth=m!==void 0?m:u,this.baseHeight=x!==void 0?x:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(r,l){return!(r<this.pixelX||l<this.pixelY||r>this.right||l>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=i(r.properties),this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var l=this.tilemapLayer;if(l){var a=l.tileToWorldXY(this.x,this.y,void 0,r);return a.x}return this.x*this.baseWidth},getRight:function(r){var l=this.tilemapLayer;return l?this.getLeft(r)+this.width*l.scaleX:this.getLeft(r)+this.width},getTop:function(r){var l=this.tilemapLayer;if(l){var a=l.tileToWorldXY(this.x,this.y,void 0,r);return a.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(r){var l=this.tilemapLayer;return l?this.getTop(r)+this.height*l.scaleY:this.getTop(r)+this.height},getBounds:function(r,l){return l===void 0&&(l=new n),l.x=this.getLeft(r),l.y=this.getTop(r),l.width=this.getRight(r)-l.x,l.height=this.getBottom(r)-l.y,l},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},intersects:function(r,l,a,h){return!(a<=this.pixelX||h<=this.pixelY||r>=this.right||l>=this.bottom)},isInteresting:function(r,l){return r&&l?this.canCollide||this.hasInterestingFace:r?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,l,a,h,f){if(l===void 0&&(l=r),a===void 0&&(a=r),h===void 0&&(h=r),f===void 0&&(f=!0),this.collideLeft=r,this.collideRight=l,this.collideUp=a,this.collideDown=h,this.faceLeft=r,this.faceRight=l,this.faceTop=a,this.faceBottom=h,f){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,l){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=l),this},setSize:function(r,l,a,h){return r!==void 0&&(this.width=r),l!==void 0&&(this.height=l),a!==void 0&&(this.baseWidth=a),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var r=this.layer.orientation;if(r===s.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(r===s.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(r===s.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(r===s.HEXAGONAL){var l=this.layer.staggerAxis,a=this.layer.staggerIndex,h=this.layer.hexSideLength,f,u;l==="y"?(u=(this.baseHeight-h)/2+h,a==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*u):l==="x"&&(f=(this.baseWidth-h)/2+h,this.pixelX=this.x*f,a==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var l=r.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});c.exports=e},49075:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84101),v=t(83419),s=t(39506),i=t(80341),n=t(95540),e=t(14977),r=t(27462),l=t(91907),a=t(36305),h=t(19133),f=t(68287),u=t(23029),d=t(81086),m=t(20442),x=t(33629),S=new v({initialize:function(C,A){this.scene=C,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(w),WorldToTileX:d.GetWorldToTileXFunction(w),WorldToTileY:d.GetWorldToTileYFunction(w),TileToWorldXY:d.GetTileToWorldXYFunction(w),TileToWorldX:d.GetTileToWorldXFunction(w),TileToWorldY:d.GetTileToWorldYFunction(w),GetTileCorners:d.GetTileCornersFunction(w)}},setRenderOrder:function(T){var C=["right-down","left-down","right-up","left-up"];return typeof T=="number"&&(T=C[T]),C.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,C,A,w,P,F,L,O){if(T===void 0)return null;C==null&&(C=T);var I=this.scene.sys.textures;if(!I.exists(C))return console.warn('Texture key "%s" not found',C),null;var B=I.get(C),U=this.getTilesetIndex(T);if(U===null&&this.format===i.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',T,this.tilesets),null;var H=this.tilesets[U];return H?(H.setTileSize(A,w),H.setSpacing(P,F),H.setImage(B),H):(A===void 0&&(A=this.tileWidth),w===void 0&&(w=this.tileHeight),P===void 0&&(P=0),F===void 0&&(F=0),L===void 0&&(L=0),O===void 0&&(O={x:0,y:0}),H=new x(T,L,A,w,P,F,void 0,void 0,O),H.setImage(B),this.tilesets.push(H),this.tiles=o(this),H)},copy:function(T,C,A,w,P,F,L,O){return O=this.getLayer(O),O!==null?(d.Copy(T,C,A,w,P,F,L,O),this):null},createBlankLayer:function(T,C,A,w,P,F,L,O){A===void 0&&(A=0),w===void 0&&(w=0),P===void 0&&(P=this.width),F===void 0&&(F=this.height),L===void 0&&(L=this.tileWidth),O===void 0&&(O=this.tileHeight);var I=this.getLayerIndex(T);if(I!==null)return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var B=new e({name:T,tileWidth:L,tileHeight:O,width:P,height:F,orientation:this.orientation}),U,H=0;H<F;H++){U=[];for(var Z=0;Z<P;Z++)U.push(new u(B,-1,Z,H,L,O,this.tileWidth,this.tileHeight));B.data.push(U)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var tt=new m(this.scene,this,this.currentLayerIndex,C,A,w);return tt.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(tt),tt},createLayer:function(T,C,A,w){var P=this.getLayerIndex(T);if(P===null)return console.warn("Invalid Tilemap Layer ID: "+T),typeof T=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[P];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=P,A===void 0&&(A=F.x),w===void 0&&(w=F.y);var L=new m(this.scene,this,P,C,A,w);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(T,C,A){A===void 0&&(A=!0);var w=[],P=this.getObjectLayer(T);if(!P)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),w;var F=new r(A?this.tilesets:void 0);Array.isArray(C)||(C=[C]);for(var L=P.objects,O=0;O<C.length;O++){var I=C[O],B=n(I,"id",null),U=n(I,"gid",null),H=n(I,"name",null),Z=n(I,"type",null);F.enabled=!n(I,"ignoreTileset",null);for(var tt,X=[],k=0;k<L.length;k++)tt=L[k],(B===null&&U===null&&H===null&&Z===null||B!==null&&tt.id===B||U!==null&&tt.gid===U||H!==null&&tt.name===H||Z!==null&&F.getTypeIncludingTile(tt)===Z)&&X.push(tt);for(var D=n(I,"classType",f),z=n(I,"scene",this.scene),Y=n(I,"container",null),j=n(I,"key",null),J=n(I,"frame",null),it=0;it<X.length;it++){tt=X[it];var st=new D(z);if(st.setName(tt.name),st.setPosition(tt.x,tt.y),F.setTextureAndFrame(st,j,J,tt),tt.width&&(st.displayWidth=tt.width),tt.height&&(st.displayHeight=tt.height),this.orientation===l.ISOMETRIC){var at=this.tileWidth/this.tileHeight,ft={x:st.x-st.y,y:(st.x+st.y)/at};st.x=ft.x,st.y=ft.y}var vt={x:st.originX*tt.width,y:(st.originY-(tt.gid?1:0))*tt.height};if(tt.rotation){var xt=s(tt.rotation);a(vt,xt),st.rotation=xt}st.x+=vt.x,st.y+=vt.y,(tt.flippedHorizontal!==void 0||tt.flippedVertical!==void 0)&&st.setFlip(tt.flippedHorizontal,tt.flippedVertical),tt.visible||(st.visible=!1),F.setPropertiesFromTiledObject(st,tt),Y?Y.add(st):z.add.existing(st),w.push(st)}}return w},createFromTiles:function(T,C,A,w,P,F){return F=this.getLayer(F),F===null?null:d.CreateFromTiles(T,C,A,w,P,F)},fill:function(T,C,A,w,P,F,L){return F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(d.Fill(T,C,A,w,P,F,L),this)},filterObjects:function(T,C,A){if(typeof T=="string"){var w=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+w),null}return T.objects.filter(C,A)},filterTiles:function(T,C,A,w,P,F,L,O){return O=this.getLayer(O),O===null?null:d.FilterTiles(T,C,A,w,P,F,L,O)},findByIndex:function(T,C,A,w){return w=this.getLayer(w),w===null?null:d.FindByIndex(T,C,A,w)},findObject:function(T,C,A){if(typeof T=="string"){var w=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+w),null}return T.objects.find(C,A)||null},findTile:function(T,C,A,w,P,F,L,O){return O=this.getLayer(O),O===null?null:d.FindTile(T,C,A,w,P,F,L,O)},forEachTile:function(T,C,A,w,P,F,L,O){return O=this.getLayer(O),O===null?null:(d.ForEachTile(T,C,A,w,P,F,L,O),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(T){return T.name})},getIndex:function(T,C){for(var A=0;A<T.length;A++)if(T[A].name===C)return A;return null},getLayer:function(T){var C=this.getLayerIndex(T);return C!==null?this.layers[C]:null},getObjectLayer:function(T){var C=this.getIndex(this.objects,T);return C!==null?this.objects[C]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(T){return T.name})},getLayerIndex:function(T){return T===void 0?this.currentLayerIndex:typeof T=="string"?this.getLayerIndexByName(T):typeof T=="number"&&T<this.layers.length?T:T instanceof m&&T.tilemap===this?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,C,A,w){return w=this.getLayer(w),w===null?null:d.GetTileAt(T,C,A,w)},getTileAtWorldXY:function(T,C,A,w,P){return P=this.getLayer(P),P===null?null:d.GetTileAtWorldXY(T,C,A,w,P)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(T){return T.name})},getTilesWithin:function(T,C,A,w,P,F){return F=this.getLayer(F),F===null?null:d.GetTilesWithin(T,C,A,w,P,F)},getTilesWithinShape:function(T,C,A,w){return w=this.getLayer(w),w===null?null:d.GetTilesWithinShape(T,C,A,w)},getTilesWithinWorldXY:function(T,C,A,w,P,F,L){return L=this.getLayer(L),L===null?null:d.GetTilesWithinWorldXY(T,C,A,w,P,F,L)},getTileset:function(T){var C=this.getIndex(this.tilesets,T);return C!==null?this.tilesets[C]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,C,A){return A=this.getLayer(A),A===null?null:d.HasTileAt(T,C,A)},hasTileAtWorldXY:function(T,C,A,w){return w=this.getLayer(w),w===null?null:d.HasTileAtWorldXY(T,C,A,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,C,A,w,P){return w===void 0&&(w=!0),P=this.getLayer(P),P===null?null:d.PutTileAt(T,C,A,w,P)},putTileAtWorldXY:function(T,C,A,w,P,F){return w===void 0&&(w=!0),F=this.getLayer(F),F===null?null:d.PutTileAtWorldXY(T,C,A,w,P,F)},putTilesAt:function(T,C,A,w,P){return w===void 0&&(w=!0),P=this.getLayer(P),P===null?null:(d.PutTilesAt(T,C,A,w,P),this)},randomize:function(T,C,A,w,P,F){return F=this.getLayer(F),F===null?null:(d.Randomize(T,C,A,w,P,F),this)},calculateFacesAt:function(T,C,A){return A=this.getLayer(A),A===null?null:(d.CalculateFacesAt(T,C,A),this)},calculateFacesWithin:function(T,C,A,w,P){return P=this.getLayer(P),P===null?null:(d.CalculateFacesWithin(T,C,A,w,P),this)},removeLayer:function(T){var C=this.getLayerIndex(T);if(C!==null){h(this.layers,C);for(var A=C;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===C&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(T){var C=this.getLayerIndex(T);return C!==null?(T=this.layers[C],T.tilemapLayer.destroy(),h(this.layers,C),this.currentLayerIndex===C&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,C=0;C<T.length;C++)T[C].tilemapLayer&&T[C].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,C,A){C===void 0&&(C=-1),A===void 0&&(A=!0);var w=[];Array.isArray(T)||(T=[T]);for(var P=0;P<T.length;P++){var F=T[P];w.push(this.removeTileAt(F.x,F.y,!0,A,F.tilemapLayer)),C>-1&&this.putTileAt(C,F.x,F.y,A,F.tilemapLayer)}return w},removeTileAt:function(T,C,A,w,P){return A===void 0&&(A=!0),w===void 0&&(w=!0),P=this.getLayer(P),P===null?null:d.RemoveTileAt(T,C,A,w,P)},removeTileAtWorldXY:function(T,C,A,w,P,F){return A===void 0&&(A=!0),w===void 0&&(w=!0),F=this.getLayer(F),F===null?null:d.RemoveTileAtWorldXY(T,C,A,w,P,F)},renderDebug:function(T,C,A){return A=this.getLayer(A),A===null?null:(this.orientation===l.ORTHOGONAL&&d.RenderDebug(T,C,A),this)},renderDebugFull:function(T,C){for(var A=this.layers,w=0;w<A.length;w++)d.RenderDebug(T,C,A[w]);return this},replaceByIndex:function(T,C,A,w,P,F,L){return L=this.getLayer(L),L===null?null:(d.ReplaceByIndex(T,C,A,w,P,F,L),this)},setCollision:function(T,C,A,w,P){return C===void 0&&(C=!0),A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(d.SetCollision(T,C,A,w,P),this)},setCollisionBetween:function(T,C,A,w,P){return A===void 0&&(A=!0),w===void 0&&(w=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionBetween(T,C,A,w,P),this)},setCollisionByProperty:function(T,C,A,w){return C===void 0&&(C=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(d.SetCollisionByProperty(T,C,A,w),this)},setCollisionByExclusion:function(T,C,A,w){return C===void 0&&(C=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(d.SetCollisionByExclusion(T,C,A,w),this)},setCollisionFromCollisionGroup:function(T,C,A){return T===void 0&&(T=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(d.SetCollisionFromCollisionGroup(T,C,A),this)},setTileIndexCallback:function(T,C,A,w){return w=this.getLayer(w),w===null?null:(d.SetTileIndexCallback(T,C,A,w),this)},setTileLocationCallback:function(T,C,A,w,P,F,L){return L=this.getLayer(L),L===null?null:(d.SetTileLocationCallback(T,C,A,w,P,F,L),this)},setLayer:function(T){var C=this.getLayerIndex(T);return C!==null&&(this.currentLayerIndex=C),this},setBaseTileSize:function(T,C){this.tileWidth=T,this.tileHeight=C,this.widthInPixels=this.width*T,this.heightInPixels=this.height*C;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=T,this.layers[A].baseTileHeight=C;for(var w=this.layers[A].data,P=this.layers[A].width,F=this.layers[A].height,L=0;L<F;L++)for(var O=0;O<P;O++){var I=w[L][O];I!==null&&I.setSize(void 0,void 0,T,C)}}return this},setLayerTileSize:function(T,C,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=T,A.tileHeight=C;for(var w=A.data,P=A.width,F=A.height,L=0;L<F;L++)for(var O=0;O<P;O++){var I=w[L][O];I!==null&&I.setSize(T,C)}return this},shuffle:function(T,C,A,w,P){return P=this.getLayer(P),P===null?null:(d.Shuffle(T,C,A,w,P),this)},swapByIndex:function(T,C,A,w,P,F,L){return L=this.getLayer(L),L===null?null:(d.SwapByIndex(T,C,A,w,P,F,L),this)},tileToWorldX:function(T,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(T,C,A)},tileToWorldY:function(T,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(T,C,A)},tileToWorldXY:function(T,C,A,w,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldXY(T,C,A,w,P)},getTileCorners:function(T,C,A,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(T,C,A,w)},weightedRandomize:function(T,C,A,w,P,F){return F=this.getLayer(F),F===null?null:(d.WeightedRandomize(C,A,w,P,T,F),this)},worldToTileX:function(T,C,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(T,C,A,w)},worldToTileY:function(T,C,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(T,C,A,w)},worldToTileXY:function(T,C,A,w,P,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(T,C,A,w,P,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=S},45939:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),v=t(31989);o.register("tilemap",function(s){var i=s!==void 0?s:{};return v(this.scene,i.key,i.tileWidth,i.tileHeight,i.width,i.height,i.data,i.insertNull)})},46029:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(31989);o.register("tilemap",function(s,i,n,e,r,l,a){return s===null&&(s=void 0),i===null&&(i=void 0),n===null&&(n=void 0),e===null&&(e=void 0),r===null&&(r=void 0),v(this.scene,s,i,n,e,r,l,a)})},20442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(78389),s=t(31401),i=t(95643),n=t(81086),e=t(19218),r=t(26099),l=new o({Extends:i,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,v,e],initialize:function(h,f,u,d,m,x){i.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=u,this.layer=f.layers[u],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new r,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(m,x),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(a){var h=[],f=[],u=this.tilemap;Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var m=a[d];if(typeof m=="string"&&(m=u.getTileset(m)),m){f.push(m);for(var x=m.firstgid,S=0;S<m.total;S++)h[x+S]=m}}this.gidMap=h,this.tileset=f},setRenderOrder:function(a){var h=["right-down","left-down","right-up","left-up"];return typeof a=="string"&&(a=h.indexOf(a)),a>=0&&a<4&&(this._renderOrder=a),this},calculateFacesAt:function(a,h){return n.CalculateFacesAt(a,h,this.layer),this},calculateFacesWithin:function(a,h,f,u){return n.CalculateFacesWithin(a,h,f,u,this.layer),this},createFromTiles:function(a,h,f,u,d){return n.CreateFromTiles(a,h,f,u,d,this.layer)},cull:function(a){return this.cullCallback(this.layer,a,this.culledTiles,this._renderOrder)},copy:function(a,h,f,u,d,m,x){return n.Copy(a,h,f,u,d,m,x,this.layer),this},fill:function(a,h,f,u,d,m){return n.Fill(a,h,f,u,d,m,this.layer),this},filterTiles:function(a,h,f,u,d,m,x){return n.FilterTiles(a,h,f,u,d,m,x,this.layer)},findByIndex:function(a,h,f){return n.FindByIndex(a,h,f,this.layer)},findTile:function(a,h,f,u,d,m,x){return n.FindTile(a,h,f,u,d,m,x,this.layer)},forEachTile:function(a,h,f,u,d,m,x){return n.ForEachTile(a,h,f,u,d,m,x,this.layer),this},setTint:function(a,h,f,u,d,m){a===void 0&&(a=16777215);var x=function(S){S.tint=a,S.tintFill=!1};return this.forEachTile(x,this,h,f,u,d,m)},setTintFill:function(a,h,f,u,d,m){a===void 0&&(a=16777215);var x=function(S){S.tint=a,S.tintFill=!0};return this.forEachTile(x,this,h,f,u,d,m)},getTileAt:function(a,h,f){return n.GetTileAt(a,h,f,this.layer)},getTileAtWorldXY:function(a,h,f,u){return n.GetTileAtWorldXY(a,h,f,u,this.layer)},getIsoTileAtWorldXY:function(a,h,f,u,d){f===void 0&&(f=!0);var m=this.tempVec;return n.IsometricWorldToTileXY(a,h,!0,m,d,this.layer,f),this.getTileAt(m.x,m.y,u)},getTilesWithin:function(a,h,f,u,d){return n.GetTilesWithin(a,h,f,u,d,this.layer)},getTilesWithinShape:function(a,h,f){return n.GetTilesWithinShape(a,h,f,this.layer)},getTilesWithinWorldXY:function(a,h,f,u,d,m){return n.GetTilesWithinWorldXY(a,h,f,u,d,m,this.layer)},hasTileAt:function(a,h){return n.HasTileAt(a,h,this.layer)},hasTileAtWorldXY:function(a,h,f){return n.HasTileAtWorldXY(a,h,f,this.layer)},putTileAt:function(a,h,f,u){return n.PutTileAt(a,h,f,u,this.layer)},putTileAtWorldXY:function(a,h,f,u,d){return n.PutTileAtWorldXY(a,h,f,u,d,this.layer)},putTilesAt:function(a,h,f,u){return n.PutTilesAt(a,h,f,u,this.layer),this},randomize:function(a,h,f,u,d){return n.Randomize(a,h,f,u,d,this.layer),this},removeTileAt:function(a,h,f,u){return n.RemoveTileAt(a,h,f,u,this.layer)},removeTileAtWorldXY:function(a,h,f,u,d){return n.RemoveTileAtWorldXY(a,h,f,u,d,this.layer)},renderDebug:function(a,h){return n.RenderDebug(a,h,this.layer),this},replaceByIndex:function(a,h,f,u,d,m){return n.ReplaceByIndex(a,h,f,u,d,m,this.layer),this},setSkipCull:function(a){return a===void 0&&(a=!0),this.skipCull=a,this},setCullPadding:function(a,h){return a===void 0&&(a=1),h===void 0&&(h=1),this.cullPaddingX=a,this.cullPaddingY=h,this},setCollision:function(a,h,f,u){return n.SetCollision(a,h,f,this.layer,u),this},setCollisionBetween:function(a,h,f,u){return n.SetCollisionBetween(a,h,f,u,this.layer),this},setCollisionByProperty:function(a,h,f){return n.SetCollisionByProperty(a,h,f,this.layer),this},setCollisionByExclusion:function(a,h,f){return n.SetCollisionByExclusion(a,h,f,this.layer),this},setCollisionFromCollisionGroup:function(a,h){return n.SetCollisionFromCollisionGroup(a,h,this.layer),this},setTileIndexCallback:function(a,h,f){return n.SetTileIndexCallback(a,h,f,this.layer),this},setTileLocationCallback:function(a,h,f,u,d,m){return n.SetTileLocationCallback(a,h,f,u,d,m,this.layer),this},shuffle:function(a,h,f,u){return n.Shuffle(a,h,f,u,this.layer),this},swapByIndex:function(a,h,f,u,d,m){return n.SwapByIndex(a,h,f,u,d,m,this.layer),this},tileToWorldX:function(a,h){return this.tilemap.tileToWorldX(a,h,this)},tileToWorldY:function(a,h){return this.tilemap.tileToWorldY(a,h,this)},tileToWorldXY:function(a,h,f,u){return this.tilemap.tileToWorldXY(a,h,f,u,this)},getTileCorners:function(a,h,f){return this.tilemap.getTileCorners(a,h,f,this)},weightedRandomize:function(a,h,f,u,d){return n.WeightedRandomize(h,f,u,d,a,this.layer),this},worldToTileX:function(a,h,f){return this.tilemap.worldToTileX(a,h,f,this)},worldToTileY:function(a,h,f){return this.tilemap.worldToTileY(a,h,f,this)},worldToTileXY:function(a,h,f,u,d){return this.tilemap.worldToTileXY(a,h,f,u,d,this)},destroy:function(a){a===void 0&&(a=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),a&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],i.prototype.destroy.call(this))}});c.exports=l},16153:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),v=new o,s=new o,i=new o,n=function(e,r,l,a){var h=r.cull(l),f=h.length,u=l.alpha*r.alpha;if(!(f===0||u<=0)){var d=v,m=s,x=i;m.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),d.copyFrom(l.matrix);var S=e.currentContext,T=r.gidMap;S.save(),a?(d.multiplyWithOffset(a,-l.scrollX*r.scrollFactorX,-l.scrollY*r.scrollFactorY),m.e=r.x,m.f=r.y,d.multiply(m,x),x.copyToContext(S)):(m.e-=l.scrollX*r.scrollFactorX,m.f-=l.scrollY*r.scrollFactorY,m.copyToContext(S)),(!e.antialias||r.scaleX>1||r.scaleY>1)&&(S.imageSmoothingEnabled=!1);for(var C=0;C<f;C++){var A=h[C],w=T[A.index];if(w){var P=w.image.getSourceImage(),F=w.getTileTextureCoordinates(A.index),L=w.tileWidth,O=w.tileHeight;if(!(F===null||L===0||O===0)){var I=L*.5,B=O*.5;F.x+=w.tileOffset.x,F.y+=w.tileOffset.y,S.save(),S.translate(A.pixelX+I,A.pixelY+B),A.rotation!==0&&S.rotate(A.rotation),(A.flipX||A.flipY)&&S.scale(A.flipX?-1:1,A.flipY?-1:1),S.globalAlpha=u*A.alpha,S.drawImage(P,F.x,F.y,L,O,-I,-B,L,O),S.restore()}}}S.restore()}};c.exports=n},19218:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,s=o;v=t(99558),s=t(16153),c.exports={renderWebGL:v,renderCanvas:s}},99558:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(s,i,n){var e=i.cull(n),r=e.length,l=n.alpha*i.alpha;if(!(r===0||l<=0)){var a=i.gidMap,h=s.pipelines.set(i.pipeline,i),f=o.getTintAppendFloatAlpha,u=i.scrollFactorX,d=i.scrollFactorY,m=i.x,x=i.y,S=i.scaleX,T=i.scaleY;s.pipelines.preBatch(i);for(var C=0;C<r;C++){var A=e[C],w=a[A.index];if(w){var P=w.getTileTextureCoordinates(A.index),F=w.tileWidth,L=w.tileHeight;if(!(!P||F===0||L===0)){var O=F*.5,I=L*.5,B=w.glTexture,U=h.setTexture2D(B,i),H=F,Z=L,tt=P.x,X=P.y,k=w.tileOffset.x,D=w.tileOffset.y,z=f(A.tint,l*A.alpha);h.batchTexture(i,B,B.width,B.height,m+A.pixelX*S+(O*S-k),x+A.pixelY*T+(I*T-D),F,L,S,T,A.rotation,A.flipX,A.flipY,u,d,O,I,tt,X,H,Z,z,z,z,z,A.tintFill,0,0,n,null,!0,U,!0)}}}s.pipelines.postBatch(i)}};c.exports=v},33629:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(26099),s=new o({initialize:function(n,e,r,l,a,h,f,u,d){(r===void 0||r<=0)&&(r=32),(l===void 0||l<=0)&&(l=32),a===void 0&&(a=0),h===void 0&&(h=0),f===void 0&&(f={}),u===void 0&&(u={}),this.name=n,this.firstgid=e,this.tileWidth=r,this.tileHeight=l,this.tileMargin=a,this.tileSpacing=h,this.tileProperties=f,this.tileData=u,this.tileOffset=new v,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var n=this.getTileData(i);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){this.image=i;var n=i.get(),e=i.getFrameBounds();return this.glTexture=n.source.glTexture,n.width>e.width||n.height>e.height?this.updateTileData(n.width,n.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(i,n){return i!==void 0&&(this.tileWidth=i),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,n){return i!==void 0&&(this.tileMargin=i),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,n,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var l=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),a=(i-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||a%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),a=Math.floor(a),this.rows=l,this.columns=a,this.total=l*a,this.texCoordinates.length=0;for(var h=this.tileMargin+e,f=this.tileMargin+r,u=0;u<this.rows;u++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:h,y:f}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});c.exports=s},72023:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),v=function(s,i,n){var e=o(s,i,!0,n),r=o(s,i-1,!0,n),l=o(s,i+1,!0,n),a=o(s-1,i,!0,n),h=o(s+1,i,!0,n),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),r&&r.collides&&(f&&(e.faceTop=!1),r.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),a&&a.collides&&(f&&(e.faceLeft=!1),a.faceRight=!f),h&&h.collides&&(f&&(e.faceRight=!1),h.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};c.exports=v},42573:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),v=t(7386),s=function(i,n,e,r,l){for(var a=null,h=null,f=null,u=null,d=v(i,n,e,r,null,l),m=0;m<d.length;m++){var x=d[m];x&&(x.collides?(a=o(x.x,x.y-1,!0,l),h=o(x.x,x.y+1,!0,l),f=o(x.x-1,x.y,!0,l),u=o(x.x+1,x.y,!0,l),x.faceTop=!(a&&a.collides),x.faceBottom=!(h&&h.collides),x.faceLeft=!(f&&f.collides),x.faceRight=!(u&&u.collides)):x.resetFaces())}};c.exports=s},33528:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=new o,s=function(i,n,e,r){var l=e.tilemapLayer,a=l.cullPaddingX,h=l.cullPaddingY,f=l.tilemap.tileToWorldXY(i,n,v,r,l);return f.x>r.worldView.x+l.scaleX*e.tileWidth*(-a-.5)&&f.x<r.worldView.right+l.scaleX*e.tileWidth*(a-.5)&&f.y>r.worldView.y+l.scaleY*e.tileHeight*(-h-1)&&f.y<r.worldView.bottom+l.scaleY*e.tileHeight*(h-.5)};c.exports=s},1785:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),v=t(7386),s=t(62991),i=t(23029),n=function(e,r,l,a,h,f,u,d){u===void 0&&(u=!0);var m=v(e,r,l,a,null,d),x=[];m.forEach(function(F){var L=new i(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);L.copy(F),x.push(L)});for(var S=h-e,T=f-r,C=0;C<x.length;C++){var A=x[C],w=A.x+S,P=A.y+T;s(w,P,d)&&d.data[P][w]&&(A.x=w,A.y=P,A.updatePixelXY(),d.data[P][w]=A)}u&&o(h-1,f-1,l+2,a+2,d),m.length=0,x.length=0};c.exports=n},78419:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),v=t(7386),s=t(27987),i=function(n,e,r,l,a,h){r||(r={}),Array.isArray(n)||(n=[n]);var f=h.tilemapLayer;l||(l=f.scene),a||(a=l.cameras.main);var u=h.width,d=h.height,m=v(0,0,u,d,null,h),x=[],S,T=function(P,F,L){for(var O=0;O<L.length;O++){var I=L[O];P.hasOwnProperty(I)||(P[I]=F[I])}};for(S=0;S<m.length;S++){var C=m[S],A=o(r);if(n.indexOf(C.index)!==-1){var w=f.tileToWorldXY(C.x,C.y,void 0,a,h);A.x=w.x,A.y=w.y,T(A,C,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=C.width*.5,A.y+=C.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=C.tileset.image,A.frame=C.index-1),x.push(l.make.sprite(A))}}if(Array.isArray(e))for(S=0;S<n.length;S++)s(n[S],e[S],0,0,u,d,h);else if(e!==null)for(S=0;S<n.length;S++)s(n[S],e,0,0,u,d,h);return x};c.exports=i},19545:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(63448),s=t(56583),i=new o,n=function(e,r){var l=e.tilemapLayer.tilemap,a=e.tilemapLayer,h=Math.floor(l.tileWidth*a.scaleX),f=Math.floor(l.tileHeight*a.scaleY),u=s(r.worldView.x-a.x,h,0,!0)-a.cullPaddingX,d=v(r.worldView.right-a.x,h,0,!0)+a.cullPaddingX,m=s(r.worldView.y-a.y,f,0,!0)-a.cullPaddingY,x=v(r.worldView.bottom-a.y,f,0,!0)+a.cullPaddingY;return i.setTo(u,m,d-u,x-m)};c.exports=n},30003:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19545),v=t(32483),s=function(i,n,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=i.tilemapLayer,a=o(i,n);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(a.left=0,a.right=i.width,a.top=0,a.bottom=i.height),v(i,a,r,e),e};c.exports=s},35137:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(42573),s=t(20576),i=function(n,e,r,l,a,h,f){for(var u=f.collideIndexes.indexOf(n)!==-1,d=o(e,r,l,a,null,f),m=0;m<d.length;m++)d[m].index=n,s(d[m],u);h&&v(e-1,r-1,l+2,a+2,f)};c.exports=i},40253:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(s,i,n,e,r,l,a,h){var f=o(n,e,r,l,a,h);return f.filter(s,i)};c.exports=v},52692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){o===void 0&&(o=0),v===void 0&&(v=!1);var i=0,n,e,r;if(v){for(e=s.height-1;e>=0;e--)for(n=s.width-1;n>=0;n--)if(r=s.data[e][n],r&&r.index===t){if(i===o)return r;i+=1}}else for(e=0;e<s.height;e++)for(n=0;n<s.width;n++)if(r=s.data[e][n],r&&r.index===t){if(i===o)return r;i+=1}return null};c.exports=y},66151:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(s,i,n,e,r,l,a,h){var f=o(n,e,r,l,a,h);return f.find(s,i)||null};c.exports=v},97560:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(s,i,n,e,r,l,a,h){var f=o(n,e,r,l,a,h);f.forEach(s,i)};c.exports=v},43305:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(30003),s=t(9474),i=t(14018),n=t(29747),e=t(54503),r=function(l){return l===o.ORTHOGONAL?v:l===o.HEXAGONAL?s:l===o.STAGGERED?e:l===o.ISOMETRIC?i:n};c.exports=r},7423:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),v=function(s,i,n,e){if(n===void 0&&(n=!1),o(s,i,e)){var r=e.data[i][s]||null;return r?r.index===-1?n?r:null:r:null}else return null};c.exports=v},60540:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),v=t(26099),s=new v,i=function(n,e,r,l,a){return a.tilemapLayer.worldToTileXY(n,e,!0,s,l),o(s.x,s.y,r,a)};c.exports=i},55826:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e){var r=e.baseTileWidth,l=e.baseTileHeight,a=e.tilemapLayer,h=0,f=0;a&&(n||(n=a.scene.cameras.main),h=a.x+n.scrollX*(1-a.scrollFactorX),f=a.y+n.scrollY*(1-a.scrollFactorY),r*=a.scaleX,l*=a.scaleY);var u=h+s*r,d=f+i*l;return[new o(u,d),new o(u+r,d),new o(u+r,d+l),new o(u,d+l)]};c.exports=v},11758:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(27229),s=t(29747),i=t(55826),n=function(e){return e===o.ORTHOGONAL?i:e===o.ISOMETRIC?s:e===o.HEXAGONAL?v:(e===o.STAGGERED,s)};c.exports=n},39167:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(29747),s=t(97281),i=function(n){return n===o.ORTHOGONAL?s:v};c.exports=i},62e3:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(19951),s=t(14127),i=t(29747),n=t(97202),e=t(70326),r=function(l){return l===o.ORTHOGONAL?e:l===o.ISOMETRIC?s:l===o.HEXAGONAL?v:l===o.STAGGERED?n:i};c.exports=r},5984:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(29747),s=t(28054),i=t(29650),n=function(e){return e===o.ORTHOGONAL?i:e===o.STAGGERED?s:v};c.exports=n},7386:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(s,i,n,e,r,l){s===void 0&&(s=0),i===void 0&&(i=0),n===void 0&&(n=l.width),e===void 0&&(e=l.height),r||(r={});var a=o(r,"isNotEmpty",!1),h=o(r,"isColliding",!1),f=o(r,"hasInterestingFace",!1);s<0&&(n+=s,s=0),i<0&&(e+=i,i=0),s+n>l.width&&(n=Math.max(l.width-s,0)),i+e>l.height&&(e=Math.max(l.height-i,0));for(var u=[],d=i;d<i+e;d++)for(var m=s;m<s+n;m++){var x=l.data[d][m];if(x!==null){if(a&&x.index===-1||h&&!x.collides||f&&!x.hasInterestingFace)continue;u.push(x)}}return u};c.exports=v},91141:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55738),v=t(7386),s=t(91865),i=t(29747),n=t(26099),e=function(f,u){return s.RectangleToTriangle(u,f)},r=new n,l=new n,a=new n,h=function(f,u,d,m){if(f===void 0)return[];var x=i;f instanceof o.Circle?x=s.CircleToRectangle:f instanceof o.Rectangle?x=s.RectangleToRectangle:f instanceof o.Triangle?x=e:f instanceof o.Line&&(x=s.LineToRectangle),m.tilemapLayer.worldToTileXY(f.left,f.top,!0,l,d);var S=l.x,T=l.y;m.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,a,d);var C=Math.ceil(a.x),A=Math.ceil(a.y),w=Math.max(C-S,1),P=Math.max(A-T,1),F=v(S,T,w,P,u,m),L=m.tileWidth,O=m.tileHeight;m.tilemapLayer&&(L*=m.tilemapLayer.scaleX,O*=m.tilemapLayer.scaleY);for(var I=[],B=new o.Rectangle(0,0,L,O),U=0;U<F.length;U++){var H=F[U];m.tilemapLayer.tileToWorldXY(H.x,H.y,r,d),B.x=r.x,B.y=r.y,x(f,B)&&I.push(H)}return I};c.exports=h},96523:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(26099),s=new v,i=new v,n=function(e,r,l,a,h,f,u){var d=u.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,r,!0,s,f,u);var m=s.x,x=s.y;d(e+l,r+a,!1,i,f,u);var S=Math.ceil(i.x),T=Math.ceil(i.y);return o(m,x,S-m,T-x,h,u)};c.exports=n},96113:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(20242),s=t(10095),i=function(n){return n===o.ORTHOGONAL?s:v};c.exports=i},16926:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(86625),s=t(96897),i=t(29747),n=t(15108),e=t(85896),r=function(l){return l===o.ORTHOGONAL?e:l===o.ISOMETRIC?s:l===o.HEXAGONAL?v:l===o.STAGGERED?n:i};c.exports=r},55762:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(20242),s=t(51900),i=t(63288),n=function(e){return e===o.ORTHOGONAL?i:e===o.STAGGERED?s:v};c.exports=n},45091:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),v=function(s,i,n){if(o(s,i,n)){var e=n.data[i][s];return e!==null&&e.index>-1}else return!1};c.exports=v},24152:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45091),v=t(26099),s=new v,i=function(n,e,r,l){l.tilemapLayer.worldToTileXY(n,e,!0,s,r);var a=s.x,h=s.y;return o(a,h,l)};c.exports=i},90454:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),v=t(56583),s=function(i,n){var e=i.tilemapLayer.tilemap,r=i.tilemapLayer,l=Math.floor(e.tileWidth*r.scaleX),a=Math.floor(e.tileHeight*r.scaleY),h=i.hexSideLength,f,u,d,m;if(i.staggerAxis==="y"){var x=(a-h)/2+h;f=v(n.worldView.x-r.x,l,0,!0)-r.cullPaddingX,u=o(n.worldView.right-r.x,l,0,!0)+r.cullPaddingX,d=v(n.worldView.y-r.y,x,0,!0)-r.cullPaddingY,m=o(n.worldView.bottom-r.y,x,0,!0)+r.cullPaddingY}else{var S=(l-h)/2+h;f=v(n.worldView.x-r.x,S,0,!0)-r.cullPaddingX,u=o(n.worldView.right-r.x,S,0,!0)+r.cullPaddingX,d=v(n.worldView.y-r.y,a,0,!0)-r.cullPaddingY,m=o(n.worldView.bottom-r.y,a,0,!0)+r.cullPaddingY}return{left:f,right:u,top:d,bottom:m}};c.exports=s},9474:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90454),v=t(32483),s=function(i,n,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=i.tilemapLayer,a=o(i,n);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(a.left=0,a.right=i.width,a.top=0,a.bottom=i.height),v(i,a,r,e),e};c.exports=s},27229:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19951),v=t(26099),s=new v,i=function(n,e,r,l){var a=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(a*=f.scaleX,h*=f.scaleY);var u=o(n,e,s,r,l),d=[],m=.5773502691896257,x,S;l.staggerAxis==="y"?(x=m*a,S=h/2):(x=a/2,S=m*h);for(var T=0;T<6;T++){var C=2*Math.PI*(.5-T)/6;d.push(new v(u.x+x*Math.cos(C),u.y+S*Math.sin(C)))}return d};c.exports=i},19951:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r){n||(n=new o);var l=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,f=0,u=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),u=h.y+e.scrollY*(1-h.scrollFactorY),l*=h.scaleX,a*=h.scaleY);var d=l/2,m=a/2,x,S;return r.staggerAxis==="y"?(x=f+l*s+l,S=u+1.5*i*m+m,i%2===0&&(this.staggerIndex==="odd"?x-=d:x+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(x=f+1.5*s*d+d,S=u+a*s+a,s%2===0&&(this.staggerIndex==="odd"?S-=m:S+=m)),n.set(x,S)};c.exports=v},86625:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r,l){e||(e=new o);var a=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(r||(r=f.scene.cameras.main),s=s-(f.x+r.scrollX*(1-f.scrollFactorX)),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),a*=f.scaleX,h*=f.scaleY);var u=.5773502691896257,d=-.3333333333333333,m=0,x=.6666666666666666,S=a/2,T=h/2,C,A,w,P,F;l.staggerAxis==="y"?(C=(s-S)/(u*a),A=(i-T)/T,w=u*C+d*A,P=m*C+x*A):(C=(s-S)/S,A=(i-T)/(u*h),w=d*C+u*A,P=x*C+m*A),F=-w-P;var L=Math.round(w),O=Math.round(P),I=Math.round(F),B=Math.abs(L-w),U=Math.abs(O-P),H=Math.abs(I-F);B>U&&B>H?L=-O-I:U>H&&(O=-L-I);var Z,tt=O;return l.staggerIndex==="odd"?Z=tt%2===0?O/2+L:O/2+L-.5:Z=tt%2===0?O/2+L:O/2+L+.5,e.set(Z,tt)};c.exports=v},62991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t>=0&&t<v.width&&o>=0&&o<v.height};c.exports=y},14018:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33528),v=function(s,i,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var r=s.tilemapLayer,l=s.data,a=s.width,h=s.height,f=r.skipCull,u=0,d=a,m=0,x=h,S,T,C;if(e===0)for(T=m;T<x;T++)for(S=u;S<d;S++)C=l[T][S],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(S,T,s,i)||n.push(C));else if(e===1)for(T=m;T<x;T++)for(S=d;S>=u;S--)C=l[T][S],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(S,T,s,i)||n.push(C));else if(e===2)for(T=x;T>=m;T--)for(S=u;S<d;S++)C=l[T][S],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(S,T,s,i)||n.push(C));else if(e===3)for(T=x;T>=m;T--)for(S=d;S>=u;S--)C=l[T][S],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(S,T,s,i)||n.push(C));return r.tilesDrawn=n.length,r.tilesTotal=a*h,n};c.exports=v},14127:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r){n||(n=new o);var l=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,f=0,u=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,u=h.y+e.scrollY*(1-h.scrollFactorY),a*=h.scaleY);var d=f+(s-i)*(l/2),m=u+(s+i)*(a/2);return n.set(d,m)};c.exports=v},96897:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r,l,a){e||(e=new o);var h=l.baseTileWidth,f=l.baseTileHeight,u=l.tilemapLayer;u&&(r||(r=u.scene.cameras.main),i=i-(u.y+r.scrollY*(1-u.scrollFactorY)),f*=u.scaleY,s=s-(u.x+r.scrollX*(1-u.scrollFactorX)),h*=u.scaleX);var d=h/2,m=f/2;s=s-d,a||(i=i-f);var x=.5*(s/d+i/m),S=.5*(-s/d+i/m);return n&&(x=Math.floor(x),S=Math.floor(S)),e.set(x,S)};c.exports=v},71558:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),v=t(62991),s=t(72023),i=t(20576),n=function(e,r,l,a,h){if(a===void 0&&(a=!0),!v(r,l,h))return null;var f,u=h.data[l][r],d=u&&u.collides;e instanceof o?(h.data[l][r]===null&&(h.data[l][r]=new o(h,e.index,r,l,h.tileWidth,h.tileHeight)),h.data[l][r].copy(e)):(f=e,h.data[l][r]===null?h.data[l][r]=new o(h,f,r,l,h.tileWidth,h.tileHeight):h.data[l][r].index=f);var m=h.data[l][r],x=h.collideIndexes.indexOf(m.index)!==-1;if(f=e instanceof o?e.index:e,f===-1)m.width=h.tileWidth,m.height=h.tileHeight;else{var S=h.tilemapLayer.tilemap,T=S.tiles,C=T[f][2],A=S.tilesets[C];m.width=A.tileWidth,m.height=A.tileHeight}return i(m,x),a&&d!==m.collides&&s(r,l,h),m};c.exports=n},26303:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71558),v=t(26099),s=new v,i=function(n,e,r,l,a,h){return h.tilemapLayer.worldToTileXY(e,r,!0,s,a,h),o(n,s.x,s.y,l,h)};c.exports=i},14051:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),v=t(71558),s=function(i,n,e,r,l){if(r===void 0&&(r=!0),!Array.isArray(i))return null;Array.isArray(i[0])||(i=[i]);for(var a=i.length,h=i[0].length,f=0;f<a;f++)for(var u=0;u<h;u++){var d=i[f][u];v(d,n+u,e+f,!1,l)}r&&o(n-1,e-1,h+2,a+2,l)};c.exports=s},77389:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(26546),s=function(i,n,e,r,l,a){var h,f=o(i,n,e,r,{},a);if(!l)for(l=[],h=0;h<f.length;h++)l.indexOf(f[h].index)===-1&&l.push(f[h].index);for(h=0;h<f.length;h++)f[h].index=v(l)};c.exports=s},63557:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),v=t(62991),s=t(72023),i=function(n,e,r,l,a){if(r===void 0&&(r=!0),l===void 0&&(l=!0),!v(n,e,a))return null;var h=a.data[e][n];if(h)a.data[e][n]=r?null:new o(a,-1,n,e,a.tileWidth,a.tileHeight);else return null;return l&&h&&h.collides&&s(n,e,a),h};c.exports=i},94178:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63557),v=t(26099),s=new v,i=function(n,e,r,l,a,h){return h.tilemapLayer.worldToTileXY(n,e,!0,s,a,h),o(s.x,s.y,r,l,h)};c.exports=i},15533:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(3956),s=new v(105,210,231,150),i=new v(243,134,48,200),n=new v(40,39,37,150),e=function(r,l,a){l===void 0&&(l={});var h=l.tileColor!==void 0?l.tileColor:s,f=l.collidingTileColor!==void 0?l.collidingTileColor:i,u=l.faceColor!==void 0?l.faceColor:n,d=o(0,0,a.width,a.height,null,a);r.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),r.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var m=0;m<d.length;m++){var x=d[m],S=x.width,T=x.height,C=x.pixelX,A=x.pixelY,w=x.collides?f:h;w!==null&&(r.fillStyle(w.color,w.alpha/255),r.fillRect(C,A,S,T)),C+=1,A+=1,S-=2,T-=2,u!==null&&(r.lineStyle(1,u.color,u.alpha/255),x.faceTop&&r.lineBetween(C,A,C+S,A),x.faceRight&&r.lineBetween(C+S,A,C+S,A+T),x.faceBottom&&r.lineBetween(C,A+T,C+S,A+T),x.faceLeft&&r.lineBetween(C,A,C,A+T))}};c.exports=e},27987:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(s,i,n,e,r,l,a){for(var h=o(n,e,r,l,null,a),f=0;f<h.length;f++)h[f]&&h[f].index===s&&(h[f].index=i)};c.exports=v},32483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=t.data,n=t.width,e=t.height,r=t.tilemapLayer,l=Math.max(0,o.left),a=Math.min(n,o.right),h=Math.max(0,o.top),f=Math.min(e,o.bottom),u,d,m;if(v===0)for(d=h;d<f;d++)for(u=l;i[d]&&u<a;u++)m=i[d][u],!(!m||m.index===-1||!m.visible||m.alpha===0)&&s.push(m);else if(v===1)for(d=h;d<f;d++)for(u=a;i[d]&&u>=l;u--)m=i[d][u],!(!m||m.index===-1||!m.visible||m.alpha===0)&&s.push(m);else if(v===2)for(d=f;d>=h;d--)for(u=l;i[d]&&u<a;u++)m=i[d][u],!(!m||m.index===-1||!m.visible||m.alpha===0)&&s.push(m);else if(v===3)for(d=f;d>=h;d--)for(u=a;i[d]&&u>=l;u--)m=i[d][u],!(!m||m.index===-1||!m.visible||m.alpha===0)&&s.push(m);return r.tilesDrawn=s.length,r.tilesTotal=n*e,s};c.exports=y},57068:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),s=t(9589),i=function(n,e,r,l,a){e===void 0&&(e=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++)s(n[h],e,l);if(a)for(var f=0;f<l.height;f++)for(var u=0;u<l.width;u++){var d=l.data[f][u];d&&n.indexOf(d.index)!==-1&&o(d,e)}r&&v(0,0,l.width,l.height,l)};c.exports=i},37266:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),s=t(9589),i=function(n,e,r,l,a,h){if(r===void 0&&(r=!0),l===void 0&&(l=!0),h===void 0&&(h=!0),!(n>e)){for(var f=n;f<=e;f++)s(f,r,a);if(h)for(var u=0;u<a.height;u++)for(var d=0;d<a.width;d++){var m=a.data[u][d];m&&m.index>=n&&m.index<=e&&o(m,r)}l&&v(0,0,a.width,a.height,a)}};c.exports=i},75661:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),s=t(9589),i=function(n,e,r,l){e===void 0&&(e=!0),r===void 0&&(r=!0),Array.isArray(n)||(n=[n]);for(var a=0;a<l.height;a++)for(var h=0;h<l.width;h++){var f=l.data[a][h];f&&n.indexOf(f.index)===-1&&(o(f,e),s(f.index,e,l))}r&&v(0,0,l.width,l.height,l)};c.exports=i},64740:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),s=t(97022),i=function(n,e,r,l){e===void 0&&(e=!0),r===void 0&&(r=!0);for(var a=0;a<l.height;a++)for(var h=0;h<l.width;h++){var f=l.data[a][h];if(f){for(var u in n)if(s(f.properties,u)){var d=n[u];Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)f.properties[u]===d[m]&&o(f,e)}}}r&&v(0,0,l.width,l.height,l)};c.exports=i},63307:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),s=function(i,n,e){i===void 0&&(i=!0),n===void 0&&(n=!0);for(var r=0;r<e.height;r++)for(var l=0;l<e.width;l++){var a=e.data[r][l];if(a){var h=a.getCollisionGroup();h&&h.objects&&h.objects.length>0&&o(a,i)}}n&&v(0,0,e.width,e.height,e)};c.exports=s},9589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=v.collideIndexes.indexOf(t);o&&s===-1?v.collideIndexes.push(t):!o&&s!==-1&&v.collideIndexes.splice(s,1)};c.exports=y},20576:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};c.exports=y},79583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){if(typeof t=="number")s.callbacks[t]=o!==null?{callback:o,callbackContext:v}:void 0;else for(var i=0,n=t.length;i<n;i++)s.callbacks[t[i]]=o!==null?{callback:o,callbackContext:v}:void 0};c.exports=y},93254:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(s,i,n,e,r,l,a){for(var h=o(s,i,n,e,null,a),f=0;f<h.length;f++)h[f].setCollisionCallback(r,l)};c.exports=v},32903:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(33680),s=function(i,n,e,r,l){var a=o(i,n,e,r,null,l),h=a.map(function(u){return u.index});v(h);for(var f=0;f<a.length;f++)a[f].index=h[f]};c.exports=s},61325:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),v=t(56583),s=function(i,n){var e=i.tilemapLayer.tilemap,r=i.tilemapLayer,l=Math.floor(e.tileWidth*r.scaleX),a=Math.floor(e.tileHeight*r.scaleY),h=v(n.worldView.x-r.x,l,0,!0)-r.cullPaddingX,f=o(n.worldView.right-r.x,l,0,!0)+r.cullPaddingX,u=v(n.worldView.y-r.y,a/2,0,!0)-r.cullPaddingY,d=o(n.worldView.bottom-r.y,a/2,0,!0)+r.cullPaddingY;return{left:h,right:f,top:u,bottom:d}};c.exports=s},54503:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61325),v=t(32483),s=function(i,n,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=i.tilemapLayer,a=o(i,n);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(a.left=0,a.right=i.width,a.top=0,a.bottom=i.height),v(i,a,r,e),e};c.exports=s},97202:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r){n||(n=new o);var l=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,f=0,u=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,u=h.y+e.scrollY*(1-h.scrollFactorY),a*=h.scaleY);var d=f+s*l+i%2*(l/2),m=u+i*(a/2);return n.set(d,m)};c.exports=v},28054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=v.baseTileHeight,i=v.tilemapLayer,n=0;return i&&(o===void 0&&(o=i.scene.cameras.main),n=i.y+o.scrollY*(1-i.scrollFactorY),s*=i.scaleY),n+t*(s/2)+s};c.exports=y},15108:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r,l){e||(e=new o);var a=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(r||(r=f.scene.cameras.main),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),h*=f.scaleY,s=s-(f.x+r.scrollX*(1-f.scrollFactorX)),a*=f.scaleX);var u=n?Math.floor(i/(h/2)):i/(h/2),d=n?Math.floor((s+u%2*.5*a)/a):(s+u%2*.5*a)/a;return e.set(d,u)};c.exports=v},51900:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=s.baseTileHeight,n=s.tilemapLayer;return n&&(v||(v=n.scene.cameras.main),t=t-(n.y+v.scrollY*(1-n.scrollFactorY)),i*=n.scaleY),o?Math.floor(t/(i/2)):t/(i/2)};c.exports=y},86560:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(s,i,n,e,r,l,a){for(var h=o(n,e,r,l,null,a),f=0;f<h.length;f++)h[f]&&(h[f].index===s?h[f].index=i:h[f].index===i&&(h[f].index=s))};c.exports=v},97281:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=v.baseTileWidth,i=v.tilemapLayer,n=0;return i&&(o||(o=i.scene.cameras.main),n=i.x+o.scrollX*(1-i.scrollFactorX),s*=i.scaleX),n+t*s};c.exports=y},70326:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97281),v=t(29650),s=t(26099),i=function(n,e,r,l,a){return r||(r=new s(0,0)),r.x=o(n,l,a),r.y=v(e,l,a),r};c.exports=i},29650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=v.baseTileHeight,i=v.tilemapLayer,n=0;return i&&(o||(o=i.scene.cameras.main),n=i.y+o.scrollY*(1-i.scrollFactorY),s*=i.scaleY),n+t*s};c.exports=y},77366:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(75508),s=function(i,n,e,r,l,a){if(l){var h,f=o(i,n,e,r,null,a),u=0;for(h=0;h<l.length;h++)u+=l[h].weight;if(!(u<=0))for(h=0;h<f.length;h++){for(var d=v.RND.frac()*u,m=0,x=-1,S=0;S<l.length;S++)if(m+=l[S].weight,d<=m){var T=l[S].index;x=Array.isArray(T)?T[Math.floor(v.RND.frac()*T.length)]:T;break}f[h].index=x}}};c.exports=s},10095:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),v=t(26099),s=new v,i=function(n,e,r,l){return o(n,0,e,s,r,l),s.x};c.exports=i},85896:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(s,i,n,e,r,l){n===void 0&&(n=!0),e||(e=new o);var a=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(r||(r=f.scene.cameras.main),s=s-(f.x+r.scrollX*(1-f.scrollFactorX)),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),a*=f.scaleX,h*=f.scaleY);var u=s/a,d=i/h;return n&&(u=Math.floor(u),d=Math.floor(d)),e.set(u,d)};c.exports=v},63288:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),v=t(26099),s=new v,i=function(n,e,r,l){return o(0,n,e,s,r,l),s.y};c.exports=i},81086:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:t(91907)};c.exports=o},62501:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(21829),s={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};s=o(!1,s,v.ORIENTATION),c.exports=s},14977:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(91907),s=t(95540),i=new o({initialize:function(e){e===void 0&&(e={}),this.name=s(e,"name","layer"),this.id=s(e,"id",0),this.x=s(e,"x",0),this.y=s(e,"y",0),this.width=s(e,"width",0),this.height=s(e,"height",0),this.tileWidth=s(e,"tileWidth",0),this.tileHeight=s(e,"tileHeight",0),this.baseTileWidth=s(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(e,"baseTileHeight",this.tileHeight),this.orientation=s(e,"orientation",v.ORTHOGONAL),this.widthInPixels=s(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(e,"alpha",1),this.visible=s(e,"visible",!0),this.properties=s(e,"properties",[]),this.indexes=s(e,"indexes",[]),this.collideIndexes=s(e,"collideIndexes",[]),this.callbacks=s(e,"callbacks",[]),this.bodies=s(e,"bodies",[]),this.data=s(e,"data",[]),this.tilemapLayer=s(e,"tilemapLayer",null),this.hexSideLength=s(e,"hexSideLength",0),this.staggerAxis=s(e,"staggerAxis","y"),this.staggerIndex=s(e,"staggerIndex","odd")}});c.exports=i},87010:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(91907),s=t(95540),i=new o({initialize:function(e){e===void 0&&(e={}),this.name=s(e,"name","map"),this.width=s(e,"width",0),this.height=s(e,"height",0),this.infinite=s(e,"infinite",!1),this.tileWidth=s(e,"tileWidth",0),this.tileHeight=s(e,"tileHeight",0),this.widthInPixels=s(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(e,"heightInPixels",this.height*this.tileHeight),this.format=s(e,"format",null),this.orientation=s(e,"orientation",v.ORTHOGONAL),this.renderOrder=s(e,"renderOrder","right-down"),this.version=s(e,"version","1"),this.properties=s(e,"properties",{}),this.layers=s(e,"layers",[]),this.images=s(e,"images",[]),this.objects=s(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=s(e,"collision",{}),this.tilesets=s(e,"tilesets",[]),this.imageCollections=s(e,"imageCollections",[]),this.tiles=s(e,"tiles",[]),this.hexSideLength=s(e,"hexSideLength",0),this.staggerAxis=s(e,"staggerAxis","y"),this.staggerIndex=s(e,"staggerIndex","odd")}});c.exports=i},48700:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=new o({initialize:function(n){n===void 0&&(n={}),this.name=v(n,"name","object layer"),this.id=v(n,"id",0),this.opacity=v(n,"opacity",1),this.properties=v(n,"properties",{}),this.propertyTypes=v(n,"propertytypes",{}),this.type=v(n,"type","objectgroup"),this.visible=v(n,"visible",!0),this.objects=v(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=s},6641:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=function(s){return s=s.toLowerCase(),s==="isometric"?o.ISOMETRIC:s==="staggered"?o.STAGGERED:s==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};c.exports=v},46177:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(2342),s=t(82593),i=t(46594),n=t(87021),e=function(r,l,a,h,f,u){var d;switch(l){case o.ARRAY_2D:d=v(r,a,h,f,u);break;case o.CSV:d=s(r,a,h,f,u);break;case o.TILED_JSON:d=i(r,a,u);break;case o.WELTMEISTER:d=n(r,a,u);break;default:console.warn("Unrecognized tilemap data format: "+l),d=null}return d};c.exports=e},2342:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(14977),s=t(87010),i=t(23029),n=function(e,r,l,a,h){for(var f=new v({tileWidth:l,tileHeight:a}),u=new s({name:e,tileWidth:l,tileHeight:a,format:o.ARRAY_2D,layers:[f]}),d=[],m=r.length,x=0,S=0;S<r.length;S++){d[S]=[];for(var T=r[S],C=0;C<T.length;C++){var A=parseInt(T[C],10);isNaN(A)||A===-1?d[S][C]=h?null:new i(f,-1,C,S,l,a):d[S][C]=new i(f,A,C,S,l,a)}x===0&&(x=T.length)}return u.width=f.width=x,u.height=f.height=m,u.widthInPixels=f.widthInPixels=x*l,u.heightInPixels=f.heightInPixels=m*a,f.data=d,u};c.exports=n},82593:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(2342),s=function(i,n,e,r,l){var a=n.trim().split(`
`).map(function(f){return f.split(",")}),h=v(i,a,e,r,l);return h.format=o.CSV,h};c.exports=s},6656:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14977),v=t(23029),s=function(i,n){for(var e=[],r=0;r<i.layer.length;r++){for(var l=i.layer[r],a=new o({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),h=[],f=[],u=0;u<l.data.length;u++){for(var d=0;d<l.data[u].length;d++){var m=l.data[u][d]-1,x;m>-1?x=new v(a,m,d,u,l.tilesize,l.tilesize):x=n?null:new v(a,-1,d,u,l.tilesize,l.tilesize),h.push(x)}f.push(h),h=[]}a.data=f,e.push(a)}return e};c.exports=s},96483:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),v=function(s){for(var i=[],n=[],e=0;e<s.layer.length;e++){var r=s.layer[e],l=r.tilesetName;l!==""&&n.indexOf(l)===-1&&(n.push(l),i.push(new o(l,0,r.tilesize,r.tilesize,0,0)))}return i};c.exports=v},87021:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(87010),s=t(6656),i=t(96483),n=function(e,r,l){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var a=0,h=0,f=0;f<r.layer.length;f++)r.layer[f].width>a&&(a=r.layer[f].width),r.layer[f].height>h&&(h=r.layer[f].height);var u=new v({width:a,height:h,name:e,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:o.WELTMEISTER});return u.layers=s(r,l),u.tilesets=i(r),u};c.exports=n},52833:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=function(s){for(var i,n,e,r,l,a=0;a<s.layers.length;a++){i=s.layers[a],r=null;for(var h=0;h<i.data.length;h++){l=i.data[h];for(var f=0;f<l.length;f++)n=l[f],!(n===null||n.index<0)&&(e=s.tiles[n.index][2],r=s.tilesets[e],n.width=r.tileWidth,n.height=r.tileHeight,r.tileProperties&&r.tileProperties[n.index-r.firstgid]&&(n.properties=o(n.properties,r.tileProperties[n.index-r.firstgid])))}}};c.exports=v},41868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=window.atob(t),v=o.length,s=new Array(v/4),i=0;i<v;i+=4)s[i/4]=(o.charCodeAt(i)|o.charCodeAt(i+1)<<8|o.charCodeAt(i+2)<<16|o.charCodeAt(i+3)<<24)>>>0;return s};c.exports=y},84101:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),v=function(s){var i,n,e=[];for(i=0;i<s.imageCollections.length;i++)for(var r=s.imageCollections[i],l=r.images,a=0;a<l.length;a++){var h=l[a];n=new o(h.image,h.gid,r.imageWidth,r.imageHeight,0,0),n.updateTileData(r.imageWidth,r.imageHeight),s.tilesets.push(n)}for(i=0;i<s.tilesets.length;i++){n=s.tilesets[i];for(var f=n.tileMargin,u=n.tileMargin,d=0,m=0,x=0,S=n.firstgid;S<n.firstgid+n.total&&(e[S]=[f,u,i],f+=n.tileWidth+n.tileSpacing,d++,!(d===n.total||(m++,m===n.columns&&(f=n.tileMargin,u+=n.tileHeight+n.tileSpacing,m=0,x++,x===n.rows))));S++);}return e};c.exports=v},79677:(c,y,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(s,i,n){if(!i)return{i:0,layers:s.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=i.x+o(i,"startx",0)*s.tilewidth+o(i,"offsetx",0),r=i.y+o(i,"starty",0)*s.tileheight+o(i,"offsety",0);return{i:0,layers:i.layers,name:n.name+i.name+"/",opacity:n.opacity*i.opacity,visible:n.visible&&i.visible,x:n.x+e,y:n.y+r}};c.exports=v},29920:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,t=1073741824,o=536870912,v=function(s){var i=!!(s&y),n=!!(s&t),e=!!(s&o);s=s&~(y|t|o);var r=0,l=!1;return i&&n&&e?(r=Math.PI/2,l=!0):i&&n&&!e?(r=Math.PI,l=!1):i&&!n&&e?(r=Math.PI/2,l=!1):i&&!n&&!e?(r=0,l=!0):!i&&n&&e?(r=3*Math.PI/2,l=!1):!i&&n&&!e?(r=Math.PI,l=!0):!i&&!n&&e?(r=3*Math.PI/2,l=!0):!i&&!n&&!e&&(r=0,l=!1),{gid:s,flippedHorizontal:i,flippedVertical:n,flippedAntiDiagonal:e,rotation:r,flipped:l}};c.exports=v},12635:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=t(79677),s=function(i){for(var n=[],e=[],r=v(i);r.i<r.layers.length||e.length>0;){if(r.i>=r.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=e.pop();continue}var l=r.layers[r.i];if(r.i++,l.type!=="imagelayer"){if(l.type==="group"){var a=v(i,l,r);e.push(r),r=a}continue}var h=o(l,"offsetx",0)+o(l,"startx",0),f=o(l,"offsety",0)+o(l,"starty",0);n.push({name:r.name+l.name,image:l.image,x:r.x+h+l.x,y:r.y+f+l.y,alpha:r.opacity*l.opacity,visible:r.visible&&l.visible,properties:o(l,"properties",{})})}return n};c.exports=s},46594:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(51233),v=t(84101),s=t(91907),i=t(62644),n=t(80341),e=t(6641),r=t(87010),l=t(12635),a=t(22611),h=t(28200),f=t(24619),u=function(d,m,x){var S=i(m),T=new r({width:S.width,height:S.height,name:d,tileWidth:S.tilewidth,tileHeight:S.tileheight,orientation:e(S.orientation),format:n.TILED_JSON,version:S.version,properties:S.properties,renderOrder:S.renderorder,infinite:S.infinite});T.orientation===s.HEXAGONAL&&(T.hexSideLength=S.hexsidelength,T.staggerAxis=S.staggeraxis,T.staggerIndex=S.staggerindex),T.layers=h(S,x),T.images=l(S);var C=f(S);return T.tilesets=C.tilesets,T.imageCollections=C.imageCollections,T.objects=a(S),T.tiles=v(T),o(T),T};c.exports=u},52205:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18254),v=t(29920),s=function(e){return{x:e.x,y:e.y}},i=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,r,l){r===void 0&&(r=0),l===void 0&&(l=0);var a=o(e,i);if(a.x+=r,a.y+=l,e.gid){var h=v(e.gid);a.gid=h.gid,a.flippedHorizontal=h.flippedHorizontal,a.flippedVertical=h.flippedVertical,a.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?a.polyline=e.polyline.map(s):e.polygon?a.polygon=e.polygon.map(s):e.ellipse?a.ellipse=e.ellipse:e.text?a.text=e.text:e.point?a.point=!0:a.rectangle=!0;return a};c.exports=n},22611:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=t(52205),s=t(48700),i=t(79677),n=function(e){for(var r=[],l=[],a=i(e);a.i<a.layers.length||l.length>0;){if(a.i>=a.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=l.pop();continue}var h=a.layers[a.i];if(a.i++,h.opacity*=a.opacity,h.visible=a.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var f=i(e,h,a);l.push(a),a=f}continue}h.name=a.name+h.name;for(var u=a.x+o(h,"startx",0)+o(h,"offsetx",0),d=a.y+o(h,"starty",0)+o(h,"offsety",0),m=[],x=0;x<h.objects.length;x++){var S=v(h.objects[x],u,d);m.push(S)}var T=new s(h);T.objects=m,r.push(T)}return r};c.exports=n},28200:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41868),v=t(91907),s=t(79677),i=t(6641),n=t(95540),e=t(14977),r=t(29920),l=t(23029),a=function(h,f){for(var u=n(h,"infinite",!1),d=[],m=[],x=s(h);x.i<x.layers.length||m.length>0;){if(x.i>=x.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}x=m.pop();continue}var S=x.layers[x.i];if(x.i++,S.type!=="tilelayer"){if(S.type==="group"){var T=s(h,S,x);m.push(x),x=T}continue}if(S.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+S.name+"'");continue}else if(S.encoding&&S.encoding==="base64"){if(S.chunks)for(var C=0;C<S.chunks.length;C++)S.chunks[C].data=o(S.chunks[C].data);S.data&&(S.data=o(S.data)),delete S.encoding}var A,w,P,F,L=[],O=0;if(u){var I=n(S,"startx",0)+S.x,B=n(S,"starty",0)+S.y;A=new e({name:x.name+S.name,id:S.id,x:x.x+n(S,"offsetx",0)+I*h.tilewidth,y:x.y+n(S,"offsety",0)+B*h.tileheight,width:S.width,height:S.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:x.opacity*S.opacity,visible:x.visible&&S.visible,properties:n(S,"properties",[]),orientation:i(h.orientation)}),A.orientation===v.HEXAGONAL&&(A.hexSideLength=h.hexsidelength,A.staggerAxis=h.staggeraxis,A.staggerIndex=h.staggerindex);for(var U=0;U<S.height;U++){L[U]=[null];for(var H=0;H<S.width;H++)L[U][H]=null}for(U=0,st=S.chunks.length;U<st;U++)for(var Z=S.chunks[U],tt=Z.x-I,X=Z.y-B,k=0,D=0,z=Z.data.length;D<z;D++){var Y=O+tt,j=k+X;w=r(Z.data[D]),w.gid>0?(P=new l(A,w.gid,Y,j,h.tilewidth,h.tileheight),P.rotation=w.rotation,P.flipX=w.flipped,L[j][Y]=P):(F=f?null:new l(A,-1,Y,j,h.tilewidth,h.tileheight),L[j][Y]=F),O++,O===Z.width&&(k++,O=0)}}else{A=new e({name:x.name+S.name,id:S.id,x:x.x+n(S,"offsetx",0)+S.x,y:x.y+n(S,"offsety",0)+S.y,width:S.width,height:S.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:x.opacity*S.opacity,visible:x.visible&&S.visible,properties:n(S,"properties",[]),orientation:i(h.orientation)}),A.orientation===v.HEXAGONAL&&(A.hexSideLength=h.hexsidelength,A.staggerAxis=h.staggeraxis,A.staggerIndex=h.staggerindex);for(var J=[],it=0,st=S.data.length;it<st;it++)w=r(S.data[it]),w.gid>0?(P=new l(A,w.gid,O,L.length,h.tilewidth,h.tileheight),P.rotation=w.rotation,P.flipX=w.flipped,J.push(P)):(F=f?null:new l(A,-1,O,L.length,h.tilewidth,h.tileheight),J.push(F)),O++,O===S.width&&(L.push(J),O=0,J=[])}A.data=L,d.push(A)}return d};c.exports=a},24619:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),v=t(16536),s=t(52205),i=t(57880),n=function(e){for(var r=[],l=[],a=null,h,f=0;f<e.tilesets.length;f++){var u=e.tilesets[f];if(u.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(u.image){var d=new o(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(e.version>1){var m=void 0,x=void 0;if(Array.isArray(u.tiles)){m=m||{},x=x||{};for(var S=0;S<u.tiles.length;S++){var T=u.tiles[S];if(T.properties){var C={};T.properties.forEach(function(U){C[U.name]=U.value}),x[T.id]=C}if(T.objectgroup&&((m[T.id]||(m[T.id]={})).objectgroup=T.objectgroup,T.objectgroup.objects)){var A=T.objectgroup.objects.map(function(U){return s(U)});m[T.id].objectgroup.objects=A}T.animation&&((m[T.id]||(m[T.id]={})).animation=T.animation),T.type&&((m[T.id]||(m[T.id]={})).type=T.type)}}Array.isArray(u.wangsets)&&(m=m||{},x=x||{},i(u.wangsets,m)),m&&(d.tileData=m,d.tileProperties=x)}else if(u.tileproperties&&(d.tileProperties=u.tileproperties),u.tiles){d.tileData=u.tiles;for(h in d.tileData){var w=d.tileData[h].objectgroup;if(w&&w.objects){var P=w.objects.map(function(U){return s(U)});d.tileData[h].objectgroup.objects=P}}}d.updateTileData(u.imagewidth,u.imageheight),r.push(d)}else{var F=new v(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties),L=0;for(S=0;S<u.tiles.length;S++){T=u.tiles[S];var O=T.image,I=parseInt(T.id,10),B=u.firstgid+I;F.addImage(B,O),L=Math.max(I,L)}F.maxId=L,l.push(F)}a&&(a.lastgid=u.firstgid-1),a=u}return{tilesets:r,imageCollections:l}};c.exports=n},57880:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var v=0;v<t.length;v++){var s=t[v],i=v;if(s.name&&s.name!==""&&(i=s.name),Array.isArray(s.wangtiles)&&s.wangtiles.length>0){var n={},e={},r,l,a;if(Array.isArray(s.edgecolors))for(r=0;r<s.edgecolors.length;r++)a=1+r,l=s.edgecolors[r],l.name!==""&&(n[a]=l.name);if(Array.isArray(s.cornercolors))for(r=0;r<s.cornercolors.length;r++)a=1+r,l=s.cornercolors[r],l.name!==""&&(e[a]=l.name);if(Array.isArray(s.colors))for(r=0;r<s.colors.length;r++)l=s.colors[r],a=1+r,l.name!==""&&(n[a]=e[a]=l.name);for(var h=[n,e,n,e,n,e,n,e],f=0;f<s.wangtiles.length;f++){var u=s.wangtiles[f],d=o[u.tileid]||(o[u.tileid]={});d=d.wangid||(d.wangid={});for(var m=[],x=0;x<Math.min(h.length,u.wangid.length);x++){if(l=u.wangid[x],l===0){m.push(void 0);continue}var S=h[x][l];if(S!==void 0){m.push(S);continue}m.push(l)}d[i]=m}}}};c.exports=y},96761:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37277),s=t(44594),i=t(94880),n=t(72905),e=new o({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(s.BOOT,this.boot,this),l.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var r=this.systems.events;r.on(s.PRE_UPDATE,this.preUpdate,this),r.on(s.UPDATE,this.update,this),r.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var l;return r instanceof i?(l=r,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new i(r),this._pendingInsertion.push(l),l},delayedCall:function(r,l,a,h){return this.addEvent({delay:r,callback:l,args:a,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var a=r[l];n(this._pendingRemoval,a),n(this._pendingInsertion,a),n(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(r===0&&l===0)){var a,h;for(a=0;a<r;a++){h=this._pendingRemoval[a];var f=this._active.indexOf(h);f>-1&&this._active.splice(f,1),h.destroy()}for(a=0;a<l;a++)h=this._pendingInsertion[a],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,l){if(this.now=r,!this.paused){l*=this.timeScale;for(var a=0;a<this._active.length;a++){var h=this._active[a];if(!h.paused&&(h.elapsed+=l*h.timeScale,h.elapsed>=h.delay)){var f=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,f>=h.delay)for(;f>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),f-=h.delay,h.repeatCount--;h.elapsed=f,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(s.PRE_UPDATE,this.preUpdate,this),l.off(s.UPDATE,this.update,this),l.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),c.exports=e},96120:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),s=t(39429),i=t(95540),n=t(44594),e=t(89809),r=new o({Extends:v,initialize:function(a,h){v.call(this),this.scene=a,this.systems=a.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(n.PRE_UPDATE,this.preUpdate,this),f.on(n.UPDATE,this.update,this),f.once(n.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(l,a){this.paused||(this.elapsed+=a)},update:function(){if(!(this.paused||this.complete)){var l,a=this.events,h=!1,f=this.systems,u;for(l=0;l<a.length;l++){var d=a[l];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,u=d.target?d.target:this,d.if&&!d.if.call(u,d))continue;if(d.once&&(h=!0),d.set&&d.target)for(var m in d.set)d.target[m]=d.set[m];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(u),d.tween&&f.tweens.add(d.tween),d.sound&&(typeof d.sound=="string"?f.sound.play(d.sound):f.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,u),d.run&&d.run.call(u),d.stop&&this.stop()}}if(h)for(l=0;l<a.length;l++)a[l].complete&&a[l].once&&(a.splice(l,1),l--);this.totalComplete>=a.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var a=0;a<this.events.length;a++)this.events[a].complete=!1,l||(this.events[a].repeat=0);return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var a=this.events,h=0;a.length>0&&(h=a[a.length-1].time);for(var f=0;f<l.length;f++){var u=l[f],d=i(u,"at",0),m=i(u,"in",null);m!==null&&(d=this.elapsed+m);var x=i(u,"from",null);x!==null&&(d=h+x),a.push({complete:!1,time:d,repeat:0,if:i(u,"if",null),run:i(u,"run",null),loop:i(u,"loop",null),event:i(u,"event",null),target:i(u,"target",null),set:i(u,"set",null),tween:i(u,"tween",null),sound:i(u,"sound",null),once:i(u,"once",!1),stop:i(u,"stop",!1)}),h=d}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(n.PRE_UPDATE,this.preUpdate,this),l.off(n.UPDATE,this.update,this),l.off(n.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});s.register("timeline",function(l){return new r(this.scene,l)}),c.exports=r},94880:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),s=new o({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(i){if(this.delay=v(i,"delay",0),this.repeat=v(i,"repeat",0),this.loop=v(i,"loop",!1),this.callback=v(i,"callback",void 0),this.callbackScope=v(i,"callbackScope",this),this.args=v(i,"args",[]),this.timeScale=v(i,"timeScale",1),this.startAt=v(i,"startAt",0),this.paused=v(i,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var i=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/i}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(i){i===void 0&&(i=!1),this.elapsed=this.delay,this.hasDispatched=!i,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=s},35945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},89809:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(35945)}},90291:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),v=t(83419),s=t(43491),i=t(88032),n=t(37277),e=t(44594),r=t(93109),l=t(86081),a=t(8357),h=t(43960),f=t(26012),u=new v({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var m=[],x=0;x<d.length;x++){var S=d[x];S instanceof l||S instanceof h?m.push(S):Array.isArray(S.tweens)?m.push(f(this,S)):m.push(a(this,S))}return m.length===1?m[0]:m},add:function(d){var m=d,x=this.tweens;return m instanceof l||m instanceof h||(Array.isArray(m.tweens)?m=f(this,m):m=a(this,m)),x.push(m.reset()),m},addMultiple:function(d){for(var m,x=[],S=this.tweens,T=0;T<d.length;T++)m=d[T],m instanceof l||m instanceof h||(Array.isArray(m.tweens)?m=f(this,m):m=a(this,m)),S.push(m.reset()),x.push(m);return x},chain:function(d){var m=f(this,d);return this.tweens.push(m.init()),m},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var m=i(this,d);return this.tweens.push(m.reset()),m},stagger:function(d,m){return r(d,m)},setLagSmooth:function(d,m){return d===void 0&&(d=1/1e-8),m===void 0&&(m=0),this.maxLag=d,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var x=this.prevTime-this.startTime,S=x-this.nextTime,T=x-this.time*1e3;return S>0||d?(x/=1e3,this.time=x,this.nextTime+=S+(S>=this.gap?4:this.gap-S)):T=0,T},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var m=this.getDelta(d);if(!(m<=0)){this.processing=!0;var x,S,T=[],C=this.tweens;for(x=0;x<C.length;x++)S=C[x],S.update(m)&&T.push(S);var A=T.length;if(A&&C.length>0){for(x=0;x<A;x++){S=T[x];var w=C.indexOf(S);w>-1&&(S.isPendingRemove()||S.isDestroyed())&&(C.splice(w,1),S.destroy())}T.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(o(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,m){var x,S=[null];for(x=1;x<arguments.length;x++)S.push(arguments[x]);return this.tweens.forEach(function(T){S[0]=T,d.apply(m,S)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var m=[],x=this.tweens;Array.isArray(d)?d=s(d):d=[d];for(var S=d.length,T=0;T<x.length;T++)for(var C=x[T],A=0;A<S;A++)!C.isDestroyed()&&C.hasTarget(d[A])&&m.push(C);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var m=this.tweens,x,S=0;S<m.length;S++)if(x=m[S],x.isPlaying()&&x.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,m=0;m<d.length;m++)d[m].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var m=this.getTweensOf(d),x=0;x<m.length;x++)m[x].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",u,"tweens"),c.exports=u},57355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){return t&&t.hasOwnProperty(o)?t[o]:v};c.exports=y},6113:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62640),v=t(35355),s=function(i,n){var e=o.Power0;if(typeof i=="string")if(o.hasOwnProperty(i))e=o[i];else{var r="";if(i.indexOf(".")){r=i.substring(i.indexOf(".")+1);var l=r.toLowerCase();l==="in"?r="easeIn":l==="out"?r="easeOut":l==="inout"&&(r="easeInOut")}i=v(i.substring(0,i.indexOf(".")+1)+r),o.hasOwnProperty(i)&&(e=o[i])}else typeof i=="function"&&(e=i);if(!n)return e;var a=n.slice(0);return a.unshift(0),function(h){return a[0]=h,e.apply(this,a)}};c.exports=s},91389:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89318),v=t(77259),s=t(28392),i={bezier:o,catmull:v,catmullrom:v,linear:s},n=function(e){if(e===null)return null;var r=i.linear;return typeof e=="string"?i.hasOwnProperty(e)&&(r=i[e]):typeof e=="function"&&(r=e),r};c.exports=n},55292:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s;if(t.hasOwnProperty(o)){var i=typeof t[o];i==="function"?s=function(n,e,r,l,a,h){return t[o](n,e,r,l,a,h)}:s=function(){return t[o]}}else typeof v=="function"?s=v:s=function(){return v};return s};c.exports=y},82985:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81076),v=function(s){var i,n=[];if(s.hasOwnProperty("props"))for(i in s.props)i.substring(0,1)!=="_"&&n.push({key:i,value:s.props[i]});else for(i in s)o.indexOf(i)===-1&&i.substring(0,1)!=="_"&&n.push({key:i,value:s[i]});return n};c.exports=v},62329:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v=function(s){var i=o(s,"targets",null);return i===null||(typeof i=="function"&&(i=i.call()),Array.isArray(i)||(i=[i])),i};c.exports=v},17777:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),v=t(99472);function s(l){return!!l.getActive&&typeof l.getActive=="function"}function i(l){return!!l.getStart&&typeof l.getStart=="function"}function n(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return i(l)||n(l)||s(l)}var r=function(l,a){var h,f=function(Z,tt,X){return X},u=function(Z,tt,X){return X},d=null,m=typeof a;if(m==="number")f=function(){return a};else if(Array.isArray(a))u=function(){return a[0]},f=function(){return a[a.length-1]};else if(m==="string"){var x=a.toLowerCase(),S=x.substring(0,6)==="random",T=x.substring(0,3)==="int";if(S||T){var C=x.indexOf("("),A=x.indexOf(")"),w=x.indexOf(",");if(C&&A&&w){var P=parseFloat(x.substring(C+1,w)),F=parseFloat(x.substring(w+1,A));S?f=function(){return v(P,F)}:f=function(){return o(P,F)}}else throw new Error("invalid random() format")}else{x=x[0];var L=parseFloat(a.substr(2));switch(x){case"+":f=function(Z,tt,X){return X+L};break;case"-":f=function(Z,tt,X){return X-L};break;case"*":f=function(Z,tt,X){return X*L};break;case"/":f=function(Z,tt,X){return X/L};break;default:f=function(){return parseFloat(a)}}}}else if(m==="function")f=a;else if(m==="object")if(e(a))s(a)&&(d=a.getActive),n(a)&&(f=a.getEnd),i(a)&&(u=a.getStart);else if(a.hasOwnProperty("value"))h=r(l,a.value);else{var O=a.hasOwnProperty("to"),I=a.hasOwnProperty("from"),B=a.hasOwnProperty("start");if(O&&(I||B)){if(h=r(l,a.to),B){var U=r(l,a.start);h.getActive=U.getEnd}if(I){var H=r(l,a.from);h.getStart=H.getEnd}}}return h||(h={getActive:d,getEnd:f,getStart:u}),h};c.exports=r},88032:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),v=t(69902),s=t(23568),i=t(57355),n=t(6113),e=t(55292),r=t(35154),l=t(17777),a=t(269),h=t(86081),f=function(u,d,m){if(d instanceof h)return d.parent=u,d;m===void 0?m=v:m=a(v,m);var x=r(d,"from",0),S=r(d,"to",1),T=[{value:x}],C=r(d,"delay",m.delay),A=r(d,"easeParams",m.easeParams),w=r(d,"ease",m.ease),P=l("value",S),F=new h(u,T),L=F.add(0,"value",P.getEnd,P.getStart,P.getActive,n(r(d,"ease",w),r(d,"easeParams",A)),e(d,"delay",C),r(d,"duration",m.duration),i(d,"yoyo",m.yoyo),r(d,"hold",m.hold),r(d,"repeat",m.repeat),r(d,"repeatDelay",m.repeatDelay),!1,!1);L.start=x,L.current=x,F.completeDelay=s(d,"completeDelay",0),F.loop=Math.round(s(d,"loop",0)),F.loopDelay=Math.round(s(d,"loopDelay",0)),F.paused=i(d,"paused",!1),F.persist=i(d,"persist",!1),F.callbackScope=r(d,"callbackScope",F);for(var O=o.TYPES,I=0;I<O.length;I++){var B=O[I],U=r(d,B,!1);if(U){var H=r(d,B+"Params",[]);F.setCallback(B,U,H)}}return F};c.exports=f},93109:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6113),v=t(35154),s=t(36383),i=function(n,e){e===void 0&&(e={});var r,l=v(e,"start",0),a=v(e,"ease",null),h=v(e,"grid",null),f=v(e,"from",0),u=f==="first",d=f==="center",m=f==="last",x=typeof f=="number",S=Array.isArray(n),T=parseFloat(S?n[0]:n),C=S?parseFloat(n[1]):0,A=Math.max(T,C);if(S&&(l+=T),h){var w=h[0],P=h[1],F=0,L=0,O=0,I=0,B=[];m?(F=w-1,L=P-1):x?(F=f%w,L=Math.floor(f/w)):d&&(F=(w-1)/2,L=(P-1)/2);for(var U=s.MIN_SAFE_INTEGER,H=0;H<P;H++){B[H]=[];for(var Z=0;Z<w;Z++){O=F-Z,I=L-H;var tt=Math.sqrt(O*O+I*I);tt>U&&(U=tt),B[H][Z]=tt}}}var X=a?o(a):null;return h?r=function(k,D,z,Y){var j=0,J=Y%w,it=Math.floor(Y/w);J>=0&&J<w&&it>=0&&it<P&&(j=B[it][J]);var st;if(S){var at=C-T;X?st=j/U*at*X(j/U):st=j/U*at}else X?st=j*T*X(j/U):st=j*T;return st+l}:r=function(k,D,z,Y,j){j--;var J;u?J=Y:d?J=Math.abs(j/2-Y):m?J=j-Y:x&&(J=Math.abs(f-Y));var it;if(S){var st;d?st=(C-T)/j*(J*2):st=(C-T)/j*J,X?it=st*X(J/j):it=st}else X?it=j*A*X(J/j):it=J*T;return it+l},r};c.exports=i},8357:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),v=t(69902),s=t(23568),i=t(57355),n=t(6113),e=t(91389),r=t(55292),l=t(82985),a=t(62329),h=t(35154),f=t(17777),u=t(269),d=t(86081),m=function(x,S,T){if(S instanceof d)return S.parent=x,S;T===void 0?T=v:T=u(v,T);var C=a(S);!C&&T.targets&&(C=T.targets);for(var A=l(S),w=h(S,"delay",T.delay),P=h(S,"duration",T.duration),F=h(S,"easeParams",T.easeParams),L=h(S,"ease",T.ease),O=h(S,"hold",T.hold),I=h(S,"repeat",T.repeat),B=h(S,"repeatDelay",T.repeatDelay),U=i(S,"yoyo",T.yoyo),H=i(S,"flipX",T.flipX),Z=i(S,"flipY",T.flipY),tt=h(S,"interpolation",T.interpolation),X=function(vt,xt,Ct,yt){if(Ct==="texture"){var Pt=yt,Gt=void 0;Array.isArray(yt)?(Pt=yt[0],Gt=yt[1]):yt.hasOwnProperty("value")?(Pt=yt.value,Array.isArray(yt.value)?(Pt=yt.value[0],Gt=yt.value[1]):typeof yt.value=="string"&&(Pt=yt.value)):typeof yt=="string"&&(Pt=yt),vt.addFrame(xt,Pt,Gt,r(yt,"delay",w),h(yt,"duration",P),h(yt,"hold",O),h(yt,"repeat",I),h(yt,"repeatDelay",B),i(yt,"flipX",H),i(yt,"flipY",Z))}else{var Ut=f(Ct,yt),Nt=e(h(yt,"interpolation",tt));vt.add(xt,Ct,Ut.getEnd,Ut.getStart,Ut.getActive,n(h(yt,"ease",L),h(yt,"easeParams",F)),r(yt,"delay",w),h(yt,"duration",P),i(yt,"yoyo",U),h(yt,"hold",O),h(yt,"repeat",I),h(yt,"repeatDelay",B),i(yt,"flipX",H),i(yt,"flipY",Z),Nt,Nt?yt:null)}},k=new d(x,C),D=0;D<A.length;D++)for(var z=A[D].key,Y=A[D].value,j=0;j<C.length;j++)z==="scale"&&!C[j].hasOwnProperty("scale")?(X(k,j,"scaleX",Y),X(k,j,"scaleY",Y)):X(k,j,z,Y);k.completeDelay=s(S,"completeDelay",0),k.loop=Math.round(s(S,"loop",0)),k.loopDelay=Math.round(s(S,"loopDelay",0)),k.paused=i(S,"paused",!1),k.persist=i(S,"persist",!1),k.callbackScope=h(S,"callbackScope",k);for(var J=o.TYPES,it=0;it<J.length;it++){var st=J[it],at=h(S,st,!1);if(at){var ft=h(S,st+"Params",[]);k.setCallback(st,at,ft)}}return k};c.exports=m},26012:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),v=t(23568),s=t(57355),i=t(62329),n=t(35154),e=t(8357),r=t(43960),l=function(a,h){if(h instanceof r)return h.parent=a,h;var f=new r(a);f.startDelay=n(h,"delay",0),f.completeDelay=v(h,"completeDelay",0),f.loop=Math.round(v(h,"loop",n(h,"repeat",0))),f.loopDelay=Math.round(v(h,"loopDelay",n(h,"repeatDelay",0))),f.paused=s(h,"paused",!1),f.persist=s(h,"persist",!1),f.callbackScope=n(h,"callbackScope",f);var u,d=o.TYPES;for(u=0;u<d.length;u++){var m=d[u],x=n(h,m,!1);if(x){var S=n(h,m+"Params",[]);f.setCallback(m,x,S)}}var T=n(h,"tweens",null);if(Array.isArray(T)){var C=[],A=i(h),w=void 0;for(A&&(w={targets:A}),u=0;u<T.length;u++)C.push(e(f,T[u],w));f.add(C)}return f};c.exports=l},30231:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},98540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},67233:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},2859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},98336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},25764:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},32193:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},84371:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},70766:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},55659:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},842:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};c.exports=o},70402:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),s=t(842),i=t(86353),n=new o({Extends:v,initialize:function(r){v.call(this),this.parent=r,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=i.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(s.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(s.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(s.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(s.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(s.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,r,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:r,params:l}),this},setPendingState:function(){this.state=i.PENDING},setActiveState:function(){this.state=i.ACTIVE},setLoopDelayState:function(){this.state=i.LOOP_DELAY},setCompleteDelayState:function(){this.state=i.COMPLETE_DELAY},setStartDelayState:function(){this.state=i.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=i.PENDING_REMOVE},setRemovedState:function(){this.state=i.REMOVED},setFinishedState:function(){this.state=i.FINISHED},setDestroyedState:function(){this.state=i.DESTROYED},isPending:function(){return this.state===i.PENDING},isActive:function(){return this.state===i.ACTIVE},isLoopDelayed:function(){return this.state===i.LOOP_DELAY},isCompleteDelayed:function(){return this.state===i.COMPLETE_DELAY},isStartDelayed:function(){return this.state===i.START_DELAY},isPendingRemove:function(){return this.state===i.PENDING_REMOVE},isRemoved:function(){return this.state===i.REMOVED},isFinished:function(){return this.state===i.FINISHED},isDestroyed:function(){return this.state===i.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=n},95042:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(842),s=t(86353),i=new o({initialize:function(e,r,l,a,h,f,u,d,m,x){this.tween=e,this.targetIndex=r,this.duration=a,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=h,this.hold=f,this.repeat=u,this.repeatDelay=d,this.repeatCounter=0,this.flipX=m,this.flipY=x,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=s.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=s.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=s.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=s.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=s.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=s.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=s.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=s.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===s.CREATED},isDelayed:function(){return this.state===s.DELAY},isPendingRender:function(){return this.state===s.PENDING_RENDER},isPlayingForward:function(){return this.state===s.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===s.PLAYING_BACKWARD},isHolding:function(){return this.state===s.HOLD_DELAY},isRepeating:function(){return this.state===s.REPEAT_DELAY},isComplete:function(){return this.state===s.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,r=this.targetIndex,l=n.targets[r],a=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,a,0,r,e,n),this.repeatCounter=this.repeat===-1?s.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var f=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=f*s.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,r){var l=this.tween,a=l.totalTargets,h=this.targetIndex,f=l.targets[h],u=this.key,d=u!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||r)&&(this.start=this.getStartValue(f,u,this.start,h,a,l)),r){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,u,this.start,h,a,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,d&&(this.current=this.start,f[u]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=i},69902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=y},81076:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),v=t(83419),s=t(842),i=t(44603),n=t(39429),e=t(36383),r=t(86353),l=t(48177),a=t(42220),h=new v({Extends:o,initialize:function(u,d){o.call(this,u),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,u,d,m,x,S,T,C,A,w,P,F,L,O,I,B){var U=new l(this,f,u,d,m,x,S,T,C,A,w,P,F,L,O,I,B);return this.totalData=this.data.push(U),U},addFrame:function(f,u,d,m,x,S,T,C,A,w){var P=new a(this,f,u,d,m,x,S,T,C,A,w);return this.totalData=this.data.push(P),P},getValue:function(f){f===void 0&&(f=0);var u=null;return this.data&&(u=this.data[f].current),u},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,u,d){if(d===void 0&&(d=!1),f!=="texture")for(var m=0;m<this.totalData;m++){var x=this.data[m];x.key===f&&(x.isPlayingForward()||x.isPlayingBackward())&&(x.end=u,d&&(x.start=x.current))}return this},restart:function(){switch(this.state){case r.REMOVED:case r.FINISHED:this.seek(),this.parent.makeActive(this);break;case r.PENDING:case r.PENDING_REMOVE:this.parent.reset(this);break;case r.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,u,d){if(f===void 0&&(f=0),u===void 0&&(u=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,f>0){for(var x=Math.floor(f/u),S=f-x*u,T=0;T<x;T++)this.update(u);S>0&&this.update(S)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var u=this.data,d=0;d<this.totalData;d++)u[d].reset(f);this.duration=Math.max(this.duration,.01);var m=this.duration,x=this.completeDelay,S=this.loopCounter,T=this.loopDelay;S>0?this.totalDuration=m+x+(m+T)*S:this.totalDuration=m+x},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=r.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),f=0));var u=!1;if(this.isActive())for(var d=this.data,m=0;m<this.totalData;m++)d[m].update(f)&&(u=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),u||this.nextState();var x=this.isPendingRemove();return x&&this.persist&&(this.setFinishedState(),x=!1),x},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,u){if(!this.isSeeking){this.emit(f,this,this.targets);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(f){return this.scene.sys.tweens.add(f)}),i.register("tween",function(f){return this.scene.sys.tweens.create(f)}),c.exports=h},43960:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),v=t(70402),s=t(83419),i=t(842),n=t(44603),e=t(39429),r=t(86353),l=new s({Extends:v,initialize:function(h){v.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?r.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(i.TWEEN_ACTIVE,"onActive"),this},add:function(a){var h=this.parent.create(a);Array.isArray(h)||(h=[h]);for(var f=this.data,u=0;u<h.length;u++){var d=h[u];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(a){return o(this.data,a),a.setRemovedState(),a===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(a){for(var h=this.data,f=0;f<this.totalData;f++)if(h[f].hasTarget(a))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(a){return a.seek(),a.setActiveState(),this},makeActive:function(a){return a.reset(),a.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(i.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var a=this.data,h=this.totalData,f=0;f<h;f++)a[f].reset(!1);this.currentIndex=0,this.currentTween=a[0]},update:function(a){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;a*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(a):this.isCompleteDelayed()?this.updateCompleteDelay(a):this.isStartDelayed()&&(a=this.updateStartCountdown(a));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(a)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(a){this.currentIndex=a,this.currentTween=this.data[a],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(i.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(a,h){this.emit(a,this);var f=this.callbacks[h];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(a){return this.scene.sys.tweens.chain(a)}),n.register("tweenchain",function(a){return this.scene.sys.tweens.create(a)}),c.exports=l},48177:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),v=t(45319),s=t(83419),i=t(842),n=new s({Extends:o,initialize:function(r,l,a,h,f,u,d,m,x,S,T,C,A,w,P,F,L){o.call(this,r,l,m,x,S,T,C,A,w,P),this.key=a,this.getActiveValue=u,this.getEndValue=h,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=L},reset:function(e){o.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex],l=this.key;e&&(r[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(r[l]=this.getActiveValue(r,l,0))},update:function(e){var r=this.tween,l=r.totalTargets,a=this.targetIndex,h=r.targets[a],f=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(i.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,f,h[f],a,l,r),this.end=this.getEndValue(h,f,this.start,a,l,r),this.current=this.start,h[f]=this.start,this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var m=this.elapsed,x=this.duration,S=0,T=!1;m+=e,m>=x?(S=m-x,m=x,T=!0):m<0&&(m=0);var C=v(m/x,0,1);if(this.elapsed=m,this.progress=C,this.previous=this.current,T)u?(this.current=this.end,h[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(S)):(this.current=this.start,h[f]=this.start,this.setStateFromStart(S));else{u||(C=1-C);var A=this.ease(C);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,h[f]=this.current}this.dispatchEvent(i.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var l=this.tween;if(!l.isSeeking){var a=l.targets[this.targetIndex],h=this.key,f=this.current,u=this.previous;l.emit(e,l,h,a,f,u);var d=l.callbacks[r];d&&d.func.apply(l.callbackScope,[l,a,h,f,u].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=n},42220:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),v=t(45319),s=t(83419),i=t(842),n=new s({Extends:o,initialize:function(r,l,a,h,f,u,d,m,x,S,T){o.call(this,r,l,f,u,!1,d,m,x,S,T),this.key="texture",this.startTexture=null,this.endTexture=a,this.startFrame=null,this.endFrame=h,this.yoyo=m!==0},reset:function(e){o.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=r.texture.key,this.startFrame=r.frame.name),e&&r.setTexture(this.startTexture,this.startFrame)},update:function(e){var r=this.tween,l=this.targetIndex,a=r.targets[l];if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(i.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&a.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),f=this.isPlayingBackward();if(h||f){var u=this.elapsed,d=this.duration,m=0,x=!1;u+=e,u>=d?(m=u-d,u=d,x=!0):u<0&&(u=0);var S=v(u/d,0,1);this.elapsed=u,this.progress=S,x&&(h?(a.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(a.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(i.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var l=this.tween;if(!l.isSeeking){var a=l.targets[this.targetIndex],h=this.key;l.emit(e,l,h,a);var f=l.callbacks[r];f&&f.func.apply(l.callbackScope,[l,a,h].concat(f.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=n},86353:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=y},83419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,r){var l=r?n[e]:Object.getOwnPropertyDescriptor(n,e);return!r&&l.value&&typeof l.value=="object"&&(l=l.value),l&&y(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function o(n,e){var r=Object.getOwnPropertyDescriptor(n,e);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function v(n,e,r,l){for(var a in e)if(e.hasOwnProperty(a)){var h=t(e,a,r);if(h!==!1){var f=l||n;if(o(f.prototype,a)){if(i.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,a,h)}else n.prototype[a]=e[a]}}function s(n,e){if(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++)v(n,e[r].prototype||e[r])}}function i(n){n||(n={});var e,r;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var l=n.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,r=n.Extends,delete n.Extends):e.prototype.constructor=e;var a=null;return n.Mixins&&(a=n.Mixins,delete n.Mixins),s(e,a),v(e,n,!0,r),e}i.extend=v,i.mixin=s,i.ignoreFinals=!1,c.exports=i},29747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};c.exports=y},20242:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return null};c.exports=y},71146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i){if(i===void 0&&(i=t),v>0){var n=v-t.length;if(n<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.push(o),s&&s.call(i,o),o):null;for(var e=o.length-1;e>=0;)t.indexOf(o[e])!==-1&&o.splice(e,1),e--;if(e=o.length,e===0)return null;v>0&&e>n&&(o.splice(n),e=n);for(var r=0;r<e;r++){var l=o[r];t.push(l),s&&s.call(i,l)}return o};c.exports=y},51067:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s,i,n){if(v===void 0&&(v=0),n===void 0&&(n=t),s>0){var e=s-t.length;if(e<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.splice(v,0,o),i&&i.call(n,o),o):null;for(var r=o.length-1;r>=0;)t.indexOf(o[r])!==-1&&o.pop(),r--;if(r=o.length,r===0)return null;s>0&&r>e&&(o.splice(e),r=e);for(var l=r-1;l>=0;l--){var a=o[l];t.splice(v,0,a),i&&i.call(n,a)}return o};c.exports=y},66905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.indexOf(o);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(o)),o};c.exports=y},21612:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(s,i,n,e,r){e===void 0&&(e=0),r===void 0&&(r=s.length);var l=0;if(o(s,e,r))for(var a=e;a<r;a++){var h=s[a];h[i]===n&&l++}return l};c.exports=v},95428:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s,i=[null];for(s=3;s<arguments.length;s++)i.push(arguments[s]);for(s=0;s<t.length;s++)i[0]=t[s],o.apply(v,i);return t};c.exports=y},36914:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(s,i,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=s.length),o(s,e,r)){var l,a=[null];for(l=5;l<arguments.length;l++)a.push(arguments[l]);for(l=e;l<r;l++)a[0]=s[l],i.apply(n,a)}return s};c.exports=v},81957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(o.length){if(o.length===1)return o[0]}else return NaN;var s=1,i,n;if(v){if(t<o[0][v])return o[0];for(;o[s][v]<t;)s++}else for(;o[s]<t;)s++;return s>o.length&&(s=o.length),v?(i=o[s-1][v],n=o[s][v],n-t<=t-i?o[s]:o[s-1]):(i=o[s-1],n=o[s],n-t<=t-i?n:i)};c.exports=y},43491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?y(t[v],o):o.push(t[v]);return o};c.exports=y},46710:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(s,i,n,e,r){e===void 0&&(e=0),r===void 0&&(r=s.length);var l=[];if(o(s,e,r))for(var a=e;a<r;a++){var h=s[a];(!i||i&&n===void 0&&h.hasOwnProperty(i)||i&&n!==void 0&&h[i]===n)&&l.push(h)}return l};c.exports=v},58731:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(s,i,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=s.length),o(s,e,r))for(var l=e;l<r;l++){var a=s[l];if(!i||i&&n===void 0&&a.hasOwnProperty(i)||i&&n!==void 0&&a[i]===n)return a}return null};c.exports=v},26546:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=t.length);var s=o+Math.floor(Math.random()*v);return t[s]===void 0?null:t[s]};c.exports=y},85835:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(o===v)return t;var s=t.indexOf(o),i=t.indexOf(v);if(s<0||i<0)throw new Error("Supplied items must be elements of the same array");return s>i||(t.splice(s,1),i===t.length-1?t.push(o):t.splice(i,0,o)),t};c.exports=y},83371:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(o===v)return t;var s=t.indexOf(o),i=t.indexOf(v);if(s<0||i<0)throw new Error("Supplied items must be elements of the same array");return s<i||(t.splice(s,1),i===0?t.unshift(o):t.splice(i,0,o)),t};c.exports=y},70864:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.indexOf(o);if(v>0){var s=t[v-1],i=t.indexOf(s);t[v]=s,t[i]=o}return t};c.exports=y},69693:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=t.indexOf(o);if(s===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return s!==v&&(t.splice(s,1),t.splice(v,0,o)),o};c.exports=y},40853:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.indexOf(o);if(v!==-1&&v<t.length-1){var s=t[v+1],i=t.indexOf(s);t[v]=s,t[i]=o}return t};c.exports=y},20283:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=[],n,e=!1;if((v||s)&&(e=!0,v||(v=""),s||(s="")),o<t)for(n=t;n>=o;n--)e?i.push(v+n.toString()+s):i.push(n);else for(n=t;n<=o;n++)e?i.push(v+n.toString()+s):i.push(n);return i};c.exports=y},593:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2284),v=function(s,i,n){s===void 0&&(s=0),i===void 0&&(i=null),n===void 0&&(n=1),i===null&&(i=s,s=0);for(var e=[],r=Math.max(o((i-s)/(n||1)),0),l=0;l<r;l++)e.push(s),s+=n;return e};c.exports=v},43886:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(v,s,i){var n=v[s];v[s]=v[i],v[i]=n}function t(v,s){return v<s?-1:v>s?1:0}var o=function(v,s,i,n,e){for(i===void 0&&(i=0),n===void 0&&(n=v.length-1),e===void 0&&(e=t);n>i;){if(n-i>600){var r=n-i+1,l=s-i+1,a=Math.log(r),h=.5*Math.exp(2*a/3),f=.5*Math.sqrt(a*h*(r-h)/r)*(l-r/2<0?-1:1),u=Math.max(i,Math.floor(s-l*h/r+f)),d=Math.min(n,Math.floor(s+(r-l)*h/r+f));o(v,s,u,d,e)}var m=v[s],x=i,S=n;for(y(v,i,s),e(v[n],m)>0&&y(v,i,n);x<S;){for(y(v,x,S),x++,S--;e(v[x],m)<0;)x++;for(;e(v[S],m)>0;)S--}e(v[i],m)===0?y(v,i,S):(S++,y(v,S,n)),S<=s&&(i=S+1),s<=S&&(n=S-1)}};c.exports=o},88492:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v=t(33680),s=function(n,e,r){for(var l=[],a=0;a<n.length;a++)for(var h=0;h<e.length;h++)for(var f=0;f<r;f++)l.push({a:n[a],b:e[h]});return l},i=function(n,e,r){var l=o(r,"max",0),a=o(r,"qty",1),h=o(r,"random",!1),f=o(r,"randomB",!1),u=o(r,"repeat",0),d=o(r,"yoyo",!1),m=[];if(f&&v(e),u===-1)if(l===0)u=0;else{var x=n.length*e.length*a;d&&(x*=2),u=Math.ceil(l/x)}for(var S=0;S<=u;S++){var T=s(n,e,a);h&&v(T),m=m.concat(T),d&&(T.reverse(),m=m.concat(T))}return l&&m.splice(l),m};c.exports=i},72905:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),v=function(s,i,n,e){e===void 0&&(e=s);var r;if(!Array.isArray(i))return r=s.indexOf(i),r!==-1?(o(s,r),n&&n.call(e,i),i):null;for(var l=i.length-1,a=[];l>=0;){var h=i[l];r=s.indexOf(h),r!==-1&&(o(s,r),a.push(h),n&&n.call(e,h)),l--}return a};c.exports=v},60248:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),v=function(s,i,n,e){if(e===void 0&&(e=s),i<0||i>s.length-1)throw new Error("Index out of bounds");var r=o(s,i);return n&&n.call(e,r),r};c.exports=v},81409:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(s,i,n,e,r){if(i===void 0&&(i=0),n===void 0&&(n=s.length),r===void 0&&(r=s),o(s,i,n)){var l=n-i,a=s.splice(i,l);if(e)for(var h=0;h<a.length;h++){var f=a[h];e.call(r,f)}return a}else return[]};c.exports=v},31856:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),v=function(s,i,n){i===void 0&&(i=0),n===void 0&&(n=s.length);var e=i+Math.floor(Math.random()*n);return o(s,e)};c.exports=v},42169:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=t.indexOf(o),i=t.indexOf(v);return s!==-1&&i===-1?(t[s]=v,!0):!1};c.exports=y},86003:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);for(var v=null,s=0;s<o;s++)v=t.shift(),t.push(v);return v};c.exports=y},49498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);for(var v=null,s=0;s<o;s++)v=t.pop(),t.unshift(v);return v};c.exports=y},82011:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){var i=t.length;if(o<0||o>i||o>=v||v>i){if(s)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=y},89545:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var v=t.indexOf(o);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(o)),o};c.exports=y},17810:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(s,i,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=s.length),o(s,e,r))for(var l=e;l<r;l++){var a=s[l];a.hasOwnProperty(i)&&(a[i]=n)}return s};c.exports=v},33680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=t.length-1;o>0;o--){var v=Math.floor(Math.random()*(o+1)),s=t[o];t[o]=t[v],t[v]=s}return t};c.exports=y},90126:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=/\D/g;return t.sort(function(v,s){return parseInt(v.replace(o,""),10)-parseInt(s.replace(o,""),10)}),t};c.exports=y},19133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){if(!(o>=t.length)){for(var v=t.length-1,s=t[o],i=o;i<v;i++)t[i]=t[i+1];return t.length=v,s}};c.exports=y},19186:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82264);function v(e,r){return String(e).localeCompare(r)}function s(e,r){var l=e.length;if(l<=1)return e;for(var a=new Array(l),h=1;h<l;h*=2){i(e,r,h,a);var f=e;e=a,a=f}return e}function i(e,r,l,a){var h=e.length,f=0,u=l*2,d,m,x,S,T;for(d=0;d<h;d+=u)for(m=d+l,x=m+l,m>h&&(m=h),x>h&&(x=h),S=d,T=m;;)if(S<m&&T<x)r(e[S],e[T])<=0?a[f++]=e[S++]:a[f++]=e[T++];else if(S<m)a[f++]=e[S++];else if(T<x)a[f++]=e[T++];else break}var n=function(e,r){if(r===void 0&&(r=v),!e||e.length<2)return e;if(o.features.stableSort)return e.sort(r);var l=s(e,r);return l!==e&&i(l,null,e.length,e),e};c.exports=n},25630:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(o===v)return t;var s=t.indexOf(o),i=t.indexOf(v);if(s<0||i<0)throw new Error("Supplied items must be elements of the same array");return t[s]=v,t[i]=o,t};c.exports=y},37105:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var o=t[0].length,v=1;v<t.length;v++)if(t[v].length!==o)return!1;return!0};c.exports=y},63362:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41836),v=t(86922),s=function(i){var n="";if(!v(i))return n;for(var e=0;e<i.length;e++){for(var r=0;r<i[e].length;r++){var l=i[e][r].toString();l!=="undefined"?n+=o(l,2):n+="?",r<i[e].length-1&&(n+=" |")}if(e<i.length-1){n+=`
`;for(var a=0;a<i[e].length;a++)n+="---",a<i[e].length-1&&(n+="+");n+=`
`}}return n};c.exports=s},92598:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.reverse()};c.exports=y},21224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0;o<t.length;o++)t[o].reverse();return t};c.exports=y},98717:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),v=function(s){return o(s,180)};c.exports=v},44657:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),v=function(s,i){i===void 0&&(i=1);for(var n=0;n<i;n++)s=o(s,90);return s};c.exports=v},37829:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86922),v=t(2429),s=function(i,n){if(n===void 0&&(n=90),!o(i))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")i=v(i),i.reverse();else if(n===-90||n===270||n==="rotateRight")i.reverse(),i=v(i);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<i.length;e++)i[e].reverse();i.reverse()}return i};c.exports=s},92632:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),v=function(s,i){i===void 0&&(i=1);for(var n=0;n<i;n++)s=o(s,-90);return s};c.exports=v},69512:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86003),v=t(49498),s=function(i,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?o(i,Math.abs(e)):v(i,e)),n!==0)for(var r=0;r<i.length;r++){var l=i[r];n<0?o(l,Math.abs(n)):v(l,n)}return i};c.exports=s},2429:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=t.length,v=t[0].length,s=new Array(v),i=0;i<v;i++){s[i]=new Array(o);for(var n=o-1;n>-1;n--)s[i][n]=t[n][i]}return s};c.exports=y},54915:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(o,v){for(var s=new Uint8Array(o),i=s.length,n=v?"data:"+v+";base64,":"",e=0;e<i;e+=3)n+=y[s[e]>>2],n+=y[(s[e]&3)<<4|s[e+1]>>4],n+=y[(s[e+1]&15)<<2|s[e+2]>>6],n+=y[s[e+2]&63];return i%3===2?n=n.substring(0,n.length-1)+"=":i%3===1&&(n=n.substring(0,n.length-2)+"=="),n};c.exports=t},53134:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),o=0;o<y.length;o++)t[y.charCodeAt(o)]=o;var v=function(s){s=s.substr(s.indexOf(",")+1);var i=s.length,n=i*.75,e=0,r,l,a,h;s[i-1]==="="&&(n--,s[i-2]==="="&&n--);for(var f=new ArrayBuffer(n),u=new Uint8Array(f),d=0;d<i;d+=4)r=t[s.charCodeAt(d)],l=t[s.charCodeAt(d+1)],a=t[s.charCodeAt(d+2)],h=t[s.charCodeAt(d+3)],u[e++]=r<<2|l>>4,u[e++]=(l&15)<<4|a>>2,u[e++]=(a&3)<<6|h&63;return f};c.exports=v},65839:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={};for(var v in t)Array.isArray(t[v])?o[v]=t[v].slice(0):o[v]=t[v];return o};c.exports=y},62644:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o,v,s;if(typeof t!="object"||t===null)return t;o=Array.isArray(t)?[]:{};for(s in t)v=t[s],o[s]=y(v);return o};c.exports=y},79291:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41212),v=function(){var s,i,n,e,r,l,a=arguments[0]||{},h=1,f=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},h=2),f===h&&(a=this,--h);h<f;h++)if((s=arguments[h])!=null)for(i in s)n=a[i],e=s[i],a!==e&&(u&&e&&(o(e)||(r=Array.isArray(e)))?(r?(r=!1,l=n&&Array.isArray(n)?n:[]):l=n&&o(n)?n:{},a[i]=v(u,l,e)):e!==void 0&&(a[i]=e));return a};c.exports=v},23568:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75508),v=t(35154),s=function(i,n,e){var r=v(i,n,null);if(r===null)return e;if(Array.isArray(r))return o.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return o.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return o.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(n);return r};c.exports=s},95540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){var s=typeof t;return!t||s==="number"||s==="string"?v:t.hasOwnProperty(o)&&t[o]!==void 0?t[o]:v};c.exports=y},82840:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v=t(45319),s=function(i,n,e,r,l){l===void 0&&(l=e);var a=o(i,n,l);return v(a,e,r)};c.exports=s},35154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){if(!t&&!s||typeof t=="number")return v;if(t&&t.hasOwnProperty(o))return t[o];if(s&&s.hasOwnProperty(o))return s[o];if(o.indexOf(".")!==-1){for(var i=o.split("."),n=t,e=s,r=v,l=v,a=!0,h=!0,f=0;f<i.length;f++)n&&n.hasOwnProperty(i[f])?(r=n[i[f]],n=n[i[f]]):a=!1,e&&e.hasOwnProperty(i[f])?(l=e[i[f]],e=e[i[f]]):h=!1;return a?r:h?l:v}else return v};c.exports=y},69036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var v=0;v<o.length;v++)if(!t.hasOwnProperty(o[v]))return!1;return!0};c.exports=y},1985:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var v=0;v<o.length;v++)if(t.hasOwnProperty(o[v]))return!0;return!1};c.exports=y},97022:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.hasOwnProperty(o)};c.exports=y},41212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=y},46975:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),v=function(s,i){var n=o(s);for(var e in i)n.hasOwnProperty(e)||(n[e]=i[e]);return n};c.exports=v},269:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),v=function(s,i){var n=o(s);for(var e in i)n.hasOwnProperty(e)&&(n[e]=i[e]);return n};c.exports=v},18254:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97022),v=function(s,i){for(var n={},e=0;e<i.length;e++){var r=i[e];o(s,r)&&(n[r]=s[r])}return n};c.exports=v},61622:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(o))return t[o]=v,!0;if(o.indexOf(".")!==-1){for(var s=o.split("."),i=t,n=t,e=0;e<s.length;e++)if(i.hasOwnProperty(s[e]))n=i,i=i[s[e]];else return!1;return n[s[s.length-1]]=v,!0}return!1};c.exports=y},1183:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.replace(/%([0-9]+)/g,function(v,s){return o[Number(s)-1]})};c.exports=y},41836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,v,s){o===void 0&&(o=0),v===void 0&&(v=" "),s===void 0&&(s=3),t=t.toString();var i=0;if(o+1>=t.length)switch(s){case 1:t=new Array(o+1-t.length).join(v)+t;break;case 3:var n=Math.ceil((i=o-t.length)/2),e=i-n;t=new Array(e+1).join(v)+t+new Array(n+1).join(v);break;default:t=t+new Array(o+1-t.length).join(v);break}return t};c.exports=y},33628:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===0?t.slice(1):t.slice(0,o-1)+t.slice(o)};c.exports=y},27671:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.split("").reverse().join("")};c.exports=y},45650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=Math.random()*16|0,v=t==="x"?o:o&3|8;return v.toString(16)})};c.exports=y},35355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t&&t[0].toUpperCase()+t.slice(1)};c.exports=y},31749:(c,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},E={};function b(c){var y=E[c];if(y!==void 0)return y.exports;var t=E[c]={exports:{}};return g[c](t,t.exports,b),t.exports}b.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var R=b(85454);return R})())})(tu);var $n=tu.exports;function tp(M){let p,g,E=`<div class="spinner-border svelte-v2081u" role="status"></div>
    Connecting...`,b,R,c,y,t="";return{c(){p=Q("div"),g=Q("div"),g.innerHTML=E,b=lt(),R=Q("div"),c=Q("div"),y=Q("div"),y.innerHTML=t,this.h()},l(o){p=q(o,"DIV",{class:!0});var v=rt(p);g=q(v,"DIV",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-q21l6j"&&(g.innerHTML=E),b=ht(v),R=q(v,"DIV",{class:!0});var s=rt(R);c=q(s,"DIV",{class:!0});var i=rt(c);y=q(i,"DIV",{class:!0,"data-svelte-h":!0}),Ot(y)!=="svelte-bclbik"&&(y.innerHTML=t),i.forEach(K),s.forEach(K),v.forEach(K),this.h()},h(){W(g,"class","loader svelte-v2081u"),W(y,"class","gamerender-canvas"),W(c,"class","gamerender svelte-v2081u"),W(R,"class","aspected svelte-v2081u"),W(p,"class","gamearea svelte-v2081u")},m(o,v){dt(o,p,v),V(p,g),V(p,b),V(p,R),V(R,c),V(c,y),M[3](y)},p:Qt,i:Qt,o:Qt,d(o){o&&K(p),M[3](null)}}}function ep(M,p,g){let E,b=Qt,R=()=>(b(),b=ys(y,v=>g(4,E=v)),y);M.$$.on_destroy.push(()=>b());let{minigame:c}=p,y,t;ti(()=>(R(g(0,y=c.resetInstance())),c.sounds.start.play(),t.appendChild(E.canvas),()=>{}));function o(v){ji[v?"unshift":"push"](()=>{t=v,g(1,t)})}return M.$$set=v=>{"minigame"in v&&g(2,c=v.minigame)},[y,t,c,o]}class ip extends Ee{constructor(p){super(),Ce(this,p,ep,tp,Se,{minigame:2})}}function sp(M){let p,g=`Pepe, Hop!
  <img src="/pics/emotes/gigalul.webp" alt="MEGALUL" class="svelte-oabnnr"/> <img src="/pics/emotes/pphop.webp" alt="MEGALUL" class="svelte-oabnnr"/>`;return{c(){p=Q("h2"),p.innerHTML=g,this.h()},l(E){p=q(E,"H2",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-1hkv57y"&&(p.innerHTML=g),this.h()},h(){W(p,"class","svelte-oabnnr")},m(E,b){dt(E,p,b)},p:Qt,i:Qt,o:Qt,d(E){E&&K(p)}}}class np extends Ee{constructor(p){super(),Ce(this,p,null,sp,Se,{})}}class rp extends pn{constructor(){super("flappy-bird"),this.title="Pepe, Hop!",this.icon="/pics/flappy-bird/pp.png",this.chatMessages=["ppHop","ppHop","ppHop","ppHopper","ppHopper"],this.minStartsToTry=3,this.minTimeToPlay=6e4*3,this.allowsTrainingMode=!1,this.controls.space="Press to jump",this.mainMenuImage="/pics/backdrops/flappy-bird-menu.webp",this.components.game=ip,this.components.mainMenuTitle=np,this.ost=new Bs("flappy-bird-ost","/sounds/music/flappy-bird-ost.mp3"),this.sounds={start:new $e("flappy-bird-start","/sounds/egg-rush/start.mp3"),hop:new $e("flappy-bird-jump","/sounds/flappy-bird/jump.mp3"),death:new $e("flappy-bird-dead","/sounds/flappy-bird/dead.mp3")},this.game=ni(null)}getInstance(){return this.game}resetInstance(){return this.game.update(p=>{if(!p){const g=up();return g.__minigame=this,g}return p.resume(),p}),this.game}startMusic(){this.ost&&(this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play())}pauseMusic(){this.ost&&this.ost.pause()}stopMusic(){this.ost&&this.ost.stop().unload()}toMenu(){return this.startMusic(),super.toMenu()}pauseGame(){return this.pauseMusic(),this.game.update(p=>(p&&p.pause(),p)),this}resumeGame(){return this.ost.isLoaded()?this.ost.play():this.startMusic(),this.game.update(p=>(p&&p.resume(),p)),this}destroy(){return this.stopMusic(),this.ost=null,this.game.update(p=>(p&&p.destroy(),p)),super.destroy()}}const ce={bird:null,pipes:null,cursors:null,scoreText:null,pipeBuilder:null,ground:null,score:0,jump:!1,gameOver:!1,config:{type:$n.AUTO,width:1280,height:720,physics:{default:"arcade",arcade:{gravity:{y:1200},debug:Xn}},scene:{preload:ap,create:op,update:hp}}};function ap(){this.load.image("background","/pics/backdrops/flappy-bird-menu.webp"),this.load.image("bird","/pics/flappy-bird/pp.png"),this.load.image("pipe","/pics/flappy-bird/pipe.png"),this.load.image("ground","/pics/flappy-bird/ground.png")}function op(){this.add.image(ce.config.width/2,ce.config.height/2,"background"),ce.score=0,ce.jump=!1,ce.gameOver=!1,ce.scoreText=this.add.text(ce.config.width*.9,ce.config.height/2,"0",{fontSize:"64px",fill:"#000"}),ce.scoreText.setOrigin(.5,.5),ce.scoreText.setDepth(50),ce.bird=this.physics.add.sprite(100,450,"bird"),ce.bird.setCollideWorldBounds(!0),ce.bird.setScale(.7),ce.bird.setDepth(10),ce.bird.setVelocityY(-ce.config.height),ce.pipes=this.physics.add.group({allowGravity:!1,immovable:!0}),this.physics.add.collider(ce.bird,ce.pipes,rl,null,this),ce.cursors=this.input.keyboard.createCursorKeys(),ce.pipeBuilder=this.time.addEvent({delay:3e3,callback:eu,callbackScope:this,loop:!0}),ce.ground=this.physics.add.group({allowGravity:!1,immovable:!0});for(let M=0;M<4;M++){const p=ce.config.width*M,g=ce.ground.create(p,ce.config.height-8,"ground");g.__startX=p,g.setVelocityX(-.3*ce.config.width)}this.physics.add.collider(ce.bird,ce.ground,rl,null,this)}function eu(){const M=ce.config.height*.28,p=ce.config.height/15,g=re(1,9);for(let E=0;E<2;E++){const b=M*E+p*g;lp(E,ce.config.width,b)}}function lp(M,p,g){let E=ce.pipes.create(p,g,"pipe");E.setOrigin(0,1-M),E.setVelocityX(-.3*ce.config.width),E.checkWorldBounds=!0,E.outOfBoundsKill=!0,E.on("destroy",function(){ce.score+=M,ce.scoreText.setText(ce.score),M&&(ce.score>0&&ce.score%10===0&&(this.scene.game.__minigame.modifier.modifyLoyalty(4+Math.floor(ce.score/10)),xe.spawner.queueEventfulMessages("hype",re(1,2))),ce.score===5&&ce.pipeBuilder.reset({delay:1500,callback:eu,callbackScope:this,loop:!0}))})}function hp(){!ce.gameOver&&ce.cursors.space.isDown?ce.jump||(ce.jump=!0,ce.bird.setVelocityY(-.4*ce.config.physics.arcade.gravity.y),this.game.__minigame.sounds.hop.play()):ce.jump=!1,$n.Actions.Call(ce.pipes.getChildren(),function(M){M.x<-M.width&&M.destroy()},this),$n.Actions.Call(ce.ground.getChildren(),function(M){M.x<-M.width&&(M.x=ce.config.width*2)},this),ce.bird.body.bottom>=ce.config.height&&iu.apply(this)}function rl(){iu.apply(this)}function iu(){ce.gameOver||(ce.gameOver=!0,console.log("PPHOP: Game Over"),ce.pipes.children.iterate(function(M){M==null||M.setVelocityX(0)}),ce.ground.children.iterate(function(M){M==null||M.setVelocityX(0)}),ce.pipeBuilder.remove(),ce.bird.body.checkCollision.none=!0,ce.bird.body.collideWorldBounds=!1,ce.bird.setAngle(160),ce.bird.setVelocity(.3*ce.config.width,-ce.config.height),ce.bird.setTint(16742263),this.game.__minigame.pauseMusic(),this.game.__minigame.sounds.death.play(),this.game.__minigame.modifier.modifyRage(re(10,20)),xe.spawner.queueEventfulMessages("fail",4),new ai(()=>{this.game.__minigame.toMenu(),this.game.pause(),this.scene.restart()},3e3))}function up(){return new $n.Game(ce.config)}function al(M,p,g){const E=M.slice();return E[21]=p[g],E}function ol(M){let p,g,E='<img src="/pics/rps/battle.webp" alt="backdrop" class="svelte-bv1smc"/>',b,R,c,y,t=M[7].left.profile.name+"",o,v,s,i=M[7].left.livesString+"",n,e,r,l,a,h,f,u,d,m,x=M[7].right.profile.name+"",S,T,C,A=M[7].right.livesString+"",w,P,F,L,O,I,B,U,H,Z,tt,X,k='<img src="/pics/rps/left.webp" alt="left-fighter" class="svelte-bv1smc"/>',D,z,Y,j,J,it,st,at,ft='<img src="/pics/rps/right.webp" alt="right-fighter" class="svelte-bv1smc"/>',vt,xt,Ct,yt,Pt,Gt,Ut,Nt,wt,Dt,Rt=M[0]&&ll(M);function Ht(At,Lt){return At[5]?dp:fp}let qt=Ht(M),ee=qt(M);function te(At,Lt){return At[5]?vp:cp}let oe=te(M),Vt=oe(M),jt=M[4]&&!M[5]&&M[7].player&&fl(M),It=M[4]&&!M[5]&&M[7].right.isChat&&dl(M),Ft=M[2]&&vl(M),St=M[3]&&pl(M);return{c(){p=Q("div"),g=Q("div"),g.innerHTML=E,b=lt(),R=Q("div"),c=Q("div"),y=Q("div"),o=mt(t),v=lt(),s=Q("div"),n=mt(i),e=lt(),r=Q("div"),l=Q("img"),u=lt(),d=Q("div"),m=Q("div"),S=mt(x),T=lt(),C=Q("div"),w=mt(A),P=lt(),F=Q("div"),L=Q("img"),U=lt(),Rt&&Rt.c(),H=lt(),Z=Q("div"),tt=Q("div"),X=Q("div"),X.innerHTML=k,D=lt(),z=Q("div"),ee.c(),Y=lt(),j=Q("img"),it=lt(),st=Q("div"),at=Q("div"),at.innerHTML=ft,vt=lt(),xt=Q("div"),Vt.c(),Ct=lt(),yt=Q("img"),Gt=lt(),jt&&jt.c(),Ut=lt(),It&&It.c(),Nt=lt(),Ft&&Ft.c(),wt=lt(),St&&St.c(),this.h()},l(At){p=q(At,"DIV",{class:!0});var Lt=rt(p);g=q(Lt,"DIV",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-1mdqn4n"&&(g.innerHTML=E),b=ht(Lt),R=q(Lt,"DIV",{class:!0});var ae=rt(R);c=q(ae,"DIV",{class:!0});var Jt=rt(c);y=q(Jt,"DIV",{class:!0});var ge=rt(y);o=gt(ge,t),ge.forEach(K),v=ht(Jt),s=q(Jt,"DIV",{class:!0});var ye=rt(s);n=gt(ye,i),ye.forEach(K),e=ht(Jt),r=q(Jt,"DIV",{class:!0});var Me=rt(r);l=q(Me,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),Me.forEach(K),Jt.forEach(K),u=ht(ae),d=q(ae,"DIV",{class:!0});var zt=rt(d);m=q(zt,"DIV",{class:!0});var ne=rt(m);S=gt(ne,x),ne.forEach(K),T=ht(zt),C=q(zt,"DIV",{class:!0});var be=rt(C);w=gt(be,A),be.forEach(K),P=ht(zt),F=q(zt,"DIV",{class:!0});var Oe=rt(F);L=q(Oe,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),Oe.forEach(K),zt.forEach(K),U=ht(ae),Rt&&Rt.l(ae),ae.forEach(K),H=ht(Lt),Z=q(Lt,"DIV",{class:!0});var Fe=rt(Z);tt=q(Fe,"DIV",{class:!0});var de=rt(tt);X=q(de,"DIV",{class:!0,"data-svelte-h":!0}),Ot(X)!=="svelte-1d4w8d2"&&(X.innerHTML=k),D=ht(de),z=q(de,"DIV",{class:!0});var we=rt(z);ee.l(we),Y=ht(we),j=q(we,"IMG",{src:!0,alt:!0,class:!0}),we.forEach(K),de.forEach(K),it=ht(Fe),st=q(Fe,"DIV",{class:!0});var Ve=rt(st);at=q(Ve,"DIV",{class:!0,"data-svelte-h":!0}),Ot(at)!=="svelte-1rvfepf"&&(at.innerHTML=ft),vt=ht(Ve),xt=q(Ve,"DIV",{class:!0});var Ue=rt(xt);Vt.l(Ue),Ct=ht(Ue),yt=q(Ue,"IMG",{src:!0,alt:!0,class:!0}),Ue.forEach(K),Ve.forEach(K),Fe.forEach(K),Gt=ht(Lt),jt&&jt.l(Lt),Ut=ht(Lt),It&&It.l(Lt),Nt=ht(Lt),Ft&&Ft.l(Lt),wt=ht(Lt),St&&St.l(Lt),Lt.forEach(K),this.h()},h(){W(g,"class","backdrop svelte-bv1smc"),W(y,"class","unit-name svelte-bv1smc"),kt(y,"color",M[7].left.profile.color),W(s,"class","unit-status svelte-bv1smc"),Ae(l.src,a=M[7].left.profile.picture)||W(l,"src",a),W(l,"alt",h=M[7].left.profile.name),W(l,"width","144"),W(l,"height","144"),W(l,"class","svelte-bv1smc"),W(r,"class","unit-avatar svelte-bv1smc"),W(c,"class","unit-info unit-left svelte-bv1smc"),W(m,"class","unit-name svelte-bv1smc"),kt(m,"color",M[7].right.profile.color),W(C,"class","unit-status svelte-bv1smc"),Ae(L.src,O=M[7].right.profile.picture)||W(L,"src",O),W(L,"alt",I=M[7].right.profile.name),W(L,"width","144"),W(L,"height","144"),W(L,"class","svelte-bv1smc"),W(F,"class","unit-avatar svelte-bv1smc"),W(d,"class","unit-info unit-right svelte-bv1smc"),W(R,"class","topbar svelte-bv1smc"),W(X,"class","fighter svelte-bv1smc"),pe(X,"dead",!M[7].left.isAlive),Ae(j.src,J="/pics/rps/palm.png")||W(j,"src",J),W(j,"alt","palm"),W(j,"class","img-palm svelte-bv1smc"),W(z,"class","choice-container svelte-bv1smc"),pe(z,"visually-hidden",!M[4]),W(tt,"class","dojo-side dojo-left svelte-bv1smc"),W(at,"class","fighter svelte-bv1smc"),pe(at,"dead",!M[7].right.isAlive),Ae(yt.src,Pt="/pics/rps/palm.png")||W(yt,"src",Pt),W(yt,"alt","palm"),W(yt,"class","img-palm svelte-bv1smc"),W(xt,"class","choice-container svelte-bv1smc"),pe(xt,"visually-hidden",!M[4]),W(st,"class","dojo-side dojo-right svelte-bv1smc"),W(Z,"class","dojo svelte-bv1smc"),W(p,"class","section svelte-bv1smc")},m(At,Lt){dt(At,p,Lt),V(p,g),V(p,b),V(p,R),V(R,c),V(c,y),V(y,o),V(c,v),V(c,s),V(s,n),V(c,e),V(c,r),V(r,l),V(R,u),V(R,d),V(d,m),V(m,S),V(d,T),V(d,C),V(C,w),V(d,P),V(d,F),V(F,L),V(R,U),Rt&&Rt.m(R,null),V(p,H),V(p,Z),V(Z,tt),V(tt,X),V(tt,D),V(tt,z),ee.m(z,null),V(z,Y),V(z,j),V(Z,it),V(Z,st),V(st,at),V(st,vt),V(st,xt),Vt.m(xt,null),V(xt,Ct),V(xt,yt),V(p,Gt),jt&&jt.m(p,null),V(p,Ut),It&&It.m(p,null),V(p,Nt),Ft&&Ft.m(p,null),V(p,wt),St&&St.m(p,null)},p(At,Lt){Lt&128&&t!==(t=At[7].left.profile.name+"")&&ie(o,t),Lt&128&&kt(y,"color",At[7].left.profile.color),Lt&128&&i!==(i=At[7].left.livesString+"")&&ie(n,i),Lt&128&&!Ae(l.src,a=At[7].left.profile.picture)&&W(l,"src",a),Lt&128&&h!==(h=At[7].left.profile.name)&&W(l,"alt",h),Lt&128&&x!==(x=At[7].right.profile.name+"")&&ie(S,x),Lt&128&&kt(m,"color",At[7].right.profile.color),Lt&128&&A!==(A=At[7].right.livesString+"")&&ie(w,A),Lt&128&&!Ae(L.src,O=At[7].right.profile.picture)&&W(L,"src",O),Lt&128&&I!==(I=At[7].right.profile.name)&&W(L,"alt",I),At[0]?Rt?(Rt.p(At,Lt),Lt&1&&Tt(Rt,1)):(Rt=ll(At),Rt.c(),Tt(Rt,1),Rt.m(R,null)):Rt&&(Ie(),Mt(Rt,1,1,()=>{Rt=null}),Be()),Lt&128&&pe(X,"dead",!At[7].left.isAlive),qt===(qt=Ht(At))&&ee?ee.p(At,Lt):(ee.d(1),ee=qt(At),ee&&(ee.c(),ee.m(z,Y))),Lt&16&&pe(z,"visually-hidden",!At[4]),Lt&128&&pe(at,"dead",!At[7].right.isAlive),oe===(oe=te(At))&&Vt?Vt.p(At,Lt):(Vt.d(1),Vt=oe(At),Vt&&(Vt.c(),Vt.m(xt,Ct))),Lt&16&&pe(xt,"visually-hidden",!At[4]),At[4]&&!At[5]&&At[7].player?jt?jt.p(At,Lt):(jt=fl(At),jt.c(),jt.m(p,Ut)):jt&&(jt.d(1),jt=null),At[4]&&!At[5]&&At[7].right.isChat?It?It.p(At,Lt):(It=dl(At),It.c(),It.m(p,Nt)):It&&(It.d(1),It=null),At[2]?Ft?(Ft.p(At,Lt),Lt&4&&Tt(Ft,1)):(Ft=vl(At),Ft.c(),Tt(Ft,1),Ft.m(p,wt)):Ft&&(Ie(),Mt(Ft,1,1,()=>{Ft=null}),Be()),At[3]?St?(St.p(At,Lt),Lt&8&&Tt(St,1)):(St=pl(At),St.c(),Tt(St,1),St.m(p,null)):St&&(Ie(),Mt(St,1,1,()=>{St=null}),Be())},i(At){At&&(f||Ye(()=>{f=je(c,Oi,{duration:2e3,x:-200}),f.start()})),At&&(B||Ye(()=>{B=je(d,Oi,{duration:2500,x:200}),B.start()})),Tt(Rt),Tt(Ft),Tt(St),At&&(Dt||Ye(()=>{Dt=je(p,Ds,{duration:500}),Dt.start()}))},o(At){Mt(Rt),Mt(Ft),Mt(St)},d(At){At&&K(p),Rt&&Rt.d(),ee.d(),Vt.d(),jt&&jt.d(),It&&It.d(),Ft&&Ft.d(),St&&St.d()}}}function ll(M){let p,g,E,b;return{c(){p=Q("div"),g=mt(M[0]),this.h()},l(R){p=q(R,"DIV",{class:!0});var c=rt(p);g=gt(c,M[0]),c.forEach(K),this.h()},h(){W(p,"class","timer svelte-bv1smc")},m(R,c){dt(R,p,c),V(p,g),b=!0},p(R,c){(!b||c&1)&&ie(g,R[0])},i(R){b||(R&&Ye(()=>{b&&(E||(E=Fi(p,ls,{duration:500},!0)),E.run(1))}),b=!0)},o(R){R&&(E||(E=Fi(p,ls,{duration:500},!1)),E.run(0)),b=!1},d(R){R&&K(p),R&&E&&E.end()}}}function fp(M){let p,g;return{c(){p=Q("img"),this.h()},l(E){p=q(E,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(p.src,g="/pics/rps/fist.png")||W(p,"src",g),W(p,"alt","fist"),W(p,"class","img-fist svelte-bv1smc"),pe(p,"fist-moving",!M[7].left.choice)},m(E,b){dt(E,p,b)},p(E,b){b&128&&pe(p,"fist-moving",!E[7].left.choice)},d(E){E&&K(p)}}}function dp(M){let p,g=M[7].left.choice&&hl(M);return{c(){g&&g.c(),p=Le()},l(E){g&&g.l(E),p=Le()},m(E,b){g&&g.m(E,b),dt(E,p,b)},p(E,b){E[7].left.choice?g?g.p(E,b):(g=hl(E),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},d(E){E&&K(p),g&&g.d(E)}}}function hl(M){let p,g,E;return{c(){p=Q("img"),this.h()},l(b){p=q(b,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(p.src,g=`/pics/rps/${String(M[7].left.choice).toLowerCase()}.webp`)||W(p,"src",g),W(p,"alt",E=M[7].left.choice),W(p,"class","img-choice svelte-bv1smc")},m(b,R){dt(b,p,R)},p(b,R){R&128&&!Ae(p.src,g=`/pics/rps/${String(b[7].left.choice).toLowerCase()}.webp`)&&W(p,"src",g),R&128&&E!==(E=b[7].left.choice)&&W(p,"alt",E)},d(b){b&&K(p)}}}function cp(M){let p,g;return{c(){p=Q("img"),this.h()},l(E){p=q(E,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(p.src,g="/pics/rps/fist.png")||W(p,"src",g),W(p,"alt","fist"),W(p,"class","img-fist svelte-bv1smc"),pe(p,"fist-moving",!M[7].right.choice)},m(E,b){dt(E,p,b)},p(E,b){b&128&&pe(p,"fist-moving",!E[7].right.choice)},d(E){E&&K(p)}}}function vp(M){let p,g=M[7].right.choice&&ul(M);return{c(){g&&g.c(),p=Le()},l(E){g&&g.l(E),p=Le()},m(E,b){g&&g.m(E,b),dt(E,p,b)},p(E,b){E[7].right.choice?g?g.p(E,b):(g=ul(E),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},d(E){E&&K(p),g&&g.d(E)}}}function ul(M){let p,g,E;return{c(){p=Q("img"),this.h()},l(b){p=q(b,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(p.src,g=`/pics/rps/${String(M[7].right.choice).toLowerCase()}.webp`)||W(p,"src",g),W(p,"alt",E=M[7].right.choice),W(p,"class","img-choice svelte-bv1smc")},m(b,R){dt(b,p,R)},p(b,R){R&128&&!Ae(p.src,g=`/pics/rps/${String(b[7].right.choice).toLowerCase()}.webp`)&&W(p,"src",g),R&128&&E!==(E=b[7].right.choice)&&W(p,"alt",E)},d(b){b&&K(p)}}}function fl(M){let p,g,E="Choose your destiny:",b,R,c,y=Fs.R+"",t,o,v,s,i=Fs.P+"",n,e,r,l,a=Fs.S+"",h,f,u,d;return{c(){p=Q("div"),g=Q("h5"),g.textContent=E,b=lt(),R=Q("div"),c=Q("button"),t=mt(y),v=lt(),s=Q("button"),n=mt(i),r=lt(),l=Q("button"),h=mt(a),this.h()},l(m){p=q(m,"DIV",{class:!0});var x=rt(p);g=q(x,"H5",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-1o8qgmo"&&(g.textContent=E),b=ht(x),R=q(x,"DIV",{class:!0});var S=rt(R);c=q(S,"BUTTON",{class:!0});var T=rt(c);t=gt(T,y),T.forEach(K),v=ht(S),s=q(S,"BUTTON",{class:!0});var C=rt(s);n=gt(C,i),C.forEach(K),r=ht(S),l=q(S,"BUTTON",{class:!0});var A=rt(l);h=gt(A,a),A.forEach(K),S.forEach(K),x.forEach(K),this.h()},h(){W(g,"class","svelte-bv1smc"),W(c,"class",o=ws(`btn ${M[7].player.choice==="R"?"btn-success":"btn-info"}`)+" svelte-bv1smc"),W(s,"class",e=ws(`btn ${M[7].player.choice==="P"?"btn-success":"btn-info"}`)+" svelte-bv1smc"),W(l,"class",f=ws(`btn ${M[7].player.choice==="S"?"btn-success":"btn-info"}`)+" svelte-bv1smc"),W(R,"class","input-group"),W(p,"class","game-controls svelte-bv1smc")},m(m,x){dt(m,p,x),V(p,g),V(p,b),V(p,R),V(R,c),V(c,t),V(R,v),V(R,s),V(s,n),V(R,r),V(R,l),V(l,h),u||(d=[Ei(Ci.call(null,c,{content:"Rock"})),se(c,"click",M[10]),Ei(Ci.call(null,s,{content:"Paper"})),se(s,"click",M[11]),Ei(Ci.call(null,l,{content:"Scissors"})),se(l,"click",M[12])],u=!0)},p(m,x){x&128&&o!==(o=ws(`btn ${m[7].player.choice==="R"?"btn-success":"btn-info"}`)+" svelte-bv1smc")&&W(c,"class",o),x&128&&e!==(e=ws(`btn ${m[7].player.choice==="P"?"btn-success":"btn-info"}`)+" svelte-bv1smc")&&W(s,"class",e),x&128&&f!==(f=ws(`btn ${m[7].player.choice==="S"?"btn-success":"btn-info"}`)+" svelte-bv1smc")&&W(l,"class",f)},d(m){m&&K(p),u=!1,hi(d)}}}function dl(M){let p,g,E="Vote in chat:",b,R,c,y,t,o,v=_e(Object.keys(Fs)),s=[];for(let i=0;i<v.length;i+=1)s[i]=cl(al(M,v,i));return{c(){p=Q("div"),g=Q("h5"),g.textContent=E,b=lt();for(let i=0;i<s.length;i+=1)s[i].c();R=lt(),c=Q("div"),y=mt("Total votes: "),t=Q("i"),o=mt(M[6]),this.h()},l(i){p=q(i,"DIV",{class:!0});var n=rt(p);g=q(n,"H5",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-bzq05j"&&(g.textContent=E),b=ht(n);for(let l=0;l<s.length;l+=1)s[l].l(n);R=ht(n),c=q(n,"DIV",{class:!0});var e=rt(c);y=gt(e,"Total votes: "),t=q(e,"I",{class:!0});var r=rt(t);o=gt(r,M[6]),r.forEach(K),e.forEach(K),n.forEach(K),this.h()},h(){W(g,"class","svelte-bv1smc"),W(t,"class","svelte-bv1smc"),W(c,"class","vote-option vote-footer svelte-bv1smc"),W(p,"class","game-chatvote svelte-bv1smc")},m(i,n){dt(i,p,n),V(p,g),V(p,b);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(p,null);V(p,R),V(p,c),V(c,y),V(c,t),V(t,o)},p(i,n){if(n&0){v=_e(Object.keys(Fs));let e;for(e=0;e<v.length;e+=1){const r=al(i,v,e);s[e]?s[e].p(r,n):(s[e]=cl(r),s[e].c(),s[e].m(p,R))}for(;e<s.length;e+=1)s[e].d(1);s.length=v.length}n&64&&ie(o,i[6])},d(i){i&&K(p),fs(s,i)}}}function cl(M){let p,g,E,b=M[21]+"",R,c,y,t=Fs[M[21]]+"",o;return{c(){p=Q("div"),g=Q("b"),E=mt("+"),R=mt(b),c=lt(),y=Q("span"),o=mt(t),this.h()},l(v){p=q(v,"DIV",{class:!0});var s=rt(p);g=q(s,"B",{});var i=rt(g);E=gt(i,"+"),R=gt(i,b),i.forEach(K),c=ht(s),y=q(s,"SPAN",{});var n=rt(y);o=gt(n,t),n.forEach(K),s.forEach(K),this.h()},h(){W(p,"class","vote-option svelte-bv1smc")},m(v,s){dt(v,p,s),V(p,g),V(g,E),V(g,R),V(p,c),V(p,y),V(y,o)},p:Qt,d(v){v&&K(p)}}}function vl(M){let p,g,E,b=M[7].round+"",R,c,y;return{c(){p=Q("div"),g=mt("Round "),E=Q("b"),R=mt(b),this.h()},l(t){p=q(t,"DIV",{class:!0});var o=rt(p);g=gt(o,"Round "),E=q(o,"B",{class:!0});var v=rt(E);R=gt(v,b),v.forEach(K),o.forEach(K),this.h()},h(){W(E,"class","svelte-bv1smc"),W(p,"class","modal-alike round-start svelte-bv1smc")},m(t,o){dt(t,p,o),V(p,g),V(p,E),V(E,R),y=!0},p(t,o){(!y||o&128)&&b!==(b=t[7].round+"")&&ie(R,b)},i(t){y||(t&&Ye(()=>{y&&(c||(c=Fi(p,ls,{duration:300},!0)),c.run(1))}),y=!0)},o(t){t&&(c||(c=Fi(p,ls,{duration:300},!1)),c.run(0)),y=!1},d(t){t&&K(p),t&&c&&c.end()}}}function pl(M){let p,g,E;function b(y,t){return y[7].winner?mp:pp}let R=b(M),c=R(M);return{c(){p=Q("div"),c.c(),this.h()},l(y){p=q(y,"DIV",{class:!0});var t=rt(p);c.l(t),t.forEach(K),this.h()},h(){W(p,"class","modal-alike winner svelte-bv1smc")},m(y,t){dt(y,p,t),c.m(p,null),E=!0},p(y,t){R===(R=b(y))&&c?c.p(y,t):(c.d(1),c=R(y),c&&(c.c(),c.m(p,null)))},i(y){E||(y&&Ye(()=>{E&&(g||(g=Fi(p,ls,{duration:300},!0)),g.run(1))}),E=!0)},o(y){y&&(g||(g=Fi(p,ls,{duration:300},!1)),g.run(0)),E=!1},d(y){y&&K(p),c.d(),y&&g&&g.end()}}}function pp(M){let p,g,E="TIE";return{c(){p=mt("It's a "),g=Q("b"),g.textContent=E,this.h()},l(b){p=gt(b,"It's a "),g=q(b,"B",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-1eylxfi"&&(g.textContent=E),this.h()},h(){W(g,"class","svelte-bv1smc")},m(b,R){dt(b,p,R),dt(b,g,R)},p:Qt,d(b){b&&(K(p),K(g))}}}function mp(M){let p,g=M[7].winner.profile.name+"",E,b;return{c(){p=Q("strong"),E=mt(g),b=mt(" wins"),this.h()},l(R){p=q(R,"STRONG",{});var c=rt(p);E=gt(c,g),c.forEach(K),b=gt(R," wins"),this.h()},h(){kt(p,"color",M[7].winner.profile.color)},m(R,c){dt(R,p,c),V(p,E),dt(R,b,c)},p(R,c){c&128&&g!==(g=R[7].winner.profile.name+"")&&ie(E,g),c&128&&kt(p,"color",R[7].winner.profile.color)},d(R){R&&(K(p),K(b))}}}function gp(M){let p,g=M[1]&&ol(M);return{c(){g&&g.c(),p=Le()},l(E){g&&g.l(E),p=Le()},m(E,b){g&&g.m(E,b),dt(E,p,b)},p(E,[b]){E[1]?g?(g.p(E,b),b&2&&Tt(g,1)):(g=ol(E),g.c(),Tt(g,1),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},i(E){Tt(g)},o:Qt,d(E){E&&K(p),g&&g.d(E)}}}function xp(M,p,g){let E,{minigame:b}=p,R=0,c=!1,y=!1,t=!1,o=!1,v=!1,s;const i=b.battle;We(M,i,S=>g(7,E=S));const n=new Set,e={R:0,P:0,S:0};let r=0;function l(S,T){if(!n.has(S.username)&&!(S.username===Ch.channel||S.username===Vr)&&T.charAt(0)==="+"){const C=T.charAt(1).toUpperCase();C in e&&(n.add(S.username),e[C]+=1,g(6,r=n.size))}}function a(){for(const S in e)e[S]=0;n.clear(),g(6,r=n.size)}function h(){if(n.size===0)return null;console.log("Final chat votes:",JSON.stringify(e));const S=Math.max(...Object.values(e)),T=Object.keys(e).filter(C=>e[C]===S);return He(T)}function f(){g(2,y=!1),g(4,o=!0),g(0,R=12),Fa(l),s=new Pi(()=>{g(0,R-=1),(E.left.choice&&E.right.choice||R<1)&&(zn(l),g(0,R=0),s.clear(),E.right.isChat&&E.right.makeChoice(h()),g(5,v=!0),s=new ai(()=>{if(E.doFight(),E.active)u();else{g(4,o=!1),g(3,t=!0);let S=null;E.winner?(S=b.sounds[E.winner===E.player?"win":"lose"],E.winner.__flawless&&E.winner.lives===3?S=b.sounds.flawless:E.loser.__flawless&&(S=b.sounds.comeback)):S=b.sounds.lose,E.player&&(E.winner===E.player?(b.modifier.modifyLoyalty(re(5,10)),xe.spawner.queueEventfulMessages("hype",3)):(b.modifier.modifyRage(re(8,14)),xe.spawner.queueEventfulMessages("fail",3))),S.once("end",()=>b.toMenu()),S.play()}},2500))},1e3)}function u(){Gi(i,E.round+=1,E),g(2,y=!0),g(4,o=!1),g(5,v=!1),a(),E.left.makeAutoChoice(re(5e3,1e4)),E.right.makeAutoChoice(re(5e3,1e4));const S=b.sounds["r"+E.round],T=b.sounds.fight;S.once("end",()=>{f(),T.play()}),S.play()}ti(()=>(g(1,c=!0),u(),()=>{zn(l),s==null||s.clear()}));const d=()=>E.player.makeChoice("R"),m=()=>E.player.makeChoice("P"),x=()=>E.player.makeChoice("S");return M.$$set=S=>{"minigame"in S&&g(9,b=S.minigame)},[R,c,y,t,o,v,r,E,i,b,d,m,x]}class yp extends Ee{constructor(p){super(),Ce(this,p,xp,gp,Se,{minigame:9})}}function ml(M,p,g){const E=M.slice();E[6]=p[g];const b=E[0].controls[E[6]];return E[7]=b,E}function Tp(M){let p,g,E,b,R,c,y,t,o,v;return g=new fe({props:{size:"120%",$$slots:{default:[Ep]},$$scope:{ctx:M}}}),c=new fe({props:{size:"120%",$$slots:{default:[Cp]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),E=mt(" Quick match"),b=lt(),R=Q("button"),Xt(c.$$.fragment),y=mt(" Play versus chat"),this.h()},l(s){p=q(s,"BUTTON",{type:!0,class:!0});var i=rt(p);$t(g.$$.fragment,i),E=gt(i," Quick match"),i.forEach(K),b=ht(s),R=q(s,"BUTTON",{type:!0,class:!0});var n=rt(R);$t(c.$$.fragment,n),y=gt(n," Play versus chat"),n.forEach(K),this.h()},h(){W(p,"type","button"),W(p,"class","btn btn-outline-primary text-start svelte-1b1ogoy"),W(R,"type","button"),W(R,"class","btn btn-outline-info text-start svelte-1b1ogoy")},m(s,i){dt(s,p,i),Yt(g,p,null),V(p,E),dt(s,b,i),dt(s,R,i),Yt(c,R,null),V(R,y),t=!0,o||(v=[se(p,"click",M[2]),se(R,"click",M[4])],o=!0)},p(s,i){const n={};i&1024&&(n.$$scope={dirty:i,ctx:s}),g.$set(n);const e={};i&1024&&(e.$$scope={dirty:i,ctx:s}),c.$set(e)},i(s){t||(Tt(g.$$.fragment,s),Tt(c.$$.fragment,s),t=!0)},o(s){Mt(g.$$.fragment,s),Mt(c.$$.fragment,s),t=!1},d(s){s&&(K(p),K(b),K(R)),Wt(g),Wt(c),o=!1,hi(v)}}}function Sp(M){let p,g=`<div class="spinner-border svelte-1b1ogoy" role="status"><span class="visually-hidden">Loading...</span></div>
          Looking for an opponent...`,E,b,R,c,y,t,o;return R=new fe({props:{size:"120%",$$slots:{default:[Ap]},$$scope:{ctx:M}}}),{c(){p=Q("div"),p.innerHTML=g,E=lt(),b=Q("button"),Xt(R.$$.fragment),c=mt(`\r
          Stop searching`),this.h()},l(v){p=q(v,"DIV",{"data-svelte-h":!0}),Ot(p)!=="svelte-1vwytnj"&&(p.innerHTML=g),E=ht(v),b=q(v,"BUTTON",{type:!0,class:!0});var s=rt(b);$t(R.$$.fragment,s),c=gt(s,`\r
          Stop searching`),s.forEach(K),this.h()},h(){W(b,"type","button"),W(b,"class","btn btn-outline-danger text-start svelte-1b1ogoy")},m(v,s){dt(v,p,s),dt(v,E,s),dt(v,b,s),Yt(R,b,null),V(b,c),y=!0,t||(o=se(b,"click",M[3]),t=!0)},p(v,s){const i={};s&1024&&(i.$$scope={dirty:s,ctx:v}),R.$set(i)},i(v){y||(Tt(R.$$.fragment,v),y=!0)},o(v){Mt(R.$$.fragment,v),y=!1},d(v){v&&(K(p),K(E),K(b)),Wt(R),t=!1,o()}}}function Ep(M){let p;return{c(){p=mt("not_started")},l(g){p=gt(g,"not_started")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Cp(M){let p;return{c(){p=mt("grading")},l(g){p=gt(g,"grading")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Ap(M){let p;return{c(){p=mt("cancel")},l(g){p=gt(g,"cancel")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function gl(M){let p,g,E,b,R,c=M[6]+"",y,t,o,v=M[7]+"",s,i;return{c(){p=Q("div"),g=Q("div"),E=lt(),b=Q("div"),R=Q("div"),y=mt(c),t=lt(),o=Q("div"),s=mt(v),i=lt(),this.h()},l(n){p=q(n,"DIV",{class:!0});var e=rt(p);g=q(e,"DIV",{class:!0}),rt(g).forEach(K),E=ht(e),b=q(e,"DIV",{class:!0});var r=rt(b);R=q(r,"DIV",{class:!0});var l=rt(R);y=gt(l,c),l.forEach(K),t=ht(r),o=q(r,"DIV",{class:!0});var a=rt(o);s=gt(a,v),a.forEach(K),r.forEach(K),i=ht(e),e.forEach(K),this.h()},h(){W(g,"class","control-icon svelte-1b1ogoy"),kt(g,"color","red"),kt(g,"background-image",`url(/pics/icons/${M[6]}.png)`),W(R,"class","control-header svelte-1b1ogoy"),W(o,"class","control-desc svelte-1b1ogoy"),W(b,"class","control-desc svelte-1b1ogoy"),W(p,"class","control-layout svelte-1b1ogoy")},m(n,e){dt(n,p,e),V(p,g),V(p,E),V(p,b),V(b,R),V(R,y),V(b,t),V(b,o),V(o,s),V(p,i)},p(n,e){e&1&&kt(g,"background-image",`url(/pics/icons/${n[6]}.png)`),e&1&&c!==(c=n[6]+"")&&ie(y,c),e&1&&v!==(v=n[7]+"")&&ie(s,v)},d(n){n&&K(p)}}}function xl(M){let p,g=M[7]&&gl(M);return{c(){g&&g.c(),p=Le()},l(E){g&&g.l(E),p=Le()},m(E,b){g&&g.m(E,b),dt(E,p,b)},p(E,b){E[7]?g?g.p(E,b):(g=gl(E),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},d(E){E&&K(p),g&&g.d(E)}}}function Mp(M){let p,g,E,b,R,c,y,t='<h2 class="svelte-1b1ogoy">✊ ✌️ ✋</h2> <h1>DOJO WISDOM</h1>',o,v,s,i,n,e,r,l;const a=[Sp,Tp],h=[];function f(m,x){return m[1]?0:1}s=f(M),i=h[s]=a[s](M);let u=_e(Object.keys(M[0].controls)),d=[];for(let m=0;m<u.length;m+=1)d[m]=xl(ml(M,u,m));return{c(){p=Q("div"),g=Q("div"),E=Q("img"),R=lt(),c=Q("div"),y=Q("div"),y.innerHTML=t,o=lt(),v=Q("div"),i.c(),n=lt(),e=Q("div");for(let m=0;m<d.length;m+=1)d[m].c();this.h()},l(m){p=q(m,"DIV",{class:!0});var x=rt(p);g=q(x,"DIV",{class:!0});var S=rt(g);E=q(S,"IMG",{src:!0,alt:!0,class:!0}),S.forEach(K),R=ht(x),c=q(x,"DIV",{class:!0});var T=rt(c);y=q(T,"DIV",{class:!0,"data-svelte-h":!0}),Ot(y)!=="svelte-sp5zbe"&&(y.innerHTML=t),o=ht(T),v=q(T,"DIV",{class:!0});var C=rt(v);i.l(C),C.forEach(K),T.forEach(K),n=ht(x),e=q(x,"DIV",{class:!0});var A=rt(e);for(let w=0;w<d.length;w+=1)d[w].l(A);A.forEach(K),x.forEach(K),this.h()},h(){Ae(E.src,b=M[0].mainMenuImage)||W(E,"src",b),W(E,"alt","backdrop"),W(E,"class","svelte-1b1ogoy"),W(g,"class","backdrop svelte-1b1ogoy"),W(y,"class","my-auto"),W(v,"class","menu-buttons svelte-1b1ogoy"),W(c,"class","part svelte-1b1ogoy"),W(e,"class","part right svelte-1b1ogoy"),W(p,"class","menu-section svelte-1b1ogoy")},m(m,x){dt(m,p,x),V(p,g),V(g,E),V(p,R),V(p,c),V(c,y),V(c,o),V(c,v),h[s].m(v,null),V(p,n),V(p,e);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(e,null);l=!0},p(m,[x]){(!l||x&1&&!Ae(E.src,b=m[0].mainMenuImage))&&W(E,"src",b);let S=s;if(s=f(m),s===S?h[s].p(m,x):(Ie(),Mt(h[S],1,1,()=>{h[S]=null}),Be(),i=h[s],i?i.p(m,x):(i=h[s]=a[s](m),i.c()),Tt(i,1),i.m(v,null)),x&1){u=_e(Object.keys(m[0].controls));let T;for(T=0;T<u.length;T+=1){const C=ml(m,u,T);d[T]?d[T].p(C,x):(d[T]=xl(C),d[T].c(),d[T].m(e,null))}for(;T<d.length;T+=1)d[T].d(1);d.length=u.length}},i(m){l||(Tt(i),m&&(r||Ye(()=>{r=je(p,Is,{}),r.start()})),l=!0)},o(m){Mt(i),l=!1},d(m){m&&K(p),h[s].d(),fs(d,m)}}}function wp(M,p,g){let{minigame:E}=p,b=null;function R(){E.quickBattle()}function c(){g(1,b=new ai(R,re(4e3,2e4)))}function y(){b==null||b.clear(),g(1,b=null)}function t(){E.chatBattle()}return ti(()=>y),M.$$set=o=>{"minigame"in o&&g(0,E=o.minigame)},[E,b,c,y,t]}class bp extends Ee{constructor(p){super(),Ce(this,p,wp,Mp,Se,{minigame:0})}}class Pp extends pn{constructor(){super("rock-paper-scissors"),this.title="Dojo Wisdom",this.icon="/pics/rps/icon.png",this.chatMessages=["pepeLaugh ✌️","pepeLaugh ✊","pepeLaugh ✋","FeelsDankMan ✂️"],this.minStartsToTry=6,this.minTimeToPlay=6e4*4,this.allowsTrainingMode=!1,this.controls.mouse="Click to make a choice",this.mainMenuImage="/pics/rps/menu.webp",this.components.game=yp,this.components.menu=bp,this.components.mainMenuTitle=null,this.ost=new Bs("rps-ost","/sounds/music/rps-ost.mp3"),this.sounds={r1:new $e("rps-r1","/sounds/rps/r1.mp3"),r2:new $e("rps-r2","/sounds/rps/r2.mp3"),r3:new $e("rps-r3","/sounds/rps/r3.mp3"),r4:new $e("rps-r4","/sounds/rps/r4.mp3"),r5:new $e("rps-r5","/sounds/rps/r5.mp3"),win:new $e("rps-win","/sounds/rps/welldone.mp3"),lose:new $e("rps-lose","/sounds/rps/laugh.mp3"),flawless:new $e("rps-flawless","/sounds/rps/flawless.mp3"),fight:new $e("rps-fight","/sounds/rps/fight.mp3"),comeback:new $e("rps-comeback","/sounds/rps/impressive.mp3")},this.battle=ni(null)}quickBattle(){return new Tl(this.battle).updateStoreInfo(),this.start()}chatBattle(){const p=new Ki(`${Zi.channel.slice(0,15)}'s chat`,"nam","#333"),g=new ya(p);return g.isChat=!0,new Tl(this.battle,null,g).updateStoreInfo(),this.start()}startMusic(){this.ost&&(this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play())}pauseMusic(){this.ost&&this.ost.pause()}stopMusic(){this.ost&&this.ost.stop().unload()}toMenu(){return this.startMusic(),super.toMenu()}pauseGame(){return this.pauseMusic(),this}resumeGame(){return this.ost.isLoaded()?this.ost.play():this.startMusic(),this}destroy(){this.stopMusic(),this.ost=null;for(const p in this.sounds)this.sounds[p].stop(),this.sounds[p].off();return super.destroy()}}const yl="❤️",Rp="☠️",Fs={R:"✊",P:"✋",S:"✌️"},xa=Object.keys(Fs);class ya{constructor(p){this.__battle=null,this.profile=p,this.isPlayer=!1,this.isAI=!1,this.isAlive=!0,this.reset()}getBasicInfo(){return{profile:this.profile,isAlive:this.isAlive,lives:this.lives}}reset(){this.lives=3,this.livesString=yl.repeat(this.lives),this.choice=null}updateBattle(){return this.__battle.updateStoreInfo(),this}makeAutoChoice(p=2e3){return this.isAI?(this.__choice=new ai(()=>{this.makeChoice(He(xa))},p),this):this}makeChoice(p){return this.choice||(p in Fs?this.choice=p:this.choice=null),this.updateBattle()}takeDamage(p=1){return this.lives-=p,this.isAlive=this.lives>0,this.livesString=this.isAlive?yl.repeat(this.lives):Rp,this.updateBattle()}}class Tl{constructor(p,g,E){if(this.__store=p,this.active=!0,this.drawCount=0,this.round=0,this.winner=null,this.loser=null,g)this.left=g;else{const b=va(Vr);this.left=new ya(b),this.left.isPlayer=!0}if(E)this.right=E;else{const b=va();this.right=new ya(b),this.right.isAI=!0}this.left.__battle=this,this.right.__battle=this,this.player=null,this.left.isPlayer&&(this.player=this.left),this.right.isPlayer&&(this.player=this.right)}updateStoreInfo(){return this.__store.set(this),this}doFight(){const p=this.left.choice,g=this.right.choice;let E=null;if(p!==null&&g!==null){const b=xa.indexOf(p),R=xa.indexOf(g);if(b===R)this.drawCount+=1,this.drawCount%3===0?(this.left.takeDamage(),this.right.takeDamage()):this.round-=1;else{const c=b-R;c===1||c<-1?(this.left,E=this.right):(this.right,E=this.left),E.takeDamage()}}else p===null&&this.left.takeDamage(),g===null&&this.right.takeDamage();return this.left.choice=null,this.right.choice=null,this.left.lives===3&&this.right.lives===1&&(this.left.__flawless=!0),this.left.lives===1&&this.right.lives===3&&(this.right.__flawless=!0),this.checkOutcome()}checkOutcome(){return this.left.isAlive?this.right.isAlive||(this.active=!1,this.winner=this.left,this.loser=this.right):this.right.isAlive?(this.active=!1,this.winner=this.right,this.loser=this.left):(this.active=!1,this.winner=null,this.loser=null),this.updateStoreInfo()}}const vr=Object.freeze({minViews:5e4,minTimeToWatch:15e4,badCategories:["songs"]}),Lp=[Qv,Vv,rp,Pp,vv],Ls={},Nn={},Fp={gags:["LULE","LULW","MegaLUL","MegaLUL I CANNOT","MegaLUL SO FUNNY"],songs:["forsenJAM","KKool GuitarTime","KKool","SourPls","SourPls banger"],scary:["forsenS","monkaS","monkaOMEGA","monkaOMEGA ZOZO","forsenFaint"]};fetch("/data/videos.json").then(M=>M.json()).then(M=>{for(const p in M){const g=M[p];for(const E of g)E.category=p,E.chat=E.chat||Fp[p]||null;Ls[p]=g}}).catch(M=>{console.error("Failed to fetch the list of YT videos! Error: ",M),Ls.generic=[{id:"VTFyFwHgi6w",title:"[Trailer] Jackbox Forsen Pack 6: Trivia Murder Party 2",description:"",author:"G7Eternal",avatar:"https://yt4.ggpht.com/ytc/AIdro_n-YI1GTvvc47dxQJEp_22_h-Ht3qvCBlChwDYxGE2Sm1Q=s88-c-k-c0x00ffffff-no-rj",subs:"5",likes:"33",views:"50000",createdAt:"2021-10-03T09:59:26Z",category:"generic"}]}).then(su);function su(M=""){if(M&&Ls.hasOwnProperty(M))Nn[M]=Ks(Ls[M]);else for(const p in Ls)Nn[p]=Ks(Ls[p])}function Op(M){if(!M)return null;for(const p in Ls){const g=Ls[p].find(E=>E.id===M);if(g)return g}return null}function Dp(M=re(6,9)){const p=[],g=re(1,3);let E=re(1,2),b=g-E;if(new Date().getMonth()===9){const c=E;E=b,b=c}for(;E-- >0;)p.push(pr("gags"));for(;b-- >0;)p.push(pr("scary"));for(;p.length<M;)p.push(pr());re(5)<3&&p.push(He(p));let R=Math.floor(Math.random()*2.25);for(;R-- >0;)p.push(pr("songs"));return Ks(p)}function pr(M="generic"){return Nn.hasOwnProperty(M)||(console.warn("Requested a random video from non-existing pool: ",M),M="generic"),Nn[M].length===0&&su(M),Nn[M].pop()}function Ip(M=3){return Ah(Lp,M)}var Lr={exports:{}};Lr.exports;(function(M,p){(function(g,E){M.exports=E()})(Hs,function(){function g(N,G){var $=Object.keys(N);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(N);G&&(_=_.filter(function(et){return Object.getOwnPropertyDescriptor(N,et).enumerable})),$.push.apply($,_)}return $}function E(N){for(var G=1;G<arguments.length;G++){var $=arguments[G]!=null?arguments[G]:{};G%2?g(Object($),!0).forEach(function(_){t(N,_,$[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors($)):g(Object($)).forEach(function(_){Object.defineProperty(N,_,Object.getOwnPropertyDescriptor($,_))})}return N}function b(N){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},b(N)}function R(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")}function c(N,G){for(var $=0;$<G.length;$++){var _=G[$];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(N,r(_.key),_)}}function y(N,G,$){return G&&c(N.prototype,G),$&&c(N,$),Object.defineProperty(N,"prototype",{writable:!1}),N}function t(N,G,$){return(G=r(G))in N?Object.defineProperty(N,G,{value:$,enumerable:!0,configurable:!0,writable:!0}):N[G]=$,N}function o(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(G&&G.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),G&&s(N,G)}function v(N){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},v(N)}function s(N,G){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,_){return $.__proto__=_,$},s(N,G)}function i(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function n(N){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $,_=v(N);if(G){var et=v(this).constructor;$=Reflect.construct(_,arguments,et)}else $=_.apply(this,arguments);return function(nt,ot){if(ot&&(typeof ot=="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(nt)}(this,$)}}function e(){return e=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(N,G,$){var _=function(nt,ot){for(;!Object.prototype.hasOwnProperty.call(nt,ot)&&(nt=v(nt))!==null;);return nt}(N,G);if(_){var et=Object.getOwnPropertyDescriptor(_,G);return et.get?et.get.call(arguments.length<3?N:$):et.value}},e.apply(this,arguments)}function r(N){var G=function($,_){if(typeof $!="object"||$===null)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var nt=et.call($,_||"default");if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)($)}(N,"string");return typeof G=="symbol"?G:G+""}var l=function(N){return!(!N||!N.Window)&&N instanceof N.Window},a=void 0,h=void 0;function f(N){a=N;var G=N.document.createTextNode("");G.ownerDocument!==N.document&&typeof N.wrap=="function"&&N.wrap(G)===G&&(N=N.wrap(N)),h=N}function u(N){return l(N)?N:(N.ownerDocument||N).defaultView||h.window}typeof window<"u"&&window&&f(window);var d=function(N){return!!N&&b(N)==="object"},m=function(N){return typeof N=="function"},x={window:function(N){return N===h||l(N)},docFrag:function(N){return d(N)&&N.nodeType===11},object:d,func:m,number:function(N){return typeof N=="number"},bool:function(N){return typeof N=="boolean"},string:function(N){return typeof N=="string"},element:function(N){if(!N||b(N)!=="object")return!1;var G=u(N)||h;return/object|function/.test(typeof Element>"u"?"undefined":b(Element))?N instanceof Element||N instanceof G.Element:N.nodeType===1&&typeof N.nodeName=="string"},plainObject:function(N){return d(N)&&!!N.constructor&&/function Object\b/.test(N.constructor.toString())},array:function(N){return d(N)&&N.length!==void 0&&m(N.splice)}};function S(N){var G=N.interaction;if(G.prepared.name==="drag"){var $=G.prepared.axis;$==="x"?(G.coords.cur.page.y=G.coords.start.page.y,G.coords.cur.client.y=G.coords.start.client.y,G.coords.velocity.client.y=0,G.coords.velocity.page.y=0):$==="y"&&(G.coords.cur.page.x=G.coords.start.page.x,G.coords.cur.client.x=G.coords.start.client.x,G.coords.velocity.client.x=0,G.coords.velocity.page.x=0)}}function T(N){var G=N.iEvent,$=N.interaction;if($.prepared.name==="drag"){var _=$.prepared.axis;if(_==="x"||_==="y"){var et=_==="x"?"y":"x";G.page[et]=$.coords.start.page[et],G.client[et]=$.coords.start.client[et],G.delta[et]=0}}}var C={id:"actions/drag",install:function(N){var G=N.actions,$=N.Interactable,_=N.defaults;$.prototype.draggable=C.draggable,G.map.drag=C,G.methodDict.drag="draggable",_.actions.drag=C.defaults},listeners:{"interactions:before-action-move":S,"interactions:action-resume":S,"interactions:action-move":T,"auto-start:check":function(N){var G=N.interaction,$=N.interactable,_=N.buttons,et=$.options.drag;if(et&&et.enabled&&(!G.pointerIsDown||!/mouse|pointer/.test(G.pointerType)||_&$.options.drag.mouseButtons))return N.action={name:"drag",axis:et.lockAxis==="start"?et.startAxis:et.lockAxis},!1}},draggable:function(N){return x.object(N)?(this.options.drag.enabled=N.enabled!==!1,this.setPerAction("drag",N),this.setOnEvents("drag",N),/^(xy|x|y|start)$/.test(N.lockAxis)&&(this.options.drag.lockAxis=N.lockAxis),/^(xy|x|y)$/.test(N.startAxis)&&(this.options.drag.startAxis=N.startAxis),this):x.bool(N)?(this.options.drag.enabled=N,this):this.options.drag},beforeMove:S,move:T,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(N){return N.search("drag")===0}},A=C,w={init:function(N){var G=N;w.document=G.document,w.DocumentFragment=G.DocumentFragment||P,w.SVGElement=G.SVGElement||P,w.SVGSVGElement=G.SVGSVGElement||P,w.SVGElementInstance=G.SVGElementInstance||P,w.Element=G.Element||P,w.HTMLElement=G.HTMLElement||w.Element,w.Event=G.Event,w.Touch=G.Touch||P,w.PointerEvent=G.PointerEvent||G.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function P(){}var F=w,L={init:function(N){var G=F.Element,$=N.navigator||{};L.supportsTouch="ontouchstart"in N||x.func(N.DocumentTouch)&&F.document instanceof N.DocumentTouch,L.supportsPointerEvent=$.pointerEnabled!==!1&&!!F.PointerEvent,L.isIOS=/iP(hone|od|ad)/.test($.platform),L.isIOS7=/iP(hone|od|ad)/.test($.platform)&&/OS 7[^\d]/.test($.appVersion),L.isIe9=/MSIE 9/.test($.userAgent),L.isOperaMobile=$.appName==="Opera"&&L.supportsTouch&&/Presto/.test($.userAgent),L.prefixedMatchesSelector="matches"in G.prototype?"matches":"webkitMatchesSelector"in G.prototype?"webkitMatchesSelector":"mozMatchesSelector"in G.prototype?"mozMatchesSelector":"oMatchesSelector"in G.prototype?"oMatchesSelector":"msMatchesSelector",L.pEventTypes=L.supportsPointerEvent?F.PointerEvent===N.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,L.wheelEvent=F.document&&"onmousewheel"in F.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},O=L;function I(N,G){if(N.contains)return N.contains(G);for(;G;){if(G===N)return!0;G=G.parentNode}return!1}function B(N,G){for(;x.element(N);){if(H(N,G))return N;N=U(N)}return null}function U(N){var G=N.parentNode;if(x.docFrag(G)){for(;(G=G.host)&&x.docFrag(G););return G}return G}function H(N,G){return h!==a&&(G=G.replace(/\/deep\//g," ")),N[O.prefixedMatchesSelector](G)}var Z=function(N){return N.parentNode||N.host};function tt(N,G){for(var $,_=[],et=N;($=Z(et))&&et!==G&&$!==et.ownerDocument;)_.unshift(et),et=$;return _}function X(N,G,$){for(;x.element(N);){if(H(N,G))return!0;if((N=U(N))===$)return H(N,G)}return!1}function k(N){return N.correspondingUseElement||N}function D(N){var G=N instanceof F.SVGElement?N.getBoundingClientRect():N.getClientRects()[0];return G&&{left:G.left,right:G.right,top:G.top,bottom:G.bottom,width:G.width||G.right-G.left,height:G.height||G.bottom-G.top}}function z(N){var G,$=D(N);if(!O.isIOS7&&$){var _={x:(G=(G=u(N))||h).scrollX||G.document.documentElement.scrollLeft,y:G.scrollY||G.document.documentElement.scrollTop};$.left+=_.x,$.right+=_.x,$.top+=_.y,$.bottom+=_.y}return $}function Y(N){for(var G=[];N;)G.push(N),N=U(N);return G}function j(N){return!!x.string(N)&&(F.document.querySelector(N),!0)}function J(N,G){for(var $ in G)N[$]=G[$];return N}function it(N,G,$){return N==="parent"?U($):N==="self"?G.getRect($):B($,N)}function st(N,G,$,_){var et=N;return x.string(et)?et=it(et,G,$):x.func(et)&&(et=et.apply(void 0,_)),x.element(et)&&(et=z(et)),et}function at(N){return N&&{x:"x"in N?N.x:N.left,y:"y"in N?N.y:N.top}}function ft(N){return!N||"x"in N&&"y"in N||((N=J({},N)).x=N.left||0,N.y=N.top||0,N.width=N.width||(N.right||0)-N.x,N.height=N.height||(N.bottom||0)-N.y),N}function vt(N,G,$){N.left&&(G.left+=$.x),N.right&&(G.right+=$.x),N.top&&(G.top+=$.y),N.bottom&&(G.bottom+=$.y),G.width=G.right-G.left,G.height=G.bottom-G.top}function xt(N,G,$){var _=$&&N.options[$];return at(st(_&&_.origin||N.options.origin,N,G,[N&&G]))||{x:0,y:0}}function Ct(N,G){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ct){return!0},_=arguments.length>3?arguments[3]:void 0;if(_=_||{},x.string(N)&&N.search(" ")!==-1&&(N=yt(N)),x.array(N))return N.forEach(function(ct){return Ct(ct,G,$,_)}),_;if(x.object(N)&&(G=N,N=""),x.func(G)&&$(N))_[N]=_[N]||[],_[N].push(G);else if(x.array(G))for(var et=0,nt=G;et<nt.length;et++){var ot=nt[et];Ct(N,ot,$,_)}else if(x.object(G))for(var ut in G)Ct(yt(ut).map(function(ct){return"".concat(N).concat(ct)}),G[ut],$,_);return _}function yt(N){return N.trim().split(/ +/)}var Pt=function(N,G){return Math.sqrt(N*N+G*G)},Gt=["webkit","moz"];function Ut(N,G){N.__set||(N.__set={});var $=function(et){if(Gt.some(function(nt){return et.indexOf(nt)===0}))return 1;typeof N[et]!="function"&&et!=="__set"&&Object.defineProperty(N,et,{get:function(){return et in N.__set?N.__set[et]:N.__set[et]=G[et]},set:function(nt){N.__set[et]=nt},configurable:!0})};for(var _ in G)$(_);return N}function Nt(N,G){N.page=N.page||{},N.page.x=G.page.x,N.page.y=G.page.y,N.client=N.client||{},N.client.x=G.client.x,N.client.y=G.client.y,N.timeStamp=G.timeStamp}function wt(N){N.page.x=0,N.page.y=0,N.client.x=0,N.client.y=0}function Dt(N){return N instanceof F.Event||N instanceof F.Touch}function Rt(N,G,$){return N=N||"page",($=$||{}).x=G[N+"X"],$.y=G[N+"Y"],$}function Ht(N,G){return G=G||{x:0,y:0},O.isOperaMobile&&Dt(N)?(Rt("screen",N,G),G.x+=window.scrollX,G.y+=window.scrollY):Rt("page",N,G),G}function qt(N){return x.number(N.pointerId)?N.pointerId:N.identifier}function ee(N,G,$){var _=G.length>1?oe(G):G[0];Ht(_,N.page),function(et,nt){nt=nt||{},O.isOperaMobile&&Dt(et)?Rt("screen",et,nt):Rt("client",et,nt)}(_,N.client),N.timeStamp=$}function te(N){var G=[];return x.array(N)?(G[0]=N[0],G[1]=N[1]):N.type==="touchend"?N.touches.length===1?(G[0]=N.touches[0],G[1]=N.changedTouches[0]):N.touches.length===0&&(G[0]=N.changedTouches[0],G[1]=N.changedTouches[1]):(G[0]=N.touches[0],G[1]=N.touches[1]),G}function oe(N){for(var G={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},$=0;$<N.length;$++){var _=N[$];for(var et in G)G[et]+=_[et]}for(var nt in G)G[nt]/=N.length;return G}function Vt(N){if(!N.length)return null;var G=te(N),$=Math.min(G[0].pageX,G[1].pageX),_=Math.min(G[0].pageY,G[1].pageY),et=Math.max(G[0].pageX,G[1].pageX),nt=Math.max(G[0].pageY,G[1].pageY);return{x:$,y:_,left:$,top:_,right:et,bottom:nt,width:et-$,height:nt-_}}function jt(N,G){var $=G+"X",_=G+"Y",et=te(N),nt=et[0][$]-et[1][$],ot=et[0][_]-et[1][_];return Pt(nt,ot)}function It(N,G){var $=G+"X",_=G+"Y",et=te(N),nt=et[1][$]-et[0][$],ot=et[1][_]-et[0][_];return 180*Math.atan2(ot,nt)/Math.PI}function Ft(N){return x.string(N.pointerType)?N.pointerType:x.number(N.pointerType)?[void 0,void 0,"touch","pen","mouse"][N.pointerType]:/touch/.test(N.type||"")||N instanceof F.Touch?"touch":"mouse"}function St(N){var G=x.func(N.composedPath)?N.composedPath():N.path;return[k(G?G[0]:N.target),k(N.currentTarget)]}var At=function(){function N(G){R(this,N),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=G}return y(N,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),N}();Object.defineProperty(At.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Lt=function(N,G){for(var $=0;$<G.length;$++){var _=G[$];N.push(_)}return N},ae=function(N){return Lt([],N)},Jt=function(N,G){for(var $=0;$<N.length;$++)if(G(N[$],$,N))return $;return-1},ge=function(N,G){return N[Jt(N,G)]},ye=function(N){o($,N);var G=n($);function $(_,et,nt){var ot;R(this,$),(ot=G.call(this,et._interaction)).dropzone=void 0,ot.dragEvent=void 0,ot.relatedTarget=void 0,ot.draggable=void 0,ot.propagationStopped=!1,ot.immediatePropagationStopped=!1;var ut=nt==="dragleave"?_.prev:_.cur,ct=ut.element,Et=ut.dropzone;return ot.type=nt,ot.target=ct,ot.currentTarget=ct,ot.dropzone=Et,ot.dragEvent=et,ot.relatedTarget=et.target,ot.draggable=et.interactable,ot.timeStamp=et.timeStamp,ot}return y($,[{key:"reject",value:function(){var _=this,et=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&et.cur.dropzone===this.dropzone&&et.cur.element===this.target)if(et.prev.dropzone=this.dropzone,et.prev.element=this.target,et.rejected=!0,et.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var nt=et.activeDrops,ot=Jt(nt,function(ct){var Et=ct.dropzone,pt=ct.element;return Et===_.dropzone&&pt===_.target});et.activeDrops.splice(ot,1);var ut=new $(et,this.dragEvent,"dropdeactivate");ut.dropzone=this.dropzone,ut.target=this.target,this.dropzone.fire(ut)}else this.dropzone.fire(new $(et,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),$}(At);function Me(N,G){for(var $=0,_=N.slice();$<_.length;$++){var et=_[$],nt=et.dropzone,ot=et.element;G.dropzone=nt,G.target=ot,nt.fire(G),G.propagationStopped=G.immediatePropagationStopped=!1}}function zt(N,G){for(var $=function(nt,ot){for(var ut=[],ct=0,Et=nt.interactables.list;ct<Et.length;ct++){var pt=Et[ct];if(pt.options.drop.enabled){var bt=pt.options.drop.accept;if(!(x.element(bt)&&bt!==ot||x.string(bt)&&!H(ot,bt)||x.func(bt)&&!bt({dropzone:pt,draggableElement:ot})))for(var Bt=0,Zt=pt.getAllElements();Bt<Zt.length;Bt++){var Kt=Zt[Bt];Kt!==ot&&ut.push({dropzone:pt,element:Kt,rect:pt.getRect(Kt)})}}}return ut}(N,G),_=0;_<$.length;_++){var et=$[_];et.rect=et.dropzone.getRect(et.element)}return $}function ne(N,G,$){for(var _=N.dropState,et=N.interactable,nt=N.element,ot=[],ut=0,ct=_.activeDrops;ut<ct.length;ut++){var Et=ct[ut],pt=Et.dropzone,bt=Et.element,Bt=Et.rect,Zt=pt.dropCheck(G,$,et,nt,bt,Bt);ot.push(Zt?bt:null)}var Kt=function(_t){for(var ue,le,Te,De=[],Xe=0;Xe<_t.length;Xe++){var Re=_t[Xe],Ne=_t[ue];if(Re&&Xe!==ue)if(Ne){var Si=Z(Re),qe=Z(Ne);if(Si!==Re.ownerDocument)if(qe!==Re.ownerDocument)if(Si!==qe){De=De.length?De:tt(Ne);var Bi=void 0;if(Ne instanceof F.HTMLElement&&Re instanceof F.SVGElement&&!(Re instanceof F.SVGSVGElement)){if(Re===qe)continue;Bi=Re.ownerSVGElement}else Bi=Re;for(var ki=tt(Bi,Ne.ownerDocument),gs=0;ki[gs]&&ki[gs]===De[gs];)gs++;var ir=[ki[gs-1],ki[gs],De[gs]];if(ir[0])for(var wn=ir[0].lastChild;wn;){if(wn===ir[1]){ue=Xe,De=ki;break}if(wn===ir[2])break;wn=wn.previousSibling}}else Te=Ne,(parseInt(u(le=Re).getComputedStyle(le).zIndex,10)||0)>=(parseInt(u(Te).getComputedStyle(Te).zIndex,10)||0)&&(ue=Xe);else ue=Xe}else ue=Xe}return ue}(ot);return _.activeDrops[Kt]||null}function be(N,G,$){var _=N.dropState,et={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return $.type==="dragstart"&&(et.activate=new ye(_,$,"dropactivate"),et.activate.target=null,et.activate.dropzone=null),$.type==="dragend"&&(et.deactivate=new ye(_,$,"dropdeactivate"),et.deactivate.target=null,et.deactivate.dropzone=null),_.rejected||(_.cur.element!==_.prev.element&&(_.prev.dropzone&&(et.leave=new ye(_,$,"dragleave"),$.dragLeave=et.leave.target=_.prev.element,$.prevDropzone=et.leave.dropzone=_.prev.dropzone),_.cur.dropzone&&(et.enter=new ye(_,$,"dragenter"),$.dragEnter=_.cur.element,$.dropzone=_.cur.dropzone)),$.type==="dragend"&&_.cur.dropzone&&(et.drop=new ye(_,$,"drop"),$.dropzone=_.cur.dropzone,$.relatedTarget=_.cur.element),$.type==="dragmove"&&_.cur.dropzone&&(et.move=new ye(_,$,"dropmove"),$.dropzone=_.cur.dropzone)),et}function Oe(N,G){var $=N.dropState,_=$.activeDrops,et=$.cur,nt=$.prev;G.leave&&nt.dropzone.fire(G.leave),G.enter&&et.dropzone.fire(G.enter),G.move&&et.dropzone.fire(G.move),G.drop&&et.dropzone.fire(G.drop),G.deactivate&&Me(_,G.deactivate),$.prev.dropzone=et.dropzone,$.prev.element=et.element}function Fe(N,G){var $=N.interaction,_=N.iEvent,et=N.event;if(_.type==="dragmove"||_.type==="dragend"){var nt=$.dropState;G.dynamicDrop&&(nt.activeDrops=zt(G,$.element));var ot=_,ut=ne($,ot,et);nt.rejected=nt.rejected&&!!ut&&ut.dropzone===nt.cur.dropzone&&ut.element===nt.cur.element,nt.cur.dropzone=ut&&ut.dropzone,nt.cur.element=ut&&ut.element,nt.events=be($,0,ot)}}var de={id:"actions/drop",install:function(N){var G=N.actions,$=N.interactStatic,_=N.Interactable,et=N.defaults;N.usePlugin(A),_.prototype.dropzone=function(nt){return function(ot,ut){if(x.object(ut)){if(ot.options.drop.enabled=ut.enabled!==!1,ut.listeners){var ct=Ct(ut.listeners),Et=Object.keys(ct).reduce(function(bt,Bt){return bt[/^(enter|leave)/.test(Bt)?"drag".concat(Bt):/^(activate|deactivate|move)/.test(Bt)?"drop".concat(Bt):Bt]=ct[Bt],bt},{}),pt=ot.options.drop.listeners;pt&&ot.off(pt),ot.on(Et),ot.options.drop.listeners=Et}return x.func(ut.ondrop)&&ot.on("drop",ut.ondrop),x.func(ut.ondropactivate)&&ot.on("dropactivate",ut.ondropactivate),x.func(ut.ondropdeactivate)&&ot.on("dropdeactivate",ut.ondropdeactivate),x.func(ut.ondragenter)&&ot.on("dragenter",ut.ondragenter),x.func(ut.ondragleave)&&ot.on("dragleave",ut.ondragleave),x.func(ut.ondropmove)&&ot.on("dropmove",ut.ondropmove),/^(pointer|center)$/.test(ut.overlap)?ot.options.drop.overlap=ut.overlap:x.number(ut.overlap)&&(ot.options.drop.overlap=Math.max(Math.min(1,ut.overlap),0)),"accept"in ut&&(ot.options.drop.accept=ut.accept),"checker"in ut&&(ot.options.drop.checker=ut.checker),ot}return x.bool(ut)?(ot.options.drop.enabled=ut,ot):ot.options.drop}(this,nt)},_.prototype.dropCheck=function(nt,ot,ut,ct,Et,pt){return function(bt,Bt,Zt,Kt,_t,ue,le){var Te=!1;if(!(le=le||bt.getRect(ue)))return!!bt.options.drop.checker&&bt.options.drop.checker(Bt,Zt,Te,bt,ue,Kt,_t);var De=bt.options.drop.overlap;if(De==="pointer"){var Xe=xt(Kt,_t,"drag"),Re=Ht(Bt);Re.x+=Xe.x,Re.y+=Xe.y;var Ne=Re.x>le.left&&Re.x<le.right,Si=Re.y>le.top&&Re.y<le.bottom;Te=Ne&&Si}var qe=Kt.getRect(_t);if(qe&&De==="center"){var Bi=qe.left+qe.width/2,ki=qe.top+qe.height/2;Te=Bi>=le.left&&Bi<=le.right&&ki>=le.top&&ki<=le.bottom}return qe&&x.number(De)&&(Te=Math.max(0,Math.min(le.right,qe.right)-Math.max(le.left,qe.left))*Math.max(0,Math.min(le.bottom,qe.bottom)-Math.max(le.top,qe.top))/(qe.width*qe.height)>=De),bt.options.drop.checker&&(Te=bt.options.drop.checker(Bt,Zt,Te,bt,ue,Kt,_t)),Te}(this,nt,ot,ut,ct,Et,pt)},$.dynamicDrop=function(nt){return x.bool(nt)?(N.dynamicDrop=nt,$):N.dynamicDrop},J(G.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),G.methodDict.drop="dropzone",N.dynamicDrop=!1,et.actions.drop=de.defaults},listeners:{"interactions:before-action-start":function(N){var G=N.interaction;G.prepared.name==="drag"&&(G.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(N,G){var $=N.interaction,_=(N.event,N.iEvent);if($.prepared.name==="drag"){var et=$.dropState;et.activeDrops=[],et.events={},et.activeDrops=zt(G,$.element),et.events=be($,0,_),et.events.activate&&(Me(et.activeDrops,et.events.activate),G.fire("actions/drop:start",{interaction:$,dragEvent:_}))}},"interactions:action-move":Fe,"interactions:after-action-move":function(N,G){var $=N.interaction,_=N.iEvent;if($.prepared.name==="drag"){var et=$.dropState;Oe($,et.events),G.fire("actions/drop:move",{interaction:$,dragEvent:_}),et.events={}}},"interactions:action-end":function(N,G){if(N.interaction.prepared.name==="drag"){var $=N.interaction,_=N.iEvent;Fe(N,G),Oe($,$.dropState.events),G.fire("actions/drop:end",{interaction:$,dragEvent:_})}},"interactions:stop":function(N){var G=N.interaction;if(G.prepared.name==="drag"){var $=G.dropState;$&&($.activeDrops=null,$.events=null,$.cur.dropzone=null,$.cur.element=null,$.prev.dropzone=null,$.prev.element=null,$.rejected=!1)}}},getActiveDrops:zt,getDrop:ne,getDropEvents:be,fireDropEvents:Oe,filterEventType:function(N){return N.search("drag")===0||N.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},we=de;function Ve(N){var G=N.interaction,$=N.iEvent,_=N.phase;if(G.prepared.name==="gesture"){var et=G.pointers.map(function(Et){return Et.pointer}),nt=_==="start",ot=_==="end",ut=G.interactable.options.deltaSource;if($.touches=[et[0],et[1]],nt)$.distance=jt(et,ut),$.box=Vt(et),$.scale=1,$.ds=0,$.angle=It(et,ut),$.da=0,G.gesture.startDistance=$.distance,G.gesture.startAngle=$.angle;else if(ot||G.pointers.length<2){var ct=G.prevEvent;$.distance=ct.distance,$.box=ct.box,$.scale=ct.scale,$.ds=0,$.angle=ct.angle,$.da=0}else $.distance=jt(et,ut),$.box=Vt(et),$.scale=$.distance/G.gesture.startDistance,$.angle=It(et,ut),$.ds=$.scale-G.gesture.scale,$.da=$.angle-G.gesture.angle;G.gesture.distance=$.distance,G.gesture.angle=$.angle,x.number($.scale)&&$.scale!==1/0&&!isNaN($.scale)&&(G.gesture.scale=$.scale)}}var Ue={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(N){var G=N.actions,$=N.Interactable,_=N.defaults;$.prototype.gesturable=function(et){return x.object(et)?(this.options.gesture.enabled=et.enabled!==!1,this.setPerAction("gesture",et),this.setOnEvents("gesture",et),this):x.bool(et)?(this.options.gesture.enabled=et,this):this.options.gesture},G.map.gesture=Ue,G.methodDict.gesture="gesturable",_.actions.gesture=Ue.defaults},listeners:{"interactions:action-start":Ve,"interactions:action-move":Ve,"interactions:action-end":Ve,"interactions:new":function(N){N.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(N){if(!(N.interaction.pointers.length<2)){var G=N.interactable.options.gesture;if(G&&G.enabled)return N.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(N){return N.search("gesture")===0}},li=Ue;function Ze(N,G,$,_,et,nt,ot){if(!G)return!1;if(G===!0){var ut=x.number(nt.width)?nt.width:nt.right-nt.left,ct=x.number(nt.height)?nt.height:nt.bottom-nt.top;if(ot=Math.min(ot,Math.abs((N==="left"||N==="right"?ut:ct)/2)),ut<0&&(N==="left"?N="right":N==="right"&&(N="left")),ct<0&&(N==="top"?N="bottom":N==="bottom"&&(N="top")),N==="left"){var Et=ut>=0?nt.left:nt.right;return $.x<Et+ot}if(N==="top"){var pt=ct>=0?nt.top:nt.bottom;return $.y<pt+ot}if(N==="right")return $.x>(ut>=0?nt.right:nt.left)-ot;if(N==="bottom")return $.y>(ct>=0?nt.bottom:nt.top)-ot}return!!x.element(_)&&(x.element(G)?G===_:X(_,G,et))}function pi(N){var G=N.iEvent,$=N.interaction;if($.prepared.name==="resize"&&$.resizeAxes){var _=G;$.interactable.options.resize.square?($.resizeAxes==="y"?_.delta.x=_.delta.y:_.delta.y=_.delta.x,_.axes="xy"):(_.axes=$.resizeAxes,$.resizeAxes==="x"?_.delta.y=0:$.resizeAxes==="y"&&(_.delta.x=0))}}var ei,ze,Ge={id:"actions/resize",before:["actions/drag"],install:function(N){var G=N.actions,$=N.browser,_=N.Interactable,et=N.defaults;Ge.cursors=function(nt){return nt.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}($),Ge.defaultMargin=$.supportsTouch||$.supportsPointerEvent?20:10,_.prototype.resizable=function(nt){return function(ot,ut,ct){return x.object(ut)?(ot.options.resize.enabled=ut.enabled!==!1,ot.setPerAction("resize",ut),ot.setOnEvents("resize",ut),x.string(ut.axis)&&/^x$|^y$|^xy$/.test(ut.axis)?ot.options.resize.axis=ut.axis:ut.axis===null&&(ot.options.resize.axis=ct.defaults.actions.resize.axis),x.bool(ut.preserveAspectRatio)?ot.options.resize.preserveAspectRatio=ut.preserveAspectRatio:x.bool(ut.square)&&(ot.options.resize.square=ut.square),ot):x.bool(ut)?(ot.options.resize.enabled=ut,ot):ot.options.resize}(this,nt,N)},G.map.resize=Ge,G.methodDict.resize="resizable",et.actions.resize=Ge.defaults},listeners:{"interactions:new":function(N){N.interaction.resizeAxes="xy"},"interactions:action-start":function(N){(function(G){var $=G.iEvent,_=G.interaction;if(_.prepared.name==="resize"&&_.prepared.edges){var et=$,nt=_.rect;_._rects={start:J({},nt),corrected:J({},nt),previous:J({},nt),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},et.edges=_.prepared.edges,et.rect=_._rects.corrected,et.deltaRect=_._rects.delta}})(N),pi(N)},"interactions:action-move":function(N){(function(G){var $=G.iEvent,_=G.interaction;if(_.prepared.name==="resize"&&_.prepared.edges){var et=$,nt=_.interactable.options.resize.invert,ot=nt==="reposition"||nt==="negate",ut=_.rect,ct=_._rects,Et=ct.start,pt=ct.corrected,bt=ct.delta,Bt=ct.previous;if(J(Bt,pt),ot){if(J(pt,ut),nt==="reposition"){if(pt.top>pt.bottom){var Zt=pt.top;pt.top=pt.bottom,pt.bottom=Zt}if(pt.left>pt.right){var Kt=pt.left;pt.left=pt.right,pt.right=Kt}}}else pt.top=Math.min(ut.top,Et.bottom),pt.bottom=Math.max(ut.bottom,Et.top),pt.left=Math.min(ut.left,Et.right),pt.right=Math.max(ut.right,Et.left);for(var _t in pt.width=pt.right-pt.left,pt.height=pt.bottom-pt.top,pt)bt[_t]=pt[_t]-Bt[_t];et.edges=_.prepared.edges,et.rect=pt,et.deltaRect=bt}})(N),pi(N)},"interactions:action-end":function(N){var G=N.iEvent,$=N.interaction;if($.prepared.name==="resize"&&$.prepared.edges){var _=G;_.edges=$.prepared.edges,_.rect=$._rects.corrected,_.deltaRect=$._rects.delta}},"auto-start:check":function(N){var G=N.interaction,$=N.interactable,_=N.element,et=N.rect,nt=N.buttons;if(et){var ot=J({},G.coords.cur.page),ut=$.options.resize;if(ut&&ut.enabled&&(!G.pointerIsDown||!/mouse|pointer/.test(G.pointerType)||nt&ut.mouseButtons)){if(x.object(ut.edges)){var ct={left:!1,right:!1,top:!1,bottom:!1};for(var Et in ct)ct[Et]=Ze(Et,ut.edges[Et],ot,G._latestPointer.eventTarget,_,et,ut.margin||Ge.defaultMargin);ct.left=ct.left&&!ct.right,ct.top=ct.top&&!ct.bottom,(ct.left||ct.right||ct.top||ct.bottom)&&(N.action={name:"resize",edges:ct})}else{var pt=ut.axis!=="y"&&ot.x>et.right-Ge.defaultMargin,bt=ut.axis!=="x"&&ot.y>et.bottom-Ge.defaultMargin;(pt||bt)&&(N.action={name:"resize",axes:(pt?"x":"")+(bt?"y":"")})}return!N.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(N){var G=N.edges,$=N.axis,_=N.name,et=Ge.cursors,nt=null;if($)nt=et[_+$];else if(G){for(var ot="",ut=0,ct=["top","bottom","left","right"];ut<ct.length;ut++){var Et=ct[ut];G[Et]&&(ot+=Et)}nt=et[ot]}return nt},filterEventType:function(N){return N.search("resize")===0},defaultMargin:null},ii=Ge,mi={id:"actions",install:function(N){N.usePlugin(li),N.usePlugin(ii),N.usePlugin(A),N.usePlugin(we)}},ve=0,Qe={request:function(N){return ei(N)},cancel:function(N){return ze(N)},init:function(N){if(ei=N.requestAnimationFrame,ze=N.cancelAnimationFrame,!ei)for(var G=["ms","moz","webkit","o"],$=0;$<G.length;$++){var _=G[$];ei=N["".concat(_,"RequestAnimationFrame")],ze=N["".concat(_,"CancelAnimationFrame")]||N["".concat(_,"CancelRequestAnimationFrame")]}ei=ei&&ei.bind(N),ze=ze&&ze.bind(N),ei||(ei=function(et){var nt=Date.now(),ot=Math.max(0,16-(nt-ve)),ut=N.setTimeout(function(){et(nt+ot)},ot);return ve=nt+ot,ut},ze=function(et){return clearTimeout(et)})}},me={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(N){me.isScrolling=!0,Qe.cancel(me.i),N.autoScroll=me,me.interaction=N,me.prevTime=me.now(),me.i=Qe.request(me.scroll)},stop:function(){me.isScrolling=!1,me.interaction&&(me.interaction.autoScroll=null),Qe.cancel(me.i)},scroll:function(){var N=me.interaction,G=N.interactable,$=N.element,_=N.prepared.name,et=G.options[_].autoScroll,nt=Ai(et.container,G,$),ot=me.now(),ut=(ot-me.prevTime)/1e3,ct=et.speed*ut;if(ct>=1){var Et={x:me.x*ct,y:me.y*ct};if(Et.x||Et.y){var pt=xi(nt);x.window(nt)?nt.scrollBy(Et.x,Et.y):nt&&(nt.scrollLeft+=Et.x,nt.scrollTop+=Et.y);var bt=xi(nt),Bt={x:bt.x-pt.x,y:bt.y-pt.y};(Bt.x||Bt.y)&&G.fire({type:"autoscroll",target:$,interactable:G,delta:Bt,interaction:N,container:nt})}me.prevTime=ot}me.isScrolling&&(Qe.cancel(me.i),me.i=Qe.request(me.scroll))},check:function(N,G){var $;return($=N.options[G].autoScroll)==null?void 0:$.enabled},onInteractionMove:function(N){var G=N.interaction,$=N.pointer;if(G.interacting()&&me.check(G.interactable,G.prepared.name))if(G.simulation)me.x=me.y=0;else{var _,et,nt,ot,ut=G.interactable,ct=G.element,Et=G.prepared.name,pt=ut.options[Et].autoScroll,bt=Ai(pt.container,ut,ct);if(x.window(bt))ot=$.clientX<me.margin,_=$.clientY<me.margin,et=$.clientX>bt.innerWidth-me.margin,nt=$.clientY>bt.innerHeight-me.margin;else{var Bt=D(bt);ot=$.clientX<Bt.left+me.margin,_=$.clientY<Bt.top+me.margin,et=$.clientX>Bt.right-me.margin,nt=$.clientY>Bt.bottom-me.margin}me.x=et?1:ot?-1:0,me.y=nt?1:_?-1:0,me.isScrolling||(me.margin=pt.margin,me.speed=pt.speed,me.start(G))}}};function Ai(N,G,$){return(x.string(N)?it(N,G,$):N)||u($)}function xi(N){return x.window(N)&&(N=window.document.body),{x:N.scrollLeft,y:N.scrollTop}}var Ss={id:"auto-scroll",install:function(N){var G=N.defaults,$=N.actions;N.autoScroll=me,me.now=function(){return N.now()},$.phaselessTypes.autoscroll=!0,G.perAction.autoScroll=me.defaults},listeners:{"interactions:new":function(N){N.interaction.autoScroll=null},"interactions:destroy":function(N){N.interaction.autoScroll=null,me.stop(),me.interaction&&(me.interaction=null)},"interactions:stop":me.stop,"interactions:action-move":function(N){return me.onInteractionMove(N)}}},ds=Ss;function Di(N,G){var $=!1;return function(){return $||(h.console.warn(G),$=!0),N.apply(this,arguments)}}function Zs(N,G){return N.name=G.name,N.axis=G.axis,N.edges=G.edges,N}function gn(N){return x.bool(N)?(this.options.styleCursor=N,this):N===null?(delete this.options.styleCursor,this):this.options.styleCursor}function xn(N){return x.func(N)?(this.options.actionChecker=N,this):N===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Yi={id:"auto-start/interactableMethods",install:function(N){var G=N.Interactable;G.prototype.getAction=function($,_,et,nt){var ot=function(ut,ct,Et,pt,bt){var Bt=ut.getRect(pt),Zt=ct.buttons||{0:1,1:4,3:8,4:16}[ct.button],Kt={action:null,interactable:ut,interaction:Et,element:pt,rect:Bt,buttons:Zt};return bt.fire("auto-start:check",Kt),Kt.action}(this,_,et,nt,N);return this.options.actionChecker?this.options.actionChecker($,_,ot,this,nt,et):ot},G.prototype.ignoreFrom=Di(function($){return this._backCompatOption("ignoreFrom",$)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),G.prototype.allowFrom=Di(function($){return this._backCompatOption("allowFrom",$)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),G.prototype.actionChecker=xn,G.prototype.styleCursor=gn}};function Qi(N,G,$,_,et){return G.testIgnoreAllow(G.options[N.name],$,_)&&G.options[N.name].enabled&&ui(G,$,N,et)?N:null}function qi(N,G,$,_,et,nt,ot){for(var ut=0,ct=_.length;ut<ct;ut++){var Et=_[ut],pt=et[ut],bt=Et.getAction(G,$,N,pt);if(bt){var Bt=Qi(bt,Et,pt,nt,ot);if(Bt)return{action:Bt,interactable:Et,element:pt}}}return{action:null,interactable:null,element:null}}function Js(N,G,$,_,et){var nt=[],ot=[],ut=_;function ct(pt){nt.push(pt),ot.push(ut)}for(;x.element(ut);){nt=[],ot=[],et.interactables.forEachMatch(ut,ct);var Et=qi(N,G,$,nt,ot,_,et);if(Et.action&&!Et.interactable.options[Et.action.name].manualStart)return Et;ut=U(ut)}return{action:null,interactable:null,element:null}}function Qs(N,G,$){var _=G.action,et=G.interactable,nt=G.element;_=_||{name:null},N.interactable=et,N.element=nt,Zs(N.prepared,_),N.rect=et&&_.name?et.getRect(nt):null,cs(N,$),$.fire("autoStart:prepared",{interaction:N})}function ui(N,G,$,_){var et=N.options,nt=et[$.name].max,ot=et[$.name].maxPerElement,ut=_.autoStart.maxInteractions,ct=0,Et=0,pt=0;if(!(nt&&ot&&ut))return!1;for(var bt=0,Bt=_.interactions.list;bt<Bt.length;bt++){var Zt=Bt[bt],Kt=Zt.prepared.name;if(Zt.interacting()&&(++ct>=ut||Zt.interactable===N&&((Et+=Kt===$.name?1:0)>=nt||Zt.element===G&&(pt++,Kt===$.name&&pt>=ot))))return!1}return ut>0}function yi(N,G){return x.number(N)?(G.autoStart.maxInteractions=N,this):G.autoStart.maxInteractions}function Ns(N,G,$){var _=$.autoStart.cursorElement;_&&_!==N&&(_.style.cursor=""),N.ownerDocument.documentElement.style.cursor=G,N.style.cursor=G,$.autoStart.cursorElement=G?N:null}function cs(N,G){var $=N.interactable,_=N.element,et=N.prepared;if(N.pointerType==="mouse"&&$&&$.options.styleCursor){var nt="";if(et.name){var ot=$.options[et.name].cursorChecker;nt=x.func(ot)?ot(et,$,_,N._interacting):G.actions.map[et.name].getCursor(et)}Ns(N.element,nt||"",G)}else G.autoStart.cursorElement&&Ns(G.autoStart.cursorElement,"",G)}var vs={id:"auto-start/base",before:["actions"],install:function(N){var G=N.interactStatic,$=N.defaults;N.usePlugin(Yi),$.base.actionChecker=null,$.base.styleCursor=!0,J($.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),G.maxInteractions=function(_){return yi(_,N)},N.autoStart={maxInteractions:1/0,withinInteractionLimit:ui,cursorElement:null}},listeners:{"interactions:down":function(N,G){var $=N.interaction,_=N.pointer,et=N.event,nt=N.eventTarget;$.interacting()||Qs($,Js($,_,et,nt,G),G)},"interactions:move":function(N,G){(function($,_){var et=$.interaction,nt=$.pointer,ot=$.event,ut=$.eventTarget;et.pointerType!=="mouse"||et.pointerIsDown||et.interacting()||Qs(et,Js(et,nt,ot,ut,_),_)})(N,G),function($,_){var et=$.interaction;if(et.pointerIsDown&&!et.interacting()&&et.pointerWasMoved&&et.prepared.name){_.fire("autoStart:before-start",$);var nt=et.interactable,ot=et.prepared.name;ot&&nt&&(nt.options[ot].manualStart||!ui(nt,et.element,et.prepared,_)?et.stop():(et.start(et.prepared,nt,et.element),cs(et,_)))}}(N,G)},"interactions:stop":function(N,G){var $=N.interaction,_=$.interactable;_&&_.options.styleCursor&&Ns($.element,"",G)}},maxInteractions:yi,withinInteractionLimit:ui,validateAction:Qi},Mi=vs,yn={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(N,G){var $=N.interaction,_=N.eventTarget,et=N.dx,nt=N.dy;if($.prepared.name==="drag"){var ot=Math.abs(et),ut=Math.abs(nt),ct=$.interactable.options.drag,Et=ct.startAxis,pt=ot>ut?"x":ot<ut?"y":"xy";if($.prepared.axis=ct.lockAxis==="start"?pt[0]:ct.lockAxis,pt!=="xy"&&Et!=="xy"&&Et!==pt){$.prepared.name=null;for(var bt=_,Bt=function(Kt){if(Kt!==$.interactable){var _t=$.interactable.options.drag;if(!_t.manualStart&&Kt.testIgnoreAllow(_t,bt,_)){var ue=Kt.getAction($.downPointer,$.downEvent,$,bt);if(ue&&ue.name==="drag"&&function(le,Te){if(!Te)return!1;var De=Te.options.drag.startAxis;return le==="xy"||De==="xy"||De===le}(pt,Kt)&&Mi.validateAction(ue,Kt,bt,_,G))return Kt}}};x.element(bt);){var Zt=G.interactables.forEachMatch(bt,Bt);if(Zt){$.prepared.name="drag",$.interactable=Zt,$.element=bt;break}bt=U(bt)}}}}}};function qs(N){var G=N.prepared&&N.prepared.name;if(!G)return null;var $=N.interactable.options;return $[G].hold||$[G].delay}var Zn={id:"auto-start/hold",install:function(N){var G=N.defaults;N.usePlugin(Mi),G.perAction.hold=0,G.perAction.delay=0},listeners:{"interactions:new":function(N){N.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(N){var G=N.interaction,$=qs(G);$>0&&(G.autoStartHoldTimer=setTimeout(function(){G.start(G.prepared,G.interactable,G.element)},$))},"interactions:move":function(N){var G=N.interaction,$=N.duplicate;G.autoStartHoldTimer&&G.pointerWasMoved&&!$&&(clearTimeout(G.autoStartHoldTimer),G.autoStartHoldTimer=null)},"autoStart:before-start":function(N){var G=N.interaction;qs(G)>0&&(G.prepared.name=null)}},getHoldDuration:qs},_i=Zn,Jn={id:"auto-start",install:function(N){N.usePlugin(Mi),N.usePlugin(_i),N.usePlugin(yn)}},he=function(N){return/^(always|never|auto)$/.test(N)?(this.options.preventDefault=N,this):x.bool(N)?(this.options.preventDefault=N?"always":"never",this):this.options.preventDefault};function Pe(N){var G=N.interaction,$=N.event;G.interactable&&G.interactable.checkAndPreventDefault($)}var ts={id:"core/interactablePreventDefault",install:function(N){var G=N.Interactable;G.prototype.preventDefault=he,G.prototype.checkAndPreventDefault=function($){return function(_,et,nt){var ot=_.options.preventDefault;if(ot!=="never")if(ot!=="always"){if(et.events.supportsPassive&&/^touch(start|move)$/.test(nt.type)){var ut=u(nt.target).document,ct=et.getDocOptions(ut);if(!ct||!ct.events||ct.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(nt.type)||x.element(nt.target)&&H(nt.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||nt.preventDefault()}else nt.preventDefault()}(this,N,$)},N.interactions.docEvents.push({type:"dragstart",listener:function($){for(var _=0,et=N.interactions.list;_<et.length;_++){var nt=et[_];if(nt.element&&(nt.element===$.target||I(nt.element,$.target)))return void nt.interactable.checkAndPreventDefault($)}}})},listeners:["down","move","up","cancel"].reduce(function(N,G){return N["interactions:".concat(G)]=Pe,N},{})};function Wi(N,G){if(G.phaselessTypes[N])return!0;for(var $ in G.map)if(N.indexOf($)===0&&N.substr($.length)in G.phases)return!0;return!1}function wi(N){var G={};for(var $ in N){var _=N[$];x.plainObject(_)?G[$]=wi(_):x.array(_)?G[$]=ae(_):G[$]=_}return G}var ps=function(){function N(G){R(this,N),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=G,this.result=Vi(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return y(N,[{key:"start",value:function(G,$){var _,et,nt=G.phase,ot=this.interaction,ut=function(Et){var pt=Et.interactable.options[Et.prepared.name],bt=pt.modifiers;return bt&&bt.length?bt:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(Bt){var Zt=pt[Bt];return Zt&&Zt.enabled&&{options:Zt,methods:Zt._methods}}).filter(function(Bt){return!!Bt})}(ot);this.prepareStates(ut),this.startEdges=J({},ot.edges),this.edges=J({},this.startEdges),this.startOffset=(_=ot.rect,et=$,_?{left:et.x-_.left,top:et.y-_.top,right:_.right-et.x,bottom:_.bottom-et.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var ct=this.fillArg({phase:nt,pageCoords:$,preEnd:!1});return this.result=Vi(),this.startAll(ct),this.result=this.setAll(ct)}},{key:"fillArg",value:function(G){var $=this.interaction;return G.interaction=$,G.interactable=$.interactable,G.element=$.element,G.rect||(G.rect=$.rect),G.edges||(G.edges=this.startEdges),G.startOffset=this.startOffset,G}},{key:"startAll",value:function(G){for(var $=0,_=this.states;$<_.length;$++){var et=_[$];et.methods.start&&(G.state=et,et.methods.start(G))}}},{key:"setAll",value:function(G){var $=G.phase,_=G.preEnd,et=G.skipModifiers,nt=G.rect,ot=G.edges;G.coords=J({},G.pageCoords),G.rect=J({},nt),G.edges=J({},ot);for(var ut=et?this.states.slice(et):this.states,ct=Vi(G.coords,G.rect),Et=0;Et<ut.length;Et++){var pt,bt=ut[Et],Bt=bt.options,Zt=J({},G.coords),Kt=null;(pt=bt.methods)!=null&&pt.set&&this.shouldDo(Bt,_,$)&&(G.state=bt,Kt=bt.methods.set(G),vt(G.edges,G.rect,{x:G.coords.x-Zt.x,y:G.coords.y-Zt.y})),ct.eventProps.push(Kt)}J(this.edges,G.edges),ct.delta.x=G.coords.x-G.pageCoords.x,ct.delta.y=G.coords.y-G.pageCoords.y,ct.rectDelta.left=G.rect.left-nt.left,ct.rectDelta.right=G.rect.right-nt.right,ct.rectDelta.top=G.rect.top-nt.top,ct.rectDelta.bottom=G.rect.bottom-nt.bottom;var _t=this.result.coords,ue=this.result.rect;if(_t&&ue){var le=ct.rect.left!==ue.left||ct.rect.right!==ue.right||ct.rect.top!==ue.top||ct.rect.bottom!==ue.bottom;ct.changed=le||_t.x!==ct.coords.x||_t.y!==ct.coords.y}return ct}},{key:"applyToInteraction",value:function(G){var $=this.interaction,_=G.phase,et=$.coords.cur,nt=$.coords.start,ot=this.result,ut=this.startDelta,ct=ot.delta;_==="start"&&J(this.startDelta,ot.delta);for(var Et=0,pt=[[nt,ut],[et,ct]];Et<pt.length;Et++){var bt=pt[Et],Bt=bt[0],Zt=bt[1];Bt.page.x+=Zt.x,Bt.page.y+=Zt.y,Bt.client.x+=Zt.x,Bt.client.y+=Zt.y}var Kt=this.result.rectDelta,_t=G.rect||$.rect;_t.left+=Kt.left,_t.right+=Kt.right,_t.top+=Kt.top,_t.bottom+=Kt.bottom,_t.width=_t.right-_t.left,_t.height=_t.bottom-_t.top}},{key:"setAndApply",value:function(G){var $=this.interaction,_=G.phase,et=G.preEnd,nt=G.skipModifiers,ot=this.setAll(this.fillArg({preEnd:et,phase:_,pageCoords:G.modifiedCoords||$.coords.cur.page}));if(this.result=ot,!ot.changed&&(!nt||nt<this.states.length)&&$.interacting())return!1;if(G.modifiedCoords){var ut=$.coords.cur.page,ct={x:G.modifiedCoords.x-ut.x,y:G.modifiedCoords.y-ut.y};ot.coords.x+=ct.x,ot.coords.y+=ct.y,ot.delta.x+=ct.x,ot.delta.y+=ct.y}this.applyToInteraction(G)}},{key:"beforeEnd",value:function(G){var $=G.interaction,_=G.event,et=this.states;if(et&&et.length){for(var nt=!1,ot=0;ot<et.length;ot++){var ut=et[ot];G.state=ut;var ct=ut.options,Et=ut.methods,pt=Et.beforeEnd&&Et.beforeEnd(G);if(pt)return this.endResult=pt,!1;nt=nt||!nt&&this.shouldDo(ct,!0,G.phase,!0)}nt&&$.move({event:_,preEnd:!0})}}},{key:"stop",value:function(G){var $=G.interaction;if(this.states&&this.states.length){var _=J({states:this.states,interactable:$.interactable,element:$.element,rect:null},G);this.fillArg(_);for(var et=0,nt=this.states;et<nt.length;et++){var ot=nt[et];_.state=ot,ot.methods.stop&&ot.methods.stop(_)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(G){this.states=[];for(var $=0;$<G.length;$++){var _=G[$],et=_.options,nt=_.methods,ot=_.name;this.states.push({options:et,methods:nt,index:$,name:ot})}return this.states}},{key:"restoreInteractionCoords",value:function(G){var $=G.interaction,_=$.coords,et=$.rect,nt=$.modification;if(nt.result){for(var ot=nt.startDelta,ut=nt.result,ct=ut.delta,Et=ut.rectDelta,pt=0,bt=[[_.start,ot],[_.cur,ct]];pt<bt.length;pt++){var Bt=bt[pt],Zt=Bt[0],Kt=Bt[1];Zt.page.x-=Kt.x,Zt.page.y-=Kt.y,Zt.client.x-=Kt.x,Zt.client.y-=Kt.y}et.left-=Et.left,et.right-=Et.right,et.top-=Et.top,et.bottom-=Et.bottom}}},{key:"shouldDo",value:function(G,$,_,et){return!(!G||G.enabled===!1||et&&!G.endOnly||G.endOnly&&!$||_==="start"&&!G.setStart)}},{key:"copyFrom",value:function(G){this.startOffset=G.startOffset,this.startDelta=G.startDelta,this.startEdges=G.startEdges,this.edges=G.edges,this.states=G.states.map(function($){return wi($)}),this.result=Vi(J({},G.result.coords),J({},G.result.rect))}},{key:"destroy",value:function(){for(var G in this)this[G]=null}}]),N}();function Vi(N,G){return{rect:G,coords:N,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function fi(N,G){var $=N.defaults,_={start:N.start,set:N.set,beforeEnd:N.beforeEnd,stop:N.stop},et=function(nt){var ot=nt||{};for(var ut in ot.enabled=ot.enabled!==!1,$)ut in ot||(ot[ut]=$[ut]);var ct={options:ot,methods:_,name:G,enable:function(){return ot.enabled=!0,ct},disable:function(){return ot.enabled=!1,ct}};return ct};return G&&typeof G=="string"&&(et._defaults=$,et._methods=_),et}function oi(N){var G=N.iEvent,$=N.interaction.modification.result;$&&(G.modifiers=$.eventProps)}var Es={id:"modifiers/base",before:["actions"],install:function(N){N.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(N){var G=N.interaction;G.modification=new ps(G)},"interactions:before-action-start":function(N){var G=N.interaction,$=N.interaction.modification;$.start(N,G.coords.start.page),G.edges=$.edges,$.applyToInteraction(N)},"interactions:before-action-move":function(N){var G=N.interaction,$=G.modification,_=$.setAndApply(N);return G.edges=$.edges,_},"interactions:before-action-end":function(N){var G=N.interaction,$=G.modification,_=$.beforeEnd(N);return G.edges=$.startEdges,_},"interactions:action-start":oi,"interactions:action-move":oi,"interactions:action-end":oi,"interactions:after-action-start":function(N){return N.interaction.modification.restoreInteractionCoords(N)},"interactions:after-action-move":function(N){return N.interaction.modification.restoreInteractionCoords(N)},"interactions:stop":function(N){return N.interaction.modification.stop(N)}}},bi=Es,ms={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},es=function(N){o($,N);var G=n($);function $(_,et,nt,ot,ut,ct,Et){var pt;R(this,$),(pt=G.call(this,_)).relatedTarget=null,pt.screenX=void 0,pt.screenY=void 0,pt.button=void 0,pt.buttons=void 0,pt.ctrlKey=void 0,pt.shiftKey=void 0,pt.altKey=void 0,pt.metaKey=void 0,pt.page=void 0,pt.client=void 0,pt.delta=void 0,pt.rect=void 0,pt.x0=void 0,pt.y0=void 0,pt.t0=void 0,pt.dt=void 0,pt.duration=void 0,pt.clientX0=void 0,pt.clientY0=void 0,pt.velocity=void 0,pt.speed=void 0,pt.swipe=void 0,pt.axes=void 0,pt.preEnd=void 0,ut=ut||_.element;var bt=_.interactable,Bt=(bt&&bt.options||ms).deltaSource,Zt=xt(bt,ut,nt),Kt=ot==="start",_t=ot==="end",ue=Kt?i(pt):_.prevEvent,le=Kt?_.coords.start:_t?{page:ue.page,client:ue.client,timeStamp:_.coords.cur.timeStamp}:_.coords.cur;return pt.page=J({},le.page),pt.client=J({},le.client),pt.rect=J({},_.rect),pt.timeStamp=le.timeStamp,_t||(pt.page.x-=Zt.x,pt.page.y-=Zt.y,pt.client.x-=Zt.x,pt.client.y-=Zt.y),pt.ctrlKey=et.ctrlKey,pt.altKey=et.altKey,pt.shiftKey=et.shiftKey,pt.metaKey=et.metaKey,pt.button=et.button,pt.buttons=et.buttons,pt.target=ut,pt.currentTarget=ut,pt.preEnd=ct,pt.type=Et||nt+(ot||""),pt.interactable=bt,pt.t0=Kt?_.pointers[_.pointers.length-1].downTime:ue.t0,pt.x0=_.coords.start.page.x-Zt.x,pt.y0=_.coords.start.page.y-Zt.y,pt.clientX0=_.coords.start.client.x-Zt.x,pt.clientY0=_.coords.start.client.y-Zt.y,pt.delta=Kt||_t?{x:0,y:0}:{x:pt[Bt].x-ue[Bt].x,y:pt[Bt].y-ue[Bt].y},pt.dt=_.coords.delta.timeStamp,pt.duration=pt.timeStamp-pt.t0,pt.velocity=J({},_.coords.velocity[Bt]),pt.speed=Pt(pt.velocity.x,pt.velocity.y),pt.swipe=_t||ot==="inertiastart"?pt.getSwipe():null,pt}return y($,[{key:"getSwipe",value:function(){var _=this._interaction;if(_.prevEvent.speed<600||this.timeStamp-_.prevEvent.timeStamp>150)return null;var et=180*Math.atan2(_.prevEvent.velocityY,_.prevEvent.velocityX)/Math.PI;et<0&&(et+=360);var nt=112.5<=et&&et<247.5,ot=202.5<=et&&et<337.5;return{up:ot,down:!ot&&22.5<=et&&et<157.5,left:nt,right:!nt&&(292.5<=et||et<67.5),angle:et,speed:_.prevEvent.speed,velocity:{x:_.prevEvent.velocityX,y:_.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),$}(At);Object.defineProperties(es.prototype,{pageX:{get:function(){return this.page.x},set:function(N){this.page.x=N}},pageY:{get:function(){return this.page.y},set:function(N){this.page.y=N}},clientX:{get:function(){return this.client.x},set:function(N){this.client.x=N}},clientY:{get:function(){return this.client.y},set:function(N){this.client.y=N}},dx:{get:function(){return this.delta.x},set:function(N){this.delta.x=N}},dy:{get:function(){return this.delta.y},set:function(N){this.delta.y=N}},velocityX:{get:function(){return this.velocity.x},set:function(N){this.velocity.x=N}},velocityY:{get:function(){return this.velocity.y},set:function(N){this.velocity.y=N}}});var Vs=y(function N(G,$,_,et,nt){R(this,N),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=G,this.pointer=$,this.event=_,this.downTime=et,this.downTarget=nt}),Ii=function(N){return N.interactable="",N.element="",N.prepared="",N.pointerIsDown="",N.pointerWasMoved="",N._proxy="",N}({}),is=function(N){return N.start="",N.move="",N.end="",N.stop="",N.interacting="",N}({}),Tn=0,Qn=function(){function N(G){var $=this,_=G.pointerType,et=G.scopeFire;R(this,N),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Di(function(pt){this.move(pt)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Tn++,this._scopeFire=et,this.pointerType=_;var nt=this;this._proxy={};var ot=function(pt){Object.defineProperty($._proxy,pt,{get:function(){return nt[pt]}})};for(var ut in Ii)ot(ut);var ct=function(pt){Object.defineProperty($._proxy,pt,{value:function(){return nt[pt].apply(nt,arguments)}})};for(var Et in is)ct(Et);this._scopeFire("interactions:new",{interaction:this})}return y(N,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(G,$,_){var et=this.updatePointer(G,$,_,!0),nt=this.pointers[et];this._scopeFire("interactions:down",{pointer:G,event:$,eventTarget:_,pointerIndex:et,pointerInfo:nt,type:"down",interaction:this})}},{key:"start",value:function(G,$,_){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(G.name==="gesture"?2:1)||!$.options[G.name].enabled)&&(Zs(this.prepared,G),this.interactable=$,this.element=_,this.rect=$.getRect(_),this.edges=this.prepared.edges?J({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(G,$,_){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(G,$,_,!1);var et,nt,ot=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(et=this.coords.cur.client.x-this.coords.start.client.x,nt=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Pt(et,nt)>this.pointerMoveTolerance);var ut,ct,Et,pt=this.getPointerIndex(G),bt={pointer:G,pointerIndex:pt,pointerInfo:this.pointers[pt],event:$,type:"move",eventTarget:_,dx:et,dy:nt,duplicate:ot,interaction:this};ot||(ut=this.coords.velocity,ct=this.coords.delta,Et=Math.max(ct.timeStamp/1e3,.001),ut.page.x=ct.page.x/Et,ut.page.y=ct.page.y/Et,ut.client.x=ct.client.x/Et,ut.client.y=ct.client.y/Et,ut.timeStamp=Et),this._scopeFire("interactions:move",bt),ot||this.simulation||(this.interacting()&&(bt.type=null,this.move(bt)),this.pointerWasMoved&&Nt(this.coords.prev,this.coords.cur))}},{key:"move",value:function(G){G&&G.event||wt(this.coords.delta),(G=J({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},G||{})).phase="move",this._doPhase(G)}},{key:"pointerUp",value:function(G,$,_,et){var nt=this.getPointerIndex(G);nt===-1&&(nt=this.updatePointer(G,$,_,!1));var ot=/cancel$/i.test($.type)?"cancel":"up";this._scopeFire("interactions:".concat(ot),{pointer:G,pointerIndex:nt,pointerInfo:this.pointers[nt],event:$,eventTarget:_,type:ot,curEventTarget:et,interaction:this}),this.simulation||this.end($),this.removePointer(G,$)}},{key:"documentBlur",value:function(G){this.end(G),this._scopeFire("interactions:blur",{event:G,type:"blur",interaction:this})}},{key:"end",value:function(G){var $;this._ending=!0,G=G||this._latestPointer.event,this.interacting()&&($=this._doPhase({event:G,interaction:this,phase:"end"})),this._ending=!1,$===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(G){var $=qt(G);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Jt(this.pointers,function(_){return _.id===$})}},{key:"getPointerInfo",value:function(G){return this.pointers[this.getPointerIndex(G)]}},{key:"updatePointer",value:function(G,$,_,et){var nt,ot,ut,ct=qt(G),Et=this.getPointerIndex(G),pt=this.pointers[Et];return et=et!==!1&&(et||/(down|start)$/i.test($.type)),pt?pt.pointer=G:(pt=new Vs(ct,G,$,null,null),Et=this.pointers.length,this.pointers.push(pt)),ee(this.coords.cur,this.pointers.map(function(bt){return bt.pointer}),this._now()),nt=this.coords.delta,ot=this.coords.prev,ut=this.coords.cur,nt.page.x=ut.page.x-ot.page.x,nt.page.y=ut.page.y-ot.page.y,nt.client.x=ut.client.x-ot.client.x,nt.client.y=ut.client.y-ot.client.y,nt.timeStamp=ut.timeStamp-ot.timeStamp,et&&(this.pointerIsDown=!0,pt.downTime=this.coords.cur.timeStamp,pt.downTarget=_,Ut(this.downPointer,G),this.interacting()||(Nt(this.coords.start,this.coords.cur),Nt(this.coords.prev,this.coords.cur),this.downEvent=$,this.pointerWasMoved=!1)),this._updateLatestPointer(G,$,_),this._scopeFire("interactions:update-pointer",{pointer:G,event:$,eventTarget:_,down:et,pointerInfo:pt,pointerIndex:Et,interaction:this}),Et}},{key:"removePointer",value:function(G,$){var _=this.getPointerIndex(G);if(_!==-1){var et=this.pointers[_];this._scopeFire("interactions:remove-pointer",{pointer:G,event:$,eventTarget:null,pointerIndex:_,pointerInfo:et,interaction:this}),this.pointers.splice(_,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(G,$,_){this._latestPointer.pointer=G,this._latestPointer.event=$,this._latestPointer.eventTarget=_}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(G,$,_,et){return new es(this,G,this.prepared.name,$,this.element,_,et)}},{key:"_fireEvent",value:function(G){var $;($=this.interactable)==null||$.fire(G),(!this.prevEvent||G.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=G)}},{key:"_doPhase",value:function(G){var $=G.event,_=G.phase,et=G.preEnd,nt=G.type,ot=this.rect;if(ot&&_==="move"&&(vt(this.edges,ot,this.coords.delta[this.interactable.options.deltaSource]),ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top),this._scopeFire("interactions:before-action-".concat(_),G)===!1)return!1;var ut=G.iEvent=this._createPreparedEvent($,_,et,nt);return this._scopeFire("interactions:action-".concat(_),G),_==="start"&&(this.prevEvent=ut),this._fireEvent(ut),this._scopeFire("interactions:after-action-".concat(_),G),!0}},{key:"_now",value:function(){return Date.now()}}]),N}();function $i(N){_s(N.interaction)}function _s(N){if(!function($){return!(!$.offset.pending.x&&!$.offset.pending.y)}(N))return!1;var G=N.offset.pending;return tn(N.coords.cur,G),tn(N.coords.delta,G),vt(N.edges,N.rect,G),G.x=0,G.y=0,!0}function Sn(N){var G=N.x,$=N.y;this.offset.pending.x+=G,this.offset.pending.y+=$,this.offset.total.x+=G,this.offset.total.y+=$}function tn(N,G){var $=N.page,_=N.client,et=G.x,nt=G.y;$.x+=et,$.y+=nt,_.x+=et,_.y+=nt}is.offsetBy="";var ss={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(N){N.Interaction.prototype.offsetBy=Sn},listeners:{"interactions:new":function(N){N.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(N){return function(G){G.pointerIsDown&&(tn(G.coords.cur,G.offset.total),G.offset.pending.x=0,G.offset.pending.y=0)}(N.interaction)},"interactions:before-action-start":$i,"interactions:before-action-move":$i,"interactions:before-action-end":function(N){var G=N.interaction;if(_s(G))return G.move({offset:!0}),G.end(),!1},"interactions:stop":function(N){var G=N.interaction;G.offset.total.x=0,G.offset.total.y=0,G.offset.pending.x=0,G.offset.pending.y=0}}},en=ss,En=function(){function N(G){R(this,N),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=G}return y(N,[{key:"start",value:function(G){var $=this.interaction,_=Us($);if(!_||!_.enabled)return!1;var et=$.coords.velocity.client,nt=Pt(et.x,et.y),ot=this.modification||(this.modification=new ps($));if(ot.copyFrom($.modification),this.t0=$._now(),this.allowResume=_.allowResume,this.v0=nt,this.currentOffset={x:0,y:0},this.startCoords=$.coords.cur.page,this.modifierArg=ot.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-$.coords.cur.timeStamp<50&&nt>_.minSpeed&&nt>_.endSpeed)this.startInertia();else{if(ot.result=ot.setAll(this.modifierArg),!ot.result.changed)return!1;this.startSmoothEnd()}return $.modification.result.rect=null,$.offsetBy(this.targetOffset),$._doPhase({interaction:$,event:G,phase:"inertiastart"}),$.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),$.modification.result.rect=null,this.active=!0,$.simulation=this,!0}},{key:"startInertia",value:function(){var G=this,$=this.interaction.coords.velocity.client,_=Us(this.interaction),et=_.resistance,nt=-Math.log(_.endSpeed/this.v0)/et;this.targetOffset={x:($.x-nt)/et,y:($.y-nt)/et},this.te=nt,this.lambda_v0=et/this.v0,this.one_ve_v0=1-_.endSpeed/this.v0;var ot=this.modification,ut=this.modifierArg;ut.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},ot.result=ot.setAll(ut),ot.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+ot.result.delta.x,y:this.targetOffset.y+ot.result.delta.y}),this.onNextFrame(function(){return G.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var G=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return G.smoothEndTick()})}},{key:"onNextFrame",value:function(G){var $=this;this.timeout=Qe.request(function(){$.active&&G()})}},{key:"inertiaTick",value:function(){var G,$,_,et,nt,ot,ut,ct=this,Et=this.interaction,pt=Us(Et).resistance,bt=(Et._now()-this.t0)/1e3;if(bt<this.te){var Bt,Zt=1-(Math.exp(-pt*bt)-this.lambda_v0)/this.one_ve_v0;this.isModified?(G=0,$=0,_=this.targetOffset.x,et=this.targetOffset.y,nt=this.modifiedOffset.x,ot=this.modifiedOffset.y,Bt={x:Hi(ut=Zt,G,_,nt),y:Hi(ut,$,et,ot)}):Bt={x:this.targetOffset.x*Zt,y:this.targetOffset.y*Zt};var Kt={x:Bt.x-this.currentOffset.x,y:Bt.y-this.currentOffset.y};this.currentOffset.x+=Kt.x,this.currentOffset.y+=Kt.y,Et.offsetBy(Kt),Et.move(),this.onNextFrame(function(){return ct.inertiaTick()})}else Et.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var G=this,$=this.interaction,_=$._now()-this.t0,et=Us($).smoothEndDuration;if(_<et){var nt={x:nn(_,0,this.targetOffset.x,et),y:nn(_,0,this.targetOffset.y,et)},ot={x:nt.x-this.currentOffset.x,y:nt.y-this.currentOffset.y};this.currentOffset.x+=ot.x,this.currentOffset.y+=ot.y,$.offsetBy(ot),$.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return G.smoothEndTick()})}else $.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(G){var $=G.pointer,_=G.event,et=G.eventTarget,nt=this.interaction;nt.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),nt.updatePointer($,_,et,!0),nt._doPhase({interaction:nt,event:_,phase:"resume"}),Nt(nt.coords.prev,nt.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Qe.cancel(this.timeout)}}]),N}();function Us(N){var G=N.interactable,$=N.prepared;return G&&G.options&&$.name&&G.options[$.name].inertia}var sn={id:"inertia",before:["modifiers","actions"],install:function(N){var G=N.defaults;N.usePlugin(en),N.usePlugin(bi),N.actions.phases.inertiastart=!0,N.actions.phases.resume=!0,G.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(N){var G=N.interaction;G.inertia=new En(G)},"interactions:before-action-end":function(N){var G=N.interaction,$=N.event;return(!G._interacting||G.simulation||!G.inertia.start($))&&null},"interactions:down":function(N){var G=N.interaction,$=N.eventTarget,_=G.inertia;if(_.active)for(var et=$;x.element(et);){if(et===G.element){_.resume(N);break}et=U(et)}},"interactions:stop":function(N){var G=N.interaction.inertia;G.active&&G.stop()},"interactions:before-action-resume":function(N){var G=N.interaction.modification;G.stop(N),G.start(N,N.interaction.coords.cur.page),G.applyToInteraction(N)},"interactions:before-action-inertiastart":function(N){return N.interaction.modification.setAndApply(N)},"interactions:action-resume":oi,"interactions:action-inertiastart":oi,"interactions:after-action-inertiastart":function(N){return N.interaction.modification.restoreInteractionCoords(N)},"interactions:after-action-resume":function(N){return N.interaction.modification.restoreInteractionCoords(N)}}};function Hi(N,G,$,_){var et=1-N;return et*et*G+2*et*N*$+N*N*_}function nn(N,G,$,_){return-$*(N/=_)*(N-2)+G}var ns=sn;function rn(N,G){for(var $=0;$<G.length;$++){var _=G[$];if(N.immediatePropagationStopped)break;_(N)}}var zs=function(){function N(G){R(this,N),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=J({},G||{})}return y(N,[{key:"fire",value:function(G){var $,_=this.global;($=this.types[G.type])&&rn(G,$),!G.propagationStopped&&_&&($=_[G.type])&&rn(G,$)}},{key:"on",value:function(G,$){var _=Ct(G,$);for(G in _)this.types[G]=Lt(this.types[G]||[],_[G])}},{key:"off",value:function(G,$){var _=Ct(G,$);for(G in _){var et=this.types[G];if(et&&et.length)for(var nt=0,ot=_[G];nt<ot.length;nt++){var ut=ot[nt],ct=et.indexOf(ut);ct!==-1&&et.splice(ct,1)}}}},{key:"getRect",value:function(G){return null}}]),N}(),Cn=function(){function N(G){R(this,N),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=G,Ut(this,G)}return y(N,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),N}();function Cs(N){return x.object(N)?{capture:!!N.capture,passive:!!N.passive}:{capture:!!N,passive:!1}}function qn(N,G){return N===G||(typeof N=="boolean"?!!G.capture===N&&!G.passive:!!N.capture==!!G.capture&&!!N.passive==!!G.passive)}var yu={id:"events",install:function(N){var G,$=[],_={},et=[],nt={add:ot,remove:ut,addDelegate:function(pt,bt,Bt,Zt,Kt){var _t=Cs(Kt);if(!_[Bt]){_[Bt]=[];for(var ue=0;ue<et.length;ue++){var le=et[ue];ot(le,Bt,ct),ot(le,Bt,Et,!0)}}var Te=_[Bt],De=ge(Te,function(Xe){return Xe.selector===pt&&Xe.context===bt});De||(De={selector:pt,context:bt,listeners:[]},Te.push(De)),De.listeners.push({func:Zt,options:_t})},removeDelegate:function(pt,bt,Bt,Zt,Kt){var _t,ue=Cs(Kt),le=_[Bt],Te=!1;if(le)for(_t=le.length-1;_t>=0;_t--){var De=le[_t];if(De.selector===pt&&De.context===bt){for(var Xe=De.listeners,Re=Xe.length-1;Re>=0;Re--){var Ne=Xe[Re];if(Ne.func===Zt&&qn(Ne.options,ue)){Xe.splice(Re,1),Xe.length||(le.splice(_t,1),ut(bt,Bt,ct),ut(bt,Bt,Et,!0)),Te=!0;break}}if(Te)break}}},delegateListener:ct,delegateUseCapture:Et,delegatedEvents:_,documents:et,targets:$,supportsOptions:!1,supportsPassive:!1};function ot(pt,bt,Bt,Zt){if(pt.addEventListener){var Kt=Cs(Zt),_t=ge($,function(ue){return ue.eventTarget===pt});_t||(_t={eventTarget:pt,events:{}},$.push(_t)),_t.events[bt]||(_t.events[bt]=[]),ge(_t.events[bt],function(ue){return ue.func===Bt&&qn(ue.options,Kt)})||(pt.addEventListener(bt,Bt,nt.supportsOptions?Kt:Kt.capture),_t.events[bt].push({func:Bt,options:Kt}))}}function ut(pt,bt,Bt,Zt){if(pt.addEventListener&&pt.removeEventListener){var Kt=Jt($,function(Si){return Si.eventTarget===pt}),_t=$[Kt];if(_t&&_t.events)if(bt!=="all"){var ue=!1,le=_t.events[bt];if(le){if(Bt==="all"){for(var Te=le.length-1;Te>=0;Te--){var De=le[Te];ut(pt,bt,De.func,De.options)}return}for(var Xe=Cs(Zt),Re=0;Re<le.length;Re++){var Ne=le[Re];if(Ne.func===Bt&&qn(Ne.options,Xe)){pt.removeEventListener(bt,Bt,nt.supportsOptions?Xe:Xe.capture),le.splice(Re,1),le.length===0&&(delete _t.events[bt],ue=!0);break}}}ue&&!Object.keys(_t.events).length&&$.splice(Kt,1)}else for(bt in _t.events)_t.events.hasOwnProperty(bt)&&ut(pt,bt,"all")}}function ct(pt,bt){for(var Bt=Cs(bt),Zt=new Cn(pt),Kt=_[pt.type],_t=St(pt)[0],ue=_t;x.element(ue);){for(var le=0;le<Kt.length;le++){var Te=Kt[le],De=Te.selector,Xe=Te.context;if(H(ue,De)&&I(Xe,_t)&&I(Xe,ue)){var Re=Te.listeners;Zt.currentTarget=ue;for(var Ne=0;Ne<Re.length;Ne++){var Si=Re[Ne];qn(Si.options,Bt)&&Si.func(Zt)}}}ue=U(ue)}}function Et(pt){return ct(pt,!0)}return(G=N.document)==null||G.createElement("div").addEventListener("test",null,{get capture(){return nt.supportsOptions=!0},get passive(){return nt.supportsPassive=!0}}),N.events=nt,nt}},Wr={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(N){for(var G=0,$=Wr.methodOrder;G<$.length;G++){var _=$[G],et=Wr[_](N);if(et)return et}return null},simulationResume:function(N){var G=N.pointerType,$=N.eventType,_=N.eventTarget,et=N.scope;if(!/down|start/i.test($))return null;for(var nt=0,ot=et.interactions.list;nt<ot.length;nt++){var ut=ot[nt],ct=_;if(ut.simulation&&ut.simulation.allowResume&&ut.pointerType===G)for(;ct;){if(ct===ut.element)return ut;ct=U(ct)}}return null},mouseOrPen:function(N){var G,$=N.pointerId,_=N.pointerType,et=N.eventType,nt=N.scope;if(_!=="mouse"&&_!=="pen")return null;for(var ot=0,ut=nt.interactions.list;ot<ut.length;ot++){var ct=ut[ot];if(ct.pointerType===_){if(ct.simulation&&!Ha(ct,$))continue;if(ct.interacting())return ct;G||(G=ct)}}if(G)return G;for(var Et=0,pt=nt.interactions.list;Et<pt.length;Et++){var bt=pt[Et];if(!(bt.pointerType!==_||/down/i.test(et)&&bt.simulation))return bt}return null},hasPointer:function(N){for(var G=N.pointerId,$=0,_=N.scope.interactions.list;$<_.length;$++){var et=_[$];if(Ha(et,G))return et}return null},idle:function(N){for(var G=N.pointerType,$=0,_=N.scope.interactions.list;$<_.length;$++){var et=_[$];if(et.pointers.length===1){var nt=et.interactable;if(nt&&(!nt.options.gesture||!nt.options.gesture.enabled))continue}else if(et.pointers.length>=2)continue;if(!et.interacting()&&G===et.pointerType)return et}return null}};function Ha(N,G){return N.pointers.some(function($){return $.id===G})}var Tu=Wr,$r=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function ka(N,G){return function($){var _=G.interactions.list,et=Ft($),nt=St($),ot=nt[0],ut=nt[1],ct=[];if(/^touch/.test($.type)){G.prevTouchTime=G.now();for(var Et=0,pt=$.changedTouches;Et<pt.length;Et++){var bt=pt[Et],Bt={pointer:bt,pointerId:qt(bt),pointerType:et,eventType:$.type,eventTarget:ot,curEventTarget:ut,scope:G},Zt=Ka(Bt);ct.push([Bt.pointer,Bt.eventTarget,Bt.curEventTarget,Zt])}}else{var Kt=!1;if(!O.supportsPointerEvent&&/mouse/.test($.type)){for(var _t=0;_t<_.length&&!Kt;_t++)Kt=_[_t].pointerType!=="mouse"&&_[_t].pointerIsDown;Kt=Kt||G.now()-G.prevTouchTime<500||$.timeStamp===0}if(!Kt){var ue={pointer:$,pointerId:qt($),pointerType:et,eventType:$.type,curEventTarget:ut,eventTarget:ot,scope:G},le=Ka(ue);ct.push([ue.pointer,ue.eventTarget,ue.curEventTarget,le])}}for(var Te=0;Te<ct.length;Te++){var De=ct[Te],Xe=De[0],Re=De[1],Ne=De[2];De[3][N](Xe,$,Re,Ne)}}}function Ka(N){var G=N.pointerType,$=N.scope,_={interaction:Tu.search(N),searchDetails:N};return $.fire("interactions:find",_),_.interaction||$.interactions.new({pointerType:G})}function Hr(N,G){var $=N.doc,_=N.scope,et=N.options,nt=_.interactions.docEvents,ot=_.events,ut=ot[G];for(var ct in _.browser.isIOS&&!et.events&&(et.events={passive:!1}),ot.delegatedEvents)ut($,ct,ot.delegateListener),ut($,ct,ot.delegateUseCapture,!0);for(var Et=et&&et.events,pt=0;pt<nt.length;pt++){var bt=nt[pt];ut($,bt.type,bt.listener,Et)}}var Su={id:"core/interactions",install:function(N){for(var G={},$=0;$<$r.length;$++){var _=$r[$];G[_]=ka(_,N)}var et,nt=O.pEventTypes;function ot(){for(var ut=0,ct=N.interactions.list;ut<ct.length;ut++){var Et=ct[ut];if(Et.pointerIsDown&&Et.pointerType==="touch"&&!Et._interacting)for(var pt=function(){var Zt=Bt[bt];N.documents.some(function(Kt){return I(Kt.doc,Zt.downTarget)})||Et.removePointer(Zt.pointer,Zt.event)},bt=0,Bt=Et.pointers;bt<Bt.length;bt++)pt()}}(et=F.PointerEvent?[{type:nt.down,listener:ot},{type:nt.down,listener:G.pointerDown},{type:nt.move,listener:G.pointerMove},{type:nt.up,listener:G.pointerUp},{type:nt.cancel,listener:G.pointerUp}]:[{type:"mousedown",listener:G.pointerDown},{type:"mousemove",listener:G.pointerMove},{type:"mouseup",listener:G.pointerUp},{type:"touchstart",listener:ot},{type:"touchstart",listener:G.pointerDown},{type:"touchmove",listener:G.pointerMove},{type:"touchend",listener:G.pointerUp},{type:"touchcancel",listener:G.pointerUp}]).push({type:"blur",listener:function(ut){for(var ct=0,Et=N.interactions.list;ct<Et.length;ct++)Et[ct].documentBlur(ut)}}),N.prevTouchTime=0,N.Interaction=function(ut){o(Et,ut);var ct=n(Et);function Et(){return R(this,Et),ct.apply(this,arguments)}return y(Et,[{key:"pointerMoveTolerance",get:function(){return N.interactions.pointerMoveTolerance},set:function(pt){N.interactions.pointerMoveTolerance=pt}},{key:"_now",value:function(){return N.now()}}]),Et}(Qn),N.interactions={list:[],new:function(ut){ut.scopeFire=function(Et,pt){return N.fire(Et,pt)};var ct=new N.Interaction(ut);return N.interactions.list.push(ct),ct},listeners:G,docEvents:et,pointerMoveTolerance:1},N.usePlugin(ts)},listeners:{"scope:add-document":function(N){return Hr(N,"add")},"scope:remove-document":function(N){return Hr(N,"remove")},"interactable:unset":function(N,G){for(var $=N.interactable,_=G.interactions.list.length-1;_>=0;_--){var et=G.interactions.list[_];et.interactable===$&&(et.stop(),G.fire("interactions:destroy",{interaction:et}),et.destroy(),G.interactions.list.length>2&&G.interactions.list.splice(_,1))}}},onDocSignal:Hr,doOnInteractions:ka,methodNames:$r},Eu=Su,As=function(N){return N[N.On=0]="On",N[N.Off=1]="Off",N}(As||{}),Cu=function(){function N(G,$,_,et){R(this,N),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new zs,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=$.actions,this.target=G,this._context=$.context||_,this._win=u(j(G)?this._context:G),this._doc=this._win.document,this._scopeEvents=et,this.set($)}return y(N,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(G,$){return x.func($.onstart)&&this.on("".concat(G,"start"),$.onstart),x.func($.onmove)&&this.on("".concat(G,"move"),$.onmove),x.func($.onend)&&this.on("".concat(G,"end"),$.onend),x.func($.oninertiastart)&&this.on("".concat(G,"inertiastart"),$.oninertiastart),this}},{key:"updatePerActionListeners",value:function(G,$,_){var et,nt=this,ot=(et=this._actions.map[G])==null?void 0:et.filterEventType,ut=function(ct){return(ot==null||ot(ct))&&Wi(ct,nt._actions)};(x.array($)||x.object($))&&this._onOff(As.Off,G,$,void 0,ut),(x.array(_)||x.object(_))&&this._onOff(As.On,G,_,void 0,ut)}},{key:"setPerAction",value:function(G,$){var _=this._defaults;for(var et in $){var nt=et,ot=this.options[G],ut=$[nt];nt==="listeners"&&this.updatePerActionListeners(G,ot.listeners,ut),x.array(ut)?ot[nt]=ae(ut):x.plainObject(ut)?(ot[nt]=J(ot[nt]||{},wi(ut)),x.object(_.perAction[nt])&&"enabled"in _.perAction[nt]&&(ot[nt].enabled=ut.enabled!==!1)):x.bool(ut)&&x.object(_.perAction[nt])?ot[nt].enabled=ut:ot[nt]=ut}}},{key:"getRect",value:function(G){return G=G||(x.element(this.target)?this.target:null),x.string(this.target)&&(G=G||this._context.querySelector(this.target)),z(G)}},{key:"rectChecker",value:function(G){var $=this;return x.func(G)?(this.getRect=function(_){var et=J({},G.apply($,_));return"width"in et||(et.width=et.right-et.left,et.height=et.bottom-et.top),et},this):G===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(G,$){if(j($)||x.object($)){for(var _ in this.options[G]=$,this._actions.map)this.options[_][G]=$;return this}return this.options[G]}},{key:"origin",value:function(G){return this._backCompatOption("origin",G)}},{key:"deltaSource",value:function(G){return G==="page"||G==="client"?(this.options.deltaSource=G,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var G=this.target;return x.string(G)?Array.from(this._context.querySelectorAll(G)):x.func(G)&&G.getAllElements?G.getAllElements():x.element(G)?[G]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(G){return this._context===G.ownerDocument||I(this._context,G)}},{key:"testIgnoreAllow",value:function(G,$,_){return!this.testIgnore(G.ignoreFrom,$,_)&&this.testAllow(G.allowFrom,$,_)}},{key:"testAllow",value:function(G,$,_){return!G||!!x.element(_)&&(x.string(G)?X(_,G,$):!!x.element(G)&&I(G,_))}},{key:"testIgnore",value:function(G,$,_){return!(!G||!x.element(_))&&(x.string(G)?X(_,G,$):!!x.element(G)&&I(G,_))}},{key:"fire",value:function(G){return this.events.fire(G),this}},{key:"_onOff",value:function(G,$,_,et,nt){x.object($)&&!x.array($)&&(et=_,_=null);var ot=Ct($,_,nt);for(var ut in ot){ut==="wheel"&&(ut=O.wheelEvent);for(var ct=0,Et=ot[ut];ct<Et.length;ct++){var pt=Et[ct];Wi(ut,this._actions)?this.events[G===As.On?"on":"off"](ut,pt):x.string(this.target)?this._scopeEvents[G===As.On?"addDelegate":"removeDelegate"](this.target,this._context,ut,pt,et):this._scopeEvents[G===As.On?"add":"remove"](this.target,ut,pt,et)}}return this}},{key:"on",value:function(G,$,_){return this._onOff(As.On,G,$,_)}},{key:"off",value:function(G,$,_){return this._onOff(As.Off,G,$,_)}},{key:"set",value:function(G){var $=this._defaults;for(var _ in x.object(G)||(G={}),this.options=wi($.base),this._actions.methodDict){var et=_,nt=this._actions.methodDict[et];this.options[et]={},this.setPerAction(et,J(J({},$.perAction),$.actions[et])),this[nt](G[et])}for(var ot in G)ot!=="getRect"?x.func(this[ot])&&this[ot](G[ot]):this.rectChecker(G.getRect);return this}},{key:"unset",value:function(){if(x.string(this.target))for(var G in this._scopeEvents.delegatedEvents)for(var $=this._scopeEvents.delegatedEvents[G],_=$.length-1;_>=0;_--){var et=$[_],nt=et.selector,ot=et.context,ut=et.listeners;nt===this.target&&ot===this._context&&$.splice(_,1);for(var ct=ut.length-1;ct>=0;ct--)this._scopeEvents.removeDelegate(this.target,this._context,G,ut[ct][0],ut[ct][1])}else this._scopeEvents.remove(this.target,"all")}}]),N}(),Au=function(){function N(G){var $=this;R(this,N),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=G,G.addListeners({"interactable:unset":function(_){var et=_.interactable,nt=et.target,ot=x.string(nt)?$.selectorMap[nt]:nt[$.scope.id],ut=Jt(ot,function(ct){return ct===et});ot.splice(ut,1)}})}return y(N,[{key:"new",value:function(G,$){$=J($||{},{actions:this.scope.actions});var _=new this.scope.Interactable(G,$,this.scope.document,this.scope.events);return this.scope.addDocument(_._doc),this.list.push(_),x.string(G)?(this.selectorMap[G]||(this.selectorMap[G]=[]),this.selectorMap[G].push(_)):(_.target[this.scope.id]||Object.defineProperty(G,this.scope.id,{value:[],configurable:!0}),G[this.scope.id].push(_)),this.scope.fire("interactable:new",{target:G,options:$,interactable:_,win:this.scope._win}),_}},{key:"getExisting",value:function(G,$){var _=$&&$.context||this.scope.document,et=x.string(G),nt=et?this.selectorMap[G]:G[this.scope.id];if(nt)return ge(nt,function(ot){return ot._context===_&&(et||ot.inContext(G))})}},{key:"forEachMatch",value:function(G,$){for(var _=0,et=this.list;_<et.length;_++){var nt=et[_],ot=void 0;if((x.string(nt.target)?x.element(G)&&H(G,nt.target):G===nt.target)&&nt.inContext(G)&&(ot=$(nt)),ot!==void 0)return ot}}}]),N}(),Mu=function(){function N(){var G=this;R(this,N),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=O,this.defaults=wi(ms),this.Eventable=zs,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(_){var et=function nt(ot,ut){var ct=_.interactables.getExisting(ot,ut);return ct||((ct=_.interactables.new(ot,ut)).events.global=nt.globalEvents),ct};return et.getPointerAverage=oe,et.getTouchBBox=Vt,et.getTouchDistance=jt,et.getTouchAngle=It,et.getElementRect=z,et.getElementClientRect=D,et.matchesSelector=H,et.closest=B,et.globalEvents={},et.version="1.10.27",et.scope=_,et.use=function(nt,ot){return this.scope.usePlugin(nt,ot),this},et.isSet=function(nt,ot){return!!this.scope.interactables.get(nt,ot&&ot.context)},et.on=Di(function(nt,ot,ut){if(x.string(nt)&&nt.search(" ")!==-1&&(nt=nt.trim().split(/ +/)),x.array(nt)){for(var ct=0,Et=nt;ct<Et.length;ct++){var pt=Et[ct];this.on(pt,ot,ut)}return this}if(x.object(nt)){for(var bt in nt)this.on(bt,nt[bt],ot);return this}return Wi(nt,this.scope.actions)?this.globalEvents[nt]?this.globalEvents[nt].push(ot):this.globalEvents[nt]=[ot]:this.scope.events.add(this.scope.document,nt,ot,{options:ut}),this},"The interact.on() method is being deprecated"),et.off=Di(function(nt,ot,ut){if(x.string(nt)&&nt.search(" ")!==-1&&(nt=nt.trim().split(/ +/)),x.array(nt)){for(var ct=0,Et=nt;ct<Et.length;ct++){var pt=Et[ct];this.off(pt,ot,ut)}return this}if(x.object(nt)){for(var bt in nt)this.off(bt,nt[bt],ot);return this}var Bt;return Wi(nt,this.scope.actions)?nt in this.globalEvents&&(Bt=this.globalEvents[nt].indexOf(ot))!==-1&&this.globalEvents[nt].splice(Bt,1):this.scope.events.remove(this.scope.document,nt,ot,ut),this},"The interact.off() method is being deprecated"),et.debug=function(){return this.scope},et.supportsTouch=function(){return O.supportsTouch},et.supportsPointerEvent=function(){return O.supportsPointerEvent},et.stop=function(){for(var nt=0,ot=this.scope.interactions.list;nt<ot.length;nt++)ot[nt].stop();return this},et.pointerMoveTolerance=function(nt){return x.number(nt)?(this.scope.interactions.pointerMoveTolerance=nt,this):this.scope.interactions.pointerMoveTolerance},et.addDocument=function(nt,ot){this.scope.addDocument(nt,ot)},et.removeDocument=function(nt){this.scope.removeDocument(nt)},et}(this),this.InteractEvent=es,this.Interactable=void 0,this.interactables=new Au(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(_){return G.removeDocument(_.target)};var $=this;this.Interactable=function(_){o(nt,_);var et=n(nt);function nt(){return R(this,nt),et.apply(this,arguments)}return y(nt,[{key:"_defaults",get:function(){return $.defaults}},{key:"set",value:function(ot){return e(v(nt.prototype),"set",this).call(this,ot),$.fire("interactable:set",{options:ot,interactable:this}),this}},{key:"unset",value:function(){e(v(nt.prototype),"unset",this).call(this);var ot=$.interactables.list.indexOf(this);ot<0||($.interactables.list.splice(ot,1),$.fire("interactable:unset",{interactable:this}))}}]),nt}(Cu)}return y(N,[{key:"addListeners",value:function(G,$){this.listenerMaps.push({id:$,map:G})}},{key:"fire",value:function(G,$){for(var _=0,et=this.listenerMaps;_<et.length;_++){var nt=et[_].map[G];if(nt&&nt($,this,G)===!1)return!1}}},{key:"init",value:function(G){return this.isInitialized?this:function($,_){return $.isInitialized=!0,x.window(_)&&f(_),F.init(_),O.init(_),Qe.init(_),$.window=_,$.document=_.document,$.usePlugin(Eu),$.usePlugin(yu),$}(this,G)}},{key:"pluginIsInstalled",value:function(G){var $=G.id;return $?!!this._plugins.map[$]:this._plugins.list.indexOf(G)!==-1}},{key:"usePlugin",value:function(G,$){if(!this.isInitialized)return this;if(this.pluginIsInstalled(G))return this;if(G.id&&(this._plugins.map[G.id]=G),this._plugins.list.push(G),G.install&&G.install(this,$),G.listeners&&G.before){for(var _=0,et=this.listenerMaps.length,nt=G.before.reduce(function(ut,ct){return ut[ct]=!0,ut[ja(ct)]=!0,ut},{});_<et;_++){var ot=this.listenerMaps[_].id;if(ot&&(nt[ot]||nt[ja(ot)]))break}this.listenerMaps.splice(_,0,{id:G.id,map:G.listeners})}else G.listeners&&this.listenerMaps.push({id:G.id,map:G.listeners});return this}},{key:"addDocument",value:function(G,$){if(this.getDocIndex(G)!==-1)return!1;var _=u(G);$=$?J({},$):{},this.documents.push({doc:G,options:$}),this.events.documents.push(G),G!==this.document&&this.events.add(_,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:G,window:_,scope:this,options:$})}},{key:"removeDocument",value:function(G){var $=this.getDocIndex(G),_=u(G),et=this.documents[$].options;this.events.remove(_,"unload",this.onWindowUnload),this.documents.splice($,1),this.events.documents.splice($,1),this.fire("scope:remove-document",{doc:G,window:_,scope:this,options:et})}},{key:"getDocIndex",value:function(G){for(var $=0;$<this.documents.length;$++)if(this.documents[$].doc===G)return $;return-1}},{key:"getDocOptions",value:function(G){var $=this.getDocIndex(G);return $===-1?null:this.documents[$].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),N}();function ja(N){return N&&N.replace(/\/.*$/,"")}var Za=new Mu,Ti=Za.interactStatic,wu=typeof globalThis<"u"?globalThis:window;Za.init(wu);var bu=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(N){var G=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(_){var et=_[0],nt=_[1];return et in N||nt in N}),$=function(_,et){for(var nt=N.range,ot=N.limits,ut=ot===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:ot,ct=N.offset,Et=ct===void 0?{x:0,y:0}:ct,pt={range:nt,grid:N,x:null,y:null},bt=0;bt<G.length;bt++){var Bt=G[bt],Zt=Bt[0],Kt=Bt[1],_t=Math.round((_-Et.x)/N[Zt]),ue=Math.round((et-Et.y)/N[Kt]);pt[Zt]=Math.max(ut.left,Math.min(ut.right,_t*N[Zt]+Et.x)),pt[Kt]=Math.max(ut.top,Math.min(ut.bottom,ue*N[Kt]+Et.y))}return pt};return $.grid=N,$.coordFields=G,$}}),Pu={id:"snappers",install:function(N){var G=N.interactStatic;G.snappers=J(G.snappers||{},bu),G.createSnapGrid=G.snappers.grid}},Ru=Pu,Lu={start:function(N){var G=N.state,$=N.rect,_=N.edges,et=N.pageCoords,nt=G.options,ot=nt.ratio,ut=nt.enabled,ct=G.options,Et=ct.equalDelta,pt=ct.modifiers;ot==="preserve"&&(ot=$.width/$.height),G.startCoords=J({},et),G.startRect=J({},$),G.ratio=ot,G.equalDelta=Et;var bt=G.linkedEdges={top:_.top||_.left&&!_.bottom,left:_.left||_.top&&!_.right,bottom:_.bottom||_.right&&!_.top,right:_.right||_.bottom&&!_.left};if(G.xIsPrimaryAxis=!(!_.left&&!_.right),G.equalDelta){var Bt=(bt.left?1:-1)*(bt.top?1:-1);G.edgeSign={x:Bt,y:Bt}}else G.edgeSign={x:bt.left?-1:1,y:bt.top?-1:1};if(ut!==!1&&J(_,bt),pt!=null&&pt.length){var Zt=new ps(N.interaction);Zt.copyFrom(N.interaction.modification),Zt.prepareStates(pt),G.subModification=Zt,Zt.startAll(E({},N))}},set:function(N){var G=N.state,$=N.rect,_=N.coords,et=G.linkedEdges,nt=J({},_),ot=G.equalDelta?Fu:Ou;if(J(N.edges,et),ot(G,G.xIsPrimaryAxis,_,$),!G.subModification)return null;var ut=J({},$);vt(et,ut,{x:_.x-nt.x,y:_.y-nt.y});var ct=G.subModification.setAll(E(E({},N),{},{rect:ut,edges:et,pageCoords:_,prevCoords:_,prevRect:ut})),Et=ct.delta;return ct.changed&&(ot(G,Math.abs(Et.x)>Math.abs(Et.y),ct.coords,ct.rect),J(_,ct.coords)),ct.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Fu(N,G,$){var _=N.startCoords,et=N.edgeSign;G?$.y=_.y+($.x-_.x)*et.y:$.x=_.x+($.y-_.y)*et.x}function Ou(N,G,$,_){var et=N.startRect,nt=N.startCoords,ot=N.ratio,ut=N.edgeSign;if(G){var ct=_.width/ot;$.y=nt.y+(ct-et.height)*ut.y}else{var Et=_.height*ot;$.x=nt.x+(Et-et.width)*ut.x}}var Du=fi(Lu,"aspectRatio"),Ja=function(){};Ja._defaults={};var _n=Ja;function Xs(N,G,$){return x.func(N)?st(N,G.interactable,G.element,[$.x,$.y,G]):st(N,G.interactable,G.element)}var tr={start:function(N){var G=N.rect,$=N.startOffset,_=N.state,et=N.interaction,nt=N.pageCoords,ot=_.options,ut=ot.elementRect,ct=J({left:0,top:0,right:0,bottom:0},ot.offset||{});if(G&&ut){var Et=Xs(ot.restriction,et,nt);if(Et){var pt=Et.right-Et.left-G.width,bt=Et.bottom-Et.top-G.height;pt<0&&(ct.left+=pt,ct.right+=pt),bt<0&&(ct.top+=bt,ct.bottom+=bt)}ct.left+=$.left-G.width*ut.left,ct.top+=$.top-G.height*ut.top,ct.right+=$.right-G.width*(1-ut.right),ct.bottom+=$.bottom-G.height*(1-ut.bottom)}_.offset=ct},set:function(N){var G=N.coords,$=N.interaction,_=N.state,et=_.options,nt=_.offset,ot=Xs(et.restriction,$,G);if(ot){var ut=function(ct){return!ct||"left"in ct&&"top"in ct||((ct=J({},ct)).left=ct.x||0,ct.top=ct.y||0,ct.right=ct.right||ct.left+ct.width,ct.bottom=ct.bottom||ct.top+ct.height),ct}(ot);G.x=Math.max(Math.min(ut.right-nt.right,G.x),ut.left+nt.left),G.y=Math.max(Math.min(ut.bottom-nt.bottom,G.y),ut.top+nt.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Iu=fi(tr,"restrict"),Qa={top:1/0,left:1/0,bottom:-1/0,right:-1/0},qa={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function _a(N,G){for(var $=0,_=["top","left","bottom","right"];$<_.length;$++){var et=_[$];et in N||(N[et]=G[et])}return N}var An={noInner:Qa,noOuter:qa,start:function(N){var G,$=N.interaction,_=N.startOffset,et=N.state,nt=et.options;nt&&(G=at(Xs(nt.offset,$,$.coords.start.page))),G=G||{x:0,y:0},et.offset={top:G.y+_.top,left:G.x+_.left,bottom:G.y-_.bottom,right:G.x-_.right}},set:function(N){var G=N.coords,$=N.edges,_=N.interaction,et=N.state,nt=et.offset,ot=et.options;if($){var ut=J({},G),ct=Xs(ot.inner,_,ut)||{},Et=Xs(ot.outer,_,ut)||{};_a(ct,Qa),_a(Et,qa),$.top?G.y=Math.min(Math.max(Et.top+nt.top,ut.y),ct.top+nt.top):$.bottom&&(G.y=Math.max(Math.min(Et.bottom+nt.bottom,ut.y),ct.bottom+nt.bottom)),$.left?G.x=Math.min(Math.max(Et.left+nt.left,ut.x),ct.left+nt.left):$.right&&(G.x=Math.max(Math.min(Et.right+nt.right,ut.x),ct.right+nt.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Bu=fi(An,"restrictEdges"),Gu=J({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(N){}},tr.defaults),Nu=fi({start:tr.start,set:tr.set,defaults:Gu},"restrictRect"),Vu={width:-1/0,height:-1/0},Uu={width:1/0,height:1/0},zu=fi({start:function(N){return An.start(N)},set:function(N){var G=N.interaction,$=N.state,_=N.rect,et=N.edges,nt=$.options;if(et){var ot=ft(Xs(nt.min,G,N.coords))||Vu,ut=ft(Xs(nt.max,G,N.coords))||Uu;$.options={endOnly:nt.endOnly,inner:J({},An.noInner),outer:J({},An.noOuter)},et.top?($.options.inner.top=_.bottom-ot.height,$.options.outer.top=_.bottom-ut.height):et.bottom&&($.options.inner.bottom=_.top+ot.height,$.options.outer.bottom=_.top+ut.height),et.left?($.options.inner.left=_.right-ot.width,$.options.outer.left=_.right-ut.width):et.right&&($.options.inner.right=_.left+ot.width,$.options.outer.right=_.left+ut.width),An.set(N),$.options=nt}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),kr={start:function(N){var G,$=N.interaction,_=N.interactable,et=N.element,nt=N.rect,ot=N.state,ut=N.startOffset,ct=ot.options,Et=ct.offsetWithOrigin?function(Bt){var Zt=Bt.interaction.element,Kt=at(st(Bt.state.options.origin,null,null,[Zt])),_t=Kt||xt(Bt.interactable,Zt,Bt.interaction.prepared.name);return _t}(N):{x:0,y:0};if(ct.offset==="startCoords")G={x:$.coords.start.page.x,y:$.coords.start.page.y};else{var pt=st(ct.offset,_,et,[$]);(G=at(pt)||{x:0,y:0}).x+=Et.x,G.y+=Et.y}var bt=ct.relativePoints;ot.offsets=nt&&bt&&bt.length?bt.map(function(Bt,Zt){return{index:Zt,relativePoint:Bt,x:ut.left-nt.width*Bt.x+G.x,y:ut.top-nt.height*Bt.y+G.y}}):[{index:0,relativePoint:null,x:G.x,y:G.y}]},set:function(N){var G=N.interaction,$=N.coords,_=N.state,et=_.options,nt=_.offsets,ot=xt(G.interactable,G.element,G.prepared.name),ut=J({},$),ct=[];et.offsetWithOrigin||(ut.x-=ot.x,ut.y-=ot.y);for(var Et=0,pt=nt;Et<pt.length;Et++)for(var bt=pt[Et],Bt=ut.x-bt.x,Zt=ut.y-bt.y,Kt=0,_t=et.targets.length;Kt<_t;Kt++){var ue=et.targets[Kt],le=void 0;(le=x.func(ue)?ue(Bt,Zt,G._proxy,bt,Kt):ue)&&ct.push({x:(x.number(le.x)?le.x:Bt)+bt.x,y:(x.number(le.y)?le.y:Zt)+bt.y,range:x.number(le.range)?le.range:et.range,source:ue,index:Kt,offset:bt})}for(var Te={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},De=0;De<ct.length;De++){var Xe=ct[De],Re=Xe.range,Ne=Xe.x-ut.x,Si=Xe.y-ut.y,qe=Pt(Ne,Si),Bi=qe<=Re;Re===1/0&&Te.inRange&&Te.range!==1/0&&(Bi=!1),Te.target&&!(Bi?Te.inRange&&Re!==1/0?qe/Re<Te.distance/Te.range:Re===1/0&&Te.range!==1/0||qe<Te.distance:!Te.inRange&&qe<Te.distance)||(Te.target=Xe,Te.distance=qe,Te.range=Re,Te.inRange=Bi,Te.delta.x=Ne,Te.delta.y=Si)}return Te.inRange&&($.x=Te.target.x,$.y=Te.target.y),_.closest=Te,Te},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Xu=fi(kr,"snap"),er={start:function(N){var G=N.state,$=N.edges,_=G.options;if(!$)return null;N.state={options:{targets:null,relativePoints:[{x:$.left?0:1,y:$.top?0:1}],offset:_.offset||"self",origin:{x:0,y:0},range:_.range}},G.targetFields=G.targetFields||[["width","height"],["x","y"]],kr.start(N),G.offsets=N.state.offsets,N.state=G},set:function(N){var G=N.interaction,$=N.state,_=N.coords,et=$.options,nt=$.offsets,ot={x:_.x-nt[0].x,y:_.y-nt[0].y};$.options=J({},et),$.options.targets=[];for(var ut=0,ct=et.targets||[];ut<ct.length;ut++){var Et=ct[ut],pt=void 0;if(pt=x.func(Et)?Et(ot.x,ot.y,G):Et){for(var bt=0,Bt=$.targetFields;bt<Bt.length;bt++){var Zt=Bt[bt],Kt=Zt[0],_t=Zt[1];if(Kt in pt||_t in pt){pt.x=pt[Kt],pt.y=pt[_t];break}}$.options.targets.push(pt)}}var ue=kr.set(N);return $.options=et,ue},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Yu=fi(er,"snapSize"),Kr={aspectRatio:Du,restrictEdges:Bu,restrict:Iu,restrictRect:Nu,restrictSize:zu,snapEdges:fi({start:function(N){var G=N.edges;return G?(N.state.targetFields=N.state.targetFields||[[G.left?"left":"right",G.top?"top":"bottom"]],er.start(N)):null},set:er.set,defaults:J(wi(er.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Xu,snapSize:Yu,spring:_n,avoid:_n,transform:_n,rubberband:_n},Wu={id:"modifiers",install:function(N){var G=N.interactStatic;for(var $ in N.usePlugin(bi),N.usePlugin(Ru),G.modifiers=Kr,Kr){var _=Kr[$],et=_._defaults,nt=_._methods;et._methods=nt,N.defaults.perAction[$]=et}}},$u=Wu,to=function(N){o($,N);var G=n($);function $(_,et,nt,ot,ut,ct){var Et;if(R(this,$),Ut(i(Et=G.call(this,ut)),nt),nt!==et&&Ut(i(Et),et),Et.timeStamp=ct,Et.originalEvent=nt,Et.type=_,Et.pointerId=qt(et),Et.pointerType=Ft(et),Et.target=ot,Et.currentTarget=null,_==="tap"){var pt=ut.getPointerIndex(et);Et.dt=Et.timeStamp-ut.pointers[pt].downTime;var bt=Et.timeStamp-ut.tapTime;Et.double=!!ut.prevTap&&ut.prevTap.type!=="doubletap"&&ut.prevTap.target===Et.target&&bt<500}else _==="doubletap"&&(Et.dt=et.timeStamp-ut.tapTime,Et.double=!0);return Et}return y($,[{key:"_subtractOrigin",value:function(_){var et=_.x,nt=_.y;return this.pageX-=et,this.pageY-=nt,this.clientX-=et,this.clientY-=nt,this}},{key:"_addOrigin",value:function(_){var et=_.x,nt=_.y;return this.pageX+=et,this.pageY+=nt,this.clientX+=et,this.clientY+=nt,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),$}(At),Mn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(N){N.pointerEvents=Mn,N.defaults.actions.pointerEvents=Mn.defaults,J(N.actions.phaselessTypes,Mn.types)},listeners:{"interactions:new":function(N){var G=N.interaction;G.prevTap=null,G.tapTime=0},"interactions:update-pointer":function(N){var G=N.down,$=N.pointerInfo;!G&&$.hold||($.hold={duration:1/0,timeout:null})},"interactions:move":function(N,G){var $=N.interaction,_=N.pointer,et=N.event,nt=N.eventTarget;N.duplicate||$.pointerIsDown&&!$.pointerWasMoved||($.pointerIsDown&&jr(N),Ms({interaction:$,pointer:_,event:et,eventTarget:nt,type:"move"},G))},"interactions:down":function(N,G){(function($,_){for(var et=$.interaction,nt=$.pointer,ot=$.event,ut=$.eventTarget,ct=$.pointerIndex,Et=et.pointers[ct].hold,pt=Y(ut),bt={interaction:et,pointer:nt,event:ot,eventTarget:ut,type:"hold",targets:[],path:pt,node:null},Bt=0;Bt<pt.length;Bt++){var Zt=pt[Bt];bt.node=Zt,_.fire("pointerEvents:collect-targets",bt)}if(bt.targets.length){for(var Kt=1/0,_t=0,ue=bt.targets;_t<ue.length;_t++){var le=ue[_t].eventable.options.holdDuration;le<Kt&&(Kt=le)}Et.duration=Kt,Et.timeout=setTimeout(function(){Ms({interaction:et,eventTarget:ut,pointer:nt,event:ot,type:"hold"},_)},Kt)}})(N,G),Ms(N,G)},"interactions:up":function(N,G){jr(N),Ms(N,G),function($,_){var et=$.interaction,nt=$.pointer,ot=$.event,ut=$.eventTarget;et.pointerWasMoved||Ms({interaction:et,eventTarget:ut,pointer:nt,event:ot,type:"tap"},_)}(N,G)},"interactions:cancel":function(N,G){jr(N),Ms(N,G)}},PointerEvent:to,fire:Ms,collectEventTargets:eo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Ms(N,G){var $=N.interaction,_=N.pointer,et=N.event,nt=N.eventTarget,ot=N.type,ut=N.targets,ct=ut===void 0?eo(N,G):ut,Et=new to(ot,_,et,nt,$,G.now());G.fire("pointerEvents:new",{pointerEvent:Et});for(var pt={interaction:$,pointer:_,event:et,eventTarget:nt,targets:ct,type:ot,pointerEvent:Et},bt=0;bt<ct.length;bt++){var Bt=ct[bt];for(var Zt in Bt.props||{})Et[Zt]=Bt.props[Zt];var Kt=xt(Bt.eventable,Bt.node);if(Et._subtractOrigin(Kt),Et.eventable=Bt.eventable,Et.currentTarget=Bt.node,Bt.eventable.fire(Et),Et._addOrigin(Kt),Et.immediatePropagationStopped||Et.propagationStopped&&bt+1<ct.length&&ct[bt+1].node!==Et.currentTarget)break}if(G.fire("pointerEvents:fired",pt),ot==="tap"){var _t=Et.double?Ms({interaction:$,pointer:_,event:et,eventTarget:nt,type:"doubletap"},G):Et;$.prevTap=_t,$.tapTime=_t.timeStamp}return Et}function eo(N,G){var $=N.interaction,_=N.pointer,et=N.event,nt=N.eventTarget,ot=N.type,ut=$.getPointerIndex(_),ct=$.pointers[ut];if(ot==="tap"&&($.pointerWasMoved||!ct||ct.downTarget!==nt))return[];for(var Et=Y(nt),pt={interaction:$,pointer:_,event:et,eventTarget:nt,type:ot,path:Et,targets:[],node:null},bt=0;bt<Et.length;bt++){var Bt=Et[bt];pt.node=Bt,G.fire("pointerEvents:collect-targets",pt)}return ot==="hold"&&(pt.targets=pt.targets.filter(function(Zt){var Kt,_t;return Zt.eventable.options.holdDuration===((Kt=$.pointers[ut])==null||(_t=Kt.hold)==null?void 0:_t.duration)})),pt.targets}function jr(N){var G=N.interaction,$=N.pointerIndex,_=G.pointers[$].hold;_&&_.timeout&&(clearTimeout(_.timeout),_.timeout=null)}var Hu=Object.freeze({__proto__:null,default:Mn});function ku(N){var G=N.interaction;G.holdIntervalHandle&&(clearInterval(G.holdIntervalHandle),G.holdIntervalHandle=null)}var Ku={id:"pointer-events/holdRepeat",install:function(N){N.usePlugin(Mn);var G=N.pointerEvents;G.defaults.holdRepeatInterval=0,G.types.holdrepeat=N.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(N,G){return N["pointerEvents:".concat(G)]=ku,N},{"pointerEvents:new":function(N){var G=N.pointerEvent;G.type==="hold"&&(G.count=(G.count||0)+1)},"pointerEvents:fired":function(N,G){var $=N.interaction,_=N.pointerEvent,et=N.eventTarget,nt=N.targets;if(_.type==="hold"&&nt.length){var ot=nt[0].eventable.options.holdRepeatInterval;ot<=0||($.holdIntervalHandle=setTimeout(function(){G.pointerEvents.fire({interaction:$,eventTarget:et,type:"hold",pointer:_,event:_},G)},ot))}}})},ju=Ku,Zu={id:"pointer-events/interactableTargets",install:function(N){var G=N.Interactable;G.prototype.pointerEvents=function(_){return J(this.events.options,_),this};var $=G.prototype._backCompatOption;G.prototype._backCompatOption=function(_,et){var nt=$.call(this,_,et);return nt===this&&(this.events.options[_]=et),nt}},listeners:{"pointerEvents:collect-targets":function(N,G){var $=N.targets,_=N.node,et=N.type,nt=N.eventTarget;G.interactables.forEachMatch(_,function(ot){var ut=ot.events,ct=ut.options;ut.types[et]&&ut.types[et].length&&ot.testIgnoreAllow(ct,_,nt)&&$.push({node:_,eventable:ut,props:{interactable:ot}})})},"interactable:new":function(N){var G=N.interactable;G.events.getRect=function($){return G.getRect($)}},"interactable:set":function(N,G){var $=N.interactable,_=N.options;J($.events.options,G.pointerEvents.defaults),J($.events.options,_.pointerEvents||{})}}},Ju=Zu,Qu={id:"pointer-events",install:function(N){N.usePlugin(Hu),N.usePlugin(ju),N.usePlugin(Ju)}},qu=Qu,_u={id:"reflow",install:function(N){var G=N.Interactable;N.actions.phases.reflow=!0,G.prototype.reflow=function($){return function(_,et,nt){for(var ot=_.getAllElements(),ut=nt.window.Promise,ct=ut?[]:null,Et=function(){var bt=ot[pt],Bt=_.getRect(bt);if(!Bt)return 1;var Zt,Kt=ge(nt.interactions.list,function(le){return le.interacting()&&le.interactable===_&&le.element===bt&&le.prepared.name===et.name});if(Kt)Kt.move(),ct&&(Zt=Kt._reflowPromise||new ut(function(le){Kt._reflowResolve=le}));else{var _t=ft(Bt),ue=function(le){return{coords:le,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:_t.x,y:_t.y},client:{x:_t.x,y:_t.y},timeStamp:nt.now()});Zt=function(le,Te,De,Xe,Re){var Ne=le.interactions.new({pointerType:"reflow"}),Si={interaction:Ne,event:Re,pointer:Re,eventTarget:De,phase:"reflow"};Ne.interactable=Te,Ne.element=De,Ne.prevEvent=Re,Ne.updatePointer(Re,Re,De,!0),wt(Ne.coords.delta),Zs(Ne.prepared,Xe),Ne._doPhase(Si);var qe=le.window,Bi=qe.Promise,ki=Bi?new Bi(function(gs){Ne._reflowResolve=gs}):void 0;return Ne._reflowPromise=ki,Ne.start(Xe,Te,De),Ne._interacting?(Ne.move(Si),Ne.end(Re)):(Ne.stop(),Ne._reflowResolve()),Ne.removePointer(Re,Re),ki}(nt,_,bt,et,ue)}ct&&ct.push(Zt)},pt=0;pt<ot.length&&!Et();pt++);return ct&&ut.all(ct).then(function(){return _})}(this,$,N)}},listeners:{"interactions:stop":function(N,G){var $=N.interaction;$.pointerType==="reflow"&&($._reflowResolve&&$._reflowResolve(),function(_,et){_.splice(_.indexOf(et),1)}(G.interactions.list,$))}}},tf=_u;if(Ti.use(ts),Ti.use(en),Ti.use(qu),Ti.use(ns),Ti.use($u),Ti.use(Jn),Ti.use(mi),Ti.use(ds),Ti.use(tf),Ti.default=Ti,b(M)==="object"&&M)try{M.exports=Ti}catch{}return Ti.default=Ti,Ti})})(Lr,Lr.exports);var Bp=Lr.exports;const ea=Mh(Bp);function Sl(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l,a,h,f,u,d=M[4]&&El(M);t=new fe({props:{$$slots:{default:[Gp]},$$scope:{ctx:M}}}),n=new fe({props:{$$slots:{default:[Np]},$$scope:{ctx:M}}});const m=M[18].default,x=of(m,M,M[20],null);return{c(){p=Q("div"),g=Q("div"),E=Q("div"),d&&d.c(),b=lt(),R=mt(M[3]),c=lt(),y=Q("button"),Xt(t.$$.fragment),s=lt(),i=Q("button"),Xt(n.$$.fragment),r=lt(),l=Q("div"),x&&x.c(),this.h()},l(S){p=q(S,"DIV",{tabindex:!0,class:!0});var T=rt(p);g=q(T,"DIV",{class:!0});var C=rt(g);E=q(C,"DIV",{class:!0});var A=rt(E);d&&d.l(A),b=ht(A),R=gt(A,M[3]),A.forEach(K),c=ht(C),y=q(C,"BUTTON",{class:!0,title:!0});var w=rt(y);$t(t.$$.fragment,w),w.forEach(K),s=ht(C),i=q(C,"BUTTON",{title:!0,class:!0});var P=rt(i);$t(n.$$.fragment,P),P.forEach(K),C.forEach(K),r=ht(T),l=q(T,"DIV",{class:!0});var F=rt(l);x&&x.l(F),F.forEach(K),T.forEach(K),this.h()},h(){W(E,"class","title-caption svelte-c3n5rq"),y.disabled=o=!M[0],W(y,"class","btn btn-outline-dark title-button svelte-c3n5rq"),W(y,"title",v=M[7]?"Restore size":"Maximize window"),i.disabled=e=!M[1],W(i,"title","Close window"),W(i,"class","btn btn-outline-danger title-button svelte-c3n5rq"),W(g,"class","window-title svelte-c3n5rq"),W(l,"class","window-content svelte-c3n5rq"),W(p,"tabindex","-1"),W(p,"class","window svelte-c3n5rq"),pe(p,"active",M[6]===M[13]),pe(p,"maximized",M[0]&&M[7]),pe(p,"scaleable",M[2]),kt(p,"top",si(M[9])),kt(p,"left",si(M[8])),kt(p,"width",si(M[10])),kt(p,"height",si(M[11])),kt(p,"font-size",M[2]?si(M[12]):null)},m(S,T){dt(S,p,T),V(p,g),V(g,E),d&&d.m(E,null),V(E,b),V(E,R),V(g,c),V(g,y),Yt(t,y,null),V(g,s),V(g,i),Yt(n,i,null),V(p,r),V(p,l),x&&x.m(l,null),M[19](p),h=!0,f||(u=[se(y,"click",M[15]),se(i,"click",M[16]),se(p,"focus",M[14],!0)],f=!0)},p(S,T){S[4]?d?d.p(S,T):(d=El(S),d.c(),d.m(E,b)):d&&(d.d(1),d=null),(!h||T&8)&&ie(R,S[3]);const C={};T&1048704&&(C.$$scope={dirty:T,ctx:S}),t.$set(C),(!h||T&1&&o!==(o=!S[0]))&&(y.disabled=o),(!h||T&128&&v!==(v=S[7]?"Restore size":"Maximize window"))&&W(y,"title",v);const A={};T&1048576&&(A.$$scope={dirty:T,ctx:S}),n.$set(A),(!h||T&2&&e!==(e=!S[1]))&&(i.disabled=e),x&&x.p&&(!h||T&1048576)&&lf(x,m,S,S[20],h?uf(m,S[20],T,null):hf(S[20]),null),(!h||T&8256)&&pe(p,"active",S[6]===S[13]),(!h||T&129)&&pe(p,"maximized",S[0]&&S[7]),(!h||T&4)&&pe(p,"scaleable",S[2]),T&512&&kt(p,"top",si(S[9])),T&256&&kt(p,"left",si(S[8])),T&1024&&kt(p,"width",si(S[10])),T&2048&&kt(p,"height",si(S[11])),T&4100&&kt(p,"font-size",S[2]?si(S[12]):null)},i(S){h||(Tt(t.$$.fragment,S),Tt(n.$$.fragment,S),Tt(x,S),S&&Ye(()=>{h&&(a||(a=Fi(p,Oi,{duration:200,y:-20},!0)),a.run(1))}),h=!0)},o(S){Mt(t.$$.fragment,S),Mt(n.$$.fragment,S),Mt(x,S),S&&(a||(a=Fi(p,Oi,{duration:200,y:-20},!1)),a.run(0)),h=!1},d(S){S&&K(p),d&&d.d(),Wt(t),Wt(n),x&&x.d(S),M[19](null),S&&a&&a.end(),f=!1,hi(u)}}}function El(M){let p,g;return{c(){p=Q("img"),this.h()},l(E){p=q(E,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){Ae(p.src,g=M[4])||W(p,"src",g),W(p,"alt","Icon"),W(p,"width","64"),W(p,"height","64"),W(p,"class","window-icon svelte-c3n5rq")},m(E,b){dt(E,p,b)},p(E,b){b&16&&!Ae(p.src,g=E[4])&&W(p,"src",g)},d(E){E&&K(p)}}}function Gp(M){let p=M[7]?"unfold_less":"unfold_more",g;return{c(){g=mt(p)},l(E){g=gt(E,p)},m(E,b){dt(E,g,b)},p(E,b){b&128&&p!==(p=E[7]?"unfold_less":"unfold_more")&&ie(g,p)},d(E){E&&K(g)}}}function Np(M){let p;return{c(){p=mt("close")},l(g){p=gt(g,"close")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Vp(M){let p,g,E=M[5]&&Sl(M);return{c(){E&&E.c(),p=Le()},l(b){E&&E.l(b),p=Le()},m(b,R){E&&E.m(b,R),dt(b,p,R),g=!0},p(b,[R]){b[5]?E?(E.p(b,R),R&32&&Tt(E,1)):(E=Sl(b),E.c(),Tt(E,1),E.m(p.parentNode,p)):E&&(Ie(),Mt(E,1,1,()=>{E=null}),Be())},i(b){g||(Tt(E),g=!0)},o(b){Mt(E),g=!1},d(b){b&&K(p),E&&E.d(b)}}}const Cl=ni(null);let Up=0;function zp(M,p,g){let E;We(M,Cl,w=>g(13,E=w));let{$$slots:b={},$$scope:R}=p,{isResizable:c=!0}=p,{isCloseable:y=!0}=p,{isScaleable:t=!1}=p,{title:o=""}=p,{icon:v=""}=p;const s=Gr();let i=!1;const n=Up++;let e,r,l=32+16*(n%10),a=32+16*(n%5),h=Math.min(.75*window.innerWidth,1080),f=Math.round(h*9/16),u=h/50,d=!1;function m(){Cl.set(r)}function x(){g(7,d=!d),d?(m(),C()):T()}function S(){g(5,i=!1),C(),s("close")}function T(){r&&(m(),g(17,e=ea(r)),c&&e.resizable({edges:{top:!0,left:!0,bottom:!0,right:!0},modifiers:[ea.modifiers.restrict({restriction:"parent"})],listeners:{start(w){w.target.style.userSelect="none"},move(w){g(8,l+=w.deltaRect.left),g(9,a+=w.deltaRect.top),g(10,h=w.rect.width),g(11,f=w.rect.height),g(12,u=h/50)},end(w){w.target.style.userSelect=""}}}),e.draggable({allowFrom:".window-title",ignoreFrom:".btn",modifiers:[ea.modifiers.restrictRect({restriction:"parent"})],listeners:{move(w){g(8,l+=w.dx),g(9,a+=w.dy)}}}))}async function C(){e&&i&&(await e.reflow({name:"resize",edges:{left:!0,bottom:!0,top:!0,right:!0}}),e.unset()),g(17,e=null)}ti(()=>(g(5,i=!0),()=>{i&&c&&C()}));function A(w){ji[w?"unshift":"push"](()=>{r=w,g(6,r)})}return M.$$set=w=>{"isResizable"in w&&g(0,c=w.isResizable),"isCloseable"in w&&g(1,y=w.isCloseable),"isScaleable"in w&&g(2,t=w.isScaleable),"title"in w&&g(3,o=w.title),"icon"in w&&g(4,v=w.icon),"$$scope"in w&&g(20,R=w.$$scope)},M.$$.update=()=>{M.$$.dirty&131297&&i&&c&&!d&&!e&&r&&T()},[c,y,t,o,v,i,r,d,l,a,h,f,u,E,m,x,S,e,b,A,R]}class nu extends Ee{constructor(p){super(),Ce(this,p,zp,Vp,Se,{isResizable:0,isCloseable:1,isScaleable:2,title:3,icon:4})}}var Ta={exports:{}},ru;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/ru=function(){var M={},p={};return M.on=function(g,E){var b={name:g,handler:E};return p[g]=p[g]||[],p[g].unshift(b),b},M.off=function(g){var E=p[g.name].indexOf(g);E!==-1&&p[g.name].splice(E,1)},M.trigger=function(g,E){var b=p[g],R;if(b)for(R=b.length;R--;)b[R].handler(E)},M};var Xp=ru,Sa={exports:{}},Ea={exports:{}},ia,Al;function Yp(){if(Al)return ia;Al=1;var M=1e3,p=M*60,g=p*60,E=g*24,b=E*7,R=E*365.25;ia=function(v,s){s=s||{};var i=typeof v;if(i==="string"&&v.length>0)return c(v);if(i==="number"&&isFinite(v))return s.long?t(v):y(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))};function c(v){if(v=String(v),!(v.length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(s){var i=parseFloat(s[1]),n=(s[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*R;case"weeks":case"week":case"w":return i*b;case"days":case"day":case"d":return i*E;case"hours":case"hour":case"hrs":case"hr":case"h":return i*g;case"minutes":case"minute":case"mins":case"min":case"m":return i*p;case"seconds":case"second":case"secs":case"sec":case"s":return i*M;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function y(v){var s=Math.abs(v);return s>=E?Math.round(v/E)+"d":s>=g?Math.round(v/g)+"h":s>=p?Math.round(v/p)+"m":s>=M?Math.round(v/M)+"s":v+"ms"}function t(v){var s=Math.abs(v);return s>=E?o(v,s,E,"day"):s>=g?o(v,s,g,"hour"):s>=p?o(v,s,p,"minute"):s>=M?o(v,s,M,"second"):v+" ms"}function o(v,s,i,n){var e=s>=i*1.5;return Math.round(v/i)+" "+n+(e?"s":"")}return ia}function Wp(M){g.debug=g,g.default=g,g.coerce=t,g.disable=R,g.enable=b,g.enabled=c,g.humanize=Yp(),g.destroy=o,Object.keys(M).forEach(v=>{g[v]=M[v]}),g.names=[],g.skips=[],g.formatters={};function p(v){let s=0;for(let i=0;i<v.length;i++)s=(s<<5)-s+v.charCodeAt(i),s|=0;return g.colors[Math.abs(s)%g.colors.length]}g.selectColor=p;function g(v){let s,i=null,n,e;function r(...l){if(!r.enabled)return;const a=r,h=Number(new Date),f=h-(s||h);a.diff=f,a.prev=s,a.curr=h,s=h,l[0]=g.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let u=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(m,x)=>{if(m==="%%")return"%";u++;const S=g.formatters[x];if(typeof S=="function"){const T=l[u];m=S.call(a,T),l.splice(u,1),u--}return m}),g.formatArgs.call(a,l),(a.log||g.log).apply(a,l)}return r.namespace=v,r.useColors=g.useColors(),r.color=g.selectColor(v),r.extend=E,r.destroy=g.destroy,Object.defineProperty(r,"enabled",{enumerable:!0,configurable:!1,get:()=>i!==null?i:(n!==g.namespaces&&(n=g.namespaces,e=g.enabled(v)),e),set:l=>{i=l}}),typeof g.init=="function"&&g.init(r),r}function E(v,s){const i=g(this.namespace+(typeof s>"u"?":":s)+v);return i.log=this.log,i}function b(v){g.save(v),g.namespaces=v,g.names=[],g.skips=[];let s;const i=(typeof v=="string"?v:"").split(/[\s,]+/),n=i.length;for(s=0;s<n;s++)i[s]&&(v=i[s].replace(/\*/g,".*?"),v[0]==="-"?g.skips.push(new RegExp("^"+v.slice(1)+"$")):g.names.push(new RegExp("^"+v+"$")))}function R(){const v=[...g.names.map(y),...g.skips.map(y).map(s=>"-"+s)].join(",");return g.enable(""),v}function c(v){if(v[v.length-1]==="*")return!0;let s,i;for(s=0,i=g.skips.length;s<i;s++)if(g.skips[s].test(v))return!1;for(s=0,i=g.names.length;s<i;s++)if(g.names[s].test(v))return!0;return!1}function y(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}function t(v){return v instanceof Error?v.stack||v.message:v}function o(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return g.enable(g.load()),g}var $p=Wp;(function(M,p){p.formatArgs=E,p.save=b,p.load=R,p.useColors=g,p.storage=c(),p.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function g(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function E(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+M.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;t.splice(1,0,o,"color: inherit");let v=0,s=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(v++,i==="%c"&&(s=v))}),t.splice(s,0,o)}p.log=console.debug||console.log||(()=>{});function b(t){try{t?p.storage.setItem("debug",t):p.storage.removeItem("debug")}catch{}}function R(){let t;try{t=p.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t={}.DEBUG),t}function c(){try{return localStorage}catch{}}M.exports=$p(p);const{formatters:y}=M.exports;y.j=function(t){try{return JSON.stringify(t)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}}})(Ea,Ea.exports);var Hp=Ea.exports,Ca={exports:{}},Aa={exports:{}};(function(M,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},M.exports=p.default})(Aa,Aa.exports);var kp=Aa.exports;(function(M,p){Object.defineProperty(p,"__esModule",{value:!0});var g=kp,E=b(g);function b(R){return R&&R.__esModule?R:{default:R}}p.default={pauseVideo:{acceptableStates:[E.default.ENDED,E.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[E.default.ENDED,E.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[E.default.ENDED,E.default.PLAYING,E.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},M.exports=p.default})(Ca,Ca.exports);var Kp=Ca.exports,Ma={exports:{}};(function(M,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],M.exports=p.default})(Ma,Ma.exports);var jp=Ma.exports,wa={exports:{}};(function(M,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],M.exports=p.default})(wa,wa.exports);var Zp=wa.exports;(function(M,p){Object.defineProperty(p,"__esModule",{value:!0});var g=Hp,E=v(g),b=Kp,R=v(b),c=jp,y=v(c),t=Zp,o=v(t);function v(n){return n&&n.__esModule?n:{default:n}}const s=(0,E.default)("youtube-player"),i={};i.proxyEvents=n=>{const e={};for(const r of y.default){const l="on"+r.slice(0,1).toUpperCase()+r.slice(1);e[l]=a=>{s('event "%s"',l,a),n.trigger(r,a)}}return e},i.promisifyPlayer=(n,e=!1)=>{const r={};for(const l of o.default)e&&R.default[l]?r[l]=(...a)=>n.then(h=>{const f=R.default[l],u=h.getPlayerState(),d=h[l].apply(h,a);return f.stateChangeRequired||Array.isArray(f.acceptableStates)&&!f.acceptableStates.includes(u)?new Promise(m=>{const x=()=>{const S=h.getPlayerState();let T;typeof f.timeout=="number"&&(T=setTimeout(()=>{h.removeEventListener("onStateChange",x),m()},f.timeout)),Array.isArray(f.acceptableStates)&&f.acceptableStates.includes(S)&&(h.removeEventListener("onStateChange",x),clearTimeout(T),m())};h.addEventListener("onStateChange",x)}).then(()=>d):d}):r[l]=(...a)=>n.then(h=>h[l].apply(h,a));return r},p.default=i,M.exports=p.default})(Sa,Sa.exports);var Jp=Sa.exports,ba={exports:{}},Qp=function(p,g,E){var b=document.head||document.getElementsByTagName("head")[0],R=document.createElement("script");typeof g=="function"&&(E=g,g={}),g=g||{},E=E||function(){},R.type=g.type||"text/javascript",R.charset=g.charset||"utf8",R.async="async"in g?!!g.async:!0,R.src=p,g.attrs&&qp(R,g.attrs),g.text&&(R.text=""+g.text);var c="onload"in R?Ml:_p;c(R,E),R.onload||Ml(R,E),b.appendChild(R)};function qp(M,p){for(var g in p)M.setAttribute(g,p[g])}function Ml(M,p){M.onload=function(){this.onerror=this.onload=null,p(null,M)},M.onerror=function(){this.onerror=this.onload=null,p(new Error("Failed to load "+this.src),M)}}function _p(M,p){M.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,p(null,M))}}(function(M,p){Object.defineProperty(p,"__esModule",{value:!0});var g=Qp,E=b(g);function b(R){return R&&R.__esModule?R:{default:R}}p.default=R=>new Promise(y=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){y(window.YT);return}else{const o=window.location.protocol==="http:"?"http:":"https:";(0,E.default)(o+"//www.youtube.com/iframe_api",v=>{v&&R.trigger("error",v)})}const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{t&&t(),y(window.YT)}}),M.exports=p.default})(ba,ba.exports);var tm=ba.exports;(function(M,p){Object.defineProperty(p,"__esModule",{value:!0});var g=Xp,E=t(g),b=Jp,R=t(b),c=tm,y=t(c);function t(v){return v&&v.__esModule?v:{default:v}}let o;p.default=(v,s={},i=!1)=>{const n=(0,E.default)();if(o||(o=(0,y.default)(n)),s.events)throw new Error("Event handlers cannot be overwritten.");if(typeof v=="string"&&!document.getElementById(v))throw new Error('Element "'+v+'" does not exist.');s.events=R.default.proxyEvents(n);const e=new Promise(l=>{typeof v=="object"&&v.playVideo instanceof Function?l(v):o.then(a=>{const h=new a.Player(v,s);return n.on("ready",()=>{l(h)}),null})}),r=R.default.promisifyPlayer(e,i);return r.on=n.on,r.off=n.off,r},M.exports=p.default})(Ta,Ta.exports);var em=Ta.exports;const im=Mh(em);function sm(M){let p,g;return{c(){p=Q("div"),g=Q("div"),this.h()},l(E){p=q(E,"DIV",{class:!0});var b=rt(p);g=q(b,"DIV",{id:!0}),rt(g).forEach(K),b.forEach(K),this.h()},h(){W(g,"id",M[0]),W(p,"class",M[1])},m(E,b){dt(E,p,b),V(p,g),M[5](g)},p(E,[b]){b&1&&W(g,"id",E[0]),b&2&&W(p,"class",E[1])},i:Qt,o:Qt,d(E){E&&K(p),M[5](null)}}}const Ps={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function nm(M,p,g){let{id:E=void 0}=p,{videoId:b}=p,{options:R=void 0}=p,{class:c}=p,y,t;ti(()=>o());function o(){return t=im(y,R),t.on("ready",i),t.on("error",n),t.on("stateChange",e),t.on("playbackRateChange",r),t.on("playbackQualityChange",l),()=>t.destroy()}function v(h){t&&h&&(R&&R.playerVars&&R.playerVars.autoplay===1?t.loadVideoById(h):t.cueVideoById(h))}const s=Gr();function i(h){s("ready",h),v(b)}function n(h){s("error",h)}function e(h){switch(s("stateChange",h),h.data){case Ps.ENDED:s("end",h);break;case Ps.PLAYING:s("play",h);break;case Ps.PAUSED:s("pause",h);break}}function r(h){s("playbackRateChange",h)}function l(h){s("playbackQualityChange",h)}function a(h){ji[h?"unshift":"push"](()=>{y=h,g(2,y)})}return M.$$set=h=>{"id"in h&&g(0,E=h.id),"videoId"in h&&g(3,b=h.videoId),"options"in h&&g(4,R=h.options),"class"in h&&g(1,c=h.class)},M.$$.update=()=>{M.$$.dirty&8&&v(b)},[E,c,y,b,R,a]}class rm extends Ee{constructor(p){super(),Ce(this,p,nm,sm,Se,{id:0,videoId:3,options:4,class:1})}}function wl(M,p,g){const E=M.slice();return E[1]=p[g],E}function bl(M){let p,g,E,b,R,c,y=M[1].title+"",t,o,v,s=M[1].author+"",i,n,e,r=M[1].views.toLocaleString()+"",l,a,h;return{c(){p=Q("div"),g=Q("img"),b=lt(),R=Q("div"),c=Q("div"),t=mt(y),o=lt(),v=Q("div"),i=mt(s),n=lt(),e=Q("div"),l=mt(r),a=mt(" views"),h=lt(),this.h()},l(f){p=q(f,"DIV",{class:!0});var u=rt(p);g=q(u,"IMG",{src:!0,alt:!0,class:!0}),b=ht(u),R=q(u,"DIV",{class:!0});var d=rt(R);c=q(d,"DIV",{class:!0});var m=rt(c);t=gt(m,y),m.forEach(K),o=ht(d),v=q(d,"DIV",{class:!0});var x=rt(v);i=gt(x,s),x.forEach(K),n=ht(d),e=q(d,"DIV",{class:!0});var S=rt(e);l=gt(S,r),a=gt(S," views"),S.forEach(K),d.forEach(K),h=ht(u),u.forEach(K),this.h()},h(){Ae(g.src,E=`/pics/youtube/related/${M[1].id}.png`)||W(g,"src",E),W(g,"alt",M[1].id),W(g,"class","svelte-1o6h3mm"),W(c,"class","relvideo-title svelte-1o6h3mm"),W(v,"class","relvideo-subtitle svelte-1o6h3mm"),W(e,"class","relvideo-subtitle svelte-1o6h3mm"),W(R,"class","relvideo-info svelte-1o6h3mm"),W(p,"class","relvideo svelte-1o6h3mm")},m(f,u){dt(f,p,u),V(p,g),V(p,b),V(p,R),V(R,c),V(c,t),V(R,o),V(R,v),V(v,i),V(R,n),V(R,e),V(e,l),V(e,a),V(p,h)},p:Qt,d(f){f&&K(p)}}}function am(M){let p,g,E=_e(M[0]),b=[];for(let R=0;R<E.length;R+=1)b[R]=bl(wl(M,E,R));return{c(){p=Q("content"),g=Q("div");for(let R=0;R<b.length;R+=1)b[R].c();this.h()},l(R){p=q(R,"CONTENT",{class:!0});var c=rt(p);g=q(c,"DIV",{class:!0});var y=rt(g);for(let t=0;t<b.length;t+=1)b[t].l(y);y.forEach(K),c.forEach(K),this.h()},h(){W(g,"class","related-videos svelte-1o6h3mm"),W(p,"class","svelte-1o6h3mm")},m(R,c){dt(R,p,c),V(p,g);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(g,null)},p(R,[c]){if(c&1){E=_e(R[0]);let y;for(y=0;y<E.length;y+=1){const t=wl(R,E,y);b[y]?b[y].p(t,c):(b[y]=bl(t),b[y].c(),b[y].m(g,null))}for(;y<b.length;y+=1)b[y].d(1);b.length=E.length}},i:Qt,o:Qt,d(R){R&&K(p),fs(b,R)}}}let au=[];fetch("/data/related-videos.json").then(M=>M.json()).then(M=>{au=Ks(M)}).catch(M=>{console.error("Failed to fetch related videos",M)});function om(M){return[Ah(au,10)]}class lm extends Ee{constructor(p){super(),Ce(this,p,om,am,Se,{})}}function hm(M){let p=M[1]>0?"thumb_up_alt":"thumb_up_off_alt",g;return{c(){g=mt(p)},l(E){g=gt(E,p)},m(E,b){dt(E,g,b)},p(E,b){b&2&&p!==(p=E[1]>0?"thumb_up_alt":"thumb_up_off_alt")&&ie(g,p)},d(E){E&&K(g)}}}function um(M){let p=M[1]<0?"thumb_down_alt":"thumb_down_off_alt",g;return{c(){g=mt(p)},l(E){g=gt(E,p)},m(E,b){dt(E,g,b)},p(E,b){b&2&&p!==(p=E[1]<0?"thumb_down_alt":"thumb_down_off_alt")&&ie(g,p)},d(E){E&&K(g)}}}function fm(M){let p;return{c(){p=mt("share")},l(g){p=gt(g,"share")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function dm(M){let p;return{c(){p=mt("bookmark_border")},l(g){p=gt(g,"bookmark_border")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function cm(M){let p;return{c(){p=mt("more_horiz")},l(g){p=gt(g,"more_horiz")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function vm(M){let p,g="No description provided";return{c(){p=Q("em"),p.textContent=g},l(E){p=q(E,"EM",{"data-svelte-h":!0}),Ot(p)!=="svelte-15p38ce"&&(p.textContent=g)},m(E,b){dt(E,p,b)},p:Qt,d(E){E&&K(p)}}}function pm(M){let p,g=oo(M[0].description).replace(/\r?\n/g,"<br>")+"",E;return{c(){p=new mh(!1),E=Le(),this.h()},l(b){p=gh(b,!1),E=Le(),this.h()},h(){p.a=E},m(b,R){p.m(g,b,R),dt(b,E,R)},p(b,R){R&1&&g!==(g=oo(b[0].description).replace(/\r?\n/g,"<br>")+"")&&p.p(g)},d(b){b&&(K(E),p.d())}}}function mm(M){let p,g,E,b=M[0].title+"",R,c,y,t,o,v,s,i,n,e=M[0].author+"",r,l,a,h=ar(M[0].subs)+"",f,u,d,m,x='<button class="btn btn-primary yt-subscribe-btn svelte-8mtob3">Subscribe</button>',S,T,C,A,w,P,F=ar(M[0].likes+Math.max(0,M[1]))+"",L,O,I,B,U,H,Z,tt,X,k,D,z,Y,j,J,it,st,at,ft,vt=ro(M[0].views)+"",xt,Ct,yt,Pt,Gt=ao(M[0].createdAt)+"",Ut,Nt,wt,Dt,Rt,Ht="Comments are turned off.",qt,ee,te;w=new fe({props:{$$slots:{default:[hm]},$$scope:{ctx:M}}}),B=new fe({props:{$$slots:{default:[um]},$$scope:{ctx:M}}}),Z=new fe({props:{$$slots:{default:[fm]},$$scope:{ctx:M}}}),D=new fe({props:{$$slots:{default:[dm]},$$scope:{ctx:M}}}),J=new fe({props:{$$slots:{default:[cm]},$$scope:{ctx:M}}});function oe(It,Ft){return It[0].description?pm:vm}let Vt=oe(M),jt=Vt(M);return{c(){p=Q("content"),g=Q("div"),E=Q("h1"),R=mt(b),c=lt(),y=Q("div"),t=Q("div"),o=Q("img"),s=lt(),i=Q("div"),n=Q("div"),r=mt(e),l=lt(),a=Q("div"),f=mt(h),u=mt(" subscribers"),d=lt(),m=Q("div"),m.innerHTML=x,S=lt(),T=Q("div"),C=Q("div"),A=Q("button"),Xt(w.$$.fragment),P=lt(),L=mt(F),O=lt(),I=Q("button"),Xt(B.$$.fragment),U=lt(),H=Q("button"),Xt(Z.$$.fragment),tt=mt(" Share"),X=lt(),k=Q("button"),Xt(D.$$.fragment),z=mt(" Save"),Y=lt(),j=Q("button"),Xt(J.$$.fragment),it=lt(),st=Q("div"),at=Q("div"),ft=Q("div"),xt=mt(vt),Ct=mt(" views"),yt=lt(),Pt=Q("div"),Ut=mt(Gt),Nt=lt(),wt=Q("div"),jt.c(),Dt=lt(),Rt=Q("div"),Rt.textContent=Ht,this.h()},l(It){p=q(It,"CONTENT",{class:!0});var Ft=rt(p);g=q(Ft,"DIV",{class:!0});var St=rt(g);E=q(St,"H1",{class:!0});var At=rt(E);R=gt(At,b),At.forEach(K),c=ht(St),y=q(St,"DIV",{class:!0});var Lt=rt(y);t=q(Lt,"DIV",{class:!0});var ae=rt(t);o=q(ae,"IMG",{src:!0,alt:!0,class:!0}),ae.forEach(K),s=ht(Lt),i=q(Lt,"DIV",{class:!0});var Jt=rt(i);n=q(Jt,"DIV",{class:!0});var ge=rt(n);r=gt(ge,e),ge.forEach(K),l=ht(Jt),a=q(Jt,"DIV",{class:!0});var ye=rt(a);f=gt(ye,h),u=gt(ye," subscribers"),ye.forEach(K),Jt.forEach(K),d=ht(Lt),m=q(Lt,"DIV",{class:!0,"data-svelte-h":!0}),Ot(m)!=="svelte-5jbaaf"&&(m.innerHTML=x),S=ht(Lt),T=q(Lt,"DIV",{class:!0});var Me=rt(T);C=q(Me,"DIV",{class:!0,role:!0});var zt=rt(C);A=q(zt,"BUTTON",{class:!0});var ne=rt(A);$t(w.$$.fragment,ne),P=ht(ne),L=gt(ne,F),ne.forEach(K),O=ht(zt),I=q(zt,"BUTTON",{class:!0});var be=rt(I);$t(B.$$.fragment,be),be.forEach(K),zt.forEach(K),U=ht(Me),H=q(Me,"BUTTON",{class:!0});var Oe=rt(H);$t(Z.$$.fragment,Oe),tt=gt(Oe," Share"),Oe.forEach(K),X=ht(Me),k=q(Me,"BUTTON",{class:!0});var Fe=rt(k);$t(D.$$.fragment,Fe),z=gt(Fe," Save"),Fe.forEach(K),Y=ht(Me),j=q(Me,"BUTTON",{class:!0});var de=rt(j);$t(J.$$.fragment,de),de.forEach(K),Me.forEach(K),Lt.forEach(K),it=ht(St),st=q(St,"DIV",{class:!0});var we=rt(st);at=q(we,"DIV",{class:!0});var Ve=rt(at);ft=q(Ve,"DIV",{class:!0});var Ue=rt(ft);xt=gt(Ue,vt),Ct=gt(Ue," views"),Ue.forEach(K),yt=ht(Ve),Pt=q(Ve,"DIV",{class:!0});var li=rt(Pt);Ut=gt(li,Gt),li.forEach(K),Ve.forEach(K),Nt=ht(we),wt=q(we,"DIV",{class:!0});var Ze=rt(wt);jt.l(Ze),Ze.forEach(K),we.forEach(K),Dt=ht(St),Rt=q(St,"DIV",{class:!0,"data-svelte-h":!0}),Ot(Rt)!=="svelte-xaamfu"&&(Rt.textContent=Ht),St.forEach(K),Ft.forEach(K),this.h()},h(){W(E,"class","yt-video-title svelte-8mtob3"),Ae(o.src,v=M[0].avatar)||W(o,"src",v),W(o,"alt","avatar"),W(o,"class","svelte-8mtob3"),W(t,"class","yt-avatar svelte-8mtob3"),W(n,"class","yt-channel-name svelte-8mtob3"),W(a,"class","yt-channel-subs svelte-8mtob3"),W(i,"class","yt-channel svelte-8mtob3"),W(m,"class","yt-subscribe svelte-8mtob3"),W(A,"class","btn btn-light svelte-8mtob3"),W(I,"class","btn btn-light svelte-8mtob3"),W(C,"class","btn-group svelte-8mtob3"),W(C,"role","group"),W(H,"class","btn btn-light svelte-8mtob3"),W(k,"class","btn btn-light svelte-8mtob3"),W(j,"class","btn btn-light svelte-8mtob3"),W(T,"class","yt-video-buttons svelte-8mtob3"),W(y,"class","yt-video-author svelte-8mtob3"),W(ft,"class","yt-views"),W(Pt,"class","yt-created-ad"),W(at,"class","yt-video-subdata svelte-8mtob3"),W(wt,"class","yt-video-desc-text"),W(st,"class","yt-video-desc svelte-8mtob3"),pe(st,"minimized",!M[2]),W(Rt,"class","yt-comments svelte-8mtob3"),W(g,"class","video-description svelte-8mtob3"),W(p,"class","svelte-8mtob3")},m(It,Ft){dt(It,p,Ft),V(p,g),V(g,E),V(E,R),V(g,c),V(g,y),V(y,t),V(t,o),V(y,s),V(y,i),V(i,n),V(n,r),V(i,l),V(i,a),V(a,f),V(a,u),V(y,d),V(y,m),V(y,S),V(y,T),V(T,C),V(C,A),Yt(w,A,null),V(A,P),V(A,L),V(C,O),V(C,I),Yt(B,I,null),V(T,U),V(T,H),Yt(Z,H,null),V(H,tt),V(T,X),V(T,k),Yt(D,k,null),V(k,z),V(T,Y),V(T,j),Yt(J,j,null),V(g,it),V(g,st),V(st,at),V(at,ft),V(ft,xt),V(ft,Ct),V(at,yt),V(at,Pt),V(Pt,Ut),V(st,Nt),V(st,wt),jt.m(wt,null),V(g,Dt),V(g,Rt),qt=!0,ee||(te=[se(A,"click",M[3]),se(I,"click",M[4]),se(st,"click",M[5])],ee=!0)},p(It,[Ft]){(!qt||Ft&1)&&b!==(b=It[0].title+"")&&ie(R,b),(!qt||Ft&1&&!Ae(o.src,v=It[0].avatar))&&W(o,"src",v),(!qt||Ft&1)&&e!==(e=It[0].author+"")&&ie(r,e),(!qt||Ft&1)&&h!==(h=ar(It[0].subs)+"")&&ie(f,h);const St={};Ft&66&&(St.$$scope={dirty:Ft,ctx:It}),w.$set(St),(!qt||Ft&3)&&F!==(F=ar(It[0].likes+Math.max(0,It[1]))+"")&&ie(L,F);const At={};Ft&66&&(At.$$scope={dirty:Ft,ctx:It}),B.$set(At);const Lt={};Ft&64&&(Lt.$$scope={dirty:Ft,ctx:It}),Z.$set(Lt);const ae={};Ft&64&&(ae.$$scope={dirty:Ft,ctx:It}),D.$set(ae);const Jt={};Ft&64&&(Jt.$$scope={dirty:Ft,ctx:It}),J.$set(Jt),(!qt||Ft&1)&&vt!==(vt=ro(It[0].views)+"")&&ie(xt,vt),(!qt||Ft&1)&&Gt!==(Gt=ao(It[0].createdAt)+"")&&ie(Ut,Gt),Vt===(Vt=oe(It))&&jt?jt.p(It,Ft):(jt.d(1),jt=Vt(It),jt&&(jt.c(),jt.m(wt,null))),(!qt||Ft&4)&&pe(st,"minimized",!It[2])},i(It){qt||(Tt(w.$$.fragment,It),Tt(B.$$.fragment,It),Tt(Z.$$.fragment,It),Tt(D.$$.fragment,It),Tt(J.$$.fragment,It),qt=!0)},o(It){Mt(w.$$.fragment,It),Mt(B.$$.fragment,It),Mt(Z.$$.fragment,It),Mt(D.$$.fragment,It),Mt(J.$$.fragment,It),qt=!1},d(It){It&&K(p),Wt(w),Wt(B),Wt(Z),Wt(D),Wt(J),jt.d(),ee=!1,hi(te)}}}function gm(M,p,g){let{video:E}=p,b=0,R=!1;const c=()=>g(1,b=1),y=()=>g(1,b=-1),t=()=>g(2,R=!0);return M.$$set=o=>{"video"in o&&g(0,E=o.video)},[E,b,R,c,y,t]}class xm extends Ee{constructor(p){super(),Ce(this,p,gm,mm,Se,{video:0})}}function ym(M){let p,g,E='<img src="/pics/youtube/backdrop2.webp" alt="YouTube backdrop" class="svelte-1e7d44"/>',b,R,c,y,t,o,v,s;return c=new rm({props:{videoId:M[0].id,class:"w-100 h-100",options:M[7]}}),c.$on("error",M[8]),c.$on("ready",M[9]),c.$on("stateChange",M[10]),t=new xm({props:{video:M[0]}}),v=new lm({}),{c(){p=Q("div"),g=Q("div"),g.innerHTML=E,b=lt(),R=Q("div"),Xt(c.$$.fragment),y=lt(),Xt(t.$$.fragment),o=lt(),Xt(v.$$.fragment),this.h()},l(i){p=q(i,"DIV",{class:!0});var n=rt(p);g=q(n,"DIV",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-1ux4w5c"&&(g.innerHTML=E),b=ht(n),R=q(n,"DIV",{class:!0});var e=rt(R);$t(c.$$.fragment,e),e.forEach(K),y=ht(n),$t(t.$$.fragment,n),o=ht(n),$t(v.$$.fragment,n),n.forEach(K),this.h()},h(){W(g,"class","backdrop svelte-1e7d44"),W(R,"class","youtube-video-container svelte-1e7d44"),W(p,"class","youtube svelte-1e7d44")},m(i,n){dt(i,p,n),V(p,g),V(p,b),V(p,R),Yt(c,R,null),V(p,y),Yt(t,p,null),V(p,o),Yt(v,p,null),s=!0},p(i,[n]){const e={};n&1&&(e.videoId=i[0].id),c.$set(e);const r={};n&1&&(r.video=i[0]),t.$set(r)},i(i){s||(Tt(c.$$.fragment,i),Tt(t.$$.fragment,i),Tt(v.$$.fragment,i),s=!0)},o(i){Mt(c.$$.fragment,i),Mt(t.$$.fragment,i),Mt(v.$$.fragment,i),s=!1},d(i){i&&K(p),Wt(c),Wt(t),Wt(v)}}}function Tm(M,p,g){let E,b;We(M,Je,e=>g(4,b=e));let{video:R}=p;const c=Gr(),y=xe.state;We(M,y,e=>g(3,E=e));const t={width:"1280",height:"720",playerVars:{autoplay:1,enablejsapi:1,fs:0,rel:0,origin:window.location.origin}};let o,v=!1;function s(e){xh.call(this,M,e)}const i=e=>{g(1,o=e.detail.target),o.setVolume(b.volume),c("ready")},n=e=>{switch(e.detail.data){case Ps.CUED:{o.setVolume(b.volume);break}case Ps.PAUSED:{E.isPaused||g(2,v=!0);break}case Ps.PLAYING:{g(2,v=!1);break}case Ps.ENDED:{g(2,v=!0);break}}e.detail.data===Ps.PLAYING?c("playback-started"):c("playback-stopped")};return M.$$set=e=>{"video"in e&&g(0,R=e.video)},M.$$.update=()=>{M.$$.dirty&14&&(o&&E.isPaused?o.pauseVideo():o&&!v&&o.playVideo())},[R,o,v,E,b,c,y,t,s,i,n]}class Sm extends Ee{constructor(p){super(),Ce(this,p,Tm,ym,Se,{video:0})}}function Em(M){let p,g;return p=new Sm({props:{video:M[0]}}),p.$on("ready",M[3]),p.$on("error",M[4]),p.$on("playback-started",M[5]),p.$on("playback-stopped",M[6]),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,b){const R={};b&1&&(R.video=E[0]),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function Cm(M){let p,g;return p=new nu({props:{icon:M[2],title:M[1],$$slots:{default:[Em]},$$scope:{ctx:M}}}),p.$on("close",M[7]),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,[b]){const R={};b&4&&(R.icon=E[2]),b&2&&(R.title=E[1]),b&8193&&(R.$$scope={dirty:b,ctx:E}),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function Am(M,p,g){let{video:E}=p,{title:b}=p,{icon:R}=p;const c=Gr(),y=new Kn;let t;const o={loaded:!0,duration:0,_lastStartAt:0,link:{isDuplicate:!1,isLowViews:!1,isBadCategory:!1}};function v(){}function s(l){var h;((h=l.detail)==null?void 0:h.data)>=100&&(o.loaded=!1)}function i(){o._lastStartAt=Date.now()}function n(){o._lastStartAt&&(o.duration+=Date.now()-o._lastStartAt,o._lastStartAt=0)}function e(){c("close",o)}function r(l){var h,f,u;if(typeof l.data!="string")return;const a=JSON.parse(l.data);if(a.event==="infoDelivery"){const d=((h=a.info)==null?void 0:h.duration)||0;(((u=(f=a.info)==null?void 0:f.videoData)==null?void 0:u.video_id)||"")===E.id&&g(0,E.duration=d*1e3,E)}}return ti(()=>{window.addEventListener("message",r),o.link.isDuplicate=xe.seenVideos.has(E.id),o.link.isLowViews=E.views<vr.minViews,o.link.isBadCategory=vr.badCategories.includes(E.category);const l=Object.values(o.link).some(a=>a===!0);return l&&(t&&t.clear(),t=new Pi(()=>{y.modifyRage(1)},800),new ai(()=>Rr("invalidVideo"),2e3)),()=>{if(window.removeEventListener("message",r),t==null||t.clear(),!l&&o.loaded){const a=E.duration?Math.min(vr.minTimeToWatch,.9*E.duration):vr.minTimeToWatch;n();const h=o.duration/a;h<.75&&Rr("skippedVideo");const f=-50*(1-h);y.modifyLoyalty(Math.min(0,f))}}}),M.$$set=l=>{"video"in l&&g(0,E=l.video),"title"in l&&g(1,b=l.title),"icon"in l&&g(2,R=l.icon)},[E,b,R,v,s,i,n,e]}class Mm extends Ee{constructor(p){super(),Ce(this,p,Am,Cm,Se,{video:0,title:1,icon:2})}}function wm(M){let p,g,E;var b=M[1];function R(c,y){return{props:{minigame:c[0]}}}return b&&(g=Os(b,R(M))),{c(){p=Q("div"),g&&Xt(g.$$.fragment),this.h()},l(c){p=q(c,"DIV",{class:!0});var y=rt(p);g&&$t(g.$$.fragment,y),y.forEach(K),this.h()},h(){W(p,"class","minigame svelte-1kmouo5")},m(c,y){dt(c,p,y),g&&Yt(g,p,null),E=!0},p(c,[y]){if(y&2&&b!==(b=c[1])){if(g){Ie();const t=g;Mt(t.$$.fragment,1,0,()=>{Wt(t,1)}),Be()}b?(g=Os(b,R(c)),Xt(g.$$.fragment),Tt(g.$$.fragment,1),Yt(g,p,null)):g=null}else if(b){const t={};y&1&&(t.minigame=c[0]),g.$set(t)}},i(c){E||(g&&Tt(g.$$.fragment,c),E=!0)},o(c){g&&Mt(g.$$.fragment,c),E=!1},d(c){c&&K(p),g&&Wt(g)}}}function bm(M,p,g){let{minigame:E}=p,b;return ti(()=>{E.init();const R=E.activeComponent.subscribe(c=>{g(1,b=c)});return()=>{R(),E.destroy()}}),M.$$set=R=>{"minigame"in R&&g(0,E=R.minigame)},[E,b]}class Pm extends Ee{constructor(p){super(),Ce(this,p,bm,wm,Se,{minigame:0})}}function Rm(M){let p,g;return p=new Pm({props:{minigame:M[4]}}),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,b){const R={};b&16&&(R.minigame=E[4]),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function Lm(M){let p,g;return p=new nu({props:{icon:M[2],title:M[1],isScaleable:M[3],$$slots:{default:[Rm]},$$scope:{ctx:M}}}),p.$on("close",M[5]),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,[b]){const R={};b&4&&(R.icon=E[2]),b&2&&(R.title=E[1]),b&8&&(R.isScaleable=E[3]),b&80&&(R.$$scope={dirty:b,ctx:E}),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function Fm(M,p,g){let E,b=Qt,R=()=>(b(),b=ys(c,s=>g(4,E=s)),c);M.$$.on_destroy.push(()=>b());let{minigame:c}=p;R();let{title:y}=p,{icon:t}=p,{isScaleable:o=!0}=p;function v(s){xh.call(this,M,s)}return M.$$set=s=>{"minigame"in s&&R(g(0,c=s.minigame)),"title"in s&&g(1,y=s.title),"icon"in s&&g(2,t=s.icon),"isScaleable"in s&&g(3,o=s.isScaleable)},[c,y,t,o,E,v]}class Pl extends Ee{constructor(p){super(),Ce(this,p,Fm,Lm,Se,{minigame:0,title:1,icon:2,isScaleable:3})}}function Rl(M){let p,g,E="Killed by:",b,R,c=M[1].name+"",y,t,o,v,s,i,n,e,r,l;return{c(){p=Q("div"),g=Q("h3"),g.textContent=E,b=lt(),R=Q("span"),y=mt(c),t=lt(),o=Q("div"),v=Q("img"),n=lt(),e=Q("img"),this.h()},l(a){p=q(a,"DIV",{class:!0});var h=rt(p);g=q(h,"H3",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-37q3j4"&&(g.textContent=E),b=ht(h),R=q(h,"SPAN",{});var f=rt(R);y=gt(f,c),f.forEach(K),t=ht(h),o=q(h,"DIV",{class:!0});var u=rt(o);v=q(u,"IMG",{src:!0,alt:!0,class:!0}),n=ht(u),e=q(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(K),h.forEach(K),this.h()},h(){W(g,"class","svelte-1ntjbut"),kt(R,"color",M[1].color),Ae(v.src,s=`/pics/m4/${M[1].class}.png`)||W(v,"src",s),W(v,"alt",i=M[1].class),W(v,"class","svelte-1ntjbut"),Ae(e.src,r=`/pics/m4/${M[1].weaponDesc.texture}.png`)||W(e,"src",r),W(e,"alt",l=M[1].weaponDesc.texture),W(e,"class","weapon svelte-1ntjbut"),W(o,"class","unit-portrait svelte-1ntjbut"),W(p,"class","killed-by svelte-1ntjbut")},m(a,h){dt(a,p,h),V(p,g),V(p,b),V(p,R),V(R,y),V(p,t),V(p,o),V(o,v),V(o,n),V(o,e)},p(a,h){h&2&&c!==(c=a[1].name+"")&&ie(y,c),h&2&&kt(R,"color",a[1].color),h&2&&!Ae(v.src,s=`/pics/m4/${a[1].class}.png`)&&W(v,"src",s),h&2&&i!==(i=a[1].class)&&W(v,"alt",i),h&2&&!Ae(e.src,r=`/pics/m4/${a[1].weaponDesc.texture}.png`)&&W(e,"src",r),h&2&&l!==(l=a[1].weaponDesc.texture)&&W(e,"alt",l)},d(a){a&&K(p)}}}function Om(M){let p;return{c(){p=mt("exit_to_app")},l(g){p=gt(g,"exit_to_app")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Dm(M){let p,g,E,b,R=M[0].arena.player.name+"",c,y,t,o,v,s=M[3]+!M[2]+"",i,n,e,r,l=M[0].arena.maxSpawnCount+"",a,h,f,u=M[2]?"The winner gets TEA!":"Better luck next time!",d,m,x,S,T,C,A,w="Kills",P,F,L=M[0].arena.player.stats.frag+"",O,I,B,U,H="Damage",Z,tt,X=M[0].arena.player.stats.damage+"",k,D,z,Y,j="Heals used",J,it,st=M[0].arena.player.stats.medkit+"",at,ft,vt,xt,Ct="Grenades used",yt,Pt,Gt=M[0].arena.player.stats.ability+"",Ut,Nt,wt,Dt,Rt,Ht,qt,ee,te,oe,Vt=!M[2]&&Rl(M);return Ht=new fe({props:{size:"120%",$$slots:{default:[Om]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("div"),E=Q("div"),b=Q("span"),c=mt(R),y=lt(),t=Q("div"),o=Q("span"),v=mt("#"),i=mt(s),n=lt(),e=Q("span"),r=mt("/ "),a=mt(l),h=lt(),f=Q("h1"),d=mt(u),m=lt(),x=Q("div"),S=Q("table"),T=Q("tbody"),C=Q("tr"),A=Q("td"),A.textContent=w,P=lt(),F=Q("td"),O=mt(L),I=lt(),B=Q("tr"),U=Q("td"),U.textContent=H,Z=lt(),tt=Q("td"),k=mt(X),D=lt(),z=Q("tr"),Y=Q("td"),Y.textContent=j,J=lt(),it=Q("td"),at=mt(st),ft=lt(),vt=Q("tr"),xt=Q("td"),xt.textContent=Ct,yt=lt(),Pt=Q("td"),Ut=mt(Gt),Nt=lt(),Vt&&Vt.c(),wt=lt(),Dt=Q("div"),Rt=Q("button"),Xt(Ht.$$.fragment),qt=mt(" Leave game"),this.h()},l(jt){p=q(jt,"DIV",{class:!0});var It=rt(p);g=q(It,"DIV",{class:!0});var Ft=rt(g);E=q(Ft,"DIV",{class:!0});var St=rt(E);b=q(St,"SPAN",{});var At=rt(b);c=gt(At,R),At.forEach(K),y=ht(St),t=q(St,"DIV",{class:!0});var Lt=rt(t);o=q(Lt,"SPAN",{class:!0});var ae=rt(o);v=gt(ae,"#"),i=gt(ae,s),ae.forEach(K),n=ht(Lt),e=q(Lt,"SPAN",{});var Jt=rt(e);r=gt(Jt,"/ "),a=gt(Jt,l),Jt.forEach(K),Lt.forEach(K),St.forEach(K),h=ht(Ft),f=q(Ft,"H1",{class:!0});var ge=rt(f);d=gt(ge,u),ge.forEach(K),Ft.forEach(K),m=ht(It),x=q(It,"DIV",{class:!0});var ye=rt(x);S=q(ye,"TABLE",{class:!0});var Me=rt(S);T=q(Me,"TBODY",{});var zt=rt(T);C=q(zt,"TR",{});var ne=rt(C);A=q(ne,"TD",{class:!0,"data-svelte-h":!0}),Ot(A)!=="svelte-1y1yg9x"&&(A.textContent=w),P=ht(ne),F=q(ne,"TD",{class:!0});var be=rt(F);O=gt(be,L),be.forEach(K),ne.forEach(K),I=ht(zt),B=q(zt,"TR",{});var Oe=rt(B);U=q(Oe,"TD",{class:!0,"data-svelte-h":!0}),Ot(U)!=="svelte-nev7qb"&&(U.textContent=H),Z=ht(Oe),tt=q(Oe,"TD",{class:!0});var Fe=rt(tt);k=gt(Fe,X),Fe.forEach(K),Oe.forEach(K),D=ht(zt),z=q(zt,"TR",{});var de=rt(z);Y=q(de,"TD",{class:!0,"data-svelte-h":!0}),Ot(Y)!=="svelte-svypui"&&(Y.textContent=j),J=ht(de),it=q(de,"TD",{class:!0});var we=rt(it);at=gt(we,st),we.forEach(K),de.forEach(K),ft=ht(zt),vt=q(zt,"TR",{});var Ve=rt(vt);xt=q(Ve,"TD",{class:!0,"data-svelte-h":!0}),Ot(xt)!=="svelte-1tw31ve"&&(xt.textContent=Ct),yt=ht(Ve),Pt=q(Ve,"TD",{class:!0});var Ue=rt(Pt);Ut=gt(Ue,Gt),Ue.forEach(K),Ve.forEach(K),zt.forEach(K),Me.forEach(K),Nt=ht(ye),Vt&&Vt.l(ye),ye.forEach(K),wt=ht(It),Dt=q(It,"DIV",{class:!0});var li=rt(Dt);Rt=q(li,"BUTTON",{class:!0});var Ze=rt(Rt);$t(Ht.$$.fragment,Ze),qt=gt(Ze," Leave game"),Ze.forEach(K),li.forEach(K),It.forEach(K),this.h()},h(){W(o,"class","your-place svelte-1ntjbut"),W(t,"class","rating svelte-1ntjbut"),W(E,"class","player svelte-1ntjbut"),W(f,"class","svelte-1ntjbut"),W(g,"class","w-100"),W(A,"class","svelte-1ntjbut"),W(F,"class","svelte-1ntjbut"),W(U,"class","svelte-1ntjbut"),W(tt,"class","svelte-1ntjbut"),W(Y,"class","svelte-1ntjbut"),W(it,"class","svelte-1ntjbut"),W(xt,"class","svelte-1ntjbut"),W(Pt,"class","svelte-1ntjbut"),W(S,"class","table svelte-1ntjbut"),W(x,"class","content svelte-1ntjbut"),W(Rt,"class","btn btn-danger"),W(Dt,"class","buttons svelte-1ntjbut"),W(p,"class","game-over svelte-1ntjbut")},m(jt,It){dt(jt,p,It),V(p,g),V(g,E),V(E,b),V(b,c),V(E,y),V(E,t),V(t,o),V(o,v),V(o,i),V(t,n),V(t,e),V(e,r),V(e,a),V(g,h),V(g,f),V(f,d),V(p,m),V(p,x),V(x,S),V(S,T),V(T,C),V(C,A),V(C,P),V(C,F),V(F,O),V(T,I),V(T,B),V(B,U),V(B,Z),V(B,tt),V(tt,k),V(T,D),V(T,z),V(z,Y),V(z,J),V(z,it),V(it,at),V(T,ft),V(T,vt),V(vt,xt),V(vt,yt),V(vt,Pt),V(Pt,Ut),V(x,Nt),Vt&&Vt.m(x,null),V(p,wt),V(p,Dt),V(Dt,Rt),Yt(Ht,Rt,null),V(Rt,qt),ee=!0,te||(oe=se(Rt,"click",M[5]),te=!0)},p(jt,[It]){(!ee||It&1)&&R!==(R=jt[0].arena.player.name+"")&&ie(c,R),(!ee||It&12)&&s!==(s=jt[3]+!jt[2]+"")&&ie(i,s),(!ee||It&1)&&l!==(l=jt[0].arena.maxSpawnCount+"")&&ie(a,l),(!ee||It&4)&&u!==(u=jt[2]?"The winner gets TEA!":"Better luck next time!")&&ie(d,u),(!ee||It&1)&&L!==(L=jt[0].arena.player.stats.frag+"")&&ie(O,L),(!ee||It&1)&&X!==(X=jt[0].arena.player.stats.damage+"")&&ie(k,X),(!ee||It&1)&&st!==(st=jt[0].arena.player.stats.medkit+"")&&ie(at,st),(!ee||It&1)&&Gt!==(Gt=jt[0].arena.player.stats.ability+"")&&ie(Ut,Gt),jt[2]?Vt&&(Vt.d(1),Vt=null):Vt?Vt.p(jt,It):(Vt=Rl(jt),Vt.c(),Vt.m(x,null));const Ft={};It&64&&(Ft.$$scope={dirty:It,ctx:jt}),Ht.$set(Ft)},i(jt){ee||(Tt(Ht.$$.fragment,jt),ee=!0)},o(jt){Mt(Ht.$$.fragment,jt),ee=!1},d(jt){jt&&K(p),Vt&&Vt.d(),Wt(Ht),te=!1,oe()}}}function Im(M,p,g){let E,{minigame:b}=p,{winner:R}=p,{chickenDinner:c=!1}=p;const y=b.arena.winCondition;We(M,y,o=>g(3,E=o));function t(){b.endGame()}return M.$$set=o=>{"minigame"in o&&g(0,b=o.minigame),"winner"in o&&g(1,R=o.winner),"chickenDinner"in o&&g(2,c=o.chickenDinner)},[b,R,c,E,y,t]}class Bm extends Ee{constructor(p){super(),Ce(this,p,Im,Dm,Se,{minigame:0,winner:1,chickenDinner:2})}}const Wa=190;class ou{constructor(){this.texture="ground",this.group="platforms",this.levelHeight=Wa,this.depth=1,this.highest=!1}build(p){return{x:p.params.width*this.x,y:p.params.height-this.levelHeight*this.level,group:this.group,texture:this.texture,scaleX:this.scaleX,scaleY:this.scaleY,highest:this.highest}}}class di extends ou{constructor(p,g=1,E=1){super(),this.x=p,this.level=g,this.scaleX=E,this.scaleY=1,this.depth=2}}class Gm extends di{constructor(p){super(p,7,2.27),this.scaleY=1.7,this.depth=3,this.highest=!0}}class Nm extends ou{constructor(p){super(),this.texture="building",this.group="walls",this.x=p,this.level=3.5,this.scaleX=1.7,this.scaleY=2.45}}const Vm=[new di(.18,1,2),new di(.82,1,2),new di(-.15,2,4),new di(.32,2,1.7),new di(.68,2,1.7),new di(1.15,2,4),new di(.13,3),new di(.37,3,1.5),new di(.63,3,1.5),new di(.87,3),new di(.74,4,1.25),new di(.26,4,1.25),new di(-.05,5,4),new di(1.05,5,4),new di(.74,6,1.5),new di(.26,6,1.5),new Nm(.5),new Gm(.5)];Ya(150,console.log);function Ll(M,p){return(M.x<p.x[0]||M.x>p.x[1])&&(M.y<p.y[0]||M.y>p.y[1])}function sa(M,p){return Math.sign(M/p-.5)}function Um(M,p=!1){if(M.ai._init&&!p){console.warn("[ArenaBetterAi] This arena was already initialized!");return}M.ai._init=!0,M.ai.consts={halfAcrossMap:400,jumpThreshold:200,elevatorToTargetThreshold:322,elevatorHeightThreshold:50,enemyColorMap:{blue:"red",red:"blue"},characters:["chad","soy"],behaviors:{melee:{chad:"meleeAction",soy:"idleMeleeAction"},ranged:{chad:"rangedAction",soy:"idleRangedAction"}},alignment:{}},M.ai.walls=[],M.groups.walls.children.iterate(g=>{const E=g.getTopLeft(),b=g.getTopRight();M.ai.walls.push({x:[E.x,b.x],y:[E.y,b.y]})}),M.ai.elevators=[],M.ai.floors=[],M.groups.platforms.children.iterate(g=>{const E=g.getTopLeft(),b=g.getTopRight(),R=Math.ceil((E.y+b.y)/2),c={y:R,planks:[]};let y;if(M.ai.floors.length>0){for(y=M.ai.floors.length-1;y>=0;y--)if(M.ai.floors[y].y>=R){M.ai.floors[y].y>R&&M.ai.floors.splice(++y,0,c);break}}else y=0,M.ai.floors.splice(y,0,c);M.ai.floors[y].planks.push({y:R,fromX:Math.max(E.x,0),toX:Math.min(b.x,M.params.width)}),E.x>0&&E.x<M.params.width&&M.ai.walls.every(o=>Ll(E,o))&&(E.jumpDirection=1,E.dropDirection=-1,M.ai.elevators.push(E)),b.x>0&&b.x<M.params.width&&M.ai.walls.every(o=>Ll(b,o))&&(b.jumpDirection=-1,b.dropDirection=1,M.ai.elevators.push(b))}),M.ai.highestFloor=M.ai.floors[M.ai.floors.length-1],M.ai.elevators.forEach(g=>{g.floor=0;for(let E=0;E<M.ai.floors.length;E++)Math.abs(M.ai.floors[E].y-g.y)<1&&(g.floor=E);M.source.physics.config.debug&&M.source.add.rectangle(g.x,g.y,8,8).setFillStyle(16711680).setDepth(50)}),M.ai.consts.elevatorToTargetThreshold=M.params.height/3,M.ai.consts.elevatorHeightThreshold=Wa/2,M.ai.consts.halfAcrossMap=M.params.width*.5,M.ai.getMultiUnitFloor=function(){const g=new Array(arguments.length).fill(0);for(let E=0;E<M.ai.floors.length;E++)for(let b=0;b<arguments.length;b++)arguments[b].object.y<=M.ai.floors[E].y&&(g[b]=E);return g},console.log("[ArenaBetterAi] Initialization complete!")}class zm{constructor(p,g){this.arena=p,this.unit=g,this.log=ri;const E=this.arena.source.time.now;this.unit.bot.nextJump=E+re(4567),this.unit.bot.nextAttack=E+re(1234,7890),this.unit.bot.nextAbility=E+re(1234,5678),this.unit.bot.nextChangeDirection=1,this.unit.bot.isSmart=!0,this.unit.bot.nextSmartMove=E+re(1234,3210),this.unit.bot.smartBehavior=p.ai.consts.alignment[this.unit.class]||He(p.ai.consts.characters)}checkBlockBotAction(p){return this.arena.state!=="started"||this.unit.dead||this.unit.bot.isPassive||this.unit.bot.nextSmartMove>p}getDistanceInfoTo(p){const g={unit:p};return g.dx=p.object.x-this.unit.object.x,g.dy=p.object.y-this.unit.object.y,g.distance=Math.sqrt(g.dx*g.dx+g.dy*g.dy),g}getUnitDistanceToElevator(p){const g={elevator:p};return g.dx=p.x-this.unit.object.x,g.dy=p.y-this.unit.object.y,g.distance=Math.sqrt(g.dx*g.dx+g.dy*g.dy),g}getSimpleDistanceToElevator(p,g){let E=g.x-p.object.x,b=g.y-p.object.y;return Math.sqrt(E*E+b*b)}findOptimalElevator(p){const g={closest:{elevator:{bad:1},distance:Number.MAX_SAFE_INTEGER,dToTarget:Number.MAX_SAFE_INTEGER,dToUnit:Number.MAX_SAFE_INTEGER},best:{elevator:{bad:1},distance:Number.MAX_SAFE_INTEGER,dToTarget:Number.MAX_SAFE_INTEGER,dToUnit:Number.MAX_SAFE_INTEGER}},E=p.object.x>this.unit.object.x?[this.unit.object.x,p.object.x]:[p.object.x,this.unit.object.x],b=this.arena.ai.getMultiUnitFloor(this.unit,p);if(this.log("floor info",b,p.object),b[0]===b[1])return null;const R=b[0]<b[1];if(this.arena.ai.elevators.forEach(t=>{if(t.floor-b[0]!==+R)return;if(t.x<=E[1]&&t.x>=E[0]){let s=this.getSimpleDistanceToElevator(p,t);s<g.best.dToTarget&&(g.best.elevator=t,g.best.dToTarget=s)}let v=this.getSimpleDistanceToElevator(this.unit,t);v<g.closest.dToUnit&&(g.closest.elevator=t,g.closest.dToUnit=v)}),g.closest.elevator.bad&&g.best.elevator.bad)return null;const c=g.closest.elevator.bad?g.best:g.best.elevator.bad||R&&b[1]-b[0]!==1?g.closest:g.best;if(c===null)return null;const y=this.getUnitDistanceToElevator(c.elevator);return y.jumpX=c.elevator.x-this.unit.speed*.6*y.elevator.jumpDirection,y.dropX=c.elevator.x+y.elevator.dropDirection*10,y}getClosestUnitInfo(){let p={unit:null,distance:Number.MAX_SAFE_INTEGER};const g=E=>{if(E===this.unit||E.dead)return;const b=this.getDistanceInfoTo(E);p.distance>b.distance&&(p=b)};return this.unit.enemyUnits.forEach(g),p}getClosestUnitsInfoForRanged(){let p={unit:null,ady:Number.MAX_SAFE_INTEGER},g={unit:null,distance:Number.MAX_SAFE_INTEGER};const E=b=>{if(b===this.unit||b.dead||this.unit.object.y>this.arena.ai.highestFloor.y&&sa(b.object.x,this.arena.params.width)!==this._sideOfMap)return;const R=this.getDistanceInfoTo(b);R.ady=Math.abs(R.dy),g.distance>R.distance&&(g=R),(p.ady>R.ady||p.ady==R.ady&&p.distance>R.distance)&&(p=R)};return this.unit.enemyUnits.forEach(E),[p,g]}processAction(p){var g;if(!this.checkBlockBotAction(p)){if(this.unit.bot.preferredRange=Math.max(80,Math.floor(((g=this.unit.weapon)==null?void 0:g.speedX)*.4))||0,this.unit.ability.charges>0&&this.unit.bot.nextAbility<p){const b=this.getClosestUnitsInfoForRanged()[0];b.unit&&b.distance>300&&b.distance<700&&(this.unit.bot.nextAbility=p+this.unit.ability.cooldown+re(1234),this.unit.doAbility())}this._sideOfMap=sa(this.unit.object.x,this.arena.params.width),this.unit.bot.preferredRange>99?this[this.arena.ai.consts.behaviors.ranged[this.unit.bot.smartBehavior]](p):this[this.arena.ai.consts.behaviors.melee[this.unit.bot.smartBehavior]](p),this.unit.bot.nextSmartMove=Math.max(this.unit.bot.nextSmartMove,p+200)}}adjustDirectionToTargetOnOtherSide(p){return this.unit.object.body.y<=this.arena.ai.highestFloor.y?p:sa(p.unit.object.x,this.arena.params.width)!==this._sideOfMap?this.getDistanceInfoTo({object:this.arena.midpoint,dead:!0}):p}meleeAction(p){let g=this.getClosestUnitInfo();if(!g.unit){this.log("no target found");const b=Math.random();this.unit.doMove(Math.random()-.5),b<.1&&this.unit.doJump(),this.unit.bot.nextSmartMove=p+555;return}g=this.adjustDirectionToTargetOnOtherSide(g);const E=Math.abs(g.dy);if(E>this.arena.ai.consts.elevatorHeightThreshold){const b=this.findOptimalElevator(g.unit);if(!b){this.log("[!] bad elevator",b),this.unit.bot.nextSmartMove=p+555,this.unit.doMove(Math.random()-.5);return}if(g.dy<0){if(this.log("looking to jump",b,b.jumpX,b.elevator.jumpDirection),Math.abs(b.jumpX-this.unit.object.x)<30){this.log("jumping!"),this.unit.doMove(b.elevator.jumpDirection),this.unit.doJump(),this.unit.bot.nextSmartMove=p+1234;return}this.unit.doMove(b.jumpX-this.unit.object.x)}else{this.log("looking to drop",b.dropX,b.elevator.dropDirection);const R=b.dropX-this.unit.object.x;this.unit.doMove(Math.abs(R<50)?b.elevator.dropDirection:R),this.unit.bot.nextSmartMove=p+888}return}this.log("leveled -- seek target"),g.unit.object.body.velocity.y<-this.arena.ai.consts.jumpThreshold&&this.unit.doJump(),this.unit.doMove(Math.sign(g.dx)),Math.abs(g.dx)<this.unit.bot.preferredRange&&E<10&&this.unit.doAttack()}idleMeleeAction(p){let g=this.getClosestUnitInfo();if(!g.unit){this.log("no target found");const E=Math.random();this.unit.doMove(Math.random()-.5),E<.1&&this.unit.doJump(),this.unit.bot.nextSmartMove=p+777;return}if(g=this.adjustDirectionToTargetOnOtherSide(g),Math.abs(g.dx)<this.unit.bot.preferredRange&&Math.abs(g.dy)<20){this.unit.doMove(Math.sign(g.dx)),this.unit.doAttack();return}if(g.distance<150){this.unit.doMove(-g.dx),Math.random()<.3&&this.unit.doJump();return}this.unit.doMove(1-2*Math.random()),Math.random()<.3&&this.unit.doJump()}rangedAction(p){const g=this.getClosestUnitsInfoForRanged();let E=g[0].unit?g[0]:g[1];if(!E.unit){this.log("no target found");const R=Math.random();this.unit.doMove(Math.random()-.5),R<.1&&this.unit.doJump(),this.unit.bot.nextSmartMove=p+777;return}if(E=this.adjustDirectionToTargetOnOtherSide(E),E.ady<10&&(this.unit.doMove(Math.sign(E.dx)),this.unit.doAttack()),Math.abs(E.dy)>this.arena.ai.elevatorHeightThreshold){const R=this.findOptimalElevator(E.unit);if(!R){this.log("[!] bad elevator",R),this.unit.bot.nextSmartMove=p+555,this.unit.doMove(Math.random()-.5);return}if(E.dy<0){if(this.log("looking to jump",R,R.jumpX,R.elevator.jumpDirection),Math.abs(R.jumpX-this.unit.object.x)<30){this.log("jumping!"),this.unit.doMove(R.elevator.jumpDirection),this.unit.doJump(),this.unit.bot.nextSmartMove=p+1234;return}this.unit.doMove(R.jumpX-this.unit.object.x)}else{this.log("looking to drop",R.dropX,R.elevator.dropDirection);const c=R.dropX-this.unit.object.x;this.unit.doMove(Math.abs(c<50)?R.elevator.dropDirection:c),this.unit.bot.nextSmartMove=p+888}return}if(E=g[1].unit?g[1]:g[0],!!E.unit){if(E.distance<this.unit.bot.preferredRange){let R=-E.dx;this.unit.object.x<this.unit.bot.preferredRange&&(R=1),this.unit.object.x>this.arena.params.width-this.unit.bot.preferredRange&&(R=-1),this.unit.doMove(R),Math.random()<.5&&this.unit.doJump();return}this.unit.doMove(0)}}idleRangedAction(p){const g=this.getClosestUnitsInfoForRanged();let E=g[0].unit?g[0]:g[1];if(!E.unit){this.log("no target found");const b=Math.random();this.unit.doMove(Math.random()-.5),b<.1&&this.unit.doJump(),this.unit.bot.nextSmartMove=p+777;return}if(E=this.adjustDirectionToTargetOnOtherSide(E),Math.abs(E.dy)<20&&(this.unit.doMove(Math.sign(E.dx)),this.unit.doAttack()),E=g[1].unit?g[1]:g[0],E.distance<this.unit.bot.preferredRange){let b=-E.dx;this.unit.object.x<this.unit.bot.preferredRange&&(b=1),this.unit.object.x>this.arena.params.width-this.unit.bot.preferredRange&&(b=-1),this.unit.doMove(b),Math.random()<.5&&this.unit.doJump();return}this.unit.doMove(1-2*Math.random()),Math.random()<.3&&this.unit.doJump()}}class Fr{constructor(p){this.arena=p,this.source=p.source,this.isEmpty=!0,this.owner=null,this.weaponIcon="👊",this.speedX=0,this.speedY=0,this.gravitate=!1,this.persistent=!0,this.type="hit-melee",this.texture="null",this.priority=0,this.projectileSpeed=0,this.damage=22,this.maxAmmo=Number.MAX_SAFE_INTEGER,this.ammo=this.maxAmmo,this.reserveAmmo=0,this.attackDelay=400,this.reloadDelay=1e3,this.isReloading=!1,this.isDepleted=!1,this.attackDelayer=null,this._attackTick=!1,this.hitscans=["collider","overlap"],this.collideBehavior=ri,this.sound=this.source.sound.get("attack-melee"),this.soundOfDamage=this.source.sound.get("hit-fist"),this.soundOfReload=this.source.sound.get("reload")}setOwner(p){return this.owner=p,this}reloadAmmo(){this.ammo=this.maxAmmo,this.isReloading=!1}shoot(p){if(!(this._attackTick||this.ammo<1))return this._attackTick=!0,this.attackDelayer=this.source.time.addEvent({delay:this.attackDelay,callback:()=>{this._attackTick=!1}}),this.ammo-=1,this.ammo===0&&this.reloadAmmo(),new Pa(this.arena,this.source,p,this)}lifecycle(){this.object.on("animationcomplete",()=>{this.object.destroy()})}}class Or extends Fr{constructor(p){super(p),this.isEmpty=!1,this.type="hit-melee",this.weaponIcon="🍳",this.texture="pan",this.priority=1,this.damage=98,this.attackDelay=550,this.sound=this.source.sound.get("attack-melee"),this.soundOfDamage=this.source.sound.get("hit-melee"),this.ammo=Number.MAX_SAFE_INTEGER,this.maxAmmo=Number.MAX_SAFE_INTEGER}}class mn extends Fr{constructor(p){super(p),this.isEmpty=!1,this.weaponIcon="🔫",this.persistent=!1,this.type="hit-bullet",this.texture="pistol",this.projectileSpeed=650,this.damage=81,this.speedX=this.projectileSpeed,this.priority=2,this.attackDelay=400,this.reloadDelay=1800,this.ammo=12,this.maxAmmo=12,this.reserveAmmo=this.maxAmmo*4,this.hitscans=["collider","overlap"],this.collideBehavior=function(){this.object.destroy()},this.sound=this.source.sound.get("attack-ranged"),this.soundOfDamage=this.source.sound.get("hit-ranged")}reloadAmmo(p=!1){var E;if(this.isReloading||this.isDepleted)return this;if(this.isReloading=!0,this._isReloadingSince=Date.now(),this.reserveAmmo<1)return this.isDepleted=!0,this;const g=()=>{var R;const b=Math.min(this.maxAmmo,this.reserveAmmo);this.ammo=b,this.reserveAmmo-=b,this.isReloading=!1,(R=this.owner)!=null&&R.isPlayer&&this.arena.playerStore.update(c=>c)};return p?g():((E=this.owner)!=null&&E.isPlayer&&this.soundOfReload.play({volume:this.arena.settings.soundVolume*this.source.sound.getCustomExponent(),mute:!this.arena.settings.sound}),new ai(g,this.reloadDelay)),this}lifecycle(){this.object.setCollideWorldBounds(!0),this.object.body.onWorldBounds=!0,this.object.body.world.on("worldbounds",function(p){p.gameObject===this&&this.destroy()},this.object)}isSameClassAs(p){return this.constructor===(p==null?void 0:p.constructor)}}class Xm extends mn{constructor(p){super(p),this.weaponIcon="🎯🔫",this.texture="sniper",this.projectileSpeed=1200,this.speedX=this.projectileSpeed,this.priority=3,this.attackDelay=800,this.reloadDelay=4e3,this.damage=220,this.ammo=5,this.maxAmmo=5,this.reserveAmmo=this.maxAmmo*3,this.sound=this.source.sound.get("attack-sniper"),this.soundOfDamage=this.source.sound.get("hit-ranged")}}class Ym extends mn{constructor(p){super(p),this.weaponIcon="🔫⚙️",this.texture="rifle",this.projectileSpeed=800,this.speedX=this.projectileSpeed,this.priority=3,this.attackDelay=100,this.reloadDelay=3e3,this.damage=112,this.ammo=30,this.maxAmmo=30,this.reserveAmmo=this.maxAmmo*2,this.sound=this.source.sound.get("attack-rifle"),this.soundOfDamage=this.source.sound.get("hit-ranged")}}const Wm={dead:!0,takeDamage:ri,takeHeal:ri};function Fl(M){M.destroy()}class Pa{constructor(p,g,E,b){this.arena=p,this.source=g,this.owner=E,this.x=b.x||E.object.x+.5*E.object.displayWidth-E.object.displayWidth*E.subobjects.weapon.flipX,this.y=b.y||E.object.y,this.damage=b.damage||0,this.allowFriendlyFire=b.allowFriendlyFire||!1,this.icon=b.weaponIcon,this.collideBehavior=b.collideBehavior,this.soundOfDamage=b.soundOfDamage,this.nullUnit=Wm,this.object=g.physics.add.sprite(this.x,this.y,b.type),this.arena.groups.projectiles.add(this.object),this.object.ownerUnit=this.owner,this.object.body.setAllowGravity(b.gravitate),this.object.setDepth(10).setScale((b.scale||1)*this.arena.internals.globalScale).setFlipX(E.subobjects.weapon.flipX).setBounceX(1).setVelocityX((-E.subobjects.weapon.flipX*2+1)*b.speedX).setVelocityY(b.speedY),b.lifecycle.apply(this),this._processCallback=this.allowFriendlyFire?()=>!0:(R,c)=>{var y,t;return((y=R.ownerUnit)==null?void 0:y.guid)!==((t=c.ownerUnit)==null?void 0:t.guid)},this._colliderCallback=(R,c)=>{c.ownerUnit.takeDamage(this.owner,this,!c.ownerUnit.dead*this.damage),this.collideBehavior.apply(this)},b.persistent||(g.physics.add.collider(this.object,p.groups.platforms,Fl,null,this),g.physics.add.collider(this.object,p.groups.walls,Fl,null,this)),b.hitscans.forEach(R=>{this.source.physics.add[R](this.object,this.arena.groups.units.all,this._colliderCallback,this._processCallback,this)}),b.sound.play({volume:this.arena.settings.soundVolume*this.source.sound.getCustomExponent(),mute:!this.arena.settings.sound}),this.object.play("anim-"+b.type),p.camera2.ignore(this.object)}}class $m{constructor(){this.isEmpty=!0,this.cooldown=1e3,this.charges=0,this.lastUsed=0,this.availableAt=0,this._action=ri}addCharge(p=1){this.charges=Math.min(99,this.charges+p)}overrideAction(p){this.isEmpty=typeof p!="function"||p===ri,this._action=p}isAvailable(){return Date.now()>this.availableAt}fire(){if(!this.isAvailable()||this.charges<1)return!1;const p=Date.now();return p<this.availableAt?!1:(this._action(),this.lastUsed=p,this.availableAt=this.lastUsed+this.cooldown,this.charges-=1,!0)}}class Sr{constructor(p,g,E,b=!1){this.arena=p,this.dead=!1,this.startX=typeof g=="number"?g:p.params.width/2,this.startY=typeof E=="number"?E:Math.max(32,p.internals.notificationLastObject.active?p.internals.notificationLastObject.y:p.internals.notificationLastY),this.collisionClass=p.internals.KILLFEED_COLLISION_MASKS.BIGTOAST,this.container=p.source.add.container(this.startX,this.startY+24),b&&(p.internals.notificationLastObject=this.container),p.source.cameras.main.ignore(this.container)}fillWithText(p,g){const E=this.arena.source.add.text(0,0,p,{font:"bold 96px Arial",fill:g,align:"center"});return E.setOrigin(.5,0),E.setShadow(0,0,"#000",16),this.container.add(E),this.container.setSize(E.width,E.height),this}show(p=-1){return this.arena.source.matter.add.gameObject(this.container,{position:{x:this.container.x,y:this.container.y},collisionFilter:{category:this.collisionClass}},!0),this.container.setCollidesWith([this.collisionClass,this.arena.internals.KILLFEED_COLLISION_MASKS.PADDER]),p&&p>0?this.selfDestruct=this.arena.source.time.addEvent({delay:p,callback:()=>this.destroy()}):this.destroy(),this}destroy(){var p;(p=this.selfDestruct)==null||p.remove(),delete this.selfDestruct,!this.dead&&(this.dead=!0,this.container.setCollisionCategory(this.arena.internals.KILLFEED_COLLISION_MASKS.DYING),this.isDying=setInterval(()=>{var g;((g=this.container)==null?void 0:g.y)>-100||(clearInterval(this.isDying),this.container.destroy())},1e3))}}class lu extends Sr{constructor(p,g,E,b){if(super(p,p.params.width-4,4+Math.max(32,p.internals.killFeedLastObject.active?p.internals.killFeedLastObject.y:p.internals.killFeedLastY),!1),this.victim=g,this.originalKiller=E,this.icon=b,this.killer=E||{name:"",color:"black",class:"",weapon:""},!p.params.killfeed)return;let R=p.units.size+p.teams.blue.units.size+p.teams.red.units.size;if(E&&R>p.params.killFeedHardLimit)return;this.dead=!1,this.collisionClass=p.internals.KILLFEED_COLLISION_MASKS.TOAST,p.internals.killFeedLastObject=this.container,this.container.add(p.source.add.text(0,0,this.killer.name,{font:"bold 36px Arial",fill:this.killer.color,align:"right"})),this.container.add(p.source.add.text(0,0,b||this.killer.weapon,{font:"36px",fill:"#fff",align:"right"})),this.container.add(p.source.add.text(0,0,g.name,{font:"bold 36px Arial",fill:g.color,align:"right"}));const c=this.container.getAll();let y=0;for(let t=c.length-1;t>=0;t--)y+=c[t].width+4,c[t].setOrigin(1,0),c[t].setShadow(0,0,"#000",4),c[t+1]&&c[t].setPosition(c[t+1].x-c[t+1].width-4*(c.length-t),c[t+1].y);this.container.setSize(y,c[0].height),this.show(p.params.killFeedDuration+this.startY),p.internals.killFeedLastObject=this.container}emitEvent(){return this.arena.source.events.emit("arena-unit-died",this.victim,this.originalKiller,this.icon),this}destroy(){this.arena.internals.killFeedLastY=this.arena.internals.killFeedLastObject.y,super.destroy()}}function Hm(M,p){M.body.setVelocityX(0)}class $a{constructor(p,g,E,b=0,R=0,c="",y=null,t=null){if(this.arena=p,this.source=g,this.__voicechat=null,this.guid=Phaser.Utils.String.UUID(),this.type=E,this.class=E,this.x=b,this.y=R,this.attack=new Fr(p),this.weapon=this.attack,this.isMeleeUnlocked=!1,this.ability=new $m,this.master=null,this.summons=new Set,this.team=null,this.group="all",this.enemies=p.groups.units.all,this.enemyUnits=p.units,p.units.add(this),p.internals.isTeamMode){this.team=t in p.internals.TEAMS?t:this.getRandomTeam(),this.group=this.team;const v=this.team===p.internals.TEAMS.RED?p.internals.TEAMS.BLUE:p.internals.TEAMS.RED;this.enemies=p.groups.units[v],this.enemyUnits=p.teams[v].units,p.teams[this.team].units.add(this),p.teams[this.team].alive.add(this.guid)}else p.units.add(this),p.internals.aliveReporter.add(this.guid);p.unitsByGuid.set(this.guid,this),p.unitsByName.set(this.name,this),this.source=g,this.subobjects={unit:g.add.image(0,0,E),weapon:g.add.image(0,0,"null"),healthbar:g.add.rectangle(0,0,0,12,65280)},this.subobjects.weapon.setScale(.7,.7).setOrigin(.12,.25),this.subobjects.healthbar.setPosition(0,this.subobjects.unit.height*.6).setStrokeStyle(1,"black"),p.params.showUnitNames&&(this.subobjects.overheadText=g.add.text(0,-.69*this.subobjects.unit.height,this.name,{font:"36px Arial",color:this.color}).setScale(1,1).setOrigin(.5,.5).setStroke("black",1)),this.object=g.add.container(b,R,Object.values(this.subobjects)),this.object.setName(this.guid).setDepth(5).setSize(this.subobjects.unit.width,this.subobjects.unit.height).setScale(.4*p.internals.globalScale),this.object.ownerUnit=this,p.groups.units.all.add(this.object),p.groups.units[this.group].add(this.object),p.camera2.ignore(this.object),g.physics.world.enable(this.object),this.object.body.setBounce(.2).setFrictionX(1).setCollideWorldBounds(!0),g.physics.add.collider(this.object,p.groups.platforms,()=>{this.canJump=!0},null,this),g.physics.add.collider(this.object,p.groups.walls,Hm,null,this),this.bot={nextAttack:Number.MAX_SAFE_INTEGER,nextJump:Number.MAX_SAFE_INTEGER,nextAbility:Number.MAX_SAFE_INTEGER,nextChangeDirection:Number.MAX_SAFE_INTEGER},this.stats={lastKilledBy:null,ability:0,dead:0,damage:0,tank:0,restored:0,heal:0,medkit:0,frag:0},this.dead=!1,this.invulnerable=!1,this.immmovable=!1,this.disarmed=!1,this.canAttack=!0,this.canJump=!1,this.setName(c,y).setMaxHP().setSpeed().setJumpSpeed().setFrozen(p.state!=="started"),this.timers={},this.aiBrain=new zm(this.arena,this);const o=this;this.defineAbility(3500,()=>{new Pa(this.arena,this.source,this,{x:this.object.x,y:this.object.y,weaponIcon:"",speedX:1*this.speed,speedY:-1*this.jumpSpeed,scale:1,gravitate:!0,sound:g.sound.get("grenade"),type:"abil-grenade",hitscans:[],persistent:!0,collideBehavior:ri,lifecycle:function(){this.object.body.setCollideWorldBounds(!0,1,1),this.source.physics.add.collider(this.object,o.arena.groups.walls,ri),this.source.physics.add.collider(this.object,o.arena.groups.platforms,(v,s)=>{this.object.destroy(),new Pa(o.arena,o.source,o,{x:v.x,y:v.y-32,weaponIcon:"💣",speedX:0,speedY:0,scale:1,damage:re(180,240),gravitate:!1,persistent:!0,allowFriendlyFire:!0,collideBehavior:ri,sound:g.sound.get("grenade-explode"),soundOfDamage:{play:ri},type:"explosion",hitscans:["overlap"],lifecycle:function(){this.object.on("animationcomplete",()=>{this.object.destroy()})}})},null,this)}})})}getRandomTeam(){return this.arena.teams.red.units.size>this.arena.teams.blue.units.size?"blue":"red"}expose(){var p;return{guid:this.guid,name:this.name,twitchUsername:this.correspondingTwitchUsername||this.name,color:this.color,team:this.team,class:this.class,weapon:((p=this.attack)==null?void 0:p.weaponIcon)||"",weaponDesc:this.weapon,stats:this.stats}}setName(p,g,E=!0){if(this.arena.internals.isTeamMode)switch(this.team){case this.arena.internals.TEAMS.RED:this.color="#ff7777";break;case this.arena.internals.TEAMS.BLUE:this.color="#66ccff";break}else this.color=g||"#"+Math.floor(6710886+Math.random()*10066329).toString(16);return E&&p?(this.name&&this.arena.unitStats.delete(this.name),this.name=p,this.arena.unitStats.set(this.name,this.expose())):this.name=p||"",this.subobjects.overheadText&&(this.subobjects.overheadText.setText(this.name),this.subobjects.overheadText.setColor(this.color)),this}setDamage(p=25){return console.warn("ArenaUnit.setDamage should not be called like this!"),this.damage=p,this}setSpeed(p=350){return this.speed=p,this.object.body.setMaxVelocityX(p),this}setJumpSpeed(p=.33*this.arena.params.height){return this.jumpSpeed=p,this}setAttackSpeed(p=2){return console.warn("ArenaUnit.setAttackSpeed should not be called like this!"),this.attackDelay=1e3/p,this}setProjectileSpeed(p=0){return console.warn("ArenaUnit.setProjectileSpeed should not be called like this!"),this.attack.speedX=p*this.arena.params.width/1280,this}setMaxHP(p=100,g=!1){return this.hasOwnProperty("maxHP")||(this.maxHP=p),this.hasOwnProperty("hp")&&!g?this.hp=Math.max(0,Math.min(p,p*this.hp/this.maxHP)):this.hp=p,this.maxHP=p,this.updateHealthBar()}setAttackType(p){return this.attack=p,this}setPassive(){return this.bot.isPassive=!0,this}setWeapon(p){return this.weapon=p,p==null||p.setOwner(this),p instanceof Or&&(this.isMeleeUnlocked=!0),this.setAttackType(this.weapon),this.subobjects.weapon.setTexture((p==null?void 0:p.texture)||"null"),this}dropWeapon(){return this.setWeapon(this.isMeleeUnlocked?new Or(this.arena):new Fr(this.arena))}setControllable(){return this.arena.player=this.setPassive(),this.arena.playerStore.set(this),this.isPlayer=!0,this._winConditionSubscription=this.arena.winCondition.subscribe(p=>{if(this.arena.player.dead)this.arena.victory=!1,this.source.events.emit("arena-finished",this.arena.player.stats.lastKilledBy);else if(p<2){this.arena.victory=!0;let g=this.arena.internals.aliveReporter.values().next();if(g.done){this.source.events.emit("arena-finished",this.expose());return}g=g.value;const E=this.arena.findUnitByGuid(g);if(E){this.source.events.emit("arena-finished",E.expose());return}for(const b of arena.summons)if(b.master.guid===g){this.source.events.emit("arena-finished",b.master.expose());return}this.source.events.emit("arena-finished",{name:"...?",color:"white",class:"dummy"})}}),this.subobjects.arrowPointer=this.source.add.text(0,-1*this.subobjects.unit.height,"▼",{fontSize:"64px",fill:"#fcf",boundsAlignH:"center",boundsAlignV:"middle"}),this.subobjects.arrowPointer.setShadow(0,0,"#000",4).setOrigin(.5,.5),this.object.add(this.subobjects.arrowPointer),this.setSpeed(this.speed),this.object.body.setBounce(.1).setCollideWorldBounds(!0),this}setFrozen(p){return this.immovable=!!p,this.invulnerable=!!p,this.disarmed=!!p,this}defineAbility(p,g){this.ability.cooldown=p,this.ability.overrideAction(g)}updateHealthBar(){const p=this.hp/this.maxHP;return this.subobjects.healthbar.setSize(this.object.width*p,this.subobjects.healthbar.height).setFillStyle((this.arena.internals.HEALTHBAR_COLOR_FLAGS.RED&this.arena.internals.HEALTHBAR_COLOR_FLAGS.RED*Math.min(2-p*2,1))+(this.arena.internals.HEALTHBAR_COLOR_FLAGS.GREEN&this.arena.internals.HEALTHBAR_COLOR_FLAGS.GREEN*Math.min(1,p*2))),this}drawFrame(){this.dead&&(this.object.scale>0?this.object.setScale(Math.max(0,this.object.scale-.005)):this.destroy())}takeDamage(p,g,E=0){this.invulnerable||!E||(this.hp=Math.max(this.hp-E,0),this.stats.tank+=E,p.stats.damage+=E,this.subobjects.unit.setTint(16751001),this.object.body.setVelocityY(this.object.body.velocity.y-this.jumpSpeed*.4),this.updateHealthBar(),g==null||g.soundOfDamage.play({volume:this.arena.settings.soundVolume*this.source.sound.getCustomExponent(),mute:!this.arena.settings.sound}),this.hp<=0?(p.stats.frag+=1,this.die(p,g)):(this.invulnerable=!0,this.timers.damageTint||(this.timers.damageTint=this.source.time.addEvent({delay:E*7,callback:()=>{this.subobjects.unit.clearTint(),delete this.timers.damageTint,this.invulnerable=!1}}))))}takeHeal(p,g,E=0){this.dead||(this.hp=Math.min(this.hp+E,this.maxHP),this.stats.restored+=E,p.stats.heal+=E,this.subobjects.unit.setTint(7864183),this.updateHealthBar(),this.timers.healTint||(this.timers.healTint=this.source.time.addEvent({delay:200,callback:()=>{this.subobjects.unit.clearTint(),delete this.timers.healTint}})))}doJump(p=this.jumpSpeed){!this.immovable&&this.canJump&&this.object.body.touching.down&&(this.canJump=!1,this.object.body.setVelocityY(-p))}doMove(p){this.immovable||(p&&(this.subobjects.unit.setFlipX(p<0),this.subobjects.weapon.setFlipX(p<0).setOrigin(.12+(1-.12)*(p<0),this.subobjects.weapon.originY)),this.object.body.setVelocityX(this.object.body.maxVelocity.x*Math.sign(p)))}doAttack(){if(!this.attack||this.dead||this.disarmed)return this;if(this.weapon.isDepleted)return this.dropWeapon();this.weapon.shoot(this)}doAbility(){this.dead||this.disarmed||this.ability.isEmpty||this.ability.fire()&&(this.stats.ability+=1)}initializeBot(p){this.bot.nextJump=p+4567*Math.random(),this.bot.nextAttack=p+1234+7890*Math.random(),this.bot.nextAbility=this.ability.isEmpty?Number.MAX_SAFE_INTEGER:p+4567+7890*Math.random(),this.bot.nextChangeDirection=1}_processBotAction(p){if(!(this.dead||this.bot.isPassive)&&(this.bot.nextJump<p&&(this.bot.nextJump=p+3434*Math.random(),this.doJump()),this.attack&&this.bot.nextAttack<p&&(this.bot.nextAttack=p+this.attack.attackDelay+this.attack.attackDelay*(1+Math.random()),this.doAttack()),this.ability.charges>0&&this.bot.nextAbility<p&&(this.bot.nextAbility=p+this.ability.cooldown+this.ability.cooldown*Math.random(),this.doAbility()),this.bot.nextChangeDirection<p)){this.bot.nextChangeDirection=p+2345*Math.random();let g=Math.random()-.5+(this.object.x/this.arena.params.width-.5);this.doMove(Math.sign(-g))}}processBotAction(p){return this.aiBrain.processAction(p)}die(p,g){var E,b,R,c;this.arena.groups.units.all.remove(this.object),this.arena.groups.units[this.group].remove(this.object),this.subobjects.unit.setTintFill(13487565),this.subobjects.healthbar.destroy(),this.subobjects.weapon.setAlpha(0),(E=this.subobjects.overheadText)==null||E.destroy(),(b=this.subobjects.arrowPointer)==null||b.destroy(),this.dead=!0,this.invulnerable=!0,this.immmovable=!0,this.stats.dead+=1,this.hp=0,this.__voicechat&&(this.__voicechat.stop(),this.arena.cancerMap.delete(this.__voicechat)),(R=this.master)!=null&&R.guid?(this.master.summons.delete(this),this.master.dead&&this.master.summons.size<1&&(this.arena.teams.blue.alive.delete(this.master.guid),this.arena.teams.red.alive.delete(this.master.guid),this.arena.internals.aliveReporter.delete(this.master.guid),this.arena.winCondition.update(y=>y-1))):(this.stats.lastKilledBy=(c=p.master)!=null&&c.guid?p.master.expose():p.expose(),this.summons.size<1&&(this.arena.teams.blue.alive.delete(this.guid),this.arena.teams.red.alive.delete(this.guid),this.arena.internals.aliveReporter.delete(this.guid),this.arena.winCondition.update(y=>y-1))),new lu(this.arena,this.expose(),p?p.expose():null,(g==null?void 0:g.icon)||"").emitEvent()}destroy(){this._winConditionSubscription&&this._winConditionSubscription(),this.summons.size||(this.arena.teams.blue.alive.delete(this.guid),this.arena.teams.red.alive.delete(this.guid),this.arena.internals.aliveReporter.delete(this.guid)),this.object.destroy();for(const p in this.subobjects)this.subobjects[p].destroy();this.arena.units.delete(this),this.arena.teams.red.units.delete(this),this.arena.teams.blue.units.delete(this),this.arena.summons.delete(this)}}class km extends $a{constructor(p,g,E,b,R,c,y){super(p,g,"mainguy",E,b,R,c,y),this.setMaxHP(300,!0),this.invulnerable=!0}setWeapon(p){return super.setWeapon(p),this.triggerStoreUpdate()}dropWeapon(){return super.dropWeapon(),this.triggerStoreUpdate()}takeDamage(p,g,E){return super.takeDamage(p,g,E),this.triggerStoreUpdate()}takeHeal(p,g,E){return super.takeHeal(p,g,E),this.triggerStoreUpdate()}doAttack(){return super.doAttack(),this.triggerStoreUpdate()}doAbility(){return super.doAbility(),this.triggerStoreUpdate()}die(p,g){return super.die(p,g),this.triggerStoreUpdate()}triggerStoreUpdate(){return this.isPlayer&&this.arena.playerStore.update(p=>p),this}}class hu extends $a{constructor(p,g,E,b,R,c,y){super(p,g,"warrior",E,b,R,c,y),this.setMaxHP(220,!0),re(10)>5&&this.setWeapon(new Or(p)),this.ability.addCharge(Math.max(0,re(-2,2))),this.bot.smartBehavior="chad"}}class Km extends $a{constructor(p,g,E,b,R,c,y){super(p,g,"norman",E,b,R,c,y),this.setMaxHP(220,!0),re(10)>3&&this.setWeapon(new mn(p)),this.ability.addCharge(Math.max(0,re(-5,5))),this.bot.smartBehavior="soy",this.enemies=p.groups.units.all,this.enemyUnits=p.units}}const Ol={norman:Km,warrior:hu};function Dl(M){return M?Ol[M]:Sh(Ol)}class jm{constructor(p){this.showUnitNames=!0,this.unitScale=1.25,this.exponentialSoundLevels=!0,this.notify=!0,this.notifyDuration=3333,this.killfeed=!0,this.killFeedDuration=3333,this.killFeedHardLimit=150,this.width=3840,this.height=2160,this.backgroundTransparency=!0,this.style="",this.parent=p}}class Zm{constructor(){this.goFullscreenOnStart=!1,this.exitFullscreenOnEnd=!1,this.applyCloseUpCamera=!0,this.unitLimit=0,this.allowNewUnitsAfterStart=!0,this.playerCanWalkWhileFreezeTime=!1,this.music=!0,this.musicVolume=.4,this.sound=!0,this.soundVolume=1}}class Jm{constructor(){}arenaStart(){this.playerNamePool.clear(),this.streamsnipersPool=Ks(Cc());for(const g of this.streamsnipersPool)this.playerNamePool.add(g.name);let p=25;for(;p-- >0;){const g=(re(5)>2?this.streamsnipersPool.pop():ca())||ca();this.playerNamePool.add(g.name),this.addContender(g)}}unitDied(p,g,E){}arenaEnd(p){}arenaRestart(){this.addPlayer("forsen",this.internals.TEAMS.BLUE,this.internals.TEAMS.BLUE),this.startArena()}}const rs={image:{sky:"/pics/m4/arena-bg.webp",ground:"/pics/m4/arena-longbar.png",building:"/pics/m4/building-stub.png",antenna:"/pics/m4/antenna.png","icon-grenade":"/pics/m4/icon-grenade.png",mainguy:"/pics/m4/mainguy.png",warrior:"/pics/m4/warrior.png",norman:"/pics/m4/norman.png",null:"/pics/m4/null.png",fist:"/pics/m4/null.png",pan:"/pics/m4/pan.png",pistol:"/pics/m4/pistol.png",rifle:"/pics/m4/rifle.png",sniper:"/pics/m4/sniper.png",grenade:"/pics/m4/grenade.png",medkit:"/pics/m4/medkit.png"},audio:{reload:"/sounds/m4/reload.mp3","attack-melee":"/sounds/m4/attack-melee.mp3","hit-fist":"/sounds/m4/hit-fist.mp3","hit-melee":"/sounds/m4/hit-melee.mp3","hit-ranged":"/sounds/m4/hit-ranged.mp3","attack-sniper":"/sounds/m4/attack-sniper.mp3","attack-ranged":"/sounds/m4/attack-ranged.mp3","attack-rifle":"/sounds/m4/attack-rifle.mp3","unit-death":"/sounds/m4/unit-death.mp3",grenade:"/sounds/m4/grenade.mp3","grenade-explode":"/sounds/m4/grenade-impact.mp3"},spritesheet:{"hit-melee":["/pics/m4/hit-melee.png",{frameWidth:32,frameHeight:32}],"hit-bullet":["/pics/m4/hit-bullet.png",{frameWidth:16,frameHeight:16}],"gift-fly":["/pics/m4/gift-fly.png",{frameWidth:64,frameHeight:64}],"abil-grenade":["/pics/m4/grenade-flying.png",{frameWidth:16,frameHeight:16}],explosion:["/pics/m4/nuke.png",{frameWidth:128,frameHeight:128}]},cancer:["/sounds/m4/canca-01.mp3","/sounds/m4/canca-02.mp3","/sounds/m4/canca-03.mp3","/sounds/m4/canca-04.mp3","/sounds/m4/canca-05.mp3","/sounds/m4/canca-06.mp3"]};class Xr{constructor(p,g){this.arena=g,this.type=p,this.isFalling=!0,this.isMarkedBy=null,this.startX=Math.round(this.arena.params.width*(.15+.7*Math.random())),this.startY=-256,this.source=g.source}drop(){this.object=this.source.physics.add.sprite(this.startX,this.startY,"gift-fly"),this.arena.camera2.ignore(this.object),this.objectScale=1.2,this.object.setOrigin(.5,.5).setSize(64,64).setScale(this.objectScale*this.arena.internals.globalScale).setMass(1).setBounce(0).setGravityY(80).setMaxVelocity(0,400).setCollideWorldBounds(!0).play("anim-airdrop-fly"),this.source.physics.add.collider(this.object,this.arena.groups.platforms,()=>{this.object.stop(),this.object.setTexture(this.type).setSize(128,128).setScale(this.objectScale*this.arena.internals.globalScale*.25),this.object.body.setVelocityY(-36),this.isFalling=!1},null,this),this.source.physics.add.overlap(this.object,this.arena.groups.units.all,(p,g)=>{const E=g.ownerUnit||ri;this.isMarkedBy===E&&(this.collect(E),this.destroy())},(p,g)=>{if(this.isFalling)return!1;const E=g.ownerUnit;return!E||E.master&&"guid"in E.master?!1:this.checkUnitCanCollect(E)},this)}collect(p){console.info("Generic airdrop collected. Owner: ",p)}checkUnitCanCollect(p){return this.isMarkedBy?!1:(this.isMarkedBy=p,!0)}destroy(){this.object.destroy()}}class Yr extends Xr{constructor(p,g,E){super(p,g),this.weapon=new E(g)}collect(p){(!p.weapon||this.weapon.isSameClassAs(p.weapon)||p.weapon.priority<this.weapon.priority)&&p.setWeapon(this.weapon)}checkUnitCanCollect(p){return p instanceof hu?!1:this.weapon.isSameClassAs(p.weapon)?super.checkUnitCanCollect(p):p.weapon instanceof mn&&p.weapon.priority>=this.weapon.priority?!1:super.checkUnitCanCollect(p)}}class Qm extends Yr{constructor(p){super("pan",p,Or)}checkUnitCanCollect(p){return p.isMeleeUnlocked?!1:Xr.prototype.checkUnitCanCollect.call(this,p)}collect(p){p.isMeleeUnlocked=!0,(!p.weapon||p.weapon.priority<this.weapon.priority)&&p.setWeapon(this.weapon)}}class mr extends Yr{constructor(p){super("pistol",p,mn)}}class Il extends Yr{constructor(p){super("rifle",p,Ym)}}class qm extends Yr{constructor(p){super("sniper",p,Xm)}}const _m=[mr,mr,mr,mr,Il,Il,qm];function Bl(){return He(_m)}class Gl extends Xr{constructor(p){super("medkit",p),this.heal=re(140,210)}collect(p){p.takeHeal(p,null,this.heal),p.stats.medkit+=1}}class tg extends Xr{constructor(p){super("grenade",p),this.charges=1}collect(p){p.ability.addCharge(this.charges),p.takeDamage(p,null,0)}}class eg{constructor(){this.params=Object.freeze(new jm(null)),this.settings=new Zm,this.callbacks=new Jm,this.state="init",this.units=new Set,this.unitsByName=new Map,this.unitsByGuid=new Map,this.teams={red:{units:new Set,alive:new Set},blue:{units:new Set,alive:new Set}},this.summons=new Set,this.unitStats=new Map,this.player=null,this.playerStore=ni(null),this.groups={killfeedDelayer:null,projectiles:null,platforms:null,walls:null,neutral:null,units:{all:null,red:null,blue:null}},this.buttons={},this.cursors=null,this.engine=null,this.ai={},this.midpoint=null,this.maxSpawnCount=100,this.spawned=1,this.winCondition=ni(this.maxSpawnCount),this.victory=!1,this.streamsnipersPool=[],this.playerNamePool=new Set,this.cancerMap=new Map,this.cancerPool=[],this.source=null,this.camera2=null,this.particles=null,this.internals={isTeamMode:!0,globalScale:this.params.unitScale||1,aliveReporter:new Set,plugdj:null,drops:null,spawner:null,randomNamePool:["Forsen clone #","Twitch viewer #","Pepega #"],notificationLastObject:{active:!1},notificationLastY:128,killFeedLastObject:{active:!1},killFeedLastY:64,HEALTHBAR_COLOR_FLAGS:{RED:16711680,GREEN:65280},KILLFEED_COLLISION_MASKS:{PADDER:8,BIGTOAST:4,TOAST:2,DYING:1},TEAMS:{RED:"red",BLUE:"blue",red:"red",blue:"blue"},playerStub:{dead:!0}}}startEngine(){if(this.engine)return void console.warn("Engine was already initialized once!");this.cancerPool.length===0&&(this.cancerPool=rs.cancer.map((g,E)=>{const b=new $e("babag-voice-cancer-"+E,g);return b.sound.loop(!0),b}));const p=this;this.engine=new $n.Game({type:Phaser.AUTO,width:p.params.width,height:p.params.height,powerPreference:"high-performance",transparent:p.params.backgroundTransparency||!1,canvasStyle:p.params.style||null,parent:typeof p.params.parent=="string"?document.querySelector(p.params.parent):p.params.parent,callbacks:{},scene:{active:!0,physics:{arcade:{gravity:{y:999},friction:{x:500},enableBody:!0,debug:Xn},matter:{gravity:{y:-.2},restitution:0,debug:Xn}},preload:function(){Object.keys(rs).forEach(g=>{Object.keys(rs[g]).forEach(E=>{switch(g){case"cancer":break;case"audio":typeof rs[g][E]=="object"?this.load.audioSprite(E,rs[g][E]):this.load.audio(E,rs[g][E]);break;default:Array.isArray(rs[g][E])?this.load[g](E,...rs[g][E]):this.load[g](E,rs[g][E]);break}})})},create:function(){p.source=this,this.sound.pauseOnBlur=!1,this.sound.getCustomExponent=p.params.exponentialSoundLevels?()=>.045+Math.exp(-.05*p.units.size):()=>1;for(const b in rs.audio)this.sound.add(b);const g=this.add.image(0,0,"sky").setOrigin(0,0).setAlpha(.5).setDisplaySize(p.params.width,p.params.height);this.anims.create({key:"anim-hit-melee",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("hit-melee",{start:0,end:3}),duration:100}),this.anims.create({key:"anim-hit-bullet",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("hit-bullet"),repeat:-1}),this.anims.create({key:"anim-airdrop-fly",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("gift-fly"),repeat:-1}),this.anims.create({key:"anim-abil-grenade",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("abil-grenade"),repeat:-1}),this.anims.create({key:"anim-explosion",skipMissedFrames:!0,frames:this.anims.generateFrameNumbers("explosion"),repeat:0}),p.groups.platforms=this.physics.add.staticGroup(),p.groups.walls=this.physics.add.staticGroup();let E=p.groups.platforms.create(p.params.width*.5,p.params.height,"ground");E.setDepth(3),E.setDisplaySize(p.params.width*1.2,E.height*2).refreshBody();for(const b of Vm){const R=b.build(p);R.highest&&(p.midpoint=this.physics.add.staticImage(R.x,R.y,"antenna"),p.midpoint.setOrigin(.5,0).setDepth(0).setY(p.midpoint.y-p.midpoint.height).refreshBody()),p.groups[R.group].create(R.x,R.y,R.texture).setScale(R.scaleX,R.scaleY).setDepth(R.depth).refreshBody()}p.groups.units.all=this.physics.add.group(),p.groups.units.red=this.physics.add.group(),p.groups.units.blue=this.physics.add.group(),p.groups.controllable=this.physics.add.group(),p.groups.projectiles=this.physics.add.group(),p.camera2=this.cameras.add(0,0,p.params.width,p.params.height),p.camera2.ignore(g),p.camera2.ignore(p.midpoint);for(const b in p.groups)b==="units"?p.camera2.ignore(Object.values(p.groups.units)):p.groups[b]!==null&&p.camera2.ignore(p.groups[b]);p.groups.killfeedDelayer=this.matter.add.rectangle(p.params.width/2,-12,p.params.width*3,24,{isStatic:!0,collisionFilter:{category:p.internals.KILLFEED_COLLISION_MASKS.PADDER,mask:p.internals.KILLFEED_COLLISION_MASKS.TOAST|p.internals.KILLFEED_COLLISION_MASKS.BIGTOAST}}),Um(p),p.cursors=this.input.keyboard.createCursorKeys(),this.events.on("arena-cleanup",()=>{var b;console.log("Arena: cleanup is in order, re-initializing everything."),p.source.sound.stopAll(),p.cancerPool.forEach(R=>R.stop()),p.cancerMap.clear(),p.internals.aliveReporter.clear(),p.teams.blue.alive.clear(),p.teams.red.alive.clear(),p.unitStats.clear();for(const R of p.units)R.destroy();for(const R of p.teams.red.units)R.destroy();for(const R of p.teams.blue.units)R.destroy();for(const R of p.summons)R.destroy();delete p.player,p.playerStore.set(null),p.maxSpawnCount=re(90,100),p.spawned=1,p.winCondition.set(p.maxSpawnCount),p.victory=!1,p.source.cameras.main.fadeIn(1e3,0,0,0),p.source.physics.world.timeScale=1,p.source.events.off("arena-finished"),p.source.events.off("arena-top2"),p.source.events.off("arena-top10"),p.state="waiting",(b=p.callbacks.arenaRestart)==null||b.apply(p)}),this.events.on("arena-start",()=>{var R;if(console.log("Arena: the fight begins!"),p.state="started",p.params.notify&&new Sr(p).fillWithText("Battle royale begins!","#ffc").show(p.params.notifyDuration),p.player){p.player.ability.lastUsed=0,p.player.ability.availableAt=0,Object.keys(p.player.stats).forEach(c=>{p.player.stats[c]=0}),p.player.stats.lastKilledBy=null;for(const c of p.summons)c.destroy();p.playerStore.update(c=>c)}p.internals.spawner=this.time.addEvent({delay:4567,loop:!0,callback:()=>{let c=Math.min(p.maxSpawnCount-p.spawned,7-p.getSize())+re(2);for(;c-- >0;){const y=p.streamsnipersPool.pop()||ca();p.playerNamePool.add(y.name),Math.random()>.5&&(y.unitclass="warrior"),p.addContender(y)}}}),p.internals.drops=this.time.addEvent({delay:12345,loop:!0,callback:()=>{const c=Math.random()>.4?Bl():Gl;new c(p).drop()}}),or(8,()=>Gl).concat(or(10,()=>tg)).concat(or(re(3,8),()=>Qm)).concat(or(re(0,7),Bl)).forEach((c,y)=>{const t=new c(p);t.startX=p.params.width*Math.abs(Math.round(Math.random())-Math.random()*.35),t.startY=p.params.height-(.5+re(0,7))*Wa,t.drop()}),p.units.forEach(c=>{c.setFrozen(!1),c.initializeBot(p.source.time.now)}),p.units.size>p.params.killFeedHardLimit&&new lu({name:`Kill feed will be disabled while there are more than ${p.params.killFeedHardLimit} units!`,color:"white"}),p.source.events.once("arena-top10",()=>{p.params.notify&&new Sr().fillWithText("10 players remaining","#ffc").show(p.params.notifyDuration)}),p.source.events.once("arena-top2",()=>{p.params.notify&&new Sr().fillWithText("1v1 DUEL","#fc6").show(p.params.notifyDuration)}),p.source.events.once("arena-finished",c=>{var y,t;console.log("Arena: the war is over, and the winner is:",c),(y=p.internals.drops)==null||y.remove(),(t=p.internals.spawner)==null||t.remove(),[p.units,p.summons].forEach(o=>o.forEach(v=>{v.setFrozen(!0)})),p.source.physics.world.timeScale=5,new ai(()=>{p.state="finished",p.source.events.emit("arena-show-winner",c)},2500)}),(R=p.callbacks.arenaStart)==null||R.apply(p)}),this.events.emit("arena-cleanup"),p.callbacks.unitDied&&p.source.events.on("arena-unit-died",(...b)=>p.callbacks.unitDied.apply(p,b)),p.callbacks.arenaEnd&&p.source.events.on("arena-show-winner",(...b)=>p.callbacks.arenaEnd.apply(p,b))},update:function(g,E){p.units.forEach(b=>{b.drawFrame(),b.processBotAction(g)}),p.teams.red.units.forEach(b=>{b.drawFrame(),b.processBotAction(g)}),p.teams.blue.units.forEach(b=>{b.drawFrame(),b.processBotAction(g)}),p.summons.forEach(b=>{b.drawFrame(),b.processBotAction(g)}),!(!p.player||p.player.dead)&&(p.player.doMove(+p.cursors.right.isDown-p.cursors.left.isDown),p.cursors.up.isDown&&p.player.doJump(),p.cursors.space.isDown&&p.player.doAttack(),p.cursors.shift.isDown&&p.player.doAbility())}}}),Je.subscribe(g=>{this.settings.musicVolume=g.volume*g.volMusic/1e4,this.settings.soundVolume=g.volume*g.volSound/1e4})}findUnitByName(p){if(!p)return null;const g=this.unitsByName.get(p)||null;return g||console.warn(`Unit [name:${p}] not found!`),g}findUnitByGuid(p){if(!p)return null;const g=this.unitsByGuid.get(p)||null;return g||console.warn(`Unit [guid:${p}] not found!`),g}getSize(){return this.units.size}getTeamSize(p){try{return this.teams[p].units.size}catch(g){throw console.error(g),new Error(`Team identifier [${p}] is invalid!`)}}getTotalSize(){return this.getSize()+this.summons.size}getCanvas(){return this.engine.canvas}addUnit(p,g,E="-",b=!1,R=this.internals.TEAMS.RED){if(this.state!=="waiting"&&!this.settings.allowNewUnitsAfterStart)throw console.warn("The arena is not accepting new units! | Set arena.settings.allowNewUnitsAfterStart to override this behavior."),new Error("Cannot join the Arena right now!");if(!b&&this.settings.unitLimit&&this.settings.unitLimit<=this.getSize())throw console.warn("Unit limit reached! Cannot add new unit. | Limit = "+this.settings.unitLimit),new Error("Too many units!");p||(p=He(this.internals.randomNamePool)+String(Math.random()).slice(2,7).padStart(5,"0")),Dl(E)||(console.warn("Unknown unit class:",E),E=null);const c=new(Dl(E))(this,this.source,this.params.width*(.1+Math.random()*.8),Math.random()*this.params.height*.1,p,g,R.toLowerCase());return this.state==="started"&&(c.setFrozen(!1),c.initializeBot(this.source.time.now)),c}addPlayer(p,g,E){if(this.player)throw new Error("Player already exists! Restart the arena to clear the reference.");const b=new km(this,this.source,this.params.width*(.25+Math.random()*.55),0,p,g,E.toLowerCase());if(b.setControllable(),this.state==="started"&&(b.setFrozen(!1),b.initializeBot(this.source.time.now)),this.settings.playerCanWalkWhileFreezeTime&&b.setFrozen(!1),this.settings.applyCloseUpCamera){const R=this.source.cameras.main;R.zoom=1,R.zoomTo(2,1e3),R.setBounds(0,0,this.params.width,this.params.height),R.startFollow(b.object,!0,.01,.05)}return b}addContender(p){if(this.spawned<this.maxSpawnCount){this.spawned+=1;const g=this.addUnit(p.name,p.color,p.unitclass||null,!1,this.internals.TEAMS.RED);if(this.cancerMap.size<3-this.spawned/16){const E=He(this.cancerPool);this.cancerMap.has(E)||(console.log("Adding voice chat stream:",E),this.cancerMap.set(E,g),g.__voicechat=E,E.play())}return g}return null}startArena(){this.source.events.emit("arena-start")}resetArena(){this.source.events.emit("arena-cleanup")}toggleTeamMode(p){return p=typeof p>"u"?!this.internals.isTeamMode:!!p,this.internals.isTeamMode!==p&&(console.log("[Arena] Team mode has been toggled; will have to clear the arena."),this.source.events.emit("arena-cleanup")),this.internals.isTeamMode=p,this.internals.isTeamMode}destroy(){var p;this.cancerPool.forEach(g=>g.stop()),this.cancerMap.clear(),(p=this.engine)==null||p.destroy(!0)}}function ig(M){let p,g='<span class="m-auto">👊</span>';return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-1i1bu15"&&(p.innerHTML=g),this.h()},h(){W(p,"class","weapon-element ranged opacity-25 w-25 display-flex svelte-1s52noi")},m(E,b){dt(E,p,b)},p:Qt,d(E){E&&K(p)}}}function sg(M){let p,g,E,b;function R(t,o){return t[0].weapon instanceof mn?rg:ng}let c=R(M),y=c(M);return{c(){p=Q("div"),g=Q("div"),E=lt(),b=Q("span"),y.c(),this.h()},l(t){p=q(t,"DIV",{class:!0});var o=rt(p);g=q(o,"DIV",{class:!0}),rt(g).forEach(K),E=ht(o),b=q(o,"SPAN",{class:!0});var v=rt(b);y.l(v),v.forEach(K),o.forEach(K),this.h()},h(){W(g,"class","icon svelte-1s52noi"),kt(g,"background-image",`url(/pics/m4/${M[0].weapon.texture}.png)`),W(b,"class","ammo-count svelte-1s52noi"),W(p,"class","weapon-element ranged svelte-1s52noi"),kt(p,"border-image",`linear-gradient(to right, #dd3d ${M[3]}%, #ccc3 ${M[3]}%) 1`)},m(t,o){dt(t,p,o),V(p,g),V(p,E),V(p,b),y.m(b,null)},p(t,o){o&1&&kt(g,"background-image",`url(/pics/m4/${t[0].weapon.texture}.png)`),c===(c=R(t))&&y?y.p(t,o):(y.d(1),y=c(t),y&&(y.c(),y.m(b,null))),o&8&&kt(p,"border-image",`linear-gradient(to right, #dd3d ${t[3]}%, #ccc3 ${t[3]}%) 1`)},d(t){t&&K(p),y.d()}}}function ng(M){let p;return{c(){p=mt("♾️")},l(g){p=gt(g,"♾️")},m(g,E){dt(g,p,E)},p:Qt,d(g){g&&K(p)}}}function rg(M){let p=M[0].weapon.ammo+"",g,E,b=M[0].weapon.reserveAmmo+"",R;return{c(){g=mt(p),E=mt(" / "),R=mt(b)},l(c){g=gt(c,p),E=gt(c," / "),R=gt(c,b)},m(c,y){dt(c,g,y),dt(c,E,y),dt(c,R,y)},p(c,y){y&1&&p!==(p=c[0].weapon.ammo+"")&&ie(g,p),y&1&&b!==(b=c[0].weapon.reserveAmmo+"")&&ie(R,b)},d(c){c&&(K(g),K(E),K(R))}}}function ag(M){let p,g,E,b,R=M[0].hp+"",c,y,t,o,v,s,i,n=M[0].ability.charges+"",e,r,l,a,h,f,u,d,m,x="Alive",S,T,C,A,w,P,F="Killed",L,O,I=M[0].stats.frag+"",B,U,H;function Z(k,D){var z;return(z=k[0].weapon)!=null&&z.isEmpty?ig:sg}let tt=Z(M),X=tt(M);return{c(){p=Q("div"),g=Q("div"),E=Q("div"),b=Q("div"),c=mt(R),y=lt(),t=Q("div"),o=Q("div"),v=Q("div"),s=lt(),i=Q("span"),e=mt(n),r=lt(),X.c(),l=lt(),a=Q("div"),h=Q("div"),f=lt(),u=Q("div"),d=Q("div"),m=Q("span"),m.textContent=x,S=lt(),T=Q("span"),C=mt(M[4]),A=lt(),w=Q("div"),P=Q("span"),P.textContent=F,L=lt(),O=Q("span"),B=mt(I),this.h()},l(k){p=q(k,"DIV",{class:!0});var D=rt(p);g=q(D,"DIV",{class:!0});var z=rt(g);E=q(z,"DIV",{class:!0});var Y=rt(E);b=q(Y,"DIV",{class:!0});var j=rt(b);c=gt(j,R),j.forEach(K),Y.forEach(K),y=ht(z),t=q(z,"DIV",{class:!0});var J=rt(t);o=q(J,"DIV",{class:!0});var it=rt(o);v=q(it,"DIV",{class:!0}),rt(v).forEach(K),s=ht(it),i=q(it,"SPAN",{class:!0});var st=rt(i);e=gt(st,n),st.forEach(K),it.forEach(K),r=ht(J),X.l(J),l=ht(J),a=q(J,"DIV",{class:!0});var at=rt(a);h=q(at,"DIV",{class:!0}),rt(h).forEach(K),at.forEach(K),J.forEach(K),z.forEach(K),f=ht(D),u=q(D,"DIV",{class:!0});var ft=rt(u);d=q(ft,"DIV",{class:!0});var vt=rt(d);m=q(vt,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(m)!=="svelte-1igomp8"&&(m.textContent=x),S=ht(vt),T=q(vt,"SPAN",{class:!0});var xt=rt(T);C=gt(xt,M[4]),xt.forEach(K),vt.forEach(K),A=ht(ft),w=q(ft,"DIV",{class:!0});var Ct=rt(w);P=q(Ct,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(P)!=="svelte-zxp3pe"&&(P.textContent=F),L=ht(Ct),O=q(Ct,"SPAN",{class:!0});var yt=rt(O);B=gt(yt,I),yt.forEach(K),Ct.forEach(K),ft.forEach(K),D.forEach(K),this.h()},h(){W(b,"class","hp-text svelte-1s52noi"),W(E,"class","healthbar svelte-1s52noi"),kt(E,"width",Ke(M[1]*100)),kt(E,"background-color","#"+((M[5].RED&M[5].RED*Math.min(2-M[1]*2,1))+(M[5].GREEN&M[5].GREEN*Math.min(1,M[1]*2))).toString(16).padStart(6,"0")),W(v,"class","icon svelte-1s52noi"),kt(v,"background-image","url(/pics/m4/grenade.png)"),W(i,"class","grenade-count svelte-1s52noi"),W(o,"class","weapon-element grenades svelte-1s52noi"),kt(o,"border-image",`linear-gradient(to right, #dd3d ${M[2]}%, #ccc3 ${M[2]}%) 1`),W(h,"class","icon svelte-1s52noi"),kt(h,"background-image","url(/pics/m4/pan.png)"),W(a,"class","weapon-element melee svelte-1s52noi"),pe(a,"opacity-25",!M[0].isMeleeUnlocked),W(t,"class","weapons svelte-1s52noi"),W(g,"class","ui-element svelte-1s52noi"),W(m,"class","stat-text svelte-1s52noi"),W(T,"class","stat-num svelte-1s52noi"),W(d,"class","numstat svelte-1s52noi"),W(P,"class","stat-text svelte-1s52noi"),W(O,"class","stat-num svelte-1s52noi"),W(w,"class","numstat svelte-1s52noi"),W(u,"class","ui-element ui-stats svelte-1s52noi"),W(p,"class","ui svelte-1s52noi")},m(k,D){dt(k,p,D),V(p,g),V(g,E),V(E,b),V(b,c),V(g,y),V(g,t),V(t,o),V(o,v),V(o,s),V(o,i),V(i,e),V(t,r),X.m(t,null),V(t,l),V(t,a),V(a,h),V(p,f),V(p,u),V(u,d),V(d,m),V(d,S),V(d,T),V(T,C),V(u,A),V(u,w),V(w,P),V(w,L),V(w,O),V(O,B)},p(k,[D]){D&1&&R!==(R=k[0].hp+"")&&ie(c,R),D&2&&kt(E,"width",Ke(k[1]*100)),D&2&&kt(E,"background-color","#"+((k[5].RED&k[5].RED*Math.min(2-k[1]*2,1))+(k[5].GREEN&k[5].GREEN*Math.min(1,k[1]*2))).toString(16).padStart(6,"0")),D&1&&n!==(n=k[0].ability.charges+"")&&ie(e,n),D&4&&kt(o,"border-image",`linear-gradient(to right, #dd3d ${k[2]}%, #ccc3 ${k[2]}%) 1`),tt===(tt=Z(k))&&X?X.p(k,D):(X.d(1),X=tt(k),X&&(X.c(),X.m(t,l))),D&1&&pe(a,"opacity-25",!k[0].isMeleeUnlocked),D&16&&ie(C,k[4]),D&1&&I!==(I=k[0].stats.frag+"")&&ie(B,I)},i(k){k&&(U||Ye(()=>{U=je(u,uo,{duration:400,delay:1200,axis:"y"}),U.start()})),k&&(H||Ye(()=>{H=je(p,uo,{duration:800,delay:800,axis:"x"}),H.start()}))},o:Qt,d(k){k&&K(p),X.d()}}}function og(M,p,g){let E,b,R,{arena:c}=p,{player:y}=p;const t={RED:16711680,GREEN:43520},o=c.winCondition;We(M,o,n=>g(4,R=n));let v=1;const s=us(0);We(M,s,n=>g(3,b=n));const i=us(0);return We(M,i,n=>g(2,E=n)),M.$$set=n=>{"arena"in n&&g(9,c=n.arena),"player"in n&&g(0,y=n.player)},M.$$.update=()=>{M.$$.dirty&1&&g(1,v=y.hp/y.maxHP),M.$$.dirty&1&&y.weapon&&(s.set(y.weapon.isReloading?100*(1-(Date.now()-y.weapon._isReloadingSince)/y.weapon.reloadDelay):0,{duration:0}),s.set(0,{duration:y.weapon._isReloadingSince+y.weapon.reloadDelay-Date.now()})),M.$$.dirty&1&&(y.ability.isAvailable()||(i.set(100*(1-(Date.now()-y.ability.lastUsed)/y.ability.cooldown),{duration:0}),i.set(0,{duration:y.ability.availableAt-Date.now()})))},[y,v,E,b,R,t,o,s,i,c]}class lg extends Ee{constructor(p){super(),Ce(this,p,og,ag,Se,{arena:9,player:0})}}function Nl(M){let p,g;return p=new lg({props:{arena:M[0].arena,player:M[3]}}),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},p(E,b){const R={};b&1&&(R.arena=E[0].arena),b&8&&(R.player=E[3]),p.$set(R)},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function Vl(M){let p,g,E,b;return g=new Bm({props:{minigame:M[0],winner:M[4],chickenDinner:M[0].arena.victory&&M[3].guid===M[4].guid}}),{c(){p=Q("div"),Xt(g.$$.fragment),this.h()},l(R){p=q(R,"DIV",{class:!0});var c=rt(p);$t(g.$$.fragment,c),c.forEach(K),this.h()},h(){W(p,"class","gameover svelte-1pmfgrn")},m(R,c){dt(R,p,c),Yt(g,p,null),b=!0},p(R,c){const y={};c&1&&(y.minigame=R[0]),c&16&&(y.winner=R[4]),c&25&&(y.chickenDinner=R[0].arena.victory&&R[3].guid===R[4].guid),g.$set(y)},i(R){b||(Tt(g.$$.fragment,R),R&&(E||Ye(()=>{E=je(p,Ds,{duration:1500}),E.start()})),b=!0)},o(R){Mt(g.$$.fragment,R),b=!1},d(R){R&&K(p),Wt(g)}}}function hg(M){let p,g,E=`<div class="spinner-border svelte-1pmfgrn" role="status"></div>
    Connecting...`,b,R,c,y,t="",o,v,s,i,n=M[3]&&Nl(M),e=M[4]!==null&&Vl(M);return{c(){p=Q("div"),g=Q("div"),g.innerHTML=E,b=lt(),R=Q("div"),c=Q("div"),y=Q("div"),y.innerHTML=t,o=lt(),n&&n.c(),v=lt(),e&&e.c(),s=lt(),this.h()},l(r){p=q(r,"DIV",{class:!0});var l=rt(p);g=q(l,"DIV",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-q21l6j"&&(g.innerHTML=E),b=ht(l),R=q(l,"DIV",{class:!0});var a=rt(R);c=q(a,"DIV",{class:!0});var h=rt(c);y=q(h,"DIV",{class:!0,"data-svelte-h":!0}),Ot(y)!=="svelte-1u44n3p"&&(y.innerHTML=t),o=ht(h),n&&n.l(h),v=ht(h),e&&e.l(h),h.forEach(K),a.forEach(K),s=ht(l),l.forEach(K),this.h()},h(){W(g,"class","loader svelte-1pmfgrn"),W(y,"class","babag-canvas"),W(c,"class","babag svelte-1pmfgrn"),W(R,"class","aspected svelte-1pmfgrn"),W(p,"class","gamearea svelte-1pmfgrn")},m(r,l){dt(r,p,l),V(p,g),V(p,b),V(p,R),V(R,c),V(c,y),M[6](y),V(c,o),n&&n.m(c,null),V(c,v),e&&e.m(c,null),V(p,s),i=!0},p(r,[l]){r[3]?n?(n.p(r,l),l&8&&Tt(n,1)):(n=Nl(r),n.c(),Tt(n,1),n.m(c,v)):n&&(Ie(),Mt(n,1,1,()=>{n=null}),Be()),r[4]!==null?e?(e.p(r,l),l&16&&Tt(e,1)):(e=Vl(r),e.c(),Tt(e,1),e.m(c,null)):e&&(Ie(),Mt(e,1,1,()=>{e=null}),Be())},i(r){i||(Tt(n),Tt(e),i=!0)},o(r){Mt(n),Mt(e),i=!1},d(r){r&&K(p),M[6](null),n&&n.d(),e&&e.d()}}}function ug(M,p,g){let E,b=Qt,R=()=>(b(),b=ys(v,r=>g(3,E=r)),v),c;M.$$.on_destroy.push(()=>b());let{minigame:y}=p;const t=y.winner;We(M,t,r=>g(4,c=r));let o,v;ti(()=>(y.startEngine(),o.appendChild(y.arena.engine.canvas),R(g(2,v=y.arena.playerStore)),()=>{}));function s(r){ji[r?"unshift":"push"](()=>{o=r,g(1,o)})}const i=()=>y.arena.addUnit(null,null,"norman"),n=()=>y.arena.addUnit(null,null,"warrior"),e=()=>y.arena.addUnit().isPassive=!0;return M.$$set=r=>{"minigame"in r&&g(0,y=r.minigame)},[y,o,v,E,c,t,s,i,n,e]}class fg extends Ee{constructor(p){super(),Ce(this,p,ug,hg,Se,{minigame:0})}}function Ul(M,p,g){const E=M.slice();E[7]=p[g];const b=E[0].controls[E[7]];return E[8]=b,E}function zl(M){let p,g,E,b;return{c(){p=Q("div"),g=Q("img"),this.h()},l(R){p=q(R,"DIV",{class:!0});var c=rt(p);g=q(c,"IMG",{src:!0,alt:!0,class:!0}),c.forEach(K),this.h()},h(){Ae(g.src,E=M[0].mainMenuImage)||W(g,"src",E),W(g,"alt","backdrop"),W(g,"class","svelte-17mx4uk"),W(p,"class","backdrop svelte-17mx4uk")},m(R,c){dt(R,p,c),V(p,g)},p(R,c){c&1&&!Ae(g.src,E=R[0].mainMenuImage)&&W(g,"src",E)},i(R){R&&(b||Ye(()=>{b=je(p,Oi,{opacity:1,x:80,duration:5e3}),b.start()}))},o:Qt,d(R){R&&K(p)}}}function dg(M){let p,g=M[0].title+"",E;return{c(){p=Q("h2"),E=mt(g),this.h()},l(b){p=q(b,"H2",{class:!0});var R=rt(p);E=gt(R,g),R.forEach(K),this.h()},h(){W(p,"class","svelte-17mx4uk")},m(b,R){dt(b,p,R),V(p,E)},p(b,R){R&1&&g!==(g=b[0].title+"")&&ie(E,g)},i:Qt,o:Qt,d(b){b&&K(p)}}}function cg(M){let p,g,E;var b=M[0].components.mainMenuTitle;function R(c,y){return{}}return b&&(p=Os(b,R())),{c(){p&&Xt(p.$$.fragment),g=Le()},l(c){p&&$t(p.$$.fragment,c),g=Le()},m(c,y){p&&Yt(p,c,y),dt(c,g,y),E=!0},p(c,y){if(y&1&&b!==(b=c[0].components.mainMenuTitle)){if(p){Ie();const t=p;Mt(t.$$.fragment,1,0,()=>{Wt(t,1)}),Be()}b?(p=Os(b,R()),Xt(p.$$.fragment),Tt(p.$$.fragment,1),Yt(p,g.parentNode,g)):p=null}},i(c){E||(p&&Tt(p.$$.fragment,c),E=!0)},o(c){p&&Mt(p.$$.fragment,c),E=!1},d(c){c&&K(g),p&&Wt(p,c)}}}function vg(M){let p,g,E,b,R,c;return g=new fe({props:{size:"120%",$$slots:{default:[mg]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),E=mt(" Find match"),this.h()},l(y){p=q(y,"BUTTON",{type:!0,class:!0});var t=rt(p);$t(g.$$.fragment,t),E=gt(t," Find match"),t.forEach(K),this.h()},h(){W(p,"type","button"),W(p,"class","btn btn-outline-light text-start svelte-17mx4uk")},m(y,t){dt(y,p,t),Yt(g,p,null),V(p,E),b=!0,R||(c=se(p,"click",M[3]),R=!0)},p(y,t){const o={};t&2048&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){b||(Tt(g.$$.fragment,y),b=!0)},o(y){Mt(g.$$.fragment,y),b=!1},d(y){y&&K(p),Wt(g),R=!1,c()}}}function pg(M){let p,g,E='<span class="visually-hidden">Loading...</span>',b,R=M[0].searchMsg+"",c,y,t,o,v,s,i,n;return o=new fe({props:{size:"120%",$$slots:{default:[gg]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("div"),g.innerHTML=E,b=lt(),c=mt(R),y=lt(),t=Q("button"),Xt(o.$$.fragment),v=mt(`\r
          Stop searching`),this.h()},l(e){p=q(e,"DIV",{});var r=rt(p);g=q(r,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-1k86pvq"&&(g.innerHTML=E),b=ht(r),c=gt(r,R),r.forEach(K),y=ht(e),t=q(e,"BUTTON",{type:!0,class:!0});var l=rt(t);$t(o.$$.fragment,l),v=gt(l,`\r
          Stop searching`),l.forEach(K),this.h()},h(){W(g,"class","spinner-border svelte-17mx4uk"),W(g,"role","status"),W(t,"type","button"),W(t,"class","btn btn-outline-danger text-start svelte-17mx4uk")},m(e,r){dt(e,p,r),V(p,g),V(p,b),V(p,c),dt(e,y,r),dt(e,t,r),Yt(o,t,null),V(t,v),s=!0,i||(n=se(t,"click",M[4]),i=!0)},p(e,r){(!s||r&1)&&R!==(R=e[0].searchMsg+"")&&ie(c,R);const l={};r&2048&&(l.$$scope={dirty:r,ctx:e}),o.$set(l)},i(e){s||(Tt(o.$$.fragment,e),s=!0)},o(e){Mt(o.$$.fragment,e),s=!1},d(e){e&&(K(p),K(y),K(t)),Wt(o),i=!1,n()}}}function mg(M){let p;return{c(){p=mt("not_started")},l(g){p=gt(g,"not_started")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function gg(M){let p;return{c(){p=mt("cancel")},l(g){p=gt(g,"cancel")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Xl(M){let p,g,E,b,R,c=M[7]+"",y,t,o,v=M[8]+"",s,i;return{c(){p=Q("div"),g=Q("div"),E=lt(),b=Q("div"),R=Q("div"),y=mt(c),t=lt(),o=Q("div"),s=mt(v),i=lt(),this.h()},l(n){p=q(n,"DIV",{class:!0});var e=rt(p);g=q(e,"DIV",{class:!0}),rt(g).forEach(K),E=ht(e),b=q(e,"DIV",{class:!0});var r=rt(b);R=q(r,"DIV",{class:!0});var l=rt(R);y=gt(l,c),l.forEach(K),t=ht(r),o=q(r,"DIV",{class:!0});var a=rt(o);s=gt(a,v),a.forEach(K),r.forEach(K),i=ht(e),e.forEach(K),this.h()},h(){W(g,"class","control-icon svelte-17mx4uk"),kt(g,"color","red"),kt(g,"background-image",`url(/pics/icons/${M[7]}.png)`),W(R,"class","control-header svelte-17mx4uk"),W(o,"class","control-desc svelte-17mx4uk"),W(b,"class","control-desc svelte-17mx4uk"),W(p,"class","control-layout svelte-17mx4uk")},m(n,e){dt(n,p,e),V(p,g),V(p,E),V(p,b),V(b,R),V(R,y),V(b,t),V(b,o),V(o,s),V(p,i)},p(n,e){e&1&&kt(g,"background-image",`url(/pics/icons/${n[7]}.png)`),e&1&&c!==(c=n[7]+"")&&ie(y,c),e&1&&v!==(v=n[8]+"")&&ie(s,v)},d(n){n&&K(p)}}}function Yl(M){let p,g=M[8]&&Xl(M);return{c(){g&&g.c(),p=Le()},l(E){g&&g.l(E),p=Le()},m(E,b){g&&g.m(E,b),dt(E,p,b)},p(E,b){E[8]?g?g.p(E,b):(g=Xl(E),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},d(E){E&&K(p),g&&g.d(E)}}}function xg(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r=M[1]&&zl(M);const l=[cg,dg],a=[];function h(S,T){return S[0].components.mainMenuTitle?0:1}R=h(M),c=a[R]=l[R](M);const f=[pg,vg],u=[];function d(S,T){return S[2]?0:1}o=d(M),v=u[o]=f[o](M);let m=_e(Object.keys(M[0].controls)),x=[];for(let S=0;S<m.length;S+=1)x[S]=Yl(Ul(M,m,S));return{c(){p=Q("div"),r&&r.c(),g=lt(),E=Q("div"),b=Q("div"),c.c(),y=lt(),t=Q("div"),v.c(),s=lt(),i=Q("div");for(let S=0;S<x.length;S+=1)x[S].c();this.h()},l(S){p=q(S,"DIV",{class:!0});var T=rt(p);r&&r.l(T),g=ht(T),E=q(T,"DIV",{class:!0});var C=rt(E);b=q(C,"DIV",{class:!0});var A=rt(b);c.l(A),A.forEach(K),y=ht(C),t=q(C,"DIV",{class:!0});var w=rt(t);v.l(w),w.forEach(K),C.forEach(K),s=ht(T),i=q(T,"DIV",{class:!0});var P=rt(i);for(let F=0;F<x.length;F+=1)x[F].l(P);P.forEach(K),T.forEach(K),this.h()},h(){W(b,"class","mb-auto"),W(t,"class","menu-buttons svelte-17mx4uk"),W(E,"class","part svelte-17mx4uk"),W(i,"class","part right svelte-17mx4uk"),W(p,"class","menu-section svelte-17mx4uk")},m(S,T){dt(S,p,T),r&&r.m(p,null),V(p,g),V(p,E),V(E,b),a[R].m(b,null),V(E,y),V(E,t),u[o].m(t,null),V(p,s),V(p,i);for(let C=0;C<x.length;C+=1)x[C]&&x[C].m(i,null);e=!0},p(S,[T]){S[1]?r?(r.p(S,T),T&2&&Tt(r,1)):(r=zl(S),r.c(),Tt(r,1),r.m(p,g)):r&&(r.d(1),r=null);let C=R;R=h(S),R===C?a[R].p(S,T):(Ie(),Mt(a[C],1,1,()=>{a[C]=null}),Be(),c=a[R],c?c.p(S,T):(c=a[R]=l[R](S),c.c()),Tt(c,1),c.m(b,null));let A=o;if(o=d(S),o===A?u[o].p(S,T):(Ie(),Mt(u[A],1,1,()=>{u[A]=null}),Be(),v=u[o],v?v.p(S,T):(v=u[o]=f[o](S),v.c()),Tt(v,1),v.m(t,null)),T&1){m=_e(Object.keys(S[0].controls));let w;for(w=0;w<m.length;w+=1){const P=Ul(S,m,w);x[w]?x[w].p(P,T):(x[w]=Yl(P),x[w].c(),x[w].m(i,null))}for(;w<x.length;w+=1)x[w].d(1);x.length=m.length}},i(S){e||(Tt(r),Tt(c),Tt(v),S&&(n||Ye(()=>{n=je(p,Is,{}),n.start()})),e=!0)},o(S){Mt(c),Mt(v),e=!1},d(S){S&&K(p),r&&r.d(),a[R].d(),u[o].d(),fs(x,S)}}}function yg(M,p,g){let{minigame:E}=p,{animateBackdrop:b=!1}=p,R=!1,c=null;function y(){E.start()}function t(){g(2,c=new ai(y,re(4e3,2e4)))}function o(){c==null||c.clear(),g(2,c=null)}return ti(()=>(g(1,R=!0),()=>{g(1,R=!b)})),M.$$set=v=>{"minigame"in v&&g(0,E=v.minigame),"animateBackdrop"in v&&g(5,b=v.animateBackdrop)},[E,R,c,t,o,b]}class Tg extends Ee{constructor(p){super(),Ce(this,p,yg,xg,Se,{minigame:0,animateBackdrop:5})}}function Sg(M){let p,g="BABAG";return{c(){p=Q("h2"),p.textContent=g,this.h()},l(E){p=q(E,"H2",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-bmi78p"&&(p.textContent=g),this.h()},h(){W(p,"class","svelte-1cu457")},m(E,b){dt(E,p,b)},p:Qt,i:Qt,o:Qt,d(E){E&&K(p)}}}class Eg extends Ee{constructor(p){super(),Ce(this,p,null,Sg,Se,{})}}const Cg=["FeelsGoodMan 👂","FeelsGoodMan 🦻","FeelsGoodMan 🩸","ZULUL WAVE 2 🔔","forsenSWA forsenGun ZULUL"];class Ag extends pn{constructor(){super("babag"),this.title="Baba G",this.icon="/pics/m4/mainguy.png",this.looksLikeMultiplayerGame=!0,this.searchMsg="Finding match...",this.allowsTrainingMode=!1,this.mainMenuImage="/pics/backdrops/babag-menu.webp",this.minStartsToTry=0,this.minTimeToPlay=0,this.controls.arrows="Move and jump",this.controls.space="Attack/shoot",this.controls.shift="Throw grenades",this.components.menu=Tg,this.components.game=fg,this.components.mainMenuTitle=Eg,this.ost=new Bs("babag-ost-menu","/sounds/music/babag-ost.mp3"),this.startSound=new $e("babag-start-game","/sounds/m4/start.mp3"),this.arena=new eg,this.winner=ni(null);const p=this;this.arena.callbacks.arenaEnd=function(g){p.winner.set(g),g.guid===this.player.guid?(xe.spawner.queueEventfulMessages("hype",8),p.modifier.modifyLoyalty(re(10,25))):(xe.spawner.queueEventfulMessages("fail",4),p.modifier.modifyRage(re(10,19)))}}startEngine(){this.startSound.play(),this.arena.engine?this.arena.resetArena():this.arena.startEngine(),this.resumeGame(),xe.timePasses(re(20,30),1e5),xe.spawner.setAuxSynthericSource(Cg),this.modifier.modifyLoyalty(re(2,5))}toMenu(){return this.startMusic(),xe.spawner.setAuxSynthericSource(null),super.toMenu()}start(){return this.winner.set(null),this.pauseMusic(),super.start()}startMusic(){this.ost.isLoaded()?this.ost.stop().play():this.ost.load().play()}pauseMusic(){this.ost.pause()}stopMusic(){this.ost.stop().unload()}pauseGame(){var p;return this.arena&&(this.arena.cancerMap.forEach((g,E)=>E.pause()),(p=this.arena.engine)==null||p.pause()),this}resumeGame(){var p;return this.arena&&(this.arena.cancerMap.forEach((g,E)=>E.play()),(p=this.arena.engine)==null||p.resume()),this}endGame(){return this.pauseGame(),this.arena.cancerPool.forEach(p=>p.stop()),this.arena.cancerMap.clear(),this.toMenu()}destroy(){var p;return this.stopMusic(),(p=this.arena)==null||p.destroy(),super.destroy()}}class Mg{constructor(){this.files=Ks(["beethoven","tchaikovsky","vivaldi"].map(p=>`/sounds/music/${p}.mp3`)),this.howls=this.files.map((p,g)=>new Bs("ost_intro_"+g,p));for(let p=0;p<this.howls.length;p++)this.howls[p].sound.on("end",()=>this.nextSong());this.isPlaying=!1,this.current=0,this.currentSong=this.howls[0]}init(){return this.currentSong.load(),this}nextSong(){return this.currentSong.stop(),this.current=(this.current+1)%this.files.length,this.currentSong=this.howls[this.current],this.currentSong.isLoaded()?this.isPlaying&&this.currentSong.play():(this.currentSong.sound.once("load",()=>{this.isPlaying&&this.currentSong.play()}),this.currentSong.load()),this}play(){return this.isPlaying?this:(this.isPlaying=!0,this.currentSong.play(),this)}pause(){return this.isPlaying?(this.currentSong.pause(),this):this}resume(){return this.isPlaying?(this.currentSong.play(),this):this}stop(){return this.isPlaying?(this.isPlaying=!1,this.currentSong.stop(),this.nextSong(),this):this}unload(){this.howls.forEach(p=>p.unload())}}const $s=new Mg,ke={NONE:"",START:"start",INTRO:"intro",LINKS:"links",GAMES:"games",BABAG:"babag",OUTRO:"outro",END:"end"},Wl={rage:{LINKS:"Watch out for the links that don't fit the rules",GAMES:"You are not that good at games, are you?",BABAG:"Advice: try being better at video games"},loyalty:{INTRO:"Did you already ban everyone? Who's there to watch?",LINKS:"Don't skip valid links, people paid for them",GAMES:"Be more careful, don't skip content and don't ban all your subs",BABAG:"Don't just skip lidl games, this is not a speedrun",OUTRO:"You don't get to leave early, stream for 6 hours!"}};class wg{constructor(p){this.game=p,this.stage=p._state.stage,this._nextLinkSoundFile=null,this._timedTransition=null,this.majorSteps=new Map,this.majorSteps.set(ke.START,()=>this.doStart()),this.majorSteps.set(ke.INTRO,()=>this.doStreamIntro()),this.majorSteps.set(ke.LINKS,()=>this.doLinks()),this.majorSteps.set(ke.GAMES,()=>this.doGames()),this.majorSteps.set(ke.BABAG,()=>this.doBabag()),this.majorSteps.set(ke.OUTRO,()=>this.doStreamOutro()),this.majorSteps.set(ke.END,()=>this.finishGame()),this.minorSteps=new Map,this.minorSteps.set(ke.LINKS,g=>this.nextLink(g)),this.minorSteps.set(ke.GAMES,g=>this.nextGame(g)),this.minorSteps.set(ke.BABAG,{1:()=>this.startBabag(),2:()=>this.advanceTo(ke.OUTRO)}),this.advanceTo(ke.NONE)}reset(){return this.advanceTo(ke.NONE,0)}async advanceTo(p,g=0){var R;(R=this._timedTransition)==null||R.clear(),this._timedTransition=null;const E=this.stage;if(this.stage=[p,g],this.game.state.update(c=>(c.stage=this.stage,c)),this.game.spawner.setAuxSynthericSource(null),E[0]!==this.stage[0]){const c=this.majorSteps.get(this.stage[0]);c&&await c()}else if(E[1]!==this.stage[1]){const c=this.minorSteps.get(this.stage[0]);if(typeof c=="function")await c(this.stage[1]);else{const y=c?c[this.stage[1]]:null;y&&await y()}}const b=Ln("lifecycle",this.stage[0])||Ln();if(b){const c=Array.isArray(b[0])?b[Math.min(this.stage[1],b.length-1)]:b;this.game.spawner.setSynthericSource(c)}return this}async nextMinorStep(){return await this.advanceTo(this.stage[0],this.stage[1]+1)}doStart(){let p=0;this._timedTransition=new Pi(()=>{switch(p++){case 1:{this.game.spawner.start();break}case 7:{this.advanceTo(ke.INTRO);break}}},500)}doStreamIntro(){this.game.state.update(E=>(E.isCamEnabled=!0,E));const p=gi("gfmb");this.game.forsen.say(p).once("end",()=>{this.advanceTo(ke.LINKS)})}doLinks(){this.game.timePasses(re(1,3),2222);const p=gi("toLinks");this.game.forsen.say(p).once("end",()=>{$s.stop(),this.nextLink(this.stage[1]),this.game.spawner.setSynthericSource(Ln("lifecycle",this.stage[0])[1])})}nextLink(p){if(p<this.game.videolinks.length){this.game.timePasses(re(5,7),3e4);const g=()=>{this._nextLinkSoundFile=null;const E=this.game.videolinks[p];this.game.spawner.setAuxSynthericSource(E.chat);const b=new Mm({target:document.getElementById(Dn),props:{icon:"/pics/icons/ie.png",title:"YouTube | Internet Browser 6.0",video:E}});b.$on("close",R=>{R.detail&&R.detail.link&&(R.detail.link.isDuplicate?this._nextLinkSoundFile=gi("linkSeen"):R.detail.link.isLowViews?this._nextLinkSoundFile=gi("minViews"):R.detail.link.isBadCategory&&(this._nextLinkSoundFile=gi("songRequest"))),this.game.seenVideos.add(E.id),this.nextMinorStep(),b.$destroy()})};if(p>0){const E=this._nextLinkSoundFile||gi("nextLink");this.game.forsen.say(E).once("end",g)}else g()}else{const g=()=>this.advanceTo(ke.GAMES);if(this._nextLinkSoundFile){const E=this.game.forsen.say(this._nextLinkSoundFile);this._nextLinkSoundFile=null,E.once("end",g)}else g()}}doGames(){this.game.timePasses(re(1,3),2222);const p=gi("toGames");this.game.forsen.say(p).once("end",()=>{this.nextGame(this.stage[1]),this.game.spawner.setSynthericSource(Ln("lifecycle",this.stage[0])[1])})}nextGame(p){if(p<this.game.gamesToday.length){this.game.timePasses(re(55,80),2e5);const g=()=>{const E=this.game.gamesToday[p],b=new E;this.game.spawner.setAuxSynthericSource(b.chatMessages),this.game.activeMinigame.set(b);const R=new Pl({target:document.getElementById(Dn),props:{icon:b.icon,title:b.title,minigame:this.game.activeMinigame}});R.$on("close",()=>{this.checkIfEnoughTimeForContent(),R.$destroy()})};if(p>0){const E=gi("nextGame");this.game.forsen.say(E).once("end",g)}else g()}else this.advanceTo(ke.BABAG)}doBabag(){this.game.timePasses(re(1,3),4e3);const p=gi("toBabag");this.game.forsen.say(p).once("end",()=>{this.nextMinorStep()})}startBabag(){const p=new Ag;this.game.activeMinigame.set(p);const g=new Pl({target:document.getElementById(Dn),props:{icon:p.icon,title:p.title,minigame:this.game.activeMinigame}});g.$on("close",()=>{this.nextMinorStep(),g.$destroy()})}doStreamOutro(){this.game.timePasses(re(1,3),1e4);const p=gi("outro");this.game.forsen.say(p).once("end",()=>{this.game.state.update(R=>(R.isCamEnabled=!1,R)),this.advanceTo(ke.END)});const E=this.game._realGameTime-this.game._targetStreamLength;new Kn().modifyLoyalty(Math.min(15,E))}finishGame(){this.game._state.isEndless?this.game.nextDay():(this.game.showCredits(),jc())}checkIfEnoughTimeForContent(){const p=this.game._targetStreamLength-this.game._realGameTime;p<0?this.advanceTo(ke.OUTRO):p<75&&this.stage[0]!==ke.BABAG?this.advanceTo(ke.BABAG):this.nextMinorStep()}}function $l(M,p,g){const E=M.slice();return E[2]=p[g],E[4]=g,E}function bg(M){let p=M[2]+"",g;return{c(){g=mt(p)},l(E){g=gt(E,p)},m(E,b){dt(E,g,b)},p(E,b){b&1&&p!==(p=E[2]+"")&&ie(g,p)},d(E){E&&K(g)}}}function Pg(M){let p,g=M[2]+"",E;return{c(){p=Q("span"),E=mt(g),this.h()},l(b){p=q(b,"SPAN",{class:!0});var R=rt(p);E=gt(R,g),R.forEach(K),this.h()},h(){W(p,"class","mention svelte-ymtf3m")},m(b,R){dt(b,p,R),V(p,E)},p(b,R){R&1&&g!==(g=b[2]+"")&&ie(E,g)},d(b){b&&K(p)}}}function Rg(M){let p,g,E,b,R,c;return{c(){p=Q("img"),this.h()},l(y){p=q(y,"IMG",{src:!0,alt:!0,class:!0,width:!0,height:!0}),this.h()},h(){Ae(p.src,g=M[2].src)||W(p,"src",g),W(p,"alt",E=M[2].name),W(p,"class","emote svelte-ymtf3m"),W(p,"width","32"),W(p,"height","32"),pe(p,"zw",M[2].zw)},m(y,t){dt(y,p,t),R||(c=Ei(b=Ci.call(null,p,{arrow:!1,sticky:!0,plugins:[wr],content:`<div class="d-flex flex-column align-items-center">
<img class="w-75" src=${M[2].src}>
<b>${M[2].name}</b><i>${M[2].provider} ${M[2].type} emote</i>
</div>`})),R=!0)},p(y,t){M=y,t&1&&!Ae(p.src,g=M[2].src)&&W(p,"src",g),t&1&&E!==(E=M[2].name)&&W(p,"alt",E),b&&Br(b.update)&&t&1&&b.update.call(null,{arrow:!1,sticky:!0,plugins:[wr],content:`<div class="d-flex flex-column align-items-center">
<img class="w-75" src=${M[2].src}>
<b>${M[2].name}</b><i>${M[2].provider} ${M[2].type} emote</i>
</div>`}),t&1&&pe(p,"zw",M[2].zw)},d(y){y&&K(p),R=!1,c()}}}function Hl(M){let p,g;function E(c,y){return typeof c[2]=="object"?Rg:c[4]===c[1]?Pg:bg}let b=E(M),R=b(M);return{c(){R.c(),p=lt(),g=mt(kl)},l(c){R.l(c),p=ht(c),g=gt(c,kl)},m(c,y){R.m(c,y),dt(c,p,y),dt(c,g,y)},p(c,y){b===(b=E(c))&&R?R.p(c,y):(R.d(1),R=b(c),R&&(R.c(),R.m(p.parentNode,p)))},d(c){c&&(K(p),K(g)),R.d(c)}}}function Lg(M){let p,g=_e(M[0]),E=[];for(let b=0;b<g.length;b+=1)E[b]=Hl($l(M,g,b));return{c(){p=Q("p");for(let b=0;b<E.length;b+=1)E[b].c();this.h()},l(b){p=q(b,"P",{class:!0});var R=rt(p);for(let c=0;c<E.length;c+=1)E[c].l(R);R.forEach(K),this.h()},h(){W(p,"class","svelte-ymtf3m")},m(b,R){dt(b,p,R);for(let c=0;c<E.length;c+=1)E[c]&&E[c].m(p,null)},p(b,[R]){if(R&3){g=_e(b[0]);let c;for(c=0;c<g.length;c+=1){const y=$l(b,g,c);E[c]?E[c].p(y,R):(E[c]=Hl(y),E[c].c(),E[c].m(p,null))}for(;c<E.length;c+=1)E[c].d(1);E.length=g.length}},i:Qt,o:Qt,d(b){b&&K(p),fs(E,b)}}}const kl=" ";function Fg(M,p,g){let{words:E=[]}=p,{mention:b=-1}=p;return M.$$set=R=>{"words"in R&&g(0,E=R.words),"mention"in R&&g(1,b=R.mention)},[E,b]}class Og extends Ee{constructor(p){super(),Ce(this,p,Fg,Lg,Se,{words:0,mention:1})}}function Kl(M,p,g){const E=M.slice();return E[3]=p[g],E}function jl(M){let p,g,E,b,R;return{c(){p=Q("img"),this.h()},l(c){p=q(c,"IMG",{src:!0,alt:!0,class:!0,width:!0,height:!0}),this.h()},h(){Ae(p.src,g=M[3].src)||W(p,"src",g),W(p,"alt",""),W(p,"class","userbadge svelte-tow957"),W(p,"width","32"),W(p,"height","32")},m(c,y){dt(c,p,y),b||(R=Ei(E=Ci.call(null,p,{sticky:!0,plugins:[wr],content:`<div class="d-flex flex-column align-items-center">
<img class="w-75" src=${M[3].src}>
<span>${M[3].title}</span>
</div>`})),b=!0)},p(c,y){M=c,y&4&&!Ae(p.src,g=M[3].src)&&W(p,"src",g),E&&Br(E.update)&&y&4&&E.update.call(null,{sticky:!0,plugins:[wr],content:`<div class="d-flex flex-column align-items-center">
<img class="w-75" src=${M[3].src}>
<span>${M[3].title}</span>
</div>`})},d(c){c&&K(p),b=!1,R()}}}function Dg(M){let p,g,E,b=_e(M[2]),R=[];for(let c=0;c<b.length;c+=1)R[c]=jl(Kl(M,b,c));return{c(){p=Q("h3");for(let c=0;c<R.length;c+=1)R[c].c();g=lt(),E=mt(M[0]),this.h()},l(c){p=q(c,"H3",{class:!0});var y=rt(p);for(let t=0;t<R.length;t+=1)R[t].l(y);g=ht(y),E=gt(y,M[0]),y.forEach(K),this.h()},h(){W(p,"class","svelte-tow957"),kt(p,"color",M[1])},m(c,y){dt(c,p,y);for(let t=0;t<R.length;t+=1)R[t]&&R[t].m(p,null);V(p,g),V(p,E)},p(c,[y]){if(y&4){b=_e(c[2]);let t;for(t=0;t<b.length;t+=1){const o=Kl(c,b,t);R[t]?R[t].p(o,y):(R[t]=jl(o),R[t].c(),R[t].m(p,g))}for(;t<R.length;t+=1)R[t].d(1);R.length=b.length}y&1&&ie(E,c[0]),y&2&&kt(p,"color",c[1])},i:Qt,o:Qt,d(c){c&&K(p),fs(R,c)}}}function Ig(M,p,g){let{username:E=""}=p,{color:b=""}=p,{badges:R=[]}=p;return M.$$set=c=>{"username"in c&&g(0,E=c.username),"color"in c&&g(1,b=c.color),"badges"in c&&g(2,R=c.badges)},[E,b,R]}class Bg extends Ee{constructor(p){super(),Ce(this,p,Ig,Dg,Se,{username:0,color:1,badges:2})}}function Zl(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l,a,h,f,u,d,m=M[0]._id+"",x,S,T,C,A,w=M[3].isBanEvader&&Jl(M),P=M[3].isThreaded&&Ql(M);c=new Bg({props:{username:M[3].author,badges:M[3].badges,color:M[3].color}}),t=new Og({props:{words:M[3].words,mention:M[3].mentionIndex}});let F=M[3].isDead&&ql(M);return{c(){p=Q("div"),g=Q("div"),E=Q("div"),w&&w.c(),b=lt(),P&&P.c(),R=lt(),Xt(c.$$.fragment),y=lt(),Xt(t.$$.fragment),o=lt(),v=Q("div"),s=Q("img"),e=lt(),F&&F.c(),r=lt(),l=Q("div"),a=Q("i"),h=mt(M[6]),f=lt(),u=Q("br"),d=lt(),x=mt(m),this.h()},l(L){p=q(L,"DIV",{class:!0});var O=rt(p);g=q(O,"DIV",{class:!0});var I=rt(g);E=q(I,"DIV",{class:!0});var B=rt(E);w&&w.l(B),b=ht(B),P&&P.l(B),R=ht(B),$t(c.$$.fragment,B),y=ht(B),$t(t.$$.fragment,B),B.forEach(K),I.forEach(K),o=ht(O),v=q(O,"DIV",{role:!0,tabindex:!0,class:!0});var U=rt(v);s=q(U,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),e=ht(U),F&&F.l(U),r=ht(U),l=q(U,"DIV",{class:!0});var H=rt(l);a=q(H,"I",{});var Z=rt(a);h=gt(Z,M[6]),Z.forEach(K),f=ht(H),u=q(H,"BR",{}),d=ht(H),x=gt(H,m),H.forEach(K),U.forEach(K),O.forEach(K),this.h()},h(){W(E,"class","bubble-inner svelte-1weyhf9"),W(g,"class","bubble svelte-1weyhf9"),pe(g,"mention",M[3].mentionIndex>=0),pe(g,"penalty",M[3].isThreaded||M[3].isBanEvader||M[3].isGameComplaining),Ae(s.src,i=M[0].imgsrc.logo)||W(s,"src",i),W(s,"alt",n=M[0].name),W(s,"draggable","false"),W(s,"class","svelte-1weyhf9"),W(l,"class","debug svelte-1weyhf9"),W(v,"role","button"),W(v,"tabindex","0"),W(v,"class","chatter-pic svelte-1weyhf9"),W(p,"class","chatter svelte-1weyhf9"),pe(p,"inverted",M[3].isInverted),kt(p,"top",Ke(M[4])),kt(p,"left",M[3].isInverted?null:Ke(M[5])),kt(p,"right",M[3].isInverted?Ke(M[5]):null)},m(L,O){dt(L,p,O),V(p,g),V(g,E),w&&w.m(E,null),V(E,b),P&&P.m(E,null),V(E,R),Yt(c,E,null),V(E,y),Yt(t,E,null),V(p,o),V(p,v),V(v,s),V(v,e),F&&F.m(v,null),V(v,r),V(v,l),V(l,a),V(a,h),V(l,f),V(l,u),V(l,d),V(l,x),T=!0,C||(A=[se(v,"click",M[9]),se(v,"keydown",null)],C=!0)},p(L,O){M=L,M[3].isBanEvader?w?O&8&&Tt(w,1):(w=Jl(M),w.c(),Tt(w,1),w.m(E,b)):w&&(Ie(),Mt(w,1,1,()=>{w=null}),Be()),M[3].isThreaded?P?(P.p(M,O),O&8&&Tt(P,1)):(P=Ql(M),P.c(),Tt(P,1),P.m(E,R)):P&&(Ie(),Mt(P,1,1,()=>{P=null}),Be());const I={};O&8&&(I.username=M[3].author),O&8&&(I.badges=M[3].badges),O&8&&(I.color=M[3].color),c.$set(I);const B={};O&8&&(B.words=M[3].words),O&8&&(B.mention=M[3].mentionIndex),t.$set(B),(!T||O&8)&&pe(g,"mention",M[3].mentionIndex>=0),(!T||O&8)&&pe(g,"penalty",M[3].isThreaded||M[3].isBanEvader||M[3].isGameComplaining),(!T||O&1&&!Ae(s.src,i=M[0].imgsrc.logo))&&W(s,"src",i),(!T||O&1&&n!==(n=M[0].name))&&W(s,"alt",n),M[3].isDead?F?F.p(M,O):(F=ql(M),F.c(),F.m(v,r)):F&&(F.d(1),F=null),(!T||O&64)&&ie(h,M[6]),(!T||O&1)&&m!==(m=M[0]._id+"")&&ie(x,m),(!T||O&8)&&pe(p,"inverted",M[3].isInverted),O&16&&kt(p,"top",Ke(M[4])),O&40&&kt(p,"left",M[3].isInverted?null:Ke(M[5])),O&40&&kt(p,"right",M[3].isInverted?Ke(M[5]):null)},i(L){T||(Tt(w),Tt(P),Tt(c.$$.fragment,L),Tt(t.$$.fragment,L),L&&Ye(()=>{T&&(S||(S=Fi(p,ls,{duration:M[3].transition,delay:100},!0)),S.run(1))}),T=!0)},o(L){Mt(w),Mt(P),Mt(c.$$.fragment,L),Mt(t.$$.fragment,L),L&&(S||(S=Fi(p,ls,{duration:M[3].transition,delay:100},!1)),S.run(0)),T=!1},d(L){L&&K(p),w&&w.d(),P&&P.d(),Wt(c),Wt(t),F&&F.d(),L&&S&&S.end(),C=!1,hi(A)}}}function Jl(M){let p,g,E,b,R;return E=new fe({props:{size:"125%",$$slots:{default:[Gg]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("strong"),Xt(E.$$.fragment),b=mt(" Potential ban evader"),this.h()},l(c){p=q(c,"DIV",{class:!0});var y=rt(p);g=q(y,"STRONG",{});var t=rt(g);$t(E.$$.fragment,t),b=gt(t," Potential ban evader"),t.forEach(K),y.forEach(K),this.h()},h(){W(p,"class","substatus svelte-1weyhf9")},m(c,y){dt(c,p,y),V(p,g),Yt(E,g,null),V(g,b),R=!0},i(c){R||(Tt(E.$$.fragment,c),R=!0)},o(c){Mt(E.$$.fragment,c),R=!1},d(c){c&&K(p),Wt(E)}}}function Gg(M){let p;return{c(){p=mt("hardware")},l(g){p=gt(g,"hardware")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Ql(M){let p,g,E,b,R=M[3].threadMsg+"",c,y;return E=new fe({props:{size:"125%",$$slots:{default:[Ng]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("em"),Xt(E.$$.fragment),b=lt(),c=mt(R),this.h()},l(t){p=q(t,"DIV",{class:!0});var o=rt(p);g=q(o,"EM",{});var v=rt(g);$t(E.$$.fragment,v),b=ht(v),c=gt(v,R),v.forEach(K),o.forEach(K),this.h()},h(){W(p,"class","substatus svelte-1weyhf9")},m(t,o){dt(t,p,o),V(p,g),Yt(E,g,null),V(g,b),V(g,c),y=!0},p(t,o){const v={};o&2048&&(v.$$scope={dirty:o,ctx:t}),E.$set(v),(!y||o&8)&&R!==(R=t[3].threadMsg+"")&&ie(c,R)},i(t){y||(Tt(E.$$.fragment,t),y=!0)},o(t){Mt(E.$$.fragment,t),y=!1},d(t){t&&K(p),Wt(E)}}}function Ng(M){let p;return{c(){p=mt("chat")},l(g){p=gt(g,"chat")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function ql(M){let p,g;return{c(){p=Q("img"),this.h()},l(E){p=q(E,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),this.h()},h(){Ae(p.src,g=M[0].imgsrc.dead)||W(p,"src",g),W(p,"alt","Banned!"),W(p,"draggable","false"),W(p,"class","svelte-1weyhf9")},m(E,b){dt(E,p,b)},p(E,b){b&1&&!Ae(p.src,g=E[0].imgsrc.dead)&&W(p,"src",g)},d(E){E&&K(p)}}}function Vg(M){let p,g,E=M[3].isVisible&&Zl(M);return{c(){E&&E.c(),p=Le()},l(b){E&&E.l(b),p=Le()},m(b,R){E&&E.m(b,R),dt(b,p,R),g=!0},p(b,[R]){b[3].isVisible?E?(E.p(b,R),R&8&&Tt(E,1)):(E=Zl(b),E.c(),Tt(E,1),E.m(p.parentNode,p)):E&&(Ie(),Mt(E,1,1,()=>{E=null}),Be())},i(b){g||(Tt(E),g=!0)},o(b){Mt(E),g=!1},d(b){b&&K(p),E&&E.d(b)}}}function Ug(M,p,g){let E,b=Qt,R=()=>(b(),b=ys(n,h=>g(3,E=h)),n),c,y,t,o=Qt,v=()=>(o(),o=ys(i,h=>g(6,t=h)),i);M.$$.on_destroy.push(()=>b()),M.$$.on_destroy.push(()=>o());let{unit:s}=p,{state:i}=p;v();let{props:n}=p;R();const e=E.lifetime/E.speed,r=us(null,{duration:e});We(M,r,h=>g(5,y=h));const l=us(null,{duration:e});We(M,l,h=>g(4,c=h));function a(){s.shoot()}return M.$$set=h=>{"unit"in h&&g(0,s=h.unit),"state"in h&&v(g(1,i=h.state)),"props"in h&&R(g(2,n=h.props))},M.$$.update=()=>{M.$$.dirty&8&&(Gi(r,y=E.x,y),Gi(l,c=E.y,c))},[s,i,n,E,c,y,t,r,l,a]}class zg extends Ee{constructor(p){super(),Ce(this,p,Ug,Vg,Se,{unit:0,state:1,props:2})}}const uu="chattersFloatingSpace",fu="This is a test message. FeelsDankMan RainTime",Xg=fu.split(" "),Yg=/^@?forsen$/i,Wg=new Set(["game","GAME","Game","ResidentSleeper","forsenSleeper","😴","💤"]),$g=new $e("chatter_kill","/sounds/kill.mp3"),Ir=class Ir{constructor(p,g="_genericBaseUnit"){this.spawner=p,this._id=g+"_"+Ir.ID_COUNTER++,this.name=g,this._state="new",this.state=ni(this._state),this.killCallback=ri,this._props={level:1,score:1,rageModifier:-re(3,6),loyaltyModifier:-re(1,2),lifetime:7e3,transition:250,speed:1,startX:0,startY:0,endX:0,endY:0,x:0,y:0,isInverted:!1,isImmortal:!0,isDead:!1,isVisible:!1,mentionIndex:-1,isGameComplain:!1,isBanEvader:!1,isThreaded:!1,threadMsg:"",author:"forsen",color:"#f00",message:fu,words:Xg,badges:[]},this.props=ni(this._props),this.imgsrc=Object.freeze({logo:`/pics/units/${g}.webp`,dead:"/pics/units/dead_overlay.webp"}),this.element=null,this.lifecycle={born:()=>{this.updateProps(E=>(E.isImmortal=!1,E.isVisible=!0,E)),this.stateChanger=new ai(()=>{this.updateState("live")},this.props.transition)},live:()=>{this.updateProps(E=>(E.x=E.endX,E.y=E.endY,E)),this.stateChanger=new ai(()=>{this.updateState("vanish")},this._props.lifetime)},shot:()=>{this.setProp("isDead",!0),this.stateChanger=new ai(()=>{this.updateState("vanish"),this.killCallback.apply(this)},50)},vanish:()=>{this.setProp("isVisible",!1),this.stateChanger=new ai(()=>{this.updateState("dead")},this._props.transition)},dead:()=>{this.element.$destroy()}}}fillFromUnitInfo(p){return this.updateProps(g=>(g.author=p.author,g.color=p.color,g.badges=p.badgeset,g.message=p.message,g.words=p.words,g.mentionIndex=p.words.findIndex(E=>typeof E=="string"&&Yg.test(E)),g.isGameComplain=p.words.some(E=>Wg.has(E)),g.isBanEvader=p.isBanEvader,g.isThreaded=!!p.threadMsg,g.threadMsg=p.threadMsg,g.mentionIndex>=0&&(g.loyaltyModifier=-1,g.rageModifier*=2,Math.random()>.5&&this.spawner.modifier.modifyRage(1)),g.isBanEvader?(g.loyaltyModifier=0,this.spawner.modifier.modifyRage(re(3,5)),g.rageModifier*=3):(g.isThreaded||g.isGameComplain)&&(g.loyaltyModifier=0,this.spawner.modifier.modifyRage(1),g.rageModifier*=3),g)),this}updateProps(p){return this.props.update(p)}setProp(p,g){return this.props.update(E=>(E[p]=g,E))}updateState(p){return this.state.update(g=>{var b;if(p===g)return g;(b=this.stateChanger)==null||b.clear(),this.stateChanger=null;const E=this.lifecycle[p];return E?E():(console.warn("Unknown state for Chatter unit: "+p,this),p="_"),this._state=p,p}),this}fillInitialParams(){return this.updateProps(p=>{const g=-2*re();return p.isInverted=g<0,p.startX=re(1,25),p.startY=re(1,56),p.endX=p.startX+re(2,25),p.endY=re(5,50),p.x=p.startX,p.y=p.startY,p}),this}init(){this.fillInitialParams();const p=document.getElementById(uu);return this.element=new zg({target:p,props:{unit:this,props:this.props,state:this.state},intro:!0}),this.updateState("born")}shoot(){return this._props.isImmortal||this._props.isDead?this:($g.play(),this.spawner.modifier.modify(this._props.rageModifier,this._props.loyaltyModifier),this.updateState("shot"))}pause(){this._state==="live"&&this.updateProps(p=>{const g=1-this.stateChanger.getRemainingTime()/p.lifetime,E=p.startX+(p.endX-p.startX)*g,b=p.startY+(p.endY-p.startY)*g;return p.x=E,p.y=b,p})}resume(){this._state==="live"&&this.updateProps(p=>(p.x=p.endX,p.y=p.endY,p))}destroy(){this.updateState("dead")}};sr(Ir,"ID_COUNTER",1);let Dr=Ir;class Hg extends Dr{constructor(p,g){super(p,"subscriber"+re(1,6)),this.fillFromUnitInfo(g),this.killCallback=g.killCallback,this.updateProps(E=>(E.loyaltyModifier*=Math.round(.4*Math.max(g.sublength,8)),E))}}class kg{constructor(p){this.value=p,this.next=null}}class du{constructor(){this.clear()}enqueue(p){const g=new kg(p);return this.head?(this.tail.next=g,this.tail=g):(this.head=g,this.tail=g),this.length+=1,this}dequeue(){const p=this.head;return p?(this.head=this.head.next,this.length-=1,p.value):null}clear(){return this.head=null,this.tail=null,this.length=0,this}isEmpty(){return this.length===0}getHead(){return this.head.value}getLength(){return this.length}toString(){const p=[];let g=this.head;for(;g;)p.push(g.value),g=g.next;return`Queue(${p.length})<${JSON.stringify(p)}>`}[Symbol.iterator](){let p=this.head;return{next:()=>{if(p){const g={value:p.value,done:!1};return p=p.next,g}else return{done:!0}}}}}class Kg extends Dr{constructor(p,g){super(p,"normal"+re(1,5)),this.fillFromUnitInfo(g),this.killCallback=g.killCallback}}let cu=null,Ra=0;Je.subscribe(M=>{cu=M.chatPunishment,Ra=M.chatTimeout});const _l="You have been shot by Forsen!",jg=new Set(["twitch","chatvote","g7_botandrey","yourmom_bot_xd","xdd_bot_xd","okayegbot","0weebs","supibot","streamelements","nightbot","fossabot","streamlabs","own3d","enationbot","restreambot","hnlbot","whatthedubbot","pajbot","snusbot","botnextdoor","titlechange_bot","deepdarkdungeonbot","botbear1110","chetbotwow","nightbot","moobot","wizebot","deepbot","phantombot","admiralbullbot","thepositivebot","feelsstrongbot","egsbot","potatbotat","rewardmore","tangiabot","feezybot"]);class Zg{constructor(p,g){if(this._class=Kg,this.author=p["display-name"]||p.username,this.color=p.color||Nr(),this.badgeset=[],p.badges)for(const E in p.badges){const b=da.get(E);if(b){const R=p.badges[E],c=b[R];c&&this.badgeset.push(c),E==="subscriber"&&(this._class=Hg,this.sublength=parseInt(R,10)||1)}}if(this.message=g,this.words=yc(p,g),this.isBanEvader="_banEvader"in p,"reply-parent-msg-body"in p){const E=p["reply-parent-user-display-name"]||p["reply-parent-user-login"];this.threadMsg=`${E}: ${p["reply-parent-msg-body"]}`}this._externalUserId=null,this.killCallback=ri}setExternalUserId(p){this._externalUserId=p,this.killCallback=async()=>{try{const g=`?broadcaster_id=${Zi.user_id}&moderator_id=${Zi.user_id}`;switch(cu){case"timeout":{Ra>0&&await Zi.request("moderation/bans"+g,{data:{user_id:this._externalUserId,duration:Ra,reason:_l}},"POST");break}case"warning":{await Zi.request("moderation/warnings"+g,{data:{user_id:this._externalUserId,reason:_l}},"POST");break}}}catch(g){console.warn(`Failed to relay a shot onto chat user [${this._externalUserId}|${this.author}] - error: `,g)}}}}class Jg{constructor(p){this.game=p,this.units=new Set,this.activeUserIds=new Set,this.delay=700,this.probability=.72,this.maxSize=8,this.isRunning=!1,this._timer=null,this._rageBaitTimer=null,this._nextPastaTimer=Date.now(),this._pastaCount=0,this._pastaMsg="@forsen",this._copypastaTimer=null,this.modifier=null,this.queue=new du,this.syntheticSource=[],this.auxSyntheticSource=[],this._messageHook=(g,E)=>{g.username===Ch.channel||g.username===Vr||g.mod&&!this.spawnMods||jg.has(g.username)||g["user-id"]&&this.activeUserIds.has(g["user-id"])||E.startsWith("+")||E.startsWith("!")||this.queueSpawnUnit(g,E)},this.spawnExternalChat=!1,this.spawnMods=!1,Je.subscribe(g=>{this.spawnExternalChat!==g.chatIntegration&&this.toggleHook(g.chatIntegration),this.spawnExternalChat=g.chatIntegration,this.spawnMods=g.chatIncludeMods})}queueSpawnUnit(p,g,E=!1){const b=this.units.size<this.maxSize&&Math.random()<this.probability;if(!E&&!b)return;p.__spawned__=!0;const R=new Zg(p,g);return"user-id"in p&&(this.activeUserIds.add(p["user-id"]),R.setExternalUserId(p["user-id"])),this.queue.enqueue(R),this}spawnNext(){const p=this.queue.dequeue();if(!p)return null;const g=new p._class(this,p);return g.state.subscribe(E=>{E==="dead"&&(this.units.delete(g),this.activeUserIds.delete(p._externalUserId))}),g.init(),this.units.add(g),g}toggleHook(p){return this.isRunning&&(p?Fa(this._messageHook):zn(this._messageHook)),this}start(){if(this._timer)throw new Error("This spawner is already active!");return console.info("ChatterUnit spawner launched!"),this.modifier=new Kn,this._timer=new Pi(()=>{this.isRunning&&(this.queue.isEmpty()&&this.units.size<this.maxSize&&Math.random()<this.probability&&this.queueSyntheticMessage(this.buildSyntheticMessage()),this.spawnNext())},this.delay),this._rageBaitTimer=new Pi(()=>{const p=Math.random();if(p>.55)return;if(p<.11){const b=this.buildSyntheticMessage();b._banEvader=!0,this.queueSyntheticMessage(b);return}const g=["pasta","mentions"];this.game._state.stage[0]===ke.GAMES&&g.push("complains");const E=this.buildSyntheticMessage("generic",He(g));if(this.queueSyntheticMessage(E),!this.queue.isEmpty()&&p<.35){const b=this.queue.getHead(),R=this.buildSyntheticMessage("generic","threads");R["reply-parent-user-login"]=b.author,R["reply-parent-msg-body"]=b.message,R._text=`@${b.author} ${R._text}`,this.queueSyntheticMessage(R)}},5e3),this._copypastaTimer=new Pi(()=>{if(this._pastaCount>0){const p=this.buildSyntheticMessage();p._text=this._pastaMsg,this._pastaCount-=1,this.queueSyntheticMessage(p)}else if(Date.now()>this._nextPastaTimer&&[ke.GAMES,ke.LINKS,ke.BABAG].includes(this.game._state.stage[0])){const p=this.buildSyntheticMessage("generic",He(["pasta","ascii"]));this._pastaCount=re(3,8),this._pastaMsg=p._text,this._nextPastaTimer=Date.now()+re(70,100)*1e3}},2500),this._pastaCount=0,this._nextPastaTimer=Date.now()+re(70,100)*1e3,this.resume(),this.toggleHook(this.spawnExternalChat),this}stop(p=!0){var g,E,b;return this.toggleHook(!1),this.pause(),this.modifier=null,(g=this._timer)==null||g.clear(),this._timer=null,(E=this._rageBaitTimer)==null||E.clear(),this._rageBaitTimer=null,(b=this._copypastaTimer)==null||b.clear(),this._copypastaTimer=null,zn(this._messageHook),this.queue.clear(),p&&(this.units.forEach(R=>R.destroy()),this.units.clear()),this}restart(){return this.stop().start()}pause(){return this.isRunning=!1,this.units.forEach(p=>p.pause()),this}resume(){return this.isRunning=!0,this.units.forEach(p=>p.resume()),this}setSynthericSource(p){return this.syntheticSource=p,this}setAuxSynthericSource(p){return this.auxSyntheticSource=p,this}buildSyntheticMessage(p,g){const E=kh(),b=!p&&Math.random()>.2;let R=null;b&&this.syntheticSource&&(R=He(this.syntheticSource),this.auxSyntheticSource&&Math.random()<.25&&(R=He(this.auxSyntheticSource))),R||(R=Mc(p,g)),R.length<30&&(R=(R+" ").repeat(re(1,4)).trim());const c={};switch(Math.random()<.3&&(c.subscriber=(1+re(4))*12),re(10)){case 1:case 2:c.turbo=1;break;case 7:c.no_video=1;break;case 8:c.no_audio=1;break}return{username:E,color:Nr(),badges:c,_parseAllEmotes:!0,_text:R}}queueSyntheticMessage(p,g=!1){const E=p._text;return delete p._text,this.queueSpawnUnit(p,E,g)}queueEventfulMessages(p="",g=0){if(!p||!g){console.warn("Spawner.queueEventfulMessages called with invalid arguments:",arguments);return}for(;g-- >0;)this.queueSyntheticMessage(this.buildSyntheticMessage("generic",p),!0)}}class vu{constructor(){this.isSpeaking=!1,this._wasExternallyPaused=!1,this.talker=new du,this.speech=null,this.speechGain=ni(0),this._gainNode=Howler.ctx.createGain(),this._analyser=Howler.ctx.createAnalyser(),this._analyser.fftSize=256,this._bufferLength=this._analyser.frequencyBinCount,this._dataArray=new Uint8Array(this._bufferLength),Je.subscribe(p=>{this._gainNode.gain.value=p.volume/100}),this.isAudioAnalyzerActive=!1,this.startAudioAnalyzer(),this.pepepains=new Pi(()=>this.sayRandomLine(),54321),this.soundLibrary=new Map;for(const p in pa)for(const g of pa[p])this.soundLibrary.set(p,new dr(`forsen-_local_-${g}`,`/sounds/forsen/${g}.mp3`))}resetPepepainsTimer(){return this.pepepains.restart(),this}startAudioAnalyzer(){if(this.isAudioAnalyzerActive)return;this.isAudioAnalyzerActive=!0,console.debug("Forsen: audio analysis started");const p=()=>{this._analyser.getByteFrequencyData(this._dataArray);let g=0;for(let b=0;b<this._bufferLength;b++)g+=this._dataArray[b];const E=g/this._bufferLength;this.speechGain.set(E/255),this.isAudioAnalyzerActive&&requestAnimationFrame(p)};p()}stopAudioAnalyzer(){this.isAudioAnalyzerActive=!1}keepTalking(p=0){if(!(p===0&&this.isSpeaking))return this.isSpeaking=!0,this.speech=this.talker.dequeue(),this.speech?(this.speech.once("end",()=>this.keepTalking(p+1)),this.speech.play()):this.isSpeaking=!1,this}playSpeech(p){const g=p instanceof dr?p.stop():new dr("forsen",p);g.isLoaded()||g.load(),this.talker.enqueue(g);const E=g.sound._sounds[0]._node;return E.disconnect(),E.connect(this._gainNode),this._gainNode.connect(this._analyser),this._analyser.connect(Howler.ctx.destination),this.resetPepepainsTimer(),this.keepTalking(),g}say(p){let g=this.soundLibrary.get(p);return g||(g=new dr(`forsen-_local_-${p}`,`/sounds/forsen/${p}.mp3`),this.soundLibrary.set(p,g)),this.playSpeech(g)}tryToSay(p){return!this.speech&&this.talker.isEmpty()&&this.say(p),this}sayRandomLine(){return!xe._state.isStarted||this.talker.length>5?this:this.say(gi("pepepains"))}testSpeech(){return this.talker.length>1?this:this.say(gi("pepepains"))}pause(){return this.speech&&(this._wasExternallyPaused=this.speech.isPlaying(),this.speech.pause()),this}unpause(){var p;return this._wasExternallyPaused&&((p=this.speech)==null||p.play()),this._wasExternallyPaused=!1,this}stfu(){return this.speech&&(this.speech.stop(),this.speech.off()),this.isSpeaking=!1,this.talker.clear(),this}destroy(){return this.isAudioAnalyzerActive=!1,this.pepepains.clear(),this.talker.clear(),this}}function Qg(M){let p,g,E,b="Paused",R,c=M[0].isEndless&&th(M);return{c(){p=Q("div"),c&&c.c(),g=lt(),E=Q("h1"),E.textContent=b,this.h()},l(y){p=q(y,"DIV",{class:!0});var t=rt(p);c&&c.l(t),g=ht(t),E=q(t,"H1",{class:!0,"data-svelte-h":!0}),Ot(E)!=="svelte-1vsm7db"&&(E.textContent=b),t.forEach(K),this.h()},h(){W(E,"class","my-auto svelte-lu2tq7"),W(p,"class","pause-title svelte-lu2tq7")},m(y,t){dt(y,p,t),c&&c.m(p,null),V(p,g),V(p,E)},p(y,t){y[0].isEndless?c?c.p(y,t):(c=th(y),c.c(),c.m(p,g)):c&&(c.d(1),c=null)},i(y){y&&(R||Ye(()=>{R=je(p,Is,{delay:100}),R.start()}))},o:Qt,d(y){y&&K(p),c&&c.d()}}}function qg(M){let p,g,E,b=M[0].gameOverReason+"",R,c,y,t=M[0].gameOverDescription+"",o,v,s=M[0].isEndless&&eh(M);return{c(){p=Q("div"),s&&s.c(),g=lt(),E=Q("h1"),R=mt(b),c=lt(),y=Q("h2"),o=mt(t),this.h()},l(i){p=q(i,"DIV",{class:!0});var n=rt(p);s&&s.l(n),g=ht(n),E=q(n,"H1",{class:!0});var e=rt(E);R=gt(e,b),e.forEach(K),c=ht(n),y=q(n,"H2",{class:!0});var r=rt(y);o=gt(r,t),r.forEach(K),n.forEach(K),this.h()},h(){W(E,"class","svelte-lu2tq7"),W(y,"class","svelte-lu2tq7"),W(p,"class","pause-title text-danger svelte-lu2tq7")},m(i,n){dt(i,p,n),s&&s.m(p,null),V(p,g),V(p,E),V(E,R),V(p,c),V(p,y),V(y,o)},p(i,n){i[0].isEndless?s?s.p(i,n):(s=eh(i),s.c(),s.m(p,g)):s&&(s.d(1),s=null),n&1&&b!==(b=i[0].gameOverReason+"")&&ie(R,b),n&1&&t!==(t=i[0].gameOverDescription+"")&&ie(o,t)},i(i){i&&(v||Ye(()=>{v=je(p,Is,{delay:100}),v.start()}))},o:Qt,d(i){i&&K(p),s&&s.d()}}}function th(M){let p,g,E="Endless mode",b,R,c=M[0].day+"",y;return{c(){p=Q("h6"),g=Q("i"),g.textContent=E,b=mt(" — Day "),R=Q("b"),y=mt(c),this.h()},l(t){p=q(t,"H6",{class:!0});var o=rt(p);g=q(o,"I",{"data-svelte-h":!0}),Ot(g)!=="svelte-vkjq5"&&(g.textContent=E),b=gt(o," — Day "),R=q(o,"B",{});var v=rt(R);y=gt(v,c),v.forEach(K),o.forEach(K),this.h()},h(){W(p,"class","svelte-lu2tq7")},m(t,o){dt(t,p,o),V(p,g),V(p,b),V(p,R),V(R,y)},p(t,o){o&1&&c!==(c=t[0].day+"")&&ie(y,c)},d(t){t&&K(p)}}}function eh(M){let p,g,E,b=M[0].day+"",R;return{c(){p=Q("h6"),g=mt("Day "),E=Q("b"),R=mt(b),this.h()},l(c){p=q(c,"H6",{class:!0});var y=rt(p);g=gt(y,"Day "),E=q(y,"B",{});var t=rt(E);R=gt(t,b),t.forEach(K),y.forEach(K),this.h()},h(){W(p,"class","svelte-lu2tq7")},m(c,y){dt(c,p,y),V(p,g),V(p,E),V(E,R)},p(c,y){y&1&&b!==(b=c[0].day+"")&&ie(R,b)},d(c){c&&K(p)}}}function _g(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l,a,h,f,u,d,m,x,S;return E=new fe({props:{size:"120%",$$slots:{default:[e0]},$$scope:{ctx:M}}}),y=new fe({props:{size:"120%",$$slots:{default:[i0]},$$scope:{ctx:M}}}),s=new fe({props:{size:"120%",$$slots:{default:[s0]},$$scope:{ctx:M}}}),l=new fe({props:{size:"120%",$$slots:{default:[n0]},$$scope:{ctx:M}}}),u=new fe({props:{size:"120%",$$slots:{default:[r0]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("button"),Xt(E.$$.fragment),b=mt(" Resume game"),R=lt(),c=Q("button"),Xt(y.$$.fragment),t=mt(" Settings"),o=lt(),v=Q("button"),Xt(s.$$.fragment),i=mt(" Abandon game"),n=lt(),e=Q("div"),r=Q("button"),Xt(l.$$.fragment),a=mt(" How to play"),h=lt(),f=Q("button"),Xt(u.$$.fragment),d=mt(" Report a bug"),this.h()},l(T){p=q(T,"DIV",{class:!0});var C=rt(p);g=q(C,"BUTTON",{type:!0,class:!0});var A=rt(g);$t(E.$$.fragment,A),b=gt(A," Resume game"),A.forEach(K),R=ht(C),c=q(C,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var w=rt(c);$t(y.$$.fragment,w),t=gt(w," Settings"),w.forEach(K),o=ht(C),v=q(C,"BUTTON",{type:!0,class:!0});var P=rt(v);$t(s.$$.fragment,P),i=gt(P," Abandon game"),P.forEach(K),C.forEach(K),n=ht(T),e=q(T,"DIV",{class:!0});var F=rt(e);r=q(F,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var L=rt(r);$t(l.$$.fragment,L),a=gt(L," How to play"),L.forEach(K),h=ht(F),f=q(F,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var O=rt(f);$t(u.$$.fragment,O),d=gt(O," Report a bug"),O.forEach(K),F.forEach(K),this.h()},h(){W(g,"type","button"),W(g,"class","btn btn-primary text-start svelte-lu2tq7"),W(c,"type","button"),W(c,"class","btn btn-secondary text-start svelte-lu2tq7"),W(c,"data-bs-toggle","modal"),W(c,"data-bs-target","#mdlSettings"),W(v,"type","button"),W(v,"class","btn btn-danger text-start svelte-lu2tq7"),W(p,"class","pause-buttons-row svelte-lu2tq7"),W(r,"type","button"),W(r,"class","btn btn-secondary svelte-lu2tq7"),W(r,"data-bs-toggle","modal"),W(r,"data-bs-target","#mdlHelp"),W(f,"type","button"),W(f,"class","btn btn-secondary text-start svelte-lu2tq7"),W(f,"data-bs-toggle","modal"),W(f,"data-bs-target","#mdlReportBug"),W(e,"class","pause-buttons-row svelte-lu2tq7")},m(T,C){dt(T,p,C),V(p,g),Yt(E,g,null),V(g,b),V(p,R),V(p,c),Yt(y,c,null),V(c,t),V(p,o),V(p,v),Yt(s,v,null),V(v,i),dt(T,n,C),dt(T,e,C),V(e,r),Yt(l,r,null),V(r,a),V(e,h),V(e,f),Yt(u,f,null),V(f,d),m=!0,x||(S=[se(g,"click",M[2]),se(v,"click",M[3])],x=!0)},p(T,C){const A={};C&16&&(A.$$scope={dirty:C,ctx:T}),E.$set(A);const w={};C&16&&(w.$$scope={dirty:C,ctx:T}),y.$set(w);const P={};C&16&&(P.$$scope={dirty:C,ctx:T}),s.$set(P);const F={};C&16&&(F.$$scope={dirty:C,ctx:T}),l.$set(F);const L={};C&16&&(L.$$scope={dirty:C,ctx:T}),u.$set(L)},i(T){m||(Tt(E.$$.fragment,T),Tt(y.$$.fragment,T),Tt(s.$$.fragment,T),Tt(l.$$.fragment,T),Tt(u.$$.fragment,T),m=!0)},o(T){Mt(E.$$.fragment,T),Mt(y.$$.fragment,T),Mt(s.$$.fragment,T),Mt(l.$$.fragment,T),Mt(u.$$.fragment,T),m=!1},d(T){T&&(K(p),K(n),K(e)),Wt(E),Wt(y),Wt(s),Wt(l),Wt(u),x=!1,hi(S)}}}function t0(M){let p,g,E,b,R,c,y;return E=new fe({props:{size:"120%",$$slots:{default:[a0]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("button"),Xt(E.$$.fragment),b=mt(" Return to main menu"),this.h()},l(t){p=q(t,"DIV",{class:!0});var o=rt(p);g=q(o,"BUTTON",{type:!0,class:!0});var v=rt(g);$t(E.$$.fragment,v),b=gt(v," Return to main menu"),v.forEach(K),o.forEach(K),this.h()},h(){W(g,"type","button"),W(g,"class","btn btn-danger text-start svelte-lu2tq7"),W(p,"class","pause-buttons-row svelte-lu2tq7")},m(t,o){dt(t,p,o),V(p,g),Yt(E,g,null),V(g,b),R=!0,c||(y=se(g,"click",M[3]),c=!0)},p(t,o){const v={};o&16&&(v.$$scope={dirty:o,ctx:t}),E.$set(v)},i(t){R||(Tt(E.$$.fragment,t),R=!0)},o(t){Mt(E.$$.fragment,t),R=!1},d(t){t&&K(p),Wt(E),c=!1,y()}}}function e0(M){let p;return{c(){p=mt("not_started")},l(g){p=gt(g,"not_started")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function i0(M){let p;return{c(){p=mt("settings")},l(g){p=gt(g,"settings")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function s0(M){let p;return{c(){p=mt("exit_to_app")},l(g){p=gt(g,"exit_to_app")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function n0(M){let p;return{c(){p=mt("question_mark")},l(g){p=gt(g,"question_mark")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function r0(M){let p;return{c(){p=mt("bug_report")},l(g){p=gt(g,"bug_report")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function a0(M){let p;return{c(){p=mt("exit_to_app")},l(g){p=gt(g,"exit_to_app")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function o0(M){let p,g,E,b,R,c,y,t,o,v,s;function i(h,f){return h[0].isGameOver?qg:Qg}let n=i(M),e=n(M);const r=[t0,_g],l=[];function a(h,f){return h[0].isGameOver?0:1}return c=a(M),y=l[c]=r[c](M),{c(){p=Q("div"),g=Q("div"),E=lt(),e.c(),b=lt(),R=Q("div"),y.c(),o=lt(),v=Q("div"),this.h()},l(h){p=q(h,"DIV",{class:!0});var f=rt(p);g=q(f,"DIV",{class:!0}),rt(g).forEach(K),E=ht(f),e.l(f),b=ht(f),R=q(f,"DIV",{class:!0});var u=rt(R);y.l(u),u.forEach(K),o=ht(f),v=q(f,"DIV",{class:!0}),rt(v).forEach(K),f.forEach(K),this.h()},h(){W(g,"class","pause-backdrop svelte-lu2tq7"),W(R,"class","pause-buttons svelte-lu2tq7"),W(v,"class","overlay-black svelte-lu2tq7"),W(p,"class","pause svelte-lu2tq7")},m(h,f){dt(h,p,f),V(p,g),V(p,E),e.m(p,null),V(p,b),V(p,R),l[c].m(R,null),V(p,o),V(p,v),s=!0},p(h,[f]){n===(n=i(h))&&e?e.p(h,f):(e.d(1),e=n(h),e&&(e.c(),Tt(e,1),e.m(p,b)));let u=c;c=a(h),c===u?l[c].p(h,f):(Ie(),Mt(l[u],1,1,()=>{l[u]=null}),Be(),y=l[c],y?y.p(h,f):(y=l[c]=r[c](h),y.c()),Tt(y,1),y.m(R,null))},i(h){s||(Tt(e),Tt(y),h&&(t||Ye(()=>{t=je(R,Is,{delay:300}),t.start()})),s=!0)},o(h){Mt(y),s=!1},d(h){h&&K(p),e.d(),l[c].d()}}}function l0(M,p,g){let E;const b=xe.state;We(M,b,y=>g(0,E=y));function R(){xe.unpause()}function c(){(E.isGameOver||window.confirm("Are you sure you want to exit? Game progress will not be saved!"))&&xe.stop()}return[E,b,R,c]}class h0 extends Ee{constructor(p){super(),Ce(this,p,l0,o0,Se,{})}}function u0(M){let p,g,E,b=":",R;return{c(){p=Q("div"),g=mt(M[0]),E=Q("span"),E.textContent=b,R=mt(M[1]),this.h()},l(c){p=q(c,"DIV",{class:!0});var y=rt(p);g=gt(y,M[0]),E=q(y,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(E)!=="svelte-1lf9z3l"&&(E.textContent=b),R=gt(y,M[1]),y.forEach(K),this.h()},h(){W(E,"class","blink svelte-y8jm5y"),W(p,"class","clock svelte-y8jm5y")},m(c,y){dt(c,p,y),V(p,g),V(p,E),V(p,R)},p(c,[y]){y&1&&ie(g,c[0]),y&2&&ie(R,c[1])},i:Qt,o:Qt,d(c){c&&K(p)}}}function f0(M,p,g){let E;const b=xe.gameTimeClock;We(M,b,s=>g(3,E=s));const R={hh:16,mm:0},c=new Date().getTimezoneOffset(),y=Math.floor(c/60),t=c%60;let o="16",v="00";return M.$$.update=()=>{if(M.$$.dirty&8){const s=Math.floor(E/60),i=Math.floor(E%60);g(0,o=String((R.hh+s-y)%24).padStart(2,"0")),g(1,v=String((R.mm+i-t)%60).padStart(2,"0"))}},[o,v,b,E]}class d0 extends Ee{constructor(p){super(),Ce(this,p,f0,u0,Se,{})}}function c0(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e;return E=new d0({}),{c(){p=Q("div"),g=lt(),Xt(E.$$.fragment),b=lt(),R=Q("img"),y=lt(),t=Q("div"),o=Q("img"),s=lt(),i=Q("img"),this.h()},l(r){p=q(r,"DIV",{class:!0});var l=rt(p);g=ht(l),$t(E.$$.fragment,l),b=ht(l),R=q(l,"IMG",{class:!0,src:!0,alt:!0}),y=ht(l),t=q(l,"DIV",{class:!0});var a=rt(t);o=q(a,"IMG",{class:!0,src:!0,alt:!0}),s=ht(a),i=q(a,"IMG",{class:!0,src:!0,alt:!0}),a.forEach(K),l.forEach(K),this.h()},h(){W(R,"class","room svelte-3oddvj"),Ae(R.src,c="/pics/cam/room1.png")||W(R,"src",c),W(R,"alt","room"),W(o,"class","forsen-face svelte-3oddvj"),Ae(o.src,v="/pics/cam/forsen-face.png")||W(o,"src",v),W(o,"alt","forsen"),W(i,"class","forsen-mouth svelte-3oddvj"),Ae(i.src,n="/pics/cam/forsen-mouth.png")||W(i,"src",n),W(i,"alt","forsen-mouth"),kt(i,"top",Ke(M[1]*xr)),kt(i,"transform",`scale(1, ${(gr-M[1]*xr)/gr})`),W(t,"class","forsen svelte-3oddvj"),W(p,"class","camera svelte-3oddvj")},m(r,l){dt(r,p,l),V(p,g),Yt(E,p,null),V(p,b),V(p,R),V(p,y),V(p,t),V(t,o),V(t,s),V(t,i),e=!0},p(r,[l]){l&2&&kt(i,"top",Ke(r[1]*xr)),l&2&&kt(i,"transform",`scale(1, ${(gr-r[1]*xr)/gr})`)},i(r){e||(Tt(E.$$.fragment,r),e=!0)},o(r){Mt(E.$$.fragment,r),e=!1},d(r){r&&K(p),Wt(E)}}}const gr=22,xr=20,v0=.07;function p0(M,p,g){let E;const R=xe.forsen.speechGain;We(M,R,y=>g(0,E=y));let c=0;return M.$$.update=()=>{M.$$.dirty&1&&g(1,c=Math.max(0,Math.min(E-v0,.15)))},[E,c,R]}class m0 extends Ee{constructor(p){super(),Ce(this,p,p0,c0,Se,{})}}function g0(M){let p,g,E,b="💙",R,c,y,t,o,v,s="😡",i,n,e;return{c(){p=Q("div"),g=Q("div"),E=Q("div"),E.textContent=b,R=lt(),c=Q("div"),y=Q("div"),t=lt(),o=Q("div"),v=Q("div"),v.textContent=s,i=lt(),n=Q("div"),e=Q("div"),this.h()},l(r){p=q(r,"DIV",{class:!0});var l=rt(p);g=q(l,"DIV",{class:!0});var a=rt(g);E=q(a,"DIV",{class:!0,"data-svelte-h":!0}),Ot(E)!=="svelte-1m0h18x"&&(E.textContent=b),R=ht(a),c=q(a,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var h=rt(c);y=q(h,"DIV",{class:!0}),rt(y).forEach(K),h.forEach(K),a.forEach(K),t=ht(l),o=q(l,"DIV",{class:!0});var f=rt(o);v=q(f,"DIV",{class:!0,"data-svelte-h":!0}),Ot(v)!=="svelte-qnx6pl"&&(v.textContent=s),i=ht(f),n=q(f,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var u=rt(n);e=q(u,"DIV",{class:!0}),rt(e).forEach(K),u.forEach(K),f.forEach(K),l.forEach(K),this.h()},h(){W(E,"class","me-1"),W(y,"class","progress-bar progress-bar-striped bg-info"),kt(y,"width",Ke(M[3])),W(c,"class","progress svelte-11az9i9"),W(c,"role","progressbar"),W(c,"aria-label","Loyalty"),W(c,"aria-valuenow",M[3]),W(c,"aria-valuemin","0"),W(c,"aria-valuemax","100"),pe(c,"dropping",M[1]-M[3]<-2*(M[3]>25)),W(g,"class","d-flex"),W(v,"class","me-1"),W(e,"class","progress-bar progress-bar-striped bg-danger"),kt(e,"width",Ke(M[4])),W(n,"class","progress svelte-11az9i9"),W(n,"role","progressbar"),W(n,"aria-label","Rage"),W(n,"aria-valuenow",M[4]),W(n,"aria-valuemin","0"),W(n,"aria-valuemax","100"),pe(n,"growing",M[2]-M[4]>2*(M[4]<75)),W(o,"class","d-flex"),W(p,"class","stats svelte-11az9i9"),pe(p,"demo",M[0])},m(r,l){dt(r,p,l),V(p,g),V(g,E),V(g,R),V(g,c),V(c,y),V(p,t),V(p,o),V(o,v),V(o,i),V(o,n),V(n,e)},p(r,[l]){l&8&&kt(y,"width",Ke(r[3])),l&8&&W(c,"aria-valuenow",r[3]),l&10&&pe(c,"dropping",r[1]-r[3]<-2*(r[3]>25)),l&16&&kt(e,"width",Ke(r[4])),l&16&&W(n,"aria-valuenow",r[4]),l&20&&pe(n,"growing",r[2]-r[4]>2*(r[4]<75)),l&1&&pe(p,"demo",r[0])},i:Qt,o:Qt,d(r){r&&K(p)}}}function x0(M,p,g){let E,b,{demo:R=!1}=p,c=80*R,y=45*R;const t=us(c,{duration:800,easing:ln});We(M,t,v=>g(3,E=v));const o=us(y,{duration:800,easing:ln});return We(M,o,v=>g(4,b=v)),ti(()=>{const v=R?new Pi(()=>{g(1,c=re(10,90)),g(2,y=re(10,90)),t.set(c),o.set(y)},5e3):null,s=xe.state.subscribe(i=>{R||i.isGameOver||(g(1,c=i.loyalty),t.set(i.loyalty).then(()=>{i.loyalty<=Rs.loyalty&&xe.gameOver("Retired")}),g(2,y=i.rage),o.set(i.rage).then(()=>{i.rage>=Rs.rage&&xe.gameOver("Insanity")}))});return()=>{v==null||v.clear(),s()}}),M.$$set=v=>{"demo"in v&&g(0,R=v.demo)},[R,c,y,E,b,t,o]}class pu extends Ee{constructor(p){super(),Ce(this,p,x0,g0,Se,{demo:0})}}function ih(M){let p,g,E,b,R,c,y,t,o;return R=new m0({}),y=new pu({}),{c(){p=Q("div"),g=Q("div"),E=lt(),b=Q("div"),Xt(R.$$.fragment),c=lt(),Xt(y.$$.fragment),this.h()},l(v){p=q(v,"DIV",{class:!0});var s=rt(p);g=q(s,"DIV",{class:!0}),rt(g).forEach(K),E=ht(s),b=q(s,"DIV",{class:!0});var i=rt(b);$t(R.$$.fragment,i),c=ht(i),$t(y.$$.fragment,i),i.forEach(K),s.forEach(K),this.h()},h(){W(g,"class","rage-indicator svelte-buvwyc"),pe(g,"insane",M[1]>40),kt(g,"opacity",Ke(M[1])),W(b,"class","game-info svelte-buvwyc"),W(p,"class","game-info-container svelte-buvwyc")},m(v,s){dt(v,p,s),V(p,g),V(p,E),V(p,b),Yt(R,b,null),V(b,c),Yt(y,b,null),o=!0},p(v,s){(!o||s&2)&&pe(g,"insane",v[1]>40),s&2&&kt(g,"opacity",Ke(v[1]))},i(v){o||(Tt(R.$$.fragment,v),Tt(y.$$.fragment,v),v&&(t||Ye(()=>{t=je(p,Oi,{y:400,duration:1e3,delay:1300}),t.start()})),o=!0)},o(v){Mt(R.$$.fragment,v),Mt(y.$$.fragment,v),o=!1},d(v){v&&K(p),Wt(R),Wt(y)}}}function y0(M){let p,g,E=M[0].isCamEnabled&&ih(M);return{c(){E&&E.c(),p=Le()},l(b){E&&E.l(b),p=Le()},m(b,R){E&&E.m(b,R),dt(b,p,R),g=!0},p(b,[R]){b[0].isCamEnabled?E?(E.p(b,R),R&1&&Tt(E,1)):(E=ih(b),E.c(),Tt(E,1),E.m(p.parentNode,p)):E&&(Ie(),Mt(E,1,1,()=>{E=null}),Be())},i(b){g||(Tt(E),g=!0)},o(b){Mt(E),g=!1},d(b){b&&K(p),E&&E.d(b)}}}function T0(M,p,g){let E,b;const R=xe.state;We(M,R,y=>g(0,E=y));let c=us(0,{duration:800});return We(M,c,y=>g(1,b=y)),M.$$.update=()=>{M.$$.dirty&1&&Gi(c,b=Math.max(0,3.5*(E.rage-Rs.angry)),b)},[E,b,R,c]}class S0 extends Ee{constructor(p){super(),Ce(this,p,T0,y0,Se,{})}}function E0(M){let p,g='<video src="/videos/forsen-wallpaper.mp4" muted="" autoplay="" loop="" class="svelte-13sn7gn"></video>';return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-1dgn4w4"&&(p.innerHTML=g),this.h()},h(){W(p,"class","wallpaper svelte-13sn7gn"),pe(p,"blurry",M[0])},m(E,b){dt(E,p,b)},p(E,[b]){b&1&&pe(p,"blurry",E[0])},i:Qt,o:Qt,d(E){E&&K(p)}}}function C0(M,p,g){let{blurry:E=!1}=p;return M.$$set=b=>{"blurry"in b&&g(0,E=b.blurry)},[E]}class mu extends Ee{constructor(p){super(),Ce(this,p,C0,E0,Se,{blurry:0})}}function sh(M){let p,g,E=M[0].loyaltyScale.toPrecision(2)+"",b,R,c;return{c(){p=Q("div"),g=Q("b"),b=mt(E),R=mt("×"),c=mt(" loyalty modifier"),this.h()},l(y){p=q(y,"DIV",{class:!0});var t=rt(p);g=q(t,"B",{});var o=rt(g);b=gt(o,E),R=gt(o,"×"),o.forEach(K),c=gt(t," loyalty modifier"),t.forEach(K),this.h()},h(){W(p,"class","stat-modifier text-info")},m(y,t){dt(y,p,t),V(p,g),V(g,b),V(g,R),V(p,c)},p(y,t){t&1&&E!==(E=y[0].loyaltyScale.toPrecision(2)+"")&&ie(b,E)},d(y){y&&K(p)}}}function nh(M){let p,g,E=M[0].rageScale.toPrecision(2)+"",b,R,c;return{c(){p=Q("div"),g=Q("b"),b=mt(E),R=mt("×"),c=mt(" rage modifier"),this.h()},l(y){p=q(y,"DIV",{class:!0});var t=rt(p);g=q(t,"B",{});var o=rt(g);b=gt(o,E),R=gt(o,"×"),o.forEach(K),c=gt(t," rage modifier"),t.forEach(K),this.h()},h(){W(p,"class","stat-modifier text-danger")},m(y,t){dt(y,p,t),V(p,g),V(g,b),V(g,R),V(p,c)},p(y,t){t&1&&E!==(E=y[0].rageScale.toPrecision(2)+"")&&ie(b,E)},d(y){y&&K(p)}}}function A0(M){let p,g,E,b,R=M[0].day+"",c,y,t,o,v,s=M[0].loyaltyScale!==1&&sh(M),i=M[0].rageScale!==1&&nh(M);return{c(){p=Q("div"),g=Q("h1"),E=mt("Day "),b=Q("b"),c=mt(R),y=lt(),s&&s.c(),t=lt(),i&&i.c(),this.h()},l(n){p=q(n,"DIV",{class:!0});var e=rt(p);g=q(e,"H1",{class:!0});var r=rt(g);E=gt(r,"Day "),b=q(r,"B",{});var l=rt(b);c=gt(l,R),l.forEach(K),r.forEach(K),y=ht(e),s&&s.l(e),t=ht(e),i&&i.l(e),e.forEach(K),this.h()},h(){W(g,"class","svelte-og66qd"),W(p,"class","day svelte-og66qd")},m(n,e){dt(n,p,e),V(p,g),V(g,E),V(g,b),V(b,c),V(p,y),s&&s.m(p,null),V(p,t),i&&i.m(p,null),v=!0},p(n,[e]){(!v||e&1)&&R!==(R=n[0].day+"")&&ie(c,R),n[0].loyaltyScale!==1?s?s.p(n,e):(s=sh(n),s.c(),s.m(p,t)):s&&(s.d(1),s=null),n[0].rageScale!==1?i?i.p(n,e):(i=nh(n),i.c(),i.m(p,null)):i&&(i.d(1),i=null)},i(n){v||(n&&Ye(()=>{v&&(o||(o=Fi(p,Ds,{duration:500},!0)),o.run(1))}),v=!0)},o(n){n&&(o||(o=Fi(p,Ds,{duration:500},!1)),o.run(0)),v=!1},d(n){n&&K(p),s&&s.d(),i&&i.d(),n&&o&&o.end()}}}function M0(M,p,g){let E;const b=xe.state;return We(M,b,R=>g(0,E=R)),[E,b]}class w0 extends Ee{constructor(p){super(),Ce(this,p,M0,A0,Se,{})}}function rh(M){let p,g;return p=new w0({}),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function ah(M){let p,g;return p=new h0({}),{c(){Xt(p.$$.fragment)},l(E){$t(p.$$.fragment,E)},m(E,b){Yt(p,E,b),g=!0},i(E){g||(Tt(p.$$.fragment,E),g=!0)},o(E){Mt(p.$$.fragment,E),g=!1},d(E){Wt(p,E)}}}function b0(M){let p,g,E,b,R,c,y,t,o,v,s;g=new mu({}),R=new S0({});let i=M[1].isEndless&&M[2]<0&&rh(),n=M[1].isPaused&&ah();return{c(){p=Q("section"),Xt(g.$$.fragment),E=lt(),b=Q("div"),Xt(R.$$.fragment),c=lt(),y=Q("div"),t=lt(),i&&i.c(),o=lt(),n&&n.c(),this.h()},l(e){p=q(e,"SECTION",{id:!0,class:!0});var r=rt(p);$t(g.$$.fragment,r),E=ht(r),b=q(r,"DIV",{class:!0});var l=rt(b);$t(R.$$.fragment,l),l.forEach(K),c=ht(r),y=q(r,"DIV",{id:!0,class:!0}),rt(y).forEach(K),t=ht(r),i&&i.l(r),o=ht(r),n&&n.l(r),r.forEach(K),this.h()},h(){W(b,"class","overlay svelte-1vtmv3b"),W(y,"id",uu),W(y,"class","overlay svelte-1vtmv3b"),W(p,"id",M[0]),W(p,"class","svelte-1vtmv3b")},m(e,r){dt(e,p,r),Yt(g,p,null),V(p,E),V(p,b),Yt(R,b,null),V(p,c),V(p,y),V(p,t),i&&i.m(p,null),V(p,o),n&&n.m(p,null),s=!0},p(e,[r]){e[1].isEndless&&e[2]<0?i?r&6&&Tt(i,1):(i=rh(),i.c(),Tt(i,1),i.m(p,o)):i&&(Ie(),Mt(i,1,1,()=>{i=null}),Be()),e[1].isPaused?n?r&2&&Tt(n,1):(n=ah(),n.c(),Tt(n,1),n.m(p,null)):n&&(Ie(),Mt(n,1,1,()=>{n=null}),Be()),(!s||r&1)&&W(p,"id",e[0])},i(e){s||(Tt(g.$$.fragment,e),Tt(R.$$.fragment,e),Tt(i),Tt(n),e&&(v||Ye(()=>{v=je(p,Ds,{}),v.start()})),s=!0)},o(e){Mt(g.$$.fragment,e),Mt(R.$$.fragment,e),Mt(i),Mt(n),s=!1},d(e){e&&K(p),Wt(g),Wt(R),i&&i.d(),n&&n.d()}}}function P0(M,p,g){let E,b,{id:R}=p;const c=xe.state;We(M,c,t=>g(1,E=t));const y=xe.gameTimeClock;return We(M,y,t=>g(2,b=t)),M.$$set=t=>{"id"in t&&g(0,R=t.id)},[R,E,b,c,y]}class R0 extends Ee{constructor(p){super(),Ce(this,p,P0,b0,Se,{id:0})}}function oh(M){let p,g,E,b,R,c;return{c(){p=mt("| Build "),g=Q("b"),E=mt(lo),b=mt(" | Updated: "),R=Q("b"),c=mt(M[2])},l(y){p=gt(y,"| Build "),g=q(y,"B",{});var t=rt(g);E=gt(t,lo),t.forEach(K),b=gt(y," | Updated: "),R=q(y,"B",{});var o=rt(R);c=gt(o,M[2]),o.forEach(K)},m(y,t){dt(y,p,t),dt(y,g,t),V(g,E),dt(y,b,t),dt(y,R,t),V(R,c)},p:Qt,d(y){y&&(K(p),K(g),K(b),K(R))}}}function L0(M){let p,g,E,b,R,c=M[0]&&oh(M);return{c(){p=Q("div"),g=Q("b"),E=mt("v"),b=mt(M[1]),R=lt(),c&&c.c()},l(y){p=q(y,"DIV",{});var t=rt(p);g=q(t,"B",{});var o=rt(g);E=gt(o,"v"),b=gt(o,M[1]),o.forEach(K),R=ht(t),c&&c.l(t),t.forEach(K)},m(y,t){dt(y,p,t),V(p,g),V(g,E),V(g,b),V(p,R),c&&c.m(p,null)},p(y,[t]){y[0]?c?c.p(y,t):(c=oh(y),c.c(),c.m(p,null)):c&&(c.d(1),c=null)},i:Qt,o:Qt,d(y){y&&K(p),c&&c.d()}}}function F0(M,p,g){const E="1.0.1",b="2024-10-01 09:59:53";let{extended:R=!1}=p;return M.$$set=c=>{"extended"in c&&g(0,R=c.extended)},[R,E,b]}class gu extends Ee{constructor(p){super(),Ce(this,p,F0,L0,Se,{extended:0})}}function na(M){const p=M.slice(),g=p1();return p[8]=g,p}function O0(M){let p,g=`An entry for <a href="https://twitch.tv/nymn" target="_blank">NymN</a>&#39;s
        <a href="https://nymnion.github.io/game-jam/" target="_blank">Game Jam</a> event`;return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-1xmw8di"&&(p.innerHTML=g),this.h()},h(){W(p,"class","game-jam svelte-1ygtwkd")},m(E,b){dt(E,p,b)},d(E){E&&K(p)}}}function D0(M){let p,g=`<b class="svelte-1ygtwkd">Preview build:</b> some features may be incomplete
        <br/>or missing, and a bug or two may sneak in 🤷‍♂️`;return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-1qudng6"&&(p.innerHTML=g),this.h()},h(){W(p,"class","demo svelte-1ygtwkd")},m(E,b){dt(E,p,b)},d(E){E&&K(p)}}}function I0(M){let p;return{c(){p=mt("not_started")},l(g){p=gt(g,"not_started")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function lh(M){let p,g,E,b;const R=[G0,B0],c=[];function y(t,o){return t[8]>0?0:1}return p=y(M),g=c[p]=R[p](M),{c(){g.c(),E=Le()},l(t){g.l(t),E=Le()},m(t,o){c[p].m(t,o),dt(t,E,o),b=!0},p(t,o){g.p(t,o)},i(t){b||(Tt(g),b=!0)},o(t){Mt(g),b=!1},d(t){t&&K(E),c[p].d(t)}}}function B0(M){let p,g,E,b,R="Endless mode",c;return g=new fe({props:{size:"130%",$$slots:{default:[N0]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),E=lt(),b=Q("span"),b.textContent=R,this.h()},l(y){p=q(y,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var t=rt(p);$t(g.$$.fragment,t),E=ht(t),b=q(t,"SPAN",{"data-svelte-h":!0}),Ot(b)!=="svelte-1szi8ld"&&(b.textContent=R),t.forEach(K),this.h()},h(){W(p,"type","button"),W(p,"class","btn btn-info svelte-1ygtwkd"),W(p,"data-bs-toggle","modal"),W(p,"data-bs-target","#mdlEndless")},m(y,t){dt(y,p,t),Yt(g,p,null),V(p,E),V(p,b),c=!0},p(y,t){const o={};t&512&&(o.$$scope={dirty:t,ctx:y}),g.$set(o)},i(y){c||(Tt(g.$$.fragment,y),c=!0)},o(y){Mt(g.$$.fragment,y),c=!1},d(y){y&&K(p),Wt(g)}}}function G0(M){let p,g,E,b,R,c="Continue run",y,t,o,v,s,i,n,e;return g=new fe({props:{size:"130%",$$slots:{default:[V0]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),E=lt(),b=Q("div"),R=Q("div"),R.textContent=c,y=lt(),t=Q("small"),o=mt("Day "),v=Q("b"),s=mt(M[8]),this.h()},l(r){p=q(r,"BUTTON",{type:!0,class:!0});var l=rt(p);$t(g.$$.fragment,l),E=ht(l),b=q(l,"DIV",{class:!0});var a=rt(b);R=q(a,"DIV",{"data-svelte-h":!0}),Ot(R)!=="svelte-16zh82g"&&(R.textContent=c),y=ht(a),t=q(a,"SMALL",{class:!0});var h=rt(t);o=gt(h,"Day "),v=q(h,"B",{});var f=rt(v);s=gt(f,M[8]),f.forEach(K),h.forEach(K),a.forEach(K),l.forEach(K),this.h()},h(){W(t,"class","svelte-1ygtwkd"),W(b,"class","d-flex flex-column text-end"),W(p,"type","button"),W(p,"class","btn btn-info svelte-1ygtwkd")},m(r,l){dt(r,p,l),Yt(g,p,null),V(p,E),V(p,b),V(b,R),V(b,y),V(b,t),V(t,o),V(t,v),V(v,s),i=!0,n||(e=se(p,"click",M[5]),n=!0)},p(r,l){const a={};l&512&&(a.$$scope={dirty:l,ctx:r}),g.$set(a)},i(r){i||(Tt(g.$$.fragment,r),i=!0)},o(r){Mt(g.$$.fragment,r),i=!1},d(r){r&&K(p),Wt(g),n=!1,e()}}}function N0(M){let p;return{c(){p=mt("video_library")},l(g){p=gt(g,"video_library")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function V0(M){let p;return{c(){p=mt("video_library")},l(g){p=gt(g,"video_library")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function U0(M){let p;return{c(){p=mt("settings")},l(g){p=gt(g,"settings")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function z0(M){let p;return{c(){p=mt("question_mark")},l(g){p=gt(g,"question_mark")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function X0(M){let p;return{c(){p=mt("bug_report")},l(g){p=gt(g,"bug_report")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Y0(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l,a,h="New game",f,u,d,m,x,S,T="Settings",C,A,w,P,F,L="How to play",O,I,B,U,H,Z="Report a bug",tt,X,k,D,z;g=new mu({props:{blurry:!0}}),R=new gf({});let Y=M[3]&&O0(),j=M[2]&&D0();s=new gu({}),r=new fe({props:{size:"130%",$$slots:{default:[I0]},$$scope:{ctx:M}}});let J=M[1].endless&&lh(na(M));return m=new fe({props:{size:"130%",$$slots:{default:[U0]},$$scope:{ctx:M}}}),w=new fe({props:{size:"130%",$$slots:{default:[z0]},$$scope:{ctx:M}}}),B=new fe({props:{size:"130%",$$slots:{default:[X0]},$$scope:{ctx:M}}}),{c(){p=Q("section"),Xt(g.$$.fragment),E=lt(),b=Q("div"),Xt(R.$$.fragment),c=lt(),Y&&Y.c(),t=lt(),o=Q("div"),j&&j.c(),v=lt(),Xt(s.$$.fragment),i=lt(),n=Q("div"),e=Q("button"),Xt(r.$$.fragment),l=lt(),a=Q("span"),a.textContent=h,f=lt(),J&&J.c(),u=lt(),d=Q("button"),Xt(m.$$.fragment),x=lt(),S=Q("span"),S.textContent=T,C=lt(),A=Q("button"),Xt(w.$$.fragment),P=lt(),F=Q("span"),F.textContent=L,O=lt(),I=Q("button"),Xt(B.$$.fragment),U=lt(),H=Q("span"),H.textContent=Z,this.h()},l(it){p=q(it,"SECTION",{id:!0,class:!0});var st=rt(p);$t(g.$$.fragment,st),E=ht(st),b=q(st,"DIV",{class:!0});var at=rt(b);$t(R.$$.fragment,at),c=ht(at),Y&&Y.l(at),at.forEach(K),t=ht(st),o=q(st,"DIV",{class:!0});var ft=rt(o);j&&j.l(ft),v=ht(ft),$t(s.$$.fragment,ft),ft.forEach(K),i=ht(st),n=q(st,"DIV",{class:!0});var vt=rt(n);e=q(vt,"BUTTON",{type:!0,class:!0});var xt=rt(e);$t(r.$$.fragment,xt),l=ht(xt),a=q(xt,"SPAN",{"data-svelte-h":!0}),Ot(a)!=="svelte-1ukeily"&&(a.textContent=h),xt.forEach(K),f=ht(vt),J&&J.l(vt),u=ht(vt),d=q(vt,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var Ct=rt(d);$t(m.$$.fragment,Ct),x=ht(Ct),S=q(Ct,"SPAN",{"data-svelte-h":!0}),Ot(S)!=="svelte-1vto2yn"&&(S.textContent=T),Ct.forEach(K),C=ht(vt),A=q(vt,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var yt=rt(A);$t(w.$$.fragment,yt),P=ht(yt),F=q(yt,"SPAN",{"data-svelte-h":!0}),Ot(F)!=="svelte-17uvk0b"&&(F.textContent=L),yt.forEach(K),O=ht(vt),I=q(vt,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var Pt=rt(I);$t(B.$$.fragment,Pt),U=ht(Pt),H=q(Pt,"SPAN",{"data-svelte-h":!0}),Ot(H)!=="svelte-1vpnj4t"&&(H.textContent=Z),Pt.forEach(K),vt.forEach(K),st.forEach(K),this.h()},h(){W(b,"class","game-title svelte-1ygtwkd"),W(o,"class","build svelte-1ygtwkd"),W(e,"type","button"),W(e,"class","btn btn-primary svelte-1ygtwkd"),W(d,"type","button"),W(d,"class","btn btn-secondary svelte-1ygtwkd"),W(d,"data-bs-toggle","modal"),W(d,"data-bs-target","#mdlSettings"),W(A,"type","button"),W(A,"class","btn btn-secondary svelte-1ygtwkd"),W(A,"data-bs-toggle","modal"),W(A,"data-bs-target","#mdlHelp"),W(I,"type","button"),W(I,"class","btn btn-secondary svelte-1ygtwkd"),W(I,"data-bs-toggle","modal"),W(I,"data-bs-target","#mdlReportBug"),W(n,"class","menu-buttons svelte-1ygtwkd"),W(p,"id",M[0]),W(p,"class","svelte-1ygtwkd")},m(it,st){dt(it,p,st),Yt(g,p,null),V(p,E),V(p,b),Yt(R,b,null),V(b,c),Y&&Y.m(b,null),V(p,t),V(p,o),j&&j.m(o,null),V(o,v),Yt(s,o,null),V(p,i),V(p,n),V(n,e),Yt(r,e,null),V(e,l),V(e,a),V(n,f),J&&J.m(n,null),V(n,u),V(n,d),Yt(m,d,null),V(d,x),V(d,S),V(n,C),V(n,A),Yt(w,A,null),V(A,P),V(A,F),V(n,O),V(n,I),Yt(B,I,null),V(I,U),V(I,H),k=!0,D||(z=se(e,"click",M[4]),D=!0)},p(it,[st]){const at={};st&512&&(at.$$scope={dirty:st,ctx:it}),r.$set(at),it[1].endless?J?(J.p(na(it),st),st&2&&Tt(J,1)):(J=lh(na(it)),J.c(),Tt(J,1),J.m(n,u)):J&&(Ie(),Mt(J,1,1,()=>{J=null}),Be());const ft={};st&512&&(ft.$$scope={dirty:st,ctx:it}),m.$set(ft);const vt={};st&512&&(vt.$$scope={dirty:st,ctx:it}),w.$set(vt);const xt={};st&512&&(xt.$$scope={dirty:st,ctx:it}),B.$set(xt),(!k||st&1)&&W(p,"id",it[0])},i(it){k||(Tt(g.$$.fragment,it),Tt(R.$$.fragment,it),it&&(y||Ye(()=>{y=je(b,Oi,{duration:800,y:-300}),y.start()})),Tt(s.$$.fragment,it),Tt(r.$$.fragment,it),Tt(J),Tt(m.$$.fragment,it),Tt(w.$$.fragment,it),Tt(B.$$.fragment,it),it&&(tt||Ye(()=>{tt=je(n,Oi,{delay:500,duration:800,x:300}),tt.start()})),it&&(X||Ye(()=>{X=je(p,Ds,{}),X.start()})),k=!0)},o(it){Mt(g.$$.fragment,it),Mt(R.$$.fragment,it),Mt(s.$$.fragment,it),Mt(r.$$.fragment,it),Mt(J),Mt(m.$$.fragment,it),Mt(w.$$.fragment,it),Mt(B.$$.fragment,it),k=!1},d(it){it&&K(p),Wt(g),Wt(R),Y&&Y.d(),j&&j.d(),Wt(s),Wt(r),J&&J.d(),Wt(m),Wt(w),Wt(B),D=!1,z()}}}function W0(M,p,g){let E;We(M,Je,v=>g(1,E=v));let{id:b}=p;const R="1.0.1",c=R.startsWith("0.")||R.endsWith("b"),y=new Date<new Date("2024-11-01");function t(){console.info("Starting new game..."),xe.reset(!1).start()}function o(){console.info("Restoring ENDLESS game..."),xe.reset(!0).continueStoredEndlessRun().nextDay()}return M.$$set=v=>{"id"in v&&g(0,b=v.id)},[b,E,c,y,t,o]}class hh extends Ee{constructor(p){super(),Ce(this,p,W0,Y0,Se,{id:0})}}const{window:$0}=Ef;function H0(M){let p,g='<span class="visually-hidden">Loading...</span>';return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-17s1mvu"&&(p.innerHTML=g),this.h()},h(){W(p,"class","spinner-border text-secondary me-2"),W(p,"role","status"),W(p,"title","Loading...")},m(E,b){dt(E,p,b)},p:Qt,i:Qt,o:Qt,d(E){E&&K(p)}}}function k0(M){let p;function g(R,c){var y,t;return(y=R[0])!=null&&y.busy||(t=R[1])!=null&&t.busy?Z0:j0}let E=g(M),b=E(M);return{c(){b.c(),p=Le()},l(R){b.l(R),p=Le()},m(R,c){b.m(R,c),dt(R,p,c)},p(R,c){E===(E=g(R))&&b?b.p(R,c):(b.d(1),b=E(R),b&&(b.c(),b.m(p.parentNode,p)))},i:Qt,o:Qt,d(R){R&&K(p),b.d(R)}}}function K0(M){let p,g,E,b,R,c="Connected to:",y,t,o=M[0].channel+"",v,s,i,n,e,r,l={ctx:M,current:null,token:null,hasCatch:!0,pending:q0,then:Q0,catch:J0,value:6};ho(g=aa(M[0].channel),l);const a=[t1,_0],h=[];function f(u,d){return u[2].isStarted?0:1}return n=f(M),e=h[n]=a[n](M),{c(){p=Q("div"),l.block.c(),E=lt(),b=Q("div"),R=Q("span"),R.textContent=c,y=lt(),t=Q("b"),v=mt(o),s=lt(),i=Q("div"),e.c(),this.h()},l(u){p=q(u,"DIV",{class:!0});var d=rt(p);l.block.l(d),d.forEach(K),E=ht(u),b=q(u,"DIV",{class:!0});var m=rt(b);R=q(m,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(R)!=="svelte-4izmev"&&(R.textContent=c),y=ht(m),t=q(m,"B",{class:!0});var x=rt(t);v=gt(x,o),x.forEach(K),m.forEach(K),s=ht(u),i=q(u,"DIV",{class:!0});var S=rt(i);e.l(S),S.forEach(K),this.h()},h(){W(p,"class","my-auto me-2"),W(R,"class","d-block small-caption svelte-1jw0j1w"),W(t,"class","m-0"),W(b,"class","text-start"),W(i,"class","ms-auto")},m(u,d){dt(u,p,d),l.block.m(p,l.anchor=null),l.mount=()=>p,l.anchor=null,dt(u,E,d),dt(u,b,d),V(b,R),V(b,y),V(b,t),V(t,v),dt(u,s,d),dt(u,i,d),h[n].m(i,null),r=!0},p(u,d){M=u,l.ctx=M,d&1&&g!==(g=aa(M[0].channel))&&ho(g,l)||wf(l,M,d),(!r||d&1)&&o!==(o=M[0].channel+"")&&ie(v,o);let m=n;n=f(M),n===m?h[n].p(M,d):(Ie(),Mt(h[m],1,1,()=>{h[m]=null}),Be(),e=h[n],e?e.p(M,d):(e=h[n]=a[n](M),e.c()),Tt(e,1),e.m(i,null))},i(u){r||(Tt(l.block),Tt(e),r=!0)},o(u){Mt(e),r=!1},d(u){u&&(K(p),K(E),K(b),K(s),K(i)),l.block.d(),l.token=null,l=null,h[n].d()}}}function j0(M){let p,g='<img src="/pics/icons/twitch.svg" alt="Twitch" width="24" height="24" class="d-inline-block align-text-top"/> <span>Connect</span>',E,b;return{c(){p=Q("button"),p.innerHTML=g,this.h()},l(R){p=q(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-oikqqq"&&(p.innerHTML=g),this.h()},h(){W(p,"class","btn btn-twitch shadow svelte-1jw0j1w")},m(R,c){dt(R,p,c),E||(b=[se(p,"click",s1),Ei(Ci.call(null,p,{placement:"left",content:"Log in using your Twitch account"}))],E=!0)},p:Qt,d(R){R&&K(p),E=!1,hi(b)}}}function Z0(M){let p,g='<span class="visually-hidden">Connecting...</span>';return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-dsdgf8"&&(p.innerHTML=g),this.h()},h(){W(p,"class","spinner-border text-secondary me-2"),W(p,"role","status"),W(p,"title","Connecting...")},m(E,b){dt(E,p,b)},p:Qt,d(E){E&&K(p)}}}function J0(M){let p,g,E,b;return{c(){p=Q("img"),this.h()},l(R){p=q(R,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(p.src,g="/pics/portraits/wesker.webp")||W(p,"src",g),W(p,"alt",E=M[0].channel),W(p,"class","portrait svelte-1jw0j1w")},m(R,c){dt(R,p,c)},p(R,c){c&1&&E!==(E=R[0].channel)&&W(p,"alt",E)},i(R){R&&(b||Ye(()=>{b=je(p,ls,{duration:200}),b.start()}))},o:Qt,d(R){R&&K(p)}}}function Q0(M){let p,g,E,b;return{c(){p=Q("img"),this.h()},l(R){p=q(R,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(p.src,g=M[6].profile_image_url)||W(p,"src",g),W(p,"alt",E=M[0].channel),W(p,"class","portrait svelte-1jw0j1w")},m(R,c){dt(R,p,c)},p(R,c){c&1&&!Ae(p.src,g=R[6].profile_image_url)&&W(p,"src",g),c&1&&E!==(E=R[0].channel)&&W(p,"alt",E)},i(R){R&&(b||Ye(()=>{b=je(p,ls,{duration:200}),b.start()}))},o:Qt,d(R){R&&K(p)}}}function q0(M){let p,g='<span class="visually-hidden">Loading...</span>';return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-xdwo5"&&(p.innerHTML=g),this.h()},h(){W(p,"class","spinner-border text-secondary me-2 portrait svelte-1jw0j1w"),W(p,"role","status"),W(p,"title","Loading...")},m(E,b){dt(E,p,b)},p:Qt,i:Qt,o:Qt,d(E){E&&K(p)}}}function _0(M){let p,g,E,b,R="Disconnect",c,y,t,o;return g=new fe({props:{size:"120%",$$slots:{default:[e1]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),E=lt(),b=Q("span"),b.textContent=R,this.h()},l(v){p=q(v,"BUTTON",{class:!0});var s=rt(p);$t(g.$$.fragment,s),E=ht(s),b=q(s,"SPAN",{"data-svelte-h":!0}),Ot(b)!=="svelte-19inpfs"&&(b.textContent=R),s.forEach(K),this.h()},h(){W(p,"class","btn btn-outline btn-twitch text-start svelte-1jw0j1w"),p.disabled=c=M[2].isStarted},m(v,s){dt(v,p,s),Yt(g,p,null),V(p,E),V(p,b),y=!0,t||(o=[se(p,"click",M[5]),Ei(Ci.call(null,p,{placement:"left",content:"Disconnect from chat and log out"}))],t=!0)},p(v,s){const i={};s&128&&(i.$$scope={dirty:s,ctx:v}),g.$set(i),(!y||s&4&&c!==(c=v[2].isStarted))&&(p.disabled=c)},i(v){y||(Tt(g.$$.fragment,v),y=!0)},o(v){Mt(g.$$.fragment,v),y=!1},d(v){v&&K(p),Wt(g),t=!1,hi(o)}}}function t1(M){let p,g="Cannot disconnect during active game!";return{c(){p=Q("div"),p.textContent=g,this.h()},l(E){p=q(E,"DIV",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-9y0eym"&&(p.textContent=g),this.h()},h(){W(p,"class","text-warning opacity-50"),kt(p,"font-size",".75em")},m(E,b){dt(E,p,b)},p:Qt,i:Qt,o:Qt,d(E){E&&K(p)}}}function e1(M){let p;return{c(){p=mt("")},l(g){p=gt(g,"")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function i1(M){let p,g,E,b,R,c;const y=[K0,k0,H0],t=[];function o(v,s){var i,n,e,r;return(i=v[0])!=null&&i.connected&&((n=v[1])!=null&&n.valid)?0:!((e=v[0])!=null&&e.connected)&&!((r=v[1])!=null&&r.valid)?1:2}return g=o(M),E=t[g]=y[g](M),{c(){p=Q("div"),E.c(),this.h()},l(v){p=q(v,"DIV",{class:!0});var s=rt(p);E.l(s),s.forEach(K),this.h()},h(){W(p,"class","container px-2 py-1 svelte-1jw0j1w")},m(v,s){dt(v,p,s),t[g].m(p,null),b=!0,R||(c=se($0,"message",M[4]),R=!0)},p(v,[s]){let i=g;g=o(v),g===i?t[g].p(v,s):(Ie(),Mt(t[i],1,1,()=>{t[i]=null}),Be(),E=t[g],E?E.p(v,s):(E=t[g]=y[g](v),E.c()),Tt(E,1),E.m(p,null))},i(v){b||(Tt(E),b=!0)},o(v){Mt(E),b=!1},d(v){v&&K(p),t[g].d(),R=!1,c()}}}function s1(){var g,E;const M={left:(((g=window.screen)==null?void 0:g.width)||100)/3,top:(((E=window.screen)==null?void 0:E.height)||100)/3};M.width=Math.max(M.left,480),M.height=Math.max(M.top,360);let p="";for(const b in M)p+=`,${b}=${M[b]}`;window.open("authorize","_blank","popup"+p)}function n1(M,p,g){let E,b,R;We(M,wh,o=>g(0,E=o)),We(M,Oa,o=>g(1,b=o));const c=xe.state;We(M,c,o=>g(2,R=o));function y(o){if(!(!o.data||o.data.type!=="auth")){if(o.origin!==window.location.origin){console.warn("Event ignored: bad origin",o);return}o.data.result?Zi.doUserAuth(o.data.token):t()}}function t(){Zi.doUserAuth(null),xf("",!0)}return[E,b,R,c,y,t]}class xu extends Ee{constructor(p){super(),Ce(this,p,n1,i1,Se,{})}}function uh(M){let p,g,E,b,R,c;const y=[a1,r1],t=[];function o(v,s){return v[1]?0:1}return g=o(M),E=t[g]=y[g](M),{c(){p=Q("button"),E.c(),this.h()},l(v){p=q(v,"BUTTON",{class:!0});var s=rt(p);E.l(s),s.forEach(K),this.h()},h(){W(p,"class","btn btn-info mt-4"),p.disabled=M[1]},m(v,s){dt(v,p,s),t[g].m(p,null),b=!0,R||(c=se(p,"click",M[3]),R=!0)},p(v,s){let i=g;g=o(v),g!==i&&(Ie(),Mt(t[i],1,1,()=>{t[i]=null}),Be(),E=t[g],E||(E=t[g]=y[g](v),E.c()),Tt(E,1),E.m(p,null)),(!b||s&2)&&(p.disabled=v[1])},i(v){b||(Tt(E),b=!0)},o(v){Mt(E),b=!1},d(v){v&&K(p),t[g].d(),R=!1,c()}}}function r1(M){let p,g,E;return p=new fe({props:{size:"125%",$$slots:{default:[o1]},$$scope:{ctx:M}}}),{c(){Xt(p.$$.fragment),g=mt(" Confirm and start game")},l(b){$t(p.$$.fragment,b),g=gt(b," Confirm and start game")},m(b,R){Yt(p,b,R),dt(b,g,R),E=!0},i(b){E||(Tt(p.$$.fragment,b),E=!0)},o(b){Mt(p.$$.fragment,b),E=!1},d(b){b&&K(g),Wt(p,b)}}}function a1(M){let p,g='<span class="visually-hidden">Loading...</span>';return{c(){p=Q("div"),p.innerHTML=g,this.h()},l(E){p=q(E,"DIV",{class:!0,role:!0,title:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-f67dlm"&&(p.innerHTML=g),this.h()},h(){W(p,"class","spinner-border text-secondary me-2"),W(p,"role","status"),W(p,"title","Loading...")},m(E,b){dt(E,p,b)},i:Qt,o:Qt,d(E){E&&K(p)}}}function o1(M){let p;return{c(){p=mt("recommend")},l(g){p=gt(g,"recommend")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function l1(M){let p,g,E,b,R,c="Sign In Required",y,t,o="To play this game, you need to sign in with your Twitch account.",v,s,i="This allows making requests to Twitch for emotes, badges etc., and additionally you can play with your chat.",n,e,r,l,a="Click the button below to sign in with Twitch:",h,f,u,d,m,x;f=new xu({});let S=M[2].valid&&uh(M);return{c(){p=Q("div"),g=Q("div"),E=lt(),b=Q("div"),R=Q("h2"),R.textContent=c,y=lt(),t=Q("p"),t.textContent=o,v=lt(),s=Q("p"),s.textContent=i,n=lt(),e=Q("div"),r=lt(),l=Q("p"),l.textContent=a,h=lt(),Xt(f.$$.fragment),u=lt(),S&&S.c(),d=lt(),m=Q("div"),this.h()},l(T){p=q(T,"DIV",{class:!0,id:!0});var C=rt(p);g=q(C,"DIV",{class:!0}),rt(g).forEach(K),E=ht(C),b=q(C,"DIV",{class:!0});var A=rt(b);R=q(A,"H2",{class:!0,"data-svelte-h":!0}),Ot(R)!=="svelte-b3j0tg"&&(R.textContent=c),y=ht(A),t=q(A,"P",{"data-svelte-h":!0}),Ot(t)!=="svelte-1bigl3e"&&(t.textContent=o),v=ht(A),s=q(A,"P",{"data-svelte-h":!0}),Ot(s)!=="svelte-181w788"&&(s.textContent=i),n=ht(A),e=q(A,"DIV",{class:!0}),rt(e).forEach(K),r=ht(A),l=q(A,"P",{"data-svelte-h":!0}),Ot(l)!=="svelte-xfmz80"&&(l.textContent=a),h=ht(A),$t(f.$$.fragment,A),u=ht(A),S&&S.l(A),A.forEach(K),d=ht(C),m=q(C,"DIV",{class:!0}),rt(m).forEach(K),C.forEach(K),this.h()},h(){W(g,"class","col"),W(R,"class","mb-4"),W(e,"class","h-25"),W(b,"class","col-6 text-center d-flex flex-column align-items-center justify-content-center"),W(m,"class","col"),W(p,"class","container row m-auto h-100"),W(p,"id",M[0])},m(T,C){dt(T,p,C),V(p,g),V(p,E),V(p,b),V(b,R),V(b,y),V(b,t),V(b,v),V(b,s),V(b,n),V(b,e),V(b,r),V(b,l),V(b,h),Yt(f,b,null),V(b,u),S&&S.m(b,null),V(p,d),V(p,m),x=!0},p(T,[C]){T[2].valid?S?(S.p(T,C),C&4&&Tt(S,1)):(S=uh(T),S.c(),Tt(S,1),S.m(b,null)):S&&(Ie(),Mt(S,1,1,()=>{S=null}),Be()),(!x||C&1)&&W(p,"id",T[0])},i(T){x||(Tt(f.$$.fragment,T),Tt(S),x=!0)},o(T){Mt(f.$$.fragment,T),Mt(S),x=!1},d(T){T&&K(p),Wt(f),S&&S.d()}}}function h1(M,p,g){let E;We(M,Oa,y=>g(2,E=y));let{id:b}=p,R=!1;function c(){g(1,R=!0),fetch("https://g7eternal.com:7034/getRecent?login="+E.channel).catch(ri),Promise.all([gc(),xc(),Ac(),xe.init()]).then(()=>{g(1,R=!1)})}return ti(()=>{}),M.$$set=y=>{"id"in y&&g(0,b=y.id)},[b,R,E,c]}class u1 extends Ee{constructor(p){super(),Ce(this,p,h1,l1,Se,{id:0})}}function f1(M){let p;return{c(){p=mt("exit_to_app")},l(g){p=gt(g,"exit_to_app")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function d1(M){let p,g,E=`<h1 class="svelte-1gc0bkt">GAME OVER</h1> <p class="svelte-1gc0bkt"><small>(best ending)
        <img src="https://static-cdn.jtvnw.net/emoticons/v2/81997/static/light/2.0" alt="Kappa" class="svelte-1gc0bkt"/></small></p> <hr class="svelte-1gc0bkt"/> <h1 class="text-info svelte-1gc0bkt">Forsen is live!</h1> <h2 class="svelte-1gc0bkt">A game by <a href="https://g7eternal.com/" target="_blank" class="text-success">G7Eternal</a></h2> <p class="svelte-1gc0bkt">This game includes a mix of CC0-licensed assets from public websites, original content repurposed from my previous
      projects, and AI-generated content to ensure a unique experience.</p> <p class="svelte-1gc0bkt">The paragraph above was also AI-generated. Please don&#39;t sue me.</p> <p class="svelte-1gc0bkt">Huge thanks to everyone who helped with the game! Special shoutout to the
      <a href="https://twitch.tv/forsen" target="_blank">Forsen</a>&#39;s community, and to
      <a href="https://twitch.tv/nymn" target="_blank">NymN</a> - for creating an event which ignited the spark and let this
      project be born.</p> <p class="svelte-1gc0bkt">Another shoutout to <a href="https://twitch.tv/badoge" target="_blank">@badoge</a> - for creating and maintaining
      the awesome <a href="https://github.com/badoge/soundboard" target="_blank">Forsen Soundboard</a>
      project, and also allowing me to reuse some content from their <a href="https://chat.vote/games">Chat.vote</a> project.</p> <p class="svelte-1gc0bkt">Oh, also the people who helped with ideas and testing of this game. Your feedback was crucial! Thanks a ton!
      <img src="/pics/emotes/docl.webp" alt="love" class="svelte-1gc0bkt"/></p> <p class="svelte-1gc0bkt">Some of the feature were cut due to improper planning, but there&#39;s a chance this game might get some updates
      later. Stay tuned for more info!</p> <h2 class="svelte-1gc0bkt">Hope you enjoyed playing!</h2> <hr class="svelte-1gc0bkt"/> <p class="smaller svelte-1gc0bkt">Outro song: <a href="https://www.youtube.com/watch?v=Wk8uP7E_g8U" target="_blank">NymN - Forsen&#39;s UUHMMer Car</a></p>`,b,R,c,y,t,o,v,s,i;return y=new fe({props:{size:"120%",$$slots:{default:[f1]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("div"),g.innerHTML=E,b=lt(),R=Q("div"),c=Q("button"),Xt(y.$$.fragment),t=mt(" Return to main menu"),this.h()},l(n){p=q(n,"DIV",{class:!0});var e=rt(p);g=q(e,"DIV",{class:!0,"data-svelte-h":!0}),Ot(g)!=="svelte-1frer4b"&&(g.innerHTML=E),b=ht(e),R=q(e,"DIV",{class:!0});var r=rt(R);c=q(r,"BUTTON",{type:!0,class:!0});var l=rt(c);$t(y.$$.fragment,l),t=gt(l," Return to main menu"),l.forEach(K),r.forEach(K),e.forEach(K),this.h()},h(){W(g,"class","credits svelte-1gc0bkt"),W(c,"type","button"),W(c,"class","btn btn-outline-danger text-light"),W(R,"class","buttons svelte-1gc0bkt"),W(p,"class","backdrop svelte-1gc0bkt")},m(n,e){dt(n,p,e),V(p,g),V(p,b),V(p,R),V(R,c),Yt(y,c,null),V(c,t),v=!0,s||(i=se(c,"click",M[0]),s=!0)},p(n,[e]){const r={};e&4&&(r.$$scope={dirty:e,ctx:n}),y.$set(r)},i(n){v||(Tt(y.$$.fragment,n),n&&(o||Ye(()=>{o=je(R,Oi,{delay:8e3,duration:1e3,x:300}),o.start()})),v=!0)},o(n){Mt(y.$$.fragment,n),v=!1},d(n){n&&K(p),Wt(y),s=!1,i()}}}function c1(M){const p=new $e("credits","/sounds/music/credits.mp3");function g(){console.info("Credits screen ended. Ending this run."),p.stop().unload(),xe.stop()}return ti(()=>{p.load(),p.play(),p.once("end",g)}),[g]}class v1 extends Ee{constructor(p){super(),Ce(this,p,c1,d1,Se,{})}}const fh={rage:[5,15],loyalty:[70,90]},Rs={rage:110,loyalty:0,angry:85},Er="forsen-rage-ban-game.endless-run";function p1(){try{const M=localStorage.getItem(Er);return JSON.parse(M).day}catch{return 0}}class m1{constructor(){this._state={isInit:!1,isStarted:!1,isPaused:!1,isCamEnabled:!1,isEndless:!1,day:0,loyaltyScale:1,rageScale:1,stage:[ke.NONE,ke.NONE],rage:0,loyalty:0,isGameOver:!1,gameOverReason:"",gameOverDescription:""},this.state=ni(this._state),this.lifecycle=null,this.score=ni(0),this._realGameTime=0,this._targetStreamLength=360,this.gameTimeClock=us(this._realGameTime,{duration:12345,easing:Of}),this._overworking=null,this.forsen=null,this._soundLevel=0,Je.subscribe(p=>{this._soundLevel=p.volSound/100}),this.heartbeatSound=null,this.spawner=new Jg(this),this.gameIntervals={},this.mountedComponent=ni(u1),this.gameOverChecker=null,this.videolinks=[],this.seenVideos=new Set,this.gamesToday=[],this.activeMinigame=ni(null)}getEndlessRunData(){try{const p=localStorage.getItem(Er);return JSON.parse(p)}catch(p){console.warn("Failed to get stored endless run data",p)}return null}storeEndlessRunData(){if(!this._state.isEndless)return null;const p={day:this._state.day,rage:this._state.rage,rageScale:this._state.rageScale,loyalty:this._state.loyalty,loyaltyScale:this._state.loyaltyScale,_videos:Array.from(this.seenVideos).join(";")};return this._state.day>1&&localStorage.setItem(Er,JSON.stringify(p)),p}init(){if(this._state.isInit)throw new Error("GameInstance is already initialized");return this.forsen=new vu,this.lifecycle=new wg(this),this.heartbeatSound=new $e("forsen-heartbeat","/sounds/heartbeat.mp3"),this.heartbeatSound.sound.loop(!0),this.heartbeatSound._volumeSubscription(),this.heartbeatSound._volumeSubscription=this.state.subscribe(p=>{const g=1.15*(p.rage-Rs.angry)/(Rs.rage-Rs.angry);this.heartbeatSound.sound.volume(Math.max(0,g*this._soundLevel))}),document.addEventListener("visibilitychange",()=>{this._state.isStarted&&document.hidden&&this.pause()}),this.mountedComponent.set(hh),this.state.update(p=>(p.isInit=!0,p)),setTimeout(()=>$s.init().play(),100),this}reset(p=!1){this.seenVideos.clear(),this.state.update(E=>{for(const b in fh)E[b]=re(...fh[b]);return E.isStarted=!0,E.isPaused=!1,E.isGameOver=!1,E.isCamEnabled=!1,E.isEndless=!!p,E.day=0,E.rageScale=1,E.loyaltyScale=1,E}),fo(),this.mountedComponent.set(R0);const g=new Kn;return this._overworking=new Pi(()=>{this._targetStreamLength-this._realGameTime<-25&&g.modifyRage(3)},3e3),this.heartbeatSound.play(),window.onbeforeunload=E=>(this.pause(),E.returnValue="Are you sure you want to abandon current game? Progress will not be saved!",E.returnValue),this}continueStoredEndlessRun(){const p=this.getEndlessRunData();if(p)return this.state.update(g=>{for(const E in p)if(E==="_videos"){const b=p[E].split(";");for(const R of b)this.seenVideos.add(R)}else g[E]=p[E];return g.day-=1,g._isRestoredFromLS=!0,g}),this}start(){if(this.score.set(0),this.gameTimeClock.set(-5,{duration:0}),this.timePasses(re(16,22),12345),this.videolinks=Dp(),this._state.isEndless&&this.seenVideos.size>0&&Math.random()>.5){const p=Array.from(this.seenVideos),g=Op(He(p));g&&this.videolinks.splice(re(this.videolinks.length),0,g)}return this.gamesToday=Ip(),this.forsen._wasExternallyPaused=!1,this.forsen.resetPepepainsTimer(),this.lifecycle.advanceTo(ke.START),this}stop(){var p;this.gameOverChecker&&this.gameOverChecker(),this.spawner.stop(),this.heartbeatSound.stop(),this.forsen.stfu(),this.activeMinigame.update(g=>(g&&g.destroy(),null)),this._realGameTime=0,this.gameTimeClock.set(this._realGameTime,{duration:0}),(p=this._overworking)==null||p.clear(),window.onbeforeunload=null,this.mountedComponent.set(hh),$s.stop().play();for(const g in this.gameIntervals)clearInterval(this.gameIntervals[g]),delete this.gameIntervals[g];return this.state.update(g=>(g.isStarted=!1,g)),this.lifecycle.reset(),this}nextDay(){return this.spawner.stop(!1),this.state.update(p=>(p.day+=1,p._isRestoredFromLS?delete p._isRestoredFromLS:p.day>1?(p.rageScale=.75+Math.sqrt(p.day)/3-.25+Math.random()*.5,p.loyaltyScale=.75+Math.sqrt(p.day)/3-.25+Math.random()*.5):(p.rageScale=.75+Math.min(.25,Math.random()/2),p.loyaltyScale=.75+Math.min(.25,Math.random()/2)),p)),this.storeEndlessRunData(),this.start()}showCredits(){return this.stop(),$s.stop(),this.mountedComponent.set(v1),this}pause(){return window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()),Df(),$s.pause(),this.spawner.pause(),this.forsen.pause(),this.heartbeatSound.pause(),this.activeMinigame.update(p=>(p==null||p.pauseGame(),p)),this.state.update(p=>(p.isPaused=!0,p)),this}unpause(){return fo(),$s.resume(),this.spawner.resume(),this.forsen.unpause(),this.heartbeatSound.play(),this.activeMinigame.update(p=>(p==null||p.resumeGame(),p)),this.state.update(p=>(p.isPaused=!1,p)),this}timePasses(p=1,g=1e4){return this.gameTimeClock.update(E=>(this._realGameTime=E+p|0,this._realGameTime),{duration:g}),this}gameOver(p="wasted"){this._state.isGameOver||(this.pause(),$s.stop(),this.spawner.stop(),this.heartbeatSound.stop(),this.state.update(g=>{var R;g.isGameOver=!0,g.gameOverReason=p;let E="";const b=(R=this.lifecycle.stage[0])==null?void 0:R.toUpperCase();return g.rage>=Rs.rage&&(E=Wl.rage[b]||"You finally lost it... Next time take a chill pill"),g.loyalty<=Rs.loyalty&&(E=Wl.loyalty[b]||"Bajs left long ago. Now you can finally retire"),g.gameOverDescription=E,g.isEndless&&localStorage.removeItem(Er),console.info("Game over! |",p,"|",E),g}))}}const xe=new m1;function dh(M){let p,g,E,b,R,c,y=Xn;return E=new fe({props:{size:"120%",$$slots:{default:[g1]},$$scope:{ctx:M}}}),{c(){p=lt(),g=Q("button"),Xt(E.$$.fragment),this.h()},l(t){p=ht(t),g=q(t,"BUTTON",{type:!0,class:!0});var o=rt(g);$t(E.$$.fragment,o),o.forEach(K),this.h()},h(){W(g,"type","button"),W(g,"class","btn btn-dark svelte-9w2aad")},m(t,o){dt(t,p,o),dt(t,g,o),Yt(E,g,null),b=!0,R||(c=[se(g,"click",M[3]),Ei(Ci.call(null,g,{content:"Pause game"}))],R=!0)},p(t,o){const v={};o&128&&(v.$$scope={dirty:o,ctx:t}),E.$set(v)},i(t){b||(Tt(y),Tt(E.$$.fragment,t),b=!0)},o(t){Mt(y),Mt(E.$$.fragment,t),b=!1},d(t){t&&(K(p),K(g)),Wt(E),R=!1,hi(c)}}}function g1(M){let p;return{c(){p=mt("menu_open")},l(g){p=gt(g,"menu_open")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function x1(M){let p,g,E,b,R;return g=new fe({props:{size:"120%",$$slots:{default:[y1]},$$scope:{ctx:M}}}),{c(){p=Q("button"),Xt(g.$$.fragment),this.h()},l(c){p=q(c,"BUTTON",{type:!0,class:!0});var y=rt(p);$t(g.$$.fragment,y),y.forEach(K),this.h()},h(){W(p,"type","button"),W(p,"class","btn btn-dark svelte-9w2aad")},m(c,y){dt(c,p,y),Yt(g,p,null),E=!0,b||(R=[se(p,"click",M[4]),Ei(Ci.call(null,p,{content:"Toggle fullscreen"}))],b=!0)},p(c,y){const t={};y&129&&(t.$$scope={dirty:y,ctx:c}),g.$set(t)},i(c){E||(Tt(g.$$.fragment,c),E=!0)},o(c){Mt(g.$$.fragment,c),E=!1},d(c){c&&K(p),Wt(g),b=!1,hi(R)}}}function y1(M){let p;return{c(){p=mt(M[0])},l(g){p=gt(g,M[0])},m(g,E){dt(g,p,E)},p(g,E){E&1&&ie(p,g[0])},d(g){g&&K(p)}}}function T1(M){let p,g,E,b=M[1].isStarted&&!M[1].isPaused&&dh(M),R=document.fullscreenEnabled&&x1(M);return{c(){p=Q("div"),b&&b.c(),g=lt(),R&&R.c(),this.h()},l(c){p=q(c,"DIV",{class:!0});var y=rt(p);b&&b.l(y),g=ht(y),R&&R.l(y),y.forEach(K),this.h()},h(){W(p,"class","pinned-buttons svelte-9w2aad")},m(c,y){dt(c,p,y),b&&b.m(p,null),V(p,g),R&&R.m(p,null),E=!0},p(c,[y]){c[1].isStarted&&!c[1].isPaused?b?(b.p(c,y),y&2&&Tt(b,1)):(b=dh(c),b.c(),Tt(b,1),b.m(p,g)):b&&(Ie(),Mt(b,1,1,()=>{b=null}),Be()),document.fullscreenEnabled&&R.p(c,y)},i(c){E||(Tt(b),Tt(R),E=!0)},o(c){Mt(b),Mt(R),E=!1},d(c){c&&K(p),b&&b.d(),R&&R.d()}}}function S1(M,p,g){let E,b="fullscreen";const R=xe.state;We(M,R,v=>g(1,E=v));function c(){xe.pause()}async function y(){try{document.fullscreenElement?(await document.exitFullscreen(),g(0,b="fullscreen")):(await document.getElementById("fullscreener").requestFullscreen(),g(0,b="fullscreen_exit"))}catch(v){console.error("Fullscreen toggle failed",v)}}return[b,E,R,c,y,()=>{var v,s;return(s=xe.forsen.speech)==null?void 0:s.sound.seek(((v=xe.forsen.speech)==null?void 0:v.sound.duration())-.1)},()=>xe.gameOver()]}class E1 extends Ee{constructor(p){super(),Ce(this,p,S1,T1,Se,{})}}function C1(M){let p;return{c(){p=mt("settings")},l(g){p=gt(g,"settings")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function A1(M){let p;return{c(){p=mt("hearing")},l(g){p=gt(g,"hearing")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function M1(M){let p;return{c(){p=mt("volume_up")},l(g){p=gt(g,"volume_up")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function w1(M){let p;return{c(){p=mt("play_circle")},l(g){p=gt(g,"play_circle")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function b1(M){let p;return{c(){p=mt("notifications_active")},l(g){p=gt(g,"notifications_active")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function P1(M){let p;return{c(){p=mt("play_circle")},l(g){p=gt(g,"play_circle")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function R1(M){let p;return{c(){p=mt("music_note")},l(g){p=gt(g,"music_note")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function L1(M){let p;return{c(){p=mt("play_circle")},l(g){p=gt(g,"play_circle")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function F1(M){let p;return{c(){p=mt("mic")},l(g){p=gt(g,"mic")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function O1(M){let p;return{c(){p=mt("play_circle")},l(g){p=gt(g,"play_circle")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function D1(M){let p;return{c(){p=mt("lightbulb")},l(g){p=gt(g,"lightbulb")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function I1(M){let p;return{c(){p=mt("live_help")},l(g){p=gt(g,"live_help")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function B1(M){let p;return{c(){p=mt("live_tv")},l(g){p=gt(g,"live_tv")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function G1(M){let p,g,E,b,R,c,y="<b>Refresh</b> the web page to retry connection.",t;return E=new fe({props:{size:"120%",$$slots:{default:[V1]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("p"),Xt(E.$$.fragment),b=mt(" Failed to connect to Twitch, some options are unavailable."),R=lt(),c=Q("p"),c.innerHTML=y,this.h()},l(o){p=q(o,"DIV",{class:!0});var v=rt(p);g=q(v,"P",{class:!0});var s=rt(g);$t(E.$$.fragment,s),b=gt(s," Failed to connect to Twitch, some options are unavailable."),s.forEach(K),R=ht(v),c=q(v,"P",{class:!0,"data-svelte-h":!0}),Ot(c)!=="svelte-i8jcz9"&&(c.innerHTML=y),v.forEach(K),this.h()},h(){W(g,"class","text-warning"),W(c,"class","text-muted"),W(p,"class","text-center my-4")},m(o,v){dt(o,p,v),V(p,g),Yt(E,g,null),V(g,b),V(p,R),V(p,c),t=!0},p(o,v){const s={};v&262144&&(s.$$scope={dirty:v,ctx:o}),E.$set(s)},i(o){t||(Tt(E.$$.fragment,o),t=!0)},o(o){Mt(E.$$.fragment,o),t=!1},d(o){o&&K(p),Wt(E)}}}function N1(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l,a="Messages will appear in game; you'll be able to ban the real author",h,f,u,d;g=new xu({}),s=new fe({props:{size:"125%",$$slots:{default:[U1]},$$scope:{ctx:M}}});let m=M[0].chatIntegration&&ch(M);return{c(){p=Q("div"),Xt(g.$$.fragment),E=lt(),b=Q("div"),R=Q("div"),c=Q("div"),y=Q("input"),o=lt(),v=Q("label"),Xt(s.$$.fragment),i=mt(" Enable chat integration"),n=lt(),e=Q("br"),r=lt(),l=Q("small"),l.textContent=a,h=lt(),m&&m.c(),this.h()},l(x){p=q(x,"DIV",{class:!0});var S=rt(p);$t(g.$$.fragment,S),S.forEach(K),E=ht(x),b=q(x,"DIV",{class:!0});var T=rt(b);R=q(T,"DIV",{class:!0});var C=rt(R);c=q(C,"DIV",{class:!0});var A=rt(c);y=q(A,"INPUT",{class:!0,type:!0,id:!0}),o=ht(A),v=q(A,"LABEL",{class:!0,for:!0});var w=rt(v);$t(s.$$.fragment,w),i=gt(w," Enable chat integration"),w.forEach(K),n=ht(A),e=q(A,"BR",{}),r=ht(A),l=q(A,"SMALL",{class:!0,"data-svelte-h":!0}),Ot(l)!=="svelte-1ugtx5r"&&(l.textContent=a),A.forEach(K),h=ht(C),m&&m.l(C),C.forEach(K),T.forEach(K),this.h()},h(){W(p,"class","w-100 d-flex align-items-center justify-content-center"),W(y,"class","form-check-input svelte-ae4d1"),W(y,"type","checkbox"),W(y,"id","opt_ChatIntegration"),y.checked=t=M[0].chatIntegration,W(v,"class","form-check-label svelte-ae4d1"),W(v,"for","opt_ChatIntegration"),W(l,"class","form-text svelte-ae4d1"),W(c,"class","form-check form-switch"),W(R,"class","option-block svelte-ae4d1"),W(b,"class","px-2")},m(x,S){dt(x,p,S),Yt(g,p,null),dt(x,E,S),dt(x,b,S),V(b,R),V(R,c),V(c,y),V(c,o),V(c,v),Yt(s,v,null),V(v,i),V(c,n),V(c,e),V(c,r),V(c,l),V(R,h),m&&m.m(R,null),f=!0,u||(d=se(y,"change",M[12]),u=!0)},p(x,S){(!f||S&1&&t!==(t=x[0].chatIntegration))&&(y.checked=t);const T={};S&262144&&(T.$$scope={dirty:S,ctx:x}),s.$set(T),x[0].chatIntegration?m?(m.p(x,S),S&1&&Tt(m,1)):(m=ch(x),m.c(),Tt(m,1),m.m(R,null)):m&&(Ie(),Mt(m,1,1,()=>{m=null}),Be())},i(x){f||(Tt(g.$$.fragment,x),Tt(s.$$.fragment,x),Tt(m),f=!0)},o(x){Mt(g.$$.fragment,x),Mt(s.$$.fragment,x),Mt(m),f=!1},d(x){x&&(K(p),K(E),K(b)),Wt(g),Wt(s),m&&m.d(),u=!1,d()}}}function V1(M){let p;return{c(){p=mt("warning")},l(g){p=gt(g,"warning")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function U1(M){let p;return{c(){p=mt("forum")},l(g){p=gt(g,"forum")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function ch(M){let p,g,E,b,R,c,y,t,o,v,s,i="Messages from mods appear in game, and you can ban them too",n,e,r,l,a,h,f,u,d="None",m,x="Timeout",S,T="Warning",C,A,w,P=M[2][M[0].chatPunishment]+"",F,L,O,I,B;c=new fe({props:{size:"125%",$$slots:{default:[z1]},$$scope:{ctx:M}}}),l=new fe({props:{size:"125%",$$slots:{default:[X1]},$$scope:{ctx:M}}});let U=M[0].chatPunishment==="timeout"&&vh(M);return{c(){p=Q("div"),g=Q("input"),b=lt(),R=Q("label"),Xt(c.$$.fragment),y=mt(" Include moderator messages"),t=lt(),o=Q("br"),v=lt(),s=Q("small"),s.textContent=i,n=lt(),e=Q("div"),r=Q("label"),Xt(l.$$.fragment),a=mt(" Punishment:"),h=lt(),f=Q("select"),u=Q("option"),u.textContent=d,m=Q("option"),m.textContent=x,S=Q("option"),S.textContent=T,C=lt(),A=Q("small"),w=new mh(!1),F=lt(),U&&U.c(),L=Le(),this.h()},l(H){p=q(H,"DIV",{class:!0});var Z=rt(p);g=q(Z,"INPUT",{class:!0,type:!0,id:!0}),b=ht(Z),R=q(Z,"LABEL",{class:!0,for:!0});var tt=rt(R);$t(c.$$.fragment,tt),y=gt(tt," Include moderator messages"),tt.forEach(K),t=ht(Z),o=q(Z,"BR",{}),v=ht(Z),s=q(Z,"SMALL",{class:!0,"data-svelte-h":!0}),Ot(s)!=="svelte-1osc4tj"&&(s.textContent=i),Z.forEach(K),n=ht(H),e=q(H,"DIV",{class:!0});var X=rt(e);r=q(X,"LABEL",{class:!0,for:!0});var k=rt(r);$t(l.$$.fragment,k),a=gt(k," Punishment:"),k.forEach(K),h=ht(X),f=q(X,"SELECT",{class:!0,id:!0});var D=rt(f);u=q(D,"OPTION",{"data-svelte-h":!0}),Ot(u)!=="svelte-1vbnolo"&&(u.textContent=d),m=q(D,"OPTION",{"data-svelte-h":!0}),Ot(m)!=="svelte-15hyh9c"&&(m.textContent=x),S=q(D,"OPTION",{"data-svelte-h":!0}),Ot(S)!=="svelte-5w6lnu"&&(S.textContent=T),D.forEach(K),C=ht(X),A=q(X,"SMALL",{class:!0});var z=rt(A);w=gh(z,!1),z.forEach(K),X.forEach(K),F=ht(H),U&&U.l(H),L=Le(),this.h()},h(){W(g,"class","form-check-input svelte-ae4d1"),W(g,"type","checkbox"),W(g,"id","opt_ChatIncludeMods"),g.checked=E=M[0].chatIncludeMods,W(R,"class","form-check-label svelte-ae4d1"),W(R,"for","opt_ChatIncludeMods"),W(s,"class","form-text svelte-ae4d1"),W(p,"class","form-check form-switch"),W(r,"class","form-check-label svelte-ae4d1"),W(r,"for","opt_ChatPunishment"),u.__value="",ci(u,u.__value),m.__value="timeout",ci(m,m.__value),S.__value="warning",ci(S,S.__value),W(f,"class","form-select mt-1 svelte-ae4d1"),W(f,"id","opt_ChatPunishment"),M[0].chatPunishment===void 0&&Ye(()=>M[14].call(f)),w.a=null,W(A,"class","form-text svelte-ae4d1"),W(e,"class","form-check form-switch")},m(H,Z){dt(H,p,Z),V(p,g),V(p,b),V(p,R),Yt(c,R,null),V(R,y),V(p,t),V(p,o),V(p,v),V(p,s),dt(H,n,Z),dt(H,e,Z),V(e,r),Yt(l,r,null),V(r,a),V(e,h),V(e,f),V(f,u),V(f,m),V(f,S),so(f,M[0].chatPunishment,!0),V(e,C),V(e,A),w.m(P,A),dt(H,F,Z),U&&U.m(H,Z),dt(H,L,Z),O=!0,I||(B=[se(g,"change",M[13]),se(f,"change",M[14])],I=!0)},p(H,Z){(!O||Z&1&&E!==(E=H[0].chatIncludeMods))&&(g.checked=E);const tt={};Z&262144&&(tt.$$scope={dirty:Z,ctx:H}),c.$set(tt);const X={};Z&262144&&(X.$$scope={dirty:Z,ctx:H}),l.$set(X),Z&1&&so(f,H[0].chatPunishment),(!O||Z&1)&&P!==(P=H[2][H[0].chatPunishment]+"")&&w.p(P),H[0].chatPunishment==="timeout"?U?(U.p(H,Z),Z&1&&Tt(U,1)):(U=vh(H),U.c(),Tt(U,1),U.m(L.parentNode,L)):U&&(Ie(),Mt(U,1,1,()=>{U=null}),Be())},i(H){O||(Tt(c.$$.fragment,H),Tt(l.$$.fragment,H),Tt(U),O=!0)},o(H){Mt(c.$$.fragment,H),Mt(l.$$.fragment,H),Mt(U),O=!1},d(H){H&&(K(p),K(n),K(e),K(F),K(L)),Wt(c),Wt(l),U&&U.d(H),I=!1,hi(B)}}}function z1(M){let p;return{c(){p=mt("add_moderator")},l(g){p=gt(g,"add_moderator")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function X1(M){let p;return{c(){p=mt("sms_failed")},l(g){p=gt(g,"sms_failed")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function vh(M){let p,g,E,b,R,c,y,t,o,v="seconds",s,i,n;return E=new fe({props:{size:"125%",$$slots:{default:[Y1]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("label"),Xt(E.$$.fragment),b=mt(" Timeout duration:"),R=lt(),c=Q("div"),y=Q("input"),t=lt(),o=Q("span"),o.textContent=v,this.h()},l(e){p=q(e,"DIV",{class:!0});var r=rt(p);g=q(r,"LABEL",{class:!0,for:!0});var l=rt(g);$t(E.$$.fragment,l),b=gt(l," Timeout duration:"),l.forEach(K),R=ht(r),c=q(r,"DIV",{class:!0});var a=rt(c);y=q(a,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,min:!0,max:!0,step:!0}),t=ht(a),o=q(a,"SPAN",{class:!0,"data-svelte-h":!0}),Ot(o)!=="svelte-17ah2ah"&&(o.textContent=v),a.forEach(K),r.forEach(K),this.h()},h(){W(g,"class","form-check-label svelte-ae4d1"),W(g,"for","opt_chatTimeout"),W(y,"type","number"),W(y,"class","form-control svelte-ae4d1"),W(y,"placeholder","0"),W(y,"id","opt_chatTimeout"),W(y,"min","0"),W(y,"max","1209600"),W(y,"step","1"),W(o,"class","input-group-text w-50"),W(c,"class","input-group mt-1"),W(p,"class","form-check form-switch")},m(e,r){dt(e,p,r),V(p,g),Yt(E,g,null),V(g,b),V(p,R),V(p,c),V(c,y),ci(y,M[0].chatTimeout),V(c,t),V(c,o),s=!0,i||(n=se(y,"input",M[15]),i=!0)},p(e,r){const l={};r&262144&&(l.$$scope={dirty:r,ctx:e}),E.$set(l),r&1&&bs(y.value)!==e[0].chatTimeout&&ci(y,e[0].chatTimeout)},i(e){s||(Tt(E.$$.fragment,e),s=!0)},o(e){Mt(E.$$.fragment,e),s=!1},d(e){e&&K(p),Wt(E),i=!1,n()}}}function Y1(M){let p;return{c(){p=mt("safety_check")},l(g){p=gt(g,"safety_check")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function W1(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l,a,h,f,u,d,m,x,S,T,C=M[0].volume+"",A,w,P,F,L,O,I,B,U,H,Z,tt,X,k,D=M[0].volSound+"",z,Y,j,J,it,st,at,ft,vt,xt,Ct,yt,Pt,Gt,Ut=M[0].volMusic+"",Nt,wt,Dt,Rt,Ht,qt,ee,te,oe,Vt,jt,It,Ft,St,At=M[0].volForsen+"",Lt,ae,Jt,ge,ye,Me,zt,ne,be,Oe,Fe,de,we,Ve,Ue,li,Ze,pi,ei="Toggles light/dark mode for the page",ze,Ge,ii,mi,ve,Qe,me,Ai,xi,Ss,ds,Di,Zs="Displays a small hint whenever you make a mistake",gn,xn,Yi,Qi,qi,Js,Qs,ui,yi,Ns,cs,vs,Mi,yn,qs;b=new fe({props:{size:"24px",$$slots:{default:[C1]},$$scope:{ctx:M}}}),r=new fe({props:{size:"125%",$$slots:{default:[A1]},$$scope:{ctx:M}}}),u=new fe({props:{size:"125%",$$slots:{default:[M1]},$$scope:{ctx:M}}}),L=new fe({props:{size:"125%",$$slots:{default:[w1]},$$scope:{ctx:M}}}),U=new fe({props:{size:"125%",$$slots:{default:[b1]},$$scope:{ctx:M}}}),it=new fe({props:{size:"125%",$$slots:{default:[P1]},$$scope:{ctx:M}}}),vt=new fe({props:{size:"125%",$$slots:{default:[R1]},$$scope:{ctx:M}}}),Ht=new fe({props:{size:"125%",$$slots:{default:[L1]},$$scope:{ctx:M}}}),oe=new fe({props:{size:"125%",$$slots:{default:[F1]},$$scope:{ctx:M}}}),ye=new fe({props:{size:"125%",$$slots:{default:[O1]},$$scope:{ctx:M}}}),we=new fe({props:{size:"125%",$$slots:{default:[D1]},$$scope:{ctx:M}}}),me=new fe({props:{size:"125%",$$slots:{default:[I1]},$$scope:{ctx:M}}}),qi=new fe({props:{$$slots:{default:[B1]},$$scope:{ctx:M}}});const Zn=[N1,G1],_i=[];function Jn(he,Pe){return he[1].init?0:1}return ui=Jn(M),yi=_i[ui]=Zn[ui](M),vs=new gu({props:{extended:!0}}),{c(){p=Q("div"),g=Q("div"),E=Q("h5"),Xt(b.$$.fragment),R=mt(" Settings"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),v=Q("div"),s=Q("div"),i=Q("div"),n=Q("div"),e=Q("h6"),Xt(r.$$.fragment),l=mt(" Volume levels"),a=lt(),h=Q("div"),f=Q("label"),Xt(u.$$.fragment),d=mt(" Global"),m=lt(),x=Q("input"),S=lt(),T=Q("span"),A=mt(C),w=mt("%"),P=lt(),F=Q("button"),Xt(L.$$.fragment),O=lt(),I=Q("div"),B=Q("label"),Xt(U.$$.fragment),H=mt(" Sounds"),Z=lt(),tt=Q("input"),X=lt(),k=Q("span"),z=mt(D),Y=mt("%"),j=lt(),J=Q("button"),Xt(it.$$.fragment),st=lt(),at=Q("div"),ft=Q("label"),Xt(vt.$$.fragment),xt=mt(" Music"),Ct=lt(),yt=Q("input"),Pt=lt(),Gt=Q("span"),Nt=mt(Ut),wt=mt("%"),Dt=lt(),Rt=Q("button"),Xt(Ht.$$.fragment),qt=lt(),ee=Q("div"),te=Q("label"),Xt(oe.$$.fragment),Vt=mt(" Forsen"),jt=lt(),It=Q("input"),Ft=lt(),St=Q("span"),Lt=mt(At),ae=mt("%"),Jt=lt(),ge=Q("button"),Xt(ye.$$.fragment),Me=lt(),zt=Q("div"),ne=Q("div"),be=Q("input"),Fe=lt(),de=Q("label"),Xt(we.$$.fragment),Ve=mt(" Dark theme"),Ue=lt(),li=Q("br"),Ze=lt(),pi=Q("small"),pi.textContent=ei,ze=lt(),Ge=Q("div"),ii=Q("input"),ve=lt(),Qe=Q("label"),Xt(me.$$.fragment),Ai=mt(" Show tips"),xi=lt(),Ss=Q("br"),ds=lt(),Di=Q("small"),Di.textContent=Zs,gn=lt(),xn=lt(),Yi=Q("div"),Qi=Q("h5"),Xt(qi.$$.fragment),Js=mt(" Twitch integration"),Qs=lt(),yi.c(),Ns=lt(),cs=Q("div"),Xt(vs.$$.fragment),this.h()},l(he){p=q(he,"DIV",{class:!0});var Pe=rt(p);g=q(Pe,"DIV",{class:!0});var ts=rt(g);E=q(ts,"H5",{class:!0,id:!0});var Wi=rt(E);$t(b.$$.fragment,Wi),R=gt(Wi," Settings"),Wi.forEach(K),c=ht(ts),y=q(ts,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),rt(y).forEach(K),ts.forEach(K),t=ht(Pe),o=q(Pe,"DIV",{class:!0});var wi=rt(o);v=q(wi,"DIV",{class:!0});var ps=rt(v);s=q(ps,"DIV",{class:!0});var Vi=rt(s);i=q(Vi,"DIV",{class:!0});var fi=rt(i);n=q(fi,"DIV",{class:!0});var oi=rt(n);e=q(oi,"H6",{class:!0});var Es=rt(e);$t(r.$$.fragment,Es),l=gt(Es," Volume levels"),Es.forEach(K),a=ht(oi),h=q(oi,"DIV",{class:!0});var bi=rt(h);f=q(bi,"LABEL",{for:!0,class:!0});var ms=rt(f);$t(u.$$.fragment,ms),d=gt(ms," Global"),ms.forEach(K),m=ht(bi),x=q(bi,"INPUT",{type:!0,class:!0,id:!0}),S=ht(bi),T=q(bi,"SPAN",{class:!0});var es=rt(T);A=gt(es,C),w=gt(es,"%"),es.forEach(K),P=ht(bi),F=q(bi,"BUTTON",{class:!0});var Vs=rt(F);$t(L.$$.fragment,Vs),Vs.forEach(K),bi.forEach(K),O=ht(oi),I=q(oi,"DIV",{class:!0});var Ii=rt(I);B=q(Ii,"LABEL",{for:!0,class:!0});var is=rt(B);$t(U.$$.fragment,is),H=gt(is," Sounds"),is.forEach(K),Z=ht(Ii),tt=q(Ii,"INPUT",{type:!0,class:!0,id:!0}),X=ht(Ii),k=q(Ii,"SPAN",{class:!0});var Tn=rt(k);z=gt(Tn,D),Y=gt(Tn,"%"),Tn.forEach(K),j=ht(Ii),J=q(Ii,"BUTTON",{class:!0});var Qn=rt(J);$t(it.$$.fragment,Qn),Qn.forEach(K),Ii.forEach(K),st=ht(oi),at=q(oi,"DIV",{class:!0});var $i=rt(at);ft=q($i,"LABEL",{for:!0,class:!0});var _s=rt(ft);$t(vt.$$.fragment,_s),xt=gt(_s," Music"),_s.forEach(K),Ct=ht($i),yt=q($i,"INPUT",{type:!0,class:!0,id:!0}),Pt=ht($i),Gt=q($i,"SPAN",{class:!0});var Sn=rt(Gt);Nt=gt(Sn,Ut),wt=gt(Sn,"%"),Sn.forEach(K),Dt=ht($i),Rt=q($i,"BUTTON",{class:!0});var tn=rt(Rt);$t(Ht.$$.fragment,tn),tn.forEach(K),$i.forEach(K),qt=ht(oi),ee=q(oi,"DIV",{class:!0});var ss=rt(ee);te=q(ss,"LABEL",{for:!0,class:!0});var en=rt(te);$t(oe.$$.fragment,en),Vt=gt(en," Forsen"),en.forEach(K),jt=ht(ss),It=q(ss,"INPUT",{type:!0,class:!0,id:!0}),Ft=ht(ss),St=q(ss,"SPAN",{class:!0});var En=rt(St);Lt=gt(En,At),ae=gt(En,"%"),En.forEach(K),Jt=ht(ss),ge=q(ss,"BUTTON",{class:!0,"data-forsen":!0});var Us=rt(ge);$t(ye.$$.fragment,Us),Us.forEach(K),ss.forEach(K),oi.forEach(K),Me=ht(fi),zt=q(fi,"DIV",{class:!0});var sn=rt(zt);ne=q(sn,"DIV",{class:!0});var Hi=rt(ne);be=q(Hi,"INPUT",{class:!0,type:!0,id:!0}),Fe=ht(Hi),de=q(Hi,"LABEL",{class:!0,for:!0});var nn=rt(de);$t(we.$$.fragment,nn),Ve=gt(nn," Dark theme"),nn.forEach(K),Ue=ht(Hi),li=q(Hi,"BR",{}),Ze=ht(Hi),pi=q(Hi,"SMALL",{class:!0,"data-svelte-h":!0}),Ot(pi)!=="svelte-w0p9df"&&(pi.textContent=ei),Hi.forEach(K),ze=ht(sn),Ge=q(sn,"DIV",{class:!0});var ns=rt(Ge);ii=q(ns,"INPUT",{class:!0,type:!0,id:!0}),ve=ht(ns),Qe=q(ns,"LABEL",{class:!0,for:!0});var rn=rt(Qe);$t(me.$$.fragment,rn),Ai=gt(rn," Show tips"),rn.forEach(K),xi=ht(ns),Ss=q(ns,"BR",{}),ds=ht(ns),Di=q(ns,"SMALL",{class:!0,"data-svelte-h":!0}),Ot(Di)!=="svelte-1kp9q0d"&&(Di.textContent=Zs),ns.forEach(K),sn.forEach(K),gn=ht(fi),fi.forEach(K),xn=ht(Vi),Yi=q(Vi,"DIV",{class:!0});var zs=rt(Yi);Qi=q(zs,"H5",{class:!0});var Cn=rt(Qi);$t(qi.$$.fragment,Cn),Js=gt(Cn," Twitch integration"),Cn.forEach(K),Qs=ht(zs),yi.l(zs),zs.forEach(K),Vi.forEach(K),ps.forEach(K),Ns=ht(wi),cs=q(wi,"DIV",{class:!0});var Cs=rt(cs);$t(vs.$$.fragment,Cs),Cs.forEach(K),wi.forEach(K),Pe.forEach(K),this.h()},h(){W(E,"class","modal-title fs-5"),W(E,"id","mdlSettingsTitle"),W(y,"type","button"),W(y,"class","btn-close"),W(y,"data-bs-dismiss","modal"),W(y,"aria-label","Close"),W(g,"class","modal-header"),W(e,"class","svelte-ae4d1"),W(f,"for","sndSliderMain"),W(f,"class","form-label fw-bold svelte-ae4d1"),W(x,"type","range"),W(x,"class","form-range mx-1 svelte-ae4d1"),W(x,"id","sndSliderMain"),W(T,"class","form-text svelte-ae4d1"),W(F,"class","btn btn-outline-secondary snd-test p-1 disabled opacity-0"),W(h,"class","form-slider svelte-ae4d1"),W(B,"for","sndSliderSound"),W(B,"class","form-label svelte-ae4d1"),W(tt,"type","range"),W(tt,"class","form-range mx-1 svelte-ae4d1"),W(tt,"id","sndSliderSound"),W(k,"class","form-text svelte-ae4d1"),W(J,"class","btn btn-outline-secondary snd-test p-1"),W(I,"class","form-slider svelte-ae4d1"),W(ft,"for","sndSliderMusic"),W(ft,"class","form-label svelte-ae4d1"),W(yt,"type","range"),W(yt,"class","form-range mx-1 svelte-ae4d1"),W(yt,"id","sndSliderMusic"),W(Gt,"class","form-text svelte-ae4d1"),W(Rt,"class","btn btn-outline-secondary snd-test p-1 disabled opacity-0"),W(at,"class","form-slider svelte-ae4d1"),W(te,"for","sndSliderForsen"),W(te,"class","form-label svelte-ae4d1"),W(It,"type","range"),W(It,"class","form-range mx-1 svelte-ae4d1"),W(It,"id","sndSliderForsen"),W(St,"class","form-text svelte-ae4d1"),W(ge,"class","btn btn-outline-secondary snd-test p-1"),W(ge,"data-forsen","forsen"),W(ee,"class","form-slider svelte-ae4d1"),W(n,"class","option-block svelte-ae4d1"),W(be,"class","form-check-input svelte-ae4d1"),W(be,"type","checkbox"),W(be,"id","opt_DarkMode"),be.checked=Oe=M[0].darkMode,W(de,"class","form-check-label svelte-ae4d1"),W(de,"for","opt_DarkMode"),W(pi,"class","form-text svelte-ae4d1"),W(ne,"class","form-check form-switch"),W(ii,"class","form-check-input svelte-ae4d1"),W(ii,"type","checkbox"),W(ii,"id","opt_AdviceFriends"),ii.checked=mi=M[0].tips,W(Qe,"class","form-check-label svelte-ae4d1"),W(Qe,"for","opt_AdviceFriends"),W(Di,"class","form-text svelte-ae4d1"),W(Ge,"class","form-check form-switch"),W(zt,"class","option-block svelte-ae4d1"),W(i,"class","col-6"),W(Qi,"class","text-center mt-2 mb-4"),W(Yi,"class","col-6 border rounded"),W(s,"class","row justify-content-start"),W(v,"class","container"),W(cs,"class","app-version svelte-ae4d1"),W(o,"class","modal-body"),W(p,"class","modal-content")},m(he,Pe){dt(he,p,Pe),V(p,g),V(g,E),Yt(b,E,null),V(E,R),V(g,c),V(g,y),V(p,t),V(p,o),V(o,v),V(v,s),V(s,i),V(i,n),V(n,e),Yt(r,e,null),V(e,l),V(n,a),V(n,h),V(h,f),Yt(u,f,null),V(f,d),V(h,m),V(h,x),ci(x,M[0].volume),V(h,S),V(h,T),V(T,A),V(T,w),V(h,P),V(h,F),Yt(L,F,null),V(n,O),V(n,I),V(I,B),Yt(U,B,null),V(B,H),V(I,Z),V(I,tt),ci(tt,M[0].volSound),V(I,X),V(I,k),V(k,z),V(k,Y),V(I,j),V(I,J),Yt(it,J,null),V(n,st),V(n,at),V(at,ft),Yt(vt,ft,null),V(ft,xt),V(at,Ct),V(at,yt),ci(yt,M[0].volMusic),V(at,Pt),V(at,Gt),V(Gt,Nt),V(Gt,wt),V(at,Dt),V(at,Rt),Yt(Ht,Rt,null),V(n,qt),V(n,ee),V(ee,te),Yt(oe,te,null),V(te,Vt),V(ee,jt),V(ee,It),ci(It,M[0].volForsen),V(ee,Ft),V(ee,St),V(St,Lt),V(St,ae),V(ee,Jt),V(ee,ge),Yt(ye,ge,null),V(i,Me),V(i,zt),V(zt,ne),V(ne,be),V(ne,Fe),V(ne,de),Yt(we,de,null),V(de,Ve),V(ne,Ue),V(ne,li),V(ne,Ze),V(ne,pi),V(zt,ze),V(zt,Ge),V(Ge,ii),V(Ge,ve),V(Ge,Qe),Yt(me,Qe,null),V(Qe,Ai),V(Ge,xi),V(Ge,Ss),V(Ge,ds),V(Ge,Di),V(i,gn),V(s,xn),V(s,Yi),V(Yi,Qi),Yt(qi,Qi,null),V(Qi,Js),V(Yi,Qs),_i[ui].m(Yi,null),V(o,Ns),V(o,cs),Yt(vs,cs,null),Mi=!0,yn||(qs=[se(x,"change",M[5]),se(x,"input",M[5]),se(tt,"change",M[6]),se(tt,"input",M[6]),se(J,"click",M[3]),Ei(Ci.call(null,J,{content:"Test sound volume",placement:"left"})),se(yt,"change",M[7]),se(yt,"input",M[7]),se(It,"change",M[8]),se(It,"input",M[8]),se(ge,"click",M[4]),Ei(Ci.call(null,ge,{content:"Check Forsen's mic",placement:"left"})),se(be,"change",M[9]),se(ii,"change",M[10])],yn=!0)},p(he,[Pe]){const ts={};Pe&262144&&(ts.$$scope={dirty:Pe,ctx:he}),b.$set(ts);const Wi={};Pe&262144&&(Wi.$$scope={dirty:Pe,ctx:he}),r.$set(Wi);const wi={};Pe&262144&&(wi.$$scope={dirty:Pe,ctx:he}),u.$set(wi),Pe&1&&ci(x,he[0].volume),(!Mi||Pe&1)&&C!==(C=he[0].volume+"")&&ie(A,C);const ps={};Pe&262144&&(ps.$$scope={dirty:Pe,ctx:he}),L.$set(ps);const Vi={};Pe&262144&&(Vi.$$scope={dirty:Pe,ctx:he}),U.$set(Vi),Pe&1&&ci(tt,he[0].volSound),(!Mi||Pe&1)&&D!==(D=he[0].volSound+"")&&ie(z,D);const fi={};Pe&262144&&(fi.$$scope={dirty:Pe,ctx:he}),it.$set(fi);const oi={};Pe&262144&&(oi.$$scope={dirty:Pe,ctx:he}),vt.$set(oi),Pe&1&&ci(yt,he[0].volMusic),(!Mi||Pe&1)&&Ut!==(Ut=he[0].volMusic+"")&&ie(Nt,Ut);const Es={};Pe&262144&&(Es.$$scope={dirty:Pe,ctx:he}),Ht.$set(Es);const bi={};Pe&262144&&(bi.$$scope={dirty:Pe,ctx:he}),oe.$set(bi),Pe&1&&ci(It,he[0].volForsen),(!Mi||Pe&1)&&At!==(At=he[0].volForsen+"")&&ie(Lt,At);const ms={};Pe&262144&&(ms.$$scope={dirty:Pe,ctx:he}),ye.$set(ms),(!Mi||Pe&1&&Oe!==(Oe=he[0].darkMode))&&(be.checked=Oe);const es={};Pe&262144&&(es.$$scope={dirty:Pe,ctx:he}),we.$set(es),(!Mi||Pe&1&&mi!==(mi=he[0].tips))&&(ii.checked=mi);const Vs={};Pe&262144&&(Vs.$$scope={dirty:Pe,ctx:he}),me.$set(Vs);const Ii={};Pe&262144&&(Ii.$$scope={dirty:Pe,ctx:he}),qi.$set(Ii);let is=ui;ui=Jn(he),ui===is?_i[ui].p(he,Pe):(Ie(),Mt(_i[is],1,1,()=>{_i[is]=null}),Be(),yi=_i[ui],yi?yi.p(he,Pe):(yi=_i[ui]=Zn[ui](he),yi.c()),Tt(yi,1),yi.m(Yi,null))},i(he){Mi||(Tt(b.$$.fragment,he),Tt(r.$$.fragment,he),Tt(u.$$.fragment,he),Tt(L.$$.fragment,he),Tt(U.$$.fragment,he),Tt(it.$$.fragment,he),Tt(vt.$$.fragment,he),Tt(Ht.$$.fragment,he),Tt(oe.$$.fragment,he),Tt(ye.$$.fragment,he),Tt(we.$$.fragment,he),Tt(me.$$.fragment,he),Tt(qi.$$.fragment,he),Tt(yi),Tt(vs.$$.fragment,he),Mi=!0)},o(he){Mt(b.$$.fragment,he),Mt(r.$$.fragment,he),Mt(u.$$.fragment,he),Mt(L.$$.fragment,he),Mt(U.$$.fragment,he),Mt(it.$$.fragment,he),Mt(vt.$$.fragment,he),Mt(Ht.$$.fragment,he),Mt(oe.$$.fragment,he),Mt(ye.$$.fragment,he),Mt(we.$$.fragment,he),Mt(me.$$.fragment,he),Mt(qi.$$.fragment,he),Mt(yi),Mt(vs.$$.fragment,he),Mi=!1},d(he){he&&K(p),Wt(b),Wt(r),Wt(u),Wt(L),Wt(U),Wt(it),Wt(vt),Wt(Ht),Wt(oe),Wt(ye),Wt(we),Wt(me),Wt(qi),_i[ui].d(),Wt(vs),yn=!1,hi(qs)}}}function $1(M,p,g){let E,b;We(M,Je,d=>g(0,E=d)),We(M,wh,d=>g(1,b=d));let R,c;const y={"":"Nothing will happen in your chat... Boring!",timeout:"Authors of shot messages will be timed out in your chat",warning:'Authors of shot messages will receive a warning. This uses a new Twitch "moderator warning" feature.<br>⚠️ Careful: this might break custom chat bots when you "ban" them in game, use at your own risk'};function t(d){const m=d.currentTarget;m.disabled=!0,R.once("end",()=>{m.disabled=!1}),R.play()}function o(d){const m=d.currentTarget;m.disabled=!0;const x=c.testSpeech();x.once("end",()=>{m.disabled=!1}),x.play()}ti(()=>{var d;return R=new $e("SettingsTestSound_1","/sounds/cancer.mp3"),c=new vu,(d=c.pepepains)==null||d.clear(),c.pepepains=new Pi(Eh,1e6),()=>{R.off(),R.unload(),c.destroy()}});function v(){E.volume=bs(this.value),Je.set(E)}function s(){E.volSound=bs(this.value),Je.set(E)}function i(){E.volMusic=bs(this.value),Je.set(E)}function n(){E.volForsen=bs(this.value),Je.set(E)}const e=()=>ma(),r=()=>ur("tips"),l=()=>ur("invulnerable"),a=()=>ur("chatIntegration"),h=()=>ur("chatIncludeMods");function f(){E.chatPunishment=ff(this),Je.set(E)}function u(){E.chatTimeout=bs(this.value),Je.set(E)}return[E,b,y,t,o,v,s,i,n,e,r,l,a,h,f,u]}class H1 extends Ee{constructor(p){super(),Ce(this,p,$1,W1,Se,{})}}function k1(M){let p;return{c(){p=mt("help_outline")},l(g){p=gt(g,"help_outline")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function K1(M){let p;return{c(){p=mt("settings")},l(g){p=gt(g,"settings")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function j1(M){let p;return{c(){p=mt("favorite")},l(g){p=gt(g,"favorite")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function Z1(M){let p,g,E,b,R,c,y,t,o,v,s=`<img src="https://cdn.betterttv.net/emote/60ce593d8ed8b373e42167ec/1x.webp" alt="" width="24" height="24" class="svelte-4ivtax"/>
      What is this game about?`,i,n,e="This game reverses the roles. You are Forsen, and you are live!",r,l,a=`Your goal is to entertain bajs for 6 hours in your usual manner. During the stream you will have to keep an eye on\r
      your chat - messages will be floating on your screen - and moderate it to your best ability.`,h,f,u,d,m,x,S,T,C,A,w,P=`<img src="https://cdn.betterttv.net/emote/624630b13c6f14b688440c6f/1x.webp" alt="" width="24" height="24" class="svelte-4ivtax"/>
      The essentials`,F,L,O="During the game, you must keep an eye on two important levels:",I,B,U,H,Z=`<li><b class="text-primary">Loyalty</b> - level of engagement of your viewers. If it drops to zero, you might as well
        retire. It can be gained by progressing through the stream, and performing well in games.</li> <li><b class="text-danger">Rage</b> - your level of sanity. As it goes higher, you might find it more difficult to focus
        on the stream. Rage level grows whenever you make a mistake. Don&#39;t let it go too high, this is bad for your health.</li>`,tt,X,k=`You will have to maintain these levels throughout the day, until your stream ends. Other than that - it's a\r
      regular stream day: watch some links, play some games, and be done with it after 6 hours.`,D,z,Y,j,J=`<img src="https://cdn.betterttv.net/emote/62896c693c6f14b688486988/1x.webp" alt="" width="24" height="24" class="svelte-4ivtax"/>
      Stream schedule`,it,st,at="If you are unfamiliar with Forsen's streams (which is unlikely), most streams have a similar structure:",ft,vt,xt=`<li>A &quot;react&quot; segment, where he watches some videos (&quot;links&quot;) donated by viewers</li> <li>A &quot;gaming&quot; segment, where he plays some random &quot;lidl&quot; games, generally - of lower quality</li> <li>A &quot;filler&quot; segment, which starts after he runs out of lidl games to play; usually some fan-favorite games like
        PUBG or Jackbox</li>`,Ct,yt,Pt=`Of course, this is an oversimplified description of what you might expect when tuning in to Forsen&#39;s streams. This
      game, however, follows the formula above. Relevant windows with content will appear according to current stage of
      the stream. Once you are done, <i>close the active window to progress to next stage</i>.`,Gt,Ut,Nt,wt,Dt=`<img src="https://cdn.betterttv.net/emote/60438cc4306b602acc597f80/1x.webp" alt="" width="24" height="24" class="svelte-4ivtax"/>
      Chat integration`,Rt,Ht,qt=`This game is more fun when you have someone to play with. Messages from your chat room will appear in game, and\r
      you can interact with them too!`,ee,te,oe=`Of course, rules still apply. You see a potential ban evader? Whack 'em! Is there a game complainer? Shoot 'em! Do\r
      anything to feel better and reduce that rage level. Even if some subs fall...`,Vt,jt,It=`<i>For chat members:</i> once you get banned in game, you may get a punishment in chat (depending on game
      settings). Don&#39;t worry, it&#39;s not permanent... Or is it?
      <br/>
      Anyways, try to have fun - pretend to be in forsen&#39;s chat for the time being.
      <img src="https://static-cdn.jtvnw.net/emoticons/v2/31100/default/dark/1.0" alt="forsenRP" width="20" height="20"/> <br/>
      Want to troll the streamer a bit? Try tagging him a few times, or start a reply thread.`,Ft,St,At,Lt,ae="If you are completely clueless, here are some tips. If you watch Forsen, these won't help much.",Jt,ge,ye=`<li><div class="spoiler svelte-4ivtax">Do not rush through the content - viewers will not like it. Not that you care, Mr. Fors, but you gotta make a
          living somehow, right?</div></li> <li><div class="spoiler svelte-4ivtax">There is a set of &quot;house rules&quot; which are only enforced by streamer himself when it comes to watching videos.
          Some of these are: &quot;50k views minimum&quot;, &quot;no song requests&quot;, etc.</div></li> <li><div class="spoiler svelte-4ivtax">If you are feeling extra angry, try banning some game complainers. If some innocent subs get caught in the
          crossfire - you&#39;ll still feel a bit better, but the loyalty might drop a bit.</div></li> <li><div class="spoiler svelte-4ivtax">You are a self-proclaimed &quot;God Gamer&quot; - are you ready to live up to this name? Your gamer skill will be
          tested, get ready to deliver. Loyalty depends on your success.</div></li>`,Me,zt,ne="And remember: this is not just a game, it's an experience. Go with the flow and enjoy the show!",be,Oe,Fe,de,we,Ve,Ue,li,Ze,pi="G7Eternal",ei;return b=new fe({props:{size:"26px",$$slots:{default:[k1]},$$scope:{ctx:M}}}),m=new fe({props:{$$slots:{default:[K1]},$$scope:{ctx:M}}}),B=new pu({props:{demo:!0}}),Ue=new fe({props:{color:"firebrick",size:"1.25em",$$slots:{default:[j1]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("div"),E=Q("h5"),Xt(b.$$.fragment),R=mt(" Help"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),v=Q("h4"),v.innerHTML=s,i=lt(),n=Q("p"),n.textContent=e,r=lt(),l=Q("p"),l.textContent=a,h=lt(),f=Q("p"),u=mt("It is advised to check out the "),d=Q("b"),Xt(m.$$.fragment),x=mt(" Settings"),S=mt(` menu. You can customize your experience\r
      there, including Twitch integration settings - if you are currently streaming, your chat can take part in this game\r
      too.`),T=lt(),C=Q("hr"),A=lt(),w=Q("h4"),w.innerHTML=P,F=lt(),L=Q("p"),L.textContent=O,I=lt(),Xt(B.$$.fragment),U=lt(),H=Q("ul"),H.innerHTML=Z,tt=lt(),X=Q("p"),X.textContent=k,D=lt(),z=Q("hr"),Y=lt(),j=Q("h4"),j.innerHTML=J,it=lt(),st=Q("p"),st.textContent=at,ft=lt(),vt=Q("ol"),vt.innerHTML=xt,Ct=lt(),yt=Q("p"),yt.innerHTML=Pt,Gt=lt(),Ut=Q("hr"),Nt=lt(),wt=Q("h4"),wt.innerHTML=Dt,Rt=lt(),Ht=Q("p"),Ht.textContent=qt,ee=lt(),te=Q("p"),te.textContent=oe,Vt=lt(),jt=Q("p"),jt.innerHTML=It,Ft=lt(),St=Q("hr"),At=lt(),Lt=Q("p"),Lt.textContent=ae,Jt=lt(),ge=Q("ul"),ge.innerHTML=ye,Me=lt(),zt=Q("p"),zt.textContent=ne,be=lt(),Oe=Q("hr"),Fe=lt(),de=Q("div"),we=Q("p"),Ve=mt("Game crafted with "),Xt(Ue.$$.fragment),li=mt(` by\r
        `),Ze=Q("a"),Ze.textContent=pi,this.h()},l(ze){p=q(ze,"DIV",{class:!0});var Ge=rt(p);g=q(Ge,"DIV",{class:!0});var ii=rt(g);E=q(ii,"H5",{class:!0,id:!0});var mi=rt(E);$t(b.$$.fragment,mi),R=gt(mi," Help"),mi.forEach(K),c=ht(ii),y=q(ii,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),rt(y).forEach(K),ii.forEach(K),t=ht(Ge),o=q(Ge,"DIV",{class:!0});var ve=rt(o);v=q(ve,"H4",{class:!0,"data-svelte-h":!0}),Ot(v)!=="svelte-12m1g29"&&(v.innerHTML=s),i=ht(ve),n=q(ve,"P",{"data-svelte-h":!0}),Ot(n)!=="svelte-198qx72"&&(n.textContent=e),r=ht(ve),l=q(ve,"P",{"data-svelte-h":!0}),Ot(l)!=="svelte-ujbqn9"&&(l.textContent=a),h=ht(ve),f=q(ve,"P",{});var Qe=rt(f);u=gt(Qe,"It is advised to check out the "),d=q(Qe,"B",{});var me=rt(d);$t(m.$$.fragment,me),x=gt(me," Settings"),me.forEach(K),S=gt(Qe,` menu. You can customize your experience\r
      there, including Twitch integration settings - if you are currently streaming, your chat can take part in this game\r
      too.`),Qe.forEach(K),T=ht(ve),C=q(ve,"HR",{}),A=ht(ve),w=q(ve,"H4",{class:!0,"data-svelte-h":!0}),Ot(w)!=="svelte-12wcbbf"&&(w.innerHTML=P),F=ht(ve),L=q(ve,"P",{"data-svelte-h":!0}),Ot(L)!=="svelte-1ih8ejb"&&(L.textContent=O),I=ht(ve),$t(B.$$.fragment,ve),U=ht(ve),H=q(ve,"UL",{"data-svelte-h":!0}),Ot(H)!=="svelte-bu9lpd"&&(H.innerHTML=Z),tt=ht(ve),X=q(ve,"P",{"data-svelte-h":!0}),Ot(X)!=="svelte-kbrjvy"&&(X.textContent=k),D=ht(ve),z=q(ve,"HR",{}),Y=ht(ve),j=q(ve,"H4",{class:!0,"data-svelte-h":!0}),Ot(j)!=="svelte-1qc6ntr"&&(j.innerHTML=J),it=ht(ve),st=q(ve,"P",{"data-svelte-h":!0}),Ot(st)!=="svelte-i5haus"&&(st.textContent=at),ft=ht(ve),vt=q(ve,"OL",{"data-svelte-h":!0}),Ot(vt)!=="svelte-h4jtvy"&&(vt.innerHTML=xt),Ct=ht(ve),yt=q(ve,"P",{"data-svelte-h":!0}),Ot(yt)!=="svelte-1huxw5o"&&(yt.innerHTML=Pt),Gt=ht(ve),Ut=q(ve,"HR",{}),Nt=ht(ve),wt=q(ve,"H4",{class:!0,"data-svelte-h":!0}),Ot(wt)!=="svelte-ymgd99"&&(wt.innerHTML=Dt),Rt=ht(ve),Ht=q(ve,"P",{"data-svelte-h":!0}),Ot(Ht)!=="svelte-fnws5n"&&(Ht.textContent=qt),ee=ht(ve),te=q(ve,"P",{"data-svelte-h":!0}),Ot(te)!=="svelte-gq4po2"&&(te.textContent=oe),Vt=ht(ve),jt=q(ve,"P",{"data-svelte-h":!0}),Ot(jt)!=="svelte-18fbpli"&&(jt.innerHTML=It),Ft=ht(ve),St=q(ve,"HR",{}),At=ht(ve),Lt=q(ve,"P",{"data-svelte-h":!0}),Ot(Lt)!=="svelte-1m8u306"&&(Lt.textContent=ae),Jt=ht(ve),ge=q(ve,"UL",{"data-svelte-h":!0}),Ot(ge)!=="svelte-172j50q"&&(ge.innerHTML=ye),Me=ht(ve),zt=q(ve,"P",{"data-svelte-h":!0}),Ot(zt)!=="svelte-6zc5c0"&&(zt.textContent=ne),be=ht(ve),Oe=q(ve,"HR",{}),Fe=ht(ve),de=q(ve,"DIV",{class:!0});var Ai=rt(de);we=q(Ai,"P",{});var xi=rt(we);Ve=gt(xi,"Game crafted with "),$t(Ue.$$.fragment,xi),li=gt(xi,` by\r
        `),Ze=q(xi,"A",{href:!0,rel:!0,target:!0,translate:!0,class:!0,"data-svelte-h":!0}),Ot(Ze)!=="svelte-10mhzzs"&&(Ze.textContent=pi),xi.forEach(K),Ai.forEach(K),ve.forEach(K),Ge.forEach(K),this.h()},h(){W(E,"class","modal-title fs-5"),W(E,"id","mdlHelpTitle"),W(y,"type","button"),W(y,"class","btn-close"),W(y,"data-bs-dismiss","modal"),W(y,"aria-label","Close"),W(g,"class","modal-header"),W(v,"class","svelte-4ivtax"),W(w,"class","svelte-4ivtax"),W(j,"class","svelte-4ivtax"),W(wt,"class","svelte-4ivtax"),W(Ze,"href","https://g7eternal.com/"),W(Ze,"rel","noreferrer"),W(Ze,"target","_blank"),W(Ze,"translate","no"),W(Ze,"class","svelte-4ivtax"),W(de,"class","authorship text-muted svelte-4ivtax"),W(o,"class","modal-body"),W(p,"class","modal-content")},m(ze,Ge){dt(ze,p,Ge),V(p,g),V(g,E),Yt(b,E,null),V(E,R),V(g,c),V(g,y),V(p,t),V(p,o),V(o,v),V(o,i),V(o,n),V(o,r),V(o,l),V(o,h),V(o,f),V(f,u),V(f,d),Yt(m,d,null),V(d,x),V(f,S),V(o,T),V(o,C),V(o,A),V(o,w),V(o,F),V(o,L),V(o,I),Yt(B,o,null),V(o,U),V(o,H),V(o,tt),V(o,X),V(o,D),V(o,z),V(o,Y),V(o,j),V(o,it),V(o,st),V(o,ft),V(o,vt),V(o,Ct),V(o,yt),V(o,Gt),V(o,Ut),V(o,Nt),V(o,wt),V(o,Rt),V(o,Ht),V(o,ee),V(o,te),V(o,Vt),V(o,jt),V(o,Ft),V(o,St),V(o,At),V(o,Lt),V(o,Jt),V(o,ge),V(o,Me),V(o,zt),V(o,be),V(o,Oe),V(o,Fe),V(o,de),V(de,we),V(we,Ve),Yt(Ue,we,null),V(we,li),V(we,Ze),ei=!0},p(ze,[Ge]){const ii={};Ge&1&&(ii.$$scope={dirty:Ge,ctx:ze}),b.$set(ii);const mi={};Ge&1&&(mi.$$scope={dirty:Ge,ctx:ze}),m.$set(mi);const ve={};Ge&1&&(ve.$$scope={dirty:Ge,ctx:ze}),Ue.$set(ve)},i(ze){ei||(Tt(b.$$.fragment,ze),Tt(m.$$.fragment,ze),Tt(B.$$.fragment,ze),Tt(Ue.$$.fragment,ze),ei=!0)},o(ze){Mt(b.$$.fragment,ze),Mt(m.$$.fragment,ze),Mt(B.$$.fragment,ze),Mt(Ue.$$.fragment,ze),ei=!1},d(ze){ze&&K(p),Wt(b),Wt(m),Wt(B),Wt(Ue)}}}class J1 extends Ee{constructor(p){super(),Ce(this,p,null,Z1,Se,{})}}function Q1(M){let p;return{c(){p=mt("bug_report")},l(g){p=gt(g,"bug_report")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function q1(M){let p;return{c(){p=mt("description")},l(g){p=gt(g,"description")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function _1(M){let p;return{c(){p=mt("chat")},l(g){p=gt(g,"chat")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function tx(M){let p;return{c(){p=mt("mail")},l(g){p=gt(g,"mail")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function ex(M){let p,g,E,b,R,c,y,t,o,v,s="If you'd like to report a bug or make a suggestion, choose the approach that suits you best:",i,n,e,r,l,a,h,f,u="open a ticket",d,m,x,S,T,C,A,w,P="@g7eternal",F,L,O,I,B,U,H,Z,tt="send me an email,",X,k,D,z=`❇️ Video links can be submitted
      <a href="https://forms.gle/kiHYrvPR9Yr5mYBc6" target="_blank">here</a>.`,Y;return b=new fe({props:{size:"26px",$$slots:{default:[Q1]},$$scope:{ctx:M}}}),l=new fe({props:{$$slots:{default:[q1]},$$scope:{ctx:M}}}),T=new fe({props:{$$slots:{default:[_1]},$$scope:{ctx:M}}}),B=new fe({props:{$$slots:{default:[tx]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("div"),E=Q("h5"),Xt(b.$$.fragment),R=mt(" Report a problem"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),v=Q("p"),v.textContent=s,i=lt(),n=Q("ul"),e=Q("li"),r=Q("b"),Xt(l.$$.fragment),a=mt(" A ticket:"),h=lt(),f=Q("a"),f.textContent=u,d=mt(`\r
        in our GitHub repository, and we will review your suggestion`),m=lt(),x=Q("li"),S=Q("b"),Xt(T.$$.fragment),C=mt(" A message:"),A=mt(`\r
        you can message `),w=Q("code"),w.textContent=P,F=mt(" in Discord or Twitch, and explain the problem"),L=lt(),O=Q("li"),I=Q("b"),Xt(B.$$.fragment),U=mt(" An email:"),H=mt(`\r
        another classic way of communication -\r
        `),Z=Q("a"),Z.textContent=tt,X=mt(" be as verbose as possible, and I'll get back to you later"),k=lt(),D=Q("p"),D.innerHTML=z,this.h()},l(j){p=q(j,"DIV",{class:!0});var J=rt(p);g=q(J,"DIV",{class:!0});var it=rt(g);E=q(it,"H5",{class:!0,id:!0});var st=rt(E);$t(b.$$.fragment,st),R=gt(st," Report a problem"),st.forEach(K),c=ht(it),y=q(it,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),rt(y).forEach(K),it.forEach(K),t=ht(J),o=q(J,"DIV",{class:!0});var at=rt(o);v=q(at,"P",{"data-svelte-h":!0}),Ot(v)!=="svelte-1w3e9di"&&(v.textContent=s),i=ht(at),n=q(at,"UL",{});var ft=rt(n);e=q(ft,"LI",{class:!0});var vt=rt(e);r=q(vt,"B",{});var xt=rt(r);$t(l.$$.fragment,xt),a=gt(xt," A ticket:"),xt.forEach(K),h=ht(vt),f=q(vt,"A",{href:!0,target:!0,"data-svelte-h":!0}),Ot(f)!=="svelte-5k4tjp"&&(f.textContent=u),d=gt(vt,`\r
        in our GitHub repository, and we will review your suggestion`),vt.forEach(K),m=ht(ft),x=q(ft,"LI",{class:!0});var Ct=rt(x);S=q(Ct,"B",{});var yt=rt(S);$t(T.$$.fragment,yt),C=gt(yt," A message:"),yt.forEach(K),A=gt(Ct,`\r
        you can message `),w=q(Ct,"CODE",{"data-svelte-h":!0}),Ot(w)!=="svelte-6ub8a7"&&(w.textContent=P),F=gt(Ct," in Discord or Twitch, and explain the problem"),Ct.forEach(K),L=ht(ft),O=q(ft,"LI",{class:!0});var Pt=rt(O);I=q(Pt,"B",{});var Gt=rt(I);$t(B.$$.fragment,Gt),U=gt(Gt," An email:"),Gt.forEach(K),H=gt(Pt,`\r
        another classic way of communication -\r
        `),Z=q(Pt,"A",{href:!0,target:!0,"data-svelte-h":!0}),Ot(Z)!=="svelte-kxap61"&&(Z.textContent=tt),X=gt(Pt," be as verbose as possible, and I'll get back to you later"),Pt.forEach(K),ft.forEach(K),k=ht(at),D=q(at,"P",{"data-svelte-h":!0}),Ot(D)!=="svelte-9o93pg"&&(D.innerHTML=z),at.forEach(K),J.forEach(K),this.h()},h(){W(E,"class","modal-title fs-5"),W(E,"id","mdlReportBugTitle"),W(y,"type","button"),W(y,"class","btn-close"),W(y,"data-bs-dismiss","modal"),W(y,"aria-label","Close"),W(g,"class","modal-header"),W(f,"href","https://github.com/badoge/forsen.horse/issues/new?labels=forsen-is-live"),W(f,"target","_blank"),W(e,"class","svelte-dm60o2"),W(x,"class","svelte-dm60o2"),W(Z,"href","mailto:forsen-horse@g7eternal.com?subject=Forsen%20is%20live!%20-%20Bug%20report"),W(Z,"target","_blank"),W(O,"class","svelte-dm60o2"),W(o,"class","modal-body"),W(p,"class","modal-content")},m(j,J){dt(j,p,J),V(p,g),V(g,E),Yt(b,E,null),V(E,R),V(g,c),V(g,y),V(p,t),V(p,o),V(o,v),V(o,i),V(o,n),V(n,e),V(e,r),Yt(l,r,null),V(r,a),V(e,h),V(e,f),V(e,d),V(n,m),V(n,x),V(x,S),Yt(T,S,null),V(S,C),V(x,A),V(x,w),V(x,F),V(n,L),V(n,O),V(O,I),Yt(B,I,null),V(I,U),V(O,H),V(O,Z),V(O,X),V(o,k),V(o,D),Y=!0},p(j,[J]){const it={};J&1&&(it.$$scope={dirty:J,ctx:j}),b.$set(it);const st={};J&1&&(st.$$scope={dirty:J,ctx:j}),l.$set(st);const at={};J&1&&(at.$$scope={dirty:J,ctx:j}),T.$set(at);const ft={};J&1&&(ft.$$scope={dirty:J,ctx:j}),B.$set(ft)},i(j){Y||(Tt(b.$$.fragment,j),Tt(l.$$.fragment,j),Tt(T.$$.fragment,j),Tt(B.$$.fragment,j),Y=!0)},o(j){Mt(b.$$.fragment,j),Mt(l.$$.fragment,j),Mt(T.$$.fragment,j),Mt(B.$$.fragment,j),Y=!1},d(j){j&&K(p),Wt(b),Wt(l),Wt(T),Wt(B)}}}class ix extends Ee{constructor(p){super(),Ce(this,p,null,ex,Se,{})}}function sx(M){let p;return{c(){p=mt("video_library")},l(g){p=gt(g,"video_library")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function nx(M){let p;return{c(){p=mt("video_library")},l(g){p=gt(g,"video_library")},m(g,E){dt(g,p,E)},d(g){g&&K(p)}}}function rx(M){let p,g,E,b,R,c,y,t,o,v=`<p>Are you ready to endure daily links and same 3 games for 6 hours per day?</p> <p>This mode has the following features:</p> <ul><li class="svelte-1n8065p">Each day starts with the <b class="text-info">loyalty</b> and <b class="text-danger">rage</b> levels from the previous
        day.</li> <li class="svelte-1n8065p">When a day starts, you may get a notification about
        <b class="text-info">loyalty</b> and
        <b class="text-danger">rage</b> <b>modifiers</b>, which affect the difficulty for the day.</li> <li class="svelte-1n8065p">You will have to track duplicate videos throughout the whole run.</li> <li class="svelte-1n8065p">Progress is <em>saved</em> at the end of each day, you can stop playing after new day is announced and continue the
        run later.</li></ul>`,s,i,n,e,r,l,a,h;return b=new fe({props:{size:"26px",$$slots:{default:[sx]},$$scope:{ctx:M}}}),e=new fe({props:{size:"20px",$$slots:{default:[nx]},$$scope:{ctx:M}}}),{c(){p=Q("div"),g=Q("div"),E=Q("h5"),Xt(b.$$.fragment),R=mt(" Endless mode"),c=lt(),y=Q("button"),t=lt(),o=Q("div"),o.innerHTML=v,s=lt(),i=Q("div"),n=Q("button"),Xt(e.$$.fragment),r=mt(" Start game"),this.h()},l(f){p=q(f,"DIV",{class:!0});var u=rt(p);g=q(u,"DIV",{class:!0});var d=rt(g);E=q(d,"H5",{class:!0,id:!0});var m=rt(E);$t(b.$$.fragment,m),R=gt(m," Endless mode"),m.forEach(K),c=ht(d),y=q(d,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),rt(y).forEach(K),d.forEach(K),t=ht(u),o=q(u,"DIV",{class:!0,"data-svelte-h":!0}),Ot(o)!=="svelte-1572ouz"&&(o.innerHTML=v),s=ht(u),i=q(u,"DIV",{class:!0});var x=rt(i);n=q(x,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var S=rt(n);$t(e.$$.fragment,S),r=gt(S," Start game"),S.forEach(K),x.forEach(K),u.forEach(K),this.h()},h(){W(E,"class","modal-title fs-5"),W(E,"id","mdlEndlessTitle"),W(y,"type","button"),W(y,"class","btn-close"),W(y,"data-bs-dismiss","modal"),W(y,"aria-label","Close"),W(g,"class","modal-header"),W(o,"class","modal-body"),W(n,"type","button"),W(n,"class","btn btn-success"),W(n,"data-bs-dismiss","modal"),W(i,"class","modal-footer d-flex align-items-center justify-content-center"),W(p,"class","modal-content")},m(f,u){dt(f,p,u),V(p,g),V(g,E),Yt(b,E,null),V(E,R),V(g,c),V(g,y),V(p,t),V(p,o),V(p,s),V(p,i),V(i,n),Yt(e,n,null),V(n,r),l=!0,a||(h=se(n,"click",M[0]),a=!0)},p(f,[u]){const d={};u&2&&(d.$$scope={dirty:u,ctx:f}),b.$set(d);const m={};u&2&&(m.$$scope={dirty:u,ctx:f}),e.$set(m)},i(f){l||(Tt(b.$$.fragment,f),Tt(e.$$.fragment,f),l=!0)},o(f){Mt(b.$$.fragment,f),Mt(e.$$.fragment,f),l=!1},d(f){f&&K(p),Wt(b),Wt(e),a=!1,h()}}}function ax(M){function p(){console.info("Starting new ENDLESS game..."),xe.reset(!0).nextDay()}return[p]}class ox extends Ee{constructor(p){super(),Ce(this,p,ax,rx,Se,{})}}function lx(M){let p,g,E,b,R,c,y,t,o,v,s,i,n,e,r,l;return E=new H1({}),y=new J1({}),s=new ix({}),r=new ox({}),{c(){p=Q("div"),g=Q("div"),Xt(E.$$.fragment),b=lt(),R=Q("div"),c=Q("div"),Xt(y.$$.fragment),t=lt(),o=Q("div"),v=Q("div"),Xt(s.$$.fragment),i=lt(),n=Q("div"),e=Q("div"),Xt(r.$$.fragment),this.h()},l(a){p=q(a,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var h=rt(p);g=q(h,"DIV",{class:!0});var f=rt(g);$t(E.$$.fragment,f),f.forEach(K),h.forEach(K),b=ht(a),R=q(a,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var u=rt(R);c=q(u,"DIV",{class:!0});var d=rt(c);$t(y.$$.fragment,d),d.forEach(K),u.forEach(K),t=ht(a),o=q(a,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var m=rt(o);v=q(m,"DIV",{class:!0});var x=rt(v);$t(s.$$.fragment,x),x.forEach(K),m.forEach(K),i=ht(a),n=q(a,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var S=rt(n);e=q(S,"DIV",{class:!0});var T=rt(e);$t(r.$$.fragment,T),T.forEach(K),S.forEach(K),this.h()},h(){W(g,"class","modal-dialog modal-xl modal-dialog-scrollable modal-dialog-centered"),W(p,"class","modal fade"),W(p,"id","mdlSettings"),W(p,"tabindex","-1"),W(p,"aria-labelledby","mdlSettingsTitle"),W(p,"aria-hidden","true"),W(c,"class","modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered"),W(R,"class","modal fade"),W(R,"id","mdlHelp"),W(R,"tabindex","-1"),W(R,"aria-labelledby","mdlHelpTitle"),W(R,"aria-hidden","true"),W(v,"class","modal-dialog modal-dialog-scrollable modal-dialog-centered"),W(o,"class","modal fade"),W(o,"id","mdlReportBug"),W(o,"tabindex","-1"),W(o,"aria-labelledby","mdlReportBugTitle"),W(o,"aria-hidden","true"),W(e,"class","modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered"),W(n,"class","modal fade"),W(n,"id","mdlEndless"),W(n,"tabindex","-1"),W(n,"aria-labelledby","mdlEndlessTitle"),W(n,"aria-hidden","true")},m(a,h){dt(a,p,h),V(p,g),Yt(E,g,null),dt(a,b,h),dt(a,R,h),V(R,c),Yt(y,c,null),dt(a,t,h),dt(a,o,h),V(o,v),Yt(s,v,null),dt(a,i,h),dt(a,n,h),V(n,e),Yt(r,e,null),l=!0},p:Qt,i(a){l||(Tt(E.$$.fragment,a),Tt(y.$$.fragment,a),Tt(s.$$.fragment,a),Tt(r.$$.fragment,a),l=!0)},o(a){Mt(E.$$.fragment,a),Mt(y.$$.fragment,a),Mt(s.$$.fragment,a),Mt(r.$$.fragment,a),l=!1},d(a){a&&(K(p),K(b),K(R),K(t),K(o),K(i),K(n)),Wt(E),Wt(y),Wt(s),Wt(r)}}}class hx extends Ee{constructor(p){super(),Ce(this,p,null,lx,Se,{})}}function ux(M){let p,g,E="Getting ready...",b,R,c='<span class="visually-hidden">Loading...</span>',y,t=M[0]&&ph();return{c(){p=Q("div"),g=Q("h1"),g.textContent=E,b=lt(),R=Q("div"),R.innerHTML=c,y=lt(),t&&t.c(),this.h()},l(o){p=q(o,"DIV",{class:!0});var v=rt(p);g=q(v,"H1",{"data-svelte-h":!0}),Ot(g)!=="svelte-1cerigb"&&(g.textContent=E),b=ht(v),R=q(v,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Ot(R)!=="svelte-156k8au"&&(R.innerHTML=c),y=ht(v),t&&t.l(v),v.forEach(K),this.h()},h(){W(R,"class","spinner-border svelte-1o9yzvs"),W(R,"role","status"),W(p,"class","loader-container svelte-1o9yzvs")},m(o,v){dt(o,p,v),V(p,g),V(p,b),V(p,R),V(p,y),t&&t.m(p,null)},p(o,v){o[0]?t?v&1&&Tt(t,1):(t=ph(),t.c(),Tt(t,1),t.m(p,null)):t&&(t.d(1),t=null)},i(o){Tt(t)},o:Qt,d(o){o&&K(p),t&&t.d()}}}function fx(M){let p,g,E,b,R,c,y,t,o;b=new hx({});var v=M[2];function s(i,n){return{props:{id:Dn}}}return v&&(c=Os(v,s())),t=new E1({}),{c(){p=Q("div"),g=Q("div"),E=Q("div"),Xt(b.$$.fragment),R=lt(),c&&Xt(c.$$.fragment),y=lt(),Xt(t.$$.fragment),this.h()},l(i){p=q(i,"DIV",{id:!0,class:!0});var n=rt(p);g=q(n,"DIV",{id:!0,class:!0});var e=rt(g);E=q(e,"DIV",{class:!0});var r=rt(E);$t(b.$$.fragment,r),R=ht(r),c&&$t(c.$$.fragment,r),y=ht(r),$t(t.$$.fragment,r),r.forEach(K),e.forEach(K),n.forEach(K),this.h()},h(){W(E,"class","vertical-constraint content-holder svelte-1o9yzvs"),W(g,"id","tippyRoot"),W(g,"class","horizontal-constraint svelte-1o9yzvs"),W(p,"id","fullscreener"),W(p,"class","horizontal-constraint outer-constraint svelte-1o9yzvs")},m(i,n){dt(i,p,n),V(p,g),V(g,E),Yt(b,E,null),V(E,R),c&&Yt(c,E,null),V(E,y),Yt(t,E,null),o=!0},p(i,n){if(n&4&&v!==(v=i[2])){if(c){Ie();const e=c;Mt(e.$$.fragment,1,0,()=>{Wt(e,1)}),Be()}v?(c=Os(v,s()),Xt(c.$$.fragment),Tt(c.$$.fragment,1),Yt(c,E,y)):c=null}},i(i){o||(Tt(b.$$.fragment,i),c&&Tt(c.$$.fragment,i),Tt(t.$$.fragment,i),o=!0)},o(i){Mt(b.$$.fragment,i),c&&Mt(c.$$.fragment,i),Mt(t.$$.fragment,i),o=!1},d(i){i&&K(p),Wt(b),c&&Wt(c),Wt(t)}}}function ph(M){let p,g="There seems to be some sort of networking issue. Please check your Internet connection.",E;return{c(){p=Q("div"),p.textContent=g,this.h()},l(b){p=q(b,"DIV",{class:!0,"data-svelte-h":!0}),Ot(p)!=="svelte-1jfl9pw"&&(p.textContent=g),this.h()},h(){W(p,"class","text-warning mt-2")},m(b,R){dt(b,p,R)},i(b){b&&(E||Ye(()=>{E=je(p,Oi,{delay:1e4,duration:1e3,y:100}),E.start()}))},o:Qt,d(b){b&&K(p)}}}function dx(M){let p,g,E,b,R,c,y,t,o,v,s;const i=[fx,ux],n=[];function e(r,l){return r[1]?0:1}return t=e(M),o=n[t]=i[t](M),{c(){p=Q("link"),g=Q("link"),E=Q("link"),b=Q("meta"),R=Q("meta"),c=Q("meta"),y=lt(),o.c(),v=Le(),this.h()},l(r){const l=df("svelte-1cdnkvn",document.head);p=q(l,"LINK",{rel:!0,href:!0}),g=q(l,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),E=q(l,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),b=q(l,"META",{name:!0,content:!0}),R=q(l,"META",{name:!0,content:!0}),c=q(l,"META",{name:!0,content:!0}),l.forEach(K),y=ht(r),o.l(r),v=Le(),this.h()},h(){document.title="🔴 Forsen is live!",W(p,"rel","icon"),W(p,"href","favicon.ico"),W(g,"rel","preload"),W(g,"href","/css/pricedown.otf"),W(g,"as","font"),W(g,"type","font/otf"),W(g,"crossorigin","anonymous"),W(E,"rel","preload"),W(E,"href","/css/ds-digit.ttf"),W(E,"as","font"),W(E,"type","font/ttf"),W(E,"crossorigin","anonymous"),W(b,"name","viewport"),W(b,"content","width=device-width, initial-scale=1, shrink-to-fit=no"),W(R,"name","description"),W(R,"content","A game where you try to be Forsen, and also to stay sane"),W(c,"name","keywords"),W(c,"content","forsen, chat, twitch, stream, game, mods, ban, title, games, rage, insane, permaban")},m(r,l){V(document.head,p),V(document.head,g),V(document.head,E),V(document.head,b),V(document.head,R),V(document.head,c),dt(r,y,l),n[t].m(r,l),dt(r,v,l),s=!0},p(r,[l]){let a=t;t=e(r),t===a?n[t].p(r,l):(Ie(),Mt(n[a],1,1,()=>{n[a]=null}),Be(),o=n[t],o?o.p(r,l):(o=n[t]=i[t](r),o.c()),Tt(o,1),o.m(v.parentNode,v))},i(r){s||(Tt(o),s=!0)},o(r){Mt(o),s=!1},d(r){r&&(K(y),K(v)),K(p),K(g),K(E),K(b),K(R),K(c),n[t].d(r)}}}function cx(M,p,g){let E,b;We(M,Oa,t=>g(4,E=t));let R=!1,c=!1;const y=xe.mountedComponent;return We(M,y,t=>g(2,b=t)),ti(()=>{g(0,R=E.valid),Promise.all([yf(),Tf()]).then(()=>{g(1,c=!0)})}),[R,c,b,y]}class Ex extends Ee{constructor(p){super(),Ce(this,p,cx,dx,Se,{})}}export{Ex as component,Tx as universal};
